
> darkstar-sandbox@2.1.1 lint /home/s/sync/documents/projects/darkstar/frontend
> eslint . --report-unused-disable-directives --max-warnings 0


/home/s/sync/documents/projects/darkstar/frontend/src/components/ActivityLog.tsx
  2:90  warning  'Battery' is defined but never used       @typescript-eslint/no-unused-vars
  8:30  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/components/ChartCard.tsx
   81:44  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
   82:36  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
   83:44  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
  317:10  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
  320:7   warning  'fallbackData' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              @typescript-eslint/no-unused-vars
  349:24  warning  'setCurrentDay' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             @typescript-eslint/no-unused-vars
  354:12  warning  'currentTheme' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              @typescript-eslint/no-unused-vars
  397:8   warning  React Hook useEffect has a missing dependency: 'overlays.socActual'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          react-hooks/exhaustive-deps
  447:43  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
  464:13  error    Error: Cannot access variable before it is declared

`setHasNoDataMessage` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/home/s/sync/documents/projects/darkstar/frontend/src/components/ChartCard.tsx:464:13
  462 |             const liveData = buildLiveData(slots, currentDay, rangeState, themeColors)
  463 |             if (!liveData) return
> 464 |             setHasNoDataMessage(liveData.hasNoData ?? false)
      |             ^^^^^^^^^^^^^^^^^^^ `setHasNoDataMessage` accessed before it is declared
  465 |             const ds = liveData.datasets
  466 |             if (ds[0]) ds[0].hidden = !overlays.price
  467 |             if (ds[1]) ds[1].hidden = !overlays.pv

/home/s/sync/documents/projects/darkstar/frontend/src/components/ChartCard.tsx:524:30
  522 |     }, [currentDay, overlays, themeColors, rangeState, refreshToken, slotsOverride, useHistoryForToday])
  523 |
> 524 |     const [hasNoDataMessage, setHasNoDataMessage] = useState(false)
      |                              ^^^^^^^^^^^^^^^^^^^ `setHasNoDataMessage` is declared here
  525 |
  526 |     return (
  527 |         <Card className="p-4 md:p-6 h-[380px]">  react-hooks/immutability
  478:41  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
  494:43  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
  718:41  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
  719:41  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
  857:41  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
  858:41  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any
  935:54  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/components/CommandDomains.tsx
  11:5  warning  'Settings' is defined but never used  @typescript-eslint/no-unused-vars

/home/s/sync/documents/projects/darkstar/frontend/src/components/CorrectionHistoryChart.tsx
  47:36  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  52:36  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/components/DecompositionChart.tsx
   55:44  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  115:36  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/components/EntitySelect.tsx
  70:9  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/home/s/sync/documents/projects/darkstar/frontend/src/components/EntitySelect.tsx:70:9
  68 |     // Reset highlight when filtered list changes
  69 |     useEffect(() => {
> 70 |         setHighlightIndex(0)
     |         ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  71 |     }, [filtered.length])
  72 |
  73 |     // Close on outside click  react-hooks/set-state-in-effect

/home/s/sync/documents/projects/darkstar/frontend/src/components/ServiceSelect.tsx
  34:13  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/home/s/sync/documents/projects/darkstar/frontend/src/components/ServiceSelect.tsx:34:13
  32 |     useEffect(() => {
  33 |         if (open && services.length === 0 && !loading) {
> 34 |             setLoading(true)
     |             ^^^^^^^^^^ Avoid calling setState() directly within an effect
  35 |             Api.haServices()
  36 |                 .then((res) => {
  37 |                     setServices(res.services || [])  react-hooks/set-state-in-effect
  75:9   error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/home/s/sync/documents/projects/darkstar/frontend/src/components/ServiceSelect.tsx:75:9
  73 |     // Reset highlight when filtered list changes
  74 |     useEffect(() => {
> 75 |         setHighlightIndex(0)
     |         ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  76 |     }, [filtered.length])
  77 |
  78 |     // Close on outside click                                                                 react-hooks/set-state-in-effect

/home/s/sync/documents/projects/darkstar/frontend/src/components/Sidebar.tsx
  2:17  warning  'BookOpenCheck' is defined but never used  @typescript-eslint/no-unused-vars
  8:72  warning  Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/components/SmartAdvisor.tsx
   20:25  warning  Unexpected any. Specify a different type                                                                        @typescript-eslint/no-explicit-any
   68:8   warning  React Hook useEffect has a missing dependency: 'fetchAdvice'. Either include it or remove the dependency array  react-hooks/exhaustive-deps
  136:52  warning  Unexpected any. Specify a different type                                                                        @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/components/ui/Select.tsx
    1:48  warning  'ReactNode' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          @typescript-eslint/no-unused-vars
   81:9   error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/home/s/sync/documents/projects/darkstar/frontend/src/components/ui/Select.tsx:81:9
  79 |     // Reset highlight on change
  80 |     useEffect(() => {
> 81 |         setHighlightIndex(0)
     |         ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  82 |     }, [filtered.length, open])
  83 |
  84 |     // Click outside  react-hooks/set-state-in-effect
  200:63  warning  'i' is defined but never used. Allowed unused args must match /^_/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @typescript-eslint/no-unused-vars

/home/s/sync/documents/projects/darkstar/frontend/src/components/ui/Toast.tsx
  81:17  warning  Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components  react-refresh/only-export-components

/home/s/sync/documents/projects/darkstar/frontend/src/lib/api.ts
    3:72  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
    4:69  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   22:24  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   32:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   40:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   46:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   71:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  119:24  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  121:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  153:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  157:55  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  158:51  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  159:49  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  160:54  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  161:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  173:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  191:13  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  196:38  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  197:20  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  202:12  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  231:91  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  255:42  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  267:80  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  278:31  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  296:33  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  297:45  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  310:44  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  313:31  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  314:28  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  329:48  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  331:25  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  332:34  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/lib/hooks.ts
  4:59  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/lib/types.ts
  41:26  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  97:30  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/pages/Aurora.tsx
    2:51  warning  'Shield' is defined but never used                      @typescript-eslint/no-unused-vars
   34:12  warning  'briefingUpdatedAt' is assigned a value but never used  @typescript-eslint/no-unused-vars
   38:12  warning  'savingRisk' is assigned a value but never used         @typescript-eslint/no-unused-vars
   42:12  warning  'riskStatus' is assigned a value but never used         @typescript-eslint/no-unused-vars
   52:46  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   53:12  warning  'perfLoading' is assigned a value but never used        @typescript-eslint/no-unused-vars
   60:52  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   65:46  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  181:11  warning  'riskLabel' is assigned a value but never used          @typescript-eslint/no-unused-vars
  188:11  warning  'graduationRuns' is assigned a value but never used     @typescript-eslint/no-unused-vars
  215:55  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  224:55  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  239:50  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  243:56  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  249:56  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  250:67  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  259:11  warning  'sliderSteps' is assigned a value but never used        @typescript-eslint/no-unused-vars
  260:11  warning  'riskLabels' is assigned a value but never used         @typescript-eslint/no-unused-vars
  261:11  warning  'riskDescriptions' is assigned a value but never used   @typescript-eslint/no-unused-vars
  799:72  warning  Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/pages/Dashboard.tsx
   14:69  warning  Unexpected any. Specify a different type                    @typescript-eslint/no-explicit-any
   28:12  warning  'horizon' is assigned a value but never used                @typescript-eslint/no-unused-vars
   33:12  warning  'batteryCapacity' is assigned a value but never used        @typescript-eslint/no-unused-vars
   34:12  warning  'pvToday' is assigned a value but never used                @typescript-eslint/no-unused-vars
   43:12  warning  'learningStatus' is assigned a value but never used         @typescript-eslint/no-unused-vars
   48:12  warning  'exportGuard' is assigned a value but never used            @typescript-eslint/no-unused-vars
   50:12  warning  'serverScheduleLoading' is assigned a value but never used  @typescript-eslint/no-unused-vars
   51:12  warning  'serverScheduleError' is assigned a value but never used    @typescript-eslint/no-unused-vars
  148:49  warning  Unexpected any. Specify a different type                    @typescript-eslint/no-explicit-any
  149:45  warning  Unexpected any. Specify a different type                    @typescript-eslint/no-explicit-any
  156:42  warning  Unexpected any. Specify a different type                    @typescript-eslint/no-explicit-any
  160:45  warning  Unexpected any. Specify a different type                    @typescript-eslint/no-explicit-any
  161:39  warning  Unexpected any. Specify a different type                    @typescript-eslint/no-explicit-any
  222:77  warning  Unexpected any. Specify a different type                    @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/pages/Debug.tsx
  147:48  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  155:27  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/home/s/sync/documents/projects/darkstar/frontend/src/pages/Executor.tsx
  410:22  warning  'e' is defined but never used  @typescript-eslint/no-unused-vars
  423:22  warning  'e' is defined but never used  @typescript-eslint/no-unused-vars

✖ 109 problems (5 errors, 104 warnings)

 ELIFECYCLE  Command failed with exit code 1.
