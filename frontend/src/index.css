@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   THEME SYSTEM: CSS Custom Properties
   Using RGB format for Tailwind opacity support
   ============================================ */

/* Light mode (default) */
:root {
    --color-canvas: 255 255 255;
    --color-surface: 248 249 251;
    --color-surface2: 240 242 245;
    --color-line: 224 228 234;
    --color-text: 26 29 35;
    --color-muted: 107 114 128;
    --color-accent: 212 160 23;
    --color-accent2: 184 134 11;
    --color-good: 22 163 74;
    --color-warn: 202 138 4;
    --color-bad: 220 38 38;
    --shadow-float: 0 8px 30px rgba(0,0,0,0.12);
    --shadow-inset1: inset 0 0 0 1px rgba(0,0,0,0.04);
    --ring: 0 0% 0%;
}

/* Dark mode */
.dark {
    --color-canvas: 15 18 22;
    --color-surface: 20 25 31;
    --color-surface2: 24 30 37;
    --color-line: 36 43 52;
    --color-text: 230 233 239;
    --color-muted: 166 176 191;
    --color-accent: 245 213 71;
    --color-accent2: 255 224 102;
    --color-good: 135 240 163;
    --color-warn: 255 217 102;
    --color-bad: 255 122 122;
    --shadow-float: 0 8px 30px rgba(0,0,0,0.35);
    --shadow-inset1: inset 0 0 0 1px rgba(255,255,255,0.04);
    --ring: 0 0% 100%;
}

/* ============================================
   BASE STYLES
   ============================================ */

body {
    background-color: rgb(var(--color-canvas));
    color: rgb(var(--color-text));
}

/* Subtle grain / vignette for premium feel - dark mode only */
.dark body::before {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    background:
        radial-gradient(1200px 600px at 80% -10%, rgba(255, 255, 255, 0.05), transparent 60%),
        radial-gradient(1200px 600px at 10% 110%, rgba(255, 255, 255, 0.05), transparent 60%);
}

/* Light mode subtle gradient */
:root body::before {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    background:
        radial-gradient(1200px 600px at 80% -10%, rgba(0, 0, 0, 0.02), transparent 60%),
        radial-gradient(1200px 600px at 10% 110%, rgba(0, 0, 0, 0.02), transparent 60%);
}

/* Soft ambient glow for active level buttons */
.soft-glow {
    position: relative;
}

.soft-glow::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: currentColor;
    opacity: 0.15;
    filter: blur(6px);
    z-index: -1;
}

/* ============================================
   PLANNING TIMELINE STYLES
   ============================================ */

.ds-timeline-item {
    border-radius: 12px !important;
    border: none !important;
    opacity: 0.9;
}

.ds-timeline-item-selected {
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.7) !important;
    opacity: 1 !important;
}

.ds-timeline-item-historical {
    opacity: 0.4 !important;
    filter: grayscale(0.3);
}

.ds-timeline-now-marker {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 0;
    border-left: 2px solid rgba(245, 213, 71, 0.9);
    pointer-events: none;
    z-index: 60;
}

/* ============================================
   REACT CALENDAR TIMELINE THEMING
   ============================================ */

.react-calendar-timeline .rct-header-root {
    background: transparent !important;
    border-bottom: none !important;
}

.react-calendar-timeline .rct-calendar-header {
    background: transparent !important;
    border: none !important;
}

.react-calendar-timeline .rct-dateHeader-primary {
    display: none !important;
}

.react-calendar-timeline .rct-dateHeader {
    background-color: transparent !important;
    border-bottom: 1px solid rgba(var(--color-line), 0.5) !important;
    border-left: 1px solid rgba(var(--color-line), 0.5) !important;
    border-right: none !important;
    border-top: none !important;
    color: rgb(var(--color-muted)) !important;
    font-size: 11px !important;
}

.react-calendar-timeline .rct-vertical-lines .rct-vl {
    border-left-color: rgba(var(--color-line), 0.3) !important;
    background: transparent !important;
}

.react-calendar-timeline .rct-vertical-lines .rct-vl.rct-vl-weekend {
    background: transparent !important;
}

.react-calendar-timeline .rct-horizontal-lines .rct-hl-odd,
.react-calendar-timeline .rct-horizontal-lines .rct-hl-even {
    background: transparent !important;
    border-bottom-color: rgba(var(--color-line), 0.3) !important;
}

.react-calendar-timeline .rct-sidebar {
    border-right-color: rgba(var(--color-line), 0.5) !important;
}

.react-calendar-timeline .rct-sidebar .rct-sidebar-row {
    background: transparent !important;
    border-bottom-color: rgba(var(--color-line), 0.5) !important;
}

/* ============================================
   TIMELINE ITEM COLORS
   ============================================ */

.ds-timeline-battery {
    background-color: #AAB6C4 !important;
}

.ds-timeline-water {
    background-color: #FF7A7A !important;
}

.ds-timeline-export {
    background-color: #9BF6A3 !important;
}

.ds-timeline-hold {
    background-color: #FFD966 !important;
}

/* ============================================
   CUSTOM SCROLLBAR
   ============================================ */

.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgb(var(--color-line));
    border-radius: 9999px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--color-muted));
}

/* Firefox support */
.custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--color-line)) transparent;
}