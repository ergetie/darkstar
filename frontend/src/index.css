@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   THEME SYSTEM: CSS Custom Properties
   ============================================ */

/* Light mode (default) */
:root {
    --color-canvas: #ffffff;
    --color-surface: #f8f9fb;
    --color-surface2: #f0f2f5;
    --color-line: #e0e4ea;
    --color-text: #1a1d23;
    --color-muted: #6b7280;
    --color-accent: #d4a017;
    --color-accent2: #b8860b;
    --color-good: #16a34a;
    --color-warn: #ca8a04;
    --color-bad: #dc2626;
    --shadow-float: 0 8px 30px rgba(0,0,0,0.12);
    --shadow-inset1: inset 0 0 0 1px rgba(0,0,0,0.04);
    --ring: 0 0% 0%;
}

/* Dark mode */
.dark {
    --color-canvas: #0f1216;
    --color-surface: #14191f;
    --color-surface2: #181e25;
    --color-line: #242b34;
    --color-text: #e6e9ef;
    --color-muted: #a6b0bf;
    --color-accent: #F5D547;
    --color-accent2: #ffe066;
    --color-good: #87F0A3;
    --color-warn: #FFD966;
    --color-bad: #FF7A7A;
    --shadow-float: 0 8px 30px rgba(0,0,0,0.35);
    --shadow-inset1: inset 0 0 0 1px rgba(255,255,255,0.04);
    --ring: 0 0% 100%;
}

/* ============================================
   BASE STYLES
   ============================================ */

body {
    background-color: var(--color-canvas);
    color: var(--color-text);
}

/* Subtle grain / vignette for premium feel - dark mode only */
.dark body::before {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    background:
        radial-gradient(1200px 600px at 80% -10%, rgba(255, 255, 255, 0.05), transparent 60%),
        radial-gradient(1200px 600px at 10% 110%, rgba(255, 255, 255, 0.05), transparent 60%);
}

/* Light mode subtle gradient */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    background:
        radial-gradient(1200px 600px at 80% -10%, rgba(0, 0, 0, 0.02), transparent 60%),
        radial-gradient(1200px 600px at 10% 110%, rgba(0, 0, 0, 0.02), transparent 60%);
}

/* Soft ambient glow for active level buttons */
.soft-glow {
    position: relative;
}

.soft-glow::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: currentColor;
    opacity: 0.15;
    filter: blur(6px);
    z-index: -1;
}

/* ============================================
   PLANNING TIMELINE STYLES
   ============================================ */

.ds-timeline-item {
    border-radius: 12px !important;
    border: none !important;
    opacity: 0.9;
}

.ds-timeline-item-selected {
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.7) !important;
    opacity: 1 !important;
}

.ds-timeline-item-historical {
    opacity: 0.4 !important;
    filter: grayscale(0.3);
}

.ds-timeline-now-marker {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 0;
    border-left: 2px solid rgba(245, 213, 71, 0.9);
    pointer-events: none;
    z-index: 60;
}

/* ============================================
   REACT CALENDAR TIMELINE THEMING
   ============================================ */

.react-calendar-timeline .rct-header-root {
    background: transparent !important;
    border-bottom: none !important;
}

.react-calendar-timeline .rct-calendar-header {
    background: transparent !important;
    border: none !important;
}

.react-calendar-timeline .rct-dateHeader-primary {
    display: none !important;
}

.react-calendar-timeline .rct-dateHeader {
    background-color: transparent !important;
    border-bottom: 1px solid var(--color-line) !important;
    border-left: 1px solid var(--color-line) !important;
    border-right: none !important;
    border-top: none !important;
    color: var(--color-muted) !important;
    font-size: 11px !important;
}

.react-calendar-timeline .rct-vertical-lines .rct-vl {
    border-left-color: var(--color-line) !important;
    background: transparent !important;
}

.react-calendar-timeline .rct-vertical-lines .rct-vl.rct-vl-weekend {
    background: transparent !important;
}

.react-calendar-timeline .rct-horizontal-lines .rct-hl-odd,
.react-calendar-timeline .rct-horizontal-lines .rct-hl-even {
    background: transparent !important;
    border-bottom-color: var(--color-line) !important;
}

.react-calendar-timeline .rct-sidebar {
    border-right-color: var(--color-line) !important;
}

.react-calendar-timeline .rct-sidebar .rct-sidebar-row {
    background: transparent !important;
    border-bottom-color: var(--color-line) !important;
}

/* ============================================
   TIMELINE ITEM COLORS
   ============================================ */

.ds-timeline-battery {
    background-color: #AAB6C4 !important;
}

.ds-timeline-water {
    background-color: #FF7A7A !important;
}

.ds-timeline-export {
    background-color: #9BF6A3 !important;
}

.ds-timeline-hold {
    background-color: #FFD966 !important;
}

/* ============================================
   CUSTOM SCROLLBAR
   ============================================ */

.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--color-line);
    border-radius: 9999px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--color-muted);
}

/* Firefox support */
.custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--color-line) transparent;
}