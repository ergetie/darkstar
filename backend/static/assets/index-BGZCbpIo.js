var A5=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nF=A5((cF,Ld)=>{function E5(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Iw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sp={exports:{}},wl={};var y1;function O5(){if(y1)return wl;y1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:t,type:s,key:l,ref:a!==void 0?a:null,props:o}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var b1;function R5(){return b1||(b1=1,sp.exports=O5()),sp.exports}var d=R5(),ip={exports:{}},je={};var v1;function L5(){if(v1)return je;v1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function N(L,U,J){this.props=L,this.context=U,this.refs=j,this.updater=J||w}N.prototype.isReactComponent={},N.prototype.setState=function(L,U){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,U,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function T(){}T.prototype=N.prototype;function A(L,U,J){this.props=L,this.context=U,this.refs=j,this.updater=J||w}var C=A.prototype=new T;C.constructor=A,S(C,N.prototype),C.isPureReactComponent=!0;var R=Array.isArray;function D(){}var E={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function V(L,U,J){var O=J.ref;return{$$typeof:t,type:L,key:U,ref:O!==void 0?O:null,props:J}}function X(L,U){return V(L.type,U,L.props)}function G(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function ne(L){var U={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(J){return U[J]})}var pe=/\/+/g;function re(L,U){return typeof L=="object"&&L!==null&&L.key!=null?ne(""+L.key):U.toString(36)}function ue(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(D,D):(L.status="pending",L.then(function(U){L.status==="pending"&&(L.status="fulfilled",L.value=U)},function(U){L.status==="pending"&&(L.status="rejected",L.reason=U)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function H(L,U,J,O,ee){var ce=typeof L;(ce==="undefined"||ce==="boolean")&&(L=null);var Te=!1;if(L===null)Te=!0;else switch(ce){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(L.$$typeof){case t:case e:Te=!0;break;case p:return Te=L._init,H(Te(L._payload),U,J,O,ee)}}if(Te)return ee=ee(L),Te=O===""?"."+re(L,0):O,R(ee)?(J="",Te!=null&&(J=Te.replace(pe,"$&/")+"/"),H(ee,U,J,"",function(wn){return wn})):ee!=null&&(G(ee)&&(ee=X(ee,J+(ee.key==null||L&&L.key===ee.key?"":(""+ee.key).replace(pe,"$&/")+"/")+Te)),U.push(ee)),1;Te=0;var yt=O===""?".":O+":";if(R(L))for(var $e=0;$e<L.length;$e++)O=L[$e],ce=yt+re(O,$e),Te+=H(O,U,J,ce,ee);else if($e=v(L),typeof $e=="function")for(L=$e.call(L),$e=0;!(O=L.next()).done;)O=O.value,ce=yt+re(O,$e++),Te+=H(O,U,J,ce,ee);else if(ce==="object"){if(typeof L.then=="function")return H(ue(L),U,J,O,ee);throw U=String(L),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Te}function $(L,U,J){if(L==null)return L;var O=[],ee=0;return H(L,O,"","",function(ce){return U.call(J,ce,ee++)}),O}function ie(L){if(L._status===-1){var U=L._result;U=U(),U.then(function(J){(L._status===0||L._status===-1)&&(L._status=1,L._result=J)},function(J){(L._status===0||L._status===-1)&&(L._status=2,L._result=J)}),L._status===-1&&(L._status=0,L._result=U)}if(L._status===1)return L._result.default;throw L._result}var te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},le={map:$,forEach:function(L,U,J){$(L,function(){U.apply(this,arguments)},J)},count:function(L){var U=0;return $(L,function(){U++}),U},toArray:function(L){return $(L,function(U){return U})||[]},only:function(L){if(!G(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return je.Activity=x,je.Children=le,je.Component=N,je.Fragment=n,je.Profiler=a,je.PureComponent=A,je.StrictMode=s,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,je.__COMPILER_RUNTIME={__proto__:null,c:function(L){return E.H.useMemoCache(L)}},je.cache=function(L){return function(){return L.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(L,U,J){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var O=S({},L.props),ee=L.key;if(U!=null)for(ce in U.key!==void 0&&(ee=""+U.key),U)!z.call(U,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&U.ref===void 0||(O[ce]=U[ce]);var ce=arguments.length-2;if(ce===1)O.children=J;else if(1<ce){for(var Te=Array(ce),yt=0;yt<ce;yt++)Te[yt]=arguments[yt+2];O.children=Te}return V(L.type,ee,O)},je.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},je.createElement=function(L,U,J){var O,ee={},ce=null;if(U!=null)for(O in U.key!==void 0&&(ce=""+U.key),U)z.call(U,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(ee[O]=U[O]);var Te=arguments.length-2;if(Te===1)ee.children=J;else if(1<Te){for(var yt=Array(Te),$e=0;$e<Te;$e++)yt[$e]=arguments[$e+2];ee.children=yt}if(L&&L.defaultProps)for(O in Te=L.defaultProps,Te)ee[O]===void 0&&(ee[O]=Te[O]);return V(L,ce,ee)},je.createRef=function(){return{current:null}},je.forwardRef=function(L){return{$$typeof:u,render:L}},je.isValidElement=G,je.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:ie}},je.memo=function(L,U){return{$$typeof:m,type:L,compare:U===void 0?null:U}},je.startTransition=function(L){var U=E.T,J={};E.T=J;try{var O=L(),ee=E.S;ee!==null&&ee(J,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(D,te)}catch(ce){te(ce)}finally{U!==null&&J.types!==null&&(U.types=J.types),E.T=U}},je.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},je.use=function(L){return E.H.use(L)},je.useActionState=function(L,U,J){return E.H.useActionState(L,U,J)},je.useCallback=function(L,U){return E.H.useCallback(L,U)},je.useContext=function(L){return E.H.useContext(L)},je.useDebugValue=function(){},je.useDeferredValue=function(L,U){return E.H.useDeferredValue(L,U)},je.useEffect=function(L,U){return E.H.useEffect(L,U)},je.useEffectEvent=function(L){return E.H.useEffectEvent(L)},je.useId=function(){return E.H.useId()},je.useImperativeHandle=function(L,U,J){return E.H.useImperativeHandle(L,U,J)},je.useInsertionEffect=function(L,U){return E.H.useInsertionEffect(L,U)},je.useLayoutEffect=function(L,U){return E.H.useLayoutEffect(L,U)},je.useMemo=function(L,U){return E.H.useMemo(L,U)},je.useOptimistic=function(L,U){return E.H.useOptimistic(L,U)},je.useReducer=function(L,U,J){return E.H.useReducer(L,U,J)},je.useRef=function(L){return E.H.useRef(L)},je.useState=function(L){return E.H.useState(L)},je.useSyncExternalStore=function(L,U,J){return E.H.useSyncExternalStore(L,U,J)},je.useTransition=function(){return E.H.useTransition()},je.version="19.2.3",je}var _1;function Wg(){return _1||(_1=1,ip.exports=L5()),ip.exports}var k=Wg();const qw=Iw(k),z5=E5({__proto__:null,default:qw},[k]);var ap={exports:{}},Sl={},rp={exports:{}},op={};var w1;function P5(){return w1||(w1=1,(function(t){function e(H,$){var ie=H.length;H.push($);e:for(;0<ie;){var te=ie-1>>>1,le=H[te];if(0<a(le,$))H[te]=$,H[ie]=le,ie=te;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var $=H[0],ie=H.pop();if(ie!==$){H[0]=ie;e:for(var te=0,le=H.length,L=le>>>1;te<L;){var U=2*(te+1)-1,J=H[U],O=U+1,ee=H[O];if(0>a(J,ie))O<le&&0>a(ee,J)?(H[te]=ee,H[O]=ie,te=O):(H[te]=J,H[U]=ie,te=U);else if(O<le&&0>a(ee,ie))H[te]=ee,H[O]=ie,te=O;else break e}}return $}function a(H,$){var ie=H.sortIndex-$.sortIndex;return ie!==0?ie:H.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],m=[],p=1,x=null,b=3,v=!1,w=!1,S=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var $=n(m);$!==null;){if($.callback===null)s(m);else if($.startTime<=H)s(m),$.sortIndex=$.expirationTime,e(f,$);else break;$=n(m)}}function R(H){if(S=!1,C(H),!w)if(n(f)!==null)w=!0,D||(D=!0,ne());else{var $=n(m);$!==null&&ue(R,$.startTime-H)}}var D=!1,E=-1,z=5,V=-1;function X(){return j?!0:!(t.unstable_now()-V<z)}function G(){if(j=!1,D){var H=t.unstable_now();V=H;var $=!0;try{e:{w=!1,S&&(S=!1,T(E),E=-1),v=!0;var ie=b;try{t:{for(C(H),x=n(f);x!==null&&!(x.expirationTime>H&&X());){var te=x.callback;if(typeof te=="function"){x.callback=null,b=x.priorityLevel;var le=te(x.expirationTime<=H);if(H=t.unstable_now(),typeof le=="function"){x.callback=le,C(H),$=!0;break t}x===n(f)&&s(f),C(H)}else s(f);x=n(f)}if(x!==null)$=!0;else{var L=n(m);L!==null&&ue(R,L.startTime-H),$=!1}}break e}finally{x=null,b=ie,v=!1}$=void 0}}finally{$?ne():D=!1}}}var ne;if(typeof A=="function")ne=function(){A(G)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,re=pe.port2;pe.port1.onmessage=G,ne=function(){re.postMessage(null)}}else ne=function(){N(G,0)};function ue(H,$){E=N(function(){H(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var ie=b;b=$;try{return H()}finally{b=ie}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=b;b=H;try{return $()}finally{b=ie}},t.unstable_scheduleCallback=function(H,$,ie){var te=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?te+ie:te):ie=te,H){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ie+le,H={id:p++,callback:$,priorityLevel:H,startTime:ie,expirationTime:le,sortIndex:-1},ie>te?(H.sortIndex=ie,e(m,H),n(f)===null&&H===n(m)&&(S?(T(E),E=-1):S=!0,ue(R,ie-te))):(H.sortIndex=le,e(f,H),w||v||(w=!0,D||(D=!0,ne()))),H},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(H){var $=b;return function(){var ie=b;b=$;try{return H.apply(this,arguments)}finally{b=ie}}}})(op)),op}var S1;function B5(){return S1||(S1=1,rp.exports=P5()),rp.exports}var lp={exports:{}},en={};var j1;function V5(){if(j1)return en;j1=1;var t=Wg();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,p)},en.flushSync=function(f){var m=l.T,p=s.p;try{if(l.T=null,s.p=2,f)return f()}finally{l.T=m,s.p=p,s.d.f()}},en.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},en.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},en.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,x=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:v}):p==="script"&&s.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},en.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},en.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,x=u(p,m.crossOrigin);s.d.L(f,p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},en.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=u(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},en.requestFormReset=function(f){s.d.r(f)},en.unstable_batchedUpdates=function(f,m){return f(m)},en.useFormState=function(f,m,p){return l.H.useFormState(f,m,p)},en.useFormStatus=function(){return l.H.useHostTransitionStatus()},en.version="19.2.3",en}var k1;function Gw(){if(k1)return lp.exports;k1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lp.exports=V5(),lp.exports}var N1;function F5(){if(N1)return Sl;N1=1;var t=B5(),e=Wg(),n=Gw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var r=i,c=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(c=r.return),i=r.return;while(i)}return r.tag===3?c:null}function l(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function u(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=o(i),r===null)throw Error(s(188));return r!==i?null:i}for(var c=i,h=r;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return f(g),i;if(y===h)return f(g),r;y=y.sibling}throw Error(s(188))}if(c.return!==h.return)c=g,h=y;else{for(var _=!1,M=g.child;M;){if(M===c){_=!0,c=g,h=y;break}if(M===h){_=!0,h=g,c=y;break}M=M.sibling}if(!_){for(M=y.child;M;){if(M===c){_=!0,c=y,h=g;break}if(M===h){_=!0,h=y,c=g;break}M=M.sibling}if(!_)throw Error(s(189))}}if(c.alternate!==h)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var pe=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===pe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case A:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case C:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case E:return r=i.displayName||null,r!==null?r:re(i.type)||"Memo";case z:r=i._payload,i=i._init;try{return re(i(r))}catch{}}return null}var ue=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},te=[],le=-1;function L(i){return{current:i}}function U(i){0>le||(i.current=te[le],te[le]=null,le--)}function J(i,r){le++,te[le]=i.current,i.current=r}var O=L(null),ee=L(null),ce=L(null),Te=L(null);function yt(i,r){switch(J(ce,r),J(ee,i),J(O,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Hv(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Hv(r),i=Uv(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(O),J(O,i)}function $e(){U(O),U(ee),U(ce)}function wn(i){i.memoizedState!==null&&J(Te,i);var r=O.current,c=Uv(r,i.type);r!==c&&(J(ee,i),J(O,c))}function Ln(i){ee.current===i&&(U(O),U(ee)),Te.current===i&&(U(Te),yl._currentValue=ie)}var he,Ke;function bt(i){if(he===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);he=r&&r[1]||"",Ke=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+i+Ke}var vi=!1;function ps(i,r){if(!i||vi)return"";vi=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var I=q}Reflect.construct(i,[],Q)}else{try{Q.call()}catch(q){I=q}i.call(Q.prototype)}}else{try{throw Error()}catch(q){I=q}(Q=i())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&I&&typeof q.stack=="string")return[q.stack,I.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),_=y[0],M=y[1];if(_&&M){var P=_.split(`
`),W=M.split(`
`);for(g=h=0;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(h===P.length||g===W.length)for(h=P.length-1,g=W.length-1;1<=h&&0<=g&&P[h]!==W[g];)g--;for(;1<=h&&0<=g;h--,g--)if(P[h]!==W[g]){if(h!==1||g!==1)do if(h--,g--,0>g||P[h]!==W[g]){var K=`
`+P[h].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=h&&0<=g);break}}}finally{vi=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?bt(c):""}function Ue(i,r){switch(i.tag){case 26:case 27:case 5:return bt(i.type);case 16:return bt("Lazy");case 13:return i.child!==r&&r!==null?bt("Suspense Fallback"):bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return ps(i.type,!1);case 11:return ps(i.type.render,!1);case 1:return ps(i.type,!0);case 31:return bt("Activity");default:return""}}function Kt(i){try{var r="",c=null;do r+=Ue(i,c),c=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var To=Object.prototype.hasOwnProperty,tr=t.unstable_scheduleCallback,nr=t.unstable_cancelCallback,gs=t.unstable_shouldYield,Ih=t.unstable_requestPaint,Zt=t.unstable_now,sr=t.unstable_getCurrentPriorityLevel,Do=t.unstable_ImmediatePriority,ts=t.unstable_UserBlockingPriority,ir=t.unstable_NormalPriority,qh=t.unstable_LowPriority,Rs=t.unstable_IdlePriority,Co=t.log,Pc=t.unstable_setDisableYieldValue,_i=null,cn=null;function ns(i){if(typeof Co=="function"&&Pc(i),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(_i,i)}catch{}}var Yt=Math.clz32?Math.clz32:oe,Bc=Math.log,Ao=Math.LN2;function oe(i){return i>>>=0,i===0?32:31-(Bc(i)/Ao|0)|0}var Ee=256,rt=262144,zt=4194304;function Sn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qt(i,r,c){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~y,h!==0?g=Sn(h):(_&=M,_!==0?g=Sn(_):c||(c=M&~i,c!==0&&(g=Sn(c))))):(M=h&~y,M!==0?g=Sn(M):_!==0?g=Sn(_):c||(c=h&~i,c!==0&&(g=Sn(c)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,c=r&-r,y>=c||y===32&&(c&4194048)!==0)?r:g}function un(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function xs(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(){var i=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),i}function ar(i){for(var r=[],c=0;31>c;c++)r.push(i);return r}function xe(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ss(i,r,c,h,g,y){var _=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var M=i.entanglements,P=i.expirationTimes,W=i.hiddenUpdates;for(c=_&~c;0<c;){var K=31-Yt(c),Q=1<<K;M[K]=0,P[K]=-1;var I=W[K];if(I!==null)for(W[K]=null,K=0;K<I.length;K++){var q=I[K];q!==null&&(q.lane&=-536870913)}c&=~Q}h!==0&&Jt(i,h,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(_&~r))}function Jt(i,r,c){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Yt(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function wi(i,r){var c=i.entangledLanes|=r;for(i=i.entanglements;c;){var h=31-Yt(c),g=1<<h;g&r|i[h]&r&&(i[h]|=r),c&=~g}}function Vc(i,r){var c=r&-r;return c=(c&42)!==0?1:rr(c),(c&(i.suspendedLanes|r))!==0?0:c}function rr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Eo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function N0(){var i=$.p;return i!==0?i:(i=window.event,i===void 0?32:d1(i.type))}function M0(i,r){var c=$.p;try{return $.p=i,r()}finally{$.p=c}}var Si=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Si,hn="__reactProps$"+Si,or="__reactContainer$"+Si,Gh="__reactEvents$"+Si,vM="__reactListeners$"+Si,_M="__reactHandles$"+Si,T0="__reactResources$"+Si,Oo="__reactMarker$"+Si;function $h(i){delete i[Wt],delete i[hn],delete i[Gh],delete i[vM],delete i[_M]}function lr(i){var r=i[Wt];if(r)return r;for(var c=i.parentNode;c;){if(r=c[or]||c[Wt]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(i=Xv(i);i!==null;){if(c=i[Wt])return c;i=Xv(i)}return r}i=c,c=i.parentNode}return null}function cr(i){if(i=i[Wt]||i[or]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Ro(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ur(i){var r=i[T0];return r||(r=i[T0]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ft(i){i[Oo]=!0}var D0=new Set,C0={};function ma(i,r){dr(i,r),dr(i+"Capture",r)}function dr(i,r){for(C0[i]=r,i=0;i<r.length;i++)D0.add(r[i])}var wM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),A0={},E0={};function SM(i){return To.call(E0,i)?!0:To.call(A0,i)?!1:wM.test(i)?E0[i]=!0:(A0[i]=!0,!1)}function Fc(i,r,c){if(SM(r))if(c===null)i.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+c)}}function Hc(i,r,c){if(c===null)i.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+c)}}function Ls(i,r,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(r,c,""+h)}}function zn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function O0(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jM(i,r,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(_){c=""+_,y.call(this,_)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xh(i){if(!i._valueTracker){var r=O0(i)?"checked":"value";i._valueTracker=jM(i,r,""+i[r])}}function R0(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var c=r.getValue(),h="";return i&&(h=O0(i)?i.checked?"true":"false":i.value),i=h,i!==c?(r.setValue(i),!0):!1}function Uc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var kM=/[\n"\\]/g;function Pn(i){return i.replace(kM,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Kh(i,r,c,h,g,y,_,M){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+zn(r)):i.value!==""+zn(r)&&(i.value=""+zn(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Zh(i,_,zn(r)):c!=null?Zh(i,_,zn(c)):h!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+zn(M):i.removeAttribute("name")}function L0(i,r,c,h,g,y,_,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Xh(i);return}c=c!=null?""+zn(c):"",r=r!=null?""+zn(r):c,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Xh(i)}function Zh(i,r,c){r==="number"&&Uc(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function hr(i,r,c,h){if(i=i.options,r){r={};for(var g=0;g<c.length;g++)r["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=r.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&h&&(i[c].defaultSelected=!0)}else{for(c=""+zn(c),r=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function z0(i,r,c){if(r!=null&&(r=""+zn(r),r!==i.value&&(i.value=r),c==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=c!=null?""+zn(c):""}function P0(i,r,c,h){if(r==null){if(h!=null){if(c!=null)throw Error(s(92));if(ue(h)){if(1<h.length)throw Error(s(93));h=h[0]}c=h}c==null&&(c=""),r=c}c=zn(r),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),Xh(i)}function fr(i,r){if(r){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=r;return}}i.textContent=r}var NM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function B0(i,r,c){var h=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,c):typeof c!="number"||c===0||NM.has(r)?r==="float"?i.cssFloat=c:i[r]=(""+c).trim():i[r]=c+"px"}function V0(i,r,c){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&c[g]!==h&&B0(i,g,h)}else for(var y in r)r.hasOwnProperty(y)&&B0(i,y,r[y])}function Qh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yc(i){return TM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function zs(){}var Jh=null;function ef(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var mr=null,pr=null;function F0(i){var r=cr(i);if(r&&(i=r.stateNode)){var c=i[hn]||null;e:switch(i=r.stateNode,r.type){case"input":if(Kh(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Pn(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var h=c[r];if(h!==i&&h.form===i.form){var g=h[hn]||null;if(!g)throw Error(s(90));Kh(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<c.length;r++)h=c[r],h.form===i.form&&R0(h)}break e;case"textarea":z0(i,c.value,c.defaultValue);break e;case"select":r=c.value,r!=null&&hr(i,!!c.multiple,r,!1)}}}var tf=!1;function H0(i,r,c){if(tf)return i(r,c);tf=!0;try{var h=i(r);return h}finally{if(tf=!1,(mr!==null||pr!==null)&&(Cu(),mr&&(r=mr,i=pr,pr=mr=null,F0(r),i)))for(r=0;r<i.length;r++)F0(i[r])}}function Lo(i,r){var c=i.stateNode;if(c===null)return null;var h=c[hn]||null;if(h===null)return null;c=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(s(231,r,typeof c));return c}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=!1;if(Ps)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){nf=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{nf=!1}var ji=null,sf=null,Wc=null;function U0(){if(Wc)return Wc;var i,r=sf,c=r.length,h,g="value"in ji?ji.value:ji.textContent,y=g.length;for(i=0;i<c&&r[i]===g[i];i++);var _=c-i;for(h=1;h<=_&&r[c-h]===g[y-h];h++);return Wc=g.slice(i,1<h?1-h:void 0)}function Ic(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function qc(){return!0}function Y0(){return!1}function fn(i){function r(c,h,g,y,_){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(c=i[M],this[M]=c?c(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qc:Y0,this.isPropagationStopped=Y0,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),r}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=fn(pa),Po=x({},pa,{view:0,detail:0}),DM=fn(Po),af,rf,Bo,$c=x({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Bo&&(Bo&&i.type==="mousemove"?(af=i.screenX-Bo.screenX,rf=i.screenY-Bo.screenY):rf=af=0,Bo=i),af)},movementY:function(i){return"movementY"in i?i.movementY:rf}}),W0=fn($c),CM=x({},$c,{dataTransfer:0}),AM=fn(CM),EM=x({},Po,{relatedTarget:0}),of=fn(EM),OM=x({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),RM=fn(OM),LM=x({},pa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zM=fn(LM),PM=x({},pa,{data:0}),I0=fn(PM),BM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HM(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=FM[i])?!!r[i]:!1}function lf(){return HM}var UM=x({},Po,{key:function(i){if(i.key){var r=BM[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ic(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?VM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(i){return i.type==="keypress"?Ic(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ic(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),YM=fn(UM),WM=x({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q0=fn(WM),IM=x({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),qM=fn(IM),GM=x({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),$M=fn(GM),XM=x({},$c,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),KM=fn(XM),ZM=x({},pa,{newState:0,oldState:0}),QM=fn(ZM),JM=[9,13,27,32],cf=Ps&&"CompositionEvent"in window,Vo=null;Ps&&"documentMode"in document&&(Vo=document.documentMode);var eT=Ps&&"TextEvent"in window&&!Vo,G0=Ps&&(!cf||Vo&&8<Vo&&11>=Vo),$0=" ",X0=!1;function K0(i,r){switch(i){case"keyup":return JM.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gr=!1;function tT(i,r){switch(i){case"compositionend":return Z0(r);case"keypress":return r.which!==32?null:(X0=!0,$0);case"textInput":return i=r.data,i===$0&&X0?null:i;default:return null}}function nT(i,r){if(gr)return i==="compositionend"||!cf&&K0(i,r)?(i=U0(),Wc=sf=ji=null,gr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return G0&&r.locale!=="ko"?null:r.data;default:return null}}var sT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!sT[i.type]:r==="textarea"}function J0(i,r,c,h){mr?pr?pr.push(h):pr=[h]:mr=h,r=Pu(r,"onChange"),0<r.length&&(c=new Gc("onChange","change",null,c,h),i.push({event:c,listeners:r}))}var Fo=null,Ho=null;function iT(i){Lv(i,0)}function Xc(i){var r=Ro(i);if(R0(r))return i}function ey(i,r){if(i==="change")return r}var ty=!1;if(Ps){var uf;if(Ps){var df="oninput"in document;if(!df){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),df=typeof ny.oninput=="function"}uf=df}else uf=!1;ty=uf&&(!document.documentMode||9<document.documentMode)}function sy(){Fo&&(Fo.detachEvent("onpropertychange",iy),Ho=Fo=null)}function iy(i){if(i.propertyName==="value"&&Xc(Ho)){var r=[];J0(r,Ho,i,ef(i)),H0(iT,r)}}function aT(i,r,c){i==="focusin"?(sy(),Fo=r,Ho=c,Fo.attachEvent("onpropertychange",iy)):i==="focusout"&&sy()}function rT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xc(Ho)}function oT(i,r){if(i==="click")return Xc(r)}function lT(i,r){if(i==="input"||i==="change")return Xc(r)}function cT(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var jn=typeof Object.is=="function"?Object.is:cT;function Uo(i,r){if(jn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var c=Object.keys(i),h=Object.keys(r);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!To.call(r,g)||!jn(i[g],r[g]))return!1}return!0}function ay(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ry(i,r){var c=ay(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=r&&h>=r)return{node:c,offset:r-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ay(c)}}function oy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?oy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ly(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Uc(i.document);r instanceof i.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)i=r.contentWindow;else break;r=Uc(i.document)}return r}function hf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var uT=Ps&&"documentMode"in document&&11>=document.documentMode,xr=null,ff=null,Yo=null,mf=!1;function cy(i,r,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;mf||xr==null||xr!==Uc(h)||(h=xr,"selectionStart"in h&&hf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Yo&&Uo(Yo,h)||(Yo=h,h=Pu(ff,"onSelect"),0<h.length&&(r=new Gc("onSelect","select",null,r,c),i.push({event:r,listeners:h}),r.target=xr)))}function ga(i,r){var c={};return c[i.toLowerCase()]=r.toLowerCase(),c["Webkit"+i]="webkit"+r,c["Moz"+i]="moz"+r,c}var yr={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},pf={},uy={};Ps&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function xa(i){if(pf[i])return pf[i];if(!yr[i])return i;var r=yr[i],c;for(c in r)if(r.hasOwnProperty(c)&&c in uy)return pf[i]=r[c];return i}var dy=xa("animationend"),hy=xa("animationiteration"),fy=xa("animationstart"),dT=xa("transitionrun"),hT=xa("transitionstart"),fT=xa("transitioncancel"),my=xa("transitionend"),py=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function is(i,r){py.set(i,r),ma(r,[i])}var Kc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],br=0,xf=0;function Zc(){for(var i=br,r=xf=br=0;r<i;){var c=Bn[r];Bn[r++]=null;var h=Bn[r];Bn[r++]=null;var g=Bn[r];Bn[r++]=null;var y=Bn[r];if(Bn[r++]=null,h!==null&&g!==null){var _=h.pending;_===null?g.next=g:(g.next=_.next,_.next=g),h.pending=g}y!==0&&gy(c,g,y)}}function Qc(i,r,c,h){Bn[br++]=i,Bn[br++]=r,Bn[br++]=c,Bn[br++]=h,xf|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function yf(i,r,c,h){return Qc(i,r,c,h),Jc(i)}function ya(i,r){return Qc(i,null,null,r),Jc(i)}function gy(i,r,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=i.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&r!==null&&(g=31-Yt(c),i=y.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=c|536870912),y):null}function Jc(i){if(50<dl)throw dl=0,Mm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var vr={};function mT(i,r,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,r,c,h){return new mT(i,r,c,h)}function bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bs(i,r){var c=i.alternate;return c===null?(c=kn(i.tag,r,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=r,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,r=i.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function xy(i,r){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,r=c.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function eu(i,r,c,h,g,y){var _=0;if(h=i,typeof i=="function")bf(i)&&(_=1);else if(typeof i=="string")_=b5(i,c,O.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=kn(31,c,r,g),i.elementType=V,i.lanes=y,i;case S:return ba(c.children,g,y,r);case j:_=8,g|=24;break;case N:return i=kn(12,c,r,g|2),i.elementType=N,i.lanes=y,i;case R:return i=kn(13,c,r,g),i.elementType=R,i.lanes=y,i;case D:return i=kn(19,c,r,g),i.elementType=D,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:_=10;break e;case T:_=9;break e;case C:_=11;break e;case E:_=14;break e;case z:_=16,h=null;break e}_=29,c=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=kn(_,c,r,g),r.elementType=i,r.type=h,r.lanes=y,r}function ba(i,r,c,h){return i=kn(7,i,h,r),i.lanes=c,i}function vf(i,r,c){return i=kn(6,i,null,r),i.lanes=c,i}function yy(i){var r=kn(18,null,null,0);return r.stateNode=i,r}function _f(i,r,c){return r=kn(4,i.children!==null?i.children:[],i.key,r),r.lanes=c,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var by=new WeakMap;function Vn(i,r){if(typeof i=="object"&&i!==null){var c=by.get(i);return c!==void 0?c:(r={value:i,source:r,stack:Kt(r)},by.set(i,r),r)}return{value:i,source:r,stack:Kt(r)}}var _r=[],wr=0,tu=null,Wo=0,Fn=[],Hn=0,ki=null,bs=1,vs="";function Vs(i,r){_r[wr++]=Wo,_r[wr++]=tu,tu=i,Wo=r}function vy(i,r,c){Fn[Hn++]=bs,Fn[Hn++]=vs,Fn[Hn++]=ki,ki=i;var h=bs;i=vs;var g=32-Yt(h)-1;h&=~(1<<g),c+=1;var y=32-Yt(r)+g;if(30<y){var _=g-g%5;y=(h&(1<<_)-1).toString(32),h>>=_,g-=_,bs=1<<32-Yt(r)+g|c<<g|h,vs=y+i}else bs=1<<y|c<<g|h,vs=i}function wf(i){i.return!==null&&(Vs(i,1),vy(i,1,0))}function Sf(i){for(;i===tu;)tu=_r[--wr],_r[wr]=null,Wo=_r[--wr],_r[wr]=null;for(;i===ki;)ki=Fn[--Hn],Fn[Hn]=null,vs=Fn[--Hn],Fn[Hn]=null,bs=Fn[--Hn],Fn[Hn]=null}function _y(i,r){Fn[Hn++]=bs,Fn[Hn++]=vs,Fn[Hn++]=ki,bs=r.id,vs=r.overflow,ki=i}var It=null,ot=null,Fe=!1,Ni=null,Un=!1,jf=Error(s(519));function Mi(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(Vn(r,i)),jf}function wy(i){var r=i.stateNode,c=i.type,h=i.memoizedProps;switch(r[Wt]=i,r[hn]=h,c){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(c=0;c<fl.length;c++)Re(fl[c],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Re("invalid",r),L0(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Re("invalid",r);break;case"textarea":Re("invalid",r),P0(r,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||h.suppressHydrationWarning===!0||Vv(r.textContent,c)?(h.popover!=null&&(Re("beforetoggle",r),Re("toggle",r)),h.onScroll!=null&&Re("scroll",r),h.onScrollEnd!=null&&Re("scrollend",r),h.onClick!=null&&(r.onclick=zs),r=!0):r=!1,r||Mi(i,!0)}function Sy(i){for(It=i.return;It;)switch(It.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:It=It.return}}function Sr(i){if(i!==It)return!1;if(!Fe)return Sy(i),Fe=!0,!1;var r=i.tag,c;if((c=r!==3&&r!==27)&&((c=r===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Um(i.type,i.memoizedProps)),c=!c),c&&ot&&Mi(i),Sy(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=$v(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=$v(i)}else r===27?(r=ot,Hi(i.type)?(i=Gm,Gm=null,ot=i):ot=r):ot=It?Wn(i.stateNode.nextSibling):null;return!0}function va(){ot=It=null,Fe=!1}function kf(){var i=Ni;return i!==null&&(xn===null?xn=i:xn.push.apply(xn,i),Ni=null),i}function Io(i){Ni===null?Ni=[i]:Ni.push(i)}var Nf=L(null),_a=null,Fs=null;function Ti(i,r,c){J(Nf,r._currentValue),r._currentValue=c}function Hs(i){i._currentValue=Nf.current,U(Nf)}function Mf(i,r,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===c)break;i=i.return}}function Tf(i,r,c,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var _=g.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=g;for(var P=0;P<r.length;P++)if(M.context===r[P]){y.lanes|=c,M=y.alternate,M!==null&&(M.lanes|=c),Mf(y.return,c,i),h||(_=null);break e}y=M.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(s(341));_.lanes|=c,y=_.alternate,y!==null&&(y.lanes|=c),Mf(_,c,i),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===i){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function jr(i,r,c,h){i=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var M=g.type;jn(g.pendingProps.value,_.value)||(i!==null?i.push(M):i=[M])}}else if(g===Te.current){if(_=g.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(yl):i=[yl])}g=g.return}i!==null&&Tf(r,i,c,h),r.flags|=262144}function nu(i){for(i=i.firstContext;i!==null;){if(!jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function wa(i){_a=i,Fs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function qt(i){return jy(_a,i)}function su(i,r){return _a===null&&wa(i),jy(i,r)}function jy(i,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},Fs===null){if(i===null)throw Error(s(308));Fs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Fs=Fs.next=r;return c}var pT=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(c){return c()})}},gT=t.unstable_scheduleCallback,xT=t.unstable_NormalPriority,At={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new pT,data:new Map,refCount:0}}function qo(i){i.refCount--,i.refCount===0&&gT(xT,function(){i.controller.abort()})}var Go=null,Cf=0,kr=0,Nr=null;function yT(i,r){if(Go===null){var c=Go=[];Cf=0,kr=Om(),Nr={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Cf++,r.then(ky,ky),r}function ky(){if(--Cf===0&&Go!==null){Nr!==null&&(Nr.status="fulfilled");var i=Go;Go=null,kr=0,Nr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function bT(i,r){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<c.length;g++)(0,c[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var Ny=H.S;H.S=function(i,r){cv=Zt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&yT(i,r),Ny!==null&&Ny(i,r)};var Sa=L(null);function Af(){var i=Sa.current;return i!==null?i:it.pooledCache}function iu(i,r){r===null?J(Sa,Sa.current):J(Sa,r.pool)}function My(){var i=Af();return i===null?null:{parent:At._currentValue,pool:i}}var Mr=Error(s(460)),Ef=Error(s(474)),au=Error(s(542)),ru={then:function(){}};function Ty(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Dy(i,r,c){switch(c=i[c],c===void 0?i.push(r):c!==r&&(r.then(zs,zs),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ay(i),i;default:if(typeof r.status=="string")r.then(zs,zs);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ay(i),i}throw ka=r,Mr}}function ja(i){try{var r=i._init;return r(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ka=c,Mr):c}}var ka=null;function Cy(){if(ka===null)throw Error(s(459));var i=ka;return ka=null,i}function Ay(i){if(i===Mr||i===au)throw Error(s(483))}var Tr=null,$o=0;function ou(i){var r=$o;return $o+=1,Tr===null&&(Tr=[]),Dy(Tr,i,r)}function Xo(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function lu(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ey(i){function r(F,B){if(i){var Y=F.deletions;Y===null?(F.deletions=[B],F.flags|=16):Y.push(B)}}function c(F,B){if(!i)return null;for(;B!==null;)r(F,B),B=B.sibling;return null}function h(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function g(F,B){return F=Bs(F,B),F.index=0,F.sibling=null,F}function y(F,B,Y){return F.index=Y,i?(Y=F.alternate,Y!==null?(Y=Y.index,Y<B?(F.flags|=67108866,B):Y):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function _(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function M(F,B,Y,Z){return B===null||B.tag!==6?(B=vf(Y,F.mode,Z),B.return=F,B):(B=g(B,Y),B.return=F,B)}function P(F,B,Y,Z){var ye=Y.type;return ye===S?K(F,B,Y.props.children,Z,Y.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===z&&ja(ye)===B.type)?(B=g(B,Y.props),Xo(B,Y),B.return=F,B):(B=eu(Y.type,Y.key,Y.props,null,F.mode,Z),Xo(B,Y),B.return=F,B)}function W(F,B,Y,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=_f(Y,F.mode,Z),B.return=F,B):(B=g(B,Y.children||[]),B.return=F,B)}function K(F,B,Y,Z,ye){return B===null||B.tag!==7?(B=ba(Y,F.mode,Z,ye),B.return=F,B):(B=g(B,Y),B.return=F,B)}function Q(F,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=vf(""+B,F.mode,Y),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return Y=eu(B.type,B.key,B.props,null,F.mode,Y),Xo(Y,B),Y.return=F,Y;case w:return B=_f(B,F.mode,Y),B.return=F,B;case z:return B=ja(B),Q(F,B,Y)}if(ue(B)||ne(B))return B=ba(B,F.mode,Y,null),B.return=F,B;if(typeof B.then=="function")return Q(F,ou(B),Y);if(B.$$typeof===A)return Q(F,su(F,B),Y);lu(F,B)}return null}function I(F,B,Y,Z){var ye=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ye!==null?null:M(F,B,""+Y,Z);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===ye?P(F,B,Y,Z):null;case w:return Y.key===ye?W(F,B,Y,Z):null;case z:return Y=ja(Y),I(F,B,Y,Z)}if(ue(Y)||ne(Y))return ye!==null?null:K(F,B,Y,Z,null);if(typeof Y.then=="function")return I(F,B,ou(Y),Z);if(Y.$$typeof===A)return I(F,B,su(F,Y),Z);lu(F,Y)}return null}function q(F,B,Y,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return F=F.get(Y)||null,M(B,F,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return F=F.get(Z.key===null?Y:Z.key)||null,P(B,F,Z,ye);case w:return F=F.get(Z.key===null?Y:Z.key)||null,W(B,F,Z,ye);case z:return Z=ja(Z),q(F,B,Y,Z,ye)}if(ue(Z)||ne(Z))return F=F.get(Y)||null,K(B,F,Z,ye,null);if(typeof Z.then=="function")return q(F,B,Y,ou(Z),ye);if(Z.$$typeof===A)return q(F,B,Y,su(B,Z),ye);lu(B,Z)}return null}function fe(F,B,Y,Z){for(var ye=null,Ye=null,ge=B,De=B=0,Pe=null;ge!==null&&De<Y.length;De++){ge.index>De?(Pe=ge,ge=null):Pe=ge.sibling;var We=I(F,ge,Y[De],Z);if(We===null){ge===null&&(ge=Pe);break}i&&ge&&We.alternate===null&&r(F,ge),B=y(We,B,De),Ye===null?ye=We:Ye.sibling=We,Ye=We,ge=Pe}if(De===Y.length)return c(F,ge),Fe&&Vs(F,De),ye;if(ge===null){for(;De<Y.length;De++)ge=Q(F,Y[De],Z),ge!==null&&(B=y(ge,B,De),Ye===null?ye=ge:Ye.sibling=ge,Ye=ge);return Fe&&Vs(F,De),ye}for(ge=h(ge);De<Y.length;De++)Pe=q(ge,F,De,Y[De],Z),Pe!==null&&(i&&Pe.alternate!==null&&ge.delete(Pe.key===null?De:Pe.key),B=y(Pe,B,De),Ye===null?ye=Pe:Ye.sibling=Pe,Ye=Pe);return i&&ge.forEach(function(qi){return r(F,qi)}),Fe&&Vs(F,De),ye}function _e(F,B,Y,Z){if(Y==null)throw Error(s(151));for(var ye=null,Ye=null,ge=B,De=B=0,Pe=null,We=Y.next();ge!==null&&!We.done;De++,We=Y.next()){ge.index>De?(Pe=ge,ge=null):Pe=ge.sibling;var qi=I(F,ge,We.value,Z);if(qi===null){ge===null&&(ge=Pe);break}i&&ge&&qi.alternate===null&&r(F,ge),B=y(qi,B,De),Ye===null?ye=qi:Ye.sibling=qi,Ye=qi,ge=Pe}if(We.done)return c(F,ge),Fe&&Vs(F,De),ye;if(ge===null){for(;!We.done;De++,We=Y.next())We=Q(F,We.value,Z),We!==null&&(B=y(We,B,De),Ye===null?ye=We:Ye.sibling=We,Ye=We);return Fe&&Vs(F,De),ye}for(ge=h(ge);!We.done;De++,We=Y.next())We=q(ge,F,De,We.value,Z),We!==null&&(i&&We.alternate!==null&&ge.delete(We.key===null?De:We.key),B=y(We,B,De),Ye===null?ye=We:Ye.sibling=We,Ye=We);return i&&ge.forEach(function(C5){return r(F,C5)}),Fe&&Vs(F,De),ye}function nt(F,B,Y,Z){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var ye=Y.key;B!==null;){if(B.key===ye){if(ye=Y.type,ye===S){if(B.tag===7){c(F,B.sibling),Z=g(B,Y.props.children),Z.return=F,F=Z;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===z&&ja(ye)===B.type){c(F,B.sibling),Z=g(B,Y.props),Xo(Z,Y),Z.return=F,F=Z;break e}c(F,B);break}else r(F,B);B=B.sibling}Y.type===S?(Z=ba(Y.props.children,F.mode,Z,Y.key),Z.return=F,F=Z):(Z=eu(Y.type,Y.key,Y.props,null,F.mode,Z),Xo(Z,Y),Z.return=F,F=Z)}return _(F);case w:e:{for(ye=Y.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){c(F,B.sibling),Z=g(B,Y.children||[]),Z.return=F,F=Z;break e}else{c(F,B);break}else r(F,B);B=B.sibling}Z=_f(Y,F.mode,Z),Z.return=F,F=Z}return _(F);case z:return Y=ja(Y),nt(F,B,Y,Z)}if(ue(Y))return fe(F,B,Y,Z);if(ne(Y)){if(ye=ne(Y),typeof ye!="function")throw Error(s(150));return Y=ye.call(Y),_e(F,B,Y,Z)}if(typeof Y.then=="function")return nt(F,B,ou(Y),Z);if(Y.$$typeof===A)return nt(F,B,su(F,Y),Z);lu(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(c(F,B.sibling),Z=g(B,Y),Z.return=F,F=Z):(c(F,B),Z=vf(Y,F.mode,Z),Z.return=F,F=Z),_(F)):c(F,B)}return function(F,B,Y,Z){try{$o=0;var ye=nt(F,B,Y,Z);return Tr=null,ye}catch(ge){if(ge===Mr||ge===au)throw ge;var Ye=kn(29,ge,null,F.mode);return Ye.lanes=Z,Ye.return=F,Ye}}}var Na=Ey(!0),Oy=Ey(!1),Di=!1;function Of(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ci(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ai(i,r,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Xe&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=Jc(i),gy(i,null,c),r}return Qc(i,h,r,c),Jc(i)}function Ko(i,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,c|=h,r.lanes=c,wi(i,c)}}function Lf(i,r){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var _={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=_:y=y.next=_,c=c.next}while(c!==null);y===null?g=y=r:y=y.next=r}else g=y=r;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=r:i.next=r,c.lastBaseUpdate=r}var zf=!1;function Zo(){if(zf){var i=Nr;if(i!==null)throw i}}function Qo(i,r,c,h){zf=!1;var g=i.updateQueue;Di=!1;var y=g.firstBaseUpdate,_=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var P=M,W=P.next;P.next=null,_===null?y=W:_.next=W,_=P;var K=i.alternate;K!==null&&(K=K.updateQueue,M=K.lastBaseUpdate,M!==_&&(M===null?K.firstBaseUpdate=W:M.next=W,K.lastBaseUpdate=P))}if(y!==null){var Q=g.baseState;_=0,K=W=P=null,M=y;do{var I=M.lane&-536870913,q=I!==M.lane;if(q?(ze&I)===I:(h&I)===I){I!==0&&I===kr&&(zf=!0),K!==null&&(K=K.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var fe=i,_e=M;I=r;var nt=c;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){Q=fe.call(nt,Q,I);break e}Q=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,I=typeof fe=="function"?fe.call(nt,Q,I):fe,I==null)break e;Q=x({},Q,I);break e;case 2:Di=!0}}I=M.callback,I!==null&&(i.flags|=64,q&&(i.flags|=8192),q=g.callbacks,q===null?g.callbacks=[I]:q.push(I))}else q={lane:I,tag:M.tag,payload:M.payload,callback:M.callback,next:null},K===null?(W=K=q,P=Q):K=K.next=q,_|=I;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;q=M,M=q.next,q.next=null,g.lastBaseUpdate=q,g.shared.pending=null}}while(!0);K===null&&(P=Q),g.baseState=P,g.firstBaseUpdate=W,g.lastBaseUpdate=K,y===null&&(g.shared.lanes=0),zi|=_,i.lanes=_,i.memoizedState=Q}}function Ry(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Ly(i,r){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Ry(c[i],r)}var Dr=L(null),cu=L(0);function zy(i,r){i=Ks,J(cu,i),J(Dr,r),Ks=i|r.baseLanes}function Pf(){J(cu,Ks),J(Dr,Dr.current)}function Bf(){Ks=cu.current,U(Dr),U(cu)}var Nn=L(null),Yn=null;function Ei(i){var r=i.alternate;J(kt,kt.current&1),J(Nn,i),Yn===null&&(r===null||Dr.current!==null||r.memoizedState!==null)&&(Yn=i)}function Vf(i){J(kt,kt.current),J(Nn,i),Yn===null&&(Yn=i)}function Py(i){i.tag===22?(J(kt,kt.current),J(Nn,i),Yn===null&&(Yn=i)):Oi()}function Oi(){J(kt,kt.current),J(Nn,Nn.current)}function Mn(i){U(Nn),Yn===i&&(Yn=null),U(kt)}var kt=L(0);function uu(i){for(var r=i;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Im(c)||qm(c)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Us=0,Me=null,et=null,Et=null,du=!1,Cr=!1,Ma=!1,hu=0,Jo=0,Ar=null,vT=0;function vt(){throw Error(s(321))}function Ff(i,r){if(r===null)return!1;for(var c=0;c<r.length&&c<i.length;c++)if(!jn(i[c],r[c]))return!1;return!0}function Hf(i,r,c,h,g,y){return Us=y,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=i===null||i.memoizedState===null?vb:nm,Ma=!1,y=c(h,g),Ma=!1,Cr&&(y=Vy(r,c,h,g)),By(i),y}function By(i){H.H=nl;var r=et!==null&&et.next!==null;if(Us=0,Et=et=Me=null,du=!1,Jo=0,Ar=null,r)throw Error(s(300));i===null||Ot||(i=i.dependencies,i!==null&&nu(i)&&(Ot=!0))}function Vy(i,r,c,h){Me=i;var g=0;do{if(Cr&&(Ar=null),Jo=0,Cr=!1,25<=g)throw Error(s(301));if(g+=1,Et=et=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=_b,y=r(c,h)}while(Cr);return y}function _T(){var i=H.H,r=i.useState()[0];return r=typeof r.then=="function"?el(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Me.flags|=1024),r}function Uf(){var i=hu!==0;return hu=0,i}function Yf(i,r,c){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~c}function Wf(i){if(du){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}du=!1}Us=0,Et=et=Me=null,Cr=!1,Jo=hu=0,Ar=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Me.memoizedState=Et=i:Et=Et.next=i,Et}function Nt(){if(et===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Et===null?Me.memoizedState:Et.next;if(r!==null)Et=r,et=i;else{if(i===null)throw Me.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Et===null?Me.memoizedState=Et=i:Et=Et.next=i}return Et}function fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(i){var r=Jo;return Jo+=1,Ar===null&&(Ar=[]),i=Dy(Ar,i,r),r=Me,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?vb:nm),i}function mu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return el(i);if(i.$$typeof===A)return qt(i)}throw Error(s(438,String(i)))}function If(i){var r=null,c=Me.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var h=Me.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=fu(),Me.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(i),h=0;h<i;h++)c[h]=X;return r.index++,c}function Ys(i,r){return typeof r=="function"?r(i):r}function pu(i){var r=Nt();return qf(r,et,i)}function qf(i,r,c){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=c;var g=i.baseQueue,y=h.pending;if(y!==null){if(g!==null){var _=g.next;g.next=y.next,y.next=_}r.baseQueue=g=y,h.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{r=g.next;var M=_=null,P=null,W=r,K=!1;do{var Q=W.lane&-536870913;if(Q!==W.lane?(ze&Q)===Q:(Us&Q)===Q){var I=W.revertLane;if(I===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),Q===kr&&(K=!0);else if((Us&I)===I){W=W.next,I===kr&&(K=!0);continue}else Q={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(M=P=Q,_=y):P=P.next=Q,Me.lanes|=I,zi|=I;Q=W.action,Ma&&c(y,Q),y=W.hasEagerState?W.eagerState:c(y,Q)}else I={lane:Q,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(M=P=I,_=y):P=P.next=I,Me.lanes|=Q,zi|=Q;W=W.next}while(W!==null&&W!==r);if(P===null?_=y:P.next=M,!jn(y,i.memoizedState)&&(Ot=!0,K&&(c=Nr,c!==null)))throw c;i.memoizedState=y,i.baseState=_,i.baseQueue=P,h.lastRenderedState=y}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Gf(i){var r=Nt(),c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=i;var h=c.dispatch,g=c.pending,y=r.memoizedState;if(g!==null){c.pending=null;var _=g=g.next;do y=i(y,_.action),_=_.next;while(_!==g);jn(y,r.memoizedState)||(Ot=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),c.lastRenderedState=y}return[y,h]}function Fy(i,r,c){var h=Me,g=Nt(),y=Fe;if(y){if(c===void 0)throw Error(s(407));c=c()}else c=r();var _=!jn((et||g).memoizedState,c);if(_&&(g.memoizedState=c,Ot=!0),g=g.queue,Kf(Yy.bind(null,h,g,i),[i]),g.getSnapshot!==r||_||Et!==null&&Et.memoizedState.tag&1){if(h.flags|=2048,Er(9,{destroy:void 0},Uy.bind(null,h,g,c,r),null),it===null)throw Error(s(349));y||(Us&127)!==0||Hy(h,r,c)}return c}function Hy(i,r,c){i.flags|=16384,i={getSnapshot:r,value:c},r=Me.updateQueue,r===null?(r=fu(),Me.updateQueue=r,r.stores=[i]):(c=r.stores,c===null?r.stores=[i]:c.push(i))}function Uy(i,r,c,h){r.value=c,r.getSnapshot=h,Wy(r)&&Iy(i)}function Yy(i,r,c){return c(function(){Wy(r)&&Iy(i)})}function Wy(i){var r=i.getSnapshot;i=i.value;try{var c=r();return!jn(i,c)}catch{return!0}}function Iy(i){var r=ya(i,2);r!==null&&yn(r,i,2)}function $f(i){var r=dn();if(typeof i=="function"){var c=i;if(i=c(),Ma){ns(!0);try{c()}finally{ns(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:i},r}function qy(i,r,c,h){return i.baseState=c,qf(i,et,typeof h=="function"?h:Ys)}function wT(i,r,c,h,g){if(yu(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};H.T!==null?c(!0):y.isTransition=!1,h(y),c=r.pending,c===null?(y.next=r.pending=y,Gy(r,y)):(y.next=c.next,r.pending=c.next=y)}}function Gy(i,r){var c=r.action,h=r.payload,g=i.state;if(r.isTransition){var y=H.T,_={};H.T=_;try{var M=c(g,h),P=H.S;P!==null&&P(_,M),$y(i,r,M)}catch(W){Xf(i,r,W)}finally{y!==null&&_.types!==null&&(y.types=_.types),H.T=y}}else try{y=c(g,h),$y(i,r,y)}catch(W){Xf(i,r,W)}}function $y(i,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Xy(i,r,h)},function(h){return Xf(i,r,h)}):Xy(i,r,c)}function Xy(i,r,c){r.status="fulfilled",r.value=c,Ky(r),i.state=c,r=i.pending,r!==null&&(c=r.next,c===r?i.pending=null:(c=c.next,r.next=c,Gy(i,c)))}function Xf(i,r,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=c,Ky(r),r=r.next;while(r!==h)}i.action=null}function Ky(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Zy(i,r){return r}function Qy(i,r){if(Fe){var c=it.formState;if(c!==null){e:{var h=Me;if(Fe){if(ot){t:{for(var g=ot,y=Un;g.nodeType!==8;){if(!y){g=null;break t}if(g=Wn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ot=Wn(g.nextSibling),h=g.data==="F!";break e}}Mi(h)}h=!1}h&&(r=c[0])}}return c=dn(),c.memoizedState=c.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:r},c.queue=h,c=xb.bind(null,Me,h),h.dispatch=c,h=$f(!1),y=tm.bind(null,Me,!1,h.queue),h=dn(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,c=wT.bind(null,Me,g,y,c),g.dispatch=c,h.memoizedState=i,[r,c,!1]}function Jy(i){var r=Nt();return eb(r,et,i)}function eb(i,r,c){if(r=qf(i,r,Zy)[0],i=pu(Ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=el(r)}catch(_){throw _===Mr?au:_}else h=r;r=Nt();var g=r.queue,y=g.dispatch;return c!==r.memoizedState&&(Me.flags|=2048,Er(9,{destroy:void 0},ST.bind(null,g,c),null)),[h,y,i]}function ST(i,r){i.action=r}function tb(i){var r=Nt(),c=et;if(c!==null)return eb(r,c,i);Nt(),r=r.memoizedState,c=Nt();var h=c.queue.dispatch;return c.memoizedState=i,[r,h,!1]}function Er(i,r,c,h){return i={tag:i,create:c,deps:h,inst:r,next:null},r=Me.updateQueue,r===null&&(r=fu(),Me.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,r.lastEffect=i),i}function nb(){return Nt().memoizedState}function gu(i,r,c,h){var g=dn();Me.flags|=i,g.memoizedState=Er(1|r,{destroy:void 0},c,h===void 0?null:h)}function xu(i,r,c,h){var g=Nt();h=h===void 0?null:h;var y=g.memoizedState.inst;et!==null&&h!==null&&Ff(h,et.memoizedState.deps)?g.memoizedState=Er(r,y,c,h):(Me.flags|=i,g.memoizedState=Er(1|r,y,c,h))}function sb(i,r){gu(8390656,8,i,r)}function Kf(i,r){xu(2048,8,i,r)}function jT(i){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=fu(),Me.updateQueue=r,r.events=[i];else{var c=r.events;c===null?r.events=[i]:c.push(i)}}function ib(i){var r=Nt().memoizedState;return jT({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ab(i,r){return xu(4,2,i,r)}function rb(i,r){return xu(4,4,i,r)}function ob(i,r){if(typeof r=="function"){i=i();var c=r(i);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function lb(i,r,c){c=c!=null?c.concat([i]):null,xu(4,4,ob.bind(null,r,i),c)}function Zf(){}function cb(i,r){var c=Nt();r=r===void 0?null:r;var h=c.memoizedState;return r!==null&&Ff(r,h[1])?h[0]:(c.memoizedState=[i,r],i)}function ub(i,r){var c=Nt();r=r===void 0?null:r;var h=c.memoizedState;if(r!==null&&Ff(r,h[1]))return h[0];if(h=i(),Ma){ns(!0);try{i()}finally{ns(!1)}}return c.memoizedState=[h,r],h}function Qf(i,r,c){return c===void 0||(Us&1073741824)!==0&&(ze&261930)===0?i.memoizedState=r:(i.memoizedState=c,i=dv(),Me.lanes|=i,zi|=i,c)}function db(i,r,c,h){return jn(c,r)?c:Dr.current!==null?(i=Qf(i,c,h),jn(i,r)||(Ot=!0),i):(Us&42)===0||(Us&1073741824)!==0&&(ze&261930)===0?(Ot=!0,i.memoizedState=c):(i=dv(),Me.lanes|=i,zi|=i,r)}function hb(i,r,c,h,g){var y=$.p;$.p=y!==0&&8>y?y:8;var _=H.T,M={};H.T=M,tm(i,!1,r,c);try{var P=g(),W=H.S;if(W!==null&&W(M,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var K=bT(P,h);tl(i,r,K,Cn(i))}else tl(i,r,h,Cn(i))}catch(Q){tl(i,r,{then:function(){},status:"rejected",reason:Q},Cn())}finally{$.p=y,_!==null&&M.types!==null&&(_.types=M.types),H.T=_}}function kT(){}function Jf(i,r,c,h){if(i.tag!==5)throw Error(s(476));var g=fb(i).queue;hb(i,g,r,ie,c===null?kT:function(){return mb(i),c(h)})}function fb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:ie},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:c},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function mb(i){var r=fb(i);r.next===null&&(r=i.alternate.memoizedState),tl(i,r.next.queue,{},Cn())}function em(){return qt(yl)}function pb(){return Nt().memoizedState}function gb(){return Nt().memoizedState}function NT(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var c=Cn();i=Ci(c);var h=Ai(r,i,c);h!==null&&(yn(h,r,c),Ko(h,r,c)),r={cache:Df()},i.payload=r;return}r=r.return}}function MT(i,r,c){var h=Cn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yu(i)?yb(r,c):(c=yf(i,r,c,h),c!==null&&(yn(c,i,h),bb(c,r,h)))}function xb(i,r,c){var h=Cn();tl(i,r,c,h)}function tl(i,r,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(yu(i))yb(r,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,M=y(_,c);if(g.hasEagerState=!0,g.eagerState=M,jn(M,_))return Qc(i,r,g,0),it===null&&Zc(),!1}catch{}if(c=yf(i,r,g,h),c!==null)return yn(c,i,h),bb(c,r,h),!0}return!1}function tm(i,r,c,h){if(h={lane:2,revertLane:Om(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},yu(i)){if(r)throw Error(s(479))}else r=yf(i,c,h,2),r!==null&&yn(r,i,2)}function yu(i){var r=i.alternate;return i===Me||r!==null&&r===Me}function yb(i,r){Cr=du=!0;var c=i.pending;c===null?r.next=r:(r.next=c.next,c.next=r),i.pending=r}function bb(i,r,c){if((c&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,c|=h,r.lanes=c,wi(i,c)}}var nl={readContext:qt,use:mu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};nl.useEffectEvent=vt;var vb={readContext:qt,use:mu,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:qt,useEffect:sb,useImperativeHandle:function(i,r,c){c=c!=null?c.concat([i]):null,gu(4194308,4,ob.bind(null,r,i),c)},useLayoutEffect:function(i,r){return gu(4194308,4,i,r)},useInsertionEffect:function(i,r){gu(4,2,i,r)},useMemo:function(i,r){var c=dn();r=r===void 0?null:r;var h=i();if(Ma){ns(!0);try{i()}finally{ns(!1)}}return c.memoizedState=[h,r],h},useReducer:function(i,r,c){var h=dn();if(c!==void 0){var g=c(r);if(Ma){ns(!0);try{c(r)}finally{ns(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=MT.bind(null,Me,i),[h.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=$f(i);var r=i.queue,c=xb.bind(null,Me,r);return r.dispatch=c,[i.memoizedState,c]},useDebugValue:Zf,useDeferredValue:function(i,r){var c=dn();return Qf(c,i,r)},useTransition:function(){var i=$f(!1);return i=hb.bind(null,Me,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,c){var h=Me,g=dn();if(Fe){if(c===void 0)throw Error(s(407));c=c()}else{if(c=r(),it===null)throw Error(s(349));(ze&127)!==0||Hy(h,r,c)}g.memoizedState=c;var y={value:c,getSnapshot:r};return g.queue=y,sb(Yy.bind(null,h,y,i),[i]),h.flags|=2048,Er(9,{destroy:void 0},Uy.bind(null,h,y,c,r),null),c},useId:function(){var i=dn(),r=it.identifierPrefix;if(Fe){var c=vs,h=bs;c=(h&~(1<<32-Yt(h)-1)).toString(32)+c,r="_"+r+"R_"+c,c=hu++,0<c&&(r+="H"+c.toString(32)),r+="_"}else c=vT++,r="_"+r+"r_"+c.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:em,useFormState:Qy,useActionState:Qy,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=tm.bind(null,Me,!0,c),c.dispatch=r,[i,r]},useMemoCache:If,useCacheRefresh:function(){return dn().memoizedState=NT.bind(null,Me)},useEffectEvent:function(i){var r=dn(),c={impl:i};return r.memoizedState=c,function(){if((Xe&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},nm={readContext:qt,use:mu,useCallback:cb,useContext:qt,useEffect:Kf,useImperativeHandle:lb,useInsertionEffect:ab,useLayoutEffect:rb,useMemo:ub,useReducer:pu,useRef:nb,useState:function(){return pu(Ys)},useDebugValue:Zf,useDeferredValue:function(i,r){var c=Nt();return db(c,et.memoizedState,i,r)},useTransition:function(){var i=pu(Ys)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:el(i),r]},useSyncExternalStore:Fy,useId:pb,useHostTransitionStatus:em,useFormState:Jy,useActionState:Jy,useOptimistic:function(i,r){var c=Nt();return qy(c,et,i,r)},useMemoCache:If,useCacheRefresh:gb};nm.useEffectEvent=ib;var _b={readContext:qt,use:mu,useCallback:cb,useContext:qt,useEffect:Kf,useImperativeHandle:lb,useInsertionEffect:ab,useLayoutEffect:rb,useMemo:ub,useReducer:Gf,useRef:nb,useState:function(){return Gf(Ys)},useDebugValue:Zf,useDeferredValue:function(i,r){var c=Nt();return et===null?Qf(c,i,r):db(c,et.memoizedState,i,r)},useTransition:function(){var i=Gf(Ys)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:el(i),r]},useSyncExternalStore:Fy,useId:pb,useHostTransitionStatus:em,useFormState:tb,useActionState:tb,useOptimistic:function(i,r){var c=Nt();return et!==null?qy(c,et,i,r):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:If,useCacheRefresh:gb};_b.useEffectEvent=ib;function sm(i,r,c,h){r=i.memoizedState,c=c(h,r),c=c==null?r:x({},r,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var im={enqueueSetState:function(i,r,c){i=i._reactInternals;var h=Cn(),g=Ci(h);g.payload=r,c!=null&&(g.callback=c),r=Ai(i,g,h),r!==null&&(yn(r,i,h),Ko(r,i,h))},enqueueReplaceState:function(i,r,c){i=i._reactInternals;var h=Cn(),g=Ci(h);g.tag=1,g.payload=r,c!=null&&(g.callback=c),r=Ai(i,g,h),r!==null&&(yn(r,i,h),Ko(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var c=Cn(),h=Ci(c);h.tag=2,r!=null&&(h.callback=r),r=Ai(i,h,c),r!==null&&(yn(r,i,c),Ko(r,i,c))}};function wb(i,r,c,h,g,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,_):r.prototype&&r.prototype.isPureReactComponent?!Uo(c,h)||!Uo(g,y):!0}function Sb(i,r,c,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,h),r.state!==i&&im.enqueueReplaceState(r,r.state,null)}function Ta(i,r){var c=r;if("ref"in r){c={};for(var h in r)h!=="ref"&&(c[h]=r[h])}if(i=i.defaultProps){c===r&&(c=x({},c));for(var g in i)c[g]===void 0&&(c[g]=i[g])}return c}function jb(i){Kc(i)}function kb(i){console.error(i)}function Nb(i){Kc(i)}function bu(i,r){try{var c=i.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function Mb(i,r,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function am(i,r,c){return c=Ci(c),c.tag=3,c.payload={element:null},c.callback=function(){bu(i,r)},c}function Tb(i){return i=Ci(i),i.tag=3,i}function Db(i,r,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;i.payload=function(){return g(y)},i.callback=function(){Mb(r,c,h)}}var _=c.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Mb(r,c,h),typeof g!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function TT(i,r,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=c.alternate,r!==null&&jr(r,c,g,!0),c=Nn.current,c!==null){switch(c.tag){case 31:case 13:return Yn===null?Au():c.alternate===null&&_t===0&&(_t=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===ru?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([h]):r.add(h),Cm(i,h,g)),!1;case 22:return c.flags|=65536,h===ru?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([h]):c.add(h)),Cm(i,h,g)),!1}throw Error(s(435,c.tag))}return Cm(i,h,g),Au(),!1}if(Fe)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==jf&&(i=Error(s(422),{cause:h}),Io(Vn(i,c)))):(h!==jf&&(r=Error(s(423),{cause:h}),Io(Vn(r,c))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Vn(h,c),g=am(i.stateNode,h,g),Lf(i,g),_t!==4&&(_t=2)),!1;var y=Error(s(520),{cause:h});if(y=Vn(y,c),ul===null?ul=[y]:ul.push(y),_t!==4&&(_t=2),r===null)return!0;h=Vn(h,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,i=g&-g,c.lanes|=i,i=am(c.stateNode,h,i),Lf(c,i),!1;case 1:if(r=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pi===null||!Pi.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Tb(g),Db(g,i,c,h),Lf(c,g),!1}c=c.return}while(c!==null);return!1}var rm=Error(s(461)),Ot=!1;function Gt(i,r,c,h){r.child=i===null?Oy(r,null,c,h):Na(r,i.child,c,h)}function Cb(i,r,c,h,g){c=c.render;var y=r.ref;if("ref"in h){var _={};for(var M in h)M!=="ref"&&(_[M]=h[M])}else _=h;return wa(r),h=Hf(i,r,c,_,y,g),M=Uf(),i!==null&&!Ot?(Yf(i,r,g),Ws(i,r,g)):(Fe&&M&&wf(r),r.flags|=1,Gt(i,r,h,g),r.child)}function Ab(i,r,c,h,g){if(i===null){var y=c.type;return typeof y=="function"&&!bf(y)&&y.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=y,Eb(i,r,y,h,g)):(i=eu(c.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!mm(i,g)){var _=y.memoizedProps;if(c=c.compare,c=c!==null?c:Uo,c(_,h)&&i.ref===r.ref)return Ws(i,r,g)}return r.flags|=1,i=Bs(y,h),i.ref=r.ref,i.return=r,r.child=i}function Eb(i,r,c,h,g){if(i!==null){var y=i.memoizedProps;if(Uo(y,h)&&i.ref===r.ref)if(Ot=!1,r.pendingProps=h=y,mm(i,g))(i.flags&131072)!==0&&(Ot=!0);else return r.lanes=i.lanes,Ws(i,r,g)}return om(i,r,c,h,g)}function Ob(i,r,c,h){var g=h.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,i!==null){for(h=r.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,r.child=null;return Rb(i,r,y,c,h)}if((c&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&iu(r,y!==null?y.cachePool:null),y!==null?zy(r,y):Pf(),Py(r);else return h=r.lanes=536870912,Rb(i,r,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(iu(r,y.cachePool),zy(r,y),Oi(),r.memoizedState=null):(i!==null&&iu(r,null),Pf(),Oi());return Gt(i,r,g,c),r.child}function sl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Rb(i,r,c,h,g){var y=Af();return y=y===null?null:{parent:At._currentValue,pool:y},r.memoizedState={baseLanes:c,cachePool:y},i!==null&&iu(r,null),Pf(),Py(r),i!==null&&jr(i,r,h,!0),r.childLanes=g,null}function vu(i,r){return r=wu({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Lb(i,r,c){return Na(r,i.child,null,c),i=vu(r,r.pendingProps),i.flags|=2,Mn(r),r.memoizedState=null,i}function DT(i,r,c){var h=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Fe){if(h.mode==="hidden")return i=vu(r,h),r.lanes=536870912,sl(null,i);if(Vf(r),(i=ot)?(i=Gv(i,Un),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ki!==null?{id:bs,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},c=yy(i),c.return=r,r.child=c,It=r,ot=null)):i=null,i===null)throw Mi(r);return r.lanes=536870912,null}return vu(r,h)}var y=i.memoizedState;if(y!==null){var _=y.dehydrated;if(Vf(r),g)if(r.flags&256)r.flags&=-257,r=Lb(i,r,c);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ot||jr(i,r,c,!1),g=(c&i.childLanes)!==0,Ot||g){if(h=it,h!==null&&(_=Vc(h,c),_!==0&&_!==y.retryLane))throw y.retryLane=_,ya(i,_),yn(h,i,_),rm;Au(),r=Lb(i,r,c)}else i=y.treeContext,ot=Wn(_.nextSibling),It=r,Fe=!0,Ni=null,Un=!1,i!==null&&_y(r,i),r=vu(r,h),r.flags|=4096;return r}return i=Bs(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function _u(i,r){var c=r.ref;if(c===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(i===null||i.ref!==c)&&(r.flags|=4194816)}}function om(i,r,c,h,g){return wa(r),c=Hf(i,r,c,h,void 0,g),h=Uf(),i!==null&&!Ot?(Yf(i,r,g),Ws(i,r,g)):(Fe&&h&&wf(r),r.flags|=1,Gt(i,r,c,g),r.child)}function zb(i,r,c,h,g,y){return wa(r),r.updateQueue=null,c=Vy(r,h,c,g),By(i),h=Uf(),i!==null&&!Ot?(Yf(i,r,y),Ws(i,r,y)):(Fe&&h&&wf(r),r.flags|=1,Gt(i,r,c,y),r.child)}function Pb(i,r,c,h,g){if(wa(r),r.stateNode===null){var y=vr,_=c.contextType;typeof _=="object"&&_!==null&&(y=qt(_)),y=new c(h,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=im,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=h,y.state=r.memoizedState,y.refs={},Of(r),_=c.contextType,y.context=typeof _=="object"&&_!==null?qt(_):vr,y.state=r.memoizedState,_=c.getDerivedStateFromProps,typeof _=="function"&&(sm(r,c,_,h),y.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&im.enqueueReplaceState(y,y.state,null),Qo(r,h,y,g),Zo(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){y=r.stateNode;var M=r.memoizedProps,P=Ta(c,M);y.props=P;var W=y.context,K=c.contextType;_=vr,typeof K=="object"&&K!==null&&(_=qt(K));var Q=c.getDerivedStateFromProps;K=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||W!==_)&&Sb(r,y,h,_),Di=!1;var I=r.memoizedState;y.state=I,Qo(r,h,y,g),Zo(),W=r.memoizedState,M||I!==W||Di?(typeof Q=="function"&&(sm(r,c,Q,h),W=r.memoizedState),(P=Di||wb(r,c,P,h,I,W,_))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=W),y.props=h,y.state=W,y.context=_,h=P):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{y=r.stateNode,Rf(i,r),_=r.memoizedProps,K=Ta(c,_),y.props=K,Q=r.pendingProps,I=y.context,W=c.contextType,P=vr,typeof W=="object"&&W!==null&&(P=qt(W)),M=c.getDerivedStateFromProps,(W=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==Q||I!==P)&&Sb(r,y,h,P),Di=!1,I=r.memoizedState,y.state=I,Qo(r,h,y,g),Zo();var q=r.memoizedState;_!==Q||I!==q||Di||i!==null&&i.dependencies!==null&&nu(i.dependencies)?(typeof M=="function"&&(sm(r,c,M,h),q=r.memoizedState),(K=Di||wb(r,c,K,h,I,q,P)||i!==null&&i.dependencies!==null&&nu(i.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,q,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,q,P)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&I===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&I===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=q),y.props=h,y.state=q,y.context=P,h=K):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&I===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&I===i.memoizedState||(r.flags|=1024),h=!1)}return y=h,_u(i,r),h=(r.flags&128)!==0,y||h?(y=r.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&h?(r.child=Na(r,i.child,null,g),r.child=Na(r,null,c,g)):Gt(i,r,c,g),r.memoizedState=y.state,i=r.child):i=Ws(i,r,g),i}function Bb(i,r,c,h){return va(),r.flags|=256,Gt(i,r,c,h),r.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(i){return{baseLanes:i,cachePool:My()}}function um(i,r,c){return i=i!==null?i.childLanes&~c:0,r&&(i|=Dn),i}function Vb(i,r,c){var h=r.pendingProps,g=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=i!==null&&i.memoizedState===null?!1:(kt.current&2)!==0),_&&(g=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(g?Ei(r):Oi(),(i=ot)?(i=Gv(i,Un),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ki!==null?{id:bs,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},c=yy(i),c.return=r,r.child=c,It=r,ot=null)):i=null,i===null)throw Mi(r);return qm(i)?r.lanes=32:r.lanes=536870912,null}var M=h.children;return h=h.fallback,g?(Oi(),g=r.mode,M=wu({mode:"hidden",children:M},g),h=ba(h,g,c,null),M.return=r,h.return=r,M.sibling=h,r.child=M,h=r.child,h.memoizedState=cm(c),h.childLanes=um(i,_,c),r.memoizedState=lm,sl(null,h)):(Ei(r),dm(r,M))}var P=i.memoizedState;if(P!==null&&(M=P.dehydrated,M!==null)){if(y)r.flags&256?(Ei(r),r.flags&=-257,r=hm(i,r,c)):r.memoizedState!==null?(Oi(),r.child=i.child,r.flags|=128,r=null):(Oi(),M=h.fallback,g=r.mode,h=wu({mode:"visible",children:h.children},g),M=ba(M,g,c,null),M.flags|=2,h.return=r,M.return=r,h.sibling=M,r.child=h,Na(r,i.child,null,c),h=r.child,h.memoizedState=cm(c),h.childLanes=um(i,_,c),r.memoizedState=lm,r=sl(null,h));else if(Ei(r),qm(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var W=_.dgst;_=W,h=Error(s(419)),h.stack="",h.digest=_,Io({value:h,source:null,stack:null}),r=hm(i,r,c)}else if(Ot||jr(i,r,c,!1),_=(c&i.childLanes)!==0,Ot||_){if(_=it,_!==null&&(h=Vc(_,c),h!==0&&h!==P.retryLane))throw P.retryLane=h,ya(i,h),yn(_,i,h),rm;Im(M)||Au(),r=hm(i,r,c)}else Im(M)?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,ot=Wn(M.nextSibling),It=r,Fe=!0,Ni=null,Un=!1,i!==null&&_y(r,i),r=dm(r,h.children),r.flags|=4096);return r}return g?(Oi(),M=h.fallback,g=r.mode,P=i.child,W=P.sibling,h=Bs(P,{mode:"hidden",children:h.children}),h.subtreeFlags=P.subtreeFlags&65011712,W!==null?M=Bs(W,M):(M=ba(M,g,c,null),M.flags|=2),M.return=r,h.return=r,h.sibling=M,r.child=h,sl(null,h),h=r.child,M=i.child.memoizedState,M===null?M=cm(c):(g=M.cachePool,g!==null?(P=At._currentValue,g=g.parent!==P?{parent:P,pool:P}:g):g=My(),M={baseLanes:M.baseLanes|c,cachePool:g}),h.memoizedState=M,h.childLanes=um(i,_,c),r.memoizedState=lm,sl(i.child,h)):(Ei(r),c=i.child,i=c.sibling,c=Bs(c,{mode:"visible",children:h.children}),c.return=r,c.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=c,r.memoizedState=null,c)}function dm(i,r){return r=wu({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function wu(i,r){return i=kn(22,i,null,r),i.lanes=0,i}function hm(i,r,c){return Na(r,i.child,null,c),i=dm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Fb(i,r,c){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Mf(i.return,r,c)}function fm(i,r,c,h,g,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=c,_.tailMode=g,_.treeForkCount=y)}function Hb(i,r,c){var h=r.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var _=kt.current,M=(_&2)!==0;if(M?(_=_&1|2,r.flags|=128):_&=1,J(kt,_),Gt(i,r,h,c),h=Fe?Wo:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Fb(i,c,r);else if(i.tag===19)Fb(i,c,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(c=r.child,g=null;c!==null;)i=c.alternate,i!==null&&uu(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=r.child,r.child=null):(g=c.sibling,c.sibling=null),fm(r,!1,g,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&uu(i)===null){r.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}fm(r,!0,c,null,y,h);break;case"together":fm(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function Ws(i,r,c){if(i!==null&&(r.dependencies=i.dependencies),zi|=r.lanes,(c&r.childLanes)===0)if(i!==null){if(jr(i,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,c=Bs(i,i.pendingProps),r.child=c,c.return=r;i.sibling!==null;)i=i.sibling,c=c.sibling=Bs(i,i.pendingProps),c.return=r;c.sibling=null}return r.child}function mm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&nu(i)))}function CT(i,r,c){switch(r.tag){case 3:yt(r,r.stateNode.containerInfo),Ti(r,At,i.memoizedState.cache),va();break;case 27:case 5:wn(r);break;case 4:yt(r,r.stateNode.containerInfo);break;case 10:Ti(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Vf(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Ei(r),r.flags|=128,null):(c&r.child.childLanes)!==0?Vb(i,r,c):(Ei(r),i=Ws(i,r,c),i!==null?i.sibling:null);Ei(r);break;case 19:var g=(i.flags&128)!==0;if(h=(c&r.childLanes)!==0,h||(jr(i,r,c,!1),h=(c&r.childLanes)!==0),g){if(h)return Hb(i,r,c);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),J(kt,kt.current),h)break;return null;case 22:return r.lanes=0,Ob(i,r,c,r.pendingProps);case 24:Ti(r,At,i.memoizedState.cache)}return Ws(i,r,c)}function Ub(i,r,c){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ot=!0;else{if(!mm(i,c)&&(r.flags&128)===0)return Ot=!1,CT(i,r,c);Ot=(i.flags&131072)!==0}else Ot=!1,Fe&&(r.flags&1048576)!==0&&vy(r,Wo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(i=ja(r.elementType),r.type=i,typeof i=="function")bf(i)?(h=Ta(i,h),r.tag=1,r=Pb(null,r,i,h,c)):(r.tag=0,r=om(null,r,i,h,c));else{if(i!=null){var g=i.$$typeof;if(g===C){r.tag=11,r=Cb(null,r,i,h,c);break e}else if(g===E){r.tag=14,r=Ab(null,r,i,h,c);break e}}throw r=re(i)||i,Error(s(306,r,""))}}return r;case 0:return om(i,r,r.type,r.pendingProps,c);case 1:return h=r.type,g=Ta(h,r.pendingProps),Pb(i,r,h,g,c);case 3:e:{if(yt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var y=r.memoizedState;g=y.element,Rf(i,r),Qo(r,h,null,c);var _=r.memoizedState;if(h=_.cache,Ti(r,At,h),h!==y.cache&&Tf(r,[At],c,!0),Zo(),h=_.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Bb(i,r,h,c);break e}else if(h!==g){g=Vn(Error(s(424)),r),Io(g),r=Bb(i,r,h,c);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ot=Wn(i.firstChild),It=r,Fe=!0,Ni=null,Un=!0,c=Oy(r,null,h,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(va(),h===g){r=Ws(i,r,c);break e}Gt(i,r,h,c)}r=r.child}return r;case 26:return _u(i,r),i===null?(c=Jv(r.type,null,r.pendingProps,null))?r.memoizedState=c:Fe||(c=r.type,i=r.pendingProps,h=Bu(ce.current).createElement(c),h[Wt]=r,h[hn]=i,$t(h,c,i),Ft(h),r.stateNode=h):r.memoizedState=Jv(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return wn(r),i===null&&Fe&&(h=r.stateNode=Kv(r.type,r.pendingProps,ce.current),It=r,Un=!0,g=ot,Hi(r.type)?(Gm=g,ot=Wn(h.firstChild)):ot=g),Gt(i,r,r.pendingProps.children,c),_u(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((g=h=ot)&&(h=r5(h,r.type,r.pendingProps,Un),h!==null?(r.stateNode=h,It=r,ot=Wn(h.firstChild),Un=!1,g=!0):g=!1),g||Mi(r)),wn(r),g=r.type,y=r.pendingProps,_=i!==null?i.memoizedProps:null,h=y.children,Um(g,y)?h=null:_!==null&&Um(g,_)&&(r.flags|=32),r.memoizedState!==null&&(g=Hf(i,r,_T,null,null,c),yl._currentValue=g),_u(i,r),Gt(i,r,h,c),r.child;case 6:return i===null&&Fe&&((i=c=ot)&&(c=o5(c,r.pendingProps,Un),c!==null?(r.stateNode=c,It=r,ot=null,i=!0):i=!1),i||Mi(r)),null;case 13:return Vb(i,r,c);case 4:return yt(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=Na(r,null,h,c):Gt(i,r,h,c),r.child;case 11:return Cb(i,r,r.type,r.pendingProps,c);case 7:return Gt(i,r,r.pendingProps,c),r.child;case 8:return Gt(i,r,r.pendingProps.children,c),r.child;case 12:return Gt(i,r,r.pendingProps.children,c),r.child;case 10:return h=r.pendingProps,Ti(r,r.type,h.value),Gt(i,r,h.children,c),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,wa(r),g=qt(g),h=h(g),r.flags|=1,Gt(i,r,h,c),r.child;case 14:return Ab(i,r,r.type,r.pendingProps,c);case 15:return Eb(i,r,r.type,r.pendingProps,c);case 19:return Hb(i,r,c);case 31:return DT(i,r,c);case 22:return Ob(i,r,c,r.pendingProps);case 24:return wa(r),h=qt(At),i===null?(g=Af(),g===null&&(g=it,y=Df(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),r.memoizedState={parent:h,cache:g},Of(r),Ti(r,At,g)):((i.lanes&c)!==0&&(Rf(i,r),Qo(r,null,null,c),Zo()),g=i.memoizedState,y=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ti(r,At,h)):(h=y.cache,Ti(r,At,h),h!==g.cache&&Tf(r,[At],c,!0))),Gt(i,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Is(i){i.flags|=4}function pm(i,r,c,h,g){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(pv())i.flags|=8192;else throw ka=ru,Ef}else i.flags&=-16777217}function Yb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!i1(r))if(pv())i.flags|=8192;else throw ka=ru,Ef}function Su(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ys():536870912,i.lanes|=r,zr|=r)}function il(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(r)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=c,r}function AT(i,r,c){var h=r.pendingProps;switch(Sf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return c=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Hs(At),$e(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Sr(r)?Is(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kf())),lt(r),null;case 26:var g=r.type,y=r.memoizedState;return i===null?(Is(r),y!==null?(lt(r),Yb(r,y)):(lt(r),pm(r,g,null,h,c))):y?y!==i.memoizedState?(Is(r),lt(r),Yb(r,y)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&Is(r),lt(r),pm(r,g,i,h,c)),null;case 27:if(Ln(r),c=ce.current,g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Is(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=O.current,Sr(r)?wy(r):(i=Kv(g,h,c),r.stateNode=i,Is(r))}return lt(r),null;case 5:if(Ln(r),g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Is(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(y=O.current,Sr(r))wy(r);else{var _=Bu(ce.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?_.createElement("select",{is:h.is}):_.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?_.createElement(g,{is:h.is}):_.createElement(g)}}y[Wt]=r,y[hn]=h;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch($t(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Is(r)}}return lt(r),pm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,c),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&Is(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=ce.current,Sr(r)){if(i=r.stateNode,c=r.memoizedProps,h=null,g=It,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Wt]=r,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Vv(i.nodeValue,c)),i||Mi(r,!0)}else i=Bu(i).createTextNode(h),i[Wt]=r,r.stateNode=i}return lt(r),null;case 31:if(c=r.memoizedState,i===null||i.memoizedState!==null){if(h=Sr(r),c!==null){if(i===null){if(!h)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Wt]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else c=kf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Sr(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Wt]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),g=!1}else g=kf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=c,r):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),c!==i&&c&&(r.child.flags|=8192),Su(r,r.updateQueue),lt(r),null);case 4:return $e(),i===null&&Pm(r.stateNode.containerInfo),lt(r),null;case 10:return Hs(r.type),lt(r),null;case 19:if(U(kt),h=r.memoizedState,h===null)return lt(r),null;if(g=(r.flags&128)!==0,y=h.rendering,y===null)if(g)il(h,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=uu(i),y!==null){for(r.flags|=128,il(h,!1),i=y.updateQueue,r.updateQueue=i,Su(r,i),r.subtreeFlags=0,i=c,c=r.child;c!==null;)xy(c,i),c=c.sibling;return J(kt,kt.current&1|2),Fe&&Vs(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&Zt()>Tu&&(r.flags|=128,g=!0,il(h,!1),r.lanes=4194304)}else{if(!g)if(i=uu(y),i!==null){if(r.flags|=128,g=!0,i=i.updateQueue,r.updateQueue=i,Su(r,i),il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Fe)return lt(r),null}else 2*Zt()-h.renderingStartTime>Tu&&c!==536870912&&(r.flags|=128,g=!0,il(h,!1),r.lanes=4194304);h.isBackwards?(y.sibling=r.child,r.child=y):(i=h.last,i!==null?i.sibling=y:r.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Zt(),i.sibling=null,c=kt.current,J(kt,g?c&1|2:c&1),Fe&&Vs(r,h.treeForkCount),i):(lt(r),null);case 22:case 23:return Mn(r),Bf(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(c&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),c=r.updateQueue,c!==null&&Su(r,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048),i!==null&&U(Sa),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Hs(At),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ET(i,r){switch(Sf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Hs(At),$e(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ln(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Mn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return U(kt),null;case 4:return $e(),null;case 10:return Hs(r.type),null;case 22:case 23:return Mn(r),Bf(),i!==null&&U(Sa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Hs(At),null;case 25:return null;default:return null}}function Wb(i,r){switch(Sf(r),r.tag){case 3:Hs(At),$e();break;case 26:case 27:case 5:Ln(r);break;case 4:$e();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:U(kt);break;case 10:Hs(r.type);break;case 22:case 23:Mn(r),Bf(),i!==null&&U(Sa);break;case 24:Hs(At)}}function al(i,r){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&i)===i){h=void 0;var y=c.create,_=c.inst;h=y(),_.destroy=h}c=c.next}while(c!==g)}}catch(M){Qe(r,r.return,M)}}function Ri(i,r,c){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&i)===i){var _=h.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,g=r;var P=c,W=M;try{W()}catch(K){Qe(g,P,K)}}}h=h.next}while(h!==y)}}catch(K){Qe(r,r.return,K)}}function Ib(i){var r=i.updateQueue;if(r!==null){var c=i.stateNode;try{Ly(r,c)}catch(h){Qe(i,i.return,h)}}}function qb(i,r,c){c.props=Ta(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){Qe(i,r,h)}}function rl(i,r){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(g){Qe(i,r,g)}}function _s(i,r){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){Qe(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Qe(i,r,g)}else c.current=null}function Gb(i){var r=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){Qe(i,i.return,g)}}function gm(i,r,c){try{var h=i.stateNode;e5(h,i.type,c,r),h[hn]=r}catch(g){Qe(i,i.return,g)}}function $b(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hi(i.type)||i.tag===4}function xm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$b(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ym(i,r,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,r):(r=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,r.appendChild(i),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=zs));else if(h!==4&&(h===27&&Hi(i.type)&&(c=i.stateNode,r=null),i=i.child,i!==null))for(ym(i,r,c),i=i.sibling;i!==null;)ym(i,r,c),i=i.sibling}function ju(i,r,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?c.insertBefore(i,r):c.appendChild(i);else if(h!==4&&(h===27&&Hi(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(ju(i,r,c),i=i.sibling;i!==null;)ju(i,r,c),i=i.sibling}function Xb(i){var r=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);$t(r,h,c),r[Wt]=i,r[hn]=c}catch(y){Qe(i,i.return,y)}}var qs=!1,Rt=!1,bm=!1,Kb=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function OT(i,r){if(i=i.containerInfo,Fm=Iu,i=ly(i),hf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var _=0,M=-1,P=-1,W=0,K=0,Q=i,I=null;t:for(;;){for(var q;Q!==c||g!==0&&Q.nodeType!==3||(M=_+g),Q!==y||h!==0&&Q.nodeType!==3||(P=_+h),Q.nodeType===3&&(_+=Q.nodeValue.length),(q=Q.firstChild)!==null;)I=Q,Q=q;for(;;){if(Q===i)break t;if(I===c&&++W===g&&(M=_),I===y&&++K===h&&(P=_),(q=Q.nextSibling)!==null)break;Q=I,I=Q.parentNode}Q=q}c=M===-1||P===-1?null:{start:M,end:P}}else c=null}c=c||{start:0,end:0}}else c=null;for(Hm={focusedElem:i,selectionRange:c},Iu=!1,Ht=r;Ht!==null;)if(r=Ht,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ht=i;else for(;Ht!==null;){switch(r=Ht,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)g=i[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=r,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var fe=Ta(c.type,g);i=h.getSnapshotBeforeUpdate(fe,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Qe(c,c.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,c=i.nodeType,c===9)Wm(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ht=i;break}Ht=r.return}}function Zb(i,r,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:$s(i,c),h&4&&al(5,c);break;case 1:if($s(i,c),h&4)if(i=c.stateNode,r===null)try{i.componentDidMount()}catch(_){Qe(c,c.return,_)}else{var g=Ta(c.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(c,c.return,_)}}h&64&&Ib(c),h&512&&rl(c,c.return);break;case 3:if($s(i,c),h&64&&(i=c.updateQueue,i!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{Ly(i,r)}catch(_){Qe(c,c.return,_)}}break;case 27:r===null&&h&4&&Xb(c);case 26:case 5:$s(i,c),r===null&&h&4&&Gb(c),h&512&&rl(c,c.return);break;case 12:$s(i,c);break;case 31:$s(i,c),h&4&&ev(i,c);break;case 13:$s(i,c),h&4&&tv(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=UT.bind(null,c),l5(i,c))));break;case 22:if(h=c.memoizedState!==null||qs,!h){r=r!==null&&r.memoizedState!==null||Rt,g=qs;var y=Rt;qs=h,(Rt=r)&&!y?Xs(i,c,(c.subtreeFlags&8772)!==0):$s(i,c),qs=g,Rt=y}break;case 30:break;default:$s(i,c)}}function Qb(i){var r=i.alternate;r!==null&&(i.alternate=null,Qb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&$h(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,mn=!1;function Gs(i,r,c){for(c=c.child;c!==null;)Jb(i,r,c),c=c.sibling}function Jb(i,r,c){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(_i,c)}catch{}switch(c.tag){case 26:Rt||_s(c,r),Gs(i,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rt||_s(c,r);var h=ft,g=mn;Hi(c.type)&&(ft=c.stateNode,mn=!1),Gs(i,r,c),pl(c.stateNode),ft=h,mn=g;break;case 5:Rt||_s(c,r);case 6:if(h=ft,g=mn,ft=null,Gs(i,r,c),ft=h,mn=g,ft!==null)if(mn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(c.stateNode)}catch(y){Qe(c,r,y)}else try{ft.removeChild(c.stateNode)}catch(y){Qe(c,r,y)}break;case 18:ft!==null&&(mn?(i=ft,Iv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Wr(i)):Iv(ft,c.stateNode));break;case 4:h=ft,g=mn,ft=c.stateNode.containerInfo,mn=!0,Gs(i,r,c),ft=h,mn=g;break;case 0:case 11:case 14:case 15:Ri(2,c,r),Rt||Ri(4,c,r),Gs(i,r,c);break;case 1:Rt||(_s(c,r),h=c.stateNode,typeof h.componentWillUnmount=="function"&&qb(c,r,h)),Gs(i,r,c);break;case 21:Gs(i,r,c);break;case 22:Rt=(h=Rt)||c.memoizedState!==null,Gs(i,r,c),Rt=h;break;default:Gs(i,r,c)}}function ev(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Wr(i)}catch(c){Qe(r,r.return,c)}}}function tv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wr(i)}catch(c){Qe(r,r.return,c)}}function RT(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Kb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Kb),r;default:throw Error(s(435,i.tag))}}function ku(i,r){var c=RT(i);r.forEach(function(h){if(!c.has(h)){c.add(h);var g=YT.bind(null,i,h);h.then(g,g)}})}function pn(i,r){var c=r.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=i,_=r,M=_;e:for(;M!==null;){switch(M.tag){case 27:if(Hi(M.type)){ft=M.stateNode,mn=!1;break e}break;case 5:ft=M.stateNode,mn=!1;break e;case 3:case 4:ft=M.stateNode.containerInfo,mn=!0;break e}M=M.return}if(ft===null)throw Error(s(160));Jb(y,_,g),ft=null,mn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)nv(r,i),r=r.sibling}var as=null;function nv(i,r){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pn(r,i),gn(i),h&4&&(Ri(3,i,i.return),al(3,i),Ri(5,i,i.return));break;case 1:pn(r,i),gn(i),h&512&&(Rt||c===null||_s(c,c.return)),h&64&&qs&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=as;if(pn(r,i),gn(i),h&512&&(Rt||c===null||_s(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Oo]||y[Wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),$t(y,h,c),y[Wt]=i,Ft(y),h=y;break e;case"link":var _=n1("link","href",g).get(h+(c.href||""));if(_){for(var M=0;M<_.length;M++)if(y=_[M],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){_.splice(M,1);break t}}y=g.createElement(h),$t(y,h,c),g.head.appendChild(y);break;case"meta":if(_=n1("meta","content",g).get(h+(c.content||""))){for(M=0;M<_.length;M++)if(y=_[M],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){_.splice(M,1);break t}}y=g.createElement(h),$t(y,h,c),g.head.appendChild(y);break;default:throw Error(s(468,h))}y[Wt]=i,Ft(y),h=y}i.stateNode=h}else s1(g,i.type,i.stateNode);else i.stateNode=t1(g,h,i.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?s1(g,i.type,i.stateNode):t1(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&gm(i,i.memoizedProps,c.memoizedProps)}break;case 27:pn(r,i),gn(i),h&512&&(Rt||c===null||_s(c,c.return)),c!==null&&h&4&&gm(i,i.memoizedProps,c.memoizedProps);break;case 5:if(pn(r,i),gn(i),h&512&&(Rt||c===null||_s(c,c.return)),i.flags&32){g=i.stateNode;try{fr(g,"")}catch(fe){Qe(i,i.return,fe)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,gm(i,g,c!==null?c.memoizedProps:g)),h&1024&&(bm=!0);break;case 6:if(pn(r,i),gn(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(fe){Qe(i,i.return,fe)}}break;case 3:if(Hu=null,g=as,as=Vu(r.containerInfo),pn(r,i),as=g,gn(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Wr(r.containerInfo)}catch(fe){Qe(i,i.return,fe)}bm&&(bm=!1,sv(i));break;case 4:h=as,as=Vu(i.stateNode.containerInfo),pn(r,i),gn(i),as=h;break;case 12:pn(r,i),gn(i);break;case 31:pn(r,i),gn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ku(i,h)));break;case 13:pn(r,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Mu=Zt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ku(i,h)));break;case 22:g=i.memoizedState!==null;var P=c!==null&&c.memoizedState!==null,W=qs,K=Rt;if(qs=W||g,Rt=K||P,pn(r,i),Rt=K,qs=W,gn(i),h&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(c===null||P||qs||Rt||Da(i)),c=null,r=i;;){if(r.tag===5||r.tag===26){if(c===null){P=c=r;try{if(y=P.stateNode,g)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=P.stateNode;var Q=P.memoizedProps.style,I=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;M.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(fe){Qe(P,P.return,fe)}}}else if(r.tag===6){if(c===null){P=r;try{P.stateNode.nodeValue=g?"":P.memoizedProps}catch(fe){Qe(P,P.return,fe)}}}else if(r.tag===18){if(c===null){P=r;try{var q=P.stateNode;g?qv(q,!0):qv(P.stateNode,!1)}catch(fe){Qe(P,P.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,ku(i,c))));break;case 19:pn(r,i),gn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ku(i,h)));break;case 30:break;case 21:break;default:pn(r,i),gn(i)}}function gn(i){var r=i.flags;if(r&2){try{for(var c,h=i.return;h!==null;){if($b(h)){c=h;break}h=h.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var g=c.stateNode,y=xm(i);ju(i,y,g);break;case 5:var _=c.stateNode;c.flags&32&&(fr(_,""),c.flags&=-33);var M=xm(i);ju(i,M,_);break;case 3:case 4:var P=c.stateNode.containerInfo,W=xm(i);ym(i,W,P);break;default:throw Error(s(161))}}catch(K){Qe(i,i.return,K)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function sv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;sv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function $s(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Zb(i,r.alternate,r),r=r.sibling}function Da(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ri(4,r,r.return),Da(r);break;case 1:_s(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&qb(r,r.return,c),Da(r);break;case 27:pl(r.stateNode);case 26:case 5:_s(r,r.return),Da(r);break;case 22:r.memoizedState===null&&Da(r);break;case 30:Da(r);break;default:Da(r)}i=i.sibling}}function Xs(i,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:Xs(g,y,c),al(4,y);break;case 1:if(Xs(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){Qe(h,h.return,W)}if(h=y,g=h.updateQueue,g!==null){var M=h.stateNode;try{var P=g.shared.hiddenCallbacks;if(P!==null)for(g.shared.hiddenCallbacks=null,g=0;g<P.length;g++)Ry(P[g],M)}catch(W){Qe(h,h.return,W)}}c&&_&64&&Ib(y),rl(y,y.return);break;case 27:Xb(y);case 26:case 5:Xs(g,y,c),c&&h===null&&_&4&&Gb(y),rl(y,y.return);break;case 12:Xs(g,y,c);break;case 31:Xs(g,y,c),c&&_&4&&ev(g,y);break;case 13:Xs(g,y,c),c&&_&4&&tv(g,y);break;case 22:y.memoizedState===null&&Xs(g,y,c),rl(y,y.return);break;case 30:break;default:Xs(g,y,c)}r=r.sibling}}function vm(i,r){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&qo(c))}function _m(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&qo(i))}function rs(i,r,c,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iv(i,r,c,h),r=r.sibling}function iv(i,r,c,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:rs(i,r,c,h),g&2048&&al(9,r);break;case 1:rs(i,r,c,h);break;case 3:rs(i,r,c,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&qo(i)));break;case 12:if(g&2048){rs(i,r,c,h),i=r.stateNode;try{var y=r.memoizedProps,_=y.id,M=y.onPostCommit;typeof M=="function"&&M(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Qe(r,r.return,P)}}else rs(i,r,c,h);break;case 31:rs(i,r,c,h);break;case 13:rs(i,r,c,h);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?rs(i,r,c,h):ol(i,r):y._visibility&2?rs(i,r,c,h):(y._visibility|=2,Or(i,r,c,h,(r.subtreeFlags&10256)!==0||!1)),g&2048&&vm(_,r);break;case 24:rs(i,r,c,h),g&2048&&_m(r.alternate,r);break;default:rs(i,r,c,h)}}function Or(i,r,c,h,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,_=r,M=c,P=h,W=_.flags;switch(_.tag){case 0:case 11:case 15:Or(y,_,M,P,g),al(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Or(y,_,M,P,g):ol(y,_):(K._visibility|=2,Or(y,_,M,P,g)),g&&W&2048&&vm(_.alternate,_);break;case 24:Or(y,_,M,P,g),g&&W&2048&&_m(_.alternate,_);break;default:Or(y,_,M,P,g)}r=r.sibling}}function ol(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=i,h=r,g=h.flags;switch(h.tag){case 22:ol(c,h),g&2048&&vm(h.alternate,h);break;case 24:ol(c,h),g&2048&&_m(h.alternate,h);break;default:ol(c,h)}r=r.sibling}}var ll=8192;function Rr(i,r,c){if(i.subtreeFlags&ll)for(i=i.child;i!==null;)av(i,r,c),i=i.sibling}function av(i,r,c){switch(i.tag){case 26:Rr(i,r,c),i.flags&ll&&i.memoizedState!==null&&v5(c,as,i.memoizedState,i.memoizedProps);break;case 5:Rr(i,r,c);break;case 3:case 4:var h=as;as=Vu(i.stateNode.containerInfo),Rr(i,r,c),as=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=ll,ll=16777216,Rr(i,r,c),ll=h):Rr(i,r,c));break;default:Rr(i,r,c)}}function rv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function cl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Ht=h,lv(h,i)}rv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ov(i),i=i.sibling}function ov(i){switch(i.tag){case 0:case 11:case 15:cl(i),i.flags&2048&&Ri(9,i,i.return);break;case 3:cl(i);break;case 12:cl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Nu(i)):cl(i);break;default:cl(i)}}function Nu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Ht=h,lv(h,i)}rv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ri(8,r,r.return),Nu(r);break;case 22:c=r.stateNode,c._visibility&2&&(c._visibility&=-3,Nu(r));break;default:Nu(r)}i=i.sibling}}function lv(i,r){for(;Ht!==null;){var c=Ht;switch(c.tag){case 0:case 11:case 15:Ri(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:qo(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Ht=h;else e:for(c=i;Ht!==null;){h=Ht;var g=h.sibling,y=h.return;if(Qb(h),h===c){Ht=null;break e}if(g!==null){g.return=y,Ht=g;break e}Ht=y}}}var LT={getCacheForType:function(i){var r=qt(At),c=r.data.get(i);return c===void 0&&(c=i(),r.data.set(i,c)),c},cacheSignal:function(){return qt(At).controller.signal}},zT=typeof WeakMap=="function"?WeakMap:Map,Xe=0,it=null,Oe=null,ze=0,Ze=0,Tn=null,Li=!1,Lr=!1,wm=!1,Ks=0,_t=0,zi=0,Ca=0,Sm=0,Dn=0,zr=0,ul=null,xn=null,jm=!1,Mu=0,cv=0,Tu=1/0,Du=null,Pi=null,Pt=0,Bi=null,Pr=null,Zs=0,km=0,Nm=null,uv=null,dl=0,Mm=null;function Cn(){return(Xe&2)!==0&&ze!==0?ze&-ze:H.T!==null?Om():N0()}function dv(){if(Dn===0)if((ze&536870912)===0||Fe){var i=rt;rt<<=1,(rt&3932160)===0&&(rt=262144),Dn=i}else Dn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),Dn}function yn(i,r,c){(i===it&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)&&(Br(i,0),Vi(i,ze,Dn,!1)),xe(i,c),((Xe&2)===0||i!==it)&&(i===it&&((Xe&2)===0&&(Ca|=c),_t===4&&Vi(i,ze,Dn,!1)),ws(i))}function hv(i,r,c){if((Xe&6)!==0)throw Error(s(327));var h=!c&&(r&127)===0&&(r&i.expiredLanes)===0||un(i,r),g=h?VT(i,r):Dm(i,r,!0),y=h;do{if(g===0){Lr&&!h&&Vi(i,r,0,!1);break}else{if(c=i.current.alternate,y&&!PT(c)){g=Dm(i,r,!1),y=!1;continue}if(g===2){if(y=r,i.errorRecoveryDisabledLanes&y)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var M=i;g=ul;var P=M.current.memoizedState.isDehydrated;if(P&&(Br(M,_).flags|=256),_=Dm(M,_,!1),_!==2){if(wm&&!P){M.errorRecoveryDisabledLanes|=y,Ca|=y,g=4;break e}y=xn,xn=g,y!==null&&(xn===null?xn=y:xn.push.apply(xn,y))}g=_}if(y=!1,g!==2)continue}}if(g===1){Br(i,0),Vi(i,r,0,!0);break}e:{switch(h=i,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vi(h,r,Dn,!Li);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=Mu+300-Zt(),10<g)){if(Vi(h,r,Dn,!Li),Qt(h,0,!0)!==0)break e;Zs=r,h.timeoutHandle=Yv(fv.bind(null,h,c,xn,Du,jm,r,Dn,Ca,zr,Li,y,"Throttled",-0,0),g);break e}fv(h,c,xn,Du,jm,r,Dn,Ca,zr,Li,y,null,-0,0)}}break}while(!0);ws(i)}function fv(i,r,c,h,g,y,_,M,P,W,K,Q,I,q){if(i.timeoutHandle=-1,Q=r.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zs},av(r,y,Q);var fe=(y&62914560)===y?Mu-Zt():(y&4194048)===y?cv-Zt():0;if(fe=_5(Q,fe),fe!==null){Zs=y,i.cancelPendingCommit=fe(_v.bind(null,i,r,y,c,h,g,_,M,P,K,Q,null,I,q)),Vi(i,y,_,!W);return}}_v(i,r,y,c,h,g,_,M,P)}function PT(i){for(var r=i;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!jn(y(),g))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vi(i,r,c,h){r&=~Sm,r&=~Ca,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var y=31-Yt(g),_=1<<y;h[y]=-1,g&=~_}c!==0&&Jt(i,c,r)}function Cu(){return(Xe&6)===0?(hl(0),!1):!0}function Tm(){if(Oe!==null){if(Ze===0)var i=Oe.return;else i=Oe,Fs=_a=null,Wf(i),Tr=null,$o=0,i=Oe;for(;i!==null;)Wb(i.alternate,i),i=i.return;Oe=null}}function Br(i,r){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,s5(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Zs=0,Tm(),it=i,Oe=c=Bs(i.current,null),ze=r,Ze=0,Tn=null,Li=!1,Lr=un(i,r),wm=!1,zr=Dn=Sm=Ca=zi=_t=0,xn=ul=null,jm=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-Yt(h),y=1<<g;r|=i[g],h&=~y}return Ks=r,Zc(),c}function mv(i,r){Me=null,H.H=nl,r===Mr||r===au?(r=Cy(),Ze=3):r===Ef?(r=Cy(),Ze=4):Ze=r===rm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Oe===null&&(_t=1,bu(i,Vn(r,i.current)))}function pv(){var i=Nn.current;return i===null?!0:(ze&4194048)===ze?Yn===null:(ze&62914560)===ze||(ze&536870912)!==0?i===Yn:!1}function gv(){var i=H.H;return H.H=nl,i===null?nl:i}function xv(){var i=H.A;return H.A=LT,i}function Au(){_t=4,Li||(ze&4194048)!==ze&&Nn.current!==null||(Lr=!0),(zi&134217727)===0&&(Ca&134217727)===0||it===null||Vi(it,ze,Dn,!1)}function Dm(i,r,c){var h=Xe;Xe|=2;var g=gv(),y=xv();(it!==i||ze!==r)&&(Du=null,Br(i,r)),r=!1;var _=_t;e:do try{if(Ze!==0&&Oe!==null){var M=Oe,P=Tn;switch(Ze){case 8:Tm(),_=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var W=Ze;if(Ze=0,Tn=null,Vr(i,M,P,W),c&&Lr){_=0;break e}break;default:W=Ze,Ze=0,Tn=null,Vr(i,M,P,W)}}BT(),_=_t;break}catch(K){mv(i,K)}while(!0);return r&&i.shellSuspendCounter++,Fs=_a=null,Xe=h,H.H=g,H.A=y,Oe===null&&(it=null,ze=0,Zc()),_}function BT(){for(;Oe!==null;)yv(Oe)}function VT(i,r){var c=Xe;Xe|=2;var h=gv(),g=xv();it!==i||ze!==r?(Du=null,Tu=Zt()+500,Br(i,r)):Lr=un(i,r);e:do try{if(Ze!==0&&Oe!==null){r=Oe;var y=Tn;t:switch(Ze){case 1:Ze=0,Tn=null,Vr(i,r,y,1);break;case 2:case 9:if(Ty(y)){Ze=0,Tn=null,bv(r);break}r=function(){Ze!==2&&Ze!==9||it!==i||(Ze=7),ws(i)},y.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ty(y)?(Ze=0,Tn=null,bv(r)):(Ze=0,Tn=null,Vr(i,r,y,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var M=Oe;if(_?i1(_):M.stateNode.complete){Ze=0,Tn=null;var P=M.sibling;if(P!==null)Oe=P;else{var W=M.return;W!==null?(Oe=W,Eu(W)):Oe=null}break t}}Ze=0,Tn=null,Vr(i,r,y,5);break;case 6:Ze=0,Tn=null,Vr(i,r,y,6);break;case 8:Tm(),_t=6;break e;default:throw Error(s(462))}}FT();break}catch(K){mv(i,K)}while(!0);return Fs=_a=null,H.H=h,H.A=g,Xe=c,Oe!==null?0:(it=null,ze=0,Zc(),_t)}function FT(){for(;Oe!==null&&!gs();)yv(Oe)}function yv(i){var r=Ub(i.alternate,i,Ks);i.memoizedProps=i.pendingProps,r===null?Eu(i):Oe=r}function bv(i){var r=i,c=r.alternate;switch(r.tag){case 15:case 0:r=zb(c,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=zb(c,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Wf(r);default:Wb(c,r),r=Oe=xy(r,Ks),r=Ub(c,r,Ks)}i.memoizedProps=i.pendingProps,r===null?Eu(i):Oe=r}function Vr(i,r,c,h){Fs=_a=null,Wf(r),Tr=null,$o=0;var g=r.return;try{if(TT(i,g,r,c,ze)){_t=1,bu(i,Vn(c,i.current)),Oe=null;return}}catch(y){if(g!==null)throw Oe=g,y;_t=1,bu(i,Vn(c,i.current)),Oe=null;return}r.flags&32768?(Fe||h===1?i=!0:Lr||(ze&536870912)!==0?i=!1:(Li=i=!0,(h===2||h===9||h===3||h===6)&&(h=Nn.current,h!==null&&h.tag===13&&(h.flags|=16384))),vv(r,i)):Eu(r)}function Eu(i){var r=i;do{if((r.flags&32768)!==0){vv(r,Li);return}i=r.return;var c=AT(r.alternate,r,Ks);if(c!==null){Oe=c;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=i}while(r!==null);_t===0&&(_t=5)}function vv(i,r){do{var c=ET(i.alternate,i);if(c!==null){c.flags&=32767,Oe=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=c}while(i!==null);_t=6,Oe=null}function _v(i,r,c,h,g,y,_,M,P){i.cancelPendingCommit=null;do Ou();while(Pt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=xf,ss(i,c,y,_,M,P),i===it&&(Oe=it=null,ze=0),Pr=r,Bi=i,Zs=c,km=y,Nm=g,uv=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,WT(ir,function(){return Nv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=H.T,H.T=null,g=$.p,$.p=2,_=Xe,Xe|=4;try{OT(i,r,c)}finally{Xe=_,$.p=g,H.T=h}}Pt=1,wv(),Sv(),jv()}}function wv(){if(Pt===1){Pt=0;var i=Bi,r=Pr,c=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||c){c=H.T,H.T=null;var h=$.p;$.p=2;var g=Xe;Xe|=4;try{nv(r,i);var y=Hm,_=ly(i.containerInfo),M=y.focusedElem,P=y.selectionRange;if(_!==M&&M&&M.ownerDocument&&oy(M.ownerDocument.documentElement,M)){if(P!==null&&hf(M)){var W=P.start,K=P.end;if(K===void 0&&(K=W),"selectionStart"in M)M.selectionStart=W,M.selectionEnd=Math.min(K,M.value.length);else{var Q=M.ownerDocument||document,I=Q&&Q.defaultView||window;if(I.getSelection){var q=I.getSelection(),fe=M.textContent.length,_e=Math.min(P.start,fe),nt=P.end===void 0?_e:Math.min(P.end,fe);!q.extend&&_e>nt&&(_=nt,nt=_e,_e=_);var F=ry(M,_e),B=ry(M,nt);if(F&&B&&(q.rangeCount!==1||q.anchorNode!==F.node||q.anchorOffset!==F.offset||q.focusNode!==B.node||q.focusOffset!==B.offset)){var Y=Q.createRange();Y.setStart(F.node,F.offset),q.removeAllRanges(),_e>nt?(q.addRange(Y),q.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),q.addRange(Y))}}}}for(Q=[],q=M;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Q.length;M++){var Z=Q[M];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Iu=!!Fm,Hm=Fm=null}finally{Xe=g,$.p=h,H.T=c}}i.current=r,Pt=2}}function Sv(){if(Pt===2){Pt=0;var i=Bi,r=Pr,c=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||c){c=H.T,H.T=null;var h=$.p;$.p=2;var g=Xe;Xe|=4;try{Zb(i,r.alternate,r)}finally{Xe=g,$.p=h,H.T=c}}Pt=3}}function jv(){if(Pt===4||Pt===3){Pt=0,Ih();var i=Bi,r=Pr,c=Zs,h=uv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,Pr=Bi=null,kv(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Pi=null),Eo(c),r=r.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(_i,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=H.T,g=$.p,$.p=2,H.T=null;try{for(var y=i.onRecoverableError,_=0;_<h.length;_++){var M=h[_];y(M.value,{componentStack:M.stack})}}finally{H.T=r,$.p=g}}(Zs&3)!==0&&Ou(),ws(i),g=i.pendingLanes,(c&261930)!==0&&(g&42)!==0?i===Mm?dl++:(dl=0,Mm=i):dl=0,hl(0)}}function kv(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,qo(r)))}function Ou(){return wv(),Sv(),jv(),Nv()}function Nv(){if(Pt!==5)return!1;var i=Bi,r=km;km=0;var c=Eo(Zs),h=H.T,g=$.p;try{$.p=32>c?32:c,H.T=null,c=Nm,Nm=null;var y=Bi,_=Zs;if(Pt=0,Pr=Bi=null,Zs=0,(Xe&6)!==0)throw Error(s(331));var M=Xe;if(Xe|=4,ov(y.current),iv(y,y.current,_,c),Xe=M,hl(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(_i,y)}catch{}return!0}finally{$.p=g,H.T=h,kv(i,r)}}function Mv(i,r,c){r=Vn(c,r),r=am(i.stateNode,r,2),i=Ai(i,r,2),i!==null&&(xe(i,2),ws(i))}function Qe(i,r,c){if(i.tag===3)Mv(i,i,c);else for(;r!==null;){if(r.tag===3){Mv(r,i,c);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pi===null||!Pi.has(h))){i=Vn(c,i),c=Tb(2),h=Ai(r,c,2),h!==null&&(Db(c,h,r,i),xe(h,2),ws(h));break}}r=r.return}}function Cm(i,r,c){var h=i.pingCache;if(h===null){h=i.pingCache=new zT;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(c)||(wm=!0,g.add(c),i=HT.bind(null,i,r,c),r.then(i,i))}function HT(i,r,c){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,it===i&&(ze&c)===c&&(_t===4||_t===3&&(ze&62914560)===ze&&300>Zt()-Mu?(Xe&2)===0&&Br(i,0):Sm|=c,zr===ze&&(zr=0)),ws(i)}function Tv(i,r){r===0&&(r=ys()),i=ya(i,r),i!==null&&(xe(i,r),ws(i))}function UT(i){var r=i.memoizedState,c=0;r!==null&&(c=r.retryLane),Tv(i,c)}function YT(i,r){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),Tv(i,c)}function WT(i,r){return tr(i,r)}var Ru=null,Fr=null,Am=!1,Lu=!1,Em=!1,Fi=0;function ws(i){i!==Fr&&i.next===null&&(Fr===null?Ru=Fr=i:Fr=Fr.next=i),Lu=!0,Am||(Am=!0,qT())}function hl(i,r){if(!Em&&Lu){Em=!0;do for(var c=!1,h=Ru;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var _=h.suspendedLanes,M=h.pingedLanes;y=(1<<31-Yt(42|i)+1)-1,y&=g&~(_&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Ev(h,y))}else y=ze,y=Qt(h,h===it?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||un(h,y)||(c=!0,Ev(h,y));h=h.next}while(c);Em=!1}}function IT(){Dv()}function Dv(){Lu=Am=!1;var i=0;Fi!==0&&n5()&&(i=Fi);for(var r=Zt(),c=null,h=Ru;h!==null;){var g=h.next,y=Cv(h,r);y===0?(h.next=null,c===null?Ru=g:c.next=g,g===null&&(Fr=c)):(c=h,(i!==0||(y&3)!==0)&&(Lu=!0)),h=g}Pt!==0&&Pt!==5||hl(i),Fi!==0&&(Fi=0)}function Cv(i,r){for(var c=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var _=31-Yt(y),M=1<<_,P=g[_];P===-1?((M&c)===0||(M&h)!==0)&&(g[_]=xs(M,r)):P<=r&&(i.expiredLanes|=M),y&=~M}if(r=it,c=ze,c=Qt(i,i===r?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===r&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&nr(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||un(i,c)){if(r=c&-c,r===i.callbackPriority)return r;switch(h!==null&&nr(h),Eo(c)){case 2:case 8:c=ts;break;case 32:c=ir;break;case 268435456:c=Rs;break;default:c=ir}return h=Av.bind(null,i),c=tr(c,h),i.callbackPriority=r,i.callbackNode=c,r}return h!==null&&h!==null&&nr(h),i.callbackPriority=2,i.callbackNode=null,2}function Av(i,r){if(Pt!==0&&Pt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Ou()&&i.callbackNode!==c)return null;var h=ze;return h=Qt(i,i===it?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(hv(i,h,r),Cv(i,Zt()),i.callbackNode!=null&&i.callbackNode===c?Av.bind(null,i):null)}function Ev(i,r){if(Ou())return null;hv(i,r,!0)}function qT(){i5(function(){(Xe&6)!==0?tr(Do,IT):Dv()})}function Om(){if(Fi===0){var i=kr;i===0&&(i=Ee,Ee<<=1,(Ee&261888)===0&&(Ee=256)),Fi=i}return Fi}function Ov(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yc(""+i)}function Rv(i,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,i.id&&c.setAttribute("form",i.id),r.parentNode.insertBefore(c,r),i=new FormData(i),c.parentNode.removeChild(c),i}function GT(i,r,c,h,g){if(r==="submit"&&c&&c.stateNode===g){var y=Ov((g[hn]||null).action),_=h.submitter;_&&(r=(r=_[hn]||null)?Ov(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var M=new Gc("action","action",null,h,g);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Fi!==0){var P=_?Rv(g,_):new FormData(g);Jf(c,{pending:!0,data:P,method:g.method,action:y},null,P)}}else typeof y=="function"&&(M.preventDefault(),P=_?Rv(g,_):new FormData(g),Jf(c,{pending:!0,data:P,method:g.method,action:y},y,P))},currentTarget:g}]})}}for(var Rm=0;Rm<gf.length;Rm++){var Lm=gf[Rm],$T=Lm.toLowerCase(),XT=Lm[0].toUpperCase()+Lm.slice(1);is($T,"on"+XT)}is(dy,"onAnimationEnd"),is(hy,"onAnimationIteration"),is(fy,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(dT,"onTransitionRun"),is(hT,"onTransitionStart"),is(fT,"onTransitionCancel"),is(my,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function Lv(i,r){r=(r&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],g=h.event;h=h.listeners;e:{var y=void 0;if(r)for(var _=h.length-1;0<=_;_--){var M=h[_],P=M.instance,W=M.currentTarget;if(M=M.listener,P!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=W;try{y(g)}catch(K){Kc(K)}g.currentTarget=null,y=P}else for(_=0;_<h.length;_++){if(M=h[_],P=M.instance,W=M.currentTarget,M=M.listener,P!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=W;try{y(g)}catch(K){Kc(K)}g.currentTarget=null,y=P}}}}function Re(i,r){var c=r[Gh];c===void 0&&(c=r[Gh]=new Set);var h=i+"__bubble";c.has(h)||(zv(r,i,2,!1),c.add(h))}function zm(i,r,c){var h=0;r&&(h|=4),zv(c,i,h,r)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Pm(i){if(!i[zu]){i[zu]=!0,D0.forEach(function(c){c!=="selectionchange"&&(KT.has(c)||zm(c,!1,i),zm(c,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[zu]||(r[zu]=!0,zm("selectionchange",!1,r))}}function zv(i,r,c,h){switch(d1(r)){case 2:var g=j5;break;case 8:g=k5;break;default:g=Qm}c=g.bind(null,r,c,i),g=void 0,!nf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,c,{capture:!0,passive:g}):i.addEventListener(r,c,!0):g!==void 0?i.addEventListener(r,c,{passive:g}):i.addEventListener(r,c,!1)}function Bm(i,r,c,h,g){var y=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var M=h.stateNode.containerInfo;if(M===g)break;if(_===4)for(_=h.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;M!==null;){if(_=lr(M),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){h=y=_;continue e}M=M.parentNode}}h=h.return}H0(function(){var W=y,K=ef(c),Q=[];e:{var I=py.get(i);if(I!==void 0){var q=Gc,fe=i;switch(i){case"keypress":if(Ic(c)===0)break e;case"keydown":case"keyup":q=YM;break;case"focusin":fe="focus",q=of;break;case"focusout":fe="blur",q=of;break;case"beforeblur":case"afterblur":q=of;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=AM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=qM;break;case dy:case hy:case fy:q=RM;break;case my:q=$M;break;case"scroll":case"scrollend":q=DM;break;case"wheel":q=KM;break;case"copy":case"cut":case"paste":q=zM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=q0;break;case"toggle":case"beforetoggle":q=QM}var _e=(r&4)!==0,nt=!_e&&(i==="scroll"||i==="scrollend"),F=_e?I!==null?I+"Capture":null:I;_e=[];for(var B=W,Y;B!==null;){var Z=B;if(Y=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||Y===null||F===null||(Z=Lo(B,F),Z!=null&&_e.push(ml(B,Z,Y))),nt)break;B=B.return}0<_e.length&&(I=new q(I,fe,null,c,K),Q.push({event:I,listeners:_e}))}}if((r&7)===0){e:{if(I=i==="mouseover"||i==="pointerover",q=i==="mouseout"||i==="pointerout",I&&c!==Jh&&(fe=c.relatedTarget||c.fromElement)&&(lr(fe)||fe[or]))break e;if((q||I)&&(I=K.window===K?K:(I=K.ownerDocument)?I.defaultView||I.parentWindow:window,q?(fe=c.relatedTarget||c.toElement,q=W,fe=fe?lr(fe):null,fe!==null&&(nt=o(fe),_e=fe.tag,fe!==nt||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(q=null,fe=W),q!==fe)){if(_e=W0,Z="onMouseLeave",F="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(_e=q0,Z="onPointerLeave",F="onPointerEnter",B="pointer"),nt=q==null?I:Ro(q),Y=fe==null?I:Ro(fe),I=new _e(Z,B+"leave",q,c,K),I.target=nt,I.relatedTarget=Y,Z=null,lr(K)===W&&(_e=new _e(F,B+"enter",fe,c,K),_e.target=Y,_e.relatedTarget=nt,Z=_e),nt=Z,q&&fe)t:{for(_e=ZT,F=q,B=fe,Y=0,Z=F;Z;Z=_e(Z))Y++;Z=0;for(var ye=B;ye;ye=_e(ye))Z++;for(;0<Y-Z;)F=_e(F),Y--;for(;0<Z-Y;)B=_e(B),Z--;for(;Y--;){if(F===B||B!==null&&F===B.alternate){_e=F;break t}F=_e(F),B=_e(B)}_e=null}else _e=null;q!==null&&Pv(Q,I,q,_e,!1),fe!==null&&nt!==null&&Pv(Q,nt,fe,_e,!0)}}e:{if(I=W?Ro(W):window,q=I.nodeName&&I.nodeName.toLowerCase(),q==="select"||q==="input"&&I.type==="file")var Ye=ey;else if(Q0(I))if(ty)Ye=lT;else{Ye=rT;var ge=aT}else q=I.nodeName,!q||q.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?W&&Qh(W.elementType)&&(Ye=ey):Ye=oT;if(Ye&&(Ye=Ye(i,W))){J0(Q,Ye,c,K);break e}ge&&ge(i,I,W),i==="focusout"&&W&&I.type==="number"&&W.memoizedProps.value!=null&&Zh(I,"number",I.value)}switch(ge=W?Ro(W):window,i){case"focusin":(Q0(ge)||ge.contentEditable==="true")&&(xr=ge,ff=W,Yo=null);break;case"focusout":Yo=ff=xr=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,cy(Q,c,K);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":cy(Q,c,K)}var De;if(cf)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else gr?K0(i,c)&&(Pe="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(G0&&c.locale!=="ko"&&(gr||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&gr&&(De=U0()):(ji=K,sf="value"in ji?ji.value:ji.textContent,gr=!0)),ge=Pu(W,Pe),0<ge.length&&(Pe=new I0(Pe,i,null,c,K),Q.push({event:Pe,listeners:ge}),De?Pe.data=De:(De=Z0(c),De!==null&&(Pe.data=De)))),(De=eT?tT(i,c):nT(i,c))&&(Pe=Pu(W,"onBeforeInput"),0<Pe.length&&(ge=new I0("onBeforeInput","beforeinput",null,c,K),Q.push({event:ge,listeners:Pe}),ge.data=De)),GT(Q,i,W,c,K)}Lv(Q,r)})}function ml(i,r,c){return{instance:i,listener:r,currentTarget:c}}function Pu(i,r){for(var c=r+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Lo(i,c),g!=null&&h.unshift(ml(i,g,y)),g=Lo(i,r),g!=null&&h.push(ml(i,g,y))),i.tag===3)return h;i=i.return}return[]}function ZT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Pv(i,r,c,h,g){for(var y=r._reactName,_=[];c!==null&&c!==h;){var M=c,P=M.alternate,W=M.stateNode;if(M=M.tag,P!==null&&P===h)break;M!==5&&M!==26&&M!==27||W===null||(P=W,g?(W=Lo(c,y),W!=null&&_.unshift(ml(c,W,P))):g||(W=Lo(c,y),W!=null&&_.push(ml(c,W,P)))),c=c.return}_.length!==0&&i.push({event:r,listeners:_})}var QT=/\r\n?/g,JT=/\u0000|\uFFFD/g;function Bv(i){return(typeof i=="string"?i:""+i).replace(QT,`
`).replace(JT,"")}function Vv(i,r){return r=Bv(r),Bv(i)===r}function tt(i,r,c,h,g,y){switch(c){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||fr(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&fr(i,""+h);break;case"className":Hc(i,"class",h);break;case"tabIndex":Hc(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Hc(i,c,h);break;case"style":V0(i,h,y);break;case"data":if(r!=="object"){Hc(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Yc(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(r!=="input"&&tt(i,r,"name",g.name,g,null),tt(i,r,"formEncType",g.formEncType,g,null),tt(i,r,"formMethod",g.formMethod,g,null),tt(i,r,"formTarget",g.formTarget,g,null)):(tt(i,r,"encType",g.encType,g,null),tt(i,r,"method",g.method,g,null),tt(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Yc(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=zs);break;case"onScroll":h!=null&&Re("scroll",i);break;case"onScrollEnd":h!=null&&Re("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=Yc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":Re("beforetoggle",i),Re("toggle",i),Fc(i,"popover",h);break;case"xlinkActuate":Ls(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ls(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ls(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ls(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ls(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ls(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ls(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ls(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ls(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Fc(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=MM.get(c)||c,Fc(i,c,h))}}function Vm(i,r,c,h,g,y){switch(c){case"style":V0(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"children":typeof h=="string"?fr(i,h):(typeof h=="number"||typeof h=="bigint")&&fr(i,""+h);break;case"onScroll":h!=null&&Re("scroll",i);break;case"onScrollEnd":h!=null&&Re("scrollend",i);break;case"onClick":h!=null&&(i.onclick=zs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!C0.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),r=c.slice(2,g?c.length-7:void 0),y=i[hn]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(r,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(r,h,g);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Fc(i,c,h)}}}function $t(i,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",i),Re("load",i);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var _=c[y];if(_!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,y,_,c,null)}}g&&tt(i,r,"srcSet",c.srcSet,c,null),h&&tt(i,r,"src",c.src,c,null);return;case"input":Re("invalid",i);var M=y=_=g=null,P=null,W=null;for(h in c)if(c.hasOwnProperty(h)){var K=c[h];if(K!=null)switch(h){case"name":g=K;break;case"type":_=K;break;case"checked":P=K;break;case"defaultChecked":W=K;break;case"value":y=K;break;case"defaultValue":M=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:tt(i,r,h,K,c,null)}}L0(i,y,M,P,W,_,g,!1);return;case"select":Re("invalid",i),h=_=y=null;for(g in c)if(c.hasOwnProperty(g)&&(M=c[g],M!=null))switch(g){case"value":y=M;break;case"defaultValue":_=M;break;case"multiple":h=M;default:tt(i,r,g,M,c,null)}r=y,c=_,i.multiple=!!h,r!=null?hr(i,!!h,r,!1):c!=null&&hr(i,!!h,c,!0);return;case"textarea":Re("invalid",i),y=g=h=null;for(_ in c)if(c.hasOwnProperty(_)&&(M=c[_],M!=null))switch(_){case"value":h=M;break;case"defaultValue":g=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:tt(i,r,_,M,c,null)}P0(i,h,g,y);return;case"option":for(P in c)c.hasOwnProperty(P)&&(h=c[P],h!=null)&&(P==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":tt(i,r,P,h,c,null));return;case"dialog":Re("beforetoggle",i),Re("toggle",i),Re("cancel",i),Re("close",i);break;case"iframe":case"object":Re("load",i);break;case"video":case"audio":for(h=0;h<fl.length;h++)Re(fl[h],i);break;case"image":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"embed":case"source":case"link":Re("error",i),Re("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in c)if(c.hasOwnProperty(W)&&(h=c[W],h!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,W,h,c,null)}return;default:if(Qh(r)){for(K in c)c.hasOwnProperty(K)&&(h=c[K],h!==void 0&&Vm(i,r,K,h,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(h=c[M],h!=null&&tt(i,r,M,h,c,null))}function e5(i,r,c,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,_=null,M=null,P=null,W=null,K=null;for(q in c){var Q=c[q];if(c.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":P=Q;default:h.hasOwnProperty(q)||tt(i,r,q,null,h,Q)}}for(var I in h){var q=h[I];if(Q=c[I],h.hasOwnProperty(I)&&(q!=null||Q!=null))switch(I){case"type":y=q;break;case"name":g=q;break;case"checked":W=q;break;case"defaultChecked":K=q;break;case"value":_=q;break;case"defaultValue":M=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==Q&&tt(i,r,I,q,h,Q)}}Kh(i,_,M,P,W,K,y,g);return;case"select":q=_=M=I=null;for(y in c)if(P=c[y],c.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":q=P;default:h.hasOwnProperty(y)||tt(i,r,y,null,h,P)}for(g in h)if(y=h[g],P=c[g],h.hasOwnProperty(g)&&(y!=null||P!=null))switch(g){case"value":I=y;break;case"defaultValue":M=y;break;case"multiple":_=y;default:y!==P&&tt(i,r,g,y,h,P)}r=M,c=_,h=q,I!=null?hr(i,!!c,I,!1):!!h!=!!c&&(r!=null?hr(i,!!c,r,!0):hr(i,!!c,c?[]:"",!1));return;case"textarea":q=I=null;for(M in c)if(g=c[M],c.hasOwnProperty(M)&&g!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:tt(i,r,M,null,h,g)}for(_ in h)if(g=h[_],y=c[_],h.hasOwnProperty(_)&&(g!=null||y!=null))switch(_){case"value":I=g;break;case"defaultValue":q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&tt(i,r,_,g,h,y)}z0(i,I,q);return;case"option":for(var fe in c)I=c[fe],c.hasOwnProperty(fe)&&I!=null&&!h.hasOwnProperty(fe)&&(fe==="selected"?i.selected=!1:tt(i,r,fe,null,h,I));for(P in h)I=h[P],q=c[P],h.hasOwnProperty(P)&&I!==q&&(I!=null||q!=null)&&(P==="selected"?i.selected=I&&typeof I!="function"&&typeof I!="symbol":tt(i,r,P,I,h,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in c)I=c[_e],c.hasOwnProperty(_e)&&I!=null&&!h.hasOwnProperty(_e)&&tt(i,r,_e,null,h,I);for(W in h)if(I=h[W],q=c[W],h.hasOwnProperty(W)&&I!==q&&(I!=null||q!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,r));break;default:tt(i,r,W,I,h,q)}return;default:if(Qh(r)){for(var nt in c)I=c[nt],c.hasOwnProperty(nt)&&I!==void 0&&!h.hasOwnProperty(nt)&&Vm(i,r,nt,void 0,h,I);for(K in h)I=h[K],q=c[K],!h.hasOwnProperty(K)||I===q||I===void 0&&q===void 0||Vm(i,r,K,I,h,q);return}}for(var F in c)I=c[F],c.hasOwnProperty(F)&&I!=null&&!h.hasOwnProperty(F)&&tt(i,r,F,null,h,I);for(Q in h)I=h[Q],q=c[Q],!h.hasOwnProperty(Q)||I===q||I==null&&q==null||tt(i,r,Q,I,h,q)}function Fv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t5(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],y=g.transferSize,_=g.initiatorType,M=g.duration;if(y&&M&&Fv(_)){for(_=0,M=g.responseEnd,h+=1;h<c.length;h++){var P=c[h],W=P.startTime;if(W>M)break;var K=P.transferSize,Q=P.initiatorType;K&&Fv(Q)&&(P=P.responseEnd,_+=K*(P<M?1:(M-W)/(P-W)))}if(--h,r+=8*(y+_)/(g.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Fm=null,Hm=null;function Bu(i){return i.nodeType===9?i:i.ownerDocument}function Hv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uv(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Um(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ym=null;function n5(){var i=window.event;return i&&i.type==="popstate"?i===Ym?!1:(Ym=i,!0):(Ym=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,s5=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,i5=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(i){return Wv.resolve(null).then(i).catch(a5)}:Yv;function a5(i){setTimeout(function(){throw i})}function Hi(i){return i==="head"}function Iv(i,r){var c=r,h=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(g),Wr(r);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")pl(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,pl(c);for(var y=c.firstChild;y;){var _=y.nextSibling,M=y.nodeName;y[Oo]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=_}}else c==="body"&&pl(i.ownerDocument.body);c=g}while(c);Wr(r)}function qv(i,r){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?r?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(r?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function Wm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Wm(c),$h(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function r5(i,r,c,h){for(;i.nodeType===1;){var g=c;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Oo])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function o5(i,r,c){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Wn(i.nextSibling),i===null))return null;return i}function Gv(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Wn(i.nextSibling),i===null))return null;return i}function Im(i){return i.data==="$?"||i.data==="$~"}function qm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function l5(i,r){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||c.readyState!=="loading")r();else{var h=function(){r(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Wn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Gm=null;function $v(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(r===0)return Wn(i.nextSibling);r--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||r++}i=i.nextSibling}return null}function Xv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(r===0)return i;r--}else c!=="/$"&&c!=="/&"||r++}i=i.previousSibling}return null}function Kv(i,r,c){switch(r=Bu(c),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function pl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);$h(i)}var In=new Map,Zv=new Set;function Vu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Qs=$.d;$.d={f:c5,r:u5,D:d5,C:h5,L:f5,m:m5,X:g5,S:p5,M:x5};function c5(){var i=Qs.f(),r=Cu();return i||r}function u5(i){var r=cr(i);r!==null&&r.tag===5&&r.type==="form"?mb(r):Qs.r(i)}var Hr=typeof document>"u"?null:document;function Qv(i,r,c){var h=Hr;if(h&&typeof r=="string"&&r){var g=Pn(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),Zv.has(g)||(Zv.add(g),i={rel:i,crossOrigin:c,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),$t(r,"link",i),Ft(r),h.head.appendChild(r)))}}function d5(i){Qs.D(i),Qv("dns-prefetch",i,null)}function h5(i,r){Qs.C(i,r),Qv("preconnect",i,r)}function f5(i,r,c){Qs.L(i,r,c);var h=Hr;if(h&&i&&r){var g='link[rel="preload"][as="'+Pn(r)+'"]';r==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Pn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Pn(c.imageSizes)+'"]')):g+='[href="'+Pn(i)+'"]';var y=g;switch(r){case"style":y=Ur(i);break;case"script":y=Yr(i)}In.has(y)||(i=x({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:i,as:r},c),In.set(y,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(gl(y))||r==="script"&&h.querySelector(xl(y))||(r=h.createElement("link"),$t(r,"link",i),Ft(r),h.head.appendChild(r)))}}function m5(i,r){Qs.m(i,r);var c=Hr;if(c&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Pn(h)+'"][href="'+Pn(i)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Yr(i)}if(!In.has(y)&&(i=x({rel:"modulepreload",href:i},r),In.set(y,i),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(xl(y)))return}h=c.createElement("link"),$t(h,"link",i),Ft(h),c.head.appendChild(h)}}}function p5(i,r,c){Qs.S(i,r,c);var h=Hr;if(h&&i){var g=ur(h).hoistableStyles,y=Ur(i);r=r||"default";var _=g.get(y);if(!_){var M={loading:0,preload:null};if(_=h.querySelector(gl(y)))M.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},c),(c=In.get(y))&&$m(i,c);var P=_=h.createElement("link");Ft(P),$t(P,"link",i),P._p=new Promise(function(W,K){P.onload=W,P.onerror=K}),P.addEventListener("load",function(){M.loading|=1}),P.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Fu(_,r,h)}_={type:"stylesheet",instance:_,count:1,state:M},g.set(y,_)}}}function g5(i,r){Qs.X(i,r);var c=Hr;if(c&&i){var h=ur(c).hoistableScripts,g=Yr(i),y=h.get(g);y||(y=c.querySelector(xl(g)),y||(i=x({src:i,async:!0},r),(r=In.get(g))&&Xm(i,r),y=c.createElement("script"),Ft(y),$t(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function x5(i,r){Qs.M(i,r);var c=Hr;if(c&&i){var h=ur(c).hoistableScripts,g=Yr(i),y=h.get(g);y||(y=c.querySelector(xl(g)),y||(i=x({src:i,async:!0,type:"module"},r),(r=In.get(g))&&Xm(i,r),y=c.createElement("script"),Ft(y),$t(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Jv(i,r,c,h){var g=(g=ce.current)?Vu(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=Ur(c.href),c=ur(g).hoistableStyles,h=c.get(r),h||(h={type:"style",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Ur(c.href);var y=ur(g).hoistableStyles,_=y.get(i);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,_),(y=g.querySelector(gl(i)))&&!y._p&&(_.instance=y,_.state.loading=5),In.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},In.set(i,c),y||y5(g,i,c,_.state))),r&&h===null)throw Error(s(528,""));return _}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Yr(c),c=ur(g).hoistableScripts,h=c.get(r),h||(h={type:"script",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ur(i){return'href="'+Pn(i)+'"'}function gl(i){return'link[rel="stylesheet"]['+i+"]"}function e1(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function y5(i,r,c,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),$t(r,"link",c),Ft(r),i.head.appendChild(r))}function Yr(i){return'[src="'+Pn(i)+'"]'}function xl(i){return"script[async]"+i}function t1(i,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+Pn(c.href)+'"]');if(h)return r.instance=h,Ft(h),h;var g=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ft(h),$t(h,"style",g),Fu(h,c.precedence,i),r.instance=h;case"stylesheet":g=Ur(c.href);var y=i.querySelector(gl(g));if(y)return r.state.loading|=4,r.instance=y,Ft(y),y;h=e1(c),(g=In.get(g))&&$m(h,g),y=(i.ownerDocument||i).createElement("link"),Ft(y);var _=y;return _._p=new Promise(function(M,P){_.onload=M,_.onerror=P}),$t(y,"link",h),r.state.loading|=4,Fu(y,c.precedence,i),r.instance=y;case"script":return y=Yr(c.src),(g=i.querySelector(xl(y)))?(r.instance=g,Ft(g),g):(h=c,(g=In.get(y))&&(h=x({},c),Xm(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ft(g),$t(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,Fu(h,c.precedence,i));return r.instance}function Fu(i,r,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,_=0;_<h.length;_++){var M=h[_];if(M.dataset.precedence===r)y=M;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(i,r.firstChild))}function $m(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Xm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Hu=null;function n1(i,r,c){if(Hu===null){var h=new Map,g=Hu=new Map;g.set(c,h)}else g=Hu,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),g=0;g<c.length;g++){var y=c[g];if(!(y[Oo]||y[Wt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=i+_;var M=h.get(_);M?M.push(y):h.set(_,[y])}}return h}function s1(i,r,c){i=i.ownerDocument||i,i.head.insertBefore(c,r==="title"?i.querySelector("head > title"):null)}function b5(i,r,c){if(c===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function i1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function v5(i,r,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=Ur(h.href),y=r.querySelector(gl(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Uu.bind(i),r.then(i,i)),c.state.loading|=4,c.instance=y,Ft(y);return}y=r.ownerDocument||r,h=e1(h),(g=In.get(g))&&$m(h,g),y=y.createElement("link"),Ft(y);var _=y;_._p=new Promise(function(M,P){_.onload=M,_.onerror=P}),$t(y,"link",h),c.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,r),(r=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Uu.bind(i),r.addEventListener("load",c),r.addEventListener("error",c))}}var Km=0;function _5(i,r){return i.stylesheets&&i.count===0&&Wu(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&Wu(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&Km===0&&(Km=62500*t5());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Wu(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Km?50:800)+r);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Yu=null;function Wu(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Yu=new Map,r.forEach(w5,i),Yu=null,Uu.call(i))}function w5(i,r){if(!(r.state.loading&4)){var c=Yu.get(i);if(c)var h=c.get(null);else{c=new Map,Yu.set(i,c);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var _=g[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(c.set(_.dataset.precedence,_),h=_)}h&&c.set(null,h)}g=r.instance,_=g.getAttribute("data-precedence"),y=c.get(_)||h,y===h&&c.set(null,g),c.set(_,g),this.count++,h=Uu.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var yl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function S5(i,r,c,h,g,y,_,M,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function a1(i,r,c,h,g,y,_,M,P,W,K,Q){return i=new S5(i,r,c,_,P,W,K,Q,M),r=1,y===!0&&(r|=24),y=kn(3,null,null,r),i.current=y,y.stateNode=i,r=Df(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:r},Of(y),i}function r1(i){return i?(i=vr,i):vr}function o1(i,r,c,h,g,y){g=r1(g),h.context===null?h.context=g:h.pendingContext=g,h=Ci(r),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=Ai(i,h,r),c!==null&&(yn(c,i,r),Ko(c,i,r))}function l1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<r?c:r}}function Zm(i,r){l1(i,r),(i=i.alternate)&&l1(i,r)}function c1(i){if(i.tag===13||i.tag===31){var r=ya(i,67108864);r!==null&&yn(r,i,67108864),Zm(i,67108864)}}function u1(i){if(i.tag===13||i.tag===31){var r=Cn();r=rr(r);var c=ya(i,r);c!==null&&yn(c,i,r),Zm(i,r)}}var Iu=!0;function j5(i,r,c,h){var g=H.T;H.T=null;var y=$.p;try{$.p=2,Qm(i,r,c,h)}finally{$.p=y,H.T=g}}function k5(i,r,c,h){var g=H.T;H.T=null;var y=$.p;try{$.p=8,Qm(i,r,c,h)}finally{$.p=y,H.T=g}}function Qm(i,r,c,h){if(Iu){var g=Jm(h);if(g===null)Bm(i,r,h,qu,c),h1(i,h);else if(M5(g,i,r,c,h))h.stopPropagation();else if(h1(i,h),r&4&&-1<N5.indexOf(i)){for(;g!==null;){var y=cr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Sn(y.pendingLanes);if(_!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var P=1<<31-Yt(_);M.entanglements[1]|=P,_&=~P}ws(y),(Xe&6)===0&&(Tu=Zt()+500,hl(0))}}break;case 31:case 13:M=ya(y,2),M!==null&&yn(M,y,2),Cu(),Zm(y,2)}if(y=Jm(h),y===null&&Bm(i,r,h,qu,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else Bm(i,r,h,null,c)}}function Jm(i){return i=ef(i),ep(i)}var qu=null;function ep(i){if(qu=null,i=lr(i),i!==null){var r=o(i);if(r===null)i=null;else{var c=r.tag;if(c===13){if(i=l(r),i!==null)return i;i=null}else if(c===31){if(i=u(r),i!==null)return i;i=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return qu=i,null}function d1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case Do:return 2;case ts:return 8;case ir:case qh:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var tp=!1,Ui=null,Yi=null,Wi=null,bl=new Map,vl=new Map,Ii=[],N5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h1(i,r){switch(i){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(r.pointerId)}}function _l(i,r,c,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},r!==null&&(r=cr(r),r!==null&&c1(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function M5(i,r,c,h,g){switch(r){case"focusin":return Ui=_l(Ui,i,r,c,h,g),!0;case"dragenter":return Yi=_l(Yi,i,r,c,h,g),!0;case"mouseover":return Wi=_l(Wi,i,r,c,h,g),!0;case"pointerover":var y=g.pointerId;return bl.set(y,_l(bl.get(y)||null,i,r,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,vl.set(y,_l(vl.get(y)||null,i,r,c,h,g)),!0}return!1}function f1(i){var r=lr(i.target);if(r!==null){var c=o(r);if(c!==null){if(r=c.tag,r===13){if(r=l(c),r!==null){i.blockedOn=r,M0(i.priority,function(){u1(c)});return}}else if(r===31){if(r=u(c),r!==null){i.blockedOn=r,M0(i.priority,function(){u1(c)});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gu(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var c=Jm(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Jh=h,c.target.dispatchEvent(h),Jh=null}else return r=cr(c),r!==null&&c1(r),i.blockedOn=c,!1;r.shift()}return!0}function m1(i,r,c){Gu(i)&&c.delete(r)}function T5(){tp=!1,Ui!==null&&Gu(Ui)&&(Ui=null),Yi!==null&&Gu(Yi)&&(Yi=null),Wi!==null&&Gu(Wi)&&(Wi=null),bl.forEach(m1),vl.forEach(m1)}function $u(i,r){i.blockedOn===r&&(i.blockedOn=null,tp||(tp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,T5)))}var Xu=null;function p1(i){Xu!==i&&(Xu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xu===i&&(Xu=null);for(var r=0;r<i.length;r+=3){var c=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(ep(h||c)===null)continue;break}var y=cr(c);y!==null&&(i.splice(r,3),r-=3,Jf(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Wr(i){function r(P){return $u(P,i)}Ui!==null&&$u(Ui,i),Yi!==null&&$u(Yi,i),Wi!==null&&$u(Wi,i),bl.forEach(r),vl.forEach(r);for(var c=0;c<Ii.length;c++){var h=Ii[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ii.length&&(c=Ii[0],c.blockedOn===null);)f1(c),c.blockedOn===null&&Ii.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],_=g[hn]||null;if(typeof y=="function")_||p1(c);else if(_){var M=null;if(y&&y.hasAttribute("formAction")){if(g=y,_=y[hn]||null)M=_.formAction;else if(ep(g)!==null)continue}else M=_.action;typeof M=="function"?c[h+1]=M:(c.splice(h,3),h-=3),p1(c)}}}function g1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return g=_})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function np(i){this._internalRoot=i}Ku.prototype.render=np.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var c=r.current,h=Cn();o1(c,h,i,r,null,null)},Ku.prototype.unmount=np.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;o1(i.current,2,null,i,null,null),Cu(),r[or]=null}};function Ku(i){this._internalRoot=i}Ku.prototype.unstable_scheduleHydration=function(i){if(i){var r=N0();i={blockedOn:null,target:i,priority:r};for(var c=0;c<Ii.length&&r!==0&&r<Ii[c].priority;c++);Ii.splice(c,0,i),c===0&&f1(i)}};var x1=e.version;if(x1!=="19.2.3")throw Error(s(527,x1,"19.2.3"));$.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var D5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{_i=Zu.inject(D5),cn=Zu}catch{}}return Sl.createRoot=function(i,r){if(!a(i))throw Error(s(299));var c=!1,h="",g=jb,y=kb,_=Nb;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=a1(i,1,!1,null,null,c,h,null,g,y,_,g1),i[or]=r.current,Pm(i),new np(r)},Sl.hydrateRoot=function(i,r,c){if(!a(i))throw Error(s(299));var h=!1,g="",y=jb,_=kb,M=Nb,P=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.formState!==void 0&&(P=c.formState)),r=a1(i,1,!0,r,c??null,h,g,P,y,_,M,g1),r.context=r1(null),c=r.current,h=Cn(),h=rr(h),g=Ci(h),g.callback=null,Ai(c,g,h),c=h,r.current.lanes=c,xe(r,c),ws(r),i[or]=r.current,Pm(i),new Ku(r)},Sl.version="19.2.3",Sl}var M1;function H5(){if(M1)return ap.exports;M1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ap.exports=F5(),ap.exports}var U5=H5();const Y5=Iw(U5);var $w=Gw();function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},sc.apply(this,arguments)}var Xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xi||(Xi={}));const T1="popstate";function W5(t){t===void 0&&(t={});function e(s,a){let{pathname:o,search:l,hash:u}=s.location;return $p("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:zd(a)}return q5(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ig(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I5(){return Math.random().toString(36).substr(2,8)}function D1(t,e){return{usr:t.state,key:t.key,idx:e}}function $p(t,e,n,s){return n===void 0&&(n=null),sc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xo(e):e,{state:n,key:e&&e.key||s||I5()})}function zd(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function q5(t,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,l=a.history,u=Xi.Pop,f=null,m=p();m==null&&(m=0,l.replaceState(sc({},l.state,{idx:m}),""));function p(){return(l.state||{idx:null}).idx}function x(){u=Xi.Pop;let j=p(),N=j==null?null:j-m;m=j,f&&f({action:u,location:S.location,delta:N})}function b(j,N){u=Xi.Push;let T=$p(S.location,j,N);m=p()+1;let A=D1(T,m),C=S.createHref(T);try{l.pushState(A,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(C)}o&&f&&f({action:u,location:S.location,delta:1})}function v(j,N){u=Xi.Replace;let T=$p(S.location,j,N);m=p();let A=D1(T,m),C=S.createHref(T);l.replaceState(A,"",C),o&&f&&f({action:u,location:S.location,delta:0})}function w(j){let N=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof j=="string"?j:zd(j);return T=T.replace(/ $/,"%20"),jt(N,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,N)}let S={get action(){return u},get location(){return t(a,l)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(T1,x),f=j,()=>{a.removeEventListener(T1,x),f=null}},createHref(j){return e(a,j)},createURL:w,encodeLocation(j){let N=w(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:v,go(j){return l.go(j)}};return S}var C1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C1||(C1={}));function G5(t,e,n){return n===void 0&&(n="/"),$5(t,e,n)}function $5(t,e,n,s){let a=typeof e=="string"?xo(e):e,o=lo(a.pathname||"/",n);if(o==null)return null;let l=Xw(t);X5(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=rD(o);u=iD(l[f],m)}return u}function Xw(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(jt(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let m=na([s,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Xw(o.children,e,p,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:nD(m,o.index),routesMeta:p})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let f of Kw(o.path))a(o,l,f)}),e}function Kw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let l=Kw(s.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function X5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const K5=/^:[\w-]+$/,Z5=3,Q5=2,J5=1,eD=10,tD=-2,A1=t=>t==="*";function nD(t,e){let n=t.split("/"),s=n.length;return n.some(A1)&&(s+=tD),e&&(s+=Q5),n.filter(a=>!A1(a)).reduce((a,o)=>a+(K5.test(o)?Z5:o===""?J5:eD),s)}function sD(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function iD(t,e,n){let{routesMeta:s}=t,a={},o="/",l=[];for(let u=0;u<s.length;++u){let f=s[u],m=u===s.length-1,p=o==="/"?e:e.slice(o.length)||"/",x=Xp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),b=f.route;if(!x)return null;Object.assign(a,x.params),l.push({params:a,pathname:na([o,x.pathname]),pathnameBase:dD(na([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=na([o,x.pathnameBase]))}return l}function Xp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=aD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((m,p,x)=>{let{paramName:b,isOptional:v}=p;if(b==="*"){let S=u[x]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?m[b]=void 0:m[b]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:t}}function aD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ig(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function rD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ig(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const oD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lD=t=>oD.test(t);function cD(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?xo(t):t,o;if(n)if(lD(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ig(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?o=E1(n.substring(1),"/"):o=E1(n,e)}else o=e;return{pathname:o,search:hD(s),hash:fD(a)}}function E1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function cp(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zw(t,e){let n=uD(t);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Qw(t,e,n,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=xo(t):(a=sc({},t),jt(!a.pathname||!a.pathname.includes("?"),cp("?","pathname","search",a)),jt(!a.pathname||!a.pathname.includes("#"),cp("#","pathname","hash",a)),jt(!a.search||!a.search.includes("#"),cp("#","search","hash",a)));let o=t===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=n;else{let x=e.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}u=x>=0?e[x]:"/"}let f=cD(a,u),m=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}const na=t=>t.join("/").replace(/\/\/+/g,"/"),dD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jw=["post","put","patch","delete"];new Set(Jw);const pD=["get",...Jw];new Set(pD);function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ic.apply(this,arguments)}const uh=k.createContext(null),eS=k.createContext(null),ua=k.createContext(null),dh=k.createContext(null),Ka=k.createContext({outlet:null,matches:[],isDataRoute:!1}),tS=k.createContext(null);function gD(t,e){let{relative:n}=e===void 0?{}:e;Sc()||jt(!1);let{basename:s,navigator:a}=k.useContext(ua),{hash:o,pathname:l,search:u}=hh(t,{relative:n}),f=l;return s!=="/"&&(f=l==="/"?s:na([s,l])),a.createHref({pathname:f,search:u,hash:o})}function Sc(){return k.useContext(dh)!=null}function Za(){return Sc()||jt(!1),k.useContext(dh).location}function nS(t){k.useContext(ua).static||k.useLayoutEffect(t)}function sS(){let{isDataRoute:t}=k.useContext(Ka);return t?DD():xD()}function xD(){Sc()||jt(!1);let t=k.useContext(uh),{basename:e,future:n,navigator:s}=k.useContext(ua),{matches:a}=k.useContext(Ka),{pathname:o}=Za(),l=JSON.stringify(Zw(a,n.v7_relativeSplatPath)),u=k.useRef(!1);return nS(()=>{u.current=!0}),k.useCallback(function(m,p){if(p===void 0&&(p={}),!u.current)return;if(typeof m=="number"){s.go(m);return}let x=Qw(m,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:na([e,x.pathname])),(p.replace?s.replace:s.push)(x,p.state,p)},[e,s,l,o,t])}function hh(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=k.useContext(ua),{matches:a}=k.useContext(Ka),{pathname:o}=Za(),l=JSON.stringify(Zw(a,s.v7_relativeSplatPath));return k.useMemo(()=>Qw(t,JSON.parse(l),o,n==="path"),[t,l,o,n])}function yD(t,e){return bD(t,e)}function bD(t,e,n,s){Sc()||jt(!1);let{navigator:a}=k.useContext(ua),{matches:o}=k.useContext(Ka),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let m=Za(),p;if(e){var x;let j=typeof e=="string"?xo(e):e;f==="/"||(x=j.pathname)!=null&&x.startsWith(f)||jt(!1),p=j}else p=m;let b=p.pathname||"/",v=b;if(f!=="/"){let j=f.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=G5(t,{pathname:v}),S=jD(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:na([f,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:na([f,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,s);return e&&S?k.createElement(dh.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Xi.Pop}},S):S}function vD(){let t=TD(),e=mD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,null)}const _D=k.createElement(vD,null);class wD extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Ka.Provider,{value:this.props.routeContext},k.createElement(tS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SD(t){let{routeContext:e,match:n,children:s}=t,a=k.useContext(uh);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ka.Provider,{value:e},s)}function jD(t,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let p=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);p>=0||jt(!1),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<l.length;p++){let x=l[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=p),x.route.id){let{loaderData:b,errors:v}=n,w=x.route.loader&&b[x.route.id]===void 0&&(!v||v[x.route.id]===void 0);if(x.route.lazy||w){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,x,b)=>{let v,w=!1,S=null,j=null;n&&(v=u&&x.route.id?u[x.route.id]:void 0,S=x.route.errorElement||_D,f&&(m<0&&b===0?(CD("route-fallback"),w=!0,j=null):m===b&&(w=!0,j=x.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,b+1)),T=()=>{let A;return v?A=S:w?A=j:x.route.Component?A=k.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=p,k.createElement(SD,{match:x,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:A})};return n&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?k.createElement(wD,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):T()},null)}var iS=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(iS||{}),aS=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(aS||{});function kD(t){let e=k.useContext(uh);return e||jt(!1),e}function ND(t){let e=k.useContext(eS);return e||jt(!1),e}function MD(t){let e=k.useContext(Ka);return e||jt(!1),e}function rS(t){let e=MD(),n=e.matches[e.matches.length-1];return n.route.id||jt(!1),n.route.id}function TD(){var t;let e=k.useContext(tS),n=ND(),s=rS();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function DD(){let{router:t}=kD(iS.UseNavigateStable),e=rS(aS.UseNavigateStable),n=k.useRef(!1);return nS(()=>{n.current=!0}),k.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,ic({fromRouteId:e},o)))},[t,e])}const O1={};function CD(t,e,n){O1[t]||(O1[t]=!0)}function AD(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Gi(t){jt(!1)}function ED(t){let{basename:e="/",children:n=null,location:s,navigationType:a=Xi.Pop,navigator:o,static:l=!1,future:u}=t;Sc()&&jt(!1);let f=e.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:f,navigator:o,static:l,future:ic({v7_relativeSplatPath:!1},u)}),[f,u,o,l]);typeof s=="string"&&(s=xo(s));let{pathname:p="/",search:x="",hash:b="",state:v=null,key:w="default"}=s,S=k.useMemo(()=>{let j=lo(p,f);return j==null?null:{location:{pathname:j,search:x,hash:b,state:v,key:w},navigationType:a}},[f,p,x,b,v,w,a]);return S==null?null:k.createElement(ua.Provider,{value:m},k.createElement(dh.Provider,{children:n,value:S}))}function OD(t){let{children:e,location:n}=t;return yD(Kp(e),n)}new Promise(()=>{});function Kp(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let o=[...e,a];if(s.type===k.Fragment){n.push.apply(n,Kp(s.props.children,o));return}s.type!==Gi&&jt(!1),!s.props.index||!s.props.children||jt(!1);let l={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Kp(s.props.children,o)),n.push(l)}),n}function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Pd.apply(this,arguments)}function oS(t,e){if(t==null)return{};var n={},s=Object.keys(t),a,o;for(o=0;o<s.length;o++)a=s[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function RD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LD(t,e){return t.button===0&&(!e||e==="_self")&&!RD(t)}function Zp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function zD(t,e){let n=Zp(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}const PD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],VD="6";try{window.__reactRouterVersion=VD}catch{}const FD=k.createContext({isTransitioning:!1}),HD="startTransition",R1=z5[HD];function UD(t){let{basename:e,children:n,future:s,window:a}=t,o=k.useRef();o.current==null&&(o.current=W5({window:a,v5Compat:!0}));let l=o.current,[u,f]=k.useState({action:l.action,location:l.location}),{v7_startTransition:m}=s||{},p=k.useCallback(x=>{m&&R1?R1(()=>f(x)):f(x)},[f,m]);return k.useLayoutEffect(()=>l.listen(p),[l,p]),k.useEffect(()=>AD(s),[s]),k.createElement(ED,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:s})}const YD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pa=k.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:o,replace:l,state:u,target:f,to:m,preventScrollReset:p,viewTransition:x}=e,b=oS(e,PD),{basename:v}=k.useContext(ua),w,S=!1;if(typeof m=="string"&&WD.test(m)&&(w=m,YD))try{let A=new URL(window.location.href),C=m.startsWith("//")?new URL(A.protocol+m):new URL(m),R=lo(C.pathname,v);C.origin===A.origin&&R!=null?m=R+C.search+C.hash:S=!0}catch{}let j=gD(m,{relative:a}),N=GD(m,{replace:l,state:u,target:f,preventScrollReset:p,relative:a,viewTransition:x});function T(A){s&&s(A),A.defaultPrevented||N(A)}return k.createElement("a",Pd({},b,{href:w||j,onClick:S||o?s:T,ref:n,target:f}))}),ID=k.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:a=!1,className:o="",end:l=!1,style:u,to:f,viewTransition:m,children:p}=e,x=oS(e,BD),b=hh(f,{relative:x.relative}),v=Za(),w=k.useContext(eS),{navigator:S,basename:j}=k.useContext(ua),N=w!=null&&XD(b)&&m===!0,T=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,A=v.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(A=A.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&j&&(C=lo(C,j)||C);const R=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=A===T||!l&&A.startsWith(T)&&A.charAt(R)==="/",E=C!=null&&(C===T||!l&&C.startsWith(T)&&C.charAt(T.length)==="/"),z={isActive:D,isPending:E,isTransitioning:N},V=D?s:void 0,X;typeof o=="function"?X=o(z):X=[o,D?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let G=typeof u=="function"?u(z):u;return k.createElement(Pa,Pd({},x,{"aria-current":V,className:X,ref:n,style:G,to:f,viewTransition:m}),typeof p=="function"?p(z):p)});var Qp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qp||(Qp={}));var L1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(L1||(L1={}));function qD(t){let e=k.useContext(uh);return e||jt(!1),e}function GD(t,e){let{target:n,replace:s,state:a,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,f=sS(),m=Za(),p=hh(t,{relative:l});return k.useCallback(x=>{if(LD(x,n)){x.preventDefault();let b=s!==void 0?s:zd(m)===zd(p);f(t,{replace:b,state:a,preventScrollReset:o,relative:l,viewTransition:u})}},[m,f,p,s,a,n,t,o,l,u])}function $D(t){let e=k.useRef(Zp(t)),n=k.useRef(!1),s=Za(),a=k.useMemo(()=>zD(s.search,n.current?null:e.current),[s.search]),o=sS(),l=k.useCallback((u,f)=>{const m=Zp(typeof u=="function"?u(a):u);n.current=!0,o("?"+m,f)},[o,a]);return[a,l]}function XD(t,e){e===void 0&&(e={});let n=k.useContext(FD);n==null&&jt(!1);let{basename:s}=qD(Qp.useViewTransitionState),a=hh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=lo(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=lo(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xp(a.pathname,l)!=null||Xp(a.pathname,o)!=null}const KD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lS=(...t)=>t.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");var ZD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QD=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l,...u},f)=>k.createElement("svg",{ref:f,...ZD,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:lS("lucide",a),...u},[...l.map(([m,p])=>k.createElement(m,p)),...Array.isArray(o)?o:[o]]));const ve=(t,e)=>{const n=k.forwardRef(({className:s,...a},o)=>k.createElement(QD,{ref:o,iconNode:e,className:lS(`lucide-${KD(t)}`,s),...a}));return n.displayName=`${t}`,n};const co=ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const qg=ve("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);const Gg=ve("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const ac=ve("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const fh=ve("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const up=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Jp=ve("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const cS=ve("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const z1=ve("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const P1=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const mh=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const B1=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const V1=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const JD=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const uS=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const eC=ve("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const F1=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const H1=ve("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const tC=ve("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);const eg=ve("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const dS=ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const rc=ve("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const nC=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const hS=ve("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const Bd=ve("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const U1=ve("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const sC=ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const fS=ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const tg=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const iC=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const aC=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const rC=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const oC=ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const lC=ve("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const mS=ve("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const cC=ve("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const uC=ve("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const pS=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const dC=ve("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const $g=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Vd=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const hC=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const fC=ve("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const Xg=ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const gS=ve("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);const jc=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Y1=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const mC=ve("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);const W1=ve("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const ng=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const wd=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const sg=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const yo=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Qn=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function dp(t){return d.jsx("svg",{viewBox:"0 0 741 741",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{d:"m0-71v71h741v-142h-741zm0 882.5v70.5h741v-141h-741zm355.5-782.94c-3.3 0.83-8.48 2.92-11.5 4.62-3.02 1.71-6.85 4.12-8.5 5.36-1.65 1.23-4.89 4.66-7.2 7.6-2.31 2.95-5.52 8.06-7.13 11.36-1.61 3.3-5.03 13.2-7.6 22-2.57 8.8-5.52 18.7-6.55 22-1.03 3.3-4.63 15.9-8.01 28-3.37 12.1-6.97 24.7-7.98 28-1.02 3.3-3.5 11.63-5.51 18.5-2.01 6.88-6.14 19.93-9.18 29-3.04 9.08-8.34 22.35-11.76 29.5-3.43 7.15-8.26 16.15-10.75 20-2.48 3.85-7.22 10.38-10.53 14.5-3.31 4.13-9.12 10.22-12.91 13.55-3.79 3.32-8.69 7.4-10.89 9.06-2.2 1.65-7.6 5.29-12 8.09-4.4 2.79-18.35 10.37-31 16.84-12.65 6.47-25.7 13.66-29 15.97-3.3 2.32-7.61 6.19-9.58 8.6-1.98 2.41-4.74 6.42-6.14 8.89-1.41 2.48-3.38 6.98-4.4 10-1.29 3.85-1.83 8.35-1.81 15 0.03 7.34 0.58 11.09 2.42 16.5 1.39 4.06 4.31 9.5 6.95 12.97 2.51 3.28 7.09 8 10.19 10.5 3.09 2.49 13.44 8.52 23 13.4 9.55 4.88 21.19 10.92 25.87 13.43 4.68 2.51 11.87 6.81 16 9.55 4.12 2.75 10.65 7.55 14.5 10.67 3.85 3.12 9.93 8.82 13.5 12.66 3.57 3.84 9.4 11.22 12.95 16.4 3.55 5.18 8.58 13.7 11.17 18.92 2.59 5.23 5.69 11.98 6.9 15 1.2 3.03 3.67 9.78 5.49 15 1.82 5.23 5.56 16.7 8.31 25.5 2.76 8.8 7.55 24.78 10.65 35.5 3.11 10.73 7.84 26.93 10.51 36 2.68 9.08 6.93 23.81 9.45 32.75 2.51 8.94 5.64 18.39 6.95 21 1.31 2.61 4.09 7 6.19 9.75 2.09 2.75 5.63 6.67 7.87 8.72 2.23 2.04 6.54 5.05 9.56 6.69 3.02 1.64 8.43 3.73 12 4.66 4.88 1.26 8.62 1.53 15 1.06 6.56-0.49 10.1-1.36 15.5-3.85 3.85-1.77 9.25-4.88 12-6.92 2.75-2.03 6.56-5.65 8.47-8.03 1.91-2.38 4.98-7.25 6.82-10.83 1.84-3.57 4.02-8.97 4.84-12 0.82-3.02 2.79-10 4.36-15.5 1.58-5.5 5.36-18.55 8.4-29 3.05-10.45 8.5-29.12 12.12-41.5 3.61-12.37 7.45-25.54 8.53-29.25 1.08-3.71 4.71-14.51 8.07-24 3.36-9.49 8.51-22.2 11.45-28.25 2.93-6.05 7.22-13.92 9.53-17.5 2.3-3.57 6.76-9.65 9.91-13.5 3.15-3.85 8.94-10.04 12.86-13.75 3.93-3.71 10.4-9.04 14.39-11.84 3.99-2.8 11.3-7.48 16.25-10.4 4.95-2.92 17.77-9.76 28.5-15.19 10.73-5.44 21.52-11.27 24-12.96 2.48-1.69 6.71-5.5 9.41-8.47 2.7-2.96 6.38-8.54 8.18-12.39 1.8-3.85 3.75-10.04 4.34-13.75 0.73-4.63 0.76-8.94 0.07-13.75-0.55-3.85-1.92-9.59-3.05-12.75-1.12-3.16-4.05-8.56-6.5-12-2.45-3.44-6.81-8.02-9.7-10.17-2.89-2.16-16.05-9.52-29.25-16.35-13.2-6.84-28.09-15.08-33.1-18.33-5-3.24-11.08-7.21-13.5-8.81-2.42-1.59-8.67-7.22-13.9-12.5-5.23-5.27-12.25-13.64-15.6-18.59-3.36-4.95-8.02-12.6-10.35-17-2.34-4.4-5.36-10.7-6.71-14-1.36-3.3-4.63-11.85-7.28-19-2.66-7.15-6.72-19.75-9.03-28-2.32-8.25-5.29-18.37-6.6-22.5-1.31-4.12-5.28-17.62-8.81-30-3.53-12.37-8.1-28.12-10.15-35-2.06-6.87-4.52-15.42-5.48-19-0.96-3.57-3.15-9.87-4.87-14-1.72-4.12-5.34-10.42-8.03-14-3.25-4.3-7.22-8.01-11.75-10.97-3.76-2.46-9.32-5.31-12.34-6.33-3.02-1.03-9.1-2.04-13.5-2.26-5.13-0.26-10.16 0.14-14 1.12z"})})}async function we(t,e="GET",n){const s=t.startsWith("/")?t.slice(1):t,a={method:e,headers:{Accept:"application/json","Content-Type":"application/json"}};n&&(e==="POST"||e==="DELETE")&&(a.body=JSON.stringify(n));const o=await fetch(s,a);if(!o.ok)throw new Error(`${t} -> ${o.status}`);return o.json()}const me={schedule:()=>we("/api/schedule"),scheduleTodayWithHistory:()=>we("/api/schedule/today_with_history"),status:()=>we("/api/status"),health:()=>we("/api/health"),version:()=>we("/api/version"),horizon:()=>we("/api/forecast/horizon"),config:()=>we("/api/config"),configSave:t=>we("/api/config/save","POST",t),configReset:()=>we("/api/config/reset","POST"),setTheme:t=>we("/api/theme","POST",t),haAverage:()=>we("/api/ha/average"),haWaterToday:()=>we("/api/ha/water_today"),haTest:t=>we("/api/ha/test","POST",t),haEntities:()=>we("/api/ha/entities"),haServices:()=>we("/api/ha/services"),haEntityState:t=>we(`/api/ha/entity/${t}`),learningStatus:()=>we("/api/learning/status"),learningHistory:()=>we("/api/learning/history"),learningDailyMetrics:()=>we("/api/learning/daily_metrics"),learningRun:()=>we("/api/learning/run","POST"),learningLoops:()=>we("/api/learning/loops"),theme:()=>we("/api/themes"),runPlanner:()=>we("/api/run_planner","POST"),loadServerPlan:()=>we("/api/db/current_schedule"),pushToDb:()=>we("/api/db/push_current","POST"),resetToOptimal:()=>we("/api/schedule/save","POST"),simulate:async t=>{const e=await fetch("api/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Simulation failed");return e.json()},getAdvice:async()=>{const t=await fetch("api/analyst/advice");if(!t.ok)throw new Error("Failed to fetch advice");return t.json()},analystRun:()=>we("/api/analyst/run"),debug:()=>we("/api/debug"),debugLogs:()=>we("/api/debug/logs"),historySoc:(t="today")=>we(`/api/history/soc?date=${t}`),forecastEval:()=>we("/api/forecast/eval"),forecastDay:t=>we(t?`/api/forecast/day?date=${t}`:"/api/forecast/day"),forecastRunEval:(t=7)=>we("/api/forecast/run_eval","POST",{days_back:t}),forecastRunForward:(t=48)=>we("/api/forecast/run_forward","POST",{horizon_hours:t}),schedulerStatus:()=>we("/api/scheduler/status"),aurora:{dashboard:()=>we("/api/aurora/dashboard"),briefing:t=>we("/api/aurora/briefing","POST",t),toggleReflex:t=>we("/api/aurora/config/toggle_reflex","POST",{enabled:t})},performanceData:(t=7)=>we(`/api/performance/data?days=${t}`),executor:{status:()=>we("/api/executor/status"),run:()=>we("/api/executor/run","POST"),pause:()=>we("/api/executor/pause","POST"),resume:()=>we("/api/executor/resume","POST"),quickAction:{get:()=>we("/api/executor/quick-action"),set:(t,e)=>we("/api/executor/quick-action","POST",{type:t,duration_minutes:e}),clear:()=>we("/api/executor/quick-action","DELETE")}},waterBoost:{status:()=>we("/api/water/boost"),start:t=>we("/api/water/boost","POST",{duration_minutes:t}),cancel:()=>we("/api/water/boost","DELETE")},energyToday:()=>we("/api/energy/today")};function xS(){const[t,e]=k.useState("dark"),[n,s]=k.useState(!0),a=f=>f==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":f,o=f=>{const m=document.documentElement;f==="dark"?m.classList.add("dark"):m.classList.remove("dark")};k.useEffect(()=>{(async()=>{try{const p=(await me.config())?.ui?.theme_mode;if(p&&["light","dark","system"].includes(p))e(p),o(a(p));else{const x=localStorage.getItem("darkstar-theme");x&&["light","dark","system"].includes(x)?(e(x),o(a(x))):(e("dark"),o("dark"))}}catch{const p=localStorage.getItem("darkstar-theme")||"dark";e(p),o(a(p))}finally{s(!1)}})()},[]),k.useEffect(()=>{if(t!=="system")return;const f=window.matchMedia("(prefers-color-scheme: dark)"),m=p=>{o(p.matches?"dark":"light")};return f.addEventListener("change",m),()=>f.removeEventListener("change",m)},[t]);const l=async()=>{const f=t==="dark"?"light":"dark";e(f),o(f),localStorage.setItem("darkstar-theme",f);try{await me.configSave({ui:{theme_mode:f}})}catch(m){console.warn("[ThemeToggle] Failed to save theme to backend:",m)}};if(n)return d.jsx("div",{className:"h-12 w-12 rounded-2xl border border-line/70 bg-surface/80 flex items-center justify-center",children:d.jsx("div",{className:"h-5 w-5 rounded-full bg-muted/30 animate-pulse"})});const u=a(t);return d.jsxs("button",{type:"button",onClick:l,className:"group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface/80 hover:bg-surface2 transition",title:`Switch to ${u==="dark"?"light":"dark"} mode`,children:[u==="dark"?d.jsx(jc,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}):d.jsx(rC,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}),d.jsx("span",{className:"absolute -right-2 top-1 rounded-full bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:u==="dark"?"Light mode":"Dark mode"})]})}const jl=({to:t,icon:e,label:n,onClick:s})=>{const a="group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface2 hover:brightness-110 transition",o="ring-2 ring-accent/50",l=d.jsxs(d.Fragment,{children:[d.jsx(e,{className:"h-5 w-5 text-muted group-hover:text-text"}),d.jsx("span",{className:"absolute -right-2 top-1 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:n})]});return t?d.jsx(ID,{to:t,className:({isActive:u})=>`${a} ${u?o:""}`,title:n,children:l}):d.jsx("button",{onClick:s,className:a,title:n,children:l})};function pC(){const{pathname:t}=Za(),[e,n]=k.useState(!1),[s,a]=k.useState(null),[o,l]=k.useState("...");k.useEffect(()=>{const f=async()=>{try{await me.status(),a(!0)}catch{a(!1)}};f();const m=setInterval(f,3e4);return()=>clearInterval(m)},[]),k.useEffect(()=>{me.version().then(f=>l(f.version||"dev")).catch(()=>l("dev"))},[]);const u=()=>n(!1);return d.jsxs(d.Fragment,{children:[d.jsx("aside",{className:"hidden lg:block fixed left-6 top-6 bottom-6 z-50",children:d.jsxs("div",{className:"h-full w-16 rounded-2xl bg-surface shadow-float border border-line/60 flex flex-col items-center gap-3 p-2",children:[d.jsxs(Pa,{to:"/",className:"mt-1 mb-1 flex items-center justify-center group relative",children:[d.jsx("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-surface2 border border-line/60 overflow-hidden",children:d.jsx(dp,{className:"h-8 w-8 text-accent"})}),d.jsxs("span",{className:"absolute left-14 top-1/2 -translate-y-1/2 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-50 pointer-events-none",children:["darkstar v",o]})]}),d.jsx(jl,{to:"/",icon:Bd,label:"Dash"}),d.jsx(jl,{to:"/executor",icon:eg,label:"Executor"}),d.jsx(jl,{to:"/aurora",icon:Jp,label:"Aurora"}),d.jsx(jl,{to:"/debug",icon:z1,label:"Debug"}),d.jsx("div",{className:"mt-auto w-8 h-px bg-line/70"}),d.jsxs("div",{className:"py-2 flex flex-col items-center gap-2",children:[d.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-all duration-500 ${s===!0?"bg-good shadow-[0_0_8px_rgba(31,178,86,0.5)]":s===!1?"bg-bad":"bg-slate-700"}`,title:s===!0?"System Online":s===!1?"System Offline":"Connecting..."}),d.jsxs("span",{className:"text-[10px] text-muted/30 font-mono select-none tracking-widest whitespace-nowrap opacity-50 hover:opacity-100 transition",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:["darkstar v",o]})]}),d.jsx(xS,{}),d.jsx(jl,{to:"/settings",icon:Vd,label:"Settings"})]})}),d.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-surface/95 border-b border-line/60 flex items-center justify-between px-4 py-2",children:[d.jsx("button",{type:"button","aria-label":"Open navigation",className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-line/70 bg-surface2 text-muted hover:border-accent hover:text-accent",onClick:()=>n(!0),children:d.jsx(aC,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[d.jsx(dp,{className:"h-5 w-5 text-accent"}),d.jsxs("span",{className:"font-mono",children:["v",o]})]}),d.jsx("div",{className:"w-10"})]}),e&&d.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 bg-[rgba(4,6,10,0.92)] backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-line/60",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-surface2 border border-line/60",children:d.jsx(dp,{className:"h-5 w-5 text-accent"})}),d.jsxs("span",{className:"text-muted font-mono",children:["darkstar v",o]})]}),d.jsx("button",{type:"button","aria-label":"Close navigation",className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-line/70 bg-surface text-muted hover:border-accent hover:text-accent",onClick:u,children:d.jsx(yo,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3",onClick:u,children:[d.jsxs(Pa,{to:"/",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Bd,{className:`h-6 w-6 ${t==="/"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Dash"})]}),d.jsxs(Pa,{to:"/executor",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/executor"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(eg,{className:`h-6 w-6 ${t==="/executor"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Executor"})]}),d.jsxs(Pa,{to:"/aurora",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/aurora"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Jp,{className:`h-6 w-6 ${t==="/aurora"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Aurora"})]}),d.jsxs(Pa,{to:"/debug",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/debug"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(z1,{className:`h-6 w-6 ${t==="/debug"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Debug"})]}),d.jsxs(Pa,{to:"/settings",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/settings"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Vd,{className:`h-6 w-6 ${t==="/settings"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Settings"})]})]})]})]})}class gC extends k.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("[ErrorBoundary] Caught error:",e),console.error("[ErrorBoundary] Component stack:",n.componentStack)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-md w-full bg-surface border border-line rounded-2xl p-8 shadow-float text-center",children:[d.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center",children:d.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h1",{className:"text-lg font-semibold text-text mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-sm text-muted mb-4",children:"The application encountered an unexpected error."}),this.state.error&&d.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:d.jsx("code",{className:"text-xs text-red-400 break-all",children:this.state.error.message})}),d.jsx("button",{onClick:this.handleReload,className:"px-6 py-2.5 rounded-full bg-accent text-canvas font-medium text-sm hover:bg-accent2 transition-colors",children:"Reload Page"}),d.jsx("p",{className:"mt-4 text-xs text-muted/60",children:"If this keeps happening, check the browser console for details."})]})}):this.props.children}}const xC={card:"rounded-xl2 bg-surface shadow-float border border-line/60"};function Ne({children:t,className:e=""}){return d.jsx("div",{className:`${xC.card} ${e}`,children:t})}function kc(t){return t+.5|0}const Ki=(t,e,n)=>Math.max(Math.min(t,n),e);function Fl(t){return Ki(kc(t*2.55),0,255)}function sa(t){return Ki(kc(t*255),0,255)}function ii(t){return Ki(kc(t/2.55)/100,0,1)}function I1(t){return Ki(kc(t*100),0,100)}const qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ig=[..."0123456789ABCDEF"],yC=t=>ig[t&15],bC=t=>ig[(t&240)>>4]+ig[t&15],Qu=t=>(t&240)>>4===(t&15),vC=t=>Qu(t.r)&&Qu(t.g)&&Qu(t.b)&&Qu(t.a);function _C(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&qn[t[1]]*17,g:255&qn[t[2]]*17,b:255&qn[t[3]]*17,a:e===5?qn[t[4]]*17:255}:(e===7||e===9)&&(n={r:qn[t[1]]<<4|qn[t[2]],g:qn[t[3]]<<4|qn[t[4]],b:qn[t[5]]<<4|qn[t[6]],a:e===9?qn[t[7]]<<4|qn[t[8]]:255})),n}const wC=(t,e)=>t<255?e(t):"";function SC(t){var e=vC(t)?yC:bC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+wC(t.a,e):void 0}const jC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yS(t,e,n){const s=e*Math.min(n,1-n),a=(o,l=(o+t/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function kC(t,e,n){const s=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function NC(t,e,n){const s=yS(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)s[a]*=1-e-n,s[a]+=e;return s}function MC(t,e,n,s,a){return t===a?(e-n)/s+(e<n?6:0):e===a?(n-t)/s+2:(t-e)/s+4}function Kg(t){const n=t.r/255,s=t.g/255,a=t.b/255,o=Math.max(n,s,a),l=Math.min(n,s,a),u=(o+l)/2;let f,m,p;return o!==l&&(p=o-l,m=u>.5?p/(2-o-l):p/(o+l),f=MC(n,s,a,p,o),f=f*60+.5),[f|0,m||0,u]}function Zg(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(sa)}function Qg(t,e,n){return Zg(yS,t,e,n)}function TC(t,e,n){return Zg(NC,t,e,n)}function DC(t,e,n){return Zg(kC,t,e,n)}function bS(t){return(t%360+360)%360}function CC(t){const e=jC.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Fl(+e[5]):sa(+e[5]));const a=bS(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?s=TC(a,o,l):e[1]==="hsv"?s=DC(a,o,l):s=Qg(a,o,l),{r:s[0],g:s[1],b:s[2],a:n}}function AC(t,e){var n=Kg(t);n[0]=bS(n[0]+e),n=Qg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function EC(t){if(!t)return;const e=Kg(t),n=e[0],s=I1(e[1]),a=I1(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${a}%, ${ii(t.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const q1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},G1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OC(){const t={},e=Object.keys(G1),n=Object.keys(q1);let s,a,o,l,u;for(s=0;s<e.length;s++){for(l=u=e[s],a=0;a<n.length;a++)o=n[a],u=u.replace(o,q1[o]);o=parseInt(G1[l],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let Ju;function RC(t){Ju||(Ju=OC(),Ju.transparent=[0,0,0,0]);const e=Ju[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const LC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zC(t){const e=LC.exec(t);let n=255,s,a,o;if(e){if(e[7]!==s){const l=+e[7];n=e[8]?Fl(l):Ki(l*255,0,255)}return s=+e[1],a=+e[3],o=+e[5],s=255&(e[2]?Fl(s):Ki(s,0,255)),a=255&(e[4]?Fl(a):Ki(a,0,255)),o=255&(e[6]?Fl(o):Ki(o,0,255)),{r:s,g:a,b:o,a:n}}}function PC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ii(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const hp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ir=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function BC(t,e,n){const s=Ir(ii(t.r)),a=Ir(ii(t.g)),o=Ir(ii(t.b));return{r:sa(hp(s+n*(Ir(ii(e.r))-s))),g:sa(hp(a+n*(Ir(ii(e.g))-a))),b:sa(hp(o+n*(Ir(ii(e.b))-o))),a:t.a+n*(e.a-t.a)}}function ed(t,e,n){if(t){let s=Kg(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Qg(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function vS(t,e){return t&&Object.assign(e||{},t)}function $1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=sa(t[3]))):(e=vS(t,{r:0,g:0,b:0,a:1}),e.a=sa(e.a)),e}function VC(t){return t.charAt(0)==="r"?zC(t):CC(t)}class oc{constructor(e){if(e instanceof oc)return e;const n=typeof e;let s;n==="object"?s=$1(e):n==="string"&&(s=_C(e)||RC(e)||VC(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=vS(this._rgb);return e&&(e.a=ii(e.a)),e}set rgb(e){this._rgb=$1(e)}rgbString(){return this._valid?PC(this._rgb):void 0}hexString(){return this._valid?SC(this._rgb):void 0}hslString(){return this._valid?EC(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,a=e.rgb;let o;const l=n===o?.5:n,u=2*l-1,f=s.a-a.a,m=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-m,s.r=255&m*s.r+o*a.r+.5,s.g=255&m*s.g+o*a.g+.5,s.b=255&m*s.b+o*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=BC(this._rgb,e._rgb,n)),this}clone(){return new oc(this.rgb)}alpha(e){return this._rgb.a=sa(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=kc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ed(this._rgb,2,e),this}darken(e){return ed(this._rgb,2,-e),this}saturate(e){return ed(this._rgb,1,e),this}desaturate(e){return ed(this._rgb,1,-e),this}rotate(e){return AC(this._rgb,e),this}}function Js(){}const FC=(()=>{let t=0;return()=>t++})();function Le(t){return t==null}function pt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Be(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function St(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function An(t,e){return St(t)?t:e}function ke(t,e){return typeof t>"u"?e:t}const HC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,_S=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function at(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Je(t,e,n,s){let a,o,l;if(pt(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(Be(t))for(l=Object.keys(t),o=l.length,a=0;a<o;a++)e.call(n,t[l[a]],l[a])}function Fd(t,e){let n,s,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Hd(t){if(pt(t))return t.map(Hd);if(Be(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let a=0;for(;a<s;++a)e[n[a]]=Hd(t[n[a]]);return e}return t}function wS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function UC(t,e,n,s){if(!wS(t))return;const a=e[t],o=n[t];Be(a)&&Be(o)?lc(a,o,s):e[t]=Hd(o)}function lc(t,e,n){const s=pt(e)?e:[e],a=s.length;if(!Be(t))return t;n=n||{};const o=n.merger||UC;let l;for(let u=0;u<a;++u){if(l=s[u],!Be(l))continue;const f=Object.keys(l);for(let m=0,p=f.length;m<p;++m)o(f[m],t,l,n)}return t}function $l(t,e){return lc(t,e,{merger:YC})}function YC(t,e,n){if(!wS(t))return;const s=e[t],a=n[t];Be(s)&&Be(a)?$l(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Hd(a))}const X1={"":t=>t,x:t=>t.x,y:t=>t.y};function WC(t){const e=t.split("."),n=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function IC(t){const e=WC(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function ra(t,e){return(X1[e]||(X1[e]=IC(e)))(t)}function Jg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const cc=t=>typeof t<"u",oa=t=>typeof t=="function",K1=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function qC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ie=Math.PI,ct=2*Ie,GC=ct+Ie,Ud=Number.POSITIVE_INFINITY,$C=Ie/180,Ct=Ie/2,Aa=Ie/4,Z1=Ie*2/3,Zi=Math.log10,Ns=Math.sign;function Xl(t,e,n){return Math.abs(t-e)<n}function Q1(t){const e=Math.round(t);t=Xl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Zi(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function XC(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function KC(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function uo(t){return!KC(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ZC(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function SS(t,e,n){let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function cs(t){return t*(Ie/180)}function ex(t){return t*(180/Ie)}function J1(t){if(!St(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function jS(t,e){const n=e.x-t.x,s=e.y-t.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*Ie&&(o+=ct),{angle:o,distance:a}}function ag(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function QC(t,e){return(t-e+GC)%ct-Ie}function sn(t){return(t%ct+ct)%ct}function uc(t,e,n,s){const a=sn(t),o=sn(e),l=sn(n),u=sn(o-a),f=sn(l-a),m=sn(a-o),p=sn(a-l);return a===o||a===l||s&&o===l||u>f&&m<p}function Ut(t,e,n){return Math.max(e,Math.min(n,t))}function JC(t){return Ut(t,-32768,32767)}function ai(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function tx(t,e,n){n=n||(l=>t[l]<e);let s=t.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const ri=(t,e,n,s)=>tx(t,n,s?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),eA=(t,e,n)=>tx(t,n,s=>t[s][e]>=n);function tA(t,e,n){let s=0,a=t.length;for(;s<a&&t[s]<e;)s++;for(;a>s&&t[a-1]>n;)a--;return s>0||a<t.length?t.slice(s,a):t}const kS=["push","pop","shift","splice","unshift"];function nA(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),kS.forEach(n=>{const s="_onData"+Jg(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...o)}),l}})})}function e_(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(kS.forEach(o=>{delete t[o]}),delete t._chartjs)}function NS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const MS=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function TS(t,e){let n=[],s=!1;return function(...a){n=a,s||(s=!0,MS.call(window,()=>{s=!1,t.apply(e,n)}))}}function sA(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const nx=t=>t==="start"?"left":t==="end"?"right":"center",tn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,iA=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function DS(t,e,n){const s=e.length;let a=0,o=s;if(t._sorted){const{iScale:l,vScale:u,_parsed:f}=t,m=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:x,max:b,minDefined:v,maxDefined:w}=l.getUserBounds();if(v){if(a=Math.min(ri(f,p,x).lo,n?s:ri(e,p,l.getPixelForValue(x)).lo),m){const S=f.slice(0,a+1).reverse().findIndex(j=>!Le(j[u.axis]));a-=Math.max(0,S)}a=Ut(a,0,s-1)}if(w){let S=Math.max(ri(f,l.axis,b,!0).hi+1,n?0:ri(e,p,l.getPixelForValue(b),!0).hi+1);if(m){const j=f.slice(S-1).findIndex(N=>!Le(N[u.axis]));S+=Math.max(0,j)}o=Ut(S,a,s)-a}else o=s-a}return{start:a,count:o}}function CS(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,a={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=a,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,a),o}const td=t=>t===0||t===1,t_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ct/n)),n_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ct/n)+1,Kl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ct)+1,easeOutSine:t=>Math.sin(t*Ct),easeInOutSine:t=>-.5*(Math.cos(Ie*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>td(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>td(t)?t:t_(t,.075,.3),easeOutElastic:t=>td(t)?t:n_(t,.075,.3),easeInOutElastic(t){return td(t)?t:t<.5?.5*t_(t*2,.1125,.45):.5+.5*n_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Kl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Kl.easeInBounce(t*2)*.5:Kl.easeOutBounce(t*2-1)*.5+.5};function sx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function s_(t){return sx(t)?t:new oc(t)}function fp(t){return sx(t)?t:new oc(t).saturate(.5).darken(.1).hexString()}const aA=["x","y","borderWidth","radius","tension"],rA=["color","borderColor","backgroundColor"];function oA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:rA},numbers:{type:"number",properties:aA}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function lA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const i_=new Map;function cA(t,e){e=e||{};const n=t+JSON.stringify(e);let s=i_.get(n);return s||(s=new Intl.NumberFormat(t,e),i_.set(n,s)),s}function Nc(t,e,n){return cA(e,n).format(t)}const AS={values(t){return pt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let a,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=uA(t,n)}const l=Zi(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Nc(t,s,f)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Zi(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?AS.numeric.call(this,t,e,n):""}};function uA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var ph={formatters:AS};function dA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ph.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const $a=Object.create(null),rg=Object.create(null);function Zl(t,e){if(!e)return t;const n=e.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];t=t[o]||(t[o]=Object.create(null))}return t}function mp(t,e,n){return typeof e=="string"?lc(Zl(t,e),n):lc(Zl(t,""),e)}class hA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>fp(a.backgroundColor),this.hoverBorderColor=(s,a)=>fp(a.borderColor),this.hoverColor=(s,a)=>fp(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return mp(this,e,n)}get(e){return Zl(this,e)}describe(e,n){return mp(rg,e,n)}override(e,n){return mp($a,e,n)}route(e,n,s,a){const o=Zl(this,e),l=Zl(this,s),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],m=l[a];return Be(f)?Object.assign({},m,f):ke(f,m)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var gt=new hA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oA,lA,dA]);function fA(t){return!t||Le(t.size)||Le(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Yd(t,e,n,s,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>s&&(s=o),s}function mA(t,e,n,s){s=s||{};let a=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(a=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let l=0;const u=n.length;let f,m,p,x,b;for(f=0;f<u;f++)if(x=n[f],x!=null&&!pt(x))l=Yd(t,a,o,l,x);else if(pt(x))for(m=0,p=x.length;m<p;m++)b=x[m],b!=null&&!pt(b)&&(l=Yd(t,a,o,l,b));t.restore();const v=o.length/2;if(v>n.length){for(f=0;f<v;f++)delete a[o[f]];o.splice(0,v)}return l}function Ea(t,e,n){const s=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*s)/s+a}function a_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function og(t,e,n,s){ES(t,e,n,s,null)}function ES(t,e,n,s,a){let o,l,u,f,m,p,x,b;const v=e.pointStyle,w=e.rotation,S=e.radius;let j=(w||0)*$C;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(j),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:a?t.ellipse(n,s,a/2,S,0,0,ct):t.arc(n,s,S,0,ct),t.closePath();break;case"triangle":p=a?a/2:S,t.moveTo(n+Math.sin(j)*p,s-Math.cos(j)*S),j+=Z1,t.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*S),j+=Z1,t.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*S),t.closePath();break;case"rectRounded":m=S*.516,f=S-m,l=Math.cos(j+Aa)*f,x=Math.cos(j+Aa)*(a?a/2-m:f),u=Math.sin(j+Aa)*f,b=Math.sin(j+Aa)*(a?a/2-m:f),t.arc(n-x,s-u,m,j-Ie,j-Ct),t.arc(n+b,s-l,m,j-Ct,j),t.arc(n+x,s+u,m,j,j+Ct),t.arc(n-b,s+l,m,j+Ct,j+Ie),t.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*S,p=a?a/2:f,t.rect(n-p,s-f,2*p,2*f);break}j+=Aa;case"rectRot":x=Math.cos(j)*(a?a/2:S),l=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+b,s-l),t.lineTo(n+x,s+u),t.lineTo(n-b,s+l),t.closePath();break;case"crossRot":j+=Aa;case"cross":x=Math.cos(j)*(a?a/2:S),l=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+x,s+u),t.moveTo(n+b,s-l),t.lineTo(n-b,s+l);break;case"star":x=Math.cos(j)*(a?a/2:S),l=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+x,s+u),t.moveTo(n+b,s-l),t.lineTo(n-b,s+l),j+=Aa,x=Math.cos(j)*(a?a/2:S),l=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+x,s+u),t.moveTo(n+b,s-l),t.lineTo(n-b,s+l);break;case"line":l=a?a/2:Math.cos(j)*S,u=Math.sin(j)*S,t.moveTo(n-l,s-u),t.lineTo(n+l,s+u);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(j)*(a?a/2:S),s+Math.sin(j)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function gh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xh(t){t.restore()}function pA(t,e,n,s,a){if(!e)return t.lineTo(n.x,n.y);if(a==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else a==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function gA(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function xA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Le(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function yA(t,e,n,s,a){if(a.strikethrough||a.underline){const o=t.measureText(s),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,p=a.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(l,p),t.lineTo(u,p),t.stroke()}}function bA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Xa(t,e,n,s,a,o={}){const l=pt(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=a.string,xA(t,o),f=0;f<l.length;++f)m=l[f],o.backdrop&&bA(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Le(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,s,o.maxWidth)),t.fillText(m,n,s,o.maxWidth),yA(t,n,s,m,o),s+=Number(a.lineHeight);t.restore()}function dc(t,e){const{x:n,y:s,w:a,h:o,radius:l}=e;t.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*Ie,Ie,!0),t.lineTo(n,s+o-l.bottomLeft),t.arc(n+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,Ie,Ct,!0),t.lineTo(n+a-l.bottomRight,s+o),t.arc(n+a-l.bottomRight,s+o-l.bottomRight,l.bottomRight,Ct,0,!0),t.lineTo(n+a,s+l.topRight),t.arc(n+a-l.topRight,s+l.topRight,l.topRight,0,-Ct,!0),t.lineTo(n+l.topLeft,s)}const vA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_A=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wA(t,e){const n=(""+t).match(vA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const SA=t=>+t||0;function ix(t,e){const n={},s=Be(e),a=s?Object.keys(e):e,o=Be(t)?s?l=>ke(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of a)n[l]=SA(o(l));return n}function OS(t){return ix(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Wa(t){return ix(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ln(t){const e=OS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Bt(t,e){t=t||{},e=e||gt.font;let n=ke(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=ke(t.style,e.style);s&&!(""+s).match(_A)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:ke(t.family,e.family),lineHeight:wA(ke(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:ke(t.weight,e.weight),string:""};return a.string=fA(a),a}function Hl(t,e,n,s){let a,o,l;for(a=0,o=t.length;a<o;++a)if(l=t[a],l!==void 0&&l!==void 0)return l}function jA(t,e,n){const{min:s,max:a}=t,o=_S(e,(a-s)/2),l=(u,f)=>n&&u===0?0:u+f;return{min:l(s,-Math.abs(o)),max:l(a,o)}}function da(t,e){return Object.assign(Object.create(t),e)}function ax(t,e=[""],n,s,a=()=>t[0]){const o=n||t;typeof s>"u"&&(s=PS("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:a,override:u=>ax([u,...t],e,o,s)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return LS(u,f,()=>EA(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return o_(u).includes(f)},ownKeys(u){return o_(u)},set(u,f,m){const p=u._storage||(u._storage=a());return u[f]=p[f]=m,delete u._keys,!0}})}function ho(t,e,n,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:RS(t,s),setContext:o=>ho(t,o,n,s),override:o=>ho(t.override(o),e,n,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete t[l],!0},get(o,l,u){return LS(o,l,()=>NA(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(o,l,u){return t[l]=u,delete o[l],!0}})}function RS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:s,isScriptable:oa(n)?n:()=>n,isIndexable:oa(s)?s:()=>s}}const kA=(t,e)=>t?t+Jg(e):e,rx=(t,e)=>Be(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function LS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function NA(t,e,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=t;let u=s[e];return oa(u)&&l.isScriptable(e)&&(u=MA(e,u,t,n)),pt(u)&&u.length&&(u=TA(e,u,t,l.isIndexable)),rx(e,u)&&(u=ho(u,a,o&&o[e],l)),u}function MA(t,e,n,s){const{_proxy:a,_context:o,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(o,l||s);return u.delete(t),rx(t,f)&&(f=ox(a._scopes,a,t,f)),f}function TA(t,e,n,s){const{_proxy:a,_context:o,_subProxy:l,_descriptors:u}=n;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(Be(e[0])){const f=e,m=a._scopes.filter(p=>p!==f);e=[];for(const p of f){const x=ox(m,a,t,p);e.push(ho(x,o,l&&l[t],u))}}return e}function zS(t,e,n){return oa(t)?t(e,n):t}const DA=(t,e)=>t===!0?e:typeof t=="string"?ra(e,t):void 0;function CA(t,e,n,s,a){for(const o of e){const l=DA(n,o);if(l){t.add(l);const u=zS(l._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==s)return u}else if(l===!1&&typeof s<"u"&&n!==s)return null}return!1}function ox(t,e,n,s){const a=e._rootScopes,o=zS(e._fallback,n,s),l=[...t,...a],u=new Set;u.add(s);let f=r_(u,l,n,o||n,s);return f===null||typeof o<"u"&&o!==n&&(f=r_(u,l,o,f,s),f===null)?!1:ax(Array.from(u),[""],a,o,()=>AA(e,n,s))}function r_(t,e,n,s,a){for(;n;)n=CA(t,e,n,s,a);return n}function AA(t,e,n){const s=t._getTarget();e in s||(s[e]={});const a=s[e];return pt(a)&&Be(n)?n:a||{}}function EA(t,e,n,s){let a;for(const o of e)if(a=PS(kA(o,t),n),typeof a<"u")return rx(t,a)?ox(n,s,t,a):a}function PS(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function o_(t){let e=t._keys;return e||(e=t._keys=OA(t._scopes)),e}function OA(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}function BS(t,e,n,s){const{iScale:a}=t,{key:o="r"}=this._parsing,l=new Array(s);let u,f,m,p;for(u=0,f=s;u<f;++u)m=u+n,p=e[m],l[u]={r:a.parse(ra(p,o),m)};return l}const RA=Number.EPSILON||1e-14,fo=(t,e)=>e<t.length&&!t[e].skip&&t[e],VS=t=>t==="x"?"y":"x";function LA(t,e,n,s){const a=t.skip?e:t,o=e,l=n.skip?e:n,u=ag(o,a),f=ag(l,o);let m=u/(u+f),p=f/(u+f);m=isNaN(m)?0:m,p=isNaN(p)?0:p;const x=s*m,b=s*p;return{previous:{x:o.x-x*(l.x-a.x),y:o.y-x*(l.y-a.y)},next:{x:o.x+b*(l.x-a.x),y:o.y+b*(l.y-a.y)}}}function zA(t,e,n){const s=t.length;let a,o,l,u,f,m=fo(t,0);for(let p=0;p<s-1;++p)if(f=m,m=fo(t,p+1),!(!f||!m)){if(Xl(e[p],0,RA)){n[p]=n[p+1]=0;continue}a=n[p]/e[p],o=n[p+1]/e[p],u=Math.pow(a,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),n[p]=a*l*e[p],n[p+1]=o*l*e[p])}}function PA(t,e,n="x"){const s=VS(n),a=t.length;let o,l,u,f=fo(t,0);for(let m=0;m<a;++m){if(l=u,u=f,f=fo(t,m+1),!u)continue;const p=u[n],x=u[s];l&&(o=(p-l[n])/3,u[`cp1${n}`]=p-o,u[`cp1${s}`]=x-o*e[m]),f&&(o=(f[n]-p)/3,u[`cp2${n}`]=p+o,u[`cp2${s}`]=x+o*e[m])}}function BA(t,e="x"){const n=VS(e),s=t.length,a=Array(s).fill(0),o=Array(s);let l,u,f,m=fo(t,0);for(l=0;l<s;++l)if(u=f,f=m,m=fo(t,l+1),!!f){if(m){const p=m[e]-f[e];a[l]=p!==0?(m[n]-f[n])/p:0}o[l]=u?m?Ns(a[l-1])!==Ns(a[l])?0:(a[l-1]+a[l])/2:a[l-1]:a[l]}zA(t,a,o),PA(t,o,e)}function nd(t,e,n){return Math.max(Math.min(t,n),e)}function VA(t,e){let n,s,a,o,l,u=oi(t[0],e);for(n=0,s=t.length;n<s;++n)l=o,o=u,u=n<s-1&&oi(t[n+1],e),o&&(a=t[n],l&&(a.cp1x=nd(a.cp1x,e.left,e.right),a.cp1y=nd(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=nd(a.cp2x,e.left,e.right),a.cp2y=nd(a.cp2y,e.top,e.bottom)))}function FA(t,e,n,s,a){let o,l,u,f;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")BA(t,a);else{let m=s?t[t.length-1]:t[0];for(o=0,l=t.length;o<l;++o)u=t[o],f=LA(m,u,t[Math.min(o+1,l-(s?0:1))%l],e.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,m=u}e.capBezierPoints&&VA(t,n)}function lx(){return typeof window<"u"&&typeof document<"u"}function cx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wd(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const yh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function HA(t,e){return yh(t).getPropertyValue(e)}const UA=["top","right","bottom","left"];function Ia(t,e,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=UA[a];s[o]=parseFloat(t[e+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const YA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function WA(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=s;let l=!1,u,f;if(YA(a,o,t.target))u=a,f=o;else{const m=e.getBoundingClientRect();u=s.clientX-m.left,f=s.clientY-m.top,l=!0}return{x:u,y:f,box:l}}function Ba(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,a=yh(n),o=a.boxSizing==="border-box",l=Ia(a,"padding"),u=Ia(a,"border","width"),{x:f,y:m,box:p}=WA(t,n),x=l.left+(p&&u.left),b=l.top+(p&&u.top);let{width:v,height:w}=e;return o&&(v-=l.width+u.width,w-=l.height+u.height),{x:Math.round((f-x)/v*n.width/s),y:Math.round((m-b)/w*n.height/s)}}function IA(t,e,n){let s,a;if(e===void 0||n===void 0){const o=t&&cx(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const l=o.getBoundingClientRect(),u=yh(o),f=Ia(u,"border","width"),m=Ia(u,"padding");e=l.width-m.width-f.width,n=l.height-m.height-f.height,s=Wd(u.maxWidth,o,"clientWidth"),a=Wd(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:s||Ud,maxHeight:a||Ud}}const Qi=t=>Math.round(t*10)/10;function qA(t,e,n,s){const a=yh(t),o=Ia(a,"margin"),l=Wd(a.maxWidth,t,"clientWidth")||Ud,u=Wd(a.maxHeight,t,"clientHeight")||Ud,f=IA(t,e,n);let{width:m,height:p}=f;if(a.boxSizing==="content-box"){const b=Ia(a,"border","width"),v=Ia(a,"padding");m-=v.width+b.width,p-=v.height+b.height}return m=Math.max(0,m-o.width),p=Math.max(0,s?m/s:p-o.height),m=Qi(Math.min(m,l,f.maxWidth)),p=Qi(Math.min(p,u,f.maxHeight)),m&&!p&&(p=Qi(m/2)),(e!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,m=Qi(Math.floor(p*s))),{width:m,height:p}}function l_(t,e,n){const s=e||1,a=Qi(t.height*s),o=Qi(t.width*s);t.height=Qi(t.height),t.width=Qi(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||l.height!==a||l.width!==o?(t.currentDevicePixelRatio=s,l.height=a,l.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const GA=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};lx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function c_(t,e){const n=HA(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Va(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function $A(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function XA(t,e,n,s){const a={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},l=Va(t,a,n),u=Va(a,o,n),f=Va(o,e,n),m=Va(l,u,n),p=Va(u,f,n);return Va(m,p,n)}const KA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},ZA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function io(t,e,n){return t?KA(e,n):ZA()}function FS(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function HS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function US(t){return t==="angle"?{between:uc,compare:QC,normalize:sn}:{between:ai,compare:(e,n)=>e-n,normalize:e=>e}}function u_({start:t,end:e,count:n,loop:s,style:a}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:a}}function QA(t,e,n){const{property:s,start:a,end:o}=n,{between:l,normalize:u}=US(s),f=e.length;let{start:m,end:p,loop:x}=t,b,v;if(x){for(m+=f,p+=f,b=0,v=f;b<v&&l(u(e[m%f][s]),a,o);++b)m--,p--;m%=f,p%=f}return p<m&&(p+=f),{start:m,end:p,loop:x,style:t.style}}function YS(t,e,n){if(!n)return[t];const{property:s,start:a,end:o}=n,l=e.length,{compare:u,between:f,normalize:m}=US(s),{start:p,end:x,loop:b,style:v}=QA(t,e,n),w=[];let S=!1,j=null,N,T,A;const C=()=>f(a,A,N)&&u(a,A)!==0,R=()=>u(o,N)===0||f(o,A,N),D=()=>S||C(),E=()=>!S||R();for(let z=p,V=p;z<=x;++z)T=e[z%l],!T.skip&&(N=m(T[s]),N!==A&&(S=f(N,a,o),j===null&&D()&&(j=u(N,a)===0?z:V),j!==null&&E()&&(w.push(u_({start:j,end:z,loop:b,count:l,style:v})),j=null),V=z,A=N));return j!==null&&w.push(u_({start:j,end:x,loop:b,count:l,style:v})),w}function WS(t,e){const n=[],s=t.segments;for(let a=0;a<s.length;a++){const o=YS(s[a],t.points,e);o.length&&n.push(...o)}return n}function JA(t,e,n,s){let a=0,o=e-1;if(n&&!s)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,n&&(o+=a);o>a&&t[o%e].skip;)o--;return o%=e,{start:a,end:o}}function e3(t,e,n,s){const a=t.length,o=[];let l=e,u=t[e],f;for(f=e+1;f<=n;++f){const m=t[f%a];m.skip||m.stop?u.skip||(s=!1,o.push({start:e%a,end:(f-1)%a,loop:s}),e=l=m.stop?f:null):(l=f,u.skip&&(e=f)),u=m}return l!==null&&o.push({start:e%a,end:l%a,loop:s}),o}function t3(t,e){const n=t.points,s=t.options.spanGaps,a=n.length;if(!a)return[];const o=!!t._loop,{start:l,end:u}=JA(n,a,o,s);if(s===!0)return d_(t,[{start:l,end:u,loop:o}],n,e);const f=u<l?u+a:u,m=!!t._fullLoop&&l===0&&u===a-1;return d_(t,e3(n,l,f,m),n,e)}function d_(t,e,n,s){return!s||!s.setContext||!n?e:n3(t,e,n,s)}function n3(t,e,n,s){const a=t._chart.getContext(),o=h_(t.options),{_datasetIndex:l,options:{spanGaps:u}}=t,f=n.length,m=[];let p=o,x=e[0].start,b=x;function v(w,S,j,N){const T=u?-1:1;if(w!==S){for(w+=f;n[w%f].skip;)w-=T;for(;n[S%f].skip;)S+=T;w%f!==S%f&&(m.push({start:w%f,end:S%f,loop:j,style:N}),p=N,x=S%f)}}for(const w of e){x=u?x:w.start;let S=n[x%f],j;for(b=x+1;b<=w.end;b++){const N=n[b%f];j=h_(s.setContext(da(a,{type:"segment",p0:S,p1:N,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:l}))),s3(j,p)&&v(x,b-1,w.loop,p),S=N,p=j}x<b-1&&v(x,b-1,w.loop,p)}return m}function h_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function s3(t,e){if(!e)return!1;const n=[],s=function(a,o){return sx(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function sd(t,e,n){return t.options.clip?t[n]:e[n]}function i3(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:sd(n,e,"left"),right:sd(n,e,"right"),top:sd(s,e,"top"),bottom:sd(s,e,"bottom")}:e}function IS(t,e){const n=e._clip;if(n.disabled)return!1;const s=i3(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}class a3{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,a){const o=n.listeners[a],l=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=MS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,s,e,"progress")),o.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ti=new a3;const f_="transparent",r3={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=s_(t||f_),a=s.valid&&s_(e||f_);return a&&a.valid?a.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class o3{constructor(e,n,s,a){const o=n[s];a=Hl([e.to,a,o,e.from]);const l=Hl([e.from,o,a]);this._active=!0,this._fn=e.fn||r3[e.type||typeof l],this._easing=Kl[e.easing]||Kl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Hl([e.to,n,a,e.from]),this._from=Hl([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,a=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||n<s),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class qS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Be(e))return;const n=Object.keys(gt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!Be(o))return;const l={};for(const u of n)l[u]=o[u];(pt(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!s.has(u))&&s.set(u,l)})})}_animateOptions(e,n){const s=n.options,a=c3(e,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&l3(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,n){const s=this._properties,a=[],o=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const m=l[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,n));continue}const p=n[m];let x=o[m];const b=s.get(m);if(x)if(b&&x.active()){x.update(b,p,u);continue}else x.cancel();if(!b||!b.duration){e[m]=p;continue}o[m]=x=new o3(b,e,m,p),a.push(x)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return ti.add(this._chart,s),!0}}function l3(t,e){const n=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const o=t[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function c3(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function m_(t,e){const n=t&&t.options||{},s=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:s?o:a,end:s?a:o}}function u3(t,e,n){if(n===!1)return!1;const s=m_(t,n),a=m_(e,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function d3(t){let e,n,s,a;return Be(t)?(e=t.top,n=t.right,s=t.bottom,a=t.left):e=n=s=a=t,{top:e,right:n,bottom:s,left:a,disabled:t===!1}}function GS(t,e){const n=[],s=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function p_(t,e,n,s={}){const a=t.keys,o=s.mode==="single";let l,u,f,m;if(e===null)return;let p=!1;for(l=0,u=a.length;l<u;++l){if(f=+a[l],f===n){if(p=!0,s.all)continue;break}m=t.values[f],St(m)&&(o||e===0||Ns(e)===Ns(m))&&(e+=m)}return!p&&!s.all?0:e}function h3(t,e){const{iScale:n,vScale:s}=e,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let f,m,p;for(f=0,m=l.length;f<m;++f)p=l[f],u[f]={[a]:p,[o]:t[p]};return u}function pp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function f3(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function m3(t){const{min:e,max:n,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function p3(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function g_(t,e,n,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function x_(t,e){const{chart:n,_cachedMeta:s}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:u}=s,f=o.axis,m=l.axis,p=f3(o,l,s),x=e.length;let b;for(let v=0;v<x;++v){const w=e[v],{[f]:S,[m]:j}=w,N=w._stacks||(w._stacks={});b=N[m]=p3(a,p,S),b[u]=j,b._top=g_(b,l,!0,s.type),b._bottom=g_(b,l,!1,s.type);const T=b._visualValues||(b._visualValues={});T[u]=j}}function gp(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function g3(t,e){return da(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function x3(t,e,n){return da(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function kl(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const xp=t=>t==="reset"||t==="none",y_=(t,e)=>e?t:Object.assign({},t),y3=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:GS(n,!0),values:null};class ha{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&kl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(x,b,v,w)=>x==="x"?b:x==="r"?w:v,o=n.xAxisID=ke(s.xAxisID,gp(e,"x")),l=n.yAxisID=ke(s.yAxisID,gp(e,"y")),u=n.rAxisID=ke(s.rAxisID,gp(e,"r")),f=n.indexAxis,m=n.iAxisID=a(f,o,l,u),p=n.vAxisID=a(f,l,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&e_(this._data,this),e._stacked&&kl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Be(n)){const a=this._cachedMeta;this._data=h3(n,a)}else if(s!==n){if(s){e_(s,this);const a=this._cachedMeta;kl(a),a._parsed=[]}n&&Object.isExtensible(n)&&nA(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=pp(n.vScale,n),n.stack!==s.stack&&(a=!0,kl(n),n.stack=s.stack),this._resyncElements(e),(a||o!==n._stacked)&&(x_(this,n._parsed),n._stacked=pp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:l}=s,u=o.axis;let f=e===0&&n===a.length?!0:s._sorted,m=e>0&&s._parsed[e-1],p,x,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{pt(a[e])?b=this.parseArrayData(s,a,e,n):Be(a[e])?b=this.parseObjectData(s,a,e,n):b=this.parsePrimitiveData(s,a,e,n);const v=()=>x[u]===null||m&&x[u]<m[u];for(p=0;p<n;++p)s._parsed[p+e]=x=b[p],f&&(v()&&(f=!1),m=x);s._sorted=f}l&&x_(this,b)}parsePrimitiveData(e,n,s,a){const{iScale:o,vScale:l}=e,u=o.axis,f=l.axis,m=o.getLabels(),p=o===l,x=new Array(a);let b,v,w;for(b=0,v=a;b<v;++b)w=b+s,x[b]={[u]:p||o.parse(m[w],w),[f]:l.parse(n[w],w)};return x}parseArrayData(e,n,s,a){const{xScale:o,yScale:l}=e,u=new Array(a);let f,m,p,x;for(f=0,m=a;f<m;++f)p=f+s,x=n[p],u[f]={x:o.parse(x[0],p),y:l.parse(x[1],p)};return u}parseObjectData(e,n,s,a){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let p,x,b,v;for(p=0,x=a;p<x;++p)b=p+s,v=n[b],m[p]={x:o.parse(ra(v,u),b),y:l.parse(ra(v,f),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const a=this.chart,o=this._cachedMeta,l=n[e.axis],u={keys:GS(a,!0),values:n._stacks[e.axis]._visualValues};return p_(u,l,o.index,{mode:s})}updateRangeFromParsed(e,n,s,a){const o=s[n.axis];let l=o===null?NaN:o;const u=a&&s._stacks[n.axis];a&&u&&(a.values=u,l=p_(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&e===s.iScale,l=a.length,u=this._getOtherScale(e),f=y3(n,s,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=m3(u);let b,v;function w(){v=a[b];const S=v[u.axis];return!St(v[e.axis])||p>S||x<S}for(b=0;b<l&&!(!w()&&(this.updateRangeFromParsed(m,e,v,f),o));++b);if(o){for(b=l-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(m,e,v,f);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][e.axis],St(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=d3(ke(this.options.clip,u3(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||a.length-u,m=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(e,o,u,f),p=u;p<u+f;++p){const x=a[p];x.hidden||(x.active&&m?l.push(x):x.draw(e,o))}for(p=0;p<l.length;++p)l[p].draw(e,o)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=x3(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=g3(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const a=n==="active",o=this._cachedDataOpts,l=e+"-"+n,u=o[l],f=this.enableOptionSharing&&cc(s);if(u)return y_(u,f);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,e),x=a?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),p),v=Object.keys(gt.elements[e]),w=()=>this.getContext(s,a,n),S=m.resolveNamedOptions(b,v,w,x);return S.$shared&&(S.$shared=f,o[l]=Object.freeze(y_(S,f))),S}_resolveAnimations(e,n,s){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,u=o[l];if(u)return u;let f;if(a.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),x);f=p.createResolver(b,this.getContext(e,s,n))}const m=new qS(a,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(e,n,s,a){xp(a)?Object.assign(e,s):this._resolveAnimations(n,a).update(e,s)}updateSharedOptions(e,n,s){e&&!xp(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[u,f,m]of this._syncList)this[u](f,m);this._syncList=[];const a=s.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,s=!0){const a=this._cachedMeta,o=a.data,l=e+n;let u;const f=m=>{for(m.length+=n,u=m.length-1;u>=l;u--)m[u]=m[u-n]};for(f(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,a){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,n);s._stacked&&kl(s,a)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,a]=e;this[n](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function b3(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=NS(s.sort((a,o)=>a-o))}return t._cache.$bar}function v3(t){const e=t.iScale,n=b3(e,t.type);let s=e._length,a,o,l,u;const f=()=>{l===32767||l===-32768||(cc(u)&&(s=Math.min(s,Math.abs(l-u)||s)),u=l)};for(a=0,o=n.length;a<o;++a)l=e.getPixelForValue(n[a]),f();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)l=e.getPixelForTick(a),f();return s}function _3(t,e,n,s){const a=n.barThickness;let o,l;return Le(a)?(o=e.min*n.categoryPercentage,l=n.barPercentage):(o=a*s,l=1),{chunk:o/s,ratio:l,start:e.pixels[t]-o/2}}function w3(t,e,n,s){const a=e.pixels,o=a[t];let l=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const f=n.categoryPercentage;l===null&&(l=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-l);const m=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/s,ratio:n.barPercentage,start:m}}function S3(t,e,n,s){const a=n.parse(t[0],s),o=n.parse(t[1],s),l=Math.min(a,o),u=Math.max(a,o);let f=l,m=u;Math.abs(l)>Math.abs(u)&&(f=u,m=l),e[n.axis]=m,e._custom={barStart:f,barEnd:m,start:a,end:o,min:l,max:u}}function $S(t,e,n,s){return pt(t)?S3(t,e,n,s):e[n.axis]=n.parse(t,s),e}function b_(t,e,n,s){const a=t.iScale,o=t.vScale,l=a.getLabels(),u=a===o,f=[];let m,p,x,b;for(m=n,p=n+s;m<p;++m)b=e[m],x={},x[a.axis]=u||a.parse(l[m],m),f.push($S(b,x,o,m));return f}function yp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function j3(t,e,n){return t!==0?Ns(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function k3(t){let e,n,s,a,o;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:e,top:a,bottom:o}}function N3(t,e,n,s){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:m,bottom:p}=k3(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?a=m:(n._bottom||0)===s?a=p:(o[v_(p,l,u,f)]=!0,a=m)),o[v_(a,l,u,f)]=!0,t.borderSkipped=o}function v_(t,e,n,s){return s?(t=M3(t,e,n),t=__(t,n,e)):t=__(t,e,n),t}function M3(t,e,n){return t===e?n:t===n?e:t}function __(t,e,n){return t==="start"?e:t==="end"?n:t}function T3(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class XS extends ha{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,a){return b_(e,n,s,a)}parseArrayData(e,n,s,a){return b_(e,n,s,a)}parseObjectData(e,n,s,a){const{iScale:o,vScale:l}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?u:f,p=l.axis==="x"?u:f,x=[];let b,v,w,S;for(b=s,v=s+a;b<v;++b)S=n[b],w={},w[o.axis]=o.parse(ra(S,m),b),x.push($S(ra(S,p),w,l,b));return x}updateRangeFromParsed(e,n,s,a){super.updateRangeFromParsed(e,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(e),l=o._custom,u=yp(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,a){const o=a==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),m=u.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(n,a);for(let v=n;v<n+s;v++){const w=this.getParsed(v),S=o||Le(w[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(v),j=this._calculateBarIndexPixels(v,p),N=(w._stacks||{})[u.axis],T={horizontal:m,base:S.base,enableBorderRadius:!N||yp(w._custom)||l===N._top||l===N._bottom,x:m?S.head:j.center,y:m?j.center:S.head,height:m?j.size:Math.abs(S.size),width:m?Math.abs(S.size):j.size};b&&(T.options=x||this.resolveDataElementOptions(v,e[v].active?"active":a));const A=T.options||e[v].options;N3(T,A,N,l),T3(T,A,p.ratio),this.updateElement(e[v],v,T,a)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=s.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[s.axis],m=p=>{const x=p._parsed.find(v=>v[s.axis]===f),b=x&&x[p.vScale.axis];if(Le(b)||isNaN(b))return!0};for(const p of a)if(!(n!==void 0&&m(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ke(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const a=this._getStacks(e,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,l;for(o=0,l=n.data.length;o<l;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const u=e.barThickness;return{min:u||v3(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(e),m=f._custom,p=yp(m);let x=f[n.axis],b=0,v=s?this.applyStack(n,f,s):x,w,S;v!==x&&(b=v-x,v=x),p&&(x=m.barStart,v=m.barEnd-m.barStart,x!==0&&Ns(x)!==Ns(m.barEnd)&&(b=0),b+=x);const j=!Le(o)&&!p?o:b;let N=n.getPixelForValue(j);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(b+v):w=N,S=w-N,Math.abs(S)<l){S=j3(S,n,u)*l,x===u&&(N-=S/2);const T=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),C=Math.min(T,A),R=Math.max(T,A);N=Math.max(Math.min(N,R),C),w=N+S,s&&!p&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(w)-n.getValueForPixel(N))}if(N===n.getPixelForValue(u)){const T=Ns(S)*n.getLineWidthForValue(u)/2;N+=T,S-=T}return{size:S,base:N,head:w,center:w+S/2}}_calculateBarIndexPixels(e,n){const s=n.scale,a=this.options,o=a.skipNull,l=ke(a.maxBarThickness,1/0);let u,f;const m=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(e):n.stackCount,x=a.barThickness==="flex"?w3(e,n,a,p*m):_3(e,n,a,p*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(ke(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;u=x.start+x.chunk*w+x.chunk/2,f=Math.min(l,x.chunk*x.ratio)}else u=s.getPixelForValue(this.getParsed(e)[s.axis],e),f=Math.min(l,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}class D3 extends ha{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,a){const o=super.parsePrimitiveData(e,n,s,a);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+s).radius;return o}parseArrayData(e,n,s,a){const o=super.parseArrayData(e,n,s,a);for(let l=0;l<o.length;l++){const u=n[s+l];o[l]._custom=ke(u[2],this.resolveDataElementOptions(l+s).radius)}return o}parseObjectData(e,n,s,a){const o=super.parseObjectData(e,n,s,a);for(let l=0;l<o.length;l++){const u=n[s+l];o[l]._custom=ke(u&&u.r&&+u.r,this.resolveDataElementOptions(l+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:o}=n,l=this.getParsed(e),u=a.getLabelForValue(l.x),f=o.getLabelForValue(l.y),m=l._custom;return{label:s[e]||"",value:"("+u+", "+f+(m?", "+m:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,a){const o=a==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,a),p=l.axis,x=u.axis;for(let b=n;b<n+s;b++){const v=e[b],w=!o&&this.getParsed(b),S={},j=S[p]=o?l.getPixelForDecimal(.5):l.getPixelForValue(w[p]),N=S[x]=o?u.getBasePixel():u.getPixelForValue(w[x]);S.skip=isNaN(j)||isNaN(N),m&&(S.options=f||this.resolveDataElementOptions(b,v.active?"active":a),o&&(S.options.radius=0)),this.updateElement(v,b,S,a)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let a=super.resolveDataElementOptions(e,n);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return n!=="active"&&(a.radius=0),a.radius+=ke(s&&s._custom,o),a}}function C3(t,e,n){let s=1,a=1,o=0,l=0;if(e<ct){const u=t,f=u+e,m=Math.cos(u),p=Math.sin(u),x=Math.cos(f),b=Math.sin(f),v=(A,C,R)=>uc(A,u,f,!0)?1:Math.max(C,C*n,R,R*n),w=(A,C,R)=>uc(A,u,f,!0)?-1:Math.min(C,C*n,R,R*n),S=v(0,m,x),j=v(Ct,p,b),N=w(Ie,m,x),T=w(Ie+Ct,p,b);s=(S-N)/2,a=(j-T)/2,o=-(S+N)/2,l=-(j+T)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:l}}class ux extends ha{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:u}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((f,m)=>{const x=e.getDatasetMeta(0).controller.getStyle(m);return{text:f,fillStyle:x.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(m),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:a,pointStyle:s,borderRadius:l&&(u||x.borderRadius),index:m}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=f=>+s[f];if(Be(s[e])){const{key:f="value"}=this._parsing;o=m=>+ra(s[m],f)}let l,u;for(l=e,u=e+n;l<u;++l)a._parsed[l]=o(l)}}_getRotation(){return cs(this.options.rotation-90)}_getCircumference(){return cs(this.options.circumference)}_getRotationExtents(){let e=ct,n=-ct;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),l=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-l)/2,0),f=Math.min(HC(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:p,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:w,offsetY:S}=C3(x,p,f),j=(s.width-l)/b,N=(s.height-l)/v,T=Math.max(Math.min(j,N)/2,0),A=_S(this.options.radius,T),C=Math.max(A*f,0),R=(A-C)/this._getVisibleDatasetWeightTotal();this.offsetX=w*A,this.offsetY=S*A,a.total=this.calculateTotal(),this.outerRadius=A-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/ct)}updateElements(e,n,s,a){const o=a==="reset",l=this.chart,u=l.chartArea,m=l.options.animation,p=(u.left+u.right)/2,x=(u.top+u.bottom)/2,b=o&&m.animateScale,v=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:S,includeOptions:j}=this._getSharedOptions(n,a);let N=this._getRotation(),T;for(T=0;T<n;++T)N+=this._circumference(T,o);for(T=n;T<n+s;++T){const A=this._circumference(T,o),C=e[T],R={x:p+this.offsetX,y:x+this.offsetY,startAngle:N,endAngle:N+A,circumference:A,outerRadius:w,innerRadius:v};j&&(R.options=S||this.resolveDataElementOptions(T,C.active?"active":a)),N+=A,this.updateElement(C,T,R,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ct*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=Nc(n._parsed[e],s.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const s=this.chart;let a,o,l,u,f;if(!e){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),e=l.data,u=l.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,a=e.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class KS extends ha{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:a=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:u,count:f}=DS(n,a,l);this._drawStart=u,this._drawCount=f,CS(n)&&(u=0,f=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=a;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:m},e),this.updateElements(a,u,f,e)}updateElements(e,n,s,a){const o=a==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:p,includeOptions:x}=this._getSharedOptions(n,a),b=l.axis,v=u.axis,{spanGaps:w,segment:S}=this.options,j=uo(w)?w:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||a==="none",T=n+s,A=e.length;let C=n>0&&this.getParsed(n-1);for(let R=0;R<A;++R){const D=e[R],E=N?D:{};if(R<n||R>=T){E.skip=!0;continue}const z=this.getParsed(R),V=Le(z[v]),X=E[b]=l.getPixelForValue(z[b],R),G=E[v]=o||V?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,z,f):z[v],R);E.skip=isNaN(X)||isNaN(G)||V,E.stop=R>0&&Math.abs(z[b]-C[b])>j,S&&(E.parsed=z,E.raw=m.data[R]),x&&(E.options=p||this.resolveDataElementOptions(R,D.active?"active":a)),N||this.updateElement(D,R,E,a),C=z}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const o=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class ZS extends ha{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return n.labels.map((o,l)=>{const f=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=Nc(n._parsed[e].r,s.options.locale);return{label:a[e]||"",value:o}}parseObjectData(e,n,s,a){return BS.bind(this)(e,n,s,a)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,a)=>{const o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,a=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(a/2,0),l=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),u=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,n,s,a){const o=a==="reset",l=this.chart,f=l.options.animation,m=this._cachedMeta.rScale,p=m.xCenter,x=m.yCenter,b=m.getIndexAngle(0)-.5*Ie;let v=b,w;const S=360/this.countVisibleElements();for(w=0;w<n;++w)v+=this._computeAngle(w,a,S);for(w=n;w<n+s;w++){const j=e[w];let N=v,T=v+this._computeAngle(w,a,S),A=l.getDataVisibility(w)?m.getDistanceFromCenterForValue(this.getParsed(w).r):0;v=T,o&&(f.animateScale&&(A=0),f.animateRotate&&(N=T=b));const C={x:p,y:x,innerRadius:0,outerRadius:A,startAngle:N,endAngle:T,options:this.resolveDataElementOptions(w,j.active?"active":a)};this.updateElement(j,w,C,a)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?cs(this.resolveDataElementOptions(e,n).angle||s):0}}class A3 extends ux{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class QS extends ha{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,a){return BS.bind(this)(e,n,s,a)}update(e){const n=this._cachedMeta,s=n.dataset,a=n.data||[],o=n.iScale.getLabels();if(s.points=a,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===a.length,options:l};this.updateElement(s,void 0,u,e)}this.updateElements(a,0,a.length,e)}updateElements(e,n,s,a){const o=this._cachedMeta.rScale,l=a==="reset";for(let u=n;u<n+s;u++){const f=e[u],m=this.resolveDataElementOptions(u,f.active?"active":a),p=o.getPointPositionForValue(u,this.getParsed(u).r),x=l?o.xCenter:p.x,b=l?o.yCenter:p.y,v={x,y:b,angle:p.angle,skip:isNaN(x)||isNaN(b),options:m};this.updateElement(f,u,v,a)}}}class E3 extends ha{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:o}=n,l=this.getParsed(e),u=a.getLabelForValue(l.x),f=o.getLabelForValue(l.y);return{label:s[e]||"",value:"("+u+", "+f+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=DS(n,s,a);if(this._drawStart=o,this._drawCount=l,CS(n)&&(o=0,l=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:f}=n;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!f._decimated,u.points=s;const m=this.resolveDatasetElementOptions(e);m.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:m},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,o,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,a){const o=a==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:m}=this._cachedMeta,p=this.resolveDataElementOptions(n,a),x=this.getSharedOptions(p),b=this.includeOptions(a,x),v=l.axis,w=u.axis,{spanGaps:S,segment:j}=this.options,N=uo(S)?S:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||a==="none";let A=n>0&&this.getParsed(n-1);for(let C=n;C<n+s;++C){const R=e[C],D=this.getParsed(C),E=T?R:{},z=Le(D[w]),V=E[v]=l.getPixelForValue(D[v],C),X=E[w]=o||z?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,D,f):D[w],C);E.skip=isNaN(V)||isNaN(X)||z,E.stop=C>0&&Math.abs(D[v]-A[v])>N,j&&(E.parsed=D,E.raw=m.data[C]),b&&(E.options=x||this.resolveDataElementOptions(C,R.active?"active":a)),T||this.updateElement(R,C,E,a),A=D}this.updateSharedOptions(x,a,p)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let u=0;for(let f=n.length-1;f>=0;--f)u=Math.max(u,n[f].size(this.resolveDataElementOptions(f))/2);return u>0&&u}const s=e.dataset,a=s.options&&s.options.borderWidth||0;if(!n.length)return a;const o=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,o,l)/2}}var O3=Object.freeze({__proto__:null,BarController:XS,BubbleController:D3,DoughnutController:ux,LineController:KS,PieController:A3,PolarAreaController:ZS,RadarController:QS,ScatterController:E3});function Oa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dx{static override(e){Object.assign(dx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Oa()}parse(){return Oa()}format(){return Oa()}add(){return Oa()}diff(){return Oa()}startOf(){return Oa()}endOf(){return Oa()}}var JS={_date:dx};function R3(t,e,n,s){const{controller:a,data:o,_sorted:l}=t,u=a._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const m=u._reversePixels?eA:ri;if(s){if(a._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(e);if(x){const b=m(o,e,n-x),v=m(o,e,n+x);return{lo:b.lo,hi:v.hi}}}}else{const p=m(o,e,n);if(f){const{vScale:x}=a._cachedMeta,{_parsed:b}=t,v=b.slice(0,p.lo+1).reverse().findIndex(S=>!Le(S[x.axis]));p.lo-=Math.max(0,v);const w=b.slice(p.hi).findIndex(S=>!Le(S[x.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function bh(t,e,n,s,a){const o=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,f=o.length;u<f;++u){const{index:m,data:p}=o[u],{lo:x,hi:b}=R3(o[u],e,l,a);for(let v=x;v<=b;++v){const w=p[v];w.skip||s(w,m,v)}}}function L3(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,a){const o=e?Math.abs(s.x-a.x):0,l=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function bp(t,e,n,s,a){const o=[];return!a&&!t.isPointInArea(e)||bh(t,n,e,function(u,f,m){!a&&!oi(u,t.chartArea,0)||u.inRange(e.x,e.y,s)&&o.push({element:u,datasetIndex:f,index:m})},!0),o}function z3(t,e,n,s){let a=[];function o(l,u,f){const{startAngle:m,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:x}=jS(l,{x:e.x,y:e.y});uc(x,m,p)&&a.push({element:l,datasetIndex:u,index:f})}return bh(t,n,e,o),a}function P3(t,e,n,s,a,o){let l=[];const u=L3(n);let f=Number.POSITIVE_INFINITY;function m(p,x,b){const v=p.inRange(e.x,e.y,a);if(s&&!v)return;const w=p.getCenterPoint(a);if(!(!!o||t.isPointInArea(w))&&!v)return;const j=u(e,w);j<f?(l=[{element:p,datasetIndex:x,index:b}],f=j):j===f&&l.push({element:p,datasetIndex:x,index:b})}return bh(t,n,e,m),l}function vp(t,e,n,s,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!s?z3(t,e,n,a):P3(t,e,n,s,a,o)}function w_(t,e,n,s,a){const o=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return bh(t,n,e,(f,m,p)=>{f[l]&&f[l](e[n],a)&&(o.push({element:f,datasetIndex:m,index:p}),u=u||f.inRange(e.x,e.y,a))}),s&&!u?[]:o}var B3={modes:{index(t,e,n,s){const a=Ba(e,t),o=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?bp(t,a,o,s,l):vp(t,a,o,!1,s,l),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const p=u[0].index,x=m.data[p];x&&!x.skip&&f.push({element:x,datasetIndex:m.index,index:p})}),f):[]},dataset(t,e,n,s){const a=Ba(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?bp(t,a,o,s,l):vp(t,a,o,!1,s,l);if(u.length>0){const f=u[0].datasetIndex,m=t.getDatasetMeta(f).data;u=[];for(let p=0;p<m.length;++p)u.push({element:m[p],datasetIndex:f,index:p})}return u},point(t,e,n,s){const a=Ba(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return bp(t,a,o,s,l)},nearest(t,e,n,s){const a=Ba(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return vp(t,a,o,n.intersect,s,l)},x(t,e,n,s){const a=Ba(e,t);return w_(t,a,"x",n.intersect,s)},y(t,e,n,s){const a=Ba(e,t);return w_(t,a,"y",n.intersect,s)}}};const ej=["left","top","right","bottom"];function Nl(t,e){return t.filter(n=>n.pos===e)}function S_(t,e){return t.filter(n=>ej.indexOf(n.pos)===-1&&n.box.axis===e)}function Ml(t,e){return t.sort((n,s)=>{const a=e?s:n,o=e?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function V3(t){const e=[];let n,s,a,o,l,u;for(n=0,s=(t||[]).length;n<s;++n)a=t[n],{position:o,options:{stack:l,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:u});return e}function F3(t){const e={};for(const n of t){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!ej.includes(a))continue;const l=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function H3(t,e){const n=F3(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let o,l,u;for(o=0,l=t.length;o<l;++o){u=t[o];const{fullSize:f}=u.box,m=n[u.stack],p=m&&u.stackWeight/m.weight;u.horizontal?(u.width=p?p*s:f&&e.availableWidth,u.height=a):(u.width=s,u.height=p?p*a:f&&e.availableHeight)}return n}function U3(t){const e=V3(t),n=Ml(e.filter(m=>m.box.fullSize),!0),s=Ml(Nl(e,"left"),!0),a=Ml(Nl(e,"right")),o=Ml(Nl(e,"top"),!0),l=Ml(Nl(e,"bottom")),u=S_(e,"x"),f=S_(e,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(l).concat(u),chartArea:Nl(e,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(l).concat(u)}}function j_(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function tj(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Y3(t,e,n,s){const{pos:a,box:o}=n,l=t.maxPadding;if(!Be(a)){n.size&&(t[a]-=n.size);const x=s[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?o.height:o.width),n.size=x.size/x.count,t[a]+=n.size}o.getPadding&&tj(l,o.getPadding());const u=Math.max(0,e.outerWidth-j_(l,t,"left","right")),f=Math.max(0,e.outerHeight-j_(l,t,"top","bottom")),m=u!==t.w,p=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:m,other:p}:{same:p,other:m}}function W3(t){const e=t.maxPadding;function n(s){const a=Math.max(e[s]-t[s],0);return t[s]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function I3(t,e){const n=e.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(e[l],n[l])}),o}return s(t?["left","right"]:["top","bottom"])}function Ul(t,e,n,s){const a=[];let o,l,u,f,m,p;for(o=0,l=t.length,m=0;o<l;++o){u=t[o],f=u.box,f.update(u.width||e.w,u.height||e.h,I3(u.horizontal,e));const{same:x,other:b}=Y3(e,n,u,s);m|=x&&a.length,p=p||b,f.fullSize||a.push(u)}return m&&Ul(a,e,n,s)||p}function id(t,e,n,s,a){t.top=n,t.left=e,t.right=e+s,t.bottom=n+a,t.width=s,t.height=a}function k_(t,e,n,s){const a=n.padding;let{x:o,y:l}=e;for(const u of t){const f=u.box,m=s[u.stack]||{placed:0,weight:1},p=u.stackWeight/m.weight||1;if(u.horizontal){const x=e.w*p,b=m.size||f.height;cc(m.start)&&(l=m.start),f.fullSize?id(f,a.left,l,n.outerWidth-a.right-a.left,b):id(f,e.left+m.placed,l,x,b),m.start=l,m.placed+=x,l=f.bottom}else{const x=e.h*p,b=m.size||f.width;cc(m.start)&&(o=m.start),f.fullSize?id(f,o,a.top,b,n.outerHeight-a.bottom-a.top):id(f,o,e.top+m.placed,b,x),m.start=o,m.placed+=x,o=f.right}}e.x=o,e.y=l}var an={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const a=ln(t.options.layout.padding),o=Math.max(e-a.width,0),l=Math.max(n-a.height,0),u=U3(t.boxes),f=u.vertical,m=u.horizontal;Je(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=f.reduce((S,j)=>j.box.options&&j.box.options.display===!1?S:S+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},a);tj(b,ln(s));const v=Object.assign({maxPadding:b,w:o,h:l,x:a.left,y:a.top},a),w=H3(f.concat(m),x);Ul(u.fullSize,v,x,w),Ul(f,v,x,w),Ul(m,v,x,w)&&Ul(f,v,x,w),W3(v),k_(u.leftAndTop,v,x,w),v.x+=v.w,v.y+=v.h,k_(u.rightAndBottom,v,x,w),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Je(u.chartArea,S=>{const j=S.box;Object.assign(j,t.chartArea),j.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class nj{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,a){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(e){return!0}updateConfig(e){}}class q3 extends nj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Sd="$chartjs",G3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},N_=t=>t===null||t==="";function $3(t,e){const n=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[Sd]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",N_(a)){const o=c_(t,"width");o!==void 0&&(t.width=o)}if(N_(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=c_(t,"height");o!==void 0&&(t.height=o)}return t}const sj=GA?{passive:!0}:!1;function X3(t,e,n){t&&t.addEventListener(e,n,sj)}function K3(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,sj)}function Z3(t,e){const n=G3[t.type]||t.type,{x:s,y:a}=Ba(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Id(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Q3(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Id(u.addedNodes,s),l=l&&!Id(u.removedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function J3(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Id(u.removedNodes,s),l=l&&!Id(u.addedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const hc=new Map;let M_=0;function ij(){const t=window.devicePixelRatio;t!==M_&&(M_=t,hc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function eE(t,e){hc.size||window.addEventListener("resize",ij),hc.set(t,e)}function tE(t){hc.delete(t),hc.size||window.removeEventListener("resize",ij)}function nE(t,e,n){const s=t.canvas,a=s&&cx(s);if(!a)return;const o=TS((u,f)=>{const m=a.clientWidth;n(u,f),m<a.clientWidth&&n()},window),l=new ResizeObserver(u=>{const f=u[0],m=f.contentRect.width,p=f.contentRect.height;m===0&&p===0||o(m,p)});return l.observe(a),eE(t,o),l}function _p(t,e,n){n&&n.disconnect(),e==="resize"&&tE(t)}function sE(t,e,n){const s=t.canvas,a=TS(o=>{t.ctx!==null&&n(Z3(o,t))},t);return X3(s,e,a),a}class iE extends nj{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?($3(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Sd])return!1;const s=n[Sd].initial;["height","width"].forEach(o=>{const l=s[o];Le(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[Sd],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),l={attach:Q3,detach:J3,resize:nE}[n]||sE;a[n]=l(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),a=s[n];if(!a)return;({attach:_p,detach:_p,resize:_p}[n]||K3)(e,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,a){return qA(e,n,s,a)}isAttached(e){const n=e&&cx(e);return!!(n&&n.isConnected)}}function aE(t){return!lx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?q3:iE}let gi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return uo(this.x)&&uo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const a={};return e.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}};function rE(t,e){const n=t.options.ticks,s=oE(t),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?cE(e):[],l=o.length,u=o[0],f=o[l-1],m=[];if(l>a)return uE(e,m,o,l/a),m;const p=lE(o,e,a);if(l>0){let x,b;const v=l>1?Math.round((f-u)/(l-1)):null;for(ad(e,m,p,Le(v)?0:u-v,u),x=0,b=l-1;x<b;x++)ad(e,m,p,o[x],o[x+1]);return ad(e,m,p,f,Le(v)?e.length:f+v),m}return ad(e,m,p),m}function oE(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(s,a))}function lE(t,e,n){const s=dE(t),a=e.length/n;if(!s)return Math.max(a,1);const o=XC(s);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>a)return f}return Math.max(a,1)}function cE(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function uE(t,e,n,s){let a=0,o=n[0],l;for(s=Math.ceil(s),l=0;l<t.length;l++)l===o&&(e.push(t[l]),a++,o=n[a*s])}function ad(t,e,n,s,a){const o=ke(s,0),l=Math.min(ke(a,t.length),t.length);let u=0,f,m,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=o;p<0;)u++,p=Math.round(o+u*n);for(m=Math.max(o,0);m<l;m++)m===p&&(e.push(t[m]),u++,p=Math.round(o+u*n))}function dE(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const hE=t=>t==="left"?"right":t==="right"?"left":t,T_=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,D_=(t,e)=>Math.min(e||t,t);function C_(t,e){const n=[],s=t.length/e,a=t.length;let o=0;for(;o<a;o+=s)n.push(t[Math.floor(o)]);return n}function fE(t,e,n){const s=t.ticks.length,a=Math.min(e,s-1),o=t._startPixel,l=t._endPixel,u=1e-6;let f=t.getPixelForTick(a),m;if(!(n&&(s===1?m=Math.max(f-o,l-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(a-1))/2,f+=a<e?m:-m,f<o-u||f>l+u)))return f}function mE(t,e){Je(t,n=>{const s=n.gc,a=s.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function Tl(t){return t.drawTicks?t.tickLength:0}function A_(t,e){if(!t.display)return 0;const n=Bt(t.font,e),s=ln(t.padding);return(pt(t.text)?t.text.length:1)*n.lineHeight+s.height}function pE(t,e){return da(t,{scale:e,type:"scale"})}function gE(t,e,n){return da(t,{tick:n,index:e,type:"tick"})}function xE(t,e,n){let s=nx(t);return(n&&e!=="right"||!n&&e==="right")&&(s=hE(s)),s}function yE(t,e,n,s){const{top:a,left:o,bottom:l,right:u,chart:f}=t,{chartArea:m,scales:p}=f;let x=0,b,v,w;const S=l-a,j=u-o;if(t.isHorizontal()){if(v=tn(s,o,u),Be(n)){const N=Object.keys(n)[0],T=n[N];w=p[N].getPixelForValue(T)+S-e}else n==="center"?w=(m.bottom+m.top)/2+S-e:w=T_(t,n,e);b=u-o}else{if(Be(n)){const N=Object.keys(n)[0],T=n[N];v=p[N].getPixelForValue(T)-j+e}else n==="center"?v=(m.left+m.right)/2-j+e:v=T_(t,n,e);w=tn(s,l,a),x=n==="left"?-Ct:Ct}return{titleX:v,titleY:w,maxWidth:b,rotation:x}}class Qa extends gi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return e=An(e,Number.POSITIVE_INFINITY),n=An(n,Number.NEGATIVE_INFINITY),s=An(s,Number.POSITIVE_INFINITY),a=An(a,Number.NEGATIVE_INFINITY),{min:An(e,s),max:An(n,a),minDefined:St(e),maxDefined:St(n)}}getMinMax(e){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:s};const u=this.getMatchingVisibleMetas();for(let f=0,m=u.length;f<m;++f)l=u[f].controller.getMinMax(this,e),a||(n=Math.min(n,l.min)),o||(s=Math.max(s,l.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:An(n,An(s,n)),max:An(s,An(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:a,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jA(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?C_(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=rE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),at(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s],o.label=at(n.callback,[o.value,s,e],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=D_(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,u,f,m;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),x=p.widest.width,b=p.highest.height,v=Ut(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/s:v/(s-1),x+6>u&&(u=v/(s-(e.offset?.5:1)),f=this.maxHeight-Tl(e.grid)-n.padding-A_(e.title,this.chart.options.font),m=Math.sqrt(x*x+b*b),l=ex(Math.min(Math.asin(Ut((p.highest.height+6)/u,-1,1)),Math.asin(Ut(f/m,-1,1))-Math.asin(Ut(b/m,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=A_(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=Tl(o)+f):(e.height=this.maxHeight,e.width=Tl(o)+f),s.display&&this.ticks.length){const{first:m,last:p,widest:x,highest:b}=this._getLabelSizes(),v=s.padding*2,w=cs(this.labelRotation),S=Math.cos(w),j=Math.sin(w);if(u){const N=s.mirror?0:j*x.width+S*b.height;e.height=Math.min(this.maxHeight,e.height+N+v)}else{const N=s.mirror?0:S*x.width+j*b.height;e.width=Math.min(this.maxWidth,e.width+N+v)}this._calculatePadding(m,p,j,S)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,a){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,v=0;f?m?(b=a*e.width,v=s*n.height):(b=s*e.height,v=a*n.width):o==="start"?v=n.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,v=n.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-x+l)*this.width/(this.width-x),0)}else{let p=n.height/2,x=e.height/2;o==="start"?(p=0,x=e.height):o==="end"&&(p=n.height,x=0),this.paddingTop=p+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Le(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=C_(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:a,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(n/D_(n,s));let m=0,p=0,x,b,v,w,S,j,N,T,A,C,R;for(x=0;x<n;x+=f){if(w=e[x].label,S=this._resolveTickFontOptions(x),a.font=j=S.string,N=o[j]=o[j]||{data:{},gc:[]},T=S.lineHeight,A=C=0,!Le(w)&&!pt(w))A=Yd(a,N.data,N.gc,A,w),C=T;else if(pt(w))for(b=0,v=w.length;b<v;++b)R=w[b],!Le(R)&&!pt(R)&&(A=Yd(a,N.data,N.gc,A,R),C+=T);l.push(A),u.push(C),m=Math.max(A,m),p=Math.max(C,p)}mE(o,n);const D=l.indexOf(m),E=u.indexOf(p),z=V=>({width:l[V]||0,height:u[V]||0});return{first:z(0),last:z(n-1),widest:z(D),highest:z(E),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return JC(this._alignToPixels?Ea(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=gE(this.getContext(),e,s))}return this.$context||(this.$context=pE(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=cs(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*s>u*a?u/s:f/a:f*a<u*s?f/s:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:l,border:u}=a,f=o.offset,m=this.isHorizontal(),x=this.ticks.length+(f?1:0),b=Tl(o),v=[],w=u.setContext(this.getContext()),S=w.display?w.width:0,j=S/2,N=function(H){return Ea(s,H,S)};let T,A,C,R,D,E,z,V,X,G,ne,pe;if(l==="top")T=N(this.bottom),E=this.bottom-b,V=T-j,G=N(e.top)+j,pe=e.bottom;else if(l==="bottom")T=N(this.top),G=e.top,pe=N(e.bottom)-j,E=T+j,V=this.top+b;else if(l==="left")T=N(this.right),D=this.right-b,z=T-j,X=N(e.left)+j,ne=e.right;else if(l==="right")T=N(this.left),X=e.left,ne=N(e.right)-j,D=T+j,z=this.left+b;else if(n==="x"){if(l==="center")T=N((e.top+e.bottom)/2+.5);else if(Be(l)){const H=Object.keys(l)[0],$=l[H];T=N(this.chart.scales[H].getPixelForValue($))}G=e.top,pe=e.bottom,E=T+j,V=E+b}else if(n==="y"){if(l==="center")T=N((e.left+e.right)/2);else if(Be(l)){const H=Object.keys(l)[0],$=l[H];T=N(this.chart.scales[H].getPixelForValue($))}D=T-j,z=D-b,X=e.left,ne=e.right}const re=ke(a.ticks.maxTicksLimit,x),ue=Math.max(1,Math.ceil(x/re));for(A=0;A<x;A+=ue){const H=this.getContext(A),$=o.setContext(H),ie=u.setContext(H),te=$.lineWidth,le=$.color,L=ie.dash||[],U=ie.dashOffset,J=$.tickWidth,O=$.tickColor,ee=$.tickBorderDash||[],ce=$.tickBorderDashOffset;C=fE(this,A,f),C!==void 0&&(R=Ea(s,C,te),m?D=z=X=ne=R:E=V=G=pe=R,v.push({tx1:D,ty1:E,tx2:z,ty2:V,x1:X,y1:G,x2:ne,y2:pe,width:te,color:le,borderDash:L,borderDashOffset:U,tickWidth:J,tickColor:O,tickBorderDash:ee,tickBorderDashOffset:ce}))}return this._ticksLength=x,this._borderValue=T,v}_computeLabelItems(e){const n=this.axis,s=this.options,{position:a,ticks:o}=s,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:m,padding:p,mirror:x}=o,b=Tl(s.grid),v=b+p,w=x?-p:v,S=-cs(this.labelRotation),j=[];let N,T,A,C,R,D,E,z,V,X,G,ne,pe="middle";if(a==="top")D=this.bottom-w,E=this._getXAxisLabelAlignment();else if(a==="bottom")D=this.top+w,E=this._getXAxisLabelAlignment();else if(a==="left"){const ue=this._getYAxisLabelAlignment(b);E=ue.textAlign,R=ue.x}else if(a==="right"){const ue=this._getYAxisLabelAlignment(b);E=ue.textAlign,R=ue.x}else if(n==="x"){if(a==="center")D=(e.top+e.bottom)/2+v;else if(Be(a)){const ue=Object.keys(a)[0],H=a[ue];D=this.chart.scales[ue].getPixelForValue(H)+v}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")R=(e.left+e.right)/2-v;else if(Be(a)){const ue=Object.keys(a)[0],H=a[ue];R=this.chart.scales[ue].getPixelForValue(H)}E=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?pe="top":f==="end"&&(pe="bottom"));const re=this._getLabelSizes();for(N=0,T=u.length;N<T;++N){A=u[N],C=A.label;const ue=o.setContext(this.getContext(N));z=this.getPixelForTick(N)+o.labelOffset,V=this._resolveTickFontOptions(N),X=V.lineHeight,G=pt(C)?C.length:1;const H=G/2,$=ue.color,ie=ue.textStrokeColor,te=ue.textStrokeWidth;let le=E;l?(R=z,E==="inner"&&(N===T-1?le=this.options.reverse?"left":"right":N===0?le=this.options.reverse?"right":"left":le="center"),a==="top"?m==="near"||S!==0?ne=-G*X+X/2:m==="center"?ne=-re.highest.height/2-H*X+X:ne=-re.highest.height+X/2:m==="near"||S!==0?ne=X/2:m==="center"?ne=re.highest.height/2-H*X:ne=re.highest.height-G*X,x&&(ne*=-1),S!==0&&!ue.showLabelBackdrop&&(R+=X/2*Math.sin(S))):(D=z,ne=(1-G)*X/2);let L;if(ue.showLabelBackdrop){const U=ln(ue.backdropPadding),J=re.heights[N],O=re.widths[N];let ee=ne-U.top,ce=0-U.left;switch(pe){case"middle":ee-=J/2;break;case"bottom":ee-=J;break}switch(E){case"center":ce-=O/2;break;case"right":ce-=O;break;case"inner":N===T-1?ce-=O:N>0&&(ce-=O/2);break}L={left:ce,top:ee,width:O+U.width,height:J+U.height,color:ue.backdropColor}}j.push({label:C,font:V,textOffset:ne,options:{rotation:S,color:$,strokeColor:ie,strokeWidth:te,textAlign:le,textBaseline:pe,translation:[R,D],backdrop:L}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-cs(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,f=l.widest.width;let m,p;return n==="left"?a?(p=this.right+o,s==="near"?m="left":s==="center"?(m="center",p+=f/2):(m="right",p+=f)):(p=this.right-u,s==="near"?m="right":s==="center"?(m="center",p-=f/2):(m="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?m="right":s==="center"?(m="center",p-=f/2):(m="left",p-=f)):(p=this.left+u,s==="near"?m="left":s==="center"?(m="center",p+=f/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:a,width:o,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,a,o,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(f,m,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(m.x,m.y),s.stroke(),s.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const f=a[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const u=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,p,x,b;this.isHorizontal()?(m=Ea(e,this.left,l)-l/2,p=Ea(e,this.right,u)+u/2,x=b=f):(x=Ea(e,this.top,l)-l/2,b=Ea(e,this.bottom,u)+u/2,m=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,x),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&gh(s,a);const o=this.getLabelItems(e);for(const l of o){const u=l.options,f=l.font,m=l.label,p=l.textOffset;Xa(s,m,0,p,f,u)}a&&xh(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=Bt(s.font),l=ln(s.padding),u=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Be(n)?(f+=l.bottom,pt(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=l.top;const{titleX:m,titleY:p,maxWidth:x,rotation:b}=yE(this,f,n,u);Xa(e,s.text,0,0,o,{color:s.color,maxWidth:x,rotation:b,textAlign:xE(u,n,a),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=ke(e.grid&&e.grid.z,-1),a=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Qa.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];u[s]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Bt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class rd{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;_E(n)&&(s=this.register(n));const a=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,bE(e,l,s),this.override&&gt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,a=this.scope;s in n&&delete n[s],a&&s in gt[a]&&(delete gt[a][s],this.override&&delete $a[s])}}function bE(t,e,n){const s=lc(Object.create(null),[n?gt.get(n):{},gt.get(e),t.defaults]);gt.set(e,s),t.defaultRoutes&&vE(e,t.defaultRoutes),t.descriptors&&gt.describe(e,t.descriptors)}function vE(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),a=s.pop(),o=[t].concat(s).join("."),l=e[n].split("."),u=l.pop(),f=l.join(".");gt.route(o,a,f,u)})}function _E(t){return"id"in t&&"defaults"in t}class wE{constructor(){this.controllers=new rd(ha,"datasets",!0),this.elements=new rd(gi,"elements"),this.plugins=new rd(Object,"plugins"),this.scales=new rd(Qa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):Je(a,l=>{const u=s||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,s){const a=Jg(e);at(s["before"+a],[],s),n[e](s),at(s["after"+a],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var js=new wE;class SE{constructor(){this._init=void 0}notify(e,n,s,a){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=a?this._descriptors(e).filter(a):this._descriptors(e),l=this._notify(o,e,n,s);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,n,s,a){a=a||{};for(const o of e){const l=o.plugin,u=l[s],f=[n,a,o.options];if(at(u,f,l)===!1&&a.cancelable)return!1}return!0}invalidate(){Le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,a=ke(s.options&&s.options.plugins,{}),o=jE(s);return a===!1&&!n?[]:NE(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,a=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(a(n,s),e,"stop"),this._notify(a(s,n),e,"start")}}function jE(t){const e={},n=[],s=Object.keys(js.plugins.items);for(let o=0;o<s.length;o++)n.push(js.getPlugin(s[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function kE(t,e){return!e&&t===!1?null:t===!0?{}:t}function NE(t,{plugins:e,localIds:n},s,a){const o=[],l=t.getContext();for(const u of e){const f=u.id,m=kE(s[f],a);m!==null&&o.push({plugin:u,options:ME(t.config,{plugin:u,local:n[f]},m,l)})}return o}function ME(t,{plugin:e,local:n},s,a){const o=t.pluginScopeKeys(e),l=t.getOptionScopes(s,o);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lg(t,e){const n=gt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function TE(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function DE(t,e){return t===e?"_index_":"_value_"}function E_(t){if(t==="x"||t==="y"||t==="r")return t}function CE(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function cg(t,...e){if(E_(t))return t;for(const n of e){const s=n.axis||CE(n.position)||t.length>1&&E_(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function O_(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function AE(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return O_(t,"x",n[0])||O_(t,"y",n[0])}return{}}function EE(t,e){const n=$a[t.type]||{scales:{}},s=e.scales||{},a=lg(t.type,e),o=Object.create(null);return Object.keys(s).forEach(l=>{const u=s[l];if(!Be(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=cg(l,u,AE(l,t),gt.scales[u.type]),m=DE(f,a),p=n.scales||{};o[l]=$l(Object.create(null),[{axis:f},u,p[f],p[m]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,f=l.indexAxis||lg(u,e),p=($a[u]||{}).scales||{};Object.keys(p).forEach(x=>{const b=TE(x,f),v=l[b+"AxisID"]||b;o[v]=o[v]||Object.create(null),$l(o[v],[{axis:b},s[v],p[x]])})}),Object.keys(o).forEach(l=>{const u=o[l];$l(u,[gt.scales[u.type],gt.scale])}),o}function aj(t){const e=t.options||(t.options={});e.plugins=ke(e.plugins,{}),e.scales=EE(t,e)}function rj(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function OE(t){return t=t||{},t.data=rj(t.data),aj(t),t}const R_=new Map,oj=new Set;function od(t,e){let n=R_.get(t);return n||(n=e(),R_.set(t,n),oj.add(n)),n}const Dl=(t,e,n)=>{const s=ra(e,n);s!==void 0&&t.add(s)};class RE{constructor(e){this._config=OE(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=rj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),aj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return od(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return od(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return od(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return od(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let a=s.get(e);return(!a||n)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,n,s){const{options:a,type:o}=this,l=this._cachedScopes(e,s),u=l.get(n);if(u)return u;const f=new Set;n.forEach(p=>{e&&(f.add(e),p.forEach(x=>Dl(f,e,x))),p.forEach(x=>Dl(f,a,x)),p.forEach(x=>Dl(f,$a[o]||{},x)),p.forEach(x=>Dl(f,gt,x)),p.forEach(x=>Dl(f,rg,x))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),oj.has(n)&&l.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,$a[n]||{},gt.datasets[n]||{},{type:n},gt,rg]}resolveNamedOptions(e,n,s,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=L_(this._resolverCache,e,a);let f=l;if(zE(l,n)){o.$shared=!1,s=oa(s)?s():s;const m=this.createResolver(e,s,u);f=ho(l,s,m)}for(const m of n)o[m]=f[m];return o}createResolver(e,n,s=[""],a){const{resolver:o}=L_(this._resolverCache,e,s);return Be(n)?ho(o,n,void 0,a):o}}function L_(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const a=n.join();let o=s.get(a);return o||(o={resolver:ax(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},s.set(a,o)),o}const LE=t=>Be(t)&&Object.getOwnPropertyNames(t).some(e=>oa(t[e]));function zE(t,e){const{isScriptable:n,isIndexable:s}=RS(t);for(const a of e){const o=n(a),l=s(a),u=(l||o)&&t[a];if(o&&(oa(u)||LE(u))||l&&pt(u))return!0}return!1}var PE="4.5.1";const BE=["top","bottom","left","right","chartArea"];function z_(t,e){return t==="top"||t==="bottom"||BE.indexOf(t)===-1&&e==="x"}function P_(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function B_(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),at(n&&n.onComplete,[t],e)}function VE(t){const e=t.chart,n=e.options.animation;at(n&&n.onProgress,[t],e)}function lj(t){return lx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const jd={},V_=t=>{const e=lj(t);return Object.values(jd).filter(n=>n.canvas===e).pop()};function FE(t,e,n){const s=Object.keys(t);for(const a of s){const o=+a;if(o>=e){const l=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=l)}}}function HE(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}let fs=class{static defaults=gt;static instances=jd;static overrides=$a;static registry=js;static version=PE;static getChart=V_;static register(...e){js.add(...e),F_()}static unregister(...e){js.remove(...e),F_()}constructor(e,n){const s=this.config=new RE(n),a=lj(e),o=V_(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||aE(a)),this.platform.updateConfig(s);const u=this.platform.acquireContext(a,l.aspectRatio),f=u&&u.canvas,m=f&&f.height,p=f&&f.width;if(this.id=FC(),this.ctx=u,this.canvas=f,this.width=p,this.height=m,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new SE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=sA(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],jd[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ti.listen(this,"complete",B_),ti.listen(this,"progress",VE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return Le(e)?n&&o?o:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return js}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():l_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return a_(this.canvas,this.ctx),this}stop(){return ti.stop(this),this}resize(e,n){ti.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,e,n,o),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,l_(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),at(s.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Je(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,a=Object.keys(s).reduce((l,u)=>(l[u]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const u=n[l],f=cg(l,u),m=f==="r",p=f==="x";return{options:u,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),Je(o,l=>{const u=l.options,f=u.id,m=cg(f,u),p=ke(u.type,l.dtype);(u.position===void 0||z_(u.position,m)!==z_(l.dposition))&&(u.position=l.dposition),a[f]=!0;let x=null;if(f in s&&s[f].type===p)x=s[f];else{const b=js.getScale(p);x=new b({id:f,type:p,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(u,e)}),Je(a,(l,u)=>{l||delete s[u]}),Je(s,l=>{an.configure(this,l,l.options),an.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(P_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let l=this.getDatasetMeta(s);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=u,l.indexAxis=o.indexAxis||lg(u,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const f=js.getController(u),{datasetElementType:m,dataElementType:p}=gt.datasets[u];Object.assign(f,{dataElementType:js.getElement(p),datasetElementType:m&&js.getElement(m)}),l.controller=new f(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Je(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:x}=this.getDatasetMeta(m),b=!a&&o.indexOf(x)===-1;x.buildOrUpdateElements(b),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||Je(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(P_("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Je(this.scales,e=>{an.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!K1(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const l=s==="_removeElements"?-o:o;FE(e,a,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!K1(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;an.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Je(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,oa(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ti.has(this)?this.attached&&!ti.running(this)&&ti.start(this):(this.draw(),B_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=IS(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&gh(n,a),e.controller.draw(),a&&xh(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return oi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,a){const o=B3.modes[n];return typeof o=="function"?o(this,e,s,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=da(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,a);cc(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(o,{visible:s}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ti.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),a_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete jd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),e[o]=l},a=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Je(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(f,m)=>{n.addEventListener(this,f,m),e[f]=m},a=(f,m)=>{e[f]&&(n.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let l;const u=()=>{a("attach",u),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){Je(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Je(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const a=s?"set":"remove";let o,l,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){l=e[u];const m=l&&this.getDatasetMeta(l.datasetIndex).controller;m&&m[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Fd(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const a=this.options.hover,o=(f,m)=>f.filter(p=>!m.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),l=o(n,e),u=s?e:o(e,n);l.length&&this.updateHoverStyle(l,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:a=[],options:o}=this,l=n,u=this._getActiveElements(e,a,s,l),f=qC(e),m=HE(e,this._lastEvent,s,f);s&&(this._lastEvent=null,at(o.onHover,[e,u,this],this),f&&at(o.onClick,[e,u,this],this));const p=!Fd(u,a);return(p||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=m,p}_getActiveElements(e,n,s,a){if(e.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function F_(){return Je(fs.instances,t=>t._plugins.invalidate())}function UE(t,e,n){const{startAngle:s,x:a,y:o,outerRadius:l,innerRadius:u,options:f}=e,{borderWidth:m,borderJoinStyle:p}=f,x=Math.min(m/l,sn(s-n));if(t.beginPath(),t.arc(a,o,l-m/2,s+x/2,n-x/2),u>0){const b=Math.min(m/u,sn(s-n));t.arc(a,o,u+m/2,n-b/2,s+b/2,!0)}else{const b=Math.min(m/2,l*sn(s-n));if(p==="round")t.arc(a,o,b,n-Ie/2,s+Ie/2,!0);else if(p==="bevel"){const v=2*b*b,w=-v*Math.cos(n+Ie/2)+a,S=-v*Math.sin(n+Ie/2)+o,j=v*Math.cos(s+Ie/2)+a,N=v*Math.sin(s+Ie/2)+o;t.lineTo(w,S),t.lineTo(j,N)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function YE(t,e,n){const{startAngle:s,pixelMargin:a,x:o,y:l,outerRadius:u,innerRadius:f}=e;let m=a/u;t.beginPath(),t.arc(o,l,u,s-m,n+m),f>a?(m=a/f,t.arc(o,l,f,n+m,s-m,!0)):t.arc(o,l,a,n+Ct,s-Ct),t.closePath(),t.clip()}function WE(t){return ix(t,["outerStart","outerEnd","innerStart","innerEnd"])}function IE(t,e,n,s){const a=WE(t.options.borderRadius),o=(n-e)/2,l=Math.min(o,s*e/2),u=f=>{const m=(n-Math.min(o,f))*s/2;return Ut(f,0,Math.min(o,m))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Ut(a.innerStart,0,l),innerEnd:Ut(a.innerEnd,0,l)}}function qr(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function qd(t,e,n,s,a,o){const{x:l,y:u,startAngle:f,pixelMargin:m,innerRadius:p}=e,x=Math.max(e.outerRadius+s+n-m,0),b=p>0?p+s+n+m:0;let v=0;const w=a-f;if(s){const ue=p>0?p-s:0,H=x>0?x-s:0,$=(ue+H)/2,ie=$!==0?w*$/($+s):w;v=(w-ie)/2}const S=Math.max(.001,w*x-n/Ie)/x,j=(w-S)/2,N=f+j+v,T=a-j-v,{outerStart:A,outerEnd:C,innerStart:R,innerEnd:D}=IE(e,b,x,T-N),E=x-A,z=x-C,V=N+A/E,X=T-C/z,G=b+R,ne=b+D,pe=N+R/G,re=T-D/ne;if(t.beginPath(),o){const ue=(V+X)/2;if(t.arc(l,u,x,V,ue),t.arc(l,u,x,ue,X),C>0){const te=qr(z,X,l,u);t.arc(te.x,te.y,C,X,T+Ct)}const H=qr(ne,T,l,u);if(t.lineTo(H.x,H.y),D>0){const te=qr(ne,re,l,u);t.arc(te.x,te.y,D,T+Ct,re+Math.PI)}const $=(T-D/b+(N+R/b))/2;if(t.arc(l,u,b,T-D/b,$,!0),t.arc(l,u,b,$,N+R/b,!0),R>0){const te=qr(G,pe,l,u);t.arc(te.x,te.y,R,pe+Math.PI,N-Ct)}const ie=qr(E,N,l,u);if(t.lineTo(ie.x,ie.y),A>0){const te=qr(E,V,l,u);t.arc(te.x,te.y,A,N-Ct,V)}}else{t.moveTo(l,u);const ue=Math.cos(V)*x+l,H=Math.sin(V)*x+u;t.lineTo(ue,H);const $=Math.cos(X)*x+l,ie=Math.sin(X)*x+u;t.lineTo($,ie)}t.closePath()}function qE(t,e,n,s,a){const{fullCircles:o,startAngle:l,circumference:u}=e;let f=e.endAngle;if(o){qd(t,e,n,s,f,a);for(let m=0;m<o;++m)t.fill();isNaN(u)||(f=l+(u%ct||ct))}return qd(t,e,n,s,f,a),t.fill(),f}function GE(t,e,n,s,a){const{fullCircles:o,startAngle:l,circumference:u,options:f}=e,{borderWidth:m,borderJoinStyle:p,borderDash:x,borderDashOffset:b,borderRadius:v}=f,w=f.borderAlign==="inner";if(!m)return;t.setLineDash(x||[]),t.lineDashOffset=b,w?(t.lineWidth=m*2,t.lineJoin=p||"round"):(t.lineWidth=m,t.lineJoin=p||"bevel");let S=e.endAngle;if(o){qd(t,e,n,s,S,a);for(let j=0;j<o;++j)t.stroke();isNaN(u)||(S=l+(u%ct||ct))}w&&YE(t,e,S),f.selfJoin&&S-l>=Ie&&v===0&&p!=="miter"&&UE(t,e,S),o||(qd(t,e,n,s,S,a),t.stroke())}class $E extends gi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const a=this.getProps(["x","y"],s),{angle:o,distance:l}=jS(a,{x:e,y:n}),{startAngle:u,endAngle:f,innerRadius:m,outerRadius:p,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),b=(this.options.spacing+this.options.borderWidth)/2,v=ke(x,f-u),w=uc(o,u,f)&&u!==f,S=v>=ct||w,j=ai(l,m+b,p+b);return S&&j}getCenterPoint(e){const{x:n,y:s,startAngle:a,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:m}=this.options,p=(a+o)/2,x=(l+u+m+f)/2;return{x:n+Math.cos(p)*x,y:s+Math.sin(p)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>ct?Math.floor(s/ct):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const f=1-Math.sin(Math.min(Ie,s||0)),m=a*f;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,qE(e,this,m,o,l),GE(e,this,m,o,l),e.restore()}}function cj(t,e,n=e){t.lineCap=ke(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ke(n.borderDash,e.borderDash)),t.lineDashOffset=ke(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ke(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ke(n.borderWidth,e.borderWidth),t.strokeStyle=ke(n.borderColor,e.borderColor)}function XE(t,e,n){t.lineTo(n.x,n.y)}function KE(t){return t.stepped?pA:t.tension||t.cubicInterpolationMode==="monotone"?gA:XE}function uj(t,e,n={}){const s=t.length,{start:a=0,end:o=s-1}=n,{start:l,end:u}=e,f=Math.max(a,l),m=Math.min(o,u),p=a<l&&o<l||a>u&&o>u;return{count:s,start:f,loop:e.loop,ilen:m<f&&!p?s+m-f:m-f}}function ZE(t,e,n,s){const{points:a,options:o}=e,{count:l,start:u,loop:f,ilen:m}=uj(a,n,s),p=KE(o);let{move:x=!0,reverse:b}=s||{},v,w,S;for(v=0;v<=m;++v)w=a[(u+(b?m-v:v))%l],!w.skip&&(x?(t.moveTo(w.x,w.y),x=!1):p(t,S,w,b,o.stepped),S=w);return f&&(w=a[(u+(b?m:0))%l],p(t,S,w,b,o.stepped)),!!f}function QE(t,e,n,s){const a=e.points,{count:o,start:l,ilen:u}=uj(a,n,s),{move:f=!0,reverse:m}=s||{};let p=0,x=0,b,v,w,S,j,N;const T=C=>(l+(m?u-C:C))%o,A=()=>{S!==j&&(t.lineTo(p,j),t.lineTo(p,S),t.lineTo(p,N))};for(f&&(v=a[T(0)],t.moveTo(v.x,v.y)),b=0;b<=u;++b){if(v=a[T(b)],v.skip)continue;const C=v.x,R=v.y,D=C|0;D===w?(R<S?S=R:R>j&&(j=R),p=(x*p+C)/++x):(A(),t.lineTo(C,R),w=D,x=0,S=j=R),N=R}A()}function ug(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?QE:ZE}function JE(t){return t.stepped?$A:t.tension||t.cubicInterpolationMode==="monotone"?XA:Va}function e4(t,e,n,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,n,s)&&a.closePath()),cj(t,e.options),t.stroke(a)}function t4(t,e,n,s){const{segments:a,options:o}=e,l=ug(e);for(const u of a)cj(t,o,u.style),t.beginPath(),l(t,e,u,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const n4=typeof Path2D=="function";function s4(t,e,n,s){n4&&!e.options.segment?e4(t,e,n,s):t4(t,e,n,s)}class xi extends gi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;FA(this._points,s,e,a,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=t3(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,a=e[n],o=this.points,l=WS(this,{property:n,start:a,end:a});if(!l.length)return;const u=[],f=JE(s);let m,p;for(m=0,p=l.length;m<p;++m){const{start:x,end:b}=l[m],v=o[x],w=o[b];if(v===w){u.push(v);continue}const S=Math.abs((a-v[n])/(w[n]-v[n])),j=f(v,w,S,s.stepped);j[n]=e[n],u.push(j)}return u.length===1?u[0]:u}pathSegment(e,n,s){return ug(this)(e,this,n,s)}path(e,n,s){const a=this.segments,o=ug(this);let l=this._loop;n=n||0,s=s||this.points.length-n;for(const u of a)l&=o(e,this,u,{start:n,end:n+s-1});return!!l}draw(e,n,s,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),s4(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function H_(t,e,n,s){const a=t.options,{[n]:o}=t.getProps([n],s);return Math.abs(e-o)<a.radius+a.hitRadius}class bo extends gi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(n-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,n){return H_(this,e,"x",n)}inYRange(e,n){return H_(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!oi(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,og(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function dj(t,e){const{x:n,y:s,base:a,width:o,height:l}=t.getProps(["x","y","base","width","height"],e);let u,f,m,p,x;return t.horizontal?(x=l/2,u=Math.min(n,a),f=Math.max(n,a),m=s-x,p=s+x):(x=o/2,u=n-x,f=n+x,m=Math.min(s,a),p=Math.max(s,a)),{left:u,top:m,right:f,bottom:p}}function Ji(t,e,n,s){return t?0:Ut(e,n,s)}function i4(t,e,n){const s=t.options.borderWidth,a=t.borderSkipped,o=OS(s);return{t:Ji(a.top,o.top,0,n),r:Ji(a.right,o.right,0,e),b:Ji(a.bottom,o.bottom,0,n),l:Ji(a.left,o.left,0,e)}}function a4(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=Wa(a),l=Math.min(e,n),u=t.borderSkipped,f=s||Be(a);return{topLeft:Ji(!f||u.top||u.left,o.topLeft,0,l),topRight:Ji(!f||u.top||u.right,o.topRight,0,l),bottomLeft:Ji(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Ji(!f||u.bottom||u.right,o.bottomRight,0,l)}}function r4(t){const e=dj(t),n=e.right-e.left,s=e.bottom-e.top,a=i4(t,n/2,s/2),o=a4(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function wp(t,e,n,s){const a=e===null,o=n===null,u=t&&!(a&&o)&&dj(t,s);return u&&(a||ai(e,u.left,u.right))&&(o||ai(n,u.top,u.bottom))}function o4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function l4(t,e){t.rect(e.x,e.y,e.w,e.h)}function Sp(t,e,n={}){const s=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-s,l=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+s,y:t.y+a,w:t.w+o,h:t.h+l,radius:t.radius}}class hx extends gi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:l}=r4(this),u=o4(l.radius)?dc:l4;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),u(e,Sp(l,n,o)),e.clip(),u(e,Sp(o,-n,l)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),u(e,Sp(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,s){return wp(this,e,n,s)}inXRange(e,n){return wp(this,e,null,n)}inYRange(e,n){return wp(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var c4=Object.freeze({__proto__:null,ArcElement:$E,BarElement:hx,LineElement:xi,PointElement:bo});const dg=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],U_=dg.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function hj(t){return dg[t%dg.length]}function fj(t){return U_[t%U_.length]}function u4(t,e){return t.borderColor=hj(e),t.backgroundColor=fj(e),++e}function d4(t,e){return t.backgroundColor=t.data.map(()=>hj(e++)),e}function h4(t,e){return t.backgroundColor=t.data.map(()=>fj(e++)),e}function f4(t){let e=0;return(n,s)=>{const a=t.getDatasetMeta(s).controller;a instanceof ux?e=d4(n,e):a instanceof ZS?e=h4(n,e):a&&(e=u4(n,e))}}function Y_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function m4(t){return t&&(t.borderColor||t.backgroundColor)}function p4(){return gt.borderColor!=="rgba(0,0,0,0.1)"||gt.backgroundColor!=="rgba(0,0,0,0.1)"}var g4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:a}=t.config,{elements:o}=a,l=Y_(s)||m4(a)||o&&Y_(o)||p4();if(!n.forceOverride&&l)return;const u=f4(t);s.forEach(u)}};function x4(t,e,n,s,a){const o=a.samples||s;if(o>=n)return t.slice(e,e+n);const l=[],u=(n-2)/(o-2);let f=0;const m=e+n-1;let p=e,x,b,v,w,S;for(l[f++]=t[p],x=0;x<o-2;x++){let j=0,N=0,T;const A=Math.floor((x+1)*u)+1+e,C=Math.min(Math.floor((x+2)*u)+1,n)+e,R=C-A;for(T=A;T<C;T++)j+=t[T].x,N+=t[T].y;j/=R,N/=R;const D=Math.floor(x*u)+1+e,E=Math.min(Math.floor((x+1)*u)+1,n)+e,{x:z,y:V}=t[p];for(v=w=-1,T=D;T<E;T++)w=.5*Math.abs((z-j)*(t[T].y-V)-(z-t[T].x)*(N-V)),w>v&&(v=w,b=t[T],S=T);l[f++]=b,p=S}return l[f++]=t[m],l}function y4(t,e,n,s){let a=0,o=0,l,u,f,m,p,x,b,v,w,S;const j=[],N=e+n-1,T=t[e].x,C=t[N].x-T;for(l=e;l<e+n;++l){u=t[l],f=(u.x-T)/C*s,m=u.y;const R=f|0;if(R===p)m<w?(w=m,x=l):m>S&&(S=m,b=l),a=(o*a+u.x)/++o;else{const D=l-1;if(!Le(x)&&!Le(b)){const E=Math.min(x,b),z=Math.max(x,b);E!==v&&E!==D&&j.push({...t[E],x:a}),z!==v&&z!==D&&j.push({...t[z],x:a})}l>0&&D!==v&&j.push(t[D]),j.push(u),p=R,o=0,w=S=m,x=b=v=l}}return j}function mj(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function W_(t){t.data.datasets.forEach(e=>{mj(e)})}function b4(t,e){const n=e.length;let s=0,a;const{iScale:o}=t,{min:l,max:u,minDefined:f,maxDefined:m}=o.getUserBounds();return f&&(s=Ut(ri(e,o.axis,l).lo,0,n-1)),m?a=Ut(ri(e,o.axis,u).hi+1,s,n)-s:a=n-s,{start:s,count:a}}var v4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){W_(t);return}const s=t.width;t.data.datasets.forEach((a,o)=>{const{_data:l,indexAxis:u}=a,f=t.getDatasetMeta(o),m=l||a.data;if(Hl([u,t.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const p=t.scales[f.xAxisID];if(p.type!=="linear"&&p.type!=="time"||t.options.parsing)return;let{start:x,count:b}=b4(f,m);const v=n.threshold||4*s;if(b<=v){mj(a);return}Le(l)&&(a._data=m,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(n.algorithm){case"lttb":w=x4(m,x,b,s,n);break;case"min-max":w=y4(m,x,b,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}a._decimated=w})},destroy(t){W_(t)}};function _4(t,e,n){const s=t.segments,a=t.points,o=e.points,l=[];for(const u of s){let{start:f,end:m}=u;m=vh(f,m,a);const p=hg(n,a[f],a[m],u.loop);if(!e.segments){l.push({source:u,target:p,start:a[f],end:a[m]});continue}const x=WS(e,p);for(const b of x){const v=hg(n,o[b.start],o[b.end],b.loop),w=YS(u,a,v);for(const S of w)l.push({source:S,target:b,start:{[n]:I_(p,v,"start",Math.max)},end:{[n]:I_(p,v,"end",Math.min)}})}}return l}function hg(t,e,n,s){if(s)return;let a=e[t],o=n[t];return t==="angle"&&(a=sn(a),o=sn(o)),{property:t,start:a,end:o}}function w4(t,e){const{x:n=null,y:s=null}=t||{},a=e.points,o=[];return e.segments.forEach(({start:l,end:u})=>{u=vh(l,u,a);const f=a[l],m=a[u];s!==null?(o.push({x:f.x,y:s}),o.push({x:m.x,y:s})):n!==null&&(o.push({x:n,y:f.y}),o.push({x:n,y:m.y}))}),o}function vh(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function I_(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function pj(t,e){let n=[],s=!1;return pt(t)?(s=!0,n=t):n=w4(t,e),n.length?new xi({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function q_(t){return t&&t.fill!==!1}function S4(t,e,n){let a=t[e].fill;const o=[e];let l;if(!n)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!St(a))return a;if(l=t[a],!l)return!1;if(l.visible)return a;o.push(a),a=l.fill}return!1}function j4(t,e,n){const s=T4(t);if(Be(s))return isNaN(s.value)?!1:s;let a=parseFloat(s);return St(a)&&Math.floor(a)===a?k4(s[0],e,a,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function k4(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function N4(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Be(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function M4(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Be(t)?s=t.value:s=e.getBaseValue(),s}function T4(t){const e=t.options,n=e.fill;let s=ke(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function D4(t){const{scale:e,index:n,line:s}=t,a=[],o=s.segments,l=s.points,u=C4(e,n);u.push(pj({x:null,y:e.bottom},s));for(let f=0;f<o.length;f++){const m=o[f];for(let p=m.start;p<=m.end;p++)A4(a,l[p],u)}return new xi({points:a,options:{}})}function C4(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const o=s[a];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function A4(t,e,n){const s=[];for(let a=0;a<n.length;a++){const o=n[a],{first:l,last:u,point:f}=E4(o,e,"x");if(!(!f||l&&u)){if(l)s.unshift(f);else if(t.push(f),!u)break}}t.push(...s)}function E4(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const a=s[n],o=t.segments,l=t.points;let u=!1,f=!1;for(let m=0;m<o.length;m++){const p=o[m],x=l[p.start][n],b=l[p.end][n];if(ai(a,x,b)){u=a===x,f=a===b;break}}return{first:u,last:f,point:s}}class gj{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:a,y:o,radius:l}=this;return n=n||{start:0,end:ct},e.arc(a,o,l,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:a}=this,o=e.angle;return{x:n+Math.cos(o)*a,y:s+Math.sin(o)*a,angle:o}}}function O4(t){const{chart:e,fill:n,line:s}=t;if(St(n))return R4(e,n);if(n==="stack")return D4(t);if(n==="shape")return!0;const a=L4(t);return a instanceof gj?a:pj(a,s)}function R4(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function L4(t){return(t.scale||{}).getPointPositionForValue?P4(t):z4(t)}function z4(t){const{scale:e={},fill:n}=t,s=N4(n,e);if(St(s)){const a=e.isHorizontal();return{x:a?s:null,y:a?null:s}}return null}function P4(t){const{scale:e,fill:n}=t,s=e.options,a=e.getLabels().length,o=s.reverse?e.max:e.min,l=M4(n,e,o),u=[];if(s.grid.circular){const f=e.getPointPositionForValue(0,o);return new gj({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(l)})}for(let f=0;f<a;++f)u.push(e.getPointPositionForValue(f,l));return u}function jp(t,e,n){const s=O4(e),{chart:a,index:o,line:l,scale:u,axis:f}=e,m=l.options,p=m.fill,x=m.backgroundColor,{above:b=x,below:v=x}=p||{},w=a.getDatasetMeta(o),S=IS(a,w);s&&l.points.length&&(gh(t,n),B4(t,{line:l,target:s,above:b,below:v,area:n,scale:u,axis:f,clip:S}),xh(t))}function B4(t,e){const{line:n,target:s,above:a,below:o,area:l,scale:u,clip:f}=e,m=n._loop?"angle":e.axis;t.save();let p=o;o!==a&&(m==="x"?(G_(t,s,l.top),kp(t,{line:n,target:s,color:a,scale:u,property:m,clip:f}),t.restore(),t.save(),G_(t,s,l.bottom)):m==="y"&&($_(t,s,l.left),kp(t,{line:n,target:s,color:o,scale:u,property:m,clip:f}),t.restore(),t.save(),$_(t,s,l.right),p=a)),kp(t,{line:n,target:s,color:p,scale:u,property:m,clip:f}),t.restore()}function G_(t,e,n){const{segments:s,points:a}=e;let o=!0,l=!1;t.beginPath();for(const u of s){const{start:f,end:m}=u,p=a[f],x=a[vh(f,m,a)];o?(t.moveTo(p.x,p.y),o=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,u,{move:l}),l?t.closePath():t.lineTo(x.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function $_(t,e,n){const{segments:s,points:a}=e;let o=!0,l=!1;t.beginPath();for(const u of s){const{start:f,end:m}=u,p=a[f],x=a[vh(f,m,a)];o?(t.moveTo(p.x,p.y),o=!1):(t.lineTo(n,p.y),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,u,{move:l}),l?t.closePath():t.lineTo(n,x.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function kp(t,e){const{line:n,target:s,property:a,color:o,scale:l,clip:u}=e,f=_4(n,s,a);for(const{source:m,target:p,start:x,end:b}of f){const{style:{backgroundColor:v=o}={}}=m,w=s!==!0;t.save(),t.fillStyle=v,V4(t,l,u,w&&hg(a,x,b)),t.beginPath();const S=!!n.pathSegment(t,m);let j;if(w){S?t.closePath():X_(t,s,b,a);const N=!!s.pathSegment(t,p,{move:S,reverse:!0});j=S&&N,j||X_(t,s,x,a)}t.closePath(),t.fill(j?"evenodd":"nonzero"),t.restore()}}function V4(t,e,n,s){const a=e.chart.chartArea,{property:o,start:l,end:u}=s||{};if(o==="x"||o==="y"){let f,m,p,x;o==="x"?(f=l,m=a.top,p=u,x=a.bottom):(f=a.left,m=l,p=a.right,x=u),t.beginPath(),n&&(f=Math.max(f,n.left),p=Math.min(p,n.right),m=Math.max(m,n.top),x=Math.min(x,n.bottom)),t.rect(f,m,p-f,x-m),t.clip()}}function X_(t,e,n,s){const a=e.interpolate(n,s);a&&t.lineTo(a.x,a.y)}var _h={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,a=[];let o,l,u,f;for(l=0;l<s;++l)o=t.getDatasetMeta(l),u=o.dataset,f=null,u&&u.options&&u instanceof xi&&(f={visible:t.isDatasetVisible(l),index:l,fill:j4(u,l,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=f,a.push(f);for(l=0;l<s;++l)f=a[l],!(!f||f.fill===!1)&&(f.fill=S4(a,l,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let l=a.length-1;l>=0;--l){const u=a[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),s&&u.fill&&jp(t.ctx,u,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const o=s[a].$filler;q_(o)&&jp(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!q_(s)||n.drawTime!=="beforeDatasetDraw"||jp(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const K_=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},F4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Z_ extends gi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=at(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=Bt(s.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=K_(s,o);let m,p;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(l,o,u,f)+10):(p=this.maxHeight,m=this._fitCols(l,a,u,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,a){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],p=a+u;let x=e;o.textAlign="left",o.textBaseline="middle";let b=-1,v=-p;return this.legendItems.forEach((w,S)=>{const j=s+n/2+o.measureText(w.text).width;(S===0||m[m.length-1]+j+2*u>l)&&(x+=p,m[m.length-(S>0?0:1)]=0,v+=p,b++),f[S]={left:0,top:v,row:b,width:j,height:a},m[m.length-1]+=j+u}),x}_fitCols(e,n,s,a){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],p=l-e;let x=u,b=0,v=0,w=0,S=0;return this.legendItems.forEach((j,N)=>{const{itemWidth:T,itemHeight:A}=H4(s,n,o,j,a);N>0&&v+A+2*u>p&&(x+=b+u,m.push({width:b,height:v}),w+=b+u,S++,b=v=0),f[N]={left:w,top:v,col:S,width:T,height:A},b=Math.max(b,T),v+=A+u}),x+=b,m.push({width:b,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,l=io(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=tn(s,this.left+a,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,f=tn(s,this.left+a,this.right-this.lineWidths[u])),m.top+=this.top+e+a,m.left=l.leftForLtr(l.x(f),m.width),f+=m.width+a}else{let u=0,f=tn(s,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,f=tn(s,this.top+e+a,this.bottom-this.columnSizes[u].height)),m.top=f,m.left+=this.left+a,m.left=l.leftForLtr(l.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gh(e,this),this._draw(),xh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:l}=e,u=gt.color,f=io(e.rtl,this.left,this.width),m=Bt(l.font),{padding:p}=l,x=m.size,b=x/2;let v;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:w,boxHeight:S,itemHeight:j}=K_(l,x),N=function(D,E,z){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;a.save();const V=ke(z.lineWidth,1);if(a.fillStyle=ke(z.fillStyle,u),a.lineCap=ke(z.lineCap,"butt"),a.lineDashOffset=ke(z.lineDashOffset,0),a.lineJoin=ke(z.lineJoin,"miter"),a.lineWidth=V,a.strokeStyle=ke(z.strokeStyle,u),a.setLineDash(ke(z.lineDash,[])),l.usePointStyle){const X={radius:S*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:V},G=f.xPlus(D,w/2),ne=E+b;ES(a,X,G,ne,l.pointStyleWidth&&w)}else{const X=E+Math.max((x-S)/2,0),G=f.leftForLtr(D,w),ne=Wa(z.borderRadius);a.beginPath(),Object.values(ne).some(pe=>pe!==0)?dc(a,{x:G,y:X,w,h:S,radius:ne}):a.rect(G,X,w,S),a.fill(),V!==0&&a.stroke()}a.restore()},T=function(D,E,z){Xa(a,z.text,D,E+j/2,m,{strikethrough:z.hidden,textAlign:f.textAlign(z.textAlign)})},A=this.isHorizontal(),C=this._computeTitleHeight();A?v={x:tn(o,this.left+p,this.right-s[0]),y:this.top+p+C,line:0}:v={x:this.left+p,y:tn(o,this.top+C+p,this.bottom-n[0].height),line:0},FS(this.ctx,e.textDirection);const R=j+p;this.legendItems.forEach((D,E)=>{a.strokeStyle=D.fontColor,a.fillStyle=D.fontColor;const z=a.measureText(D.text).width,V=f.textAlign(D.textAlign||(D.textAlign=l.textAlign)),X=w+b+z;let G=v.x,ne=v.y;f.setWidth(this.width),A?E>0&&G+X+p>this.right&&(ne=v.y+=R,v.line++,G=v.x=tn(o,this.left+p,this.right-s[v.line])):E>0&&ne+R>this.bottom&&(G=v.x=G+n[v.line].width+p,v.line++,ne=v.y=tn(o,this.top+C+p,this.bottom-n[v.line].height));const pe=f.x(G);if(N(pe,ne,D),G=iA(V,G+w+b,A?G+X:this.right,e.rtl),T(f.x(G),ne,D),A)v.x+=X+p;else if(typeof D.text!="string"){const re=m.lineHeight;v.y+=xj(D,re)+p}else v.y+=R}),HS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Bt(n.font),a=ln(n.padding);if(!n.display)return;const o=io(e.rtl,this.left,this.width),l=this.ctx,u=n.position,f=s.size/2,m=a.top+f;let p,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+m,x=tn(e.align,x,this.right-b);else{const w=this.columnSizes.reduce((S,j)=>Math.max(S,j.height),0);p=m+tn(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const v=tn(u,x,x+b);l.textAlign=o.textAlign(nx(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,Xa(l,n.text,v,p,s)}_computeTitleHeight(){const e=this.options.title,n=Bt(e.font),s=ln(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,a,o;if(ai(e,this.left,this.right)&&ai(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],ai(e,a.left,a.left+a.width)&&ai(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!W4(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=F4(a,s);a&&!o&&at(n.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!o&&at(n.onHover,[e,s,this],this)}else s&&at(n.onClick,[e,s,this],this)}}function H4(t,e,n,s,a){const o=U4(s,t,e,n),l=Y4(a,s,e.lineHeight);return{itemWidth:o,itemHeight:l}}function U4(t,e,n,s){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),e+n.size/2+s.measureText(a).width}function Y4(t,e,n){let s=t;return typeof e.text!="string"&&(s=xj(e,n)),s}function xj(t,e){const n=t.text?t.text.length:0;return e*n}function W4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var vo={id:"legend",_element:Z_,start(t,e,n){const s=t.legend=new Z_({ctx:t.ctx,options:n,chart:t});an.configure(t,s,n),an.addBox(t,s)},stop(t){an.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;an.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(n?0:void 0),p=ln(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:s||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:l&&(u||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class fx extends gi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const a=pt(s.text)?s.text.length:1;this._padding=ln(s.padding);const o=a*Bt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:a,right:o,options:l}=this,u=l.align;let f=0,m,p,x;return this.isHorizontal()?(p=tn(u,s,o),x=n+e,m=o-s):(l.position==="left"?(p=s+e,x=tn(u,a,n),f=Ie*-.5):(p=o-e,x=tn(u,n,a),f=Ie*.5),m=a-n),{titleX:p,titleY:x,maxWidth:m,rotation:f}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Bt(n.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:m}=this._drawArgs(o);Xa(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:nx(n.align),textBaseline:"middle",translation:[l,u]})}}function I4(t,e){const n=new fx({ctx:t.ctx,options:e,chart:t});an.configure(t,n,e),an.addBox(t,n),t.titleBlock=n}var wh={id:"title",_element:fx,start(t,e,n){I4(t,n)},stop(t){const e=t.titleBlock;an.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;an.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ld=new WeakMap;var q4={id:"subtitle",start(t,e,n){const s=new fx({ctx:t.ctx,options:n,chart:t});an.configure(t,s,n),an.addBox(t,s),ld.set(t,s)},stop(t){an.removeBox(t,ld.get(t)),ld.delete(t)},beforeUpdate(t,e,n){const s=ld.get(t);an.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yl={average(t){if(!t.length)return!1;let e,n,s=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((u,f)=>u+f)/s.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,a=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=t.length;o<l;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),p=ag(e,m);p<a&&(a=p,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function Ss(t,e){return e&&(pt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ni(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function G4(t,e){const{element:n,datasetIndex:s,index:a}=e,o=t.getDatasetMeta(s).controller,{label:l,value:u}=o.getLabelAndValue(a);return{chart:t,label:l,parsed:o.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function Q_(t,e){const n=t.chart.ctx,{body:s,footer:a,title:o}=t,{boxWidth:l,boxHeight:u}=e,f=Bt(e.bodyFont),m=Bt(e.titleFont),p=Bt(e.footerFont),x=o.length,b=a.length,v=s.length,w=ln(e.padding);let S=w.height,j=0,N=s.reduce((C,R)=>C+R.before.length+R.lines.length+R.after.length,0);if(N+=t.beforeBody.length+t.afterBody.length,x&&(S+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),N){const C=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;S+=v*C+(N-v)*f.lineHeight+(N-1)*e.bodySpacing}b&&(S+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let T=0;const A=function(C){j=Math.max(j,n.measureText(C).width+T)};return n.save(),n.font=m.string,Je(t.title,A),n.font=f.string,Je(t.beforeBody.concat(t.afterBody),A),T=e.displayColors?l+2+e.boxPadding:0,Je(s,C=>{Je(C.before,A),Je(C.lines,A),Je(C.after,A)}),T=0,n.font=p.string,Je(t.footer,A),n.restore(),j+=w.width,{width:j,height:S}}function $4(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function X4(t,e,n,s){const{x:a,width:o}=s,l=n.caretSize+n.caretPadding;if(t==="left"&&a+o+l>e.width||t==="right"&&a-o-l<0)return!0}function K4(t,e,n,s){const{x:a,width:o}=n,{width:l,chartArea:{left:u,right:f}}=t;let m="center";return s==="center"?m=a<=(u+f)/2?"left":"right":a<=o/2?m="left":a>=l-o/2&&(m="right"),X4(m,t,e,n)&&(m="center"),m}function J_(t,e,n){const s=n.yAlign||e.yAlign||$4(t,n);return{xAlign:n.xAlign||e.xAlign||K4(t,e,n,s),yAlign:s}}function Z4(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function Q4(t,e,n){let{y:s,height:a}=t;return e==="top"?s+=n:e==="bottom"?s-=a+n:s-=a/2,s}function e2(t,e,n,s){const{caretSize:a,caretPadding:o,cornerRadius:l}=t,{xAlign:u,yAlign:f}=n,m=a+o,{topLeft:p,topRight:x,bottomLeft:b,bottomRight:v}=Wa(l);let w=Z4(e,u);const S=Q4(e,f,m);return f==="center"?u==="left"?w+=m:u==="right"&&(w-=m):u==="left"?w-=Math.max(p,b)+a:u==="right"&&(w+=Math.max(x,v)+a),{x:Ut(w,0,s.width-e.width),y:Ut(S,0,s.height-e.height)}}function cd(t,e,n){const s=ln(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function t2(t){return Ss([],ni(t))}function J4(t,e,n){return da(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function n2(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const yj={beforeTitle:Js,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Js,beforeBody:Js,beforeLabel:Js,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Le(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Js,afterBody:Js,beforeFooter:Js,footer:Js,afterFooter:Js};function bn(t,e,n,s){const a=t[e].call(n,s);return typeof a>"u"?yj[e].call(n,s):a}let s2=class extends gi{static positioners=Yl;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new qS(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=J4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,a=bn(s,"beforeTitle",this,e),o=bn(s,"title",this,e),l=bn(s,"afterTitle",this,e);let u=[];return u=Ss(u,ni(a)),u=Ss(u,ni(o)),u=Ss(u,ni(l)),u}getBeforeBody(e,n){return t2(bn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,a=[];return Je(e,o=>{const l={before:[],lines:[],after:[]},u=n2(s,o);Ss(l.before,ni(bn(u,"beforeLabel",this,o))),Ss(l.lines,bn(u,"label",this,o)),Ss(l.after,ni(bn(u,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(e,n){return t2(bn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,a=bn(s,"beforeFooter",this,e),o=bn(s,"footer",this,e),l=bn(s,"afterFooter",this,e);let u=[];return u=Ss(u,ni(a)),u=Ss(u,ni(o)),u=Ss(u,ni(l)),u}_createItems(e){const n=this._active,s=this.chart.data,a=[],o=[],l=[];let u=[],f,m;for(f=0,m=n.length;f<m;++f)u.push(G4(this.chart,n[f]));return e.filter&&(u=u.filter((p,x,b)=>e.filter(p,x,b,s))),e.itemSort&&(u=u.sort((p,x)=>e.itemSort(p,x,s))),Je(u,p=>{const x=n2(e.callbacks,p);a.push(bn(x,"labelColor",this,p)),o.push(bn(x,"labelPointStyle",this,p)),l.push(bn(x,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Yl[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const f=this._size=Q_(this,s),m=Object.assign({},u,f),p=J_(this.chart,s,m),x=e2(s,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:x.x,y:x.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,a){const o=this.getCaretPosition(e,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:u}=s,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:x}=Wa(u),{x:b,y:v}=e,{width:w,height:S}=n;let j,N,T,A,C,R;return o==="center"?(C=v+S/2,a==="left"?(j=b,N=j-l,A=C+l,R=C-l):(j=b+w,N=j+l,A=C-l,R=C+l),T=j):(a==="left"?N=b+Math.max(f,p)+l:a==="right"?N=b+w-Math.max(m,x)-l:N=this.caretX,o==="top"?(A=v,C=A-l,j=N-l,T=N+l):(A=v+S,C=A+l,j=N+l,T=N-l),R=A),{x1:j,x2:N,x3:T,y1:A,y2:C,y3:R}}drawTitle(e,n,s){const a=this.title,o=a.length;let l,u,f;if(o){const m=io(s.rtl,this.x,this.width);for(e.x=cd(this,s.titleAlign,s),n.textAlign=m.textAlign(s.titleAlign),n.textBaseline="middle",l=Bt(s.titleFont),u=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,f=0;f<o;++f)n.fillText(a[f],m.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,f+1===o&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,n,s,a,o){const l=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:f,boxWidth:m}=o,p=Bt(o.bodyFont),x=cd(this,"left",o),b=a.x(x),v=f<p.lineHeight?(p.lineHeight-f)/2:0,w=n.y+v;if(o.usePointStyle){const S={radius:Math.min(m,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},j=a.leftForLtr(b,m)+m/2,N=w+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,og(e,S,j,N),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,og(e,S,j,N)}else{e.lineWidth=Be(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=a.leftForLtr(b,m),j=a.leftForLtr(a.xPlus(b,1),m-2),N=Wa(l.borderRadius);Object.values(N).some(T=>T!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,dc(e,{x:S,y:w,w:m,h:f,radius:N}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),dc(e,{x:j,y:w+1,w:m-2,h:f-2,radius:N}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,w,m,f),e.strokeRect(S,w,m,f),e.fillStyle=l.backgroundColor,e.fillRect(j,w+1,m-2,f-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:m,boxPadding:p}=s,x=Bt(s.bodyFont);let b=x.lineHeight,v=0;const w=io(s.rtl,this.x,this.width),S=function(z){n.fillText(z,w.x(e.x+v),e.y+b/2),e.y+=b+o},j=w.textAlign(l);let N,T,A,C,R,D,E;for(n.textAlign=l,n.textBaseline="middle",n.font=x.string,e.x=cd(this,j,s),n.fillStyle=s.bodyColor,Je(this.beforeBody,S),v=u&&j!=="right"?l==="center"?m/2+p:m+2+p:0,C=0,D=a.length;C<D;++C){for(N=a[C],T=this.labelTextColors[C],n.fillStyle=T,Je(N.before,S),A=N.lines,u&&A.length&&(this._drawColorBox(n,e,C,w,s),b=Math.max(x.lineHeight,f)),R=0,E=A.length;R<E;++R)S(A[R]),b=x.lineHeight;Je(N.after,S)}v=0,b=x.lineHeight,Je(this.afterBody,S),e.y-=o}drawFooter(e,n,s){const a=this.footer,o=a.length;let l,u;if(o){const f=io(s.rtl,this.x,this.width);for(e.x=cd(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",l=Bt(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,u=0;u<o;++u)n.fillText(a[u],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,n,s,a){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=e,{width:m,height:p}=s,{topLeft:x,topRight:b,bottomLeft:v,bottomRight:w}=Wa(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+x,f),l==="top"&&this.drawCaret(e,n,s,a),n.lineTo(u+m-b,f),n.quadraticCurveTo(u+m,f,u+m,f+b),l==="center"&&o==="right"&&this.drawCaret(e,n,s,a),n.lineTo(u+m,f+p-w),n.quadraticCurveTo(u+m,f+p,u+m-w,f+p),l==="bottom"&&this.drawCaret(e,n,s,a),n.lineTo(u+v,f+p),n.quadraticCurveTo(u,f+p,u,f+p-v),l==="center"&&o==="left"&&this.drawCaret(e,n,s,a),n.lineTo(u,f+x),n.quadraticCurveTo(u,f,u+x,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const l=Yl[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Q_(this,e),f=Object.assign({},l,this._size),m=J_(n,e,f),p=e2(e,f,m,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=ln(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,a,n),FS(e,n.textDirection),o.y+=l.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),HS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,a=e.map(({datasetIndex:u,index:f})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[f],index:f}}),o=!Fd(s,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(e,o,n,s),u=this._positionChanged(l,e),f=n||!Fd(l,o)||u;return f&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,s,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:s,caretY:a,options:o}=this,l=Yl[o.position].call(this,e,n);return l!==!1&&(s!==l.x||a!==l.y)}};var _o={id:"tooltip",_element:s2,positioners:Yl,afterInit(t,e,n){n&&(t.tooltip=new s2({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},eO=Object.freeze({__proto__:null,Colors:g4,Decimation:v4,Filler:_h,Legend:vo,SubTitle:q4,Title:wh,Tooltip:_o});const tO=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function nO(t,e,n,s){const a=t.indexOf(e);if(a===-1)return tO(t,e,n,s);const o=t.lastIndexOf(e);return a!==o?n:a}const sO=(t,e)=>t===null?null:Ut(Math.round(t),0,e);function i2(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Mc extends Qa{static id="category";static defaults={ticks:{callback:i2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Le(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:nO(s,e,ke(n,e),this._addedLabels),sO(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=n;l++)a.push({value:l});return a}getLabelForValue(e){return i2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function iO(t,e){const n=[],{bounds:a,step:o,min:l,max:u,precision:f,count:m,maxTicks:p,maxDigits:x,includeBounds:b}=t,v=o||1,w=p-1,{min:S,max:j}=e,N=!Le(l),T=!Le(u),A=!Le(m),C=(j-S)/(x+1);let R=Q1((j-S)/w/v)*v,D,E,z,V;if(R<1e-14&&!N&&!T)return[{value:S},{value:j}];V=Math.ceil(j/R)-Math.floor(S/R),V>w&&(R=Q1(V*R/w/v)*v),Le(f)||(D=Math.pow(10,f),R=Math.ceil(R*D)/D),a==="ticks"?(E=Math.floor(S/R)*R,z=Math.ceil(j/R)*R):(E=S,z=j),N&&T&&o&&ZC((u-l)/o,R/1e3)?(V=Math.round(Math.min((u-l)/R,p)),R=(u-l)/V,E=l,z=u):A?(E=N?l:E,z=T?u:z,V=m-1,R=(z-E)/V):(V=(z-E)/R,Xl(V,Math.round(V),R/1e3)?V=Math.round(V):V=Math.ceil(V));const X=Math.max(J1(R),J1(E));D=Math.pow(10,Le(f)?X:f),E=Math.round(E*D)/D,z=Math.round(z*D)/D;let G=0;for(N&&(b&&E!==l?(n.push({value:l}),E<l&&G++,Xl(Math.round((E+G*R)*D)/D,l,a2(l,C,t))&&G++):E<l&&G++);G<V;++G){const ne=Math.round((E+G*R)*D)/D;if(T&&ne>u)break;n.push({value:ne})}return T&&b&&z!==u?n.length&&Xl(n[n.length-1].value,u,a2(u,C,t))?n[n.length-1].value=u:n.push({value:u}):(!T||z===u)&&n.push({value:z}),n}function a2(t,e,{horizontal:n,minRotation:s}){const a=cs(s),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*e*(""+t).length;return Math.min(e/o,l)}class Gd extends Qa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const l=f=>a=n?a:f,u=f=>o=s?o:f;if(e){const f=Ns(a),m=Ns(o);f<0&&m<0?u(0):f>0&&m>0&&l(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);u(o+f),e||l(a-f)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=iO(a,o);return e.bounds==="ticks"&&SS(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-n)/Math.max(e.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Nc(e,this.chart.options.locale,this.options.ticks.format)}}class Tc extends Gd{static id="linear";static defaults={ticks:{callback:ph.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=St(e)?e:0,this.max=St(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=cs(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const fc=t=>Math.floor(Zi(t)),Ra=(t,e)=>Math.pow(10,fc(t)+e);function r2(t){return t/Math.pow(10,fc(t))===1}function o2(t,e,n){const s=Math.pow(10,n),a=Math.floor(t/s);return Math.ceil(e/s)-a}function aO(t,e){const n=e-t;let s=fc(n);for(;o2(t,e,s)>10;)s++;for(;o2(t,e,s)<10;)s--;return Math.min(s,fc(t))}function rO(t,{min:e,max:n}){e=An(t.min,e);const s=[],a=fc(e);let o=aO(e,n),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),f=a>o?Math.pow(10,a):0,m=Math.round((e-f)*l)/l,p=Math.floor((e-f)/u/10)*u*10;let x=Math.floor((m-p)/Math.pow(10,o)),b=An(t.min,Math.round((f+p+x*Math.pow(10,o))*l)/l);for(;b<n;)s.push({value:b,major:r2(b),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(o++,x=2,l=o>=0?1:l),b=Math.round((f+p+x*Math.pow(10,o))*l)/l;const v=An(t.max,b);return s.push({value:v,major:r2(v),significand:x}),s}class oO extends Qa{static id="logarithmic";static defaults={ticks:{callback:ph.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Gd.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return St(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=St(e)?Math.max(0,e):null,this.max=St(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!St(this._userMin)&&(this.min=e===Ra(this.min,0)?Ra(this.min,-1):Ra(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,a=this.max;const o=u=>s=e?s:u,l=u=>a=n?a:u;s===a&&(s<=0?(o(1),l(10)):(o(Ra(s,-1)),l(Ra(a,1)))),s<=0&&o(Ra(a,-1)),a<=0&&l(Ra(s,1)),this.min=s,this.max=a}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=rO(n,this);return e.bounds==="ticks"&&SS(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Nc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Zi(e),this._valueRange=Zi(this.max)-Zi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Zi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function fg(t){const e=t.ticks;if(e.display&&t.display){const n=ln(e.backdropPadding);return ke(e.font&&e.font.size,gt.font.size)+n.height}return 0}function lO(t,e,n){return n=pt(n)?n:[n],{w:mA(t,e.string,n),h:n.length*e.lineHeight}}function l2(t,e,n,s,a){return t===s||t===a?{start:e-n/2,end:e+n/2}:t<s||t>a?{start:e-n,end:e}:{start:e,end:e+n}}function cO(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],a=[],o=t._pointLabels.length,l=t.options.pointLabels,u=l.centerPointLabels?Ie/o:0;for(let f=0;f<o;f++){const m=l.setContext(t.getPointLabelContext(f));a[f]=m.padding;const p=t.getPointPosition(f,t.drawingArea+a[f],u),x=Bt(m.font),b=lO(t.ctx,x,t._pointLabels[f]);s[f]=b;const v=sn(t.getIndexAngle(f)+u),w=Math.round(ex(v)),S=l2(w,p.x,b.w,0,180),j=l2(w,p.y,b.h,90,270);uO(n,e,v,S,j)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=fO(t,s,a)}function uO(t,e,n,s,a){const o=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let u=0,f=0;s.start<e.l?(u=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-u)):s.end>e.r&&(u=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+u)),a.start<e.t?(f=(e.t-a.start)/l,t.t=Math.min(t.t,e.t-f)):a.end>e.b&&(f=(a.end-e.b)/l,t.b=Math.max(t.b,e.b+f))}function dO(t,e,n){const s=t.drawingArea,{extra:a,additionalAngle:o,padding:l,size:u}=n,f=t.getPointPosition(e,s+a+l,o),m=Math.round(ex(sn(f.angle+Ct))),p=gO(f.y,u.h,m),x=mO(m),b=pO(f.x,u.w,x);return{visible:!0,x:f.x,y:p,textAlign:x,left:b,top:p,right:b+u.w,bottom:p+u.h}}function hO(t,e){if(!e)return!0;const{left:n,top:s,right:a,bottom:o}=t;return!(oi({x:n,y:s},e)||oi({x:n,y:o},e)||oi({x:a,y:s},e)||oi({x:a,y:o},e))}function fO(t,e,n){const s=[],a=t._pointLabels.length,o=t.options,{centerPointLabels:l,display:u}=o.pointLabels,f={extra:fg(o)/2,additionalAngle:l?Ie/a:0};let m;for(let p=0;p<a;p++){f.padding=n[p],f.size=e[p];const x=dO(t,p,f);s.push(x),u==="auto"&&(x.visible=hO(x,m),x.visible&&(m=x))}return s}function mO(t){return t===0||t===180?"center":t<180?"left":"right"}function pO(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function gO(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function xO(t,e,n){const{left:s,top:a,right:o,bottom:l}=n,{backdropColor:u}=e;if(!Le(u)){const f=Wa(e.borderRadius),m=ln(e.backdropPadding);t.fillStyle=u;const p=s-m.left,x=a-m.top,b=o-s+m.width,v=l-a+m.height;Object.values(f).some(w=>w!==0)?(t.beginPath(),dc(t,{x:p,y:x,w:b,h:v,radius:f}),t.fill()):t.fillRect(p,x,b,v)}}function yO(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let a=e-1;a>=0;a--){const o=t._pointLabelItems[a];if(!o.visible)continue;const l=s.setContext(t.getPointLabelContext(a));xO(n,l,o);const u=Bt(l.font),{x:f,y:m,textAlign:p}=o;Xa(n,t._pointLabels[a],f,m+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function bj(t,e,n,s){const{ctx:a}=t;if(n)a.arc(t.xCenter,t.yCenter,e,0,ct);else{let o=t.getPointPosition(0,e);a.moveTo(o.x,o.y);for(let l=1;l<s;l++)o=t.getPointPosition(l,e),a.lineTo(o.x,o.y)}}function bO(t,e,n,s,a){const o=t.ctx,l=e.circular,{color:u,lineWidth:f}=e;!l&&!s||!u||!f||n<0||(o.save(),o.strokeStyle=u,o.lineWidth=f,o.setLineDash(a.dash||[]),o.lineDashOffset=a.dashOffset,o.beginPath(),bj(t,n,l,s),o.closePath(),o.stroke(),o.restore())}function vO(t,e,n){return da(t,{label:n,index:e,type:"pointLabel"})}class vj extends Gd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ph.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ln(fg(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=St(e)&&!isNaN(e)?e:0,this.max=St(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fg(this.options))}generateTickLabels(e){Gd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const a=at(this.options.pointLabels.callback,[n,s],this);return a||a===0?a:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?cO(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,a){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,a))}getIndexAngle(e){const n=ct/(this._pointLabels.length||1),s=this.options.startAngle||0;return sn(e*n+cs(s))}getDistanceFromCenterForValue(e){if(Le(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Le(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return vO(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const a=this.getIndexAngle(e)-Ct+s;return{x:Math.cos(a)*n+this.xCenter,y:Math.sin(a)*n+this.yCenter,angle:a}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:a,bottom:o}=this._pointLabelItems[e];return{left:n,top:s,right:a,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),bj(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:a,border:o}=n,l=this._pointLabels.length;let u,f,m;if(n.pointLabels.display&&yO(this,l),a.display&&this.ticks.forEach((p,x)=>{if(x!==0||x===0&&this.min<0){f=this.getDistanceFromCenterForValue(p.value);const b=this.getContext(x),v=a.setContext(b),w=o.setContext(b);bO(this,v,f,l,w)}}),s.display){for(e.save(),u=l-1;u>=0;u--){const p=s.setContext(this.getPointLabelContext(u)),{color:x,lineWidth:b}=p;!b||!x||(e.lineWidth=b,e.strokeStyle=x,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,f=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),m=this.getPointPosition(u,f),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(m.x,m.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const a=this.getIndexAngle(0);let o,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,f)=>{if(f===0&&this.min>=0&&!n.reverse)return;const m=s.setContext(this.getContext(f)),p=Bt(m.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),m.showLabelBackdrop){e.font=p.string,l=e.measureText(u.label).width,e.fillStyle=m.backdropColor;const x=ln(m.backdropPadding);e.fillRect(-l/2-x.left,-o-p.size/2-x.top,l+x.width,p.size+x.height)}Xa(e,u.label,0,-o,p,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),e.restore()}drawTitle(){}}const Sh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_n=Object.keys(Sh);function c2(t,e){return t-e}function u2(t,e){if(Le(e))return null;const n=t._adapter,{parser:s,round:a,isoWeekday:o}=t._parseOpts;let l=e;return typeof s=="function"&&(l=s(l)),St(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(uo(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function d2(t,e,n,s){const a=_n.length;for(let o=_n.indexOf(t);o<a-1;++o){const l=Sh[_n[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=s)return _n[o]}return _n[a-1]}function _O(t,e,n,s,a){for(let o=_n.length-1;o>=_n.indexOf(n);o--){const l=_n[o];if(Sh[l].common&&t._adapter.diff(a,s,l)>=e-1)return l}return _n[n?_n.indexOf(n):0]}function wO(t){for(let e=_n.indexOf(t)+1,n=_n.length;e<n;++e)if(Sh[_n[e]].common)return _n[e]}function h2(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:a}=tx(n,e),o=n[s]>=e?n[s]:n[a];t[o]=!0}}function SO(t,e,n,s){const a=t._adapter,o=+a.startOf(e[0].value,s),l=e[e.length-1].value;let u,f;for(u=o;u<=l;u=+a.add(u,1,s))f=n[u],f>=0&&(e[f].major=!0);return e}function f2(t,e,n){const s=[],a={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],a[u]=l,s.push({value:u,major:!1});return o===0||!n?s:SO(t,s,a,n)}class $d extends Qa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),a=this._adapter=new JS._date(e.adapters.date);a.init(n),$l(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:u2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(m){!l&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!l||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=St(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=St(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,u=tA(a,o,l);return this._unit=n.unit||(s.autoSkip?d2(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):_O(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:wO(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),f2(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Ut(n,0,l),s=Ut(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,l=o.unit||d2(o.minUnit,n,s,this._getLabelCapacity(n)),u=ke(a.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,m=uo(f)||f===!0,p={};let x=n,b,v;if(m&&(x=+e.startOf(x,"isoWeek",f)),x=+e.startOf(x,m?"day":l),e.diff(s,n,l)>1e5*u)throw new Error(n+" and "+s+" are too far apart with stepSize of "+u+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=x,v=0;b<s;b=+e.add(b,u,l),v++)h2(p,b,w);return(b===s||a.bounds==="ticks"||v===1)&&h2(p,b,w),Object.keys(p).sort(c2).map(S=>+S)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(e,l)}_tickFormatFunction(e,n,s,a){const o=this.options,l=o.ticks.callback;if(l)return at(l,[e,n,s],this);const u=o.time.displayFormats,f=this._unit,m=this._majorUnit,p=f&&u[f],x=m&&u[m],b=s[n],v=m&&x&&b&&b.major;return this._adapter.format(e,a||(v?x:p))}generateTickLabels(e){let n,s,a;for(n=0,s=e.length;n<s;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,a=cs(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:s*o+u*l,h:s*l+u*o}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,f2(this,[e],this._majorUnit),a),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)e.push(u2(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return NS(e.sort(c2))}}function ud(t,e,n){let s=0,a=t.length-1,o,l,u,f;n?(e>=t[s].pos&&e<=t[a].pos&&({lo:s,hi:a}=ri(t,"pos",e)),{pos:o,time:u}=t[s],{pos:l,time:f}=t[a]):(e>=t[s].time&&e<=t[a].time&&({lo:s,hi:a}=ri(t,"time",e)),{time:o,pos:u}=t[s],{time:l,pos:f}=t[a]);const m=l-o;return m?u+(f-u)*(e-o)/m:u}class jO extends $d{static id="timeseries";static defaults=$d.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ud(n,this.min),this._tableRange=ud(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,a=[],o=[];let l,u,f,m,p;for(l=0,u=e.length;l<u;++l)m=e[l],m>=n&&m<=s&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,u=a.length;l<u;++l)p=a[l+1],f=a[l-1],m=a[l],Math.round((p+f)/2)!==m&&o.push({time:m,pos:l/(u-1)});return o}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(ud(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return ud(this._table,s*this._tableRange+this._minPos,!0)}}var kO=Object.freeze({__proto__:null,CategoryScale:Mc,LinearScale:Tc,LogarithmicScale:oO,RadialLinearScale:vj,TimeScale:$d,TimeSeriesScale:jO});const NO=[O3,c4,eO,kO];fs.register(...NO);const dd={labels:Array.from({length:24},(t,e)=>`${String(e).padStart(2,"0")}:00`),load:Array.from({length:24},()=>+(Math.random()*2.2+.6).toFixed(2)),pv:Array.from({length:24},(t,e)=>+(Math.max(0,Math.sin((e-6)/4))*2.4).toFixed(2)),price:Array.from({length:24},()=>+(Math.random()*3.2+.8).toFixed(2))},_j="Europe/Stockholm";function mx(t){return new Date(t)}function Xd(t,e=_j){return new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:e}).format(t)}function px(t,e=new Date){return Xd(mx(t))===Xd(e)}function Kd(t,e=new Date){const n=new Date(e);return n.setDate(n.getDate()+1),Xd(mx(t))===Xd(n)}function Np(t){const e=mx(t);return new Intl.DateTimeFormat("sv-SE",{hour:"2-digit",minute:"2-digit",timeZone:_j}).format(e)}function MO(t,e,n=new Date){return t.filter(a=>e==="today"?px(a.start_time,n):Kd(a.start_time,n))}const TO={maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!1,labels:{color:"#e6e9ef",boxWidth:10,font:{size:12},filter:()=>!1}},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(30, 30, 46, 0.95)",titleColor:"#e6e9ef",bodyColor:"#a6b0bf",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:12,displayColors:!0,caretPadding:8,yAlign:"bottom",callbacks:{title:function(t){return t[0].label},label:function(t){const e=t.dataset.label||"",n=t.parsed.y;if(n==null)return"";let s=n.toFixed(2),a="";return e.includes("SEK/kWh")?(s=n.toFixed(2),a=" SEK/kWh"):e.includes("kW")?(s=n.toFixed(1),a=" kW"):e.includes("kWh")?(s=n.toFixed(2),a=" kWh"):e.includes("%")&&(s=n.toFixed(1),a="%"),`${e}: ${s}${a}`}}}},scales:{x:{grid:{color:"rgba(255,255,255,0.06)"},ticks:{color:"#a6b0bf",maxRotation:0,autoSkip:!1,callback:function(t,e,n){const s=this.getLabelForValue(t);if(typeof s!="string")return"";const a=s.split(":");if(a.length<2)return"";const[o,l]=a;return l==="00"?o:""}}},y:{position:"right",min:0,max:8,title:{display:!1,text:"SEK/kWh",color:"#a6b0bf"},grid:{color:"rgba(255,255,255,0.06)"},ticks:{color:"#a6b0bf",display:!1}},y1:{position:"left",min:0,max:9,title:{display:!1,text:"kW",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1}},y2:{position:"left",min:0,max:9,title:{display:!1,text:"kWh",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1},display:!1},y3:{position:"right",min:0,max:100,title:{display:!0,text:"%",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf"},display:!1},y4:{position:"left",min:0,max:1.5,title:{display:!1,text:"kW (PV)",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1}}}},Xr=(t,e={})=>{const n=(a,o)=>{const l=`palette = ${a}`;return e[l]||o},s={labels:t.labels,datasets:[{type:"line",label:"Import Price (SEK/kWh)",data:t.price,borderColor:n(4,"#2196F3"),backgroundColor:e["palette = 4"]?`${n(4,"#2196F3")}20`:"rgba(33,150,243,0.1)",yAxisID:"y",tension:0,stepped:"after",pointRadius:0},{type:"line",label:"PV Forecast (kW)",data:t.pv,borderColor:n(2,"#4CAF50"),backgroundColor:e["palette = 2"]?`${n(2,"#4CAF50")}30`:"rgba(76,175,80,0.15)",fill:!0,yAxisID:"y4",tension:.35,pointRadius:0},{type:"bar",label:"Load (kW)",data:t.load,backgroundColor:`${n(3,"#FF9800")}80`,borderRadius:0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Charge (kW)",data:t.charge??t.labels.map(()=>null),backgroundColor:`${n(4,"#2196F3")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Discharge (kW)",data:t.discharge??t.labels.map(()=>null),backgroundColor:`${n(1,"#F44336")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Export (kWh)",data:t.export??t.labels.map(()=>null),backgroundColor:`${n(2,"#4CAF50")}80`,hidden:!0,yAxisID:"y2",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Water Heating (kW)",data:t.water??t.labels.map(()=>null),backgroundColor:`${n(5,"#FF5722")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"line",label:"SoC Target (%)",data:t.socTarget??t.labels.map(()=>null),borderColor:n(13,"#9C27B0"),yAxisID:"y3",pointRadius:0,tension:0,stepped:"after",hidden:!0},{type:"line",label:"SoC Projected (%)",data:t.socProjected??t.labels.map(()=>null),borderColor:n(14,"#FFEB3B"),yAxisID:"y3",pointRadius:0,hidden:!0},{type:"line",label:"SoC Actual (%)",data:t.socActual??t.labels.map(()=>null),borderColor:n(15,"#80CBC4"),yAxisID:"y3",pointRadius:0,hidden:!0}]};return t.hasNoData&&(s.plugins={tooltip:{enabled:!0,external:!0,callbacks:{title:()=>t.day==="tomorrow"?"No Price Data":"No Data",label:()=>t.day==="tomorrow"?"Schedule data not available yet. Check back later for prices.":"No schedule data available."}}}),{...s,nowIndex:t.nowIndex??null,hasNoData:!!t.hasNoData}};function wj({day:t="today",range:e="48h",refreshToken:n=0,slotsOverride:s,useHistoryForToday:a=!1,showDayToggle:o=!1}){const[l,u]=k.useState(!1),f=t||"today",[m,p]=k.useState(e),x=k.useRef(null),b=k.useRef(null),[v,w]=k.useState({}),[S,j]=k.useState({price:!0,pv:!0,load:!0,charge:!1,discharge:!1,export:!1,water:!1,socTarget:!1,socProjected:!1,socActual:!0}),[N,T]=k.useState(!1);k.useEffect(()=>{me.config().then(D=>{const E=D?.dashboard?.overlay_defaults;if(E&&typeof E=="string"){const z=E.split(",").map(G=>G.trim().toLowerCase()),V=z.includes("socactual")||z.includes("soc_actual"),X={price:!z.includes("price_off"),pv:!z.includes("pv_off"),load:!z.includes("load_off"),charge:z.includes("charge"),discharge:z.includes("discharge"),export:z.includes("export"),water:z.includes("water"),socTarget:z.includes("soctarget")||z.includes("soc_target"),socProjected:z.includes("socprojected")||z.includes("soc_projected"),socActual:V?!0:S.socActual};j(X)}}).catch(D=>console.error("Failed to load overlay defaults:",D))},[S.socActual]);const[A,C]=k.useState(null);k.useEffect(()=>{me.theme().then(D=>{const E=D.themes.find(z=>z.name===D.current);if(E){const z={};E.palette.forEach((V,X)=>{z[`palette = ${X}`]=V}),z.background=E.background,z.foreground=E.foreground,w(z)}}).catch(D=>console.error("Failed to load theme colors:",D))},[]),k.useEffect(()=>{if(!x.current||Object.keys(v).length===0)return;const D={type:"bar",data:Xr({labels:dd.labels,price:dd.price,pv:dd.pv,load:dd.load},v),options:TO};return b.current=new fs(x.current,D),()=>{b.current&&(b.current.destroy(),b.current=null)}},[v]);const R=D=>{if(!D)return!1;const E=D;return!(E._destroyed||E._plugins===void 0&&E.$plugins===void 0)};return k.useEffect(()=>{p(e)},[e]),k.useEffect(()=>{const D=b.current;if(!R(D)||Object.keys(v).length===0)return;const E=V=>{if(!R(b.current))return;const X=DO(V,f,m,v);if(!X)return;u(!!X.hasNoData);const G=X.datasets;if(G[0]&&(G[0].hidden=!S.price),G[1]&&(G[1].hidden=!S.pv),G[2]&&(G[2].hidden=!S.load),G[3]&&(G[3].hidden=!S.charge),G[4]&&(G[4].hidden=!S.discharge),G[5]&&(G[5].hidden=!S.export),G[6]&&(G[6].hidden=!S.water),G[7]&&(G[7].hidden=!S.socTarget),G[8]&&(G[8].hidden=!S.socProjected),G[9]&&(G[9].hidden=!S.socActual),f==="today"&&typeof X.nowIndex=="number"&&X.nowIndex>=0&&X.labels&&X.labels.length>1){const ne=X.labels.length-1;C(X.nowIndex/ne)}else C(null);try{if(!R(b.current))return;b.current&&(b.current.data=X,b.current.update())}catch(ne){console.error("Chart update error:",ne)}};if(s&&s.length){E(s);return}(a&&m==="day"&&f==="today"?me.scheduleTodayWithHistory().then(V=>({schedule:V.slots})):me.schedule()).then(V=>{E(V.schedule??[])}).catch(V=>{console.error("Failed to load schedule:",V),u(!0),C(null)})},[f,S,v,m,n,s,a]),d.jsxs(Ne,{className:"p-4 md:p-6 h-[380px]",children:[d.jsxs("div",{className:"flex items-baseline justify-between pb-2",children:[d.jsx("div",{className:"text-sm text-muted",children:"Schedule Overview"}),o&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${m==="day"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>p("day"),children:"24h"}),d.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${m==="48h"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>p("48h"),children:"48h"})]}),d.jsx("button",{className:"rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide border border-line/60 text-muted hover:border-accent hover:text-accent transition",onClick:()=>T(D=>!D),children:"Overlays"})]})]}),N&&d.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-[11px]",children:[["Price","price"],["PV","pv"],["Load","load"],["Charge","charge"],["Discharge","discharge"],["Export","export"],["Water","water"],["SoC Target","socTarget"],["SoC Projected","socProjected"],["SoC Actual","socActual"]].map(([D,E])=>d.jsx("button",{onClick:z=>{z.preventDefault(),j(V=>({...V,[E]:!V[E]}))},className:`rounded-pill px-3 py-1 border ${S[E]?"bg-accent text-canvas border-accent":"border-line/60 text-muted hover:border-accent"}`,children:D},E))}),d.jsxs("div",{className:"h-[310px] relative mt-1",children:[l&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-surface/90 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-accent mb-2",children:"No Price Data"}),d.jsx("div",{className:"text-sm text-muted",children:"Schedule data not available yet. Check back later for prices."})]})}),!l&&f==="today"&&A!==null&&d.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:d.jsx("div",{className:"absolute top-2 bottom-6 border-l-2 border-accent/80",style:{left:`${A*100}%`}})}),d.jsx("canvas",{ref:x,style:{display:l?"none":"block"}})]})]})}function DO(t,e,n,s={}){const a=n==="day"?MO(t,e):t.filter(T=>px(T.start_time)||Kd(T.start_time));if(n==="day"){if(!a.length){const L=Array.from({length:24},(J,O)=>`${String(O).padStart(2,"0")}:00`),U=Array(24).fill(null);return Xr({labels:L,price:U.slice(),pv:U.slice(),load:U.slice(),charge:U.slice(),discharge:U.slice(),export:U.slice(),water:U.slice(),socTarget:U.slice(),socProjected:U.slice(),socActual:U.slice(),hasNoData:!0,day:e},s)}const T=[...a].sort((L,U)=>{const J=new Date(L.start_time).getTime(),O=new Date(U.start_time).getTime();return J-O});let A=15;if(T.length>=2){const L=new Date(T[0].start_time).getTime(),U=new Date(T[1].start_time).getTime(),J=Math.max(1,Math.round((U-L)/6e4));(J===15||J===30||J===60)&&(A=J)}const C=new Date;e==="today"||C.setDate(C.getDate()+1),C.setHours(0,0,0,0);const R=A*60*1e3,D=Math.round(1440/A),E=new Map;for(const L of T){const U=new Date(L.start_time).getTime();E.set(U,L)}const z=[],V=[],X=[],G=[],ne=[],pe=[],re=[],ue=[],H=[],$=[],ie=[];let te=null;const le=new Date;for(let L=0;L<D;L++){const U=new Date(C.getTime()+L*R),J=new Date(U.getTime()+R),O=E.get(U.getTime());if(z.push(Np(U.toISOString())),O){const ee=O.is_executed===!0;V.push(O.import_price_sek_kwh??null),X.push(ee&&O.actual_pv_kwh!=null?O.actual_pv_kwh:O.pv_forecast_kwh??null),G.push(ee&&O.actual_load_kwh!=null?O.actual_load_kwh:O.load_forecast_kwh??null),ne.push(ee&&O.actual_charge_kw!=null?O.actual_charge_kw:O.battery_charge_kw??O.charge_kw??null),pe.push(O.battery_discharge_kw??O.discharge_kw??null),re.push(ee&&O.actual_export_kw!=null?O.actual_export_kw:O.export_kwh??null),ue.push(O.water_heating_kw??null),H.push(O.soc_target_percent??null),$.push(O.projected_soc_percent??null),ie.push(O.soc_actual_percent!=null?O.soc_actual_percent:null)}else V.push(null),X.push(null),G.push(null),ne.push(null),pe.push(null),re.push(null),ue.push(null),H.push(null),$.push(null),ie.push(null);e==="today"&&le>=U&&le<J&&(te=L)}return Xr({labels:z,price:V,pv:X,load:G,charge:ne,discharge:pe,export:re,water:ue,socTarget:H,socProjected:$,socActual:ie,nowIndex:te},s)}if(n==="48h"){if(!a.length){console.log("[buildLiveData] No slots found for 48h range, creating fallback");const L=Array.from({length:48},(U,J)=>{const O=J%24;return`${String(O).padStart(2,"0")}:00`});return Xr({labels:L,price:Array(L.length).fill(null),pv:Array(L.length).fill(null),load:Array(L.length).fill(null),charge:Array(L.length).fill(null),discharge:Array(L.length).fill(null),export:Array(L.length).fill(null),water:Array(L.length).fill(null),socTarget:Array(L.length).fill(null),socProjected:Array(L.length).fill(null),hasNoData:!0,day:e},s)}const T=[...a].sort((L,U)=>{const J=new Date(L.start_time).getTime(),O=new Date(U.start_time).getTime();return J-O});let A=15;if(T.length>=2){const L=new Date(T[0].start_time).getTime(),U=new Date(T[1].start_time).getTime(),J=Math.max(1,Math.round((U-L)/6e4));(J===15||J===30||J===60)&&(A=J)}const C=new Date;C.setHours(0,0,0,0);const R=A*60*1e3,D=Math.round(2880/A),E=new Map;for(const L of T){const U=new Date(L.start_time).getTime();E.set(U,L)}const z=[],V=[],X=[],G=[],ne=[],pe=[],re=[],ue=[],H=[],$=[],ie=[];let te=null;const le=new Date;for(let L=0;L<D;L++){const U=new Date(C.getTime()+L*R),J=new Date(U.getTime()+R),O=E.get(U.getTime());if(z.push(Np(U.toISOString())),O){const ee=O.is_executed===!0;V.push(O.import_price_sek_kwh??null),X.push(ee&&O.actual_pv_kwh!=null?O.actual_pv_kwh:O.pv_forecast_kwh??null),G.push(ee&&O.actual_load_kwh!=null?O.actual_load_kwh:O.load_forecast_kwh??null),ne.push(ee&&O.actual_charge_kw!=null?O.actual_charge_kw:O.battery_charge_kw??O.charge_kw??null),pe.push(O.battery_discharge_kw??O.discharge_kw??null),re.push(ee&&O.actual_export_kw!=null?O.actual_export_kw:O.export_kwh??null),ue.push(O.water_heating_kw??null),H.push(O.soc_target_percent??null),$.push(O.projected_soc_percent??null),ie.push(O.soc_actual_percent!=null?O.soc_actual_percent:null)}else V.push(null),X.push(null),G.push(null),ne.push(null),pe.push(null),re.push(null),ue.push(null),H.push(null),$.push(null),ie.push(null);le>=U&&le<J&&(te=L)}return Xr({labels:z,price:V,pv:X,load:G,charge:ne,discharge:pe,export:re,water:ue,socTarget:H,socProjected:$,socActual:ie,nowIndex:te},s)}const o=[...a].sort((T,A)=>{const C=new Date(T.start_time).getTime(),R=new Date(A.start_time).getTime();return C-R}),l=o.map(T=>T.import_price_sek_kwh??null),u=o.map(T=>T.pv_forecast_kwh??null),f=o.map(T=>T.load_forecast_kwh??null),m=o.map(T=>T.battery_charge_kw??T.charge_kw??null),p=o.map(T=>T.battery_discharge_kw??T.discharge_kw??null),x=o.map(T=>T.export_kwh??null),b=o.map(T=>T.water_heating_kw??null),v=o.map(T=>T.soc_target_percent??null),w=o.map(T=>T.projected_soc_percent??null),S=o.map(T=>T.soc_actual_percent??null),j=o.map(T=>Np(T.start_time));let N=null;if(e==="today"){const T=new Date;for(let A=0;A<o.length;A++){const C=new Date(o[A].start_time||""),R=new Date(C.getTime()+1800*1e3);if(T>=C&&T<R){N=A;break}}}return Xr({labels:j,price:l,pv:u,load:f,charge:m,discharge:p,export:x,water:b,socTarget:v,socProjected:w,socActual:S,nowIndex:N},s)}const hd=[3,7,14,21,28],Cl=[30,60,120];function CO({onDataRefresh:t,onPlanSourceChange:e,onVacationModeChange:n}){const[s,a]=k.useState("idle"),[o,l]=k.useState(!1),[u,f]=k.useState(null),[m,p]=k.useState(1),[x,b]=k.useState(!1),[v,w]=k.useState(null),[S,j]=k.useState(1),[N,T]=k.useState(!1),[A,C]=k.useState(null),[R,D]=k.useState(0),[E,z]=k.useState(null),[V,X]=k.useState(null),G=k.useRef(null),ne=k.useCallback(async()=>{try{const[te,le,L]=await Promise.all([me.executor.status(),me.waterBoost.status(),me.config()]);if(te.paused?(l(!0),f(te.paused.paused_minutes||null)):(l(!1),f(null)),le.water_boost){const J=new Date(le.water_boost.expires_at);T(!0),C(J);const O=new Date,ee=Math.max(0,Math.floor((J.getTime()-O.getTime())/1e3));D(ee)}else T(!1),C(null),D(0);const U=L.water_heating?.vacation_mode;U?.enabled?(b(!0),w(U.end_date||null)):(b(!1),w(null))}catch(te){console.error("Failed to fetch quick action status:",te)}},[]);k.useEffect(()=>{ne();const te=setInterval(ne,6e4);return()=>clearInterval(te)},[ne]),k.useEffect(()=>{if(G.current&&(clearInterval(G.current),G.current=null),!(!N||!A))return G.current=setInterval(()=>{const te=new Date,le=Math.floor((A.getTime()-te.getTime())/1e3);le<=0?(T(!1),C(null),D(0),G.current&&(clearInterval(G.current),G.current=null)):D(le)},1e3),()=>{G.current&&(clearInterval(G.current),G.current=null)}},[N,A]);const pe=async()=>{a("planning"),z(null);try{await me.runPlanner(),a("executing"),await me.executor.run(),a("done"),e&&e("local"),t&&setTimeout(t,500),setTimeout(()=>a("idle"),2e3)}catch(te){z({type:"error",message:te instanceof Error?te.message:"Failed"}),a("idle")}},re=async()=>{z(null),X("pause");try{o?(await me.executor.resume(),l(!1),f(null),z({type:"success",message:"Executor resumed"})):(await me.executor.pause(),l(!0),z({type:"success",message:"Executor paused - idle mode"})),setTimeout(()=>z(null),3e3)}catch(te){z({type:"error",message:te instanceof Error?te.message:"Failed"})}finally{X(null)}},ue=async()=>{z(null),X("vacation");try{if(x)await me.configSave({water_heating:{vacation_mode:{enabled:!1,end_date:null}}}),b(!1),w(null),z({type:"success",message:"Vacation mode disabled"});else{const te=hd[m],le=new Date;le.setDate(le.getDate()+te);const L=le.toISOString().split("T")[0];await me.configSave({water_heating:{vacation_mode:{enabled:!0,end_date:L}}}),b(!0),w(L),z({type:"success",message:`Vacation mode active until ${L}`})}window.dispatchEvent(new Event("config-updated")),n?.(!x),setTimeout(()=>z(null),3e3)}catch(te){z({type:"error",message:te instanceof Error?te.message:"Failed"})}finally{X(null)}},H=async()=>{z(null),X("boost");try{if(N)(await me.waterBoost.cancel()).success&&(T(!1),C(null),D(0),z({type:"success",message:"Water boost cancelled"}));else{const te=Cl[S],le=await me.waterBoost.start(te);if(le.success&&le.expires_at){const L=new Date(le.expires_at);T(!0),C(L),D(te*60),z({type:"success",message:`Water boost started (${te}min)`})}}setTimeout(()=>z(null),3e3)}catch(te){z({type:"error",message:te instanceof Error?te.message:"Failed"})}finally{X(null)}},$=()=>{switch(s){case"planning":return"Planning...";case"executing":return"Executing...";case"done":return"Done ";default:return"Run Planner"}},ie=te=>{const le=Math.floor(te/60),L=te%60;return`${le}:${L.toString().padStart(2,"0")}`};return d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{className:`relative overflow-hidden flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary
                        ${s!=="idle"?"bg-surface border border-accent/50 text-accent cursor-wait":"bg-accent hover:bg-accent2 text-[#100f0e]"}`,onClick:pe,disabled:s!=="idle",title:"Run planner and execute",children:[d.jsx("div",{className:`absolute left-0 top-0 bottom-0 transition-all duration-[2000ms] ease-out pointer-events-none ${s==="idle"?"bg-transparent":"bg-accent/50"}`,style:{width:s==="idle"?"0%":s==="done"?"100%":"90%"}}),d.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[s==="planning"||s==="executing"?d.jsx(iC,{className:"h-4 w-4 animate-spin"}):d.jsx(dC,{className:"h-4 w-4"}),d.jsx("span",{children:$()})]})]}),d.jsx("button",{className:`flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition
                        ${o?"bg-bad/80 text-white ring-2 ring-bad shadow-[0_0_20px_rgba(241,81,50,0.5)] animate-pulse":"bg-good hover:bg-good/80 text-white btn-glow-green"} ${V==="pause"?"opacity-60 cursor-wait":""}`,onClick:re,disabled:V==="pause",title:o?"Resume executor":"Pause executor (idle mode)",children:o?d.jsxs(d.Fragment,{children:[d.jsx(mS,{className:"h-4 w-4"}),d.jsx("span",{children:"RESUME"}),u!==null&&d.jsxs("span",{className:"text-[9px] opacity-80",children:["(",Math.round(u),"m)"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(lC,{className:"h-4 w-4"}),d.jsx("span",{children:"Pause"})]})}),d.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${x?"bg-amber-500/30 border border-amber-500/50 ring-2 ring-amber-400/50 shadow-[0_0_15px_rgba(245,158,11,0.4)]":"bg-surface2 border border-line/50"} ${V==="vacation"?"opacity-60":""}`,children:[!x&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>p(te=>Math.max(0,te-1)),className:"px-0.5 hover:text-accent",disabled:m===0||V==="vacation",children:d.jsx(B1,{className:"h-3 w-3"})}),d.jsxs("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:[hd[m],"d"]}),d.jsx("button",{onClick:()=>p(te=>Math.min(hd.length-1,te+1)),className:"px-0.5 hover:text-accent",disabled:m===hd.length-1||V==="vacation",children:d.jsx(V1,{className:"h-3 w-3"})})]}),d.jsxs("button",{onClick:ue,disabled:V==="vacation",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${x?"bg-amber-500/50 text-amber-100":"bg-amber-500/20 hover:bg-amber-500/30 text-amber-300/80 hover:text-amber-300"}`,children:[d.jsx(mC,{className:"h-3.5 w-3.5"}),x?d.jsx("span",{className:"truncate",children:v?` ${v.slice(5)}`:"ON"}):d.jsx("span",{children:"Vacation"})]})]}),d.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${N?"bg-red-500/30 border border-red-500/50 ring-2 ring-red-400/50 shadow-[0_0_15px_rgba(239,68,68,0.4)]":"bg-surface2 border border-line/50"} ${V==="boost"?"opacity-60":""}`,children:[!N&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>j(te=>Math.max(0,te-1)),className:"px-0.5 hover:text-accent",disabled:S===0||V==="boost",children:d.jsx(B1,{className:"h-3 w-3"})}),d.jsx("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:Cl[S]===120?"2h":Cl[S]===60?"1h":"30m"}),d.jsx("button",{onClick:()=>j(te=>Math.min(Cl.length-1,te+1)),className:"px-0.5 hover:text-accent",disabled:S===Cl.length-1||V==="boost",children:d.jsx(V1,{className:"h-3 w-3"})})]}),d.jsxs("button",{onClick:H,disabled:V==="boost",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${N?"bg-red-500/50 text-red-100":"bg-red-500/20 hover:bg-red-500/30 text-red-300/80 hover:text-red-300"}`,children:[d.jsx(hS,{className:`h-3.5 w-3.5 ${N?"animate-pulse":""}`}),N?d.jsx("span",{className:"font-mono",children:ie(R)}):d.jsx("span",{children:"Boost"})]})]})]}),E&&d.jsx("div",{className:`absolute -bottom-8 left-0 right-0 text-center text-[10px] py-1 px-2 rounded-md transition-opacity animate-in fade-in slide-in-from-bottom-1 duration-300 ${E.type==="success"?"text-green-400":"text-red-400"}`,children:E.message})]})}const gx=k.createContext({});function xx(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const jh=k.createContext(null),yx=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class AO extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function EO({children:t,isPresent:e}){const n=k.useId(),s=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=k.useContext(yx);return k.useInsertionEffect(()=>{const{width:l,height:u,top:f,left:m}=a.current;if(e||!s.current||!l||!u)return;s.current.dataset.motionPopId=n;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),d.jsx(AO,{isPresent:e,childRef:s,sizeRef:a,children:k.cloneElement(t,{ref:s})})}const OO=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l})=>{const u=xx(RO),f=k.useId(),m=k.useCallback(x=>{u.set(x,!0);for(const b of u.values())if(!b)return;s&&s()},[u,s]),p=k.useMemo(()=>({id:f,initial:e,isPresent:n,custom:a,onExitComplete:m,register:x=>(u.set(x,!1),()=>u.delete(x))}),o?[Math.random(),m]:[n,m]);return k.useMemo(()=>{u.forEach((x,b)=>u.set(b,!1))},[n]),k.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),l==="popLayout"&&(t=d.jsx(EO,{isPresent:n,children:t})),d.jsx(jh.Provider,{value:p,children:t})};function RO(){return new Map}function Sj(t=!0){const e=k.useContext(jh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,o=k.useId();k.useEffect(()=>{t&&a(o)},[t]);const l=k.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,l]:[!0]}const fd=t=>t.key||"";function m2(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const bx=typeof window<"u",jj=bx?k.useLayoutEffect:k.useEffect,LO=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1})=>{const[u,f]=Sj(l),m=k.useMemo(()=>m2(t),[t]),p=l&&!u?[]:m.map(fd),x=k.useRef(!0),b=k.useRef(m),v=xx(()=>new Map),[w,S]=k.useState(m),[j,N]=k.useState(m);jj(()=>{x.current=!1,b.current=m;for(let C=0;C<j.length;C++){const R=fd(j[C]);p.includes(R)?v.delete(R):v.get(R)!==!0&&v.set(R,!1)}},[j,p.length,p.join("-")]);const T=[];if(m!==w){let C=[...m];for(let R=0;R<j.length;R++){const D=j[R],E=fd(D);p.includes(E)||(C.splice(R,0,D),T.push(D))}o==="wait"&&T.length&&(C=T),N(m2(C)),S(m);return}const{forceRender:A}=k.useContext(gx);return d.jsx(d.Fragment,{children:j.map(C=>{const R=fd(C),D=l&&!u?!1:m===j||p.includes(R),E=()=>{if(v.has(R))v.set(R,!0);else return;let z=!0;v.forEach(V=>{V||(z=!1)}),z&&(A?.(),N(b.current),l&&f?.(),s&&s())};return d.jsx(OO,{isPresent:D,initial:!x.current||n?void 0:!1,custom:D?void 0:e,presenceAffectsLayout:a,mode:o,onExitComplete:D?void 0:E,children:C},R)})})},En=t=>t;let kj=En;function vx(t){let e;return()=>(e===void 0&&(e=t()),e)}const mo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},ui=t=>t*1e3,di=t=>t/1e3,zO={useManualTiming:!1};function PO(t){let e=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(m){o.has(m)&&(f.schedule(m),t()),m(l)}const f={schedule:(m,p=!1,x=!1)=>{const v=x&&s?e:n;return p&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(l=m,s){a=!0;return}s=!0,[e,n]=[n,e],e.forEach(u),e.clear(),s=!1,a&&(a=!1,f.process(m))}};return f}const md=["read","resolveKeyframes","update","preRender","render","postRender"],BO=40;function Nj(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=md.reduce((N,T)=>(N[T]=PO(o),N),{}),{read:u,resolveKeyframes:f,update:m,preRender:p,render:x,postRender:b}=l,v=()=>{const N=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(N-a.timestamp,BO),1),a.timestamp=N,a.isProcessing=!0,u.process(a),f.process(a),m.process(a),p.process(a),x.process(a),b.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(v))},w=()=>{n=!0,s=!0,a.isProcessing||t(v)};return{schedule:md.reduce((N,T)=>{const A=l[T];return N[T]=(C,R=!1,D=!1)=>(n||w(),A.schedule(C,R,D)),N},{}),cancel:N=>{for(let T=0;T<md.length;T++)l[md[T]].cancel(N)},state:a,steps:l}}const{schedule:ut,cancel:la,state:Xt,steps:Mp}=Nj(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0),Mj=k.createContext({strict:!1}),p2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},po={};for(const t in p2)po[t]={isEnabled:e=>p2[t].some(n=>!!e[n])};function VO(t){for(const e in t)po[e]={...po[e],...t[e]}}const FO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FO.has(t)}let Tj=t=>!Zd(t);function HO(t){t&&(Tj=e=>e.startsWith("on")?!Zd(e):t(e))}try{HO(require("@emotion/is-prop-valid").default)}catch{}function UO(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(Tj(a)||n===!0&&Zd(a)||!e&&!Zd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function YO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const kh=k.createContext({});function mc(t){return typeof t=="string"||Array.isArray(t)}function Nh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const _x=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wx=["initial",..._x];function Mh(t){return Nh(t.animate)||wx.some(e=>mc(t[e]))}function Dj(t){return!!(Mh(t)||t.variants)}function WO(t,e){if(Mh(t)){const{initial:n,animate:s}=t;return{initial:n===!1||mc(n)?n:void 0,animate:mc(s)?s:void 0}}return t.inherit!==!1?e:{}}function IO(t){const{initial:e,animate:n}=WO(t,k.useContext(kh));return k.useMemo(()=>({initial:e,animate:n}),[g2(e),g2(n)])}function g2(t){return Array.isArray(t)?t.join(" "):t}const qO=Symbol.for("motionComponentSymbol");function Zr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GO(t,e,n){return k.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Zr(n)&&(n.current=s))},[e])}const Sx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$O="framerAppearId",Cj="data-"+Sx($O),{schedule:jx}=Nj(queueMicrotask,!1),Aj=k.createContext({});function XO(t,e,n,s,a){var o,l;const{visualElement:u}=k.useContext(kh),f=k.useContext(Mj),m=k.useContext(jh),p=k.useContext(yx).reducedMotion,x=k.useRef(null);s=s||f.renderer,!x.current&&s&&(x.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const b=x.current,v=k.useContext(Aj);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&KO(x.current,n,a,v);const w=k.useRef(!1);k.useInsertionEffect(()=>{b&&w.current&&b.update(n,m)});const S=n[Cj],j=k.useRef(!!S&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,S))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,S)));return jj(()=>{b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),jx.render(b.render),j.current&&b.animationState&&b.animationState.animateChanges())}),k.useEffect(()=>{b&&(!j.current&&b.animationState&&b.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,S)}),j.current=!1))}),b}function KO(t,e,n,s){const{layoutId:a,layout:o,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ej(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!l||u&&Zr(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}function Ej(t){if(t)return t.options.allowProjection!==!1?t.projection:Ej(t.parent)}function ZO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){var o,l;t&&VO(t);function u(m,p){let x;const b={...k.useContext(yx),...m,layoutId:QO(m)},{isStatic:v}=b,w=IO(m),S=s(m,v);if(!v&&bx){JO();const j=eR(b);x=j.MeasureLayout,w.visualElement=XO(a,S,b,e,j.ProjectionNode)}return d.jsxs(kh.Provider,{value:w,children:[x&&w.visualElement?d.jsx(x,{visualElement:w.visualElement,...b}):null,n(a,m,GO(S,w.visualElement,p),S,v,w.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(l=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&l!==void 0?l:""})`}`;const f=k.forwardRef(u);return f[qO]=a,f}function QO({layoutId:t}){const e=k.useContext(gx).id;return e&&t!==void 0?e+"-"+t:t}function JO(t,e){k.useContext(Mj).strict}function eR(t){const{drag:e,layout:n}=po;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const tR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kx(t){return typeof t!="string"||t.includes("-")?!1:!!(tR.indexOf(t)>-1||/[A-Z]/u.test(t))}function x2(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Nx(t,e,n,s){if(typeof e=="function"){const[a,o]=x2(s);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=x2(s);e=e(n!==void 0?n:t.custom,a,o)}return e}const mg=t=>Array.isArray(t),nR=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sR=t=>mg(t)?t[t.length-1]||0:t,rn=t=>!!(t&&t.getVelocity);function kd(t){const e=rn(t)?t.get():t;return nR(e)?e.toValue():e}function iR({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,a,o){const l={latestValues:aR(s,a,o,t),renderState:e()};return n&&(l.onMount=u=>n({props:s,current:u,...l}),l.onUpdate=u=>n(u)),l}const Oj=t=>(e,n)=>{const s=k.useContext(kh),a=k.useContext(jh),o=()=>iR(t,e,s,a);return n?o():xx(o)};function aR(t,e,n,s){const a={},o=s(t,{});for(const b in o)a[b]=kd(o[b]);let{initial:l,animate:u}=t;const f=Mh(t),m=Dj(t);e&&m&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const x=p?u:l;if(x&&typeof x!="boolean"&&!Nh(x)){const b=Array.isArray(x)?x:[x];for(let v=0;v<b.length;v++){const w=Nx(t,b[v]);if(w){const{transitionEnd:S,transition:j,...N}=w;for(const T in N){let A=N[T];if(Array.isArray(A)){const C=p?A.length-1:0;A=A[C]}A!==null&&(a[T]=A)}for(const T in S)a[T]=S[T]}}}return a}const wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ja=new Set(wo),Rj=t=>e=>typeof e=="string"&&e.startsWith(t),Lj=Rj("--"),rR=Rj("var(--"),Mx=t=>rR(t)?oR.test(t.split("/*")[0].trim()):!1,oR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mi=(t,e,n)=>n>e?e:n<t?t:n,So={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pc={...So,transform:t=>mi(0,1,t)},pd={...So,default:1},Dc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$i=Dc("deg"),Ms=Dc("%"),Se=Dc("px"),lR=Dc("vh"),cR=Dc("vw"),y2={...Ms,parse:t=>Ms.parse(t)/100,transform:t=>Ms.transform(t*100)},uR={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},dR={rotate:$i,rotateX:$i,rotateY:$i,rotateZ:$i,scale:pd,scaleX:pd,scaleY:pd,scaleZ:pd,skew:$i,skewX:$i,skewY:$i,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:pc,originX:y2,originY:y2,originZ:Se},b2={...So,transform:Math.round},Tx={...uR,...dR,zIndex:b2,size:Se,fillOpacity:pc,strokeOpacity:pc,numOctaves:b2},hR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fR=wo.length;function mR(t,e,n){let s="",a=!0;for(let o=0;o<fR;o++){const l=wo[o],u=t[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const m=zj(u,Tx[l]);if(!f){a=!1;const p=hR[l]||l;s+=`${p}(${m}) `}n&&(e[l]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Dx(t,e,n){const{style:s,vars:a,transformOrigin:o}=t;let l=!1,u=!1;for(const f in e){const m=e[f];if(Ja.has(f)){l=!0;continue}else if(Lj(f)){a[f]=m;continue}else{const p=zj(m,Tx[f]);f.startsWith("origin")?(u=!0,o[f]=p):s[f]=p}}if(e.transform||(l||n?s.transform=mR(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:p=0}=o;s.transformOrigin=`${f} ${m} ${p}`}}const pR={offset:"stroke-dashoffset",array:"stroke-dasharray"},gR={offset:"strokeDashoffset",array:"strokeDasharray"};function xR(t,e,n=1,s=0,a=!0){t.pathLength=1;const o=a?pR:gR;t[o.offset]=Se.transform(-s);const l=Se.transform(e),u=Se.transform(n);t[o.array]=`${l} ${u}`}function v2(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function yR(t,e,n){const s=v2(e,t.x,t.width),a=v2(n,t.y,t.height);return`${s} ${a}`}function Cx(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...m},p,x){if(Dx(t,m,x),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:v,dimensions:w}=t;b.transform&&(w&&(v.transform=b.transform),delete b.transform),w&&(a!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=yR(w,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),l!==void 0&&xR(b,l,u,f,!1)}const Ax=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Pj=()=>({...Ax(),attrs:{}}),Ex=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Bj(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const o in n)t.style.setProperty(o,n[o])}const Vj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fj(t,e,n,s){Bj(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Vj.has(a)?a:Sx(a),e.attrs[a])}const Qd={};function bR(t){Object.assign(Qd,t)}function Hj(t,{layout:e,layoutId:n}){return Ja.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qd[t]||t==="opacity")}function Ox(t,e,n){var s;const{style:a}=t,o={};for(const l in a)(rn(a[l])||e.style&&rn(e.style[l])||Hj(l,t)||((s=n?.getValue(l))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(o[l]=a[l]);return o}function Uj(t,e,n){const s=Ox(t,e,n);for(const a in t)if(rn(t[a])||rn(e[a])){const o=wo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[o]=t[a]}return s}function vR(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const _2=["x","y","width","height","cx","cy","r"],_R={useVisualState:Oj({scrapeMotionValuesFromProps:Uj,createRenderState:Pj,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:a})=>{if(!n)return;let o=!!t.drag;if(!o){for(const u in a)if(Ja.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<_2.length;u++){const f=_2[u];t[f]!==e[f]&&(l=!0)}l&&ut.read(()=>{vR(n,s),ut.render(()=>{Cx(s,a,Ex(n.tagName),t.transformTemplate),Fj(n,s)})})}})},wR={useVisualState:Oj({scrapeMotionValuesFromProps:Ox,createRenderState:Ax})};function Yj(t,e,n){for(const s in e)!rn(e[s])&&!Hj(s,n)&&(t[s]=e[s])}function SR({transformTemplate:t},e){return k.useMemo(()=>{const n=Ax();return Dx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jR(t,e){const n=t.style||{},s={};return Yj(s,n,t),Object.assign(s,SR(t,e)),s}function kR(t,e){const n={},s=jR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function NR(t,e,n,s){const a=k.useMemo(()=>{const o=Pj();return Cx(o,e,Ex(s),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Yj(o,t.style,t),a.style={...o,...a.style}}return a}function MR(t=!1){return(n,s,a,{latestValues:o},l)=>{const f=(kx(n)?NR:kR)(s,o,l,n),m=UO(s,typeof n=="string",t),p=n!==k.Fragment?{...m,...f,ref:a}:{},{children:x}=s,b=k.useMemo(()=>rn(x)?x.get():x,[x]);return k.createElement(n,{...p,children:b})}}function TR(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const l={...kx(s)?_R:wR,preloadedFeatures:t,useRender:MR(a),createVisualElement:e,Component:s};return ZO(l)}}function Wj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Th(t,e,n){const s=t.getProps();return Nx(s,e,n!==void 0?n:s.custom,t)}const DR=vx(()=>window.ScrollTimeline!==void 0);class CR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(a=>{if(DR()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class AR extends CR{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Rx(t,e){return t?t[e]||t.default||t:void 0}const pg=2e4;function Ij(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<pg;)e+=n,s=t.next(e);return e>=pg?1/0:e}function Lx(t){return typeof t=="function"}function w2(t,e){t.timeline=e,t.onfinish=null}const zx=t=>Array.isArray(t)&&typeof t[0]=="number",ER={linearEasing:void 0};function OR(t,e){const n=vx(t);return()=>{var s;return(s=ER[e])!==null&&s!==void 0?s:n()}}const Jd=OR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qj=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)s+=t(mo(0,a-1,o))+", ";return`linear(${s.substring(0,s.length-2)})`};function Gj(t){return!!(typeof t=="function"&&Jd()||!t||typeof t=="string"&&(t in gg||Jd())||zx(t)||Array.isArray(t)&&t.every(Gj))}const Wl=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,gg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wl([0,.65,.55,1]),circOut:Wl([.55,0,1,.45]),backIn:Wl([.31,.01,.66,-.59]),backOut:Wl([.33,1.53,.69,.99])};function $j(t,e){if(t)return typeof t=="function"&&Jd()?qj(t,e):zx(t)?Wl(t):Array.isArray(t)?t.map(n=>$j(n,e)||gg.easeOut):gg[t]}const os={x:!1,y:!1};function Xj(){return os.x||os.y}function RR(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Kj(t,e){const n=RR(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function S2(t){return e=>{e.pointerType==="touch"||Xj()||t(e)}}function LR(t,e,n={}){const[s,a,o]=Kj(t,n),l=S2(u=>{const{target:f}=u,m=e(u);if(typeof m!="function"||!f)return;const p=S2(x=>{m(x),f.removeEventListener("pointerleave",p)});f.addEventListener("pointerleave",p,a)});return s.forEach(u=>{u.addEventListener("pointerenter",l,a)}),o}const Zj=(t,e)=>e?t===e?!0:Zj(t,e.parentElement):!1,Px=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PR(t){return zR.has(t.tagName)||t.tabIndex!==-1}const Il=new WeakSet;function j2(t){return e=>{e.key==="Enter"&&t(e)}}function Tp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BR=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=j2(()=>{if(Il.has(n))return;Tp(n,"down");const a=j2(()=>{Tp(n,"up")}),o=()=>Tp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function k2(t){return Px(t)&&!Xj()}function VR(t,e,n={}){const[s,a,o]=Kj(t,n),l=u=>{const f=u.currentTarget;if(!k2(u)||Il.has(f))return;Il.add(f);const m=e(u),p=(v,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!k2(v)||!Il.has(f))&&(Il.delete(f),typeof m=="function"&&m(v,{success:w}))},x=v=>{p(v,n.useGlobalTarget||Zj(f,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",b,a)};return s.forEach(u=>{!PR(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),u.addEventListener("focus",m=>BR(m,a),a)}),o}function FR(t){return t==="x"||t==="y"?os[t]?null:(os[t]=!0,()=>{os[t]=!1}):os.x||os.y?null:(os.x=os.y=!0,()=>{os.x=os.y=!1})}const Qj=new Set(["width","height","top","left","right","bottom",...wo]);let Nd;function HR(){Nd=void 0}const Ts={now:()=>(Nd===void 0&&Ts.set(Xt.isProcessing||zO.useManualTiming?Xt.timestamp:performance.now()),Nd),set:t=>{Nd=t,queueMicrotask(HR)}};function Bx(t,e){t.indexOf(e)===-1&&t.push(e)}function Vx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Fx{constructor(){this.subscriptions=[]}add(e){return Bx(this.subscriptions,e),()=>Vx(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let o=0;o<a;o++){const l=this.subscriptions[o];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Jj(t,e){return e?t*(1e3/e):0}const N2=30,UR=t=>!isNaN(parseFloat(t));class YR{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const o=Ts.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ts.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=UR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Fx);const s=this.events[e].add(n);return e==="change"?()=>{s(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ts.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,N2);return Jj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gc(t,e){return new YR(t,e)}function WR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gc(n))}function IR(t,e){const n=Th(t,e);let{transitionEnd:s={},transition:a={},...o}=n||{};o={...o,...s};for(const l in o){const u=sR(o[l]);WR(t,l,u)}}function qR(t){return!!(rn(t)&&t.add)}function xg(t,e){const n=t.getValue("willChange");if(qR(n))return n.add(e)}function ek(t){return t.props[Cj]}const tk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,GR=1e-7,$R=12;function XR(t,e,n,s,a){let o,l,u=0;do l=e+(n-e)/2,o=tk(l,s,a)-t,o>0?n=l:e=l;while(Math.abs(o)>GR&&++u<$R);return l}function Cc(t,e,n,s){if(t===e&&n===s)return En;const a=o=>XR(o,0,1,t,n);return o=>o===0||o===1?o:tk(a(o),e,s)}const nk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sk=t=>e=>1-t(1-e),ik=Cc(.33,1.53,.69,.99),Hx=sk(ik),ak=nk(Hx),rk=t=>(t*=2)<1?.5*Hx(t):.5*(2-Math.pow(2,-10*(t-1))),Ux=t=>1-Math.sin(Math.acos(t)),ok=sk(Ux),lk=nk(Ux),ck=t=>/^0[^.\s]+$/u.test(t);function KR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ck(t):!0}const Ql=t=>Math.round(t*1e5)/1e5,Yx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZR(t){return t==null}const QR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wx=(t,e)=>n=>!!(typeof n=="string"&&QR.test(n)&&n.startsWith(t)||e&&!ZR(n)&&Object.prototype.hasOwnProperty.call(n,e)),uk=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,o,l,u]=s.match(Yx);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},JR=t=>mi(0,255,t),Dp={...So,transform:t=>Math.round(JR(t))},Ua={test:Wx("rgb","red"),parse:uk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Dp.transform(t)+", "+Dp.transform(e)+", "+Dp.transform(n)+", "+Ql(pc.transform(s))+")"};function e6(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const yg={test:Wx("#"),parse:e6,transform:Ua.transform},Qr={test:Wx("hsl","hue"),parse:uk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ms.transform(Ql(e))+", "+Ms.transform(Ql(n))+", "+Ql(pc.transform(s))+")"},nn={test:t=>Ua.test(t)||yg.test(t)||Qr.test(t),parse:t=>Ua.test(t)?Ua.parse(t):Qr.test(t)?Qr.parse(t):yg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ua.transform(t):Qr.transform(t)},t6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Yx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(t6))===null||n===void 0?void 0:n.length)||0)>0}const dk="number",hk="color",s6="var",i6="var(",M2="${}",a6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(a6,f=>(nn.test(f)?(s.color.push(o),a.push(hk),n.push(nn.parse(f))):f.startsWith(i6)?(s.var.push(o),a.push(s6),n.push(f)):(s.number.push(o),a.push(dk),n.push(parseFloat(f))),++o,M2)).split(M2);return{values:n,split:u,indexes:s,types:a}}function fk(t){return xc(t).values}function mk(t){const{split:e,types:n}=xc(t),s=e.length;return a=>{let o="";for(let l=0;l<s;l++)if(o+=e[l],a[l]!==void 0){const u=n[l];u===dk?o+=Ql(a[l]):u===hk?o+=nn.transform(a[l]):o+=a[l]}return o}}const r6=t=>typeof t=="number"?0:t;function o6(t){const e=fk(t);return mk(t)(e.map(r6))}const ca={test:n6,parse:fk,createTransformer:mk,getAnimatableNone:o6},l6=new Set(["brightness","contrast","saturate","opacity"]);function c6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Yx)||[];if(!s)return t;const a=n.replace(s,"");let o=l6.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+a+")"}const u6=/\b([a-z-]*)\(.*?\)/gu,bg={...ca,getAnimatableNone:t=>{const e=t.match(u6);return e?e.map(c6).join(" "):t}},d6={...Tx,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:bg,WebkitFilter:bg},Ix=t=>d6[t];function pk(t,e){let n=Ix(t);return n!==bg&&(n=ca),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const h6=new Set(["auto","none","0"]);function f6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const o=t[s];typeof o=="string"&&!h6.has(o)&&xc(o).values.length&&(a=t[s]),s++}if(a&&n)for(const o of e)t[o]=pk(n,a)}const T2=t=>t===So||t===Se,D2=(t,e)=>parseFloat(t.split(", ")[e]),C2=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return D2(a[1],e);{const o=s.match(/^matrix\((.+)\)$/u);return o?D2(o[1],t):0}},m6=new Set(["x","y","z"]),p6=wo.filter(t=>!m6.has(t));function g6(t){const e=[];return p6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const go={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:C2(4,13),y:C2(5,14)};go.translateX=go.x;go.translateY=go.y;const qa=new Set;let vg=!1,_g=!1;function gk(){if(_g){const t=Array.from(qa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=g6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([o,l])=>{var u;(u=s.getValue(o))===null||u===void 0||u.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_g=!1,vg=!1,qa.forEach(t=>t.complete()),qa.clear()}function xk(){qa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_g=!0)})}function x6(){xk(),gk()}class qx{constructor(e,n,s,a,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(qa.add(this),vg||(vg=!0,ut.read(xk),ut.resolveKeyframes(gk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),qa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,qa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const yk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),y6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b6(t){const e=y6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function bk(t,e,n=1){const[s,a]=b6(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const l=o.trim();return yk(l)?parseFloat(l):l}return Mx(a)?bk(a,e,n+1):a}const vk=t=>e=>e.test(t),v6={test:t=>t==="auto",parse:t=>t},_k=[So,Se,Ms,$i,cR,lR,v6],A2=t=>_k.find(vk(t));class wk extends qx{constructor(e,n,s,a,o){super(e,n,s,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Mx(m))){const p=bk(m,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Qj.has(s)||e.length!==2)return;const[a,o]=e,l=A2(a),u=A2(o);if(l!==u)if(T2(l)&&T2(u))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)KR(e[a])&&s.push(a);s.length&&f6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=go[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const o=n.getValue(s);o&&o.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=go[s](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{n.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const E2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ca.test(t)||t==="0")&&!t.startsWith("url("));function _6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function w6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=E2(a,e),u=E2(o,e);return!l||!u?!1:_6(t)||(n==="spring"||Lx(n))&&s}const S6=t=>t!==null;function Dh(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(S6),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||s===void 0?a[o]:s}const j6=40;class Sk{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ts.now(),this.options={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>j6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&x6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ts.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:o,delay:l,onComplete:u,onUpdate:f,isGenerator:m}=this.options;if(!m&&!w6(e,s,a,o))if(l)this.options.duration=0;else{f&&f(Dh(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xt=(t,e,n)=>t+(e-t)*n;function Cp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function k6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,o=0,l=0;if(!e)a=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;a=Cp(f,u,t+1/3),o=Cp(f,u,t),l=Cp(f,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:s}}function eh(t,e){return n=>n>0?e:t}const Ap=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},N6=[yg,Ua,Qr],M6=t=>N6.find(e=>e.test(t));function O2(t){const e=M6(t);if(!e)return!1;let n=e.parse(t);return e===Qr&&(n=k6(n)),n}const R2=(t,e)=>{const n=O2(t),s=O2(e);if(!n||!s)return eh(t,e);const a={...n};return o=>(a.red=Ap(n.red,s.red,o),a.green=Ap(n.green,s.green,o),a.blue=Ap(n.blue,s.blue,o),a.alpha=xt(n.alpha,s.alpha,o),Ua.transform(a))},T6=(t,e)=>n=>e(t(n)),Ac=(...t)=>t.reduce(T6),wg=new Set(["none","hidden"]);function D6(t,e){return wg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function C6(t,e){return n=>xt(t,e,n)}function Gx(t){return typeof t=="number"?C6:typeof t=="string"?Mx(t)?eh:nn.test(t)?R2:O6:Array.isArray(t)?jk:typeof t=="object"?nn.test(t)?R2:A6:eh}function jk(t,e){const n=[...t],s=n.length,a=t.map((o,l)=>Gx(o)(o,e[l]));return o=>{for(let l=0;l<s;l++)n[l]=a[l](o);return n}}function A6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Gx(t[a])(t[a],e[a]));return a=>{for(const o in s)n[o]=s[o](a);return n}}function E6(t,e){var n;const s=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][a[l]],f=(n=t.values[u])!==null&&n!==void 0?n:0;s[o]=f,a[l]++}return s}const O6=(t,e)=>{const n=ca.createTransformer(e),s=xc(t),a=xc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?wg.has(t)&&!a.values.length||wg.has(e)&&!s.values.length?D6(t,e):Ac(jk(E6(s,a),a.values),n):eh(t,e)};function kk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):Gx(t)(t,e)}const R6=5;function Nk(t,e,n){const s=Math.max(e-R6,0);return Jj(n-t(s),e-s)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ep=.001;function L6({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:s=wt.mass}){let a,o,l=1-e;l=mi(wt.minDamping,wt.maxDamping,l),t=mi(wt.minDuration,wt.maxDuration,di(t)),l<1?(a=m=>{const p=m*l,x=p*t,b=p-n,v=Sg(m,l),w=Math.exp(-x);return Ep-b/v*w},o=m=>{const x=m*l*t,b=x*n+n,v=Math.pow(l,2)*Math.pow(m,2)*t,w=Math.exp(-x),S=Sg(Math.pow(m,2),l);return(-a(m)+Ep>0?-1:1)*((b-v)*w)/S}):(a=m=>{const p=Math.exp(-m*t),x=(m-n)*t+1;return-Ep+p*x},o=m=>{const p=Math.exp(-m*t),x=(n-m)*(t*t);return p*x});const u=5/t,f=P6(a,o,u);if(t=ui(t),isNaN(f))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:l*2*Math.sqrt(s*m),duration:t}}}const z6=12;function P6(t,e,n){let s=n;for(let a=1;a<z6;a++)s=s-t(s)/e(s);return s}function Sg(t,e){return t*Math.sqrt(1-e*e)}const B6=["duration","bounce"],V6=["stiffness","damping","mass"];function L2(t,e){return e.some(n=>t[n]!==void 0)}function F6(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!L2(t,V6)&&L2(t,B6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,o=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:wt.mass,stiffness:a,damping:o}}else{const n=L6(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function Mk(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:m,mass:p,duration:x,velocity:b,isResolvedFromDuration:v}=F6({...n,velocity:-di(n.velocity||0)}),w=b||0,S=m/(2*Math.sqrt(f*p)),j=l-o,N=di(Math.sqrt(f/p)),T=Math.abs(j)<5;s||(s=T?wt.restSpeed.granular:wt.restSpeed.default),a||(a=T?wt.restDelta.granular:wt.restDelta.default);let A;if(S<1){const R=Sg(N,S);A=D=>{const E=Math.exp(-S*N*D);return l-E*((w+S*N*j)/R*Math.sin(R*D)+j*Math.cos(R*D))}}else if(S===1)A=R=>l-Math.exp(-N*R)*(j+(w+N*j)*R);else{const R=N*Math.sqrt(S*S-1);A=D=>{const E=Math.exp(-S*N*D),z=Math.min(R*D,300);return l-E*((w+S*N*j)*Math.sinh(z)+R*j*Math.cosh(z))/R}}const C={calculatedDuration:v&&x||null,next:R=>{const D=A(R);if(v)u.done=R>=x;else{let E=0;S<1&&(E=R===0?ui(w):Nk(A,R,D));const z=Math.abs(E)<=s,V=Math.abs(l-D)<=a;u.done=z&&V}return u.value=u.done?l:D,u},toString:()=>{const R=Math.min(Ij(C),pg),D=qj(E=>C.next(R*E).value,R,30);return R+"ms "+D}};return C}function z2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:f,restDelta:m=.5,restSpeed:p}){const x=t[0],b={done:!1,value:x},v=z=>u!==void 0&&z<u||f!==void 0&&z>f,w=z=>u===void 0?f:f===void 0||Math.abs(u-z)<Math.abs(f-z)?u:f;let S=n*e;const j=x+S,N=l===void 0?j:l(j);N!==j&&(S=N-x);const T=z=>-S*Math.exp(-z/s),A=z=>N+T(z),C=z=>{const V=T(z),X=A(z);b.done=Math.abs(V)<=m,b.value=b.done?N:X};let R,D;const E=z=>{v(b.value)&&(R=z,D=Mk({keyframes:[b.value,w(b.value)],velocity:Nk(A,z,b.value),damping:a,stiffness:o,restDelta:m,restSpeed:p}))};return E(0),{calculatedDuration:null,next:z=>{let V=!1;return!D&&R===void 0&&(V=!0,C(z),E(z)),R!==void 0&&z>=R?D.next(z-R):(!V&&C(z),b)}}}const H6=Cc(.42,0,1,1),U6=Cc(0,0,.58,1),Tk=Cc(.42,0,.58,1),Y6=t=>Array.isArray(t)&&typeof t[0]!="number",W6={linear:En,easeIn:H6,easeInOut:Tk,easeOut:U6,circIn:Ux,circInOut:lk,circOut:ok,backIn:Hx,backInOut:ak,backOut:ik,anticipate:rk},P2=t=>{if(zx(t)){kj(t.length===4);const[e,n,s,a]=t;return Cc(e,n,s,a)}else if(typeof t=="string")return W6[t];return t};function I6(t,e,n){const s=[],a=n||kk,o=t.length-1;for(let l=0;l<o;l++){let u=a(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||En:e;u=Ac(f,u)}s.push(u)}return s}function q6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const o=t.length;if(kj(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=I6(e,s,a),f=u.length,m=p=>{if(l&&p<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const b=mo(t[x],t[x+1],p);return u[x](b)};return n?p=>m(mi(t[0],t[o-1],p)):m}function G6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=mo(0,e,s);t.push(xt(n,1,a))}}function $6(t){const e=[0];return G6(e,t.length-1),e}function X6(t,e){return t.map(n=>n*e)}function K6(t,e){return t.map(()=>e||Tk).splice(0,t.length-1)}function th({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=Y6(s)?s.map(P2):P2(s),o={done:!1,value:e[0]},l=X6(n&&n.length===e.length?n:$6(e),t),u=q6(l,e,{ease:Array.isArray(a)?a:K6(e,a)});return{calculatedDuration:t,next:f=>(o.value=u(f),o.done=f>=t,o)}}const Z6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ut.update(e,!0),stop:()=>la(e),now:()=>Xt.isProcessing?Xt.timestamp:Ts.now()}},Q6={decay:z2,inertia:z2,tween:th,keyframes:th,spring:Mk},J6=t=>t/100;class $x extends Sk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:s,element:a,keyframes:o}=this.options,l=a?.KeyframeResolver||qx,u=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new l(o,u,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o,velocity:l=0}=this.options,u=Lx(n)?n:Q6[n]||th;let f,m;u!==th&&typeof e[0]!="number"&&(f=Ac(J6,kk(e[0],e[1])),e=[0,100]);const p=u({...this.options,keyframes:e});o==="mirror"&&(m=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Ij(p));const{calculatedDuration:x}=p,b=x+a,v=b*(s+1)-a;return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:x,resolvedDuration:b,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:m,totalDuration:p,resolvedDuration:x}=s;if(this.startTime===null)return o.next(0);const{delay:b,repeat:v,repeatType:w,repeatDelay:S,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-b*(this.speed>=0?1:-1),T=this.speed>=0?N<0:N>p;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let A=this.currentTime,C=o;if(v){const z=Math.min(this.currentTime,p)/x;let V=Math.floor(z),X=z%1;!X&&z>=1&&(X=1),X===1&&V--,V=Math.min(V,v+1),V%2&&(w==="reverse"?(X=1-X,S&&(X-=S/x)):w==="mirror"&&(C=l)),A=mi(0,1,X)*x}const R=T?{done:!1,value:f[0]}:C.next(A);u&&(R.value=u(R.value));let{done:D}=R;!T&&m!==null&&(D=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return E&&a!==void 0&&(R.value=Dh(f,this.options,a)),j&&j(R.value),E&&this.finish(),R}get duration(){const{resolved:e}=this;return e?di(e.calculatedDuration):0}get time(){return di(this.currentTime)}set time(e){e=ui(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=di(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Z6,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const eL=new Set(["opacity","clipPath","filter","transform"]);function tL(t,e,n,{delay:s=0,duration:a=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:f}={}){const m={[e]:n};f&&(m.offset=f);const p=$j(u,a);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:s,duration:a,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const nL=vx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nh=10,sL=2e4;function iL(t){return Lx(t.type)||t.type==="spring"||!Gj(t.ease)}function aL(t,e){const n=new $x({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let o=0;for(;!s.done&&o<sL;)s=n.sample(o),a.push(s.value),o+=nh;return{times:void 0,keyframes:a,duration:o-nh,ease:"linear"}}const Dk={anticipate:rk,backInOut:ak,circInOut:lk};function rL(t){return t in Dk}class B2 extends Sk{constructor(e){super(e);const{name:n,motionValue:s,element:a,keyframes:o}=this.options;this.resolver=new wk(o,(l,u)=>this.onKeyframesResolved(l,u),n,s,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:a,ease:o,type:l,motionValue:u,name:f,startTime:m}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&Jd()&&rL(o)&&(o=Dk[o]),iL(this.options)){const{onComplete:x,onUpdate:b,motionValue:v,element:w,...S}=this.options,j=aL(e,S);e=j.keyframes,e.length===1&&(e[1]=e[0]),s=j.duration,a=j.times,o=j.ease,l="keyframes"}const p=tL(u.owner.current,f,e,{...this.options,duration:s,times:a,ease:o});return p.startTime=m??this.calcStartTime(),this.pendingTimeline?(w2(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:x}=this.options;u.set(Dh(e,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:s,times:a,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return di(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return di(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=ui(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return En;const{animation:s}=n;w2(s,e)}return En}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:a,type:o,ease:l,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:p,onComplete:x,element:b,...v}=this.options,w=new $x({...v,keyframes:s,duration:a,type:o,ease:l,times:u,isGenerator:!0}),S=ui(this.time);m.setWithVelocity(w.sample(S-nh).value,w.sample(S).value,nh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:a,repeatType:o,damping:l,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=n.owner.getProps();return nL()&&s&&eL.has(s)&&!f&&!m&&!a&&o!=="mirror"&&l!==0&&u!=="inertia"}}const oL={type:"spring",stiffness:500,damping:25,restSpeed:10},lL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cL={type:"keyframes",duration:.8},uL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dL=(t,{keyframes:e})=>e.length>2?cL:Ja.has(t)?t.startsWith("scale")?lL(e[1]):oL:uL;function hL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:u,from:f,elapsed:m,...p}){return!!Object.keys(p).length}const Xx=(t,e,n,s={},a,o)=>l=>{const u=Rx(s,t)||{},f=u.delay||s.delay||0;let{elapsed:m=0}=s;m=m-ui(f);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:a};hL(u)||(p={...p,...dL(t,p)}),p.duration&&(p.duration=ui(p.duration)),p.repeatDelay&&(p.repeatDelay=ui(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const b=Dh(p.keyframes,u);if(b!==void 0)return ut.update(()=>{p.onUpdate(b),p.onComplete()}),new AR([])}return!o&&B2.supports(p)?new B2(p):new $x(p)};function fL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Ck(t,e,{delay:n=0,transitionOverride:s,type:a}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const x in f){const b=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),v=f[x];if(v===void 0||p&&fL(p,x))continue;const w={delay:n,...Rx(l||{},x)};let S=!1;if(window.MotionHandoffAnimation){const N=ek(t);if(N){const T=window.MotionHandoffAnimation(N,x,ut);T!==null&&(w.startTime=T,S=!0)}}xg(t,x),b.start(Xx(x,b,v,t.shouldReduceMotion&&Qj.has(x)?{type:!1}:w,t,S));const j=b.animation;j&&m.push(j)}return u&&Promise.all(m).then(()=>{ut.update(()=>{u&&IR(t,u)})}),m}function jg(t,e,n={}){var s;const a=Th(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(o=n.transitionOverride);const l=a?()=>Promise.all(Ck(t,a,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:b}=o;return mL(t,e,p+m,x,b,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function mL(t,e,n=0,s=0,a=1,o){const l=[],u=(t.variantChildren.size-1)*s,f=a===1?(m=0)=>m*s:(m=0)=>u-m*s;return Array.from(t.variantChildren).sort(pL).forEach((m,p)=>{m.notify("AnimationStart",e),l.push(jg(m,e,{...o,delay:n+f(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function pL(t,e){return t.sortNodePosition(e)}function gL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(o=>jg(t,o,n));s=Promise.all(a)}else if(typeof e=="string")s=jg(t,e,n);else{const a=typeof e=="function"?Th(t,e,n.custom):e;s=Promise.all(Ck(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const xL=wx.length;function Ak(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ak(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xL;n++){const s=wx[n],a=t.props[s];(mc(a)||a===!1)&&(e[s]=a)}return e}const yL=[..._x].reverse(),bL=_x.length;function vL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>gL(t,n,s)))}function _L(t){let e=vL(t),n=V2(),s=!0;const a=f=>(m,p)=>{var x;const b=Th(t,p,f==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(b){const{transition:v,transitionEnd:w,...S}=b;m={...m,...S,...w}}return m};function o(f){e=f(t)}function l(f){const{props:m}=t,p=Ak(t.parent)||{},x=[],b=new Set;let v={},w=1/0;for(let j=0;j<bL;j++){const N=yL[j],T=n[N],A=m[N]!==void 0?m[N]:p[N],C=mc(A),R=N===f?T.isActive:null;R===!1&&(w=j);let D=A===p[N]&&A!==m[N]&&C;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),T.protectedKeys={...v},!T.isActive&&R===null||!A&&!T.prevProp||Nh(A)||typeof A=="boolean")continue;const E=wL(T.prevProp,A);let z=E||N===f&&T.isActive&&!D&&C||j>w&&C,V=!1;const X=Array.isArray(A)?A:[A];let G=X.reduce(a(N),{});R===!1&&(G={});const{prevResolvedValues:ne={}}=T,pe={...ne,...G},re=$=>{z=!0,b.has($)&&(V=!0,b.delete($)),T.needsAnimating[$]=!0;const ie=t.getValue($);ie&&(ie.liveStyle=!1)};for(const $ in pe){const ie=G[$],te=ne[$];if(v.hasOwnProperty($))continue;let le=!1;mg(ie)&&mg(te)?le=!Wj(ie,te):le=ie!==te,le?ie!=null?re($):b.add($):ie!==void 0&&b.has($)?re($):T.protectedKeys[$]=!0}T.prevProp=A,T.prevResolvedValues=G,T.isActive&&(v={...v,...G}),s&&t.blockInitialAnimation&&(z=!1),z&&(!(D&&E)||V)&&x.push(...X.map($=>({animation:$,options:{type:N}})))}if(b.size){const j={};b.forEach(N=>{const T=t.getBaseTarget(N),A=t.getValue(N);A&&(A.liveStyle=!0),j[N]=T??null}),x.push({animation:j})}let S=!!x.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(x):Promise.resolve()}function u(f,m){var p;if(n[f].isActive===m)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(b=>{var v;return(v=b.animationState)===null||v===void 0?void 0:v.setActive(f,m)}),n[f].isActive=m;const x=l(f);for(const b in n)n[b].protectedKeys={};return x}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=V2(),s=!0}}}function wL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Wj(e,t):!1}function La(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V2(){return{animate:La(!0),whileInView:La(),whileHover:La(),whileTap:La(),whileDrag:La(),whileFocus:La(),exit:La()}}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SL extends fa{constructor(e){super(e),e.animationState||(e.animationState=_L(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let jL=0;class kL extends fa{constructor(){super(...arguments),this.id=jL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const NL={animation:{Feature:SL},exit:{Feature:kL}};function yc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ec(t){return{point:{x:t.pageX,y:t.pageY}}}const ML=t=>e=>Px(e)&&t(e,Ec(e));function Jl(t,e,n,s){return yc(t,e,ML(n),s)}const F2=(t,e)=>Math.abs(t-e);function TL(t,e){const n=F2(t.x,e.x),s=F2(t.y,e.y);return Math.sqrt(n**2+s**2)}class Ek{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Rp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=TL(x.offset,{x:0,y:0})>=3;if(!b&&!v)return;const{point:w}=x,{timestamp:S}=Xt;this.history.push({...w,timestamp:S});const{onStart:j,onMove:N}=this.handlers;b||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Op(b,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Rp(x.type==="pointercancel"?this.lastMoveEventInfo:Op(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,j),w&&w(x,j)},!Px(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const l=Ec(e),u=Op(l,this.transformPagePoint),{point:f}=u,{timestamp:m}=Xt;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,Rp(u,this.history)),this.removeListeners=Ac(Jl(this.contextWindow,"pointermove",this.handlePointerMove),Jl(this.contextWindow,"pointerup",this.handlePointerUp),Jl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),la(this.updatePoint)}}function Op(t,e){return e?{point:e(t.point)}:t}function H2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rp({point:t},e){return{point:t,delta:H2(t,Ok(e)),offset:H2(t,DL(e)),velocity:CL(e,.1)}}function DL(t){return t[0]}function Ok(t){return t[t.length-1]}function CL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=Ok(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ui(e)));)n--;if(!s)return{x:0,y:0};const o=di(a.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const l={x:(a.x-s.x)/o,y:(a.y-s.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const Rk=1e-4,AL=1-Rk,EL=1+Rk,Lk=.01,OL=0-Lk,RL=0+Lk;function On(t){return t.max-t.min}function LL(t,e,n){return Math.abs(t-e)<=n}function U2(t,e,n,s=.5){t.origin=s,t.originPoint=xt(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AL&&t.scale<=EL||isNaN(t.scale))&&(t.scale=1),(t.translate>=OL&&t.translate<=RL||isNaN(t.translate))&&(t.translate=0)}function ec(t,e,n,s){U2(t.x,e.x,n.x,s?s.originX:void 0),U2(t.y,e.y,n.y,s?s.originY:void 0)}function Y2(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function zL(t,e,n){Y2(t.x,e.x,n.x),Y2(t.y,e.y,n.y)}function W2(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function tc(t,e,n){W2(t.x,e.x,n.x),W2(t.y,e.y,n.y)}function PL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?xt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?xt(n,t,s.max):Math.min(t,n)),t}function I2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BL(t,{top:e,left:n,bottom:s,right:a}){return{x:I2(t.x,n,a),y:I2(t.y,e,s)}}function q2(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function VL(t,e){return{x:q2(t.x,e.x),y:q2(t.y,e.y)}}function FL(t,e){let n=.5;const s=On(t),a=On(e);return a>s?n=mo(e.min,e.max-s,t.min):s>a&&(n=mo(t.min,t.max-a,e.min)),mi(0,1,n)}function HL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kg=.35;function UL(t=kg){return t===!1?t=0:t===!0&&(t=kg),{x:G2(t,"left","right"),y:G2(t,"top","bottom")}}function G2(t,e,n){return{min:$2(t,e),max:$2(t,n)}}function $2(t,e){return typeof t=="number"?t:t[e]||0}const X2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jr=()=>({x:X2(),y:X2()}),K2=()=>({min:0,max:0}),Mt=()=>({x:K2(),y:K2()});function Xn(t){return[t("x"),t("y")]}function zk({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function YL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Lp(t){return t===void 0||t===1}function Ng({scale:t,scaleX:e,scaleY:n}){return!Lp(t)||!Lp(e)||!Lp(n)}function Fa(t){return Ng(t)||Pk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Pk(t){return Z2(t.x)||Z2(t.y)}function Z2(t){return t&&t!=="0%"}function sh(t,e,n){const s=t-n,a=e*s;return n+a}function Q2(t,e,n,s,a){return a!==void 0&&(t=sh(t,a,s)),sh(t,n,s)+e}function Mg(t,e=0,n=1,s,a){t.min=Q2(t.min,e,n,s,a),t.max=Q2(t.max,e,n,s,a)}function Bk(t,{x:e,y:n}){Mg(t.x,e.translate,e.scale,e.originPoint),Mg(t.y,n.translate,n.scale,n.originPoint)}const J2=.999999999999,ew=1.0000000000001;function IL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,l;for(let u=0;u<a;u++){o=n[u],l=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&to(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Bk(t,l)),s&&Fa(o.latestValues)&&to(t,o.latestValues))}e.x<ew&&e.x>J2&&(e.x=1),e.y<ew&&e.y>J2&&(e.y=1)}function eo(t,e){t.min=t.min+e,t.max=t.max+e}function tw(t,e,n,s,a=.5){const o=xt(t.min,t.max,a);Mg(t,e,n,o,s)}function to(t,e){tw(t.x,e.x,e.scaleX,e.scale,e.originX),tw(t.y,e.y,e.scaleY,e.scale,e.originY)}function Vk(t,e){return zk(WL(t.getBoundingClientRect(),e))}function qL(t,e,n){const s=Vk(t,n),{scroll:a}=e;return a&&(eo(s.x,a.offset.x),eo(s.y,a.offset.y)),s}const Fk=({current:t})=>t?t.ownerDocument.defaultView:null,GL=new WeakMap;class $L{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ec(p).point)},o=(p,x)=>{const{drag:b,dragPropagation:v,onDragStart:w}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FR(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(j=>{let N=this.getAxisMotionValue(j).get()||0;if(Ms.test(N)){const{projection:T}=this.visualElement;if(T&&T.layout){const A=T.layout.layoutBox[j];A&&(N=On(A)*(parseFloat(N)/100))}}this.originPoint[j]=N}),w&&ut.postRender(()=>w(p,x)),xg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,x)=>{const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=x;if(v&&this.currentDirection===null){this.currentDirection=XL(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),S&&S(p,x)},u=(p,x)=>this.stop(p,x),f=()=>Xn(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Ek(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Fk(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ut.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!gd(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=PL(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Zr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=BL(a.layoutBox,n):this.constraints=!1,this.elastic=UL(s),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Xn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HL(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zr(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=qL(s,a.root,this.visualElement.getTransformPagePoint());let l=VL(a.layout.layoutBox,o);if(n){const u=n(YL(l));this.hasMutatedConstraints=!!u,u&&(l=zk(u))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=Xn(p=>{if(!gd(p,n,this.currentDirection))return;let x=f&&f[p]||{};l&&(x={min:0,max:0});const b=a?200:1e6,v=a?40:1e7,w={type:"inertia",velocity:s?e[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(p,w)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return xg(this.visualElement,e),s.start(Xx(e,s,0,n,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:s}=this.getProps();if(!gd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[n];o.set(e[n]-xt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Zr(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();a[l]=FL({min:f,max:f},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xn(l=>{if(!gd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:m}=this.constraints[l];u.set(xt(f,m,a[l]))})}addListeners(){if(!this.visualElement.current)return;GL.set(this.visualElement,this);const e=this.visualElement.current,n=Jl(e,"pointerdown",f=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Zr(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ut.read(s);const l=yc(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Xn(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=f[p].translate,x.set(x.get()+f[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:l=kg,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function gd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KL extends fa{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new $L(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const nw=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class ZL extends fa{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new Ek(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:nw(e),onStart:nw(n),onMove:s,onEnd:(o,l)=>{delete this.session,a&&ut.postRender(()=>a(o,l))}}}mount(){this.removePointerDownListener=Jl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Md={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Al={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=sw(t,e.target.x),s=sw(t,e.target.y);return`${n}% ${s}%`}},QL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ca.parse(t);if(a.length>5)return s;const o=ca.createTransformer(t),l=typeof a[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;a[0+l]/=u,a[1+l]/=f;const m=xt(u,f,.5);return typeof a[2+l]=="number"&&(a[2+l]/=m),typeof a[3+l]=="number"&&(a[3+l]/=m),o(a)}};class JL extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:o}=e;bR(e8),o&&(n.group&&n.group.add(o),s&&s.register&&a&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Md.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:o}=this.props,l=s.projection;return l&&(l.isPresent=o,a||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||ut.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hk(t){const[e,n]=Sj(),s=k.useContext(gx);return d.jsx(JL,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(Aj),isPresent:e,safeToRemove:n})}const e8={borderRadius:{...Al,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Al,borderTopRightRadius:Al,borderBottomLeftRadius:Al,borderBottomRightRadius:Al,boxShadow:QL};function t8(t,e,n){const s=rn(t)?t:gc(t);return s.start(Xx("",s,e,n)),s.animation}function n8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const s8=(t,e)=>t.depth-e.depth;class i8{constructor(){this.children=[],this.isDirty=!1}add(e){Bx(this.children,e),this.isDirty=!0}remove(e){Vx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(s8),this.isDirty=!1,this.children.forEach(e)}}function a8(t,e){const n=Ts.now(),s=({timestamp:a})=>{const o=a-n;o>=e&&(la(s),t(o-e))};return ut.read(s,!0),()=>la(s)}const Uk=["TopLeft","TopRight","BottomLeft","BottomRight"],r8=Uk.length,iw=t=>typeof t=="string"?parseFloat(t):t,aw=t=>typeof t=="number"||Se.test(t);function o8(t,e,n,s,a,o){a?(t.opacity=xt(0,n.opacity!==void 0?n.opacity:1,l8(s)),t.opacityExit=xt(e.opacity!==void 0?e.opacity:1,0,c8(s))):o&&(t.opacity=xt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let l=0;l<r8;l++){const u=`border${Uk[l]}Radius`;let f=rw(e,u),m=rw(n,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||aw(f)===aw(m)?(t[u]=Math.max(xt(iw(f),iw(m),s),0),(Ms.test(m)||Ms.test(f))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,s))}function rw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const l8=Yk(0,.5,ok),c8=Yk(.5,.95,En);function Yk(t,e,n){return s=>s<t?0:s>e?1:n(mo(t,e,s))}function ow(t,e){t.min=e.min,t.max=e.max}function Gn(t,e){ow(t.x,e.x),ow(t.y,e.y)}function lw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cw(t,e,n,s,a){return t-=e,t=sh(t,1/n,s),a!==void 0&&(t=sh(t,1/a,s)),t}function u8(t,e=0,n=1,s=.5,a,o=t,l=t){if(Ms.test(e)&&(e=parseFloat(e),e=xt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=xt(o.min,o.max,s);t===o&&(u-=e),t.min=cw(t.min,e,n,u,a),t.max=cw(t.max,e,n,u,a)}function uw(t,e,[n,s,a],o,l){u8(t,e[n],e[s],e[a],e.scale,o,l)}const d8=["x","scaleX","originX"],h8=["y","scaleY","originY"];function dw(t,e,n,s){uw(t.x,e,d8,n?n.x:void 0,s?s.x:void 0),uw(t.y,e,h8,n?n.y:void 0,s?s.y:void 0)}function hw(t){return t.translate===0&&t.scale===1}function Wk(t){return hw(t.x)&&hw(t.y)}function fw(t,e){return t.min===e.min&&t.max===e.max}function f8(t,e){return fw(t.x,e.x)&&fw(t.y,e.y)}function mw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ik(t,e){return mw(t.x,e.x)&&mw(t.y,e.y)}function pw(t){return On(t.x)/On(t.y)}function gw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class m8{constructor(){this.members=[]}add(e){Bx(this.members,e),e.scheduleRender()}remove(e){if(Vx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p8(t,e,n){let s="";const a=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((a||o||l)&&(s=`translate3d(${a}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:b,skewX:v,skewY:w}=n;m&&(s=`perspective(${m}px) ${s}`),p&&(s+=`rotate(${p}deg) `),x&&(s+=`rotateX(${x}deg) `),b&&(s+=`rotateY(${b}deg) `),v&&(s+=`skewX(${v}deg) `),w&&(s+=`skewY(${w}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(s+=`scale(${u}, ${f})`),s||"none"}const Ha={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ql=typeof window<"u"&&window.MotionDebug!==void 0,zp=["","X","Y","Z"],g8={visibility:"hidden"},xw=1e3;let x8=0;function Pp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function qk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ek(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(a||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&qk(s)}function Gk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(l={},u=e?.()){this.id=x8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ql&&(Ha.totalNodes=Ha.resolvedTargetDeltas=Ha.recalculatedProjection=0),this.nodes.forEach(v8),this.nodes.forEach(k8),this.nodes.forEach(N8),this.nodes.forEach(_8),ql&&window.MotionDebug.record(Ha)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new i8)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Fx),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=n8(l),this.instance=l;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||f)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=a8(b,250),Md.hasAnimatedSinceResize&&(Md.hasAnimatedSinceResize=!1,this.nodes.forEach(bw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||A8,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=p.getProps(),T=!this.targetLayout||!Ik(this.targetLayout,w)||v,A=!b&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||b&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,A);const C={...Rx(S,"layout"),onPlay:j,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else b||bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,la(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M8),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yw);return}this.isUpdating||this.nodes.forEach(S8),this.isUpdating=!1,this.nodes.forEach(j8),this.nodes.forEach(y8),this.nodes.forEach(b8),this.clearAllSnapshots();const u=Ts.now();Xt.delta=mi(0,1e3/60,u-Xt.timestamp),Xt.timestamp=u,Xt.isProcessing=!0,Mp.update.process(Xt),Mp.preRender.process(Xt),Mp.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w8),this.sharedNodes.forEach(T8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Wk(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;l&&(u||Fa(this.latestValues)||p)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),E8(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return Mt();const f=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(O8))){const{scroll:p}=this.root;p&&(eo(f.x,p.offset.x),eo(f.y,p.offset.y))}return f}removeElementScroll(l){var u;const f=Mt();if(Gn(f,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:b}=p;p!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&Gn(f,l),eo(f.x,x.offset.x),eo(f.y,x.offset.y))}return f}applyTransform(l,u=!1){const f=Mt();Gn(f,l);for(let m=0;m<this.path.length;m++){const p=this.path[m];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&to(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Fa(p.latestValues)&&to(f,p.latestValues)}return Fa(this.latestValues)&&to(f,this.latestValues),f}removeTransform(l){const u=Mt();Gn(u,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Fa(m.latestValues))continue;Ng(m.latestValues)&&m.updateSnapshot();const p=Mt(),x=m.measurePageBox();Gn(p,x),dw(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Fa(this.latestValues)&&dw(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),tc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),Bk(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),tc(this.relativeTargetOrigin,this.target,v.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ql&&Ha.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ng(this.parent.latestValues)||Pk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;Gn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;IL(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Mt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lw(this.prevProjectionDelta.x,this.projectionDelta.x),lw(this.prevProjectionDelta.y,this.projectionDelta.y)),ec(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ql&&Ha.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jr(),this.projectionDelta=Jr(),this.projectionDeltaWithTransform=Jr()}setAnimationOrigin(l,u=!1){const f=this.snapshot,m=f?f.latestValues:{},p={...this.latestValues},x=Jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Mt(),v=f?f.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,j=this.getStack(),N=!j||j.members.length<=1,T=!!(S&&!N&&this.options.crossfade===!0&&!this.path.some(C8));this.animationProgress=0;let A;this.mixTargetDelta=C=>{const R=C/1e3;vw(x.x,l.x,R),vw(x.y,l.y,R),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D8(this.relativeTarget,this.relativeTargetOrigin,b,R),A&&f8(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Mt()),Gn(A,this.relativeTarget)),S&&(this.animationValues=p,o8(p,m,this.latestValues,R,T,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(la(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Md.hasAnimatedSinceResize=!0,this.currentAnimation=t8(0,xw,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:p}=l;if(!(!u||!f||!m)){if(this!==l&&this.layout&&m&&$k(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Mt();const x=On(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+x;const b=On(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+b}Gn(u,f),to(u,p),ec(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new m8),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const m={};f.z&&Pp("z",l,m,this.animationValues);for(let p=0;p<zp.length;p++)Pp(`rotate${zp[p]}`,l,m,this.animationValues),Pp(`skew${zp[p]}`,l,m,this.animationValues);l.render();for(const p in m)l.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);l.scheduleRender()}getProjectionStyles(l){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return g8;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=kd(l?.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=kd(l?.pointerEvents)||""),this.hasProjected&&!Fa(this.latestValues)&&(S.transform=p?p({},""):"none",this.hasProjected=!1),S}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=p8(this.projectionDeltaWithTransform,this.treeScale,b),p&&(m.transform=p(b,m.transform));const{x:v,y:w}=this.projectionDelta;m.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,x.animationValues?m.opacity=x===this?(f=(u=b.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const S in Qd){if(b[S]===void 0)continue;const{correct:j,applyTo:N}=Qd[S],T=m.transform==="none"?b[S]:j(b[S],x);if(N){const A=N.length;for(let C=0;C<A;C++)m[N[C]]=T}else m[S]=T}return this.options.layoutId&&(m.pointerEvents=x===this?kd(l?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(yw),this.root.sharedNodes.clear()}}}function y8(t){t.updateLayout()}function b8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?Xn(x=>{const b=l?n.measuredBox[x]:n.layoutBox[x],v=On(b);b.min=s[x].min,b.max=b.min+v}):$k(o,n.layoutBox,s)&&Xn(x=>{const b=l?n.measuredBox[x]:n.layoutBox[x],v=On(s[x]);b.max=b.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+v)});const u=Jr();ec(u,s,n.layoutBox);const f=Jr();l?ec(f,t.applyTransform(a,!0),n.measuredBox):ec(f,s,n.layoutBox);const m=!Wk(u);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:v}=x;if(b&&v){const w=Mt();tc(w,n.layoutBox,b.layoutBox);const S=Mt();tc(S,s,v.layoutBox),Ik(w,S)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function v8(t){ql&&Ha.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function w8(t){t.clearSnapshot()}function yw(t){t.clearMeasurements()}function S8(t){t.isLayoutDirty=!1}function j8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function k8(t){t.resolveTargetDelta()}function N8(t){t.calcProjection()}function M8(t){t.resetSkewAndRotation()}function T8(t){t.removeLeadSnapshot()}function vw(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _w(t,e,n,s){t.min=xt(e.min,n.min,s),t.max=xt(e.max,n.max,s)}function D8(t,e,n,s){_w(t.x,e.x,n.x,s),_w(t.y,e.y,n.y,s)}function C8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const A8={duration:.45,ease:[.4,0,.1,1]},ww=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Sw=ww("applewebkit/")&&!ww("chrome/")?Math.round:En;function jw(t){t.min=Sw(t.min),t.max=Sw(t.max)}function E8(t){jw(t.x),jw(t.y)}function $k(t,e,n){return t==="position"||t==="preserve-aspect"&&!LL(pw(e),pw(n),.2)}function O8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const R8=Gk({attachResizeListener:(t,e)=>yc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bp={current:void 0},Xk=Gk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bp.current){const t=new R8({});t.mount(window),t.setOptions({layoutScroll:!0}),Bp.current=t}return Bp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),L8={pan:{Feature:ZL},drag:{Feature:KL,ProjectionNode:Xk,MeasureLayout:Hk}};function kw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=s[a];o&&ut.postRender(()=>o(e,Ec(e)))}class z8 extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=LR(e,n=>(kw(this.node,n,"Start"),s=>kw(this.node,s,"End"))))}unmount(){}}class P8 extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ac(yc(this.node.current,"focus",()=>this.onFocus()),yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Nw(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=s[a];o&&ut.postRender(()=>o(e,Ec(e)))}class B8 extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=VR(e,n=>(Nw(this.node,n,"Start"),(s,{success:a})=>Nw(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tg=new WeakMap,Vp=new WeakMap,V8=t=>{const e=Tg.get(t.target);e&&e(t)},F8=t=>{t.forEach(V8)};function H8({root:t,...e}){const n=t||document;Vp.has(n)||Vp.set(n,{});const s=Vp.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(F8,{root:t,...e})),s[a]}function U8(t,e,n){const s=H8(e);return Tg.set(t,n),s.observe(t),()=>{Tg.delete(t),s.unobserve(t)}}const Y8={some:0,all:1};class W8 extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Y8[a]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),b=m?p:x;b&&b(f)};return U8(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(I8(e,n))&&this.startObserver()}unmount(){}}function I8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const q8={inView:{Feature:W8},tap:{Feature:B8},focus:{Feature:P8},hover:{Feature:z8}},G8={layout:{ProjectionNode:Xk,MeasureLayout:Hk}},Dg={current:null},Kk={current:!1};function $8(){if(Kk.current=!0,!!bx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dg.current=t.matches;t.addListener(e),e()}else Dg.current=!1}const X8=[..._k,nn,ca],K8=t=>X8.find(vk(t)),Mw=new WeakMap;function Z8(t,e,n){for(const s in e){const a=e[s],o=n[s];if(rn(a))t.addValue(s,a);else if(rn(o))t.addValue(s,gc(a,{owner:t}));else if(o!==a)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=t.getStaticValue(s);t.addValue(s,gc(l!==void 0?l:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Tw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Q8{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ts.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ut.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:p}=l;this.onUpdate=p,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Mh(n),this.isVariantNode=Dj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in b){const w=b[v];f[v]!==void 0&&rn(w)&&w.set(f[v],!1)}}mount(e){this.current=e,Mw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Kk.current||$8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Mw.delete(this.current),this.projection&&this.projection.unmount(),la(this.notifyUpdate),la(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ja.has(e),a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in po){const n=po[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Tw.length;s++){const a=Tw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,l=e[o];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=Z8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=gc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(yk(a)||ck(a))?a=parseFloat(a):!K8(a)&&ca.test(n)&&(a=pk(e,n)),this.setBaseTarget(e,rn(a)?a.get():a)),rn(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const l=Nx(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(a=l[e])}if(s&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!rn(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Fx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Zk extends Q8{constructor(){super(...arguments),this.KeyframeResolver=wk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function J8(t){return window.getComputedStyle(t)}class ez extends Zk{constructor(){super(...arguments),this.type="html",this.renderInstance=Bj}readValueFromInstance(e,n){if(Ja.has(n)){const s=Ix(n);return s&&s.default||0}else{const s=J8(e),a=(Lj(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Vk(e,n)}build(e,n,s){Dx(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Ox(e,n,s)}}class tz extends Zk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ja.has(n)){const s=Ix(n);return s&&s.default||0}return n=Vj.has(n)?n:Sx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Uj(e,n,s)}build(e,n,s){Cx(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){Fj(e,n,s,a)}mount(e){this.isSVGTag=Ex(e.tagName),super.mount(e)}}const nz=(t,e)=>kx(t)?new tz(e):new ez(e,{allowProjection:t!==k.Fragment}),sz=TR({...NL,...q8,...L8,...G8},nz),Dt=YO(sz);function iz(){const[t,e]=k.useState(null),[n,s]=k.useState(!1),[a,o]=k.useState(!1),[l,u]=k.useState(null),[f,m]=k.useState(!0),[p,x]=k.useState(null),b=k.useCallback(async()=>{if(l){s(!0),o(!1);try{const j=await me.getAdvice();j&&typeof j=="object"&&"status"in j&&j.status==="disabled"?(u(!1),e(null)):e(j.advice??null)}catch(j){console.error(j),o(!0)}finally{s(!1)}}},[l]),v=k.useCallback(async()=>{s(!0),o(!1);try{const j=await me.analystRun();x(j)}catch(j){console.error("Failed to fetch analyst summary:",j),o(!0)}finally{s(!1)}},[]);k.useEffect(()=>{me.config().then(j=>{const N=j.advisor||{},T=N.enable_llm!==!1,A=N.auto_fetch!==!1;u(T),m(A),T&&A&&b(),T||v()}).catch(j=>{console.error("Failed to load advisor config:",j),u(!1)})},[b,v]);const w=!!l&&!n,S=async()=>{const j=!f;m(j);try{await me.configSave({advisor:{auto_fetch:j}}),j&&l&&!t&&b()}catch(N){console.error("Failed to update advisor auto_fetch setting:",N)}};return d.jsxs(Ne,{className:"h-full p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[d.jsx(Xg,{className:"h-4 w-4 text-accent"}),d.jsx("span",{children:"Aurora Advisor"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[l&&d.jsx("button",{onClick:S,className:`rounded-pill px-2 py-1 text-[10px] font-medium transition ${f?"bg-accent text-canvas border border-accent":"bg-surface border border-line/60 text-muted hover:border-accent hover:text-accent"}`,title:f?"Disable auto-fetch (advisor runs only on manual request)":"Enable auto-fetch when the plan changes",children:""}),l!==null&&d.jsx("button",{onClick:b,disabled:!w,className:"text-[10px] text-muted hover:text-text transition-colors p-1 disabled:opacity-40",title:l?"Fetch latest advice":"Enable LLM advice in Settings",children:d.jsx(pS,{className:`h-4 w-4 ${n?"animate-spin":""}`})})]})]}),d.jsxs("div",{className:"text-[11px] text-text leading-relaxed",children:[l===!1&&d.jsxs(d.Fragment,{children:[n&&d.jsx("span",{className:"animate-pulse",children:"Analyzing schedule (offline)"}),!n&&a&&d.jsx("span",{className:"text-red-400",children:"Unable to analyze schedule. Check backend logs for details."}),!n&&!a&&p&&p.recommendations&&d.jsx("div",{className:"space-y-2",children:Object.entries(p.recommendations).slice(0,3).map(([j,N])=>{const T=N??{},A=T.label||j,C=T.best_grid_window||{},R=T.best_solar_window||{},D=V=>V&&V.length>=16?V.slice(11,16):"",E=C.start&&C.end?`${D(C.start)}${D(C.end)} (${C.avg_price?.toFixed?.(2)??""} SEK/kWh)`:null,z=R.start&&R.end?`${D(R.start)}${D(R.end)} (${R.avg_pv_surplus?.toFixed?.(2)??""} kW surplus)`:null;return d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("div",{className:"font-medium",children:A}),d.jsxs("div",{className:"flex flex-wrap gap-3 text-[10px] text-muted",children:[E&&d.jsxs("span",{className:"inline-flex items-center gap-1",children:[d.jsx(Qn,{className:"h-3 w-3 text-accent"}),d.jsxs("span",{children:["Grid: ",E]})]}),z&&d.jsxs("span",{className:"inline-flex items-center gap-1",children:[d.jsx(gS,{className:"h-3 w-3 text-accent"}),d.jsxs("span",{children:["Solar: ",z]})]})]})]},j)})}),!n&&!a&&(!p||!p.recommendations)&&d.jsx("span",{className:"text-muted",children:"No appliance recommendations available. Configure appliances in Settings to see suggested run windows."})]}),l===!0&&d.jsxs(d.Fragment,{children:[n&&d.jsx("span",{className:"animate-pulse",children:"Analyzing schedule..."}),!n&&a&&d.jsx("span",{className:"text-red-400",children:"Unable to fetch advice. Check AI settings or try again."}),!n&&!a&&!t&&!f&&d.jsx("span",{className:"text-muted",children:"Click the refresh icon to analyze your current schedule."}),!n&&!a&&t&&d.jsx("span",{children:t})]}),l===null&&!n&&!a&&d.jsx("span",{className:"text-muted",children:"Loading advisor settings"})]})]})}function xd({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,f=4,m=Math.max(3.5-o*.6,.8);return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.2}),o>.05&&Array.from({length:f}).map((p,x)=>d.jsx(Dt.circle,{r:3.5,fill:s,initial:{opacity:0},animate:{cx:[l.x,u.x],cy:[l.y,u.y],opacity:[0,.85,.85,0]},transition:{duration:m,repeat:1/0,delay:x/f*m,ease:"linear"}},x))]})}function El({x:t,y:e,iconType:n,label:s,value:a,subValue:o,color:l,glowIntensity:u,isCharging:f,compact:m}){const p=m?28:35,x=p+18*u,b=m?18:22,v={solar:jc,house:fS,battery:f?ac:fh,grid:Qn,water:rc}[n];return d.jsxs("g",{transform:`translate(${t}, ${e})`,children:[u>.1&&d.jsx(Dt.circle,{r:x,fill:l,initial:{opacity:0},animate:{opacity:.1+u*.15},transition:{duration:.4}}),d.jsx("circle",{r:p,fill:"rgb(var(--color-surface))",stroke:l,strokeWidth:2.5}),d.jsx("foreignObject",{x:-b/2,y:-b/2,width:b,height:b,children:d.jsx(v,{size:b,style:{color:l},strokeWidth:1.5})}),d.jsx("text",{y:p+14,textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:m?"10":"11",fontWeight:"600",children:a}),o&&!m&&d.jsx("text",{y:p+26,textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:o}),d.jsx("text",{y:p+(o&&!m?38:26),textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:m?"8":"9",children:s})]})}function az({data:t,compact:e=!1}){const n=e?.75:1,s=k.useMemo(()=>({solar:{x:100*n,y:50*n},house:{x:200*n,y:130*n},battery:{x:200*n,y:230*n},grid:{x:100*n,y:230*n},water:{x:300*n,y:130*n}}),[n]),a={solar:"rgb(var(--color-accent))",battery:"rgb(var(--color-good))",grid:"rgb(var(--color-grid))",house:"rgb(var(--color-house))",water:"rgb(var(--color-water))"},o=6,l={solar:Math.min(t.solar.kw/o,1),battery:Math.min(Math.abs(t.battery.kw)/o,1),grid:Math.min(Math.abs(t.grid.kw)/o,1),house:Math.min(t.house.kw/o,1),water:Math.min(t.water.kw/o,1)},u=v=>`${Math.abs(v).toFixed(1)} kW`,f=v=>v!=null?`${v.toFixed(1)} kWh`:void 0,m=t.grid.kw>=0?"Import":"Export",p=t.grid.kw>=0?f(t.grid.importKwh):f(t.grid.exportKwh),x=t.battery.kw>=0?"Charging":"Discharging",b=e?"0 0 300 200":"0 0 400 280";return d.jsxs("svg",{viewBox:b,className:"w-full h-full",children:[d.jsx(xd,{from:s.solar,to:s.house,power:t.solar.kw,color:a.solar}),d.jsx(xd,{from:s.battery,to:s.house,power:Math.abs(t.battery.kw),color:a.battery,reverse:t.battery.kw>0}),d.jsx(xd,{from:s.grid,to:s.house,power:Math.abs(t.grid.kw),color:a.grid,reverse:t.grid.kw<0}),d.jsx(xd,{from:s.house,to:s.water,power:t.water.kw,color:a.water}),d.jsx(El,{...s.solar,iconType:"solar",label:"Solar",value:u(t.solar.kw),subValue:f(t.solar.todayKwh),color:a.solar,glowIntensity:l.solar,compact:e}),d.jsx(El,{...s.house,iconType:"house",label:"House",value:u(t.house.kw),subValue:f(t.house.todayKwh),color:a.house,glowIntensity:l.house,compact:e}),d.jsx(El,{...s.battery,iconType:"battery",label:x,value:`${t.battery.soc.toFixed(0)}%`,subValue:u(t.battery.kw),color:a.battery,glowIntensity:l.battery,isCharging:t.battery.kw>0,compact:e}),d.jsx(El,{...s.grid,iconType:"grid",label:m,value:u(t.grid.kw),subValue:p,color:a.grid,glowIntensity:l.grid,compact:e}),d.jsx(El,{...s.water,iconType:"water",label:"Water",value:u(t.water.kw),color:a.water,glowIntensity:l.water,compact:e})]})}function rz({powerFlowData:t}){const[e,n]=k.useState("advisor"),a=t??{solar:{kw:0,todayKwh:0},battery:{kw:0,soc:50},grid:{kw:0,importKwh:0,exportKwh:0},house:{kw:0,todayKwh:0},water:{kw:0}};return d.jsxs(Ne,{className:"h-full p-4 md:p-5 flex flex-col",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-1 p-0.5 rounded-lg bg-surface2/50 border border-line/30",children:[d.jsxs("button",{onClick:()=>n("advisor"),className:`flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[10px] font-medium transition ${e==="advisor"?"bg-accent text-[#100f0e]":"text-muted hover:text-text"}`,children:[d.jsx(Xg,{className:"h-3 w-3"}),d.jsx("span",{children:"Advisor"})]}),d.jsxs("button",{onClick:()=>n("powerflow"),className:`flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[10px] font-medium transition ${e==="powerflow"?"bg-accent text-[#100f0e]":"text-muted hover:text-text"}`,children:[d.jsx(co,{className:"h-3 w-3"}),d.jsx("span",{children:"Power Flow"})]})]})}),d.jsx("div",{className:"flex-1 min-h-0",children:e==="advisor"?d.jsx(oz,{}):d.jsx("div",{className:"h-full flex items-center justify-center",children:d.jsx(az,{data:a})})})]})}function oz(){return d.jsx("div",{className:"[&>div]:p-0 [&>div]:shadow-none [&>div]:bg-transparent [&>div]:border-none",children:d.jsx(iz,{})})}const Dw=({value:t,total:e,colorClass:n})=>{const s=e>0?Math.min(100,t/e*100):0;return d.jsx("div",{className:"h-1.5 w-full bg-surface2 rounded-full overflow-hidden flex",children:d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${n}`,style:{width:`${s}%`}})})};function lz({netCost:t,importKwh:e,exportKwh:n,exportGuard:s}){const a=(t??0)<=0;return d.jsxs(Ne,{className:"p-4 flex flex-col justify-between h-full relative overflow-hidden group",children:[d.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${a?"bg-emerald-500":"bg-red-500"}`}),d.jsxs("div",{className:"flex items-center gap-2 mb-3 relative z-10",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${a?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:d.jsx(dS,{className:"h-4 w-4"})}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Grid & Financial"}),s&&d.jsx("span",{className:"ml-auto text-[9px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded border border-emerald-500/20 animate-pulse",children:"Guard"})]}),d.jsxs("div",{className:"mb-4 relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-0.5",children:"Net Daily Cost"}),d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsx("span",{className:`text-2xl font-bold ${a?"text-emerald-400":"text-red-400"}`,children:t!=null?Math.abs(t).toFixed(2):""}),d.jsx("span",{className:"text-xs text-muted",children:"kr"}),t!==null&&d.jsx("span",{className:`text-[10px] ml-2 px-1.5 py-0.5 rounded ${a?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:t>0?"COST":"EARNING"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto relative z-10",children:[d.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-bad mb-1",children:[d.jsx(qg,{className:"h-3 w-3"}),d.jsx("span",{className:"text-[10px]",children:"Import"})]}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[e?.toFixed(1)??""," ",d.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]}),d.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-good mb-1",children:[d.jsx(Gg,{className:"h-3 w-3"}),d.jsx("span",{className:"text-[10px]",children:"Export"})]}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[n?.toFixed(1)??""," ",d.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function cz({pvActual:t,pvForecast:e,loadActual:n,loadAvg:s,waterKwh:a,batteryCapacity:o}){return d.jsxs(Ne,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.01]"}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-accent/10 text-accent",children:d.jsx(Qn,{className:"h-4 w-4"})}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Energy Resources"}),o!=null&&o>0&&d.jsxs("span",{className:"ml-auto text-[9px] text-muted opacity-60",children:[o," kWh Cap"]})]}),d.jsxs("div",{className:"space-y-4 relative z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-accent",children:[d.jsx(jc,{className:"h-3 w-3"}),d.jsx("span",{children:"Solar Production"})]}),d.jsxs("div",{className:"text-[10px] text-muted",children:[d.jsx("span",{className:"text-text font-medium",children:t?.toFixed(1)??""}),d.jsx("span",{className:"mx-1",children:"/"}),e?.toFixed(1)??""," kWh"]})]}),d.jsx(Dw,{value:t??0,total:e??1,colorClass:"bg-accent"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-house",children:[d.jsx(co,{className:"h-3 w-3"}),d.jsx("span",{children:"House Load"})]}),d.jsxs("div",{className:"text-[10px] text-muted",children:[d.jsx("span",{className:"text-text font-medium",children:n?.toFixed(1)??""}),d.jsx("span",{className:"mx-1",children:"/"}),s?.toFixed(1)??""," kWh"]})]}),d.jsx(Dw,{value:n??0,total:s??1,colorClass:"bg-house"})]}),d.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-line/30",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-water",children:[d.jsx(rc,{className:"h-3 w-3"}),d.jsx("span",{children:"Water Heating"})]}),d.jsxs("div",{className:"text-sm font-medium text-text",children:[a?.toFixed(1)??""," ",d.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function uz({soc:t,socTarget:e,sIndex:n,cycles:s,riskLabel:a}){return d.jsxs(Ne,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-ai/[0.01]"}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-ai/10 text-ai",children:d.jsx(Bd,{className:"h-4 w-4"})}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Battery & Strategy"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:[d.jsxs("div",{className:"col-span-2 flex items-center gap-3 p-3 rounded-xl bg-surface2/30 border border-line/30",children:[d.jsx(fh,{className:`h-8 w-8 ${(t??0)>50?"text-good":(t??0)>20?"text-warn":"text-bad"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-2xl font-bold text-text",children:[t?.toFixed(0)??"","%"]}),d.jsx("div",{className:"text-[10px] text-muted",children:e!=null?`Targeting ${e.toFixed(0)}%`:"Current SoC"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"S-Index"}),d.jsx("div",{className:"text-lg font-semibold text-text",children:n?`x${n.toFixed(2)}`:""}),d.jsx("div",{className:"text-[10px] text-ai/80",children:"Strategy Factor"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"Cycles"}),d.jsx("div",{className:"text-lg font-semibold text-text",children:s?.toFixed(1)??""}),d.jsx("div",{className:"text-[10px] text-muted",children:a||"Daily usage"})]})]})]})}function dz({comfortLevel:t,setComfortLevel:e,riskAppetite:n,setRiskAppetite:s,vacationMode:a,onWaterBoost:o,onBatteryTopUp:l}){return d.jsxs(Ne,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[d.jsx("div",{className:"absolute left-[19px] top-6 bottom-6 w-[1px] bg-line/30 z-0"}),d.jsxs("div",{className:"space-y-3 relative z-10",children:[d.jsxs("div",{className:"metric-card-border metric-card-border-house bg-surface2/30 p-3 overflow-hidden group",children:[d.jsxs("div",{className:"flex justify-between items-baseline mb-2 pl-3",children:[d.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[d.jsx("span",{children:"Market Strategy"}),d.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-colors ${n>3?"bg-purple-400 shadow-[0_0_5px_rgba(192,132,252,0.8)]":n<2?"bg-emerald-400":"bg-blue-400"}`})]}),d.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[n]||"Unknown"})]}),d.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(u=>{const f={1:"bg-good text-[#100f0e] border-good shadow-[0_0_10px_rgba(var(--color-good),0.4)]",2:"bg-night text-[#100f0e] border-night shadow-[0_0_10px_rgba(var(--color-night),0.4)]",3:"bg-water text-[#100f0e] border-water shadow-[0_0_10px_rgba(var(--color-water),0.4)]",4:"bg-warn text-[#100f0e] border-warn shadow-[0_0_10px_rgba(var(--color-warn),0.4)]",5:"bg-ai text-[#100f0e] border-ai shadow-[0_0_10px_rgba(var(--color-ai),0.4)]"},m=n===u;return d.jsx("button",{onClick:()=>s(u),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${f[u]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:u},u)})})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-water bg-surface2/30 p-3 overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 pl-3",children:[d.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[d.jsx("span",{children:"Water Comfort"}),a&&d.jsx("span",{className:"text-[9px] text-amber-300 bg-amber-500/20 px-1.5 rounded animate-pulse",children:"Vacation"})]}),d.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Economy",2:"Balanced",3:"Neutral",4:"Priority",5:"Maximum"}[t]||"Unknown"})]}),d.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(u=>{const f={1:"bg-good text-[#100f0e] border-good shadow-[0_0_10px_rgba(var(--color-good),0.4)]",2:"bg-night text-[#100f0e] border-night shadow-[0_0_10px_rgba(var(--color-night),0.4)]",3:"bg-water text-[#100f0e] border-water shadow-[0_0_10px_rgba(var(--color-water),0.4)]",4:"bg-warn text-[#100f0e] border-warn shadow-[0_0_10px_rgba(var(--color-warn),0.4)]",5:"bg-bad text-[#100f0e] border-bad shadow-[0_0_10px_rgba(var(--color-bad),0.4)]"},m=t===u;return d.jsx("button",{onClick:()=>e(u),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${f[u]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:u},u)})})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-muted bg-surface2/30 p-2 flex gap-2",children:[d.jsxs("button",{onClick:o,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group ml-3",children:[d.jsx("div",{className:"p-1 rounded-full bg-orange-500/10 text-orange-400 group-hover:bg-orange-500/20 transition-colors",children:d.jsx(hS,{className:"h-3.5 w-3.5"})}),d.jsx("span",{className:"text-[10px] font-medium text-text",children:"Boost Water (1h)"})]}),d.jsxs("button",{onClick:l,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group",children:[d.jsx("div",{className:"p-1 rounded-full bg-good/10 text-good group-hover:bg-good/20 transition-colors",children:d.jsx(ac,{className:"h-3.5 w-3.5"})}),d.jsx("span",{className:"text-[10px] font-medium text-text",children:"Top Up 50%"})]})]})]})]})}const Cs=Object.create(null);Cs.open="0";Cs.close="1";Cs.ping="2";Cs.pong="3";Cs.message="4";Cs.upgrade="5";Cs.noop="6";const Td=Object.create(null);Object.keys(Cs).forEach(t=>{Td[Cs[t]]=t});const Cg={type:"error",data:"parser error"},Qk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Jk=typeof ArrayBuffer=="function",eN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Kx=({type:t,data:e},n,s)=>Qk&&e instanceof Blob?n?s(e):Cw(e,s):Jk&&(e instanceof ArrayBuffer||eN(e))?n?s(e):Cw(new Blob([e]),s):s(Cs[t]+(e||"")),Cw=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function Aw(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Fp;function hz(t,e){if(Qk&&t.data instanceof Blob)return t.data.arrayBuffer().then(Aw).then(e);if(Jk&&(t.data instanceof ArrayBuffer||eN(t.data)))return e(Aw(t.data));Kx(t,!1,n=>{Fp||(Fp=new TextEncoder),e(Fp.encode(n))})}const Ew="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Ew.length;t++)Gl[Ew.charCodeAt(t)]=t;const fz=t=>{let e=t.length*.75,n=t.length,s,a=0,o,l,u,f;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const m=new ArrayBuffer(e),p=new Uint8Array(m);for(s=0;s<n;s+=4)o=Gl[t.charCodeAt(s)],l=Gl[t.charCodeAt(s+1)],u=Gl[t.charCodeAt(s+2)],f=Gl[t.charCodeAt(s+3)],p[a++]=o<<2|l>>4,p[a++]=(l&15)<<4|u>>2,p[a++]=(u&3)<<6|f&63;return m},mz=typeof ArrayBuffer=="function",Zx=(t,e)=>{if(typeof t!="string")return{type:"message",data:tN(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:pz(t.substring(1),e)}:Td[n]?t.length>1?{type:Td[n],data:t.substring(1)}:{type:Td[n]}:Cg},pz=(t,e)=>{if(mz){const n=fz(t);return tN(n,e)}else return{base64:!0,data:t}},tN=(t,e)=>e==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,nN="",gz=(t,e)=>{const n=t.length,s=new Array(n);let a=0;t.forEach((o,l)=>{Kx(o,!1,u=>{s[l]=u,++a===n&&e(s.join(nN))})})},xz=(t,e)=>{const n=t.split(nN),s=[];for(let a=0;a<n.length;a++){const o=Zx(n[a],e);if(s.push(o),o.type==="error")break}return s};function yz(){return new TransformStream({transform(t,e){hz(t,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let Hp;function yd(t){return t.reduce((e,n)=>e+n.length,0)}function bd(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let a=0;a<e;a++)n[a]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function bz(t,e){Hp||(Hp=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(l,u){for(n.push(l);;){if(s===0){if(yd(n)<1)break;const f=bd(n,1);o=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(yd(n)<2)break;const f=bd(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(yd(n)<8)break;const f=bd(n,8),m=new DataView(f.buffer,f.byteOffset,f.length),p=m.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(Cg);break}a=p*Math.pow(2,32)+m.getUint32(4),s=3}else{if(yd(n)<a)break;const f=bd(n,a);u.enqueue(Zx(o?f:Hp.decode(f),e)),s=0}if(a===0||a>t){u.enqueue(Cg);break}}}})}const sN=4;function Lt(t){if(t)return vz(t)}function vz(t){for(var e in Lt.prototype)t[e]=Lt.prototype[e];return t}Lt.prototype.on=Lt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Lt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Lt.prototype.off=Lt.prototype.removeListener=Lt.prototype.removeAllListeners=Lt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===e||s.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Lt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,e)}return this};Lt.prototype.emitReserved=Lt.prototype.emit;Lt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Lt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ch=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Kn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_z="arraybuffer";function iN(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const wz=Kn.setTimeout,Sz=Kn.clearTimeout;function Ah(t,e){e.useNativeTimers?(t.setTimeoutFn=wz.bind(Kn),t.clearTimeoutFn=Sz.bind(Kn)):(t.setTimeoutFn=Kn.setTimeout.bind(Kn),t.clearTimeoutFn=Kn.clearTimeout.bind(Kn))}const jz=1.33;function kz(t){return typeof t=="string"?Nz(t):Math.ceil((t.byteLength||t.size)*jz)}function Nz(t){let e=0,n=0;for(let s=0,a=t.length;s<a;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function aN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Mz(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Tz(t){let e={},n=t.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class Dz extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class Qx extends Lt{constructor(e){super(),this.writable=!1,Ah(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new Dz(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Zx(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Mz(e);return n.length?"?"+n:""}}class Cz extends Qx{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};xz(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,gz(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=aN()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let rN=!1;try{rN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Az=rN;function Ez(){}class Oz extends Cz{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class Ds extends Lt{constructor(e,n,s){super(),this.createRequest=e,Ah(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=iN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Ds.requestsCount++,Ds.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ez,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ds.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ds.requestsCount=0;Ds.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ow);else if(typeof addEventListener=="function"){const t="onpagehide"in Kn?"pagehide":"unload";addEventListener(t,Ow,!1)}}function Ow(){for(let t in Ds.requests)Ds.requests.hasOwnProperty(t)&&Ds.requests[t].abort()}const Rz=(function(){const t=oN({xdomain:!1});return t&&t.responseType!==null})();class Lz extends Oz{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Rz&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ds(oN,this.uri(),e)}}function oN(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Az))return new XMLHttpRequest}catch{}if(!e)try{return new Kn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const lN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zz extends Qx{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=lN?{}:iN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;Kx(s,this.supportsBinary,o=>{try{this.doWrite(s,o)}catch{}a&&Ch(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=aN()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Up=Kn.WebSocket||Kn.MozWebSocket;class Pz extends zz{createSocket(e,n,s){return lN?new Up(e,n,s):n?new Up(e,n):new Up(e)}doWrite(e,n){this.ws.send(n)}}class Bz extends Qx{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=bz(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),a=yz();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const o=()=>{s.read().then(({done:u,value:f})=>{u||(this.onPacket(f),o())}).catch(u=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;this._writer.write(s).then(()=>{a&&Ch(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Vz={websocket:Pz,webtransport:Bz,polling:Lz},Fz=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Hz=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ag(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let a=Fz.exec(t||""),o={},l=14;for(;l--;)o[Hz[l]]=a[l]||"";return n!=-1&&s!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Uz(o,o.path),o.queryKey=Yz(o,o.query),o}function Uz(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Yz(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}const Eg=typeof addEventListener=="function"&&typeof removeEventListener=="function",Dd=[];Eg&&addEventListener("offline",()=>{Dd.forEach(t=>t())},!1);class ia extends Lt{constructor(e,n){if(super(),this.binaryType=_z,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=Ag(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Ag(n.host).host);Ah(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Tz(this.opts.query)),Eg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Dd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=sN,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ia.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",ia.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=kz(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ch(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:e,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(ia.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Eg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Dd.indexOf(this._offlineEventListener);s!==-1&&Dd.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}ia.protocol=sN;class Wz extends ia{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;ia.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",x=>{if(!s)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ia.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const l=x=>{const b=new Error("probe error: "+x);b.transport=n.name,o(),this.emitReserved("upgradeError",b)};function u(){l("transport closed")}function f(){l("socket closed")}function m(x){n&&x.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",l),n.removeListener("close",u),this.off("close",f),this.off("upgrading",m)};n.once("open",a),n.once("error",l),n.once("close",u),this.once("close",f),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let Iz=class extends Wz{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>Vz[a]).filter(a=>!!a)),super(e,s)}};function qz(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=Ag(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+e,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const Gz=typeof ArrayBuffer=="function",$z=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,cN=Object.prototype.toString,Xz=typeof Blob=="function"||typeof Blob<"u"&&cN.call(Blob)==="[object BlobConstructor]",Kz=typeof File=="function"||typeof File<"u"&&cN.call(File)==="[object FileConstructor]";function Jx(t){return Gz&&(t instanceof ArrayBuffer||$z(t))||Xz&&t instanceof Blob||Kz&&t instanceof File}function Cd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Cd(t[n]))return!0;return!1}if(Jx(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Cd(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Cd(t[n]))return!0;return!1}function Zz(t){const e=[],n=t.data,s=t;return s.data=Og(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Og(t,e){if(!t)return t;if(Jx(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Og(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Og(t[s],e));return n}return t}function Qz(t,e){return t.data=Rg(t.data,e),delete t.attachments,t}function Rg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Rg(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Rg(t[n],e));return t}const uN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Jz=5;var Ae;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ae||(Ae={}));class eP{constructor(e){this.replacer=e}encode(e){return(e.type===Ae.EVENT||e.type===Ae.ACK)&&Cd(e)?this.encodeAsBinary({type:e.type===Ae.EVENT?Ae.BINARY_EVENT:Ae.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ae.BINARY_EVENT||e.type===Ae.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Zz(e),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}class e0 extends Lt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Ae.BINARY_EVENT;s||n.type===Ae.BINARY_ACK?(n.type=s?Ae.EVENT:Ae.ACK,this.reconstructor=new tP(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Jx(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Ae[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ae.BINARY_EVENT||s.type===Ae.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const l=e.substring(o,n);if(l!=Number(l)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(o,n)}else s.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const l=e.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===e.length)break}s.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(e0.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ae.CONNECT:return ih(n);case Ae.DISCONNECT:return n===void 0;case Ae.CONNECT_ERROR:return typeof n=="string"||ih(n);case Ae.EVENT:case Ae.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&uN.indexOf(n[0])===-1);case Ae.ACK:case Ae.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tP{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Qz(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function nP(t){return typeof t=="string"}const sP=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function iP(t){return t===void 0||sP(t)}function ih(t){return Object.prototype.toString.call(t)==="[object Object]"}function aP(t,e){switch(t){case Ae.CONNECT:return e===void 0||ih(e);case Ae.DISCONNECT:return e===void 0;case Ae.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&uN.indexOf(e[0])===-1);case Ae.ACK:return Array.isArray(e);case Ae.CONNECT_ERROR:return typeof e=="string"||ih(e);default:return!1}}function rP(t){return nP(t.nsp)&&iP(t.id)&&aP(t.type,t.data)}const oP=Object.freeze(Object.defineProperty({__proto__:null,Decoder:e0,Encoder:eP,get PacketType(){return Ae},isPacketValid:rP,protocol:Jz},Symbol.toStringTag,{value:"Module"}));function ls(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const lP=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class dN extends Lt{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ls(e,"open",this.onopen.bind(this)),ls(e,"packet",this.onpacket.bind(this)),ls(e,"error",this.onerror.bind(this)),ls(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,a,o;if(lP.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:Ae.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,x=n.pop();this._registerAckCallback(p,x),l.id=p}const u=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,f=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!u||(f?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},a),l=(...u)=>{this.io.clearTimeoutFn(o),n.apply(this,u)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...n){return new Promise((s,a)=>{const o=(l,u)=>l?a(l):s(u);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...o)=>(this._queue[0],a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ae.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ae.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ae.EVENT:case Ae.BINARY_EVENT:this.onevent(e);break;case Ae.ACK:case Ae.BINARY_ACK:this.onack(e);break;case Ae.DISCONNECT:this.ondisconnect();break;case Ae.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Ae.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function jo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}jo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};jo.prototype.reset=function(){this.attempts=0};jo.prototype.setMin=function(t){this.ms=t};jo.prototype.setMax=function(t){this.max=t};jo.prototype.setJitter=function(t){this.jitter=t};class Lg extends Lt{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ah(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new jo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||oP;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Iz(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=ls(n,"open",function(){s.onopen(),e&&e()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},l=ls(n,"error",o);if(this._timeout!==!1){const u=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},u);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ls(e,"ping",this.onping.bind(this)),ls(e,"data",this.ondata.bind(this)),ls(e,"error",this.onerror.bind(this)),ls(e,"close",this.onclose.bind(this)),ls(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Ch(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new dN(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ol={};function Ad(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=qz(t,e.path||"/socket.io"),s=n.source,a=n.id,o=n.path,l=Ol[a]&&o in Ol[a].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let f;return u?f=new Lg(s,e):(Ol[a]||(Ol[a]=new Lg(s,e)),f=Ol[a]),n.query&&!e.query&&(e.query=n.queryKey),f.socket(n.path,e)}Object.assign(Ad,{Manager:Lg,Socket:dN,io:Ad,connect:Ad});let Gr=null;const cP=()=>{if(!Gr){let t=window.location.pathname;t.endsWith("/")||(t=t.substring(0,t.lastIndexOf("/")+1));const e=(t+"socket.io").replace(/\/\//g,"/");console.log(` WebSocket initializing at path: ${e}`),Gr=Ad({path:e,transports:["polling","websocket"],autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),Gr.on("connect",()=>{console.log(" Connected to Darkstar WebSocket")}),Gr.on("disconnect",n=>{console.warn(" Disconnected from Darkstar WebSocket:",n)}),Gr.on("connect_error",n=>{console.error(" WebSocket connection error:",n)})}return Gr},no=(t,e)=>{k.useEffect(()=>{const n=cP();return n.on(t,e),()=>{n.off(t,e)}},[t,e])};function Rw(t){if(!t)return"";const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${e}-${n}-${s} ${a}:${o}`}function uP(){const[t,e]=k.useState(null),[n,s]=k.useState(!1),[a,o]=k.useState(null),[l,u]=k.useState(0),[f,m]=k.useState(null),[p,x]=k.useState(!1),[b,v]=k.useState(null),[w,S]=k.useState(null),[j,N]=k.useState(null),[T,A]=k.useState(null),[C,R]=k.useState(null),[D,E]=k.useState(null),[z,V]=k.useState(null),[X,G]=k.useState(null),[ne,pe]=k.useState(null),[re,ue]=k.useState("local"),[H,$]=k.useState(0),[ie,te]=k.useState(null),[le,L]=k.useState(0),[U,J]=k.useState(null),[O,ee]=k.useState(0),[ce,Te]=k.useState(!1),[yt,$e]=k.useState(!1),[wn,Ln]=k.useState(""),[he,Ke]=k.useState(1),[bt,vi]=k.useState(!1),[ps,Ue]=k.useState([]),[Kt,To]=k.useState({});no("live_metrics",oe=>{console.log(" live_metrics received:",oe),oe.soc!==void 0&&e(oe.soc),To(Ee=>({...Ee,pv_kw:oe.pv_kw??Ee.pv_kw,load_kw:oe.load_kw??Ee.load_kw,battery_kw:oe.battery_kw??Ee.battery_kw,grid_kw:oe.grid_kw??Ee.grid_kw,water_kw:oe.water_kw??Ee.water_kw}))}),no("plan_updated",()=>{console.log(" Plan updated! Refreshing data..."),gs()}),no("executor_status",oe=>{R({shadow_mode:oe.shadow_mode??!1,paused:oe.paused??null})}),no("ha_entity_change",oe=>{if(oe.entity_id===wn){const Ee=oe.state==="on";$e(Ee)}}),k.useEffect(()=>{const oe=async()=>{try{const Ee=await me.config();if(Ee){const rt=Ee.water_heating?.vacation_mode;Te(rt?.enabled||!1)}}catch(Ee){console.log("Failed to reload vacation mode:",Ee)}};return window.addEventListener("config-updated",oe),()=>window.removeEventListener("config-updated",oe)},[]);const tr=k.useCallback(oe=>{ue(oe)},[]),nr=k.useCallback(oe=>{if(!oe||oe.length===0){Ue([]);return}me.scheduleTodayWithHistory().then(Ee=>{const rt=Ee.slots??[],zt=new Map;rt.forEach(Qt=>{Qt.start_time&&zt.set(String(Qt.start_time),Qt)});const Sn=oe.map(Qt=>{const un=Qt.start_time,xs=un?zt.get(String(un)):void 0;if(!xs)return Qt;const ys={...Qt};return xs.soc_actual_percent!=null&&(ys.soc_actual_percent=xs.soc_actual_percent),xs.is_executed===!0&&(ys.is_executed=!0),ys});Ue(Sn)}).catch(Ee=>{console.error("Failed to merge history into server schedule:",Ee),Ue(oe??[])}).finally(()=>{})},[]),gs=k.useCallback(async()=>{s(!0);try{const[oe,Ee,rt,zt,Sn,Qt,un,xs,ys]=await Promise.allSettled([me.status(),me.config(),me.haAverage(),me.schedule(),me.haWaterToday(),me.schedulerStatus(),me.scheduleTodayWithHistory(),me.executor.status(),me.energyToday()]);if(oe.status==="fulfilled"){const xe=oe.value;xe.current_soc?.value!==void 0&&e(xe.current_soc.value),xe.local&&V(xe.local),xe.db&&!("error"in xe.db)&&G(xe.db)}if(Ee.status==="fulfilled"){const xe=Ee.value,ss=xe.arbitrage||{};if(vi(ss.export_guard_enabled||!1),typeof ss.risk_appetite=="number"&&Ke(ss.risk_appetite),xe.system?.battery?.capacity_kwh!=null&&$(xe.system.battery.capacity_kwh),xe.automation){const Jt=xe.automation;m({enable_scheduler:Jt.enable_scheduler,write_to_mariadb:Jt.write_to_mariadb,external_executor_mode:Jt.external_executor_mode,every_minutes:Jt.schedule?.every_minutes??null})}else m(null);xe.water_heating&&(typeof xe.water_heating.comfort_level=="number"&&ee(xe.water_heating.comfort_level),typeof xe.water_heating.vacation_mode?.enabled=="boolean"&&Te(xe.water_heating.vacation_mode.enabled)),xe.input_sensors?.vacation_mode&&(Ln(xe.input_sensors.vacation_mode),me.haEntityState(xe.input_sensors.vacation_mode).then(Jt=>{const wi=Jt.state==="on";$e(wi)}).catch(()=>{$e(!1)}))}else console.error("Failed to load config for Dashboard:",Ee.reason);if(rt.status==="fulfilled"){const xe=rt.value;te({kw:xe.average_load_kw??0,dailyKwh:xe.daily_kwh??0})}else console.error("Failed to load HA average for Dashboard:",rt.reason);if(zt.status==="fulfilled"){const xe=zt.value,ss=xe.schedule??[];S(ss),xe.meta?.last_error?A({message:xe.meta.last_error,at:xe.meta.last_error_at||""}):A(null);const Jt=new Date,wi=ss.find(Vc=>{const rr=new Date(Vc.start_time||""),Eo=new Date(rr.getTime()+1800*1e3);return Jt>=rr&&Jt<Eo});wi?.soc_target_percent!==void 0&&L(wi.soc_target_percent)}else console.error("Failed to load schedule for Dashboard:",zt.reason);if(Sn.status==="fulfilled"){const xe=Sn.value;J({kwh:xe.water_kwh_today??0,source:xe.source??"unknown"})}else console.error("Failed to load water data for Dashboard:",Sn.reason);if(Qt.status==="fulfilled"){const xe=Qt.value;v({last_run_at:xe.last_run_at??null,last_run_status:xe.last_run_status??null,next_run_at:xe.next_run_at??null})}else console.error("Failed to load scheduler status for Dashboard:",Qt.reason);if(un.status==="fulfilled"){const ss=un.value.slots??[];N(ss)}else console.error("Failed to load schedule history for Dashboard:",un.reason);let ar=0;if(un.status==="fulfilled"&&un.value.slots){const xe=new Date;xe.setHours(0,0,0,0),un.value.slots.filter(Jt=>new Date(Jt.start_time)>=xe).forEach(Jt=>{ar+=Jt.pv_forecast_kwh??0})}if(xs.status==="fulfilled"){const xe=xs.value;R({shadow_mode:xe.shadow_mode??!1,paused:xe.paused??null})}else console.error("Failed to load executor status for Dashboard:",xs.reason);if(ys.status==="fulfilled"){const xe=ys.value;E({gridImport:xe.grid_import_kwh,gridExport:xe.grid_export_kwh,batteryCycles:xe.battery_cycles,pvProduction:xe.pv_production_kwh,pvForecast:Math.round(ar*10)/10,loadConsumption:xe.load_consumption_kwh,netCost:xe.net_cost_kr})}else console.error("Failed to load energy today for Dashboard:",ys.reason);o(new Date)}catch(oe){console.error("Error fetching dashboard data:",oe)}finally{s(!1),u(oe=>oe+1)}},[]);k.useEffect(()=>{let oe=null;re==="server"?oe=X:oe=z,pe(oe)},[re,z,X]),k.useEffect(()=>{gs()},[gs]);const Ih=async()=>{if(p)return;const Ee=!(f?.enable_scheduler??!1);x(!0);try{await me.configSave({automation:{enable_scheduler:Ee}}),m(rt=>({enable_scheduler:Ee,write_to_mariadb:rt?.write_to_mariadb,external_executor_mode:rt?.external_executor_mode,every_minutes:rt?.every_minutes??null}))}catch(rt){console.error("Failed to toggle planner automation:",rt)}finally{x(!1)}},[Zt,sr]=k.useState(!1),[Do,ts]=k.useState(null),ir=async()=>{sr(!0),ts(null);try{const oe=await me.loadServerPlan();nr(oe.schedule??[]),tr("server"),ts({type:"success",message:"Plan loaded from DB"})}catch(oe){ts({type:"error",message:oe instanceof Error?oe.message:"Load failed"})}finally{sr(!1),setTimeout(()=>ts(null),3e3)}},qh=async()=>{sr(!0),ts(null);try{await me.pushToDb(),ts({type:"success",message:"Plan pushed to DB"}),gs()}catch(oe){ts({type:"error",message:oe instanceof Error?oe.message:"Push failed"})}finally{sr(!1),setTimeout(()=>ts(null),3e3)}};let Rs;if(re==="server"&&ps&&ps.length>0)Rs=ps;else if(re==="local"&&w&&w.length>0){const oe=w.filter(Ee=>px(Ee.start_time)||Kd(Ee.start_time));if(j&&j.length>0){const Ee=oe.filter(rt=>Kd(rt.start_time));Rs=[...j,...Ee]}else Rs=oe}const Co=new Date;let Pc=re==="server"?"Server Plan":"Local Plan";ne?.planned_at&&(Pc=`Generated ${new Date(ne.planned_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`);let _i="";if(Rs){const oe=Rs.find(Ee=>{const rt=new Date(Ee.start_time),zt=new Date(rt.getTime()+1800*1e3);return Co>=rt&&Co<zt});if(oe){const Ee=new Date(new Date(oe.start_time).getTime()+18e5),rt=Math.max(0,Math.floor((Ee.getTime()-Co.getTime())/6e4));let zt="Idle";(oe.charge_kw||0)>.1?zt=`Charge ${oe.charge_kw?.toFixed(1)}kW`:(oe.discharge_kw||0)>.1?zt=`Discharge ${oe.discharge_kw?.toFixed(1)}kW`:(oe.export_kwh||0)>.1?zt=`Export ${oe.export_kwh?.toFixed(1)}kWh`:(oe.water_heating_kw||0)>.1&&(zt="Heat Water"),_i=`  Next: ${zt} (${rt}m)`}}const cn=`${Pc}${_i}`,ns=b?.last_run_at||z?.planned_at||X?.planned_at,Yt=ns?new Date(ns):null,Bc=f?.every_minutes&&f.every_minutes>0?f.every_minutes:null;let Ao=null;return b?.next_run_at?Ao=new Date(b.next_run_at):f?.enable_scheduler&&Yt&&Bc&&(Ao=new Date(Yt.getTime()+Bc*60*1e3)),d.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-6 sm:px-6 lg:pt-10 space-y-6",children:[T&&d.jsx(Dt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-error p-4",children:d.jsxs("div",{className:"flex items-start justify-between gap-4 w-full",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-sm mb-1",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Planner Error"})]}),d.jsx("div",{className:"opacity-80 text-xs",children:T.message}),T.at&&d.jsx("div",{className:"opacity-60 text-[10px] mt-1",children:new Date(T.at).toLocaleString()})]}),d.jsx("button",{onClick:()=>A(null),className:"opacity-60 hover:opacity-100 text-xs px-2 py-1",title:"Dismiss",children:""})]})}),C?.shadow_mode&&d.jsxs(Dt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-purple px-4 py-3",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-medium",children:"Shadow Mode Active"}),d.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Actions logged but not executed on Home Assistant"})]}),C?.paused&&d.jsxs(Dt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-medium",children:"Executor Paused (Idle Mode)"}),C.paused.paused_minutes!==void 0&&d.jsxs("span",{className:"opacity-70 text-xs ml-2",children:[" Paused for ",C.paused.paused_minutes," minutes"]})]}),(ce||yt)&&d.jsxs(Dt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-medium",children:"Vacation Mode Active"}),d.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Water heating is disabled"})]}),d.jsx(Dt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsx(wj,{useHistoryForToday:re==="local",refreshToken:l,slotsOverride:Rs,range:"48h",showDayToggle:!0})}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-stretch",children:[d.jsx(Dt.div,{className:"h-full flex flex-col gap-4",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsx("div",{className:"flex-1 min-h-0",children:d.jsx(rz,{powerFlowData:{solar:{kw:Kt.pv_kw??0,todayKwh:D?.pvProduction??void 0},battery:{kw:Kt.battery_kw??0,soc:t??50},grid:{kw:Kt.grid_kw??0,importKwh:D?.gridImport??void 0,exportKwh:D?.gridExport??void 0},house:{kw:Kt.load_kw??0,todayKwh:D?.loadConsumption??void 0},water:{kw:Kt.water_kw??0}}})})}),d.jsx(Dt.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsx(dz,{comfortLevel:O,setComfortLevel:async oe=>{ee(oe),await me.configSave({water_heating:{comfort_level:oe}})},riskAppetite:he,setRiskAppetite:async oe=>{Ke(oe),await me.configSave({s_index:{risk_appetite:oe}})},vacationMode:ce,onWaterBoost:async()=>{try{await me.waterBoost.start(60),gs()}catch(oe){console.error("Boost failed",oe)}},onBatteryTopUp:async()=>{try{await me.executor.quickAction.set("force_charge",60),gs()}catch(oe){console.error("Top Up failed",oe)}}})}),d.jsx(Dt.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsxs("div",{className:"flex h-full flex-col gap-6",children:[d.jsx(Ne,{className:"flex-1 p-4 md:p-5",children:d.jsx(CO,{onDataRefresh:gs,onPlanSourceChange:tr,onServerScheduleLoaded:nr,onVacationModeChange:oe=>Te(oe)})}),d.jsxs(Ne,{className:"flex-1 p-4 md:p-5",children:[d.jsxs("div",{className:"flex items-baseline justify-between mb-4",children:[d.jsx("div",{className:"text-sm font-medium text-text",children:"Planner Automation"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted",children:[d.jsx("span",{className:`inline-flex h-2 w-2 rounded-full ${f?.enable_scheduler?"bg-good shadow-[0_0_0_2px_rgba(var(--color-good),0.4)]":"bg-line"}`}),d.jsx("span",{children:f?.enable_scheduler?"Active":"Disabled"})]}),d.jsx("button",{type:"button",onClick:Ih,disabled:p,className:"rounded-pill px-2 py-0.5 text-[10px] font-semibold border border-line/60 text-muted hover:border-accent hover:text-accent disabled:opacity-50 transition",children:f?.enable_scheduler?"Disable":"Enable"})]})]}),d.jsxs("div",{className:"mb-4 p-2 rounded-lg bg-surface2/30 border border-line/30 flex items-center justify-between",children:[d.jsx("div",{className:"text-[10px] font-medium text-text",children:cn}),d.jsx("button",{onClick:()=>gs(),disabled:n,className:`rounded-full p-1 transition ${n?"bg-surface2 text-muted":"text-muted hover:text-accent"}`,title:"Manual sync",children:d.jsx("span",{className:`inline-block text-[10px] ${n?"animate-spin":""}`,children:n?"":""})})]}),d.jsxs("div",{className:"space-y-1 text-[10px] text-muted",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Last plan run:"}),d.jsx("span",{className:"font-mono",children:Rw(Yt)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Next expected run:"}),d.jsx("span",{className:"font-mono",children:f?.enable_scheduler?Rw(Ao):""})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"DB sync:"}),d.jsx("span",{children:f?.write_to_mariadb?"enabled":"disabled"})]}),d.jsxs("div",{className:"flex justify-between pt-1 border-t border-line/30 mt-1",children:[d.jsx("span",{children:"Dashboard Sync:"}),d.jsx("span",{children:a?a.toLocaleTimeString():""})]})]})]}),f?.external_executor_mode&&d.jsxs(Ne,{className:"flex-1 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[d.jsx("div",{className:"text-sm text-muted",children:"DB Sync"}),d.jsx("div",{className:`text-[10px] ${Do?.type==="success"?"text-good":"text-bad"}`,children:Do?.message})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[d.jsxs("button",{type:"button",onClick:ir,disabled:Zt,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Pull plan from MariaDB current_schedule table",children:[d.jsx(qg,{className:"h-4 w-4"}),d.jsx("span",{children:"Load from DB"})]}),d.jsxs("button",{type:"button",onClick:qh,disabled:Zt,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Push local schedule.json to MariaDB",children:[d.jsx(Gg,{className:"h-4 w-4"}),d.jsx("span",{children:"Push to DB"})]})]})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[d.jsx(lz,{netCost:D?.netCost??null,importKwh:D?.gridImport??null,exportKwh:D?.gridExport??null,exportGuard:bt}),d.jsx(cz,{pvActual:D?.pvProduction??null,pvForecast:D?.pvForecast??null,loadActual:D?.loadConsumption??null,loadAvg:ie?.dailyKwh??null,waterKwh:U?.kwh??null,batteryCapacity:H}),d.jsx(uz,{soc:t,socTarget:le,sIndex:ne?.s_index?.effective_load_margin??null,cycles:D?.batteryCycles??null,riskLabel:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[he]||"Neutral"})]})]})}function dP(){const[t,e]=k.useState([]),[n,s]=k.useState(!1),[a,o]=k.useState(null),[l,u]=k.useState("all"),[f,m]=k.useState("all"),[p,x]=k.useState(null),[b,v]=k.useState(null),[w,S]=k.useState("today"),j=k.useRef(null),N=k.useRef(null);k.useEffect(()=>{s(!0),o(null),me.debugLogs().then(R=>e(R.logs??[])).catch(R=>{console.error("Failed to fetch debug logs:",R),o("Failed to load logs")}).finally(()=>s(!1))},[]),k.useEffect(()=>{(()=>{v(null);let R="today";if(w==="yesterday"){const D=new Date;D.setDate(D.getDate()-1),R=D.toISOString().slice(0,10)}me.historySoc(R).then(D=>x(D)).catch(D=>{console.error("Failed to fetch historic SoC:",D),v("Failed to load SoC history")})})()},[w]);const T=t.filter(C=>{if(l==="all")return!0;const R=(C.level||"").toUpperCase();return l==="error"?R==="ERROR"||R==="CRITICAL":R==="WARN"||R==="WARNING"||R==="ERROR"||R==="CRITICAL"}).filter(C=>{if(f==="all")return!0;const R=new Date(C.timestamp).getTime();if(Number.isNaN(R))return!0;const E=Date.now()-R,z=3600*1e3;return f==="1h"?E<=z:f==="6h"?E<=6*z:f==="24h"?E<=24*z:!0}),A=t.filter(C=>{const R=(C.level||"").toUpperCase();return R==="ERROR"||R==="CRITICAL"});return k.useEffect(()=>{if(!j.current)return;const C=p?.slots??[];if(!C.length){N.current&&(N.current.destroy(),N.current=null);return}const R=C.map(V=>{const X=new Date(V.timestamp);return Number.isNaN(X.getTime())?"":X.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}),D=C.map(V=>V.soc_percent??0),E={labels:R,datasets:[{type:"line",label:"SoC (%)",data:D,borderColor:"rgba(129, 200, 253, 0.9)",backgroundColor:"rgba(129, 200, 253, 0.15)",pointRadius:0,tension:.25}]},z={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:V=>`SoC: ${V.parsed.y?.toFixed(1)??"--"}%`}}},scales:{x:{ticks:{color:"#a6b0bf",maxRotation:0},grid:{display:!1}},y:{ticks:{color:"#a6b0bf",stepSize:10},grid:{color:"rgba(255,255,255,0.06)"},beginAtZero:!0,suggestedMax:100}}};if(N.current){N.current.data=E,N.current.options=z,N.current.update();return}return N.current=new fs(j.current,{type:"line",data:E,options:z}),()=>{N.current&&(N.current.destroy(),N.current=null)}},[p]),d.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-8 sm:px-6 lg:pt-12",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"text-sm text-muted",children:"Debug & Diagnostics"}),d.jsx("div",{className:"text-[13px] text-muted/80",children:"Logs and SoC history to understand what the planner has been doing recently."})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[d.jsxs(Ne,{className:"p-5 lg:col-span-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"text-sm text-muted",children:"Logs"}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[d.jsx("button",{className:"rounded-pill border border-line/60 px-3 py-1 hover:border-accent disabled:opacity-40",onClick:()=>{s(!0),o(null),me.debugLogs().then(C=>e(C.logs??[])).catch(C=>{console.error("Failed to refresh debug logs:",C),o("Failed to refresh logs")}).finally(()=>s(!1))},disabled:n,children:n?"Refreshing":"Refresh"}),d.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:f,onChange:C=>m(C.target.value),children:[d.jsx("option",{value:"all",children:"All time"}),d.jsx("option",{value:"1h",children:"Last 1 hour"}),d.jsx("option",{value:"6h",children:"Last 6 hours"}),d.jsx("option",{value:"24h",children:"Last 24 hours"})]}),d.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:l,onChange:C=>u(C.target.value),children:[d.jsx("option",{value:"all",children:"All levels"}),d.jsx("option",{value:"warn_error",children:"Warn + Error"}),d.jsx("option",{value:"error",children:"Errors only"})]})]})]}),a&&d.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:a}),d.jsxs("div",{className:"h-64 overflow-auto rounded-xl2 border border-line/60 bg-surface2/40 text-[11px] font-mono text-muted/90",children:[T.length===0&&!n&&!a&&d.jsx("div",{className:"px-3 py-2 text-muted/70",children:"No logs captured yet."}),T.map((C,R)=>d.jsxs("div",{className:"px-3 py-1.5 border-b border-line/20 last:border-b-0",children:[d.jsx("span",{className:"text-muted/60 mr-2",children:new Date(C.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),d.jsx("span",{className:"mr-2 rounded-full px-1.5 py-0.5 text-[10px] uppercase tracking-wide border border-line/50",children:C.level}),d.jsx("span",{className:"text-muted/70 mr-2",children:C.logger}),d.jsx("span",{children:C.message})]},`${C.timestamp}-${R}`))]})]}),d.jsxs(Ne,{className:"p-5 lg:col-span-1",children:[d.jsx("div",{className:"text-sm text-muted mb-3",children:"Recent events"}),d.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"Quick view of recent errors and warnings from the log stream."}),d.jsxs("div",{className:"space-y-2 text-[12px] text-muted/90",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Total log entries"}),d.jsx("span",{className:"tabular-nums",children:t.length})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Error/critical entries"}),d.jsx("span",{className:"tabular-nums",children:A.length})]}),d.jsx("div",{className:"mt-3 text-[11px] text-muted/70 uppercase tracking-wide",children:"Last errors"}),d.jsxs("div",{className:"space-y-1.5 max-h-40 overflow-auto",children:[A.slice(-5).map((C,R)=>d.jsxs("div",{className:"rounded-md bg-rose-500/5 border border-rose-500/40 px-2 py-1.5",children:[d.jsxs("div",{className:"text-[10px] text-rose-200/80 mb-0.5",children:[new Date(C.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})," "," ",C.logger]}),d.jsx("div",{className:"text-[11px] text-rose-50/90 line-clamp-2",children:C.message})]},`${C.timestamp}-err-${R}`)),A.length===0&&d.jsx("div",{className:"text-[11px] text-muted/70",children:"No error-level entries yet."})]})]})]})]}),d.jsx("div",{className:"grid gap-6 mt-6 lg:grid-cols-3",children:d.jsxs(Ne,{className:"p-5 lg:col-span-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"text-sm text-muted",children:"Historical SoC"}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[d.jsx("span",{className:"text-muted/70",children:"Range"}),d.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:w,onChange:C=>S(C.target.value),children:[d.jsx("option",{value:"today",children:"Today"}),d.jsx("option",{value:"yesterday",children:"Yesterday"})]})]})]}),d.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"SoC (%) over the selected day from the learning database. Use this to correlate planner behaviour with actual SoC movement."}),b&&d.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:b}),d.jsx("div",{className:"h-48",children:d.jsx("canvas",{ref:j,className:"w-full h-full"})})]})})]})}const hN=k.createContext(void 0);function t0(){const t=k.useContext(hN);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t}function fN(t,e){return e.reduce((n,s)=>n&&typeof n=="object"?n[s]:void 0,t)}function mN(t,e,n){if(e.length===0)return t;const[s,...a]=e;if(a.length===0)return{...t,[s]:n};const o=t[s]||{};return{...t,[s]:mN(o,a,n)}}function hP(t,e){const n=e.trim();if(t.type==="number"||t.type==="azimuth"||t.type==="tilt"){if(n==="")return null;const s=Number(n);return Number.isNaN(s)?void 0:s}return t.type==="boolean"?n==="true":t.type==="array"?n?n.split(",").map(s=>s.trim()).filter(Boolean).map(s=>{const a=Number(s);return Number.isNaN(a)?s:a}):[]:n}function Lw(t,e){const n={};return t&&e.forEach(s=>{const a=fN(t,s.path);s.type==="boolean"?n[s.key]=a===!0?"true":"false":s.type==="array"&&Array.isArray(a)?n[s.key]=a.join(", "):n[s.key]=a!=null?String(a):""}),n}function zw(t,e,n){let s={};return n.forEach(a=>{const o=e[a.key];if(o===void 0)return;const l=hP(a,o);if(l===void 0||a.type==="number"&&l===null)return;const u=fN(t,a.path);((m,p,x)=>x==="array"?!Array.isArray(m)||!Array.isArray(p)||m.length!==p.length?!1:m.every((b,v)=>b===p[v]):m===p)(l,u,a.type)||(s=mN(s,a.path,l))}),s}function Eh(t){const{toast:e}=t0(),[n,s]=k.useState(null),[a,o]=k.useState({}),[l,u]=k.useState({}),[f,m]=k.useState(!0),[p,x]=k.useState(!1),[b,v]=k.useState(null),[w,S]=k.useState([]),[j,N]=k.useState(!1),T=k.useCallback(async()=>{m(!0),v(null);try{const V=await me.config();s(V),o(Lw(V,t)),u({})}catch(V){console.error("Failed to load configuration",V),v("Failed to load configuration: "+(V instanceof Error?V.message:"Unknown error"))}finally{m(!1)}},[t]),A=k.useCallback(async()=>{N(!0);try{const V=await me.haEntities();S(V.entities||[])}catch(V){console.error("Failed to load HA entities",V)}finally{N(!1)}},[]);k.useEffect(()=>{T(),A()},[T,A]);const C=k.useCallback((V,X,G)=>{const ne={},pe=X.trim();if(pe===""&&(V.includes("power_kw")||V.includes("capacity_kwh")))ne[V]="Required";else if(V.includes("percent")||V.includes("soc")){const H=Number(pe);Number.isNaN(H)?ne[V]="Must be a number":(H<0||H>100)&&(ne[V]="Must be between 0 and 100")}else if(V.includes("power_kw")||V.includes("sek")||V.includes("kwh")){const H=Number(pe);Number.isNaN(H)?ne[V]="Must be a number":H<0&&(ne[V]="Must be positive")}const re="battery.min_soc_percent",ue="battery.max_soc_percent";if(V===re||V===ue){const H=Number(V===re?pe:G[re]),$=Number(V===ue?pe:G[ue]);!Number.isNaN(H)&&!Number.isNaN($)&&H>=$&&(ne[re]="Min SoC must be less than max SoC",ne[ue]="Max SoC must be greater than min SoC")}return ne},[]),R=k.useCallback((V,X)=>{o(G=>{const ne={...G,[V]:X},pe=C(V,X,ne);return u(re=>{const ue={...re,...pe};return pe[V]||delete ue[V],V==="battery.min_soc_percent"&&!pe["battery.min_soc_percent"]&&delete ue["battery.max_soc_percent"],V==="battery.max_soc_percent"&&!pe["battery.max_soc_percent"]&&delete ue["battery.min_soc_percent"],ue}),ne}),v(null)},[C]),D=k.useCallback(()=>{n&&(o(Lw(n,t)),u({}),v(null))},[n,t]),E=k.useCallback(async V=>{if(!n)return!1;if(Object.keys(l).length>0)return v("Please fix validation errors before saving."),!1;const X={...zw(n,a,t),...V};if(Object.keys(X).length===0)return v("No changes detected."),!1;x(!0),v(null);try{const G=await me.configSave(X);if(G.status==="success")return e({message:"Settings saved successfully",variant:"success"}),await T(),!0;{const ne={};G.errors?.forEach(pe=>{pe.field&&(ne[pe.field]=pe.message)}),u(pe=>({...pe,...ne})),v(G.errors?.[0]?.message||"Save failed"),e({message:"Save failed",variant:"error"})}}catch(G){console.error("Save failed",G),v("Save failed: "+(G instanceof Error?G.message:"Unknown error")),e({message:"Save failed",variant:"error"})}finally{x(!1)}return!1},[n,a,t,l,T,e]),z=k.useMemo(()=>{if(!n)return!1;const V=zw(n,a,t);return Object.keys(V).length>0},[n,a,t]);return{config:n,form:a,fieldErrors:l,loading:f,saving:p,statusMessage:b,isDirty:z,haEntities:w,haLoading:j,handleChange:R,save:E,reset:D,reload:T,reloadEntities:A}}function fP({text:t,className:e=""}){const[n,s]=k.useState(!1);return t?d.jsxs("div",{className:`relative inline-block ${e}`,children:[d.jsx("button",{type:"button",className:"ml-1.5 text-muted/60 hover:text-accent transition-colors",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onFocus:()=>s(!0),onBlur:()=>s(!1),children:d.jsx(eC,{className:"w-3.5 h-3.5"})}),n&&d.jsxs("div",{className:"absolute z-50 w-64 p-2.5 text-xs bg-surface2 border border-line rounded-lg shadow-lg left-0 bottom-full mb-1.5",children:[d.jsx("div",{className:"text-muted leading-relaxed",children:t}),d.jsx("div",{className:"absolute w-2 h-2 bg-surface2 border-r border-b border-line transform rotate-45 left-3 -bottom-1"})]})]}):null}function mP({value:t,onChange:e}){const n=k.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t%360;return x<0&&(x+=360),x},[t]),[s,a]=k.useState(!1),o=x=>{const b=Math.round(x),v=[0,45,90,135,180,225,270,315];let w=b,S=1/0;for(const j of v){const N=Math.abs(b-j);N<S&&N<=7&&(S=N,w=j)}return w},l=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let T=Math.atan2(S,-j)*180/Math.PI;T<0&&(T+=360);const A=o(T);e(A)},u=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}l(x)},f=x=>{s&&l(x)},m=x=>{if(s){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},p=`rotate(${n} 24 24)`;return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:u,onPointerMove:f,onPointerUp:m,"aria-label":"Solar azimuth dial",role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":Math.round(n),children:d.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[d.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/60",strokeWidth:"2"}),d.jsx("g",{children:Array.from({length:12}).map((x,b)=>{const v=b*30,w=v%90===0,S=!w&&v%45===0,j=21,N=w?16:S?18:19,T=(v-90)*Math.PI/180,A=24+j*Math.cos(T),C=24+j*Math.sin(T),R=24+N*Math.cos(T),D=24+N*Math.sin(T),E=w||S?"stroke-line/80":"stroke-line/40",z=w?1.6:1;return d.jsx("line",{x1:A,y1:C,x2:R,y2:D,className:E,strokeWidth:z},v)})}),d.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"N"}),d.jsx("text",{x:"24",y:"45",textAnchor:"middle",className:"fill-muted text-[8px]",children:"S"}),d.jsx("text",{x:"43",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"E"}),d.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"W"}),d.jsxs("g",{transform:p,children:[d.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),d.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),d.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[d.jsxs("div",{className:"font-medium text-text",children:[Math.round(n),""]}),d.jsx("div",{children:"0 = North  90 = East  180 = South  270 = West"})]})]})}function pP({value:t,onChange:e}){const n=k.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t;return x<0&&(x=0),x>90&&(x=90),x},[t]),[s,a]=k.useState(!1),o=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let T=Math.atan2(S,-j)*180/Math.PI;T<0&&(T+=360),(T<270||T>360)&&(T>=0&&T<=135?T=360:T=270);let A=360-T;A<0&&(A=0),A>90&&(A=90);const C=Math.round(A/5)*5;e(C)},l=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}o(x)},u=x=>{s&&o(x)},f=x=>{if(s){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},p=`rotate(${k.useMemo(()=>360-n,[n])} 24 24)`;return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:l,onPointerMove:u,onPointerUp:f,"aria-label":"Solar tilt dial",role:"slider","aria-valuemin":0,"aria-valuemax":90,"aria-valuenow":Math.round(n),children:d.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[d.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/40",strokeWidth:"2"}),d.jsx("path",{d:"M3 24 A21 21 0 0 1 24 3",className:"fill-none stroke-accent/70",strokeWidth:"2.2"}),d.jsx("g",{children:Array.from({length:7}).map((x,b)=>{const v=b*15,w=360-v,S=21,j=v%30===0?18:19,N=(w-90)*Math.PI/180,T=24+S*Math.cos(N),A=24+S*Math.sin(N),C=24+j*Math.cos(N),R=24+j*Math.sin(N),D=v===0||v===90?"stroke-line/80":"stroke-line/60",E=v===0||v===90?1.6:1.2;return d.jsx("line",{x1:T,y1:A,x2:C,y2:R,className:D,strokeWidth:E},v)})}),d.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"0"}),d.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"90"}),d.jsxs("g",{transform:p,children:[d.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),d.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),d.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[d.jsxs("div",{className:"font-medium text-text",children:[Math.round(n),""]}),d.jsx("div",{children:"Drag along the arc: 0 = flat  90 = vertical panel"})]})]})}function gP({entities:t,value:e,onChange:n,placeholder:s="Select entity...",disabled:a=!1,loading:o=!1}){const[l,u]=k.useState(!1),[f,m]=k.useState(""),[p,x]=k.useState(0),b=k.useRef(null),v=k.useRef(null),w=k.useRef(null),S=t.find(D=>D.entity_id===e),j=k.useMemo(()=>{if(!f.trim())return t;const D=f.toLowerCase();return t.filter(E=>E.entity_id.toLowerCase().includes(D)||E.friendly_name.toLowerCase().includes(D))},[t,f]),N=k.useMemo(()=>{const D={};return j.forEach(E=>{const z=E.domain||E.entity_id.split(".")[0];D[z]||(D[z]=[]),D[z].push(E)}),D},[j]),T=k.useMemo(()=>{const D=[];return Object.values(N).forEach(E=>D.push(...E)),D},[N]);k.useEffect(()=>{x(0)},[j.length]),k.useEffect(()=>{const D=E=>{b.current&&!b.current.contains(E.target)&&(u(!1),m(""))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),k.useEffect(()=>{if(l&&w.current){const D=w.current.querySelector('[data-highlighted="true"]');D&&D.scrollIntoView({block:"nearest"})}},[p,l]);const A=D=>{n(D.entity_id),u(!1),m("")},C=D=>{if(!l){(D.key==="Enter"||D.key===" "||D.key==="ArrowDown")&&(D.preventDefault(),u(!0));return}switch(D.key){case"ArrowDown":D.preventDefault(),x(E=>Math.min(E+1,T.length-1));break;case"ArrowUp":D.preventDefault(),x(E=>Math.max(E-1,0));break;case"Enter":D.preventDefault(),T[p]&&A(T[p]);break;case"Escape":D.preventDefault(),u(!1),m("");break}},R=D=>{D.stopPropagation(),n(""),u(!1),m("")};return d.jsxs("div",{ref:b,className:"relative",children:[d.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(u(!l),l||setTimeout(()=>v.current?.focus(),0))},onKeyDown:C,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[d.jsx("span",{className:S?"text-text":"text-muted",children:o?"Loading...":S?.friendly_name||S?.entity_id||s}),d.jsxs("div",{className:"flex items-center gap-1",children:[e&&!a&&d.jsx("button",{type:"button",onClick:R,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:d.jsx(yo,{className:"h-3.5 w-3.5"})}),d.jsx(mh,{className:`h-4 w-4 text-muted transition-transform ${l?"rotate-180":""}`})]})]}),l&&d.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[d.jsx("div",{className:"p-2 border-b border-line",children:d.jsxs("div",{className:"relative",children:[d.jsx($g,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),d.jsx("input",{ref:v,type:"text",value:f,onChange:D=>m(D.target.value),onKeyDown:C,placeholder:"Search entities...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),d.jsx("div",{ref:w,className:"max-h-[240px] overflow-y-auto p-1",children:j.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No entities found"}):Object.entries(N).map(([D,E])=>d.jsxs("div",{className:"mb-1",children:[d.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:D}),E.map(z=>{const X=T.findIndex(ne=>ne.entity_id===z.entity_id)===p,G=z.entity_id===e;return d.jsxs("button",{type:"button","data-highlighted":X,onClick:()=>A(z),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${X?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${G?"font-medium":""}
                                                `,children:[d.jsx("div",{className:"truncate",children:z.friendly_name||z.entity_id}),d.jsx("div",{className:"text-[10px] text-muted truncate",children:z.entity_id})]},z.entity_id)})]},D))})]})]})}function xP({value:t,onChange:e,placeholder:n="Select service (e.g. notify.mobile_app)...",disabled:s=!1}){const[a,o]=k.useState(!1),[l,u]=k.useState(""),[f,m]=k.useState([]),[p,x]=k.useState(!1),[b,v]=k.useState(0),w=k.useRef(null),S=k.useRef(null),j=k.useRef(null);k.useEffect(()=>{a&&f.length===0&&!p&&(x(!0),me.haServices().then(E=>{m(E.services||[])}).catch(E=>{console.error("Failed to fetch HA services:",E)}).finally(()=>{x(!1)}))},[a,f.length,p]);const N=k.useMemo(()=>{if(!l.trim())return f;const E=l.toLowerCase();return f.filter(z=>z.toLowerCase().includes(E))},[f,l]),T=k.useMemo(()=>{const E={};return N.forEach(z=>{const V=z.split(".")[0]||"other";E[V]||(E[V]=[]),E[V].push(z)}),E},[N]),A=k.useMemo(()=>{const E=[];return Object.values(T).forEach(z=>E.push(...z)),E},[T]);k.useEffect(()=>{v(0)},[N.length]),k.useEffect(()=>{const E=z=>{w.current&&!w.current.contains(z.target)&&(o(!1),u(""))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),k.useEffect(()=>{if(a&&j.current){const E=j.current.querySelector('[data-highlighted="true"]');E&&E.scrollIntoView({block:"nearest"})}},[b,a]);const C=E=>{e(E),o(!1),u("")},R=E=>{if(!a){(E.key==="Enter"||E.key===" "||E.key==="ArrowDown")&&(E.preventDefault(),o(!0));return}switch(E.key){case"ArrowDown":E.preventDefault(),v(z=>Math.min(z+1,A.length-1));break;case"ArrowUp":E.preventDefault(),v(z=>Math.max(z-1,0));break;case"Enter":E.preventDefault(),A[b]&&C(A[b]);break;case"Escape":E.preventDefault(),o(!1),u("");break}},D=E=>{E.stopPropagation(),e(""),o(!1),u("")};return d.jsxs("div",{ref:w,className:"relative",children:[d.jsxs("button",{type:"button",disabled:s,onClick:()=>{s||(o(!a),a||setTimeout(()=>S.current?.focus(),0))},onKeyDown:R,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[d.jsx("span",{className:t?"text-text":"text-muted",children:p&&f.length===0?"Loading services...":t||n}),d.jsxs("div",{className:"flex items-center gap-1",children:[t&&!s&&d.jsx("button",{type:"button",onClick:D,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:d.jsx(yo,{className:"h-3.5 w-3.5"})}),d.jsx(mh,{className:`h-4 w-4 text-muted transition-transform ${a?"rotate-180":""}`})]})]}),a&&d.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[d.jsx("div",{className:"p-2 border-b border-line",children:d.jsxs("div",{className:"relative",children:[d.jsx($g,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),d.jsx("input",{ref:S,type:"text",value:l,onChange:E=>u(E.target.value),onKeyDown:R,placeholder:"Search services...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),d.jsx("div",{ref:j,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:p&&f.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted animate-pulse",children:"Loading from Home Assistant..."}):N.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No services found"}):Object.entries(T).map(([E,z])=>d.jsxs("div",{className:"mb-1",children:[d.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:E}),z.map(V=>{const G=A.indexOf(V)===b,ne=V===t;return d.jsx("button",{type:"button","data-highlighted":G,onClick:()=>C(V),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${G?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${ne?"font-medium":""}
                                                `,children:d.jsx("div",{className:"truncate",children:V})},V)})]},E))})]})]})}function pN({value:t,onChange:e,options:n,placeholder:s="Select...",disabled:a=!1,className:o="",searchable:l=!1}){const[u,f]=k.useState(!1),[m,p]=k.useState(""),[x,b]=k.useState(0),v=k.useRef(null),w=k.useRef(null),S=k.useRef(null),j=n.find(D=>D.value===t),N=k.useMemo(()=>{if(!m.trim())return n;const D=m.toLowerCase();return n.filter(E=>E.label.toLowerCase().includes(D)||E.value.toLowerCase().includes(D)||E.group?.toLowerCase().includes(D))},[n,m]),T=k.useMemo(()=>{const D={},E=[];return N.forEach(z=>{z.group?(D[z.group]||(D[z.group]=[]),D[z.group].push(z)):E.push(z)}),{groups:D,noGroup:E}},[N]),A=k.useMemo(()=>[...T.noGroup,...Object.values(T.groups).flat()],[T]);k.useEffect(()=>{b(0)},[N.length,u]),k.useEffect(()=>{const D=E=>{v.current&&!v.current.contains(E.target)&&(f(!1),p(""))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),k.useEffect(()=>{if(u&&S.current){const D=S.current.querySelector(`[data-index="${x}"]`);D&&D.scrollIntoView({block:"nearest"})}},[x,u]);const C=D=>{e(D),f(!1),p("")},R=D=>{if(!a){if(!u){(D.key==="Enter"||D.key===" "||D.key==="ArrowDown")&&(D.preventDefault(),f(!0));return}switch(D.key){case"ArrowDown":D.preventDefault(),b(E=>Math.min(E+1,A.length-1));break;case"ArrowUp":D.preventDefault(),b(E=>Math.max(E-1,0));break;case"Enter":D.preventDefault(),A[x]&&C(A[x].value);break;case"Escape":D.preventDefault(),f(!1),p("");break;case"Tab":f(!1);break}}};return d.jsxs("div",{ref:v,className:`relative ${o}`,children:[d.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(f(!u),!u&&l&&setTimeout(()=>w.current?.focus(),0))},onKeyDown:R,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[d.jsx("span",{className:j?"text-text":"text-muted",children:j?.label||s}),d.jsx(mh,{className:`h-4 w-4 text-muted transition-transform ${u?"rotate-180":""}`})]}),u&&d.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[180px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float animate-in fade-in zoom-in-95 duration-100",children:[l&&d.jsx("div",{className:"p-2 border-b border-line",children:d.jsxs("div",{className:"relative",children:[d.jsx($g,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),d.jsx("input",{ref:w,type:"text",value:m,onChange:D=>p(D.target.value),placeholder:"Search...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40",onKeyDown:R})]})}),d.jsx("div",{ref:S,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:A.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No options found"}):d.jsxs(d.Fragment,{children:[T.noGroup.map((D,E)=>{const z=j?.value===D.value,V=A[x]?.value===D.value;return d.jsxs("div",{"data-index":x,className:`
                                                flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                ${V?"bg-accent/20 text-text":"text-text"}
                                                ${z?"font-medium":""}
                                            `,onClick:()=>C(D.value),onMouseEnter:()=>b(A.findIndex(X=>X.value===D.value)),children:[d.jsx("span",{children:D.label}),z&&d.jsx(P1,{className:"h-3.5 w-3.5 text-accent"})]},D.value)}),Object.entries(T.groups).map(([D,E])=>d.jsxs("div",{className:"mt-1 first:mt-0",children:[d.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:D}),E.map(z=>{const V=j?.value===z.value,X=A.findIndex(ne=>ne.value===z.value),G=X===x;return d.jsxs("div",{"data-index":X,className:`
                                                        flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                        ${G?"bg-accent/20 text-text":"text-text"}
                                                        ${V?"font-medium":""}
                                                    `,onClick:()=>C(z.value),onMouseEnter:()=>b(X),children:[d.jsx("span",{children:z.label}),V&&d.jsx(P1,{className:"h-3.5 w-3.5 text-accent"})]},z.value)})]},D))]})})]})]})}function gN({checked:t,onCheckedChange:e,disabled:n=!1,className:s=""}){return d.jsx("div",{className:`toggle ${t?"active":""} ${s} ${n?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!n&&e(!t),children:d.jsx("div",{className:"toggle-knob"})})}const yP="IANA timezone for all schedule calculations",bP={timezone:yP,"advisor.enable_llm":"Enable LLM-powered advice on Dashboard","advisor.model":"OpenRouter model identifier (requires API key in secrets.yaml)","advisor.personality":"Advice style: concise | friendly | technical","advisor.auto_fetch":"Automatically fetch advice when Dashboard loads","system.has_solar":"Enable PV forecasting & solar-related features","system.has_battery":"Enable battery control & grid arbitrage","system.has_water_heater":"Enable water heating optimization","system.grid.max_power_kw":"HARD limit: max grid import (cannot be exceeded)","system.inverter.max_power_kw":"Maximum inverter AC power output","system.location.latitude":"Decimal degrees, positive north (for PV forecasting)","system.location.longitude":"Decimal degrees, positive east (for PV forecasting)","system.solar_array.azimuth":"Panel direction: 0=North, 90=East, 180=South, 270=West","system.solar_array.kwp":"Total DC peak power of PV array in kilowatts","system.solar_array.tilt":"Panel angle from horizontal: 0=flat, 90=vertical","battery.max_soc_percent":"Planner target ceiling (BMS still enforces absolute limit)","battery_economics.battery_cycle_cost_kwh":"Degradation cost applied per kWh cycled through the battery","charging_strategy.charge_threshold_percentile":"Bottom X% of daily prices are considered 'cheap'","charging_strategy.cheap_price_tolerance_sek":"Extends 'cheap' window to prices within this tolerance","charging_strategy.price_smoothing_sek_kwh":"Groups slots slightly above cheapest into charge window","charging_strategy.block_consolidation_tolerance_sek":"Price tolerance for merging adjacent charge blocks","charging_strategy.consolidation_max_gap_slots":"Max gap (in 15-min slots) to bridge when consolidating","strategic_charging.price_threshold_sek":"[NOT IMPLEMENTED] Floor price for opportunistic charging","strategic_charging.target_soc_percent":"SoC target for cheap window expansion (used in windows.py)","water_heating.power_kw":"Power consumption of the water heater","water_heating.min_hours_per_day":"Minimum run-time per day","water_heating.min_kwh_per_day":"Optional; defaults to power * hours when unset","water_heating.max_blocks_per_day":"Prefer single block, up to two if needed","water_heating.defer_up_to_hours":"Allow deferring into early tomorrow up to N hours if cheaper","water_heating.plan_days_ahead":"Plan at most today + 1 day (tomorrow) within 48h horizon","water_heating.max_hours_between_heating":"Max gap between heating sessions (0 = no constraint)","water_heating.comfort_level":"1-5 (EconomyMaximum) - controls gap penalty","water_heating.min_spacing_hours":"Min gap between starts to avoid efficiency loss","water_heating.spacing_penalty_sek":"Soft penalty for frequent starts","water_heating.vacation_mode.enabled":"Master switch (HA entity can override when ON)","water_heating.vacation_mode.anti_legionella_temp_c":"Target temperature for safety cycle","water_heating.vacation_mode.anti_legionella_interval_days":"Run cycle every N days","water_heating.vacation_mode.anti_legionella_duration_hours":"Duration at power_kw (e.g., 3h * 3kW = 9kWh)","s_index.mode":"Options: probabilistic | dynamic","s_index.static_factor":"Used when mode=static","s_index.base_factor":"Starting point for dynamic calculationsWfz","s_index.max_factor":"Upper bound clamp for dynamic mode","s_index.pv_deficit_weight":"Weight for PV/load deficit contribution","s_index.temp_weight":"Weight for temperature adjustment","s_index.temp_baseline_c":"Baseline temperature (no adjustment)","s_index.temp_cold_c":"Temperature where adjustment reaches 100%","s_index.s_index_horizon_days":"Number of days ahead to evaluate (integer)","s_index.risk_appetite":"1-5 scale (1=safe, 3=neutral, 5=gambler)","export.enable_export":"[NOT IMPLEMENTED] Master switch for grid export","manual_planning.charge_target_percent":"Cap for manual charge slots","manual_planning.export_target_percent":"Floor target when manually scheduling export","debug.enable_planner_debug":"Enable verbose planner logging","debug.sample_size":"Sample size for debug output charts","automation.enable_scheduler":"Enable automatic schedule regeneration","automation.write_to_mariadb":"Write telemetry to MariaDB (requires secrets.yaml)","automation.external_executor_mode":"Use external executor instead of built-in","automation.schedule.every_minutes":"How often to regenerate schedule","automation.schedule.jitter_minutes":"Random delay to avoid thundering herd","automation.ml_training.enabled":"Enable automatic ML model retraining","automation.ml_training.run_days":"Days of week to train (0=Mon, 6=Sun)","automation.ml_training.run_time":"Time of day to run training (HH:MM)","learning.default_battery_cost_sek_per_kwh":"Conservative default until dynamic cost is recorded","nordpool.price_area":"Nordpool bidding zone (SE1-SE4, NO1-NO5, DK1-DK2, FI, etc.)","nordpool.currency":"Price currency","nordpool.resolution_minutes":"Slot resolution (15, 30, or 60)","pricing.vat_percent":"VAT percentage on electricity","pricing.grid_transfer_fee_sek":"Grid operator transfer fee per kWh","pricing.energy_tax_sek":"Energy tax per kWh","pricing.subscription_fee_sek_per_month":"[FUTURE] Fixed monthly grid subscription (for cost analysis)","forecasting.active_forecast_version":"Forecast engine: aurora (ML) | legacy","forecasting.pv_confidence_percent":"PV forecast scaling (100 = trust forecast fully)","forecasting.load_safety_margin_percent":"Load forecast scaling (>100 = expect more load)","grid.import_limit_kw":"Soft limit for effekttariff (breached with high penalty)","kepler.ramping_cost_sek_per_kw":"Penalty for power changes between slots (reduces sawtooth)","input_sensors.alarm_state":"Alarm panel for occupancy detection (ML feature)","input_sensors.vacation_mode":"Vacation mode toggle (reduces load forecasts)","input_sensors.battery_soc":"Current battery state of charge (%)","input_sensors.pv_power":"Current PV production (W or kW)","input_sensors.load_power":"Current load consumption (W or kW)","input_sensors.total_battery_charge":"Cumulative battery charge (kWh)","input_sensors.total_battery_discharge":"Cumulative battery discharge (kWh)","input_sensors.total_grid_export":"Cumulative grid export (kWh)","input_sensors.total_grid_import":"Cumulative grid import (kWh)","input_sensors.total_load_consumption":"Cumulative load (kWh)","input_sensors.total_pv_production":"Cumulative PV production (kWh)","input_sensors.water_heater_consumption":"Water heater daily energy (kWh)","input_sensors.today_grid_import":"Today's grid import (kWh)","input_sensors.today_grid_export":"Today's grid export (kWh)","input_sensors.today_battery_charge":"Today's battery charge (kWh)","input_sensors.today_pv_production":"Today's PV production (kWh)","input_sensors.today_load_consumption":"Today's load consumption (kWh)","input_sensors.today_net_cost":"Today's net electricity cost","executor.enabled":"Enable executor control loop","executor.shadow_mode":"Log actions but don't execute (for testing)","executor.interval_seconds":"How often to run (default: 5 minutes)","executor.pause_reminder_minutes":"Notify if paused longer than this","executor.history_retention_days":"Keep execution history for N days","executor.automation_toggle_entity":"Master enable/disable switch","executor.manual_override_entity":"Manual override active flag","executor.soc_target_entity":"SoC target input_number","executor.inverter.work_mode_entity":"Inverter mode selector","executor.inverter.work_mode_export":"Value for export mode","executor.inverter.work_mode_zero_export":"Value for zero-export mode","executor.inverter.grid_charging_entity":"Enable/disable grid charging","executor.inverter.max_charging_current_entity":"Max charge current (A)","executor.inverter.max_discharging_current_entity":"Max discharge current (A)","executor.controller.battery_capacity_kwh":"Battery capacity in kWh (for current calculations)","executor.controller.system_voltage_v":"Nominal battery voltage","executor.controller.worst_case_voltage_v":"Minimum voltage for conservative calculations","executor.controller.inverter_ac_limit_kw":"Max AC power output of inverter","executor.controller.charge_efficiency":"Charging efficiency (0-1)","executor.controller.max_charge_a":"Maximum charging current (A)","executor.controller.min_charge_a":"Minimum meaningful charge current (A)","executor.controller.round_step_a":"Round current commands to nearest X amps","executor.controller.write_threshold_a":"Only write if change exceeds X amps","executor.water_heater.target_entity":"HA entity to control","executor.water_heater.temp_off":"Idle mode (legionella-safe minimum)","executor.water_heater.temp_normal":"Scheduled heating target (used by planner)","executor.water_heater.temp_boost":"Manual boost button (Dashboard/Executor)","executor.water_heater.temp_max":"PV dump target + safety limit (never exceeded)","executor.notifications.service":"HA notify service to use","executor.notifications.on_charge_start":"Notify when grid charging starts","executor.notifications.on_charge_stop":"Notify when grid charging stops","executor.notifications.on_export_start":"Notify when export/discharge starts","executor.notifications.on_export_stop":"Notify when export/discharge stops","executor.notifications.on_water_heat_start":"Notify when water heating starts","executor.notifications.on_water_heat_stop":"Notify when water heating stops","executor.notifications.on_soc_target_change":"Notify when SoC target changes","executor.notifications.on_override_activated":"Notify when manual override triggers","executor.notifications.on_error":"Notify on executor errors","dashboard.auto_refresh_enabled":"Auto-refresh dashboard schedule display","dashboard.overlay_defaults":"Default chart overlays","ui.theme":"Color theme name","ui.theme_accent_index":"Accent color index (0-based)","appliances.dishwasher.label":"Display name in UI","appliances.dishwasher.duration_hours":"Typical run duration"},Oh=({field:t,value:e,onChange:n,error:s,haEntities:a=[],haLoading:o=!1})=>{const l=()=>{switch(t.type){case"boolean":return d.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[d.jsx(gN,{checked:e==="true",onCheckedChange:u=>n(t.key,u?"true":"false")}),d.jsx("span",{className:"text-sm font-semibold",children:t.label})]});case"select":return d.jsx(pN,{value:e,onChange:u=>n(t.key,u),options:t.options||[],placeholder:"Select..."});case"entity":return d.jsx(gP,{entities:a,value:e,onChange:u=>n(t.key,u),loading:o,placeholder:"Select entity..."});case"service":return d.jsx(xP,{value:e,onChange:u=>n(t.key,u),placeholder:"Select notification service..."});case"azimuth":{const u=e&&e.trim()!==""?Number(e):null;return d.jsxs("div",{className:"space-y-2",children:[d.jsx(mP,{value:typeof u=="number"&&!Number.isNaN(u)?u:null,onChange:f=>n(t.key,String(Math.round(f)))}),d.jsx("input",{type:"number",inputMode:"decimal",value:e,onChange:f=>n(t.key,f.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-text focus:border-accent focus:outline-none"})]})}case"tilt":{const u=e&&e.trim()!==""?Number(e):null;return d.jsxs("div",{className:"space-y-2",children:[d.jsx(pP,{value:typeof u=="number"&&!Number.isNaN(u)?u:null,onChange:f=>n(t.key,String(Math.round(f)))}),d.jsx("input",{type:"number",inputMode:"decimal",value:e,onChange:f=>n(t.key,f.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-text focus:border-accent focus:outline-none"})]})}default:return d.jsx("input",{type:t.type==="number"?"number":"text",inputMode:t.type==="number"?"decimal":void 0,value:e,onChange:u=>n(t.key,u.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-text focus:border-accent focus:outline-none"})}};return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium mb-1.5 flex items-center gap-1",children:[d.jsx("span",{className:t.type==="boolean"?"sr-only":"text-[10px] uppercase tracking-wide text-muted",children:t.label}),d.jsx(fP,{text:bP[t.key]||t.helper})]}),l(),t.helper&&t.type!=="boolean"&&d.jsx("p",{className:"text-[11px] text-muted",children:t.helper}),s&&d.jsx("p",{className:"text-[11px] text-bad",children:s})]})},zg=[{title:"System Profile",description:"Core hardware toggles and high-level system preferences.",fields:[{key:"system.has_solar",label:"Solar panels installed",helper:"Enable PV forecasting and solar optimization",path:["system","has_solar"],type:"boolean"},{key:"system.has_battery",label:"Home battery installed",helper:"Enable battery control and grid arbitrage",path:["system","has_battery"],type:"boolean"},{key:"system.has_water_heater",label:"Smart water heater",helper:"Enable water heating optimization",path:["system","has_water_heater"],type:"boolean"},{key:"export.enable_export",label:"Enable grid export",helper:"[EXPERIMENTAL] Master switch for grid export",path:["export","enable_export"],type:"boolean"}]},{title:"Location & Solar Array",description:"Geolocation and PV array parameters used by the forecasting engine.",fields:[{key:"system.location.latitude",label:"Latitude",helper:"Decimal degrees, positive north. Example: 55.4932",path:["system","location","latitude"],type:"number"},{key:"system.location.longitude",label:"Longitude",helper:"Decimal degrees, positive east. Example: 13.1112",path:["system","location","longitude"],type:"number"},{key:"system.solar_array.azimuth",label:"Solar azimuth ()",helper:"Panel direction: 0 = North, 90 = East, 180 = South, 270 = West.",path:["system","solar_array","azimuth"],type:"azimuth"},{key:"system.solar_array.tilt",label:"Solar tilt ()",helper:"Angle from horizontal. 0 = flat, 90 = vertical.",path:["system","solar_array","tilt"],type:"tilt"},{key:"system.solar_array.kwp",label:"Solar capacity (kWp)",helper:"Total DC peak power of the PV array.",path:["system","solar_array","kwp"],type:"number"}]},{title:"Battery Specifications",description:"Capacity, max power, and SoC limits define safe operating bands.",fields:[{key:"battery.capacity_kwh",label:"Battery capacity (kWh)",path:["battery","capacity_kwh"],type:"number"},{key:"battery.max_charge_power_kw",label:"Max charge power (kW)",path:["battery","max_charge_power_kw"],type:"number"},{key:"battery.max_discharge_power_kw",label:"Max discharge power (kW)",path:["battery","max_discharge_power_kw"],type:"number"},{key:"battery.min_soc_percent",label:"Min SoC (%)",path:["battery","min_soc_percent"],type:"number"},{key:"battery.max_soc_percent",label:"Max SoC (%)",path:["battery","max_soc_percent"],type:"number"},{key:"system.grid.max_power_kw",label:"HARD Grid max power (kW)",helper:"Absolute limit from your grid fuse/connection.",path:["system","grid","max_power_kw"],type:"number"},{key:"grid.import_limit_kw",label:"Soft import limit (kW)",helper:"Threshold for peak power penalties (effekttariff).",path:["grid","import_limit_kw"],type:"number"}]},{title:"Pricing & Timezone",description:"Nordpool zone and local timezone for planner calculations.",fields:[{key:"nordpool.price_area",label:"Nordpool Price Area",helper:"e.g. SE4, NO1, DK2",path:["nordpool","price_area"],type:"text"},{key:"pricing.vat_percent",label:"VAT (%)",path:["pricing","vat_percent"],type:"number"},{key:"pricing.grid_transfer_fee_sek",label:"Grid transfer fee (SEK/kWh)",path:["pricing","grid_transfer_fee_sek"],type:"number"},{key:"pricing.energy_tax_sek",label:"Energy tax (SEK/kWh)",path:["pricing","energy_tax_sek"],type:"number"},{key:"timezone",label:"Timezone",helper:"e.g. Europe/Stockholm",path:["timezone"],type:"text"}]},{title:"Notifications",description:"Configure automated notifications via Home Assistant.",fields:[{key:"executor.notifications.service",label:"HA Notify Service",helper:"e.g. notify.mobile_app_iphone",path:["executor","notifications","service"],type:"service"},{key:"executor.notifications.on_charge_start",label:"On charge start",path:["executor","notifications","on_charge_start"],type:"boolean"},{key:"executor.notifications.on_charge_stop",label:"On charge stop",path:["executor","notifications","on_charge_stop"],type:"boolean"},{key:"executor.notifications.on_discharge_start",label:"On discharge start",path:["executor","notifications","on_discharge_start"],type:"boolean"},{key:"executor.notifications.on_discharge_stop",label:"On discharge stop",path:["executor","notifications","on_discharge_stop"],type:"boolean"},{key:"executor.notifications.on_water_heating_start",label:"On water heating start",path:["executor","notifications","on_water_heat_start"],type:"boolean"},{key:"executor.notifications.on_water_heating_stop",label:"On water heating stop",path:["executor","notifications","on_water_heat_stop"],type:"boolean"},{key:"executor.notifications.on_soc_target_change",label:"On SoC target change",path:["executor","notifications","on_soc_target_change"],type:"boolean"},{key:"executor.notifications.on_override_activated",label:"On override activated",path:["executor","notifications","on_override_activated"],type:"boolean"},{key:"executor.notifications.on_error",label:"On error",path:["executor","notifications","on_error"],type:"boolean"}]},{title:" Home Assistant Connection ",isHA:!0,description:"Connection parameters for your Home Assistant instance.",fields:[{key:"home_assistant.url",label:"HA URL",helper:"e.g. http://homeassistant.local:8123",path:["home_assistant","url"],type:"text"},{key:"home_assistant.token",label:"Long-Lived Access Token",path:["home_assistant","token"],type:"text"}]},{title:"Required HA Entities",isHA:!0,description:"Core sensors and switches required for battery control.",fields:[{key:"input_sensors.battery_soc",label:"Battery SoC (%)",path:["input_sensors","battery_soc"],type:"entity"},{key:"input_sensors.pv_power",label:"PV Power (W/kW)",path:["input_sensors","pv_power"],type:"entity"},{key:"input_sensors.load_power",label:"Load Power (W/kW)",path:["input_sensors","load_power"],type:"entity"},{key:"executor.inverter.work_mode_entity",label:"Work Mode Selector",path:["executor","inverter","work_mode_entity"],type:"entity"},{key:"executor.inverter.grid_charging_entity",label:"Grid Charging Switch",path:["executor","inverter","grid_charging_entity"],type:"entity"},{key:"executor.inverter.max_charging_current_entity",label:"Max Charge Current",path:["executor","inverter","max_charging_current_entity"],type:"entity"},{key:"executor.inverter.max_discharging_current_entity",label:"Max Discharge Current",path:["executor","inverter","max_discharging_current_entity"],type:"entity"}]},{title:"Optional HA Entities",isHA:!0,description:"Optional sensors for better forecasting and dashboard metrics.",fields:[{key:"executor.automation_toggle_entity",label:"Automation Toggle",path:["executor","automation_toggle_entity"],type:"entity"},{key:"executor.manual_override_entity",label:"Manual Override Toggle",path:["executor","manual_override_entity"],type:"entity"},{key:"executor.soc_target_entity",label:"Target SoC Feedback",path:["executor","soc_target_entity"],type:"entity"},{key:"executor.water_heater.target_entity",label:"Water Heater Setpoint",path:["executor","water_heater","target_entity"],type:"entity"},{key:"input_sensors.vacation_mode",label:"Vacation Mode Toggle",path:["input_sensors","vacation_mode"],type:"entity"},{key:"input_sensors.battery_power",label:"Battery Power (W/kW)",helper:"Positive = charging, negative = discharging",path:["input_sensors","battery_power"],type:"entity"},{key:"input_sensors.water_power",label:"Water Heater Power (W/kW)",path:["input_sensors","water_power"],type:"entity"},{key:"input_sensors.grid_power",label:"Grid Power (W/kW)",helper:"Positive = import, negative = export",path:["input_sensors","grid_power"],type:"entity"},{key:"input_sensors.alarm_state",label:"Alarm Control Panel",path:["input_sensors","alarm_state"],type:"entity"},{key:"input_sensors.water_heater_consumption",label:"Water Heater Daily Energy",path:["input_sensors","water_heater_consumption"],type:"entity"},{key:"input_sensors.today_net_cost",label:"Today's Net Cost",path:["input_sensors","today_net_cost"],type:"entity"},{key:"input_sensors.total_battery_charge",label:"Total Battery Charge (kWh)",path:["input_sensors","total_battery_charge"],type:"entity"},{key:"input_sensors.total_battery_discharge",label:"Total Battery Discharge (kWh)",path:["input_sensors","total_battery_discharge"],type:"entity"},{key:"input_sensors.total_grid_export",label:"Total Grid Export (kWh)",path:["input_sensors.total_grid_export"],type:"entity"},{key:"input_sensors.total_grid_import",label:"Total Grid Import (kWh)",path:["input_sensors.total_grid_import"],type:"entity"},{key:"input_sensors.total_load_consumption",label:"Total Load Consumption (kWh)",path:["input_sensors.total_load_consumption"],type:"entity"},{key:"input_sensors.total_pv_production",label:"Total PV Production (kWh)",path:["input_sensors.total_pv_production"],type:"entity"}]}],xN=[{title:"Charging Strategy",description:"Price smoothing, consolidation tolerances, and gap settings that govern charge windows.",fields:[{key:"charging_strategy.price_smoothing_sek_kwh",label:"Price smoothing (SEK/kWh)",path:["charging_strategy","price_smoothing_sek_kwh"],type:"number"},{key:"charging_strategy.block_consolidation_tolerance_sek",label:"Consolidation tolerance (SEK)",path:["charging_strategy","block_consolidation_tolerance_sek"],type:"number"},{key:"charging_strategy.consolidation_max_gap_slots",label:"Max gap slots",path:["charging_strategy","consolidation_max_gap_slots"],type:"number"},{key:"charging_strategy.charge_threshold_percentile",label:"Charge threshold (percentile)",path:["charging_strategy","charge_threshold_percentile"],type:"number"},{key:"charging_strategy.cheap_price_tolerance_sek",label:"Cheap price tolerance (SEK)",path:["charging_strategy","cheap_price_tolerance_sek"],type:"number"}]},{title:"Arbitrage & Export",description:"Export thresholds, peak-only export, and future guard buffers.",fields:[{key:"arbitrage.export_percentile_threshold",label:"Export percentile threshold",path:["arbitrage","export_percentile_threshold"],type:"number"},{key:"arbitrage.enable_peak_only_export",label:"Enable peak-only export",path:["arbitrage","enable_peak_only_export"],type:"boolean",helper:"Override to only export when we hit the percentile threshold."},{key:"arbitrage.export_future_price_guard",label:"Future price guard",path:["arbitrage","export_future_price_guard"],type:"boolean"},{key:"arbitrage.future_price_guard_buffer_sek",label:"Future guard buffer (SEK)",path:["arbitrage","future_price_guard_buffer_sek"],type:"number"},{key:"arbitrage.export_profit_margin_sek",label:"Export profit margin (SEK)",path:["arbitrage","export_profit_margin_sek"],type:"number"}]},{title:"Water Heating",description:"Quota, deferral, and sizing controls for the water heater scheduler.",fields:[{key:"water_heating.power_kw",label:"Water heater power (kW)",path:["water_heating","power_kw"],type:"number"},{key:"water_heating.defer_up_to_hours",label:"Max defer hours",path:["water_heating","defer_up_to_hours"],type:"number"},{key:"water_heating.max_blocks_per_day",label:"Max blocks per day",path:["water_heating","max_blocks_per_day"],type:"number"},{key:"water_heating.min_kwh_per_day",label:"Min kWh/day",path:["water_heating","min_kwh_per_day"],type:"number"},{key:"water_heating.min_spacing_hours",label:"Min spacing (hours)",path:["water_heating","min_spacing_hours"],type:"number",helper:"Minimum gap between heating sessions to avoid efficiency loss."},{key:"water_heating.spacing_penalty_sek",label:"Spacing penalty (SEK)",path:["water_heating","spacing_penalty_sek"],type:"number",helper:"Penalty applied when heating sessions are too close."},{key:"water_heating.schedule_future_only",label:"Schedule future only",path:["water_heating","schedule_future_only"],type:"boolean"}]},{title:"Learning Parameter Limits",description:"Limits that keep learning adjustments conservative.",fields:[{key:"learning.min_sample_threshold",label:"Min sample threshold",path:["learning","min_sample_threshold"],type:"number"},{key:"learning.min_improvement_threshold",label:"Min improvement (%)",path:["learning","min_improvement_threshold"],type:"number"},{key:"learning.max_daily_param_change.battery_use_margin_sek",label:"Battery margin change (SEK)",path:["learning","max_daily_param_change","battery_use_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.export_profit_margin_sek",label:"Export margin change (SEK)",path:["learning","max_daily_param_change","export_profit_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.future_price_guard_buffer_sek",label:"Future guard buffer change (SEK)",path:["learning","max_daily_param_change","future_price_guard_buffer_sek"],type:"number"},{key:"learning.max_daily_param_change.load_safety_margin_percent",label:"Load safety change (%)",path:["learning","max_daily_param_change","load_safety_margin_percent"],type:"number"},{key:"learning.max_daily_param_change.pv_confidence_percent",label:"PV confidence change (%)",path:["learning","max_daily_param_change","pv_confidence_percent"],type:"number"},{key:"learning.max_daily_param_change.s_index_base_factor",label:"S-index base change",path:["learning","max_daily_param_change","s_index_base_factor"],type:"number"},{key:"learning.max_daily_param_change.s_index_pv_deficit_weight",label:"S-index PV weight change",path:["learning","max_daily_param_change","s_index_pv_deficit_weight"],type:"number"},{key:"learning.max_daily_param_change.s_index_temp_weight",label:"S-index temp weight change",path:["learning","max_daily_param_change","s_index_temp_weight"],type:"number"}]},{title:"S-Index Safety",description:"Seasonal index parameters for reserve calculations.",fields:[{key:"s_index.temp_cold_c",label:"Cold temp (C)",path:["s_index","temp_cold_c"],type:"number"},{key:"s_index.s_index_horizon_days",label:"S-Index Horizon (days)",path:["s_index","s_index_horizon_days"],type:"select",options:[{label:"1 Day",value:"1"},{label:"2 Days",value:"2"},{label:"3 Days",value:"3"},{label:"4 Days",value:"4"},{label:"5 Days",value:"5"},{label:"6 Days",value:"6"},{label:"7 Days",value:"7"}]}]}],yN=[{title:"Dashboard Defaults",description:"Overlay defaults and refresh cadence for the planner dashboard.",fields:[{key:"dashboard.auto_refresh_enabled",label:"Auto refresh",helper:"Enable automatic refresh of the dashboard schedule.",path:["dashboard","auto_refresh_enabled"],type:"boolean"}]},{title:"AI Advisor",description:"Control the Smart Advisor LLM settings.",fields:[{key:"advisor.enable_llm",label:"Enable LLM advice",path:["advisor","enable_llm"],type:"boolean"},{key:"advisor.auto_fetch",label:"Auto-fetch advice on dashboard load",path:["advisor","auto_fetch"],type:"boolean"},{key:"advisor.personality",label:"Advisor personality",path:["advisor","personality"],type:"select",options:[{label:"Concise (Money focus)",value:"concise"},{label:"Friendly (Emoji style)",value:"friendly"},{label:"Technical (Data heavy)",value:"technical"}]}]}],bN=[{title:"Experimental Features",description:"Toggle advanced and experimental modes.",fields:[{key:"automation.external_executor_mode",label:"External Executor Mode",helper:"When enabled, Darkstar expects an external system to execute the plan.",path:["automation","external_executor_mode"],type:"boolean"},{key:"automation.write_to_mariadb",label:"Log to MariaDB",helper:"Requires MariaDB credentials in secrets.yaml",path:["automation","write_to_mariadb"],type:"boolean"}]},{title:"Danger Zone",description:"Sensitive actions. Proceed with caution.",fields:[]}],vN=zg.flatMap(t=>t.fields),_N=xN.flatMap(t=>t.fields),wN=yN.flatMap(t=>t.fields),SN=bN.flatMap(t=>t.fields),vP=[...vN,..._N,...wN,...SN,{key:"dashboard.overlay_defaults",label:"Overlay Defaults",path:["dashboard","overlay_defaults"],type:"text"}];vP.reduce((t,e)=>(t[e.key]=e,t),{});const _P=()=>{const{form:t,fieldErrors:e,loading:n,saving:s,statusMessage:a,haEntities:o,haLoading:l,handleChange:u,save:f,reloadEntities:m}=Eh(vN),[p,x]=k.useState(null),b=async()=>{x("Testing...");try{const v=t["home_assistant.url"],w=t["home_assistant.token"],S=await me.haTest({url:v,token:w});S.success?(x("Success: Connected!"),m()):x(`Error: ${S.message}`)}catch(v){x(`Error: ${v instanceof Error?v.message:"Unknown error"}`)}};return n?d.jsx(Ne,{className:"p-6 text-sm text-muted",children:"Loading system configuration"}):d.jsxs("div",{className:"space-y-4",children:[zg.map((v,w)=>{const S=w>0?zg[w-1]:null,j=v.isHA&&S&&!S.isHA;return d.jsxs("div",{children:[j&&d.jsxs("div",{className:"py-8 flex items-center gap-4",children:[d.jsx("div",{className:"h-px flex-1 bg-line/30"}),d.jsx("span",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-muted whitespace-nowrap",children:"Home Assistant Integration"}),d.jsx("div",{className:"h-px flex-1 bg-line/30"})]}),d.jsxs(Ne,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:v.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:v.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"System"})]}),d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:v.fields.map(N=>d.jsx(Oh,{field:N,value:t[N.key]??"",onChange:u,error:e[N.key],haEntities:o,haLoading:l},N.key))}),v.title==="Home Assistant Connection"&&d.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[d.jsx("button",{type:"button",onClick:b,className:"rounded-xl px-4 py-2 text-[11px] font-semibold bg-neutral hover:bg-neutral/80 text-white transition",children:p&&p.startsWith("Testing")?"Testing...":"Test Connection"}),p&&d.jsx("span",{className:`text-xs ${p.startsWith("Success")?"text-good":"text-bad"}`,children:p})]})]})]},v.title)}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:s,onClick:()=>f(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:s?"Saving":"Save System Settings"}),a&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${a.startsWith("Please fix")||a.startsWith("Save failed")||a.startsWith("Failed to load")?"bg-bad/10 border border-bad/30 text-bad":"bg-good/10 border border-good/30 text-good"}`,children:a})]})]})},wP=()=>{const{form:t,fieldErrors:e,loading:n,saving:s,statusMessage:a,handleChange:o,save:l}=Eh(_N);return n?d.jsx(Ne,{className:"p-6 text-sm text-muted",children:"Loading optimization parameters"}):d.jsxs("div",{className:"space-y-4",children:[xN.map(u=>d.jsxs(Ne,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:u.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:u.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Optimization"})]}),d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:u.fields.map(f=>d.jsx(Oh,{field:f,value:t[f.key]??"",onChange:o,error:e[f.key]},f.key))})]},u.title)),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:s,onClick:()=>l(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:s?"Saving":"Save Parameters"}),a&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${a.startsWith("Please fix")||a.startsWith("Save failed")||a.startsWith("Failed to load")?"bg-bad/10 border border-bad/30 text-bad":"bg-good/10 border border-good/30 text-good"}`,children:a})]})]})},SP=()=>{const{config:t,form:e,fieldErrors:n,loading:s,saving:a,statusMessage:o,handleChange:l,save:u}=Eh(wN),[f,m]=k.useState([]);if(k.useEffect(()=>{me.theme().then(v=>m(v.themes))},[]),s)return d.jsx(Ne,{className:"p-6 text-sm text-muted",children:"Loading UI configuration"});const p=t?.ui?.theme_accent_index??0,x=e["dashboard.overlay_defaults"]?JSON.parse(e["dashboard.overlay_defaults"]):{},b=v=>{const w={...x,[v]:!x[v]};l("dashboard.overlay_defaults",JSON.stringify(w))};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Ne,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Accent Theme"}),d.jsx("p",{className:"text-xs text-muted mt-1",children:"Select the primary accent color for the Darkstar UI."})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Appearance"})]}),d.jsx("div",{className:"mt-5 flex flex-wrap gap-3",children:f.map((v,w)=>d.jsxs("button",{onClick:()=>u({ui:{theme_accent_index:w}}),disabled:a,className:`group relative h-12 w-12 rounded-xl transition duration-300 ${p===w?"ring-2 ring-accent ring-offset-4 ring-offset-[#0a0a0a]":"hover:rotate-3 hover:scale-105"}`,style:{backgroundColor:v.palette[0]},children:[d.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 scale-0 text-[10px] text-muted transition group-hover:scale-100 whitespace-nowrap",children:v.name}),p===w&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 rounded-xl",children:d.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white shadow-[0_0_8px_white]"})})]},v.name))})]}),yN.map(v=>d.jsxs(Ne,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:v.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:v.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Interface"})]}),d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:v.fields.map(w=>d.jsx(Oh,{field:w,value:e[w.key]??"",onChange:l,error:n[w.key]},w.key))}),v.title==="Dashboard Defaults"&&d.jsxs("div",{className:"mt-6 border-t border-line/30 pt-4",children:[d.jsx("div",{className:"text-[10px] uppercase tracking-widest text-muted font-bold mb-3",children:"Overlay Defaults"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:["solar","battery","load","grid","water","forecast"].map(w=>d.jsx("button",{onClick:()=>b(w),className:`rounded-lg px-2.5 py-1.5 text-[10px] font-bold uppercase tracking-wider transition ${x[w]?"bg-accent/20 text-accent border border-accent/30":"bg-surface2 text-muted border border-line/50 hover:border-line"}`,children:w},w))})]})]},v.title)),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:a,onClick:()=>u(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:a?"Saving":"Save UI Settings"}),o&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${o.startsWith("Please fix")||o.startsWith("Save failed")||o.startsWith("Failed to load")?"bg-bad/10 border border-bad/30 text-bad":"bg-good/10 border border-good/30 text-good"}`,children:o})]})]})};function jN({open:t,onOpenChange:e,title:n,children:s,footer:a,size:o="md",className:l=""}){const u=k.useRef(null);if(k.useEffect(()=>{const p=x=>{t&&x.key==="Escape"&&e(!1)};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[t,e]),k.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),!t)return null;const f={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl"},m=d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{ref:u,className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:p=>{p.target===u.current&&e(!1)}}),d.jsxs("div",{className:`
                    relative w-full ${f[o]} 
                    bg-surface rounded-ds-lg border border-line shadow-2xl 
                    animate-in zoom-in-95 fade-in duration-200
                    flex flex-col max-h-[90vh]
                    ${l}
                `,role:"dialog","aria-modal":"true",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-line shrink-0",children:[d.jsx("div",{className:"text-lg font-semibold text-text",children:n}),d.jsx("button",{onClick:()=>e(!1),className:"p-1 rounded-md text-muted hover:text-text hover:bg-surface2 transition-colors",children:d.jsx(yo,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"px-6 py-4 overflow-y-auto scrollbar-thin",children:s}),a&&d.jsx("div",{className:"px-6 py-4 border-t border-line bg-surface2/30 flex justify-end gap-3 shrink-0 rounded-b-ds-lg",children:a})]})]});return $w.createPortal(m,document.body)}const jP=()=>{const{toast:t}=t0(),{form:e,fieldErrors:n,loading:s,saving:a,statusMessage:o,handleChange:l,save:u,reload:f}=Eh(SN),[m,p]=k.useState(!1),[x,b]=k.useState(!1),v=async()=>{b(!0);try{await me.configReset(),t({message:"Settings reset to factory defaults",variant:"success"}),await f(),p(!1)}catch(w){t({message:"Reset failed: "+(w instanceof Error?w.message:"Unknown error"),variant:"error"})}finally{b(!1)}};return s?d.jsx(Ne,{className:"p-6 text-sm text-muted",children:"Loading advanced configuration"}):d.jsxs("div",{className:"space-y-4",children:[bN.map(w=>d.jsxs(Ne,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:w.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:w.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Advanced"})]}),w.title==="Danger Zone"?d.jsx("div",{className:"mt-5 border border-bad/20 bg-bad/5 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold text-bad italic uppercase tracking-wider",children:"Reset All Settings"}),d.jsx("p",{className:"text-[11px] text-bad/80 mt-1",children:"Permanently delete all custom configurations and return to project factory defaults. This action cannot be undone."})]}),d.jsx("button",{onClick:()=>p(!0),className:"rounded-lg bg-bad/20 border border-bad/30 px-3 py-1.5 text-[10px] font-bold text-bad uppercase tracking-wider hover:bg-bad/30 transition",children:"Reset to Defaults"})]})}):d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:w.fields.map(S=>d.jsx(Oh,{field:S,value:e[S.key]??"",onChange:l,error:n[S.key]},S.key))})]},w.title)),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:a,onClick:()=>u(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:a?"Saving":"Save Advanced Settings"}),o&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${o.startsWith("Please fix")||o.startsWith("Save failed")||o.startsWith("Failed to load")?"bg-bad/10 border border-bad/30 text-bad":"bg-good/10 border border-good/30 text-good"}`,children:o})]}),d.jsx(jN,{open:m,onOpenChange:p,title:"Reset to factory defaults?",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{className:"text-sm text-muted",children:["This will clear your location, battery specs, HA tokens, and all optimization parameters. The system will return to the initial state defined in"," ",d.jsx("code",{className:"text-accent",children:"config.yaml"}),"."]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-xs font-semibold text-white/70 hover:text-white transition",children:"Cancel"}),d.jsx("button",{onClick:v,disabled:x,className:"bg-bad hover:bg-bad/80 px-4 py-2 rounded-xl text-xs font-bold text-white transition disabled:opacity-50",children:x?"Resetting...":"Yes, Reset Everything"})]})]})})]})},kP=[{id:"system",label:"System",icon:d.jsx(Vd,{size:16})},{id:"parameters",label:"Parameters",icon:d.jsx(fC,{size:16})},{id:"ui",label:"UI & Theme",icon:d.jsx(oC,{size:16})},{id:"advanced",label:"Advanced",icon:d.jsx(Qn,{size:16})}];function NP(){const[t,e]=$D(),n=t.get("tab")||"system",s=o=>{e({tab:o})},a=()=>{switch(n){case"parameters":return d.jsx(wP,{});case"ui":return d.jsx(SP,{});case"advanced":return d.jsx(jP,{});default:return d.jsx(_P,{})}};return d.jsx(d.Fragment,{children:d.jsx("main",{className:"p-4 lg:p-8",children:d.jsxs("div",{className:"mx-auto max-w-5xl",children:[d.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:kP.map(o=>d.jsxs("button",{onClick:()=>s(o.id),className:`flex items-center gap-2 rounded-xl px-4 py-2.5 text-xs font-bold uppercase tracking-wider transition duration-300 ${n===o.id?"bg-accent text-[#100f0e] shadow-[0_0_20px_rgba(var(--color-accent-rgb),0.3)]":"bg-surface2 text-muted hover:bg-surface3 hover:text-white"}`,children:[o.icon,o.label]},o.id))}),d.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:a()})]})})})}const kN="label";function Pw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function MP(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function NN(t,e){t.labels=e}function MN(t,e,n=kN){const s=[];t.datasets=e.map(a=>{const o=t.datasets.find(l=>l[n]===a[n]);return!o||!a.data||s.includes(o)?{...a}:(s.push(o),Object.assign(o,a),o)})}function TP(t,e=kN){const n={labels:[],datasets:[]};return NN(n,t.labels),MN(n,t.datasets,e),n}function DP(t,e){const{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:l,data:u,options:f,plugins:m=[],fallbackContent:p,updateMode:x,...b}=t,v=k.useRef(null),w=k.useRef(null),S=()=>{v.current&&(w.current=new fs(v.current,{type:l,data:TP(u,o),options:f&&{...f},plugins:m}),Pw(e,w.current))},j=()=>{Pw(e,null),w.current&&(w.current.destroy(),w.current=null)};return k.useEffect(()=>{!a&&w.current&&f&&MP(w.current,f)},[a,f]),k.useEffect(()=>{!a&&w.current&&NN(w.current.config.data,u.labels)},[a,u.labels]),k.useEffect(()=>{!a&&w.current&&u.datasets&&MN(w.current.config.data,u.datasets,o)},[a,u.datasets]),k.useEffect(()=>{w.current&&(a?(j(),setTimeout(S)):w.current.update(x))},[a,f,u.labels,u.datasets,x]),k.useEffect(()=>{w.current&&(j(),setTimeout(S))},[l]),k.useEffect(()=>(S(),()=>j()),[]),d.jsx("canvas",{ref:v,role:"img",height:n,width:s,...b,children:p})}const CP=k.forwardRef(DP);function n0(t,e){return fs.register(e),k.forwardRef((n,s)=>d.jsx(CP,{...n,ref:s,type:t}))}const s0=n0("line",KS),AP=n0("bar",XS),EP=n0("radar",QS);fs.register(Mc,Tc,bo,xi,hx,_o,vo);function OP({slots:t,mode:e}){if(!t||t.length===0)return d.jsx("div",{className:"text-[11px] text-muted px-4 py-6",children:"No forecast data available for the next 48 hours."});const s={labels:t.map(o=>new Date(o.slot_start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),datasets:[{type:"line",label:e==="pv"?"Final PV":"Final Load",data:t.map(o=>e==="pv"?o.final.pv_kwh:o.final.load_kwh),borderColor:e==="pv"?"#22c55e":"#f97316",backgroundColor:o=>{const u=o.chart.ctx.createLinearGradient(0,0,0,200);return u.addColorStop(0,"rgba(15, 23, 42, 0.0)"),u.addColorStop(1,e==="pv"?"rgba(34, 197, 94, 0.1)":"rgba(249, 115, 22, 0.1)"),u},borderWidth:2,tension:.4,pointRadius:0,fill:!0},{type:"bar",label:"Base",data:t.map(o=>e==="pv"?o.base.pv_kwh:o.base.load_kwh),backgroundColor:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,borderRadius:2,yAxisID:"y"},{type:"bar",label:"Correction",data:t.map(o=>e==="pv"?o.correction.pv_kwh:o.correction.load_kwh),backgroundColor:e==="pv"?"rgba(34, 197, 94, 0.2)":"rgba(249, 115, 22, 0.2)",borderRadius:2,yAxisID:"y"}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.95)",titleColor:"rgba(255, 255, 255, 0.9)",bodyColor:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:10,callbacks:{label:o=>{let l=o.dataset.label||"";return l&&(l+=": "),o.parsed.y!==null&&(l+=o.parsed.y.toFixed(3)+" kWh"),l}}}},scales:{x:{grid:{display:!1},ticks:{color:"#64748b",font:{size:10},maxTicksLimit:8}},y:{grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"#64748b",font:{size:10}}}},interaction:{intersect:!1,mode:"index"}};return d.jsx("div",{className:"w-full h-full min-h-[240px]",children:d.jsx(s0,{data:s,options:a},e)})}fs.register(vj,bo,xi,_h,_o,vo);function RP({weatherVolatility:t,riskFactor:e,forecastAccuracy:n,priceSpread:s,forecastBias:a}){const o=Math.min(100,t.cloud*100),l=Math.min(100,t.temp*100),u=Math.max(0,Math.min(100,(e-1)*25)),f=n,m=s!=null?Math.max(0,Math.min(100,s/2.5*100)):50,p=a!=null?Math.max(0,Math.min(100,(a+2)/4*100)):50,x=["Cloud Vol.","Temp Vol.","Aggression","Accuracy","Spread","Bias"],b=["#38bdf8","#f472b6","#fbbf24","#34d399","#a78bfa","#fb923c"],v={labels:x,datasets:[{label:"Current Context",data:[o,l,u,f,m,p],backgroundColor:"rgba(56, 189, 248, 0.15)",borderColor:"rgba(56, 189, 248, 0.5)",borderWidth:2,pointBackgroundColor:b,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:b,pointRadius:4}]},w={scales:{r:{angleLines:{color:"rgba(255, 255, 255, 0.1)"},grid:{color:"rgba(255, 255, 255, 0.1)"},pointLabels:{display:!1},ticks:{display:!1,backdropColor:"transparent"},suggestedMin:0,suggestedMax:100}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e293b",titleColor:"#f8fafc",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},maintainAspectRatio:!1},S=x.slice(0,3),j=x.slice(3);return d.jsxs("div",{className:"relative w-full h-full min-h-[200px]",children:[d.jsx("div",{className:"absolute inset-0 overflow-hidden",children:d.jsx(EP,{data:v,options:w})}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between px-3 pb-2 z-10",children:[d.jsx("div",{className:"flex flex-col gap-1",children:S.map((N,T)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[T]}}),d.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:N})]},N))}),d.jsx("div",{className:"flex flex-col gap-1",children:j.map((N,T)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[T+3]}}),d.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:N})]},N))})]})]})}function LP({events:t}){const e=k.useMemo(()=>[...t].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),[t]),n=a=>{const o=(a.type+" "+a.message).toLowerCase();if(o.includes("charge")||o.includes("charging"))return d.jsx(Qn,{className:"h-4 w-4 text-amber-400"});if(o.includes("export")||o.includes("discharging"))return d.jsx(sg,{className:"h-4 w-4 text-emerald-400"});if(o.includes("defensive")||o.includes("safety")||o.includes("hold"))return d.jsx(hC,{className:"h-4 w-4 text-blue-400"});if(o.includes("idle")||o.includes("wait"))return d.jsx(tC,{className:"h-4 w-4 text-slate-400"});if(o.includes("weather"))return d.jsx(H1,{className:"h-4 w-4 text-sky-400"});if(o.includes("learning")||o.includes("tune"))return d.jsx(U1,{className:"h-4 w-4 text-purple-400"});if(o.includes("price")||o.includes("cost"))return d.jsx(ng,{className:"h-4 w-4 text-emerald-400"});switch(a.type){case"STRATEGY_CHANGE":return d.jsx(cS,{className:"h-4 w-4 text-purple-400"});case"WEATHER_ADJUSTMENT":return d.jsx(H1,{className:"h-4 w-4 text-blue-400"});case"PRICE_VOLATILITY":return d.jsx(Qn,{className:"h-4 w-4 text-amber-400"});case"LEARNING_EVENT":return d.jsx(U1,{className:"h-4 w-4 text-emerald-400"});default:return d.jsx(tg,{className:"h-4 w-4 text-slate-400"})}},s=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return t.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-muted text-xs",children:[d.jsx(tg,{className:"h-6 w-6 mb-2 opacity-50"}),"No activity recorded yet."]}):d.jsxs("div",{className:"relative space-y-4 pl-2",children:[d.jsx("div",{className:"absolute left-[19px] top-2 bottom-2 w-[1px] bg-line/50"}),e.map((a,o)=>d.jsxs("div",{className:"relative flex gap-3 items-start group",children:[d.jsx("div",{className:"relative z-10 flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-surface border border-line/60 group-hover:border-accent/50 transition-colors",children:n(a)}),d.jsxs("div",{className:"flex-1 pt-1.5 min-w-0",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsx("p",{className:"text-xs font-medium text-text truncate",children:a.type.replace("_"," ")}),d.jsx("span",{className:"text-[10px] text-muted shrink-0 font-mono",children:s(a.timestamp)})]}),d.jsx("p",{className:"text-[11px] text-muted mt-0.5 leading-relaxed break-words",children:a.message}),a.details&&Object.keys(a.details).length>0&&d.jsx("div",{className:"mt-1.5",children:d.jsxs("details",{className:"group/details",children:[d.jsxs("summary",{className:"cursor-pointer text-[10px] text-accent/80 hover:text-accent select-none list-none flex items-center gap-1",children:[d.jsx("span",{children:"Details"}),d.jsx("span",{className:"opacity-50 group-open/details:rotate-180 transition-transform",children:""})]}),d.jsx("pre",{className:"mt-1 p-2 rounded bg-surface2/50 text-[10px] text-muted overflow-x-auto font-mono",children:JSON.stringify(a.details,null,2)})]})})]})]},o))]})}function zP({metrics:t,perfData:e}){let n=0,s=0;e?.cost_series&&e.cost_series.forEach(b=>{n+=b.planned,s+=b.realized});const a=s-n,o=a<=0?`Saved ${Math.abs(a).toFixed(1)} SEK`:`Overspent ${a.toFixed(1)} SEK`,l=a<=0,u=t?.mae_pv_aurora?.toFixed(2)??"N/A",f=t?.mae_load_aurora?.toFixed(2)??"N/A",m=t?.max_price_spread,p=m!=null?`${m.toFixed(2)} SEK`:"N/A",x=m!=null&&m>0;return d.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:[d.jsxs(Ne,{className:"p-4 flex items-center justify-between relative overflow-hidden group",children:[d.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${l?"bg-emerald-500":"bg-rose-500"}`}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:`p-2 rounded-full ${l?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:d.jsx(dS,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"7-Day Cost Drift"}),d.jsx("div",{className:`text-lg font-semibold ${l?"text-emerald-400":"text-rose-400"}`,children:o})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"vs Plan"}),l?d.jsx(W1,{className:"h-4 w-4 text-emerald-500 ml-auto"}):d.jsx(ng,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),d.jsxs(Ne,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${x?"bg-emerald-500":"bg-rose-500"}`}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:`p-2 rounded-full ${x?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:d.jsx(co,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Max Price Spread"}),d.jsx("div",{className:`text-lg font-semibold ${x?"text-emerald-400":"text-rose-400"}`,children:p})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"Arbitrage"}),x?d.jsx(ng,{className:"h-4 w-4 text-emerald-500 ml-auto"}):d.jsx(W1,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),d.jsxs(Ne,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.02]"}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:"p-2 rounded-full bg-amber-500/10 text-amber-400",children:d.jsx(Qn,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"PV Forecast Error"}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[u," ",d.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),d.jsx(Y1,{className:"h-4 w-4 text-amber-500/50 ml-auto"})]})]}),d.jsxs(Ne,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-blue-500/[0.02]"}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-400",children:d.jsx(co,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Load Forecast Error"}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[f," ",d.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),d.jsx(Y1,{className:"h-4 w-4 text-blue-500/50 ml-auto"})]})]})]})}fs.register(Mc,Tc,bo,xi,wh,_o,vo,_h);function PP({title:t,slots:e,color:n}){const a={labels:e.map(l=>new Date(l.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),datasets:[{label:"Actual",data:e.map(l=>l.actual??null),borderColor:"#94a3b8",backgroundColor:"#94a3b8",borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p90",data:e.map(l=>l.p90),borderColor:`${n}40`,borderWidth:1,backgroundColor:`${n}33`,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:"+1"},{label:"p10 (Risk)",data:e.map(l=>l.p10),borderColor:`${n}80`,borderWidth:1.5,borderDash:[4,4],backgroundColor:"transparent",pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p50 (Forecast)",data:e.map(l=>l.p50),borderColor:n,backgroundColor:n,borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{color:"#cbd5e1",font:{size:11},boxWidth:8,usePointStyle:!0}},title:{display:!!t,text:t,color:"#e2e8f0",font:{size:13,weight:"normal"},align:"start",padding:{bottom:10}},tooltip:{mode:"index",intersect:!1,backgroundColor:"#1e293b",titleColor:"#e2e8f0",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},scales:{x:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8",maxRotation:0,autoSkip:!0,maxTicksLimit:8}},y:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8"},min:0}},interaction:{mode:"nearest",axis:"x",intersect:!1},layout:{padding:{bottom:0,left:10,right:10}}};return d.jsx("div",{className:"w-full h-[250px]",children:d.jsx(s0,{data:a,options:o})})}var TN;function ae(){return TN.apply(null,arguments)}function BP(t){TN=t}function ds(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ga(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function i0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(qe(t,e))return!1;return!0}function vn(t){return t===void 0}function pi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Oc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function DN(t,e){var n=[],s,a=t.length;for(s=0;s<a;++s)n.push(e(t[s],s));return n}function ea(t,e){for(var n in e)qe(e,n)&&(t[n]=e[n]);return qe(e,"toString")&&(t.toString=e.toString),qe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Es(t,e,n,s){return QN(t,e,n,s,!0).utc()}function VP(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ce(t){return t._pf==null&&(t._pf=VP()),t._pf}var Pg;Array.prototype.some?Pg=Array.prototype.some:Pg=function(t){var e=Object(this),n=e.length>>>0,s;for(s=0;s<n;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function a0(t){var e=null,n=!1,s=t._d&&!isNaN(t._d.getTime());if(s&&(e=Ce(t),n=Pg.call(e.parsedDateParts,function(a){return a!=null}),s=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s;return t._isValid}function Rh(t){var e=Es(NaN);return t!=null?ea(Ce(e),t):Ce(e).userInvalidated=!0,e}var Bw=ae.momentProperties=[],Yp=!1;function r0(t,e){var n,s,a,o=Bw.length;if(vn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),vn(e._i)||(t._i=e._i),vn(e._f)||(t._f=e._f),vn(e._l)||(t._l=e._l),vn(e._strict)||(t._strict=e._strict),vn(e._tzm)||(t._tzm=e._tzm),vn(e._isUTC)||(t._isUTC=e._isUTC),vn(e._offset)||(t._offset=e._offset),vn(e._pf)||(t._pf=Ce(e)),vn(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)s=Bw[n],a=e[s],vn(a)||(t[s]=a);return t}function Rc(t){r0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Yp===!1&&(Yp=!0,ae.updateOffset(this),Yp=!1)}function hs(t){return t instanceof Rc||t!=null&&t._isAMomentObject!=null}function CN(t){ae.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Jn(t,e){var n=!0;return ea(function(){if(ae.deprecationHandler!=null&&ae.deprecationHandler(null,t),n){var s=[],a,o,l,u=arguments.length;for(o=0;o<u;o++){if(a="",typeof arguments[o]=="object"){a+=`
[`+o+"] ";for(l in arguments[0])qe(arguments[0],l)&&(a+=l+": "+arguments[0][l]+", ");a=a.slice(0,-2)}else a=arguments[o];s.push(a)}CN(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Vw={};function AN(t,e){ae.deprecationHandler!=null&&ae.deprecationHandler(t,e),Vw[t]||(CN(e),Vw[t]=!0)}ae.suppressDeprecationWarnings=!1;ae.deprecationHandler=null;function Os(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function FP(t){var e,n;for(n in t)qe(t,n)&&(e=t[n],Os(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Bg(t,e){var n=ea({},t),s;for(s in e)qe(e,s)&&(Ga(t[s])&&Ga(e[s])?(n[s]={},ea(n[s],t[s]),ea(n[s],e[s])):e[s]!=null?n[s]=e[s]:delete n[s]);for(s in t)qe(t,s)&&!qe(e,s)&&Ga(t[s])&&(n[s]=ea({},n[s]));return n}function o0(t){t!=null&&this.set(t)}var Vg;Object.keys?Vg=Object.keys:Vg=function(t){var e,n=[];for(e in t)qe(t,e)&&n.push(e);return n};var HP={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function UP(t,e,n){var s=this._calendar[t]||this._calendar.sameElse;return Os(s)?s.call(e,n):s}function As(t,e,n){var s=""+Math.abs(t),a=e-s.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+s}var l0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wp={},ao={};function be(t,e,n,s){var a=s;typeof s=="string"&&(a=function(){return this[s]()}),t&&(ao[t]=a),e&&(ao[e[0]]=function(){return As(a.apply(this,arguments),e[1],e[2])}),n&&(ao[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function YP(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function WP(t){var e=t.match(l0),n,s;for(n=0,s=e.length;n<s;n++)ao[e[n]]?e[n]=ao[e[n]]:e[n]=YP(e[n]);return function(a){var o="",l;for(l=0;l<s;l++)o+=Os(e[l])?e[l].call(a,t):e[l];return o}}function Ed(t,e){return t.isValid()?(e=EN(e,t.localeData()),Wp[e]=Wp[e]||WP(e),Wp[e](t)):t.localeData().invalidDate()}function EN(t,e){var n=5;function s(a){return e.longDateFormat(a)||a}for(vd.lastIndex=0;n>=0&&vd.test(t);)t=t.replace(vd,s),vd.lastIndex=0,n-=1;return t}var IP={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function qP(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(l0).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var GP="Invalid date";function $P(){return this._invalidDate}var XP="%d",KP=/\d{1,2}/;function ZP(t){return this._ordinal.replace("%d",t)}var QP={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function JP(t,e,n,s){var a=this._relativeTime[n];return Os(a)?a(t,e,n,s):a.replace(/%d/i,t)}function eB(t,e){var n=this._relativeTime[t>0?"future":"past"];return Os(n)?n(e):n.replace(/%s/i,e)}var Fw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function es(t){return typeof t=="string"?Fw[t]||Fw[t.toLowerCase()]:void 0}function c0(t){var e={},n,s;for(s in t)qe(t,s)&&(n=es(s),n&&(e[n]=t[s]));return e}var tB={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function nB(t){var e=[],n;for(n in t)qe(t,n)&&e.push({unit:n,priority:tB[n]});return e.sort(function(s,a){return s.priority-a.priority}),e}var ON=/\d/,Rn=/\d\d/,RN=/\d{3}/,u0=/\d{4}/,Lh=/[+-]?\d{6}/,ht=/\d\d?/,LN=/\d\d\d\d?/,zN=/\d\d\d\d\d\d?/,zh=/\d{1,3}/,d0=/\d{1,4}/,Ph=/[+-]?\d{1,6}/,ko=/\d+/,Bh=/[+-]?\d+/,sB=/Z|[+-]\d\d:?\d\d/gi,Vh=/Z|[+-]\d\d(?::?\d\d)?/gi,iB=/[+-]?\d+(\.\d{1,3})?/,Lc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,No=/^[1-9]\d?/,h0=/^([1-9]\d|\d)/,ah;ah={};function de(t,e,n){ah[t]=Os(e)?e:function(s,a){return s&&n?n:e}}function aB(t,e){return qe(ah,t)?ah[t](e._strict,e._locale):new RegExp(rB(t))}function rB(t){return hi(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,s,a,o){return n||s||a||o}))}function hi(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Zn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ve(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Zn(e)),n}var Fg={};function st(t,e){var n,s=e,a;for(typeof t=="string"&&(t=[t]),pi(e)&&(s=function(o,l){l[e]=Ve(o)}),a=t.length,n=0;n<a;n++)Fg[t[n]]=s}function zc(t,e){st(t,function(n,s,a,o){a._w=a._w||{},e(n,a._w,a,o)})}function oB(t,e,n){e!=null&&qe(Fg,t)&&Fg[t](e,n._a,n,t)}function Fh(t){return t%4===0&&t%100!==0||t%400===0}var on=0,li=1,ks=2,Vt=3,us=4,ci=5,Ya=6,lB=7,cB=8;be("Y",0,0,function(){var t=this.year();return t<=9999?As(t,4):"+"+t});be(0,["YY",2],0,function(){return this.year()%100});be(0,["YYYY",4],0,"year");be(0,["YYYYY",5],0,"year");be(0,["YYYYYY",6,!0],0,"year");de("Y",Bh);de("YY",ht,Rn);de("YYYY",d0,u0);de("YYYYY",Ph,Lh);de("YYYYYY",Ph,Lh);st(["YYYYY","YYYYYY"],on);st("YYYY",function(t,e){e[on]=t.length===2?ae.parseTwoDigitYear(t):Ve(t)});st("YY",function(t,e){e[on]=ae.parseTwoDigitYear(t)});st("Y",function(t,e){e[on]=parseInt(t,10)});function nc(t){return Fh(t)?366:365}ae.parseTwoDigitYear=function(t){return Ve(t)+(Ve(t)>68?1900:2e3)};var PN=Mo("FullYear",!0);function uB(){return Fh(this.year())}function Mo(t,e){return function(n){return n!=null?(BN(this,t,n),ae.updateOffset(this,e),this):bc(this,t)}}function bc(t,e){if(!t.isValid())return NaN;var n=t._d,s=t._isUTC;switch(e){case"Milliseconds":return s?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return s?n.getUTCSeconds():n.getSeconds();case"Minutes":return s?n.getUTCMinutes():n.getMinutes();case"Hours":return s?n.getUTCHours():n.getHours();case"Date":return s?n.getUTCDate():n.getDate();case"Day":return s?n.getUTCDay():n.getDay();case"Month":return s?n.getUTCMonth():n.getMonth();case"FullYear":return s?n.getUTCFullYear():n.getFullYear();default:return NaN}}function BN(t,e,n){var s,a,o,l,u;if(!(!t.isValid()||isNaN(n))){switch(s=t._d,a=t._isUTC,e){case"Milliseconds":return void(a?s.setUTCMilliseconds(n):s.setMilliseconds(n));case"Seconds":return void(a?s.setUTCSeconds(n):s.setSeconds(n));case"Minutes":return void(a?s.setUTCMinutes(n):s.setMinutes(n));case"Hours":return void(a?s.setUTCHours(n):s.setHours(n));case"Date":return void(a?s.setUTCDate(n):s.setDate(n));case"FullYear":break;default:return}o=n,l=t.month(),u=t.date(),u=u===29&&l===1&&!Fh(o)?28:u,a?s.setUTCFullYear(o,l,u):s.setFullYear(o,l,u)}}function dB(t){return t=es(t),Os(this[t])?this[t]():this}function hB(t,e){if(typeof t=="object"){t=c0(t);var n=nB(t),s,a=n.length;for(s=0;s<a;s++)this[n[s].unit](t[n[s].unit])}else if(t=es(t),Os(this[t]))return this[t](e);return this}function fB(t,e){return(t%e+e)%e}var Tt;Array.prototype.indexOf?Tt=Array.prototype.indexOf:Tt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function f0(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=fB(e,12);return t+=(e-n)/12,n===1?Fh(t)?29:28:31-n%7%2}be("M",["MM",2],"Mo",function(){return this.month()+1});be("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});be("MMMM",0,0,function(t){return this.localeData().months(this,t)});de("M",ht,No);de("MM",ht,Rn);de("MMM",function(t,e){return e.monthsShortRegex(t)});de("MMMM",function(t,e){return e.monthsRegex(t)});st(["M","MM"],function(t,e){e[li]=Ve(t)-1});st(["MMM","MMMM"],function(t,e,n,s){var a=n._locale.monthsParse(t,s,n._strict);a!=null?e[li]=a:Ce(n).invalidMonth=t});var mB="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),VN="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),FN=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pB=Lc,gB=Lc;function xB(t,e){return t?ds(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||FN).test(e)?"format":"standalone"][t.month()]:ds(this._months)?this._months:this._months.standalone}function yB(t,e){return t?ds(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[FN.test(e)?"format":"standalone"][t.month()]:ds(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function bB(t,e,n){var s,a,o,l=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)o=Es([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(a=Tt.call(this._shortMonthsParse,l),a!==-1?a:null):(a=Tt.call(this._longMonthsParse,l),a!==-1?a:null):e==="MMM"?(a=Tt.call(this._shortMonthsParse,l),a!==-1?a:(a=Tt.call(this._longMonthsParse,l),a!==-1?a:null)):(a=Tt.call(this._longMonthsParse,l),a!==-1?a:(a=Tt.call(this._shortMonthsParse,l),a!==-1?a:null))}function vB(t,e,n){var s,a,o;if(this._monthsParseExact)return bB.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(a=Es([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[s]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(n&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!n&&this._monthsParse[s].test(t))return s}}function HN(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ve(e);else if(e=t.localeData().monthsParse(e),!pi(e))return t}var n=e,s=t.date();return s=s<29?s:Math.min(s,f0(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,s):t._d.setMonth(n,s),t}function UN(t){return t!=null?(HN(this,t),ae.updateOffset(this,!0),this):bc(this,"Month")}function _B(){return f0(this.year(),this.month())}function wB(t){return this._monthsParseExact?(qe(this,"_monthsRegex")||YN.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(qe(this,"_monthsShortRegex")||(this._monthsShortRegex=pB),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function SB(t){return this._monthsParseExact?(qe(this,"_monthsRegex")||YN.call(this),t?this._monthsStrictRegex:this._monthsRegex):(qe(this,"_monthsRegex")||(this._monthsRegex=gB),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function YN(){function t(f,m){return m.length-f.length}var e=[],n=[],s=[],a,o,l,u;for(a=0;a<12;a++)o=Es([2e3,a]),l=hi(this.monthsShort(o,"")),u=hi(this.months(o,"")),e.push(l),n.push(u),s.push(u),s.push(l);e.sort(t),n.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function jB(t,e,n,s,a,o,l){var u;return t<100&&t>=0?(u=new Date(t+400,e,n,s,a,o,l),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,n,s,a,o,l),u}function vc(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function rh(t,e,n){var s=7+e-n,a=(7+vc(t,0,s).getUTCDay()-e)%7;return-a+s-1}function WN(t,e,n,s,a){var o=(7+n-s)%7,l=rh(t,s,a),u=1+7*(e-1)+o+l,f,m;return u<=0?(f=t-1,m=nc(f)+u):u>nc(t)?(f=t+1,m=u-nc(t)):(f=t,m=u),{year:f,dayOfYear:m}}function _c(t,e,n){var s=rh(t.year(),e,n),a=Math.floor((t.dayOfYear()-s-1)/7)+1,o,l;return a<1?(l=t.year()-1,o=a+fi(l,e,n)):a>fi(t.year(),e,n)?(o=a-fi(t.year(),e,n),l=t.year()+1):(l=t.year(),o=a),{week:o,year:l}}function fi(t,e,n){var s=rh(t,e,n),a=rh(t+1,e,n);return(nc(t)-s+a)/7}be("w",["ww",2],"wo","week");be("W",["WW",2],"Wo","isoWeek");de("w",ht,No);de("ww",ht,Rn);de("W",ht,No);de("WW",ht,Rn);zc(["w","ww","W","WW"],function(t,e,n,s){e[s.substr(0,1)]=Ve(t)});function kB(t){return _c(t,this._week.dow,this._week.doy).week}var NB={dow:0,doy:6};function MB(){return this._week.dow}function TB(){return this._week.doy}function DB(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function CB(t){var e=_c(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}be("d",0,"do","day");be("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});be("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});be("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});be("e",0,0,"weekday");be("E",0,0,"isoWeekday");de("d",ht);de("e",ht);de("E",ht);de("dd",function(t,e){return e.weekdaysMinRegex(t)});de("ddd",function(t,e){return e.weekdaysShortRegex(t)});de("dddd",function(t,e){return e.weekdaysRegex(t)});zc(["dd","ddd","dddd"],function(t,e,n,s){var a=n._locale.weekdaysParse(t,s,n._strict);a!=null?e.d=a:Ce(n).invalidWeekday=t});zc(["d","e","E"],function(t,e,n,s){e[s]=Ve(t)});function AB(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function EB(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function m0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var OB="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),IN="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),RB="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),LB=Lc,zB=Lc,PB=Lc;function BB(t,e){var n=ds(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?m0(n,this._week.dow):t?n[t.day()]:n}function VB(t){return t===!0?m0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function FB(t){return t===!0?m0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function HB(t,e,n){var s,a,o,l=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)o=Es([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(a=Tt.call(this._weekdaysParse,l),a!==-1?a:null):e==="ddd"?(a=Tt.call(this._shortWeekdaysParse,l),a!==-1?a:null):(a=Tt.call(this._minWeekdaysParse,l),a!==-1?a:null):e==="dddd"?(a=Tt.call(this._weekdaysParse,l),a!==-1||(a=Tt.call(this._shortWeekdaysParse,l),a!==-1)?a:(a=Tt.call(this._minWeekdaysParse,l),a!==-1?a:null)):e==="ddd"?(a=Tt.call(this._shortWeekdaysParse,l),a!==-1||(a=Tt.call(this._weekdaysParse,l),a!==-1)?a:(a=Tt.call(this._minWeekdaysParse,l),a!==-1?a:null)):(a=Tt.call(this._minWeekdaysParse,l),a!==-1||(a=Tt.call(this._weekdaysParse,l),a!==-1)?a:(a=Tt.call(this._shortWeekdaysParse,l),a!==-1?a:null))}function UB(t,e,n){var s,a,o;if(this._weekdaysParseExact)return HB.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(a=Es([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[s]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(n&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(n&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!n&&this._weekdaysParse[s].test(t))return s}}function YB(t){if(!this.isValid())return t!=null?this:NaN;var e=bc(this,"Day");return t!=null?(t=AB(t,this.localeData()),this.add(t-e,"d")):e}function WB(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function IB(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=EB(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function qB(t){return this._weekdaysParseExact?(qe(this,"_weekdaysRegex")||p0.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(qe(this,"_weekdaysRegex")||(this._weekdaysRegex=LB),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function GB(t){return this._weekdaysParseExact?(qe(this,"_weekdaysRegex")||p0.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(qe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zB),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $B(t){return this._weekdaysParseExact?(qe(this,"_weekdaysRegex")||p0.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(qe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=PB),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function p0(){function t(p,x){return x.length-p.length}var e=[],n=[],s=[],a=[],o,l,u,f,m;for(o=0;o<7;o++)l=Es([2e3,1]).day(o),u=hi(this.weekdaysMin(l,"")),f=hi(this.weekdaysShort(l,"")),m=hi(this.weekdays(l,"")),e.push(u),n.push(f),s.push(m),a.push(u),a.push(f),a.push(m);e.sort(t),n.sort(t),s.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function g0(){return this.hours()%12||12}function XB(){return this.hours()||24}be("H",["HH",2],0,"hour");be("h",["hh",2],0,g0);be("k",["kk",2],0,XB);be("hmm",0,0,function(){return""+g0.apply(this)+As(this.minutes(),2)});be("hmmss",0,0,function(){return""+g0.apply(this)+As(this.minutes(),2)+As(this.seconds(),2)});be("Hmm",0,0,function(){return""+this.hours()+As(this.minutes(),2)});be("Hmmss",0,0,function(){return""+this.hours()+As(this.minutes(),2)+As(this.seconds(),2)});function qN(t,e){be(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}qN("a",!0);qN("A",!1);function GN(t,e){return e._meridiemParse}de("a",GN);de("A",GN);de("H",ht,h0);de("h",ht,No);de("k",ht,No);de("HH",ht,Rn);de("hh",ht,Rn);de("kk",ht,Rn);de("hmm",LN);de("hmmss",zN);de("Hmm",LN);de("Hmmss",zN);st(["H","HH"],Vt);st(["k","kk"],function(t,e,n){var s=Ve(t);e[Vt]=s===24?0:s});st(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});st(["h","hh"],function(t,e,n){e[Vt]=Ve(t),Ce(n).bigHour=!0});st("hmm",function(t,e,n){var s=t.length-2;e[Vt]=Ve(t.substr(0,s)),e[us]=Ve(t.substr(s)),Ce(n).bigHour=!0});st("hmmss",function(t,e,n){var s=t.length-4,a=t.length-2;e[Vt]=Ve(t.substr(0,s)),e[us]=Ve(t.substr(s,2)),e[ci]=Ve(t.substr(a)),Ce(n).bigHour=!0});st("Hmm",function(t,e,n){var s=t.length-2;e[Vt]=Ve(t.substr(0,s)),e[us]=Ve(t.substr(s))});st("Hmmss",function(t,e,n){var s=t.length-4,a=t.length-2;e[Vt]=Ve(t.substr(0,s)),e[us]=Ve(t.substr(s,2)),e[ci]=Ve(t.substr(a))});function KB(t){return(t+"").toLowerCase().charAt(0)==="p"}var ZB=/[ap]\.?m?\.?/i,QB=Mo("Hours",!0);function JB(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var $N={calendar:HP,longDateFormat:IP,invalidDate:GP,ordinal:XP,dayOfMonthOrdinalParse:KP,relativeTime:QP,months:mB,monthsShort:VN,week:NB,weekdays:OB,weekdaysMin:RB,weekdaysShort:IN,meridiemParse:ZB},mt={},Rl={},wc;function e9(t,e){var n,s=Math.min(t.length,e.length);for(n=0;n<s;n+=1)if(t[n]!==e[n])return n;return s}function Hw(t){return t&&t.toLowerCase().replace("_","-")}function t9(t){for(var e=0,n,s,a,o;e<t.length;){for(o=Hw(t[e]).split("-"),n=o.length,s=Hw(t[e+1]),s=s?s.split("-"):null;n>0;){if(a=Hh(o.slice(0,n).join("-")),a)return a;if(s&&s.length>=n&&e9(o,s)>=n-1)break;n--}e++}return wc}function n9(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Hh(t){var e=null,n;if(mt[t]===void 0&&typeof Ld<"u"&&Ld&&Ld.exports&&n9(t))try{e=wc._abbr,n=require,n("./locale/"+t),aa(e)}catch{mt[t]=null}return mt[t]}function aa(t,e){var n;return t&&(vn(e)?n=yi(t):n=x0(t,e),n?wc=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),wc._abbr}function x0(t,e){if(e!==null){var n,s=$N;if(e.abbr=t,mt[t]!=null)AN("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=mt[t]._config;else if(e.parentLocale!=null)if(mt[e.parentLocale]!=null)s=mt[e.parentLocale]._config;else if(n=Hh(e.parentLocale),n!=null)s=n._config;else return Rl[e.parentLocale]||(Rl[e.parentLocale]=[]),Rl[e.parentLocale].push({name:t,config:e}),null;return mt[t]=new o0(Bg(s,e)),Rl[t]&&Rl[t].forEach(function(a){x0(a.name,a.config)}),aa(t),mt[t]}else return delete mt[t],null}function s9(t,e){if(e!=null){var n,s,a=$N;mt[t]!=null&&mt[t].parentLocale!=null?mt[t].set(Bg(mt[t]._config,e)):(s=Hh(t),s!=null&&(a=s._config),e=Bg(a,e),s==null&&(e.abbr=t),n=new o0(e),n.parentLocale=mt[t],mt[t]=n),aa(t)}else mt[t]!=null&&(mt[t].parentLocale!=null?(mt[t]=mt[t].parentLocale,t===aa()&&aa(t)):mt[t]!=null&&delete mt[t]);return mt[t]}function yi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wc;if(!ds(t)){if(e=Hh(t),e)return e;t=[t]}return t9(t)}function i9(){return Vg(mt)}function y0(t){var e,n=t._a;return n&&Ce(t).overflow===-2&&(e=n[li]<0||n[li]>11?li:n[ks]<1||n[ks]>f0(n[on],n[li])?ks:n[Vt]<0||n[Vt]>24||n[Vt]===24&&(n[us]!==0||n[ci]!==0||n[Ya]!==0)?Vt:n[us]<0||n[us]>59?us:n[ci]<0||n[ci]>59?ci:n[Ya]<0||n[Ya]>999?Ya:-1,Ce(t)._overflowDayOfYear&&(e<on||e>ks)&&(e=ks),Ce(t)._overflowWeeks&&e===-1&&(e=lB),Ce(t)._overflowWeekday&&e===-1&&(e=cB),Ce(t).overflow=e),t}var a9=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,r9=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,o9=/Z|[+-]\d\d(?::?\d\d)?/,_d=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ip=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],l9=/^\/?Date\((-?\d+)/i,c9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,u9={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function XN(t){var e,n,s=t._i,a=a9.exec(s)||r9.exec(s),o,l,u,f,m=_d.length,p=Ip.length;if(a){for(Ce(t).iso=!0,e=0,n=m;e<n;e++)if(_d[e][1].exec(a[1])){l=_d[e][0],o=_d[e][2]!==!1;break}if(l==null){t._isValid=!1;return}if(a[3]){for(e=0,n=p;e<n;e++)if(Ip[e][1].exec(a[3])){u=(a[2]||" ")+Ip[e][0];break}if(u==null){t._isValid=!1;return}}if(!o&&u!=null){t._isValid=!1;return}if(a[4])if(o9.exec(a[4]))f="Z";else{t._isValid=!1;return}t._f=l+(u||"")+(f||""),v0(t)}else t._isValid=!1}function d9(t,e,n,s,a,o){var l=[h9(t),VN.indexOf(e),parseInt(n,10),parseInt(s,10),parseInt(a,10)];return o&&l.push(parseInt(o,10)),l}function h9(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function f9(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function m9(t,e,n){if(t){var s=IN.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(s!==a)return Ce(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function p9(t,e,n){if(t)return u9[t];if(e)return 0;var s=parseInt(n,10),a=s%100,o=(s-a)/100;return o*60+a}function KN(t){var e=c9.exec(f9(t._i)),n;if(e){if(n=d9(e[4],e[3],e[2],e[5],e[6],e[7]),!m9(e[1],n,t))return;t._a=n,t._tzm=p9(e[8],e[9],e[10]),t._d=vc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ce(t).rfc2822=!0}else t._isValid=!1}function g9(t){var e=l9.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(XN(t),t._isValid===!1)delete t._isValid;else return;if(KN(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ae.createFromInputFallback(t)}ae.createFromInputFallback=Jn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Kr(t,e,n){return t??e??n}function x9(t){var e=new Date(ae.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function b0(t){var e,n,s=[],a,o,l;if(!t._d){for(a=x9(t),t._w&&t._a[ks]==null&&t._a[li]==null&&y9(t),t._dayOfYear!=null&&(l=Kr(t._a[on],a[on]),(t._dayOfYear>nc(l)||t._dayOfYear===0)&&(Ce(t)._overflowDayOfYear=!0),n=vc(l,0,t._dayOfYear),t._a[li]=n.getUTCMonth(),t._a[ks]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=a[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Vt]===24&&t._a[us]===0&&t._a[ci]===0&&t._a[Ya]===0&&(t._nextDay=!0,t._a[Vt]=0),t._d=(t._useUTC?vc:jB).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Vt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(Ce(t).weekdayMismatch=!0)}}function y9(t){var e,n,s,a,o,l,u,f,m;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,l=4,n=Kr(e.GG,t._a[on],_c(dt(),1,4).year),s=Kr(e.W,1),a=Kr(e.E,1),(a<1||a>7)&&(f=!0)):(o=t._locale._week.dow,l=t._locale._week.doy,m=_c(dt(),o,l),n=Kr(e.gg,t._a[on],m.year),s=Kr(e.w,m.week),e.d!=null?(a=e.d,(a<0||a>6)&&(f=!0)):e.e!=null?(a=e.e+o,(e.e<0||e.e>6)&&(f=!0)):a=o),s<1||s>fi(n,o,l)?Ce(t)._overflowWeeks=!0:f!=null?Ce(t)._overflowWeekday=!0:(u=WN(n,s,a,o,l),t._a[on]=u.year,t._dayOfYear=u.dayOfYear)}ae.ISO_8601=function(){};ae.RFC_2822=function(){};function v0(t){if(t._f===ae.ISO_8601){XN(t);return}if(t._f===ae.RFC_2822){KN(t);return}t._a=[],Ce(t).empty=!0;var e=""+t._i,n,s,a,o,l,u=e.length,f=0,m,p;for(a=EN(t._f,t._locale).match(l0)||[],p=a.length,n=0;n<p;n++)o=a[n],s=(e.match(aB(o,t))||[])[0],s&&(l=e.substr(0,e.indexOf(s)),l.length>0&&Ce(t).unusedInput.push(l),e=e.slice(e.indexOf(s)+s.length),f+=s.length),ao[o]?(s?Ce(t).empty=!1:Ce(t).unusedTokens.push(o),oB(o,s,t)):t._strict&&!s&&Ce(t).unusedTokens.push(o);Ce(t).charsLeftOver=u-f,e.length>0&&Ce(t).unusedInput.push(e),t._a[Vt]<=12&&Ce(t).bigHour===!0&&t._a[Vt]>0&&(Ce(t).bigHour=void 0),Ce(t).parsedDateParts=t._a.slice(0),Ce(t).meridiem=t._meridiem,t._a[Vt]=b9(t._locale,t._a[Vt],t._meridiem),m=Ce(t).era,m!==null&&(t._a[on]=t._locale.erasConvertYear(m,t._a[on])),b0(t),y0(t)}function b9(t,e,n){var s;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(s=t.isPM(n),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function v9(t){var e,n,s,a,o,l,u=!1,f=t._f.length;if(f===0){Ce(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<f;a++)o=0,l=!1,e=r0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[a],v0(e),a0(e)&&(l=!0),o+=Ce(e).charsLeftOver,o+=Ce(e).unusedTokens.length*10,Ce(e).score=o,u?o<s&&(s=o,n=e):(s==null||o<s||l)&&(s=o,n=e,l&&(u=!0));ea(t,n||e)}function _9(t){if(!t._d){var e=c0(t._i),n=e.day===void 0?e.date:e.day;t._a=DN([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),b0(t)}}function w9(t){var e=new Rc(y0(ZN(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ZN(t){var e=t._i,n=t._f;return t._locale=t._locale||yi(t._l),e===null||n===void 0&&e===""?Rh({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),hs(e)?new Rc(y0(e)):(Oc(e)?t._d=e:ds(n)?v9(t):n?v0(t):S9(t),a0(t)||(t._d=null),t))}function S9(t){var e=t._i;vn(e)?t._d=new Date(ae.now()):Oc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?g9(t):ds(e)?(t._a=DN(e.slice(0),function(n){return parseInt(n,10)}),b0(t)):Ga(e)?_9(t):pi(e)?t._d=new Date(e):ae.createFromInputFallback(t)}function QN(t,e,n,s,a){var o={};return(e===!0||e===!1)&&(s=e,e=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(Ga(t)&&i0(t)||ds(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=n,o._i=t,o._f=e,o._strict=s,w9(o)}function dt(t,e,n,s){return QN(t,e,n,s,!1)}var j9=Jn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=dt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Rh()}),k9=Jn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=dt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Rh()});function JN(t,e){var n,s;if(e.length===1&&ds(e[0])&&(e=e[0]),!e.length)return dt();for(n=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](n))&&(n=e[s]);return n}function N9(){var t=[].slice.call(arguments,0);return JN("isBefore",t)}function M9(){var t=[].slice.call(arguments,0);return JN("isAfter",t)}var T9=function(){return Date.now?Date.now():+new Date},Ll=["year","quarter","month","week","day","hour","minute","second","millisecond"];function D9(t){var e,n=!1,s,a=Ll.length;for(e in t)if(qe(t,e)&&!(Tt.call(Ll,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<a;++s)if(t[Ll[s]]){if(n)return!1;parseFloat(t[Ll[s]])!==Ve(t[Ll[s]])&&(n=!0)}return!0}function C9(){return this._isValid}function A9(){return ms(NaN)}function Uh(t){var e=c0(t),n=e.year||0,s=e.quarter||0,a=e.month||0,o=e.week||e.isoWeek||0,l=e.day||0,u=e.hour||0,f=e.minute||0,m=e.second||0,p=e.millisecond||0;this._isValid=D9(e),this._milliseconds=+p+m*1e3+f*6e4+u*1e3*60*60,this._days=+l+o*7,this._months=+a+s*3+n*12,this._data={},this._locale=yi(),this._bubble()}function Od(t){return t instanceof Uh}function Hg(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function E9(t,e,n){var s=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0,l;for(l=0;l<s;l++)Ve(t[l])!==Ve(e[l])&&o++;return o+a}function eM(t,e){be(t,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+As(~~(n/60),2)+e+As(~~n%60,2)})}eM("Z",":");eM("ZZ","");de("Z",Vh);de("ZZ",Vh);st(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=_0(Vh,t)});var O9=/([\+\-]|\d\d)/gi;function _0(t,e){var n=(e||"").match(t),s,a,o;return n===null?null:(s=n[n.length-1]||[],a=(s+"").match(O9)||["-",0,0],o=+(a[1]*60)+Ve(a[2]),o===0?0:a[0]==="+"?o:-o)}function w0(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(hs(t)||Oc(t)?t.valueOf():dt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),ae.updateOffset(n,!1),n):dt(t).local()}function Ug(t){return-Math.round(t._d.getTimezoneOffset())}ae.updateOffset=function(){};function R9(t,e,n){var s=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=_0(Vh,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(a=Ug(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),s!==t&&(!e||this._changeInProgress?sM(this,ms(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ae.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Ug(this)}function L9(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function z9(t){return this.utcOffset(0,t)}function P9(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ug(this),"m")),this}function B9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=_0(sB,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function V9(t){return this.isValid()?(t=t?dt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function F9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function H9(){if(!vn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return r0(t,this),t=ZN(t),t._a?(e=t._isUTC?Es(t._a):dt(t._a),this._isDSTShifted=this.isValid()&&E9(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function U9(){return this.isValid()?!this._isUTC:!1}function Y9(){return this.isValid()?this._isUTC:!1}function tM(){return this.isValid()?this._isUTC&&this._offset===0:!1}var W9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,I9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ms(t,e){var n=t,s=null,a,o,l;return Od(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:pi(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(s=W9.exec(t))?(a=s[1]==="-"?-1:1,n={y:0,d:Ve(s[ks])*a,h:Ve(s[Vt])*a,m:Ve(s[us])*a,s:Ve(s[ci])*a,ms:Ve(Hg(s[Ya]*1e3))*a}):(s=I9.exec(t))?(a=s[1]==="-"?-1:1,n={y:za(s[2],a),M:za(s[3],a),w:za(s[4],a),d:za(s[5],a),h:za(s[6],a),m:za(s[7],a),s:za(s[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(l=q9(dt(n.from),dt(n.to)),n={},n.ms=l.milliseconds,n.M=l.months),o=new Uh(n),Od(t)&&qe(t,"_locale")&&(o._locale=t._locale),Od(t)&&qe(t,"_isValid")&&(o._isValid=t._isValid),o}ms.fn=Uh.prototype;ms.invalid=A9;function za(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Uw(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function q9(t,e){var n;return t.isValid()&&e.isValid()?(e=w0(e,t),t.isBefore(e)?n=Uw(t,e):(n=Uw(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function nM(t,e){return function(n,s){var a,o;return s!==null&&!isNaN(+s)&&(AN(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=s,s=o),a=ms(n,s),sM(this,a,t),this}}function sM(t,e,n,s){var a=e._milliseconds,o=Hg(e._days),l=Hg(e._months);t.isValid()&&(s=s??!0,l&&HN(t,bc(t,"Month")+l*n),o&&BN(t,"Date",bc(t,"Date")+o*n),a&&t._d.setTime(t._d.valueOf()+a*n),s&&ae.updateOffset(t,o||l))}var G9=nM(1,"add"),$9=nM(-1,"subtract");function iM(t){return typeof t=="string"||t instanceof String}function X9(t){return hs(t)||Oc(t)||iM(t)||pi(t)||Z9(t)||K9(t)||t===null||t===void 0}function K9(t){var e=Ga(t)&&!i0(t),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,o,l=s.length;for(a=0;a<l;a+=1)o=s[a],n=n||qe(t,o);return e&&n}function Z9(t){var e=ds(t),n=!1;return e&&(n=t.filter(function(s){return!pi(s)&&iM(t)}).length===0),e&&n}function Q9(t){var e=Ga(t)&&!i0(t),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,o;for(a=0;a<s.length;a+=1)o=s[a],n=n||qe(t,o);return e&&n}function J9(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function eV(t,e){arguments.length===1&&(arguments[0]?X9(arguments[0])?(t=arguments[0],e=void 0):Q9(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||dt(),s=w0(n,this).startOf("day"),a=ae.calendarFormat(this,s)||"sameElse",o=e&&(Os(e[a])?e[a].call(this,n):e[a]);return this.format(o||this.localeData().calendar(a,this,dt(n)))}function tV(){return new Rc(this)}function nV(t,e){var n=hs(t)?t:dt(t);return this.isValid()&&n.isValid()?(e=es(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function sV(t,e){var n=hs(t)?t:dt(t);return this.isValid()&&n.isValid()?(e=es(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function iV(t,e,n,s){var a=hs(t)?t:dt(t),o=hs(e)?e:dt(e);return this.isValid()&&a.isValid()&&o.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(s[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function aV(t,e){var n=hs(t)?t:dt(t),s;return this.isValid()&&n.isValid()?(e=es(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function rV(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function oV(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function lV(t,e,n){var s,a,o;if(!this.isValid())return NaN;if(s=w0(t,this),!s.isValid())return NaN;switch(a=(s.utcOffset()-this.utcOffset())*6e4,e=es(e),e){case"year":o=Rd(this,s)/12;break;case"month":o=Rd(this,s);break;case"quarter":o=Rd(this,s)/3;break;case"second":o=(this-s)/1e3;break;case"minute":o=(this-s)/6e4;break;case"hour":o=(this-s)/36e5;break;case"day":o=(this-s-a)/864e5;break;case"week":o=(this-s-a)/6048e5;break;default:o=this-s}return n?o:Zn(o)}function Rd(t,e){if(t.date()<e.date())return-Rd(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(n,"months"),a,o;return e-s<0?(a=t.clone().add(n-1,"months"),o=(e-s)/(s-a)):(a=t.clone().add(n+1,"months"),o=(e-s)/(a-s)),-(n+o)||0}ae.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ae.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function cV(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function uV(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Ed(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Os(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ed(n,"Z")):Ed(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function dV(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,s,a,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+s+a+o)}function hV(t){t||(t=this.isUtc()?ae.defaultFormatUtc:ae.defaultFormat);var e=Ed(this,t);return this.localeData().postformat(e)}function fV(t,e){return this.isValid()&&(hs(t)&&t.isValid()||dt(t).isValid())?ms({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mV(t){return this.from(dt(),t)}function pV(t,e){return this.isValid()&&(hs(t)&&t.isValid()||dt(t).isValid())?ms({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function gV(t){return this.to(dt(),t)}function aM(t){var e;return t===void 0?this._locale._abbr:(e=yi(t),e!=null&&(this._locale=e),this)}var rM=Jn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function oM(){return this._locale}var oh=1e3,ro=60*oh,lh=60*ro,lM=(365*400+97)*24*lh;function oo(t,e){return(t%e+e)%e}function cM(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-lM:new Date(t,e,n).valueOf()}function uM(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-lM:Date.UTC(t,e,n)}function xV(t){var e,n;if(t=es(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?uM:cM,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=oo(e+(this._isUTC?0:this.utcOffset()*ro),lh);break;case"minute":e=this._d.valueOf(),e-=oo(e,ro);break;case"second":e=this._d.valueOf(),e-=oo(e,oh);break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function yV(t){var e,n;if(t=es(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?uM:cM,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=lh-oo(e+(this._isUTC?0:this.utcOffset()*ro),lh)-1;break;case"minute":e=this._d.valueOf(),e+=ro-oo(e,ro)-1;break;case"second":e=this._d.valueOf(),e+=oh-oo(e,oh)-1;break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function bV(){return this._d.valueOf()-(this._offset||0)*6e4}function vV(){return Math.floor(this.valueOf()/1e3)}function _V(){return new Date(this.valueOf())}function wV(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function SV(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function jV(){return this.isValid()?this.toISOString():null}function kV(){return a0(this)}function NV(){return ea({},Ce(this))}function MV(){return Ce(this).overflow}function TV(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}be("N",0,0,"eraAbbr");be("NN",0,0,"eraAbbr");be("NNN",0,0,"eraAbbr");be("NNNN",0,0,"eraName");be("NNNNN",0,0,"eraNarrow");be("y",["y",1],"yo","eraYear");be("y",["yy",2],0,"eraYear");be("y",["yyy",3],0,"eraYear");be("y",["yyyy",4],0,"eraYear");de("N",S0);de("NN",S0);de("NNN",S0);de("NNNN",VV);de("NNNNN",FV);st(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,s){var a=n._locale.erasParse(t,s,n._strict);a?Ce(n).era=a:Ce(n).invalidEra=t});de("y",ko);de("yy",ko);de("yyy",ko);de("yyyy",ko);de("yo",HV);st(["y","yy","yyy","yyyy"],on);st(["yo"],function(t,e,n,s){var a;n._locale._eraYearOrdinalRegex&&(a=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[on]=n._locale.eraYearOrdinalParse(t,a):e[on]=parseInt(t,10)});function DV(t,e){var n,s,a,o=this._eras||yi("en")._eras;for(n=0,s=o.length;n<s;++n)switch(typeof o[n].since==="string"&&(a=ae(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=ae(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf();break}return o}function CV(t,e,n){var s,a,o=this.eras(),l,u,f;for(t=t.toUpperCase(),s=0,a=o.length;s<a;++s)if(l=o[s].name.toUpperCase(),u=o[s].abbr.toUpperCase(),f=o[s].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===t)return o[s];break;case"NNNN":if(l===t)return o[s];break;case"NNNNN":if(f===t)return o[s];break}else if([l,u,f].indexOf(t)>=0)return o[s]}function AV(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ae(t.since).year():ae(t.since).year()+(e-t.offset)*n}function EV(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].name;return""}function OV(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].narrow;return""}function RV(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].abbr;return""}function LV(){var t,e,n,s,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(n=a[t].since<=a[t].until?1:-1,s=this.clone().startOf("day").valueOf(),a[t].since<=s&&s<=a[t].until||a[t].until<=s&&s<=a[t].since)return(this.year()-ae(a[t].since).year())*n+a[t].offset;return this.year()}function zV(t){return qe(this,"_erasNameRegex")||j0.call(this),t?this._erasNameRegex:this._erasRegex}function PV(t){return qe(this,"_erasAbbrRegex")||j0.call(this),t?this._erasAbbrRegex:this._erasRegex}function BV(t){return qe(this,"_erasNarrowRegex")||j0.call(this),t?this._erasNarrowRegex:this._erasRegex}function S0(t,e){return e.erasAbbrRegex(t)}function VV(t,e){return e.erasNameRegex(t)}function FV(t,e){return e.erasNarrowRegex(t)}function HV(t,e){return e._eraYearOrdinalRegex||ko}function j0(){var t=[],e=[],n=[],s=[],a,o,l,u,f,m=this.eras();for(a=0,o=m.length;a<o;++a)l=hi(m[a].name),u=hi(m[a].abbr),f=hi(m[a].narrow),e.push(l),t.push(u),n.push(f),s.push(l),s.push(u),s.push(f);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}be(0,["gg",2],0,function(){return this.weekYear()%100});be(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Yh(t,e){be(0,[t,t.length],0,e)}Yh("gggg","weekYear");Yh("ggggg","weekYear");Yh("GGGG","isoWeekYear");Yh("GGGGG","isoWeekYear");de("G",Bh);de("g",Bh);de("GG",ht,Rn);de("gg",ht,Rn);de("GGGG",d0,u0);de("gggg",d0,u0);de("GGGGG",Ph,Lh);de("ggggg",Ph,Lh);zc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,s){e[s.substr(0,2)]=Ve(t)});zc(["gg","GG"],function(t,e,n,s){e[s]=ae.parseTwoDigitYear(t)});function UV(t){return dM.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function YV(t){return dM.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function WV(){return fi(this.year(),1,4)}function IV(){return fi(this.isoWeekYear(),1,4)}function qV(){var t=this.localeData()._week;return fi(this.year(),t.dow,t.doy)}function GV(){var t=this.localeData()._week;return fi(this.weekYear(),t.dow,t.doy)}function dM(t,e,n,s,a){var o;return t==null?_c(this,s,a).year:(o=fi(t,s,a),e>o&&(e=o),$V.call(this,t,e,n,s,a))}function $V(t,e,n,s,a){var o=WN(t,e,n,s,a),l=vc(o.year,0,o.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}be("Q",0,"Qo","quarter");de("Q",ON);st("Q",function(t,e){e[li]=(Ve(t)-1)*3});function XV(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}be("D",["DD",2],"Do","date");de("D",ht,No);de("DD",ht,Rn);de("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});st(["D","DD"],ks);st("Do",function(t,e){e[ks]=Ve(t.match(ht)[0])});var hM=Mo("Date",!0);be("DDD",["DDDD",3],"DDDo","dayOfYear");de("DDD",zh);de("DDDD",RN);st(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ve(t)});function KV(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}be("m",["mm",2],0,"minute");de("m",ht,h0);de("mm",ht,Rn);st(["m","mm"],us);var ZV=Mo("Minutes",!1);be("s",["ss",2],0,"second");de("s",ht,h0);de("ss",ht,Rn);st(["s","ss"],ci);var QV=Mo("Seconds",!1);be("S",0,0,function(){return~~(this.millisecond()/100)});be(0,["SS",2],0,function(){return~~(this.millisecond()/10)});be(0,["SSS",3],0,"millisecond");be(0,["SSSS",4],0,function(){return this.millisecond()*10});be(0,["SSSSS",5],0,function(){return this.millisecond()*100});be(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});be(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});be(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});be(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});de("S",zh,ON);de("SS",zh,Rn);de("SSS",zh,RN);var ta,fM;for(ta="SSSS";ta.length<=9;ta+="S")de(ta,ko);function JV(t,e){e[Ya]=Ve(("0."+t)*1e3)}for(ta="S";ta.length<=9;ta+="S")st(ta,JV);fM=Mo("Milliseconds",!1);be("z",0,0,"zoneAbbr");be("zz",0,0,"zoneName");function e7(){return this._isUTC?"UTC":""}function t7(){return this._isUTC?"Coordinated Universal Time":""}var se=Rc.prototype;se.add=G9;se.calendar=eV;se.clone=tV;se.diff=lV;se.endOf=yV;se.format=hV;se.from=fV;se.fromNow=mV;se.to=pV;se.toNow=gV;se.get=dB;se.invalidAt=MV;se.isAfter=nV;se.isBefore=sV;se.isBetween=iV;se.isSame=aV;se.isSameOrAfter=rV;se.isSameOrBefore=oV;se.isValid=kV;se.lang=rM;se.locale=aM;se.localeData=oM;se.max=k9;se.min=j9;se.parsingFlags=NV;se.set=hB;se.startOf=xV;se.subtract=$9;se.toArray=wV;se.toObject=SV;se.toDate=_V;se.toISOString=uV;se.inspect=dV;typeof Symbol<"u"&&Symbol.for!=null&&(se[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});se.toJSON=jV;se.toString=cV;se.unix=vV;se.valueOf=bV;se.creationData=TV;se.eraName=EV;se.eraNarrow=OV;se.eraAbbr=RV;se.eraYear=LV;se.year=PN;se.isLeapYear=uB;se.weekYear=UV;se.isoWeekYear=YV;se.quarter=se.quarters=XV;se.month=UN;se.daysInMonth=_B;se.week=se.weeks=DB;se.isoWeek=se.isoWeeks=CB;se.weeksInYear=qV;se.weeksInWeekYear=GV;se.isoWeeksInYear=WV;se.isoWeeksInISOWeekYear=IV;se.date=hM;se.day=se.days=YB;se.weekday=WB;se.isoWeekday=IB;se.dayOfYear=KV;se.hour=se.hours=QB;se.minute=se.minutes=ZV;se.second=se.seconds=QV;se.millisecond=se.milliseconds=fM;se.utcOffset=R9;se.utc=z9;se.local=P9;se.parseZone=B9;se.hasAlignedHourOffset=V9;se.isDST=F9;se.isLocal=U9;se.isUtcOffset=Y9;se.isUtc=tM;se.isUTC=tM;se.zoneAbbr=e7;se.zoneName=t7;se.dates=Jn("dates accessor is deprecated. Use date instead.",hM);se.months=Jn("months accessor is deprecated. Use month instead",UN);se.years=Jn("years accessor is deprecated. Use year instead",PN);se.zone=Jn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",L9);se.isDSTShifted=Jn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",H9);function n7(t){return dt(t*1e3)}function s7(){return dt.apply(null,arguments).parseZone()}function mM(t){return t}var Ge=o0.prototype;Ge.calendar=UP;Ge.longDateFormat=qP;Ge.invalidDate=$P;Ge.ordinal=ZP;Ge.preparse=mM;Ge.postformat=mM;Ge.relativeTime=JP;Ge.pastFuture=eB;Ge.set=FP;Ge.eras=DV;Ge.erasParse=CV;Ge.erasConvertYear=AV;Ge.erasAbbrRegex=PV;Ge.erasNameRegex=zV;Ge.erasNarrowRegex=BV;Ge.months=xB;Ge.monthsShort=yB;Ge.monthsParse=vB;Ge.monthsRegex=SB;Ge.monthsShortRegex=wB;Ge.week=kB;Ge.firstDayOfYear=TB;Ge.firstDayOfWeek=MB;Ge.weekdays=BB;Ge.weekdaysMin=FB;Ge.weekdaysShort=VB;Ge.weekdaysParse=UB;Ge.weekdaysRegex=qB;Ge.weekdaysShortRegex=GB;Ge.weekdaysMinRegex=$B;Ge.isPM=KB;Ge.meridiem=JB;function ch(t,e,n,s){var a=yi(),o=Es().set(s,e);return a[n](o,t)}function pM(t,e,n){if(pi(t)&&(e=t,t=void 0),t=t||"",e!=null)return ch(t,e,n,"month");var s,a=[];for(s=0;s<12;s++)a[s]=ch(t,s,n,"month");return a}function k0(t,e,n,s){typeof t=="boolean"?(pi(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,pi(e)&&(n=e,e=void 0),e=e||"");var a=yi(),o=t?a._week.dow:0,l,u=[];if(n!=null)return ch(e,(n+o)%7,s,"day");for(l=0;l<7;l++)u[l]=ch(e,(l+o)%7,s,"day");return u}function i7(t,e){return pM(t,e,"months")}function a7(t,e){return pM(t,e,"monthsShort")}function r7(t,e,n){return k0(t,e,n,"weekdays")}function o7(t,e,n){return k0(t,e,n,"weekdaysShort")}function l7(t,e,n){return k0(t,e,n,"weekdaysMin")}aa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ve(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ae.lang=Jn("moment.lang is deprecated. Use moment.locale instead.",aa);ae.langData=Jn("moment.langData is deprecated. Use moment.localeData instead.",yi);var ei=Math.abs;function c7(){var t=this._data;return this._milliseconds=ei(this._milliseconds),this._days=ei(this._days),this._months=ei(this._months),t.milliseconds=ei(t.milliseconds),t.seconds=ei(t.seconds),t.minutes=ei(t.minutes),t.hours=ei(t.hours),t.months=ei(t.months),t.years=ei(t.years),this}function gM(t,e,n,s){var a=ms(e,n);return t._milliseconds+=s*a._milliseconds,t._days+=s*a._days,t._months+=s*a._months,t._bubble()}function u7(t,e){return gM(this,t,e,1)}function d7(t,e){return gM(this,t,e,-1)}function Yw(t){return t<0?Math.floor(t):Math.ceil(t)}function h7(){var t=this._milliseconds,e=this._days,n=this._months,s=this._data,a,o,l,u,f;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Yw(Yg(n)+e)*864e5,e=0,n=0),s.milliseconds=t%1e3,a=Zn(t/1e3),s.seconds=a%60,o=Zn(a/60),s.minutes=o%60,l=Zn(o/60),s.hours=l%24,e+=Zn(l/24),f=Zn(xM(e)),n+=f,e-=Yw(Yg(f)),u=Zn(n/12),n%=12,s.days=e,s.months=n,s.years=u,this}function xM(t){return t*4800/146097}function Yg(t){return t*146097/4800}function f7(t){if(!this.isValid())return NaN;var e,n,s=this._milliseconds;if(t=es(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,n=this._months+xM(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Yg(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function bi(t){return function(){return this.as(t)}}var yM=bi("ms"),m7=bi("s"),p7=bi("m"),g7=bi("h"),x7=bi("d"),y7=bi("w"),b7=bi("M"),v7=bi("Q"),_7=bi("y"),w7=yM;function S7(){return ms(this)}function j7(t){return t=es(t),this.isValid()?this[t+"s"]():NaN}function er(t){return function(){return this.isValid()?this._data[t]:NaN}}var k7=er("milliseconds"),N7=er("seconds"),M7=er("minutes"),T7=er("hours"),D7=er("days"),C7=er("months"),A7=er("years");function E7(){return Zn(this.days()/7)}var si=Math.round,so={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function O7(t,e,n,s,a){return a.relativeTime(e||1,!!n,t,s)}function R7(t,e,n,s){var a=ms(t).abs(),o=si(a.as("s")),l=si(a.as("m")),u=si(a.as("h")),f=si(a.as("d")),m=si(a.as("M")),p=si(a.as("w")),x=si(a.as("y")),b=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||l<=1&&["m"]||l<n.m&&["mm",l]||u<=1&&["h"]||u<n.h&&["hh",u]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(b=b||p<=1&&["w"]||p<n.w&&["ww",p]),b=b||m<=1&&["M"]||m<n.M&&["MM",m]||x<=1&&["y"]||["yy",x],b[2]=e,b[3]=+t>0,b[4]=s,O7.apply(null,b)}function L7(t){return t===void 0?si:typeof t=="function"?(si=t,!0):!1}function z7(t,e){return so[t]===void 0?!1:e===void 0?so[t]:(so[t]=e,t==="s"&&(so.ss=e-1),!0)}function P7(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=so,a,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(s=Object.assign({},so,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),a=this.localeData(),o=R7(this,!n,s,a),n&&(o=a.pastFuture(+this,o)),a.postformat(o)}var qp=Math.abs;function $r(t){return(t>0)-(t<0)||+t}function Wh(){if(!this.isValid())return this.localeData().invalidDate();var t=qp(this._milliseconds)/1e3,e=qp(this._days),n=qp(this._months),s,a,o,l,u=this.asSeconds(),f,m,p,x;return u?(s=Zn(t/60),a=Zn(s/60),t%=60,s%=60,o=Zn(n/12),n%=12,l=t?t.toFixed(3).replace(/\.?0+$/,""):"",f=u<0?"-":"",m=$r(this._months)!==$r(u)?"-":"",p=$r(this._days)!==$r(u)?"-":"",x=$r(this._milliseconds)!==$r(u)?"-":"",f+"P"+(o?m+o+"Y":"")+(n?m+n+"M":"")+(e?p+e+"D":"")+(a||s||t?"T":"")+(a?x+a+"H":"")+(s?x+s+"M":"")+(t?x+l+"S":"")):"P0D"}var He=Uh.prototype;He.isValid=C9;He.abs=c7;He.add=u7;He.subtract=d7;He.as=f7;He.asMilliseconds=yM;He.asSeconds=m7;He.asMinutes=p7;He.asHours=g7;He.asDays=x7;He.asWeeks=y7;He.asMonths=b7;He.asQuarters=v7;He.asYears=_7;He.valueOf=w7;He._bubble=h7;He.clone=S7;He.get=j7;He.milliseconds=k7;He.seconds=N7;He.minutes=M7;He.hours=T7;He.days=D7;He.weeks=E7;He.months=C7;He.years=A7;He.humanize=P7;He.toISOString=Wh;He.toString=Wh;He.toJSON=Wh;He.locale=aM;He.localeData=oM;He.toIsoString=Jn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wh);He.lang=rM;be("X",0,0,"unix");be("x",0,0,"valueOf");de("x",Bh);de("X",iB);st("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});st("x",function(t,e,n){n._d=new Date(Ve(t))});ae.version="2.30.1";BP(dt);ae.fn=se;ae.min=N9;ae.max=M9;ae.now=T9;ae.utc=Es;ae.unix=n7;ae.months=i7;ae.isDate=Oc;ae.locale=aa;ae.invalid=Rh;ae.duration=ms;ae.isMoment=hs;ae.weekdays=r7;ae.parseZone=s7;ae.localeData=yi;ae.isDuration=Od;ae.monthsShort=a7;ae.weekdaysMin=l7;ae.defineLocale=x0;ae.updateLocale=s9;ae.locales=i9;ae.weekdaysShort=o7;ae.normalizeUnits=es;ae.relativeTimeRounding=L7;ae.relativeTimeThreshold=z7;ae.calendarFormat=J9;ae.prototype=se;ae.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const B7={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};JS._date.override(typeof ae=="function"?{_id:"moment",formats:function(){return B7},parse:function(t,e){return typeof t=="string"&&typeof e=="string"?t=ae(t,e):t instanceof ae||(t=ae(t)),t.isValid()?t.valueOf():null},format:function(t,e){return ae(t).format(e)},add:function(t,e,n){return ae(t).add(e,n).valueOf()},diff:function(t,e,n){return ae(t).diff(ae(e),n)},startOf:function(t,e,n){return t=ae(t),e==="isoWeek"?(n=Math.trunc(Math.min(Math.max(0,n),6)),t.isoWeekday(n).startOf("day").valueOf()):t.startOf(e).valueOf()},endOf:function(t,e){return ae(t).endOf(e).valueOf()}}:{});fs.register(Mc,Tc,bo,xi,hx,wh,_o,vo,$d);function V7(){const[t,e]=k.useState(null),[n,s]=k.useState(null),[a,o]=k.useState(""),[l,u]=k.useState(!1),[f,m]=k.useState(!1),[p,x]=k.useState(3),[b,v]=k.useState(!1),[w,S]=k.useState("load"),[j,N]=k.useState("forecast"),[T,A]=k.useState(!1),[C,R]=k.useState(!1),[D,E]=k.useState(!1),[z,V]=k.useState(!1),[X,G]=k.useState(!1),[ne,pe]=k.useState(!1),[re,ue]=k.useState(null),H=async()=>{u(!0);try{const he=await me.aurora.dashboard();e(he);const Ke=he.state?.risk_profile?.risk_appetite;typeof Ke=="number"&&x(Ke),A(!!he.state?.auto_tune_enabled),E(!!he.state?.reflex_enabled),G(he.state?.risk_profile?.mode==="probabilistic")}catch(he){console.error("Failed to load Aurora dashboard:",he)}finally{u(!1)}};k.useEffect(()=>{H(),(async()=>{try{const Ke=await me.schedulerStatus();s(Ke)}catch(Ke){console.error("Failed to load scheduler status:",Ke)}})()},[]),k.useEffect(()=>{(async()=>{try{const Ke=await me.performanceData(7);ue(Ke)}catch(Ke){console.error("Failed to load performance data:",Ke)}})()},[]);const $=async()=>{if(t){m(!0);try{const he=await me.aurora.briefing(t);o(he.briefing)}catch(he){console.error("Failed to fetch Aurora briefing:",he),o("Failed to fetch Aurora briefing.")}finally{m(!1)}}},ie=async he=>{x(he);try{await me.configSave({s_index:{risk_appetite:he}})}catch(Ke){console.error("Failed to save risk level (risk_appetite):",Ke)}},te=async()=>{const he=!T;A(he),R(!0);try{await me.configSave({learning:{auto_tune_enabled:he}})}catch(Ke){console.error("Failed to toggle auto-tune:",Ke),A(!he)}finally{R(!1)}},le=async()=>{const he=!D;E(he),V(!0);try{await me.aurora.toggleReflex(he)}catch(Ke){console.error("Failed to toggle reflex:",Ke),E(!he)}finally{V(!1)}},L=async()=>{const he=!X;G(he),pe(!0);try{await me.configSave({s_index:{mode:he?"probabilistic":"dynamic"}})}catch(Ke){console.error("Failed to toggle probabilistic mode:",Ke),G(!he)}finally{pe(!1)}},U=t?.identity?.graduation?.label??"infant",J=t?.state?.weather_volatility,O=J?.overall??0,ee=O<.3?"bg-emerald-400/90":O<.7?"bg-sky-400/90":"bg-amber-400/90",ce=O<.3?"from-emerald-900/60 via-surface to-surface":O<.7?"from-sky-900/60 via-surface to-surface":"from-amber-900/60 via-surface to-surface",Te=t?.horizon?.slots??[],yt=t?.horizon?.end??new Date().toISOString(),$e=t?.history?.strategy_events??[],wn=k.useMemo(()=>re?{datasets:[{label:"Planned",data:re.soc_series.map(he=>({x:he.time,y:he.planned})),borderColor:"#94a3b8",borderDash:[5,5],borderWidth:1.5,pointRadius:0,tension:.4},{label:"Actual",data:re.soc_series.map(he=>({x:he.time,y:he.actual})),borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.1)",borderWidth:1.5,pointRadius:0,fill:!0,tension:.4}]}:null,[re]),Ln=k.useMemo(()=>re?{labels:re.cost_series.map(he=>he.date.slice(5)),datasets:[{label:"Plan",data:re.cost_series.map(he=>he.planned),backgroundColor:"#94a3b8",borderRadius:2},{label:"Real",data:re.cost_series.map(he=>he.realized),backgroundColor:re.cost_series.map(he=>he.realized<=he.planned?"#34d399":"#f87171"),borderRadius:2}]}:null,[re]);return d.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Aurora Command Center",d.jsx("span",{className:"px-2 py-0.5 rounded-full bg-surface2 border border-line/50 text-[10px] text-muted uppercase tracking-wider",children:U})]}),d.jsx("p",{className:"text-[11px] text-muted",children:"The Mastermind. Observing context, managing risk, and learning from reality."})]})}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[d.jsx(Ne,{className:`lg:col-span-6 p-4 md:p-5 bg-gradient-to-br ${ce} relative overflow-hidden`,children:d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:`absolute h-16 w-16 rounded-full ${ee} opacity-30 animate-pulse`}),d.jsx("div",{className:"relative flex items-center justify-center w-14 h-14 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:d.jsx(Jp,{className:"h-8 w-8 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),d.jsx("div",{className:"text-lg font-medium text-text",children:O>.6?"Defensive Mode":O>.3?"Cautious Mode":"Optimal Mode"}),d.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2",children:[d.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${O>.6?"bg-amber-400":"bg-emerald-400"}`}),O>.6?"High Volatility Detected":"Conditions Stable"]})]})]}),d.jsxs("div",{className:"flex-1 bg-surface/40 rounded-xl p-3 border border-white/5 backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-text font-medium",children:[d.jsx(Xg,{className:"h-3 w-3 text-accent"}),"Daily Briefing"]}),d.jsx("button",{onClick:$,disabled:!t||f,className:"text-[10px] text-muted hover:text-accent disabled:opacity-50 transition-colors",children:f?"Thinking...":"Refresh"})]}),d.jsx("div",{className:"text-[11px] leading-relaxed text-muted/90 font-mono",children:a||"Aurora is analyzing current market and weather conditions..."})]})]})}),d.jsxs(Ne,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-muted tracking-wider",children:"Risk Appetite"}),d.jsxs("div",{className:"flex items-center gap-2",children:[t?.state?.risk_profile?.raw_factor!=null&&(t.state.risk_profile.raw_factor??0)>0&&d.jsxs("span",{className:"text-[9px] text-muted/60",title:"Calculated based on risk",children:["Calc: ",(t.state.risk_profile.raw_factor??0).toFixed(2)]}),d.jsxs("span",{className:"text-[9px] text-muted",title:"Proected factor for next run",children:["Applied: ",(t?.state?.risk_profile?.current_factor??1).toFixed(2)]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("div",{className:"grid grid-cols-5 gap-1 p-1 bg-surface2/50 rounded-lg border border-line/30",children:[1,2,3,4,5].map(he=>{const Ke=p===he;let bt="bg-surface border-line text-text shadow-sm";return Ke&&(he===1?bt="bg-emerald-500/20 border-emerald-500/50 text-emerald-100 shadow-[0_0_10px_rgba(16,185,129,0.2)]":he===2?bt="bg-teal-500/20 border-teal-500/50 text-teal-100":he===3?bt="bg-blue-500/20 border-blue-500/50 text-blue-100":he===4?bt="bg-amber-500/20 border-amber-500/50 text-amber-100":he===5&&(bt="bg-red-500/20 border-red-500/50 text-red-100 shadow-[0_0_10px_rgba(239,68,68,0.2)]")),d.jsx("button",{onClick:()=>ie(he),className:`
                       relative flex items-center justify-center h-9 rounded-md text-[10px] font-medium transition-all duration-200
                       border border-transparent
                       ${Ke?bt:"text-muted hover:bg-surface/50 hover:text-text"}
                     `,children:he},he)})}),d.jsxs("div",{className:"text-center h-8 flex flex-col justify-center",children:[d.jsx("span",{className:`text-[11px] font-medium transition-colors duration-300 ${p===1?"text-emerald-400":p===2?"text-teal-400":p===3?"text-blue-400":p===4?"text-amber-400":"text-red-400"}`,children:{1:"Safety First",2:"Conservative",3:"Neutral (Balanced)",4:"Aggressive",5:"Gambler"}[p]}),d.jsx("span",{className:"text-[9px] text-muted/70",children:{1:"Covers Worst Case (p90)",2:"Covers High Load (p75)",3:"Trusts the Mean (p50)",4:"Expects Lower Load",5:"Bets on Sun/Empty"}[p]})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30 flex flex-col items-center gap-2",children:[d.jsx("button",{onClick:async()=>{v(!0);try{await ie(p),await me.runPlanner(),await H()}finally{v(!1)}},disabled:b,className:`flex items-center gap-2 px-3 py-1.5 rounded-full bg-surface hover:bg-surface2 border border-line/50 text-[10px] transition-colors ${b?"opacity-70 cursor-not-allowed text-muted":"text-muted hover:text-text"}`,title:"Run Strategy Engine to update forecast based on new risk",children:b?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),d.jsx("span",{children:"Re-planning..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qn,{className:"h-3 w-3 text-accent"}),d.jsx("span",{children:"Apply & Re-Plan"})]})}),b&&d.jsx("span",{className:"text-[9px] text-muted/70 animate-pulse",children:"Regenerating schedule with new risk level..."})]})]}),d.jsxs(Ne,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Qn,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Auto-Tuner"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Allow Aurora to act"})]}),d.jsx("button",{onClick:te,disabled:C,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${T?"bg-accent":"bg-surface2"}`,children:d.jsx("span",{className:`${T?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Aurora Reflex"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Long-term auto-tuning"})]}),d.jsx("button",{onClick:le,disabled:z,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${D?"bg-accent":"bg-surface2"}`,children:d.jsx("span",{className:`${D?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Probabilistic"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Use p10/p90 confidence bands"})]}),d.jsx("button",{onClick:L,disabled:ne,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${X?"bg-accent":"bg-surface2"}`,children:d.jsx("span",{className:`${X?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),d.jsx("div",{className:"mt-auto pt-2 text-center text-[10px] text-muted",children:"More controls coming soon."})]})]}),d.jsx(zP,{metrics:t?.metrics,perfData:re}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-12 lg:h-[450px]",children:[d.jsxs(Ne,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[d.jsx("div",{className:"mb-4 flex items-center justify-between shrink-0",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(co,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Context Radar"})]})}),d.jsx("div",{className:"flex-1 min-h-0 relative",children:d.jsx(RP,{weatherVolatility:{cloud:J?.cloud_volatility??0,temp:J?.temp_volatility??0,overall:O},riskFactor:p??3,forecastAccuracy:t?.metrics?.mae_pv_aurora!=null?Math.max(0,100-t.metrics.mae_pv_aurora*20):85,priceSpread:t?.metrics?.max_price_spread,forecastBias:t?.metrics?.forecast_bias})})]}),d.jsxs(Ne,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[d.jsxs("div",{className:"mb-4 flex items-center justify-between shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(cS,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Activity Log"})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsxs("span",{className:"text-[10px] text-muted",children:[$e.length," events"]}),n?.ml_training_last_run_at&&d.jsxs("span",{className:"text-[9px] text-muted/70",title:"Last ML Training Run",children:["ML Train:"," ",new Date(n.ml_training_last_run_at).toLocaleString("sv-SE",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]})]}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto pr-2 custom-scrollbar",children:d.jsx(LP,{events:$e})})]}),d.jsxs(Ne,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col h-full min-h-0 overflow-hidden",children:[d.jsxs("div",{className:"mb-4 shrink-0",children:[d.jsx("div",{className:"text-xs font-medium text-text",children:"Cost Reality"}),d.jsx("div",{className:"text-[11px] text-muted",children:"Daily financial outcome"})]}),d.jsx("div",{className:"flex-1 min-h-0",children:Ln&&d.jsx(AP,{data:Ln,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:10}}},y:{grid:{color:"#334155"},ticks:{color:"#94a3b8"}}},plugins:{legend:{labels:{color:"#e2e8f0",font:{size:10}}}}}})})]})]}),d.jsx("div",{className:"grid gap-4 lg:grid-cols-12",children:d.jsxs(Ne,{className:"lg:col-span-12 p-4 flex flex-col h-[350px] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-medium text-text",children:j==="forecast"?"Forecast Horizon (48h)":"SoC Tunnel"}),d.jsxs("div",{className:"text-[11px] text-muted",children:[j==="forecast"?X?`Probabilistic View (${w.toUpperCase()})`:`Decomposition View (${w.toUpperCase()})`:"Plan vs Reality",j==="forecast"&&d.jsxs(d.Fragment,{children:["  ",new Date().toISOString().slice(0,10)," -"," ",new Date(yt).toISOString().slice(0,10)]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px] mr-2",children:[d.jsx("button",{className:`px-3 py-0.5 rounded-full ${j==="forecast"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>N("forecast"),children:"Forecast"}),d.jsx("button",{className:`px-3 py-0.5 rounded-full ${j==="soc"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>N("soc"),children:"SoC"})]}),j==="forecast"&&d.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px]",children:[d.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${w==="load"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>S("load"),children:d.jsx(Qn,{className:"h-3 w-3"})}),d.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${w==="pv"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>S("pv"),children:d.jsx(gS,{className:"h-3 w-3"})})]})]})]}),d.jsx("div",{className:"flex-1 min-h-0",children:l?d.jsx("div",{className:"text-[11px] text-muted",children:"Loading..."}):j==="soc"?d.jsx("div",{className:"h-full w-full",children:wn&&d.jsx(s0,{data:wn,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",time:{unit:"hour",displayFormats:{hour:"HH:mm"}},grid:{color:"#334155",display:!1},ticks:{color:"#94a3b8",maxTicksLimit:6}},y:{min:0,max:100,grid:{color:"#334155"},ticks:{color:"#94a3b8",display:!1}}},plugins:{legend:{display:!1}}}})}):X?d.jsx("div",{className:"h-full w-full",children:d.jsx(PP,{title:"",color:w==="load"?"#f97316":"#22c55e",slots:(()=>{const he=t?.horizon?.history_series?.[w==="load"?"load":"pv"]||[],Ke=Te.map(Ue=>w==="load"?{time:Ue.slot_start,p10:Ue.probabilistic?.load_p10??null,p50:Ue.final.load_kwh,p90:Ue.probabilistic?.load_p90??null,actual:null}:{time:Ue.slot_start,p10:Ue.probabilistic?.pv_p10??null,p50:Ue.final.pv_kwh,p90:Ue.probabilistic?.pv_p90??null,actual:null}),bt=new Map;he.forEach(Ue=>{bt.set(Ue.slot_start,{time:Ue.slot_start,p10:Ue.p10??null,p50:Ue.forecast??null,p90:Ue.p90??null,actual:Ue.actual})}),Ke.forEach(Ue=>{const Kt=bt.get(Ue.time);Kt?bt.set(Ue.time,{...Kt,p10:Ue.p10,p50:Ue.p50,p90:Ue.p90}):bt.set(Ue.time,Ue)});const vi=new Date().getTime(),ps=1440*60*1e3;return Array.from(bt.values()).sort((Ue,Kt)=>new Date(Ue.time).getTime()-new Date(Kt.time).getTime()).filter(Ue=>{const Kt=new Date(Ue.time).getTime();return Kt>=vi-ps&&Kt<=vi+ps})})()})}):d.jsx(OP,{slots:Te,mode:w})})]})})]})}function zl({data:t,colorClass:e="bg-accent",height:n=32,bars:s=12}){const a=k.useMemo(()=>{if(!t||t.length===0)return Array(s).fill(.2);const o=t.slice(-s),l=Math.max(...o,1),u=Math.min(...o,0),f=l-u||1;return o.map(m=>.1+.9*((m-u)/f))},[t,s]);return d.jsx("div",{className:"mini-bars",style:{height:n},children:a.map((o,l)=>d.jsx("div",{className:`mini-bar ${e}`,style:{height:`${Math.round(o*100)}%`}},l))})}const $n={status:async()=>{const t=await fetch("api/executor/status");if(!t.ok)throw new Error(`Status failed: ${t.status}`);return t.json()},toggle:async t=>{const e=await fetch("api/executor/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Toggle failed: ${e.status}`);return e.json()},run:async()=>{const t=await fetch("api/executor/run",{method:"POST"});if(!t.ok)throw new Error(`Run failed: ${t.status}`);return t.json()},history:async(t=20)=>{const e=await fetch(`api/executor/history?limit=${t}`);if(!e.ok)throw new Error(`History failed: ${e.status}`);return e.json()},stats:async(t=7)=>{const e=await fetch(`api/executor/stats?days=${t}`);if(!e.ok)throw new Error(`Stats failed: ${e.status}`);return e.json()},live:async()=>{const t=await fetch("api/executor/live");if(!t.ok)throw new Error(`Live failed: ${t.status}`);return t.json()},notifications:{get:async()=>{const t=await fetch("api/executor/notifications");if(!t.ok)throw new Error(`Notifications failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Notifications update failed: ${e.status}`);return e.json()},test:async()=>{const t=await fetch("api/executor/notifications/test",{method:"POST"}),e=await t.json();if(!t.ok)throw new Error(e.error||`Test failed: ${t.status}`);return e}},config:{get:async()=>{const t=await fetch("api/executor/config");if(!t.ok)throw new Error(`Config get failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Config update failed: ${e.status}`);return e.json()}},quickAction:{get:async()=>{const t=await fetch("api/executor/quick-action");if(!t.ok)throw new Error(`Quick action get failed: ${t.status}`);return t.json()},set:async(t,e)=>{const n=await fetch("api/executor/quick-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,duration_minutes:e})});if(!n.ok)throw new Error(`Quick action set failed: ${n.status}`);return n.json()},clear:async()=>{const t=await fetch("api/executor/quick-action",{method:"DELETE"});if(!t.ok)throw new Error(`Quick action clear failed: ${t.status}`);return t.json()}}};function Gp({enabled:t,onChange:e,disabled:n=!1,size:s="md"}){const a=s==="sm"?"h-5 w-9":"h-6 w-11",o=s==="sm"?"h-3 w-3":"h-4 w-4",l=s==="sm"?t?"translate-x-5":"translate-x-1":t?"translate-x-6":"translate-x-1";return d.jsx("button",{type:"button",role:"switch","aria-checked":t,disabled:n,onClick:()=>e(!t),className:`relative inline-flex items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${a} ${t?"bg-accent":"bg-surface2"} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:d.jsx("span",{className:`inline-block transform rounded-full bg-white transition-transform ${o} ${l}`})})}fs.register(Mc,Tc,bo,xi,wh,_o,vo,_h);function F7(){const[t,e]=k.useState(null),[n,s]=k.useState(null),[a,o]=k.useState([]),[l,u]=k.useState(null),[f,m]=k.useState({soc:[],pv:[],load:[],import:[],export:[],labels:[]}),[p,x]=k.useState(!0),[b,v]=k.useState(!1),[w,S]=k.useState(!1),[j,N]=k.useState(null),[T,A]=k.useState(!1),[C,R]=k.useState(null),[D,E]=k.useState(!1),[z,V]=k.useState(!1),[X,G]=k.useState(null),[ne,pe]=k.useState(null),re=k.useCallback(async()=>{try{const[O,ee,ce]=await Promise.all([$n.status(),$n.stats(7),$n.history(20)]);e(O),s(ee),o(ce.records),N(null)}catch(O){N(O.message||"Failed to load executor data")}finally{x(!1)}},[]);no("live_metrics",O=>{u(ee=>{const ce={...ee||{}};return O.soc!==void 0&&(ce.soc={value:`${O.soc.toFixed(0)}%`,numeric:O.soc,unit:"%"}),O.pv_kw!==void 0&&(ce.pv_power={value:`${O.pv_kw.toFixed(1)} kW`,numeric:O.pv_kw*1e3,unit:"W"}),O.load_kw!==void 0&&(ce.load_power={value:`${O.load_kw.toFixed(1)} kW`,numeric:O.load_kw*1e3,unit:"W"}),O.grid_import_kw!==void 0&&(ce.grid_import={value:`${O.grid_import_kw.toFixed(2)} kW`,numeric:O.grid_import_kw*1e3,unit:"W"}),O.grid_export_kw!==void 0&&(ce.grid_export={value:`${O.grid_export_kw.toFixed(2)} kW`,numeric:O.grid_export_kw*1e3,unit:"W"}),O.work_mode&&(ce.work_mode={value:O.work_mode}),ce}),m(ee=>{const Te=[...ee.labels,""],yt=[...ee.soc,O.soc??ee.soc[ee.soc.length-1]??0],$e=[...ee.pv,O.pv_kw??ee.pv[ee.pv.length-1]??0],wn=[...ee.load,O.load_kw??ee.load[ee.load.length-1]??0],Ln=[...ee.import,O.grid_import_kw??ee.import[ee.import.length-1]??0],he=[...ee.export,O.grid_export_kw??ee.export[ee.export.length-1]??0];return Te.length>20&&(Te.shift(),yt.shift(),$e.shift(),wn.shift(),Ln.shift(),he.shift()),{labels:Te,soc:yt,pv:$e,load:wn,import:Ln,export:he}})}),no("executor_status",O=>{e(O)}),k.useEffect(()=>{x(!0),re();const O=setInterval(re,3e4);return()=>clearInterval(O)},[re]),k.useEffect(()=>{(async()=>{try{const ee=await $n.live();u(ee)}catch{}})()},[]),k.useEffect(()=>{(async()=>{try{const ee=await $n.notifications.get();R(ee)}catch{}})()},[]);const ue=async(O,ee)=>{if(C){E(!0);try{await $n.notifications.update({[O]:ee}),R(ce=>ce?{...ce,[O]:ee}:null)}catch(ce){N(ce.message)}finally{E(!1)}}},H=async O=>{v(!0);try{await $n.toggle({enabled:O}),await re()}catch(ee){N(ee.message)}finally{v(!1)}},$=async()=>{V(!0),G(null);try{const O=await $n.notifications.test();G({success:!0,message:O.message||"Test sent!"})}catch(O){G({success:!1,message:O.message})}finally{V(!1)}},ie=async O=>{v(!0);try{await $n.toggle({shadow_mode:O}),await re()}catch(ee){N(ee.message)}finally{v(!1)}},te=async()=>{S(!0);try{await $n.run(),await re()}catch(O){N(O.message)}finally{S(!1)}},le=O=>{if(!O)return"";try{return new Date(O).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"})}catch{return O}},L=O=>{if(!O)return"";try{return new Date(O).toLocaleString("sv-SE",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return O}},U=t?.enabled?t?.shadow_mode?"from-warn-900/60 via-surface to-surface":"from-good-900/60 via-surface to-surface":"from-neutral-800/60 via-surface to-surface",J=t?.enabled?t?.shadow_mode?"bg-warn/90":"bg-good/90":"bg-neutral/90";return p?d.jsx("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:d.jsxs("div",{className:"animate-pulse space-y-4",children:[d.jsx("div",{className:"h-10 bg-surface2 rounded w-48"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[d.jsx("div",{className:"h-64 bg-surface2 rounded"}),d.jsx("div",{className:"h-64 bg-surface2 rounded lg:col-span-2"})]})]})}):d.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Executor Control Center",d.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[10px] uppercase tracking-wider ${t?.enabled?t?.shadow_mode?"bg-warn/20 border-warn/50 text-warn":"bg-good/20 border-good/50 text-good":"bg-neutral/20 border-neutral/50 text-neutral"}`,children:t?.enabled?t?.shadow_mode?"Shadow":"Active":"Disabled"})]}),d.jsx("p",{className:"text-[11px] text-muted",children:"Native execution engine  controls inverter and water heater based on the schedule."})]})}),j&&d.jsxs("div",{className:"rounded-xl p-3 bg-bad/10 border border-bad/30 flex items-center gap-3",children:[d.jsx(wd,{className:"h-4 w-4 text-bad"}),d.jsx("span",{className:"text-bad text-[11px] flex-1",children:j}),d.jsx("button",{onClick:()=>N(null),className:"text-bad hover:text-bad/80 text-lg",children:""})]}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[d.jsxs(Ne,{className:`lg:col-span-5 p-4 md:p-5 bg-gradient-to-br ${U} relative overflow-hidden`,children:[d.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[d.jsxs("div",{className:"relative flex items-center justify-center shrink-0",children:[d.jsx("div",{className:`absolute h-14 w-14 rounded-full ${J} opacity-30 animate-pulse`}),d.jsx("div",{className:"relative flex items-center justify-center w-12 h-12 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:d.jsx(eg,{className:"h-6 w-6 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),d.jsx("div",{className:"text-lg font-medium text-text",children:t?.enabled?t?.shadow_mode?"Shadow Mode":"Executing":"Standby"}),d.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2 mt-1",children:[d.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${t?.last_run_status==="success"?"bg-good":t?.last_run_status==="error"?"bg-bad":"bg-neutral"}`}),t?.last_run_status==="success"?"Last run successful":t?.last_run_status==="error"?"Last run failed":"No runs yet"]})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-line/10 grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Last Run"}),d.jsx("div",{className:"text-sm font-mono text-text",children:le(t?.last_run_at)})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Next Run"}),d.jsx("div",{className:"text-sm font-mono text-text",children:le(t?.next_run_at)})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Version"}),d.jsx("div",{className:"text-sm font-mono text-text",children:t?.version||""})]})]}),t?.override_active&&d.jsx("div",{className:"mt-3 p-2 rounded-lg bg-warn/20 border border-warn/30",children:d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-warn",children:[d.jsx(wd,{className:"h-3.5 w-3.5"}),d.jsx("span",{className:"font-medium",children:"Override Active:"}),d.jsx("span",{children:t.override_type})]})})]}),d.jsxs(Ne,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Vd,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),d.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Executor Enabled"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Execute actions on Home Assistant"})]}),d.jsx(Gp,{enabled:t?.enabled??!1,onChange:H,disabled:b,size:"sm"})]}),d.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"text-[11px] font-medium text-text flex items-center gap-1.5",children:["Shadow Mode",d.jsx(nC,{className:"h-3 w-3 text-muted"})]}),d.jsx("span",{className:"text-[9px] text-muted",children:"Log only, don't execute actions"})]}),d.jsx(Gp,{enabled:t?.shadow_mode??!1,onChange:ie,disabled:b,size:"sm"})]}),d.jsxs("button",{onClick:()=>A(!0),className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2 hover:bg-surface2 transition-colors w-full",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(up,{className:"h-4 w-4 text-muted"}),d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Notifications"})]}),C&&Object.entries(C).some(([O,ee])=>O.startsWith("on_")&&ee===!0)&&d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute inset-0 rounded-full bg-accent/50 blur-sm animate-pulse"}),d.jsx("span",{className:"relative h-2.5 w-2.5 rounded-full bg-accent block ring-2 ring-accent/30"})]})]}),d.jsx("div",{className:"mt-auto pt-4",children:d.jsx("button",{onClick:te,disabled:w,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-surface hover:bg-surface2 border border-line/50 text-[11px] font-medium transition-all ${w?"opacity-70 cursor-not-allowed text-muted":"text-text hover:border-accent/50"}`,children:w?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-3.5 w-3.5 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),d.jsx("span",{children:"Running..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(mS,{className:"h-3.5 w-3.5 text-accent"}),d.jsx("span",{children:"Run Now"})]})})})]}),d.jsxs(Ne,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Bd,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"7-Day Stats"})]}),n&&d.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[d.jsxs("div",{className:"p-3 rounded-lg bg-surface2/30 border border-line/30",children:[d.jsx("div",{className:"text-xl font-bold text-text",children:n.total_executions}),d.jsx("div",{className:"text-[10px] text-muted",children:"Total Runs"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-good/10 border border-good/20",children:[d.jsxs("div",{className:"text-xl font-bold text-good",children:[n.success_rate,"%"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Success Rate"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-warn/10 border border-warn/20",children:[d.jsx("div",{className:"text-xl font-bold text-warn",children:n.override_count}),d.jsx("div",{className:"text-[10px] text-muted",children:"Overrides"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-bad/10 border border-bad/20",children:[d.jsx("div",{className:"text-xl font-bold text-bad",children:n.failed}),d.jsx("div",{className:"text-[10px] text-muted",children:"Failed"})]})]})]}),d.jsxs(Ne,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Qn,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Quick Actions"})]}),t?.quick_action&&d.jsx("div",{className:"mb-3 p-3 rounded-lg bg-accent/10 border border-accent/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-[11px] font-medium text-accent capitalize",children:[t.quick_action.type.replace("_"," ")," Active"]}),d.jsxs("div",{className:"text-[10px] text-muted",children:[t.quick_action.remaining_minutes.toFixed(0)," min remaining"]})]}),d.jsx("button",{onClick:async()=>{try{await $n.quickAction.clear(),re()}catch(O){console.error(O)}},className:"text-[10px] px-2 py-1 rounded bg-bad/20 text-bad hover:bg-bad/30 transition-colors",children:"Cancel"})]})}),d.jsx("div",{className:"space-y-2 flex-1",children:[{type:"force_charge",label:"Force Charge",icon:ac,labelClass:"text-good",btnClass:"bg-good/10 border-good/20 text-good hover:bg-good/20"},{type:"force_discharge",label:"Force Export",icon:sg,labelClass:"text-warn",btnClass:"bg-warn/10 border-warn/20 text-warn hover:bg-warn/20"},{type:"force_water_heater",label:"Boost Water",icon:rc,labelClass:"text-warn",btnClass:"bg-warn/10 border-warn/20 text-warn hover:bg-warn/20"},{type:"inverter_off",label:"Inverter Off",icon:uC,labelClass:"text-bad",btnClass:"bg-bad/10 border-bad/20 text-bad hover:bg-bad/20"}].map(O=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-[11px] ${O.labelClass} w-20 font-medium flex items-center gap-1`,children:[d.jsx(O.icon,{className:"h-3 w-3"}),O.label]}),d.jsx("div",{className:"flex gap-1 flex-1",children:[15,30,60].map(ee=>d.jsxs("button",{onClick:async()=>{try{await $n.quickAction.set(O.type,ee),re()}catch(ce){alert("Failed: "+ce.message)}},disabled:t?.quick_action?.type===O.type,className:`flex-1 px-2 py-1.5 text-[10px] rounded-lg border transition-all ${t?.quick_action?.type===O.type?"bg-accent/20 border-accent/40 text-accent":O.btnClass}`,children:[ee,"m"]},ee))})]},O.type))}),d.jsx("div",{className:"mt-3 text-[9px] text-muted/60 text-center",children:"Overrides schedule for selected duration"})]})]}),d.jsxs(Ne,{className:"p-4 md:p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(co,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Live System"}),d.jsx("span",{className:"text-[9px] text-muted/70",children:"(every 10s)"})]}),l?.work_mode&&d.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${l.work_mode.value.includes("Export")?t?.shadow_mode?"bg-warn/20 border-warn/30 text-warn":"bg-good/20 border-good/30 text-good":"bg-water/20 border-water/30 text-water"}`,children:l.work_mode.value})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[d.jsxs("div",{className:"metric-card-border metric-card-border-battery p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(zl,{data:f.soc,colorClass:"bg-good"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(fh,{className:`h-6 w-6 ${(l?.soc?.numeric??0)>50?"text-good":(l?.soc?.numeric??0)>20?"text-warn":"text-bad"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-good",children:[l?.soc?.numeric?.toFixed(0)??"","%"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Battery SoC"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-solar p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(zl,{data:f.pv,colorClass:"bg-accent"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(jc,{className:`h-6 w-6 ${(l?.pv_power?.numeric??0)>500?"text-accent":"text-accent/40"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-accent",children:[l?.pv_power?.numeric?(l.pv_power.numeric/1e3).toFixed(1):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"PV Power"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-house p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(zl,{data:f.load,colorClass:"bg-house"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(cC,{className:"h-6 w-6 text-house"}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-house",children:[l?.load_power?.numeric?(l.load_power.numeric/1e3).toFixed(1):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Load"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-grid p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(zl,{data:f.import,colorClass:(l?.grid_import?.numeric??0)>100?"bg-bad":"bg-grid"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(qg,{className:`h-6 w-6 ${(l?.grid_import?.numeric??0)>100?"text-bad":"text-grid"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:`text-lg font-bold ${(l?.grid_import?.numeric??0)>100?"text-bad":"text-text"}`,children:[l?.grid_import?.numeric?(l.grid_import.numeric/1e3).toFixed(2):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Grid Import"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-bad p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(zl,{data:f.export,colorClass:"bg-bad"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(Gg,{className:"h-6 w-6 text-bad"}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-bad",children:[l?.grid_export?.numeric?(l.grid_export.numeric/1e3).toFixed(2):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Grid Export"})]})]})]})]})]}),d.jsxs(Ne,{className:"p-4 md:p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sC,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Execution History"}),d.jsxs("span",{className:"text-[10px] text-muted",children:["(",a.length," records)"]})]}),d.jsxs("button",{onClick:re,className:"flex items-center gap-1.5 text-[10px] text-muted hover:text-accent transition px-2 py-1 rounded-lg hover:bg-surface2",children:[d.jsx(pS,{className:"h-3 w-3"}),"Refresh"]})]}),a.length===0?d.jsxs("div",{className:"text-center py-12 text-muted",children:[d.jsx(F1,{className:"h-10 w-10 mx-auto opacity-20 mb-3"}),d.jsx("p",{className:"text-[11px]",children:"No execution history yet."}),d.jsx("p",{className:"text-[10px] mt-1 text-muted/70",children:"Run the executor to see results here."})]}):d.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[t?.next_run_at&&d.jsxs("div",{className:"p-3 rounded-xl border-2 border-dashed border-line/30 bg-surface2/10 opacity-70",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(F1,{className:"h-4 w-4 text-muted animate-pulse"}),d.jsxs("span",{className:"text-[11px] text-muted font-mono",children:["Next: ",le(t.next_run_at)]})]}),d.jsx("span",{className:"text-[9px] text-muted/70 bg-surface2/50 px-2 py-0.5 rounded-full",children:"Scheduled"})]}),t.current_slot_plan&&d.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 text-[10px]",children:[t.current_slot_plan.charge_kw>0&&d.jsxs("div",{className:"flex items-center gap-1 text-good",children:[d.jsx(ac,{className:"h-3 w-3"}),d.jsxs("span",{children:[t.current_slot_plan.charge_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.export_kw>0&&d.jsxs("div",{className:"flex items-center gap-1 text-warn",children:[d.jsx(sg,{className:"h-3 w-3"}),d.jsxs("span",{children:[t.current_slot_plan.export_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.water_kw>0&&d.jsxs("div",{className:"flex items-center gap-1 text-water",children:[d.jsx(rc,{className:"h-3 w-3"}),d.jsxs("span",{children:[t.current_slot_plan.water_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.soc_target>0&&d.jsx("div",{className:"flex items-center gap-1 text-muted",children:d.jsxs("span",{children:["SoC",t.current_slot_plan.soc_target,"%"]})}),!t.current_slot_plan.charge_kw&&!t.current_slot_plan.export_kw&&!t.current_slot_plan.water_kw&&d.jsx("div",{className:"text-muted/60 col-span-4",children:"Idle / Self-consumption"})]})]}),a.map(O=>{const ee=ne===O.id;return d.jsxs("div",{className:`rounded-xl border transition-all ${O.success?"bg-surface2/30 border-line/40 hover:border-line/60":"bg-bad/10 border-bad/30 hover:border-bad/50"}`,children:[d.jsxs("div",{className:"p-3 cursor-pointer flex items-center justify-between",onClick:()=>pe(ee?null:O.id),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(mh,{className:`h-3 w-3 text-muted transition-transform ${ee?"rotate-180":""}`}),O.success?d.jsx(uS,{className:"h-4 w-4 text-good"}):d.jsx(wd,{className:"h-4 w-4 text-bad"}),d.jsx("span",{className:"text-[11px] text-text font-mono",children:L(O.executed_at)}),O.commanded_charge_current_a&&O.commanded_charge_current_a>0&&d.jsx("span",{className:"text-[9px] text-good bg-good/20 px-1.5 py-0.5 rounded",children:" Charge"}),O.commanded_work_mode==="Export First"&&d.jsx("span",{className:"text-[9px] text-warn bg-warn/20 px-1.5 py-0.5 rounded",children:" Export"}),O.commanded_water_temp&&O.commanded_water_temp>50&&d.jsx("span",{className:"text-[9px] text-warn bg-warn/20 px-1.5 py-0.5 rounded",children:" Heat"}),(!O.commanded_charge_current_a||O.commanded_charge_current_a===0)&&O.commanded_work_mode!=="Export First"&&(!O.commanded_water_temp||O.commanded_water_temp<=50)&&d.jsx("span",{className:"text-[9px] text-muted/60 bg-surface2/50 px-1.5 py-0.5 rounded",children:" Idle"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[O.override_active?d.jsx("span",{className:"text-[9px] text-warn bg-warn/20 px-2 py-0.5 rounded-full border border-warn/30",children:O.override_type}):null,O.duration_ms&&d.jsxs("span",{className:"text-[9px] text-muted font-mono",children:[O.duration_ms,"ms"]})]})]}),ee&&d.jsxs("div",{className:"px-3 pb-3 border-t border-line/20",children:[d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Planned (from Schedule)"}),d.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Charge"}),d.jsxs("span",{className:O.planned_charge_kw?"text-good":"text-muted/40",children:[O.planned_charge_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Export"}),d.jsxs("span",{className:O.planned_export_kw?"text-warn":"text-muted/40",children:[O.planned_export_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Water"}),d.jsxs("span",{className:O.planned_water_kw?"text-warn":"text-muted/40",children:[O.planned_water_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC Target"}),d.jsxs("span",{className:"text-text",children:[O.planned_soc_target??"","%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC Projected"}),d.jsxs("span",{className:"text-text",children:[O.planned_soc_projected??"","%"]})]})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Commanded (What We Set)"}),d.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Work Mode"}),d.jsx("span",{className:"text-text font-medium",children:O.commanded_work_mode??""})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Grid Charging"}),d.jsx("span",{className:O.commanded_grid_charging?"text-good":"text-muted/40",children:O.commanded_grid_charging?"ON":"OFF"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Charge I"}),d.jsxs("span",{className:O.commanded_charge_current_a?"text-good":"text-muted/40",children:[O.commanded_charge_current_a??""," A"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Discharge I"}),d.jsxs("span",{className:O.commanded_discharge_current_a?"text-warn":"text-muted/40",children:[O.commanded_discharge_current_a??""," A"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC Target"}),d.jsxs("span",{className:"text-text",children:[O.commanded_soc_target??"","%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Water Temp"}),d.jsxs("span",{className:O.commanded_water_temp&&O.commanded_water_temp>50?"text-warn":"text-muted/40",children:[O.commanded_water_temp??"","C"]})]})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"State Before Execution"}),d.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2 text-[10px]",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC"}),d.jsxs("span",{className:"text-text",children:[O.before_soc_percent?.toFixed(0)??"","%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Work Mode"}),d.jsx("span",{className:"text-text",children:O.before_work_mode??""})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"PV Power"}),d.jsxs("span",{className:"text-yellow-400",children:[O.before_pv_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Load"}),d.jsxs("span",{className:"text-sky-400",children:[O.before_load_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Water Temp"}),d.jsxs("span",{className:"text-text",children:[O.before_water_temp??"","C"]})]})]})]}),O.error_message&&d.jsx("div",{className:"mt-2 text-[10px] text-red-400 bg-red-500/10 rounded-lg p-2",children:O.error_message}),O.override_reason&&d.jsxs("div",{className:"mt-2 text-[10px] text-amber-300/80 bg-amber-500/10 rounded-lg p-2",children:["Override: ",O.override_reason]})]})]},O.id)})]})]}),T&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>A(!1),children:d.jsxs("div",{className:"bg-surface border border-line rounded-2xl p-5 w-full max-w-md shadow-2xl",onClick:O=>O.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(up,{className:"h-5 w-5 text-accent"}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Notification Settings"})]}),d.jsx("button",{onClick:()=>A(!1),className:"text-muted hover:text-text transition p-1",children:d.jsx(yo,{className:"h-5 w-5"})})]}),C&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"p-2 rounded-lg bg-surface2/30 border border-line/30 mb-3",children:[d.jsx("div",{className:"text-[10px] text-muted mb-1",children:"HA Notify Service"}),d.jsx("div",{className:"text-[11px] text-text font-mono",children:C.service||"Not configured"})]}),[{key:"on_charge_start",label:"Charge Started",desc:"When grid charging begins"},{key:"on_charge_stop",label:"Charge Stopped",desc:"When grid charging ends"},{key:"on_export_start",label:"Export Started",desc:"When battery export begins"},{key:"on_export_stop",label:"Export Stopped",desc:"When battery export ends"},{key:"on_water_heat_start",label:"Water Heating Started",desc:"When water heater activates"},{key:"on_water_heat_stop",label:"Water Heating Stopped",desc:"When water heater deactivates"},{key:"on_soc_target_change",label:"SoC Target Changed",desc:"When battery target changes"},{key:"on_override_activated",label:"Override Activated",desc:"When emergency override triggers"},{key:"on_error",label:"Errors",desc:"When execution fails"}].map(O=>d.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:O.label}),d.jsx("span",{className:"text-[9px] text-muted",children:O.desc})]}),d.jsx(Gp,{enabled:C[O.key],onChange:ee=>ue(O.key,ee),disabled:D,size:"sm"})]},O.key))]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30",children:[d.jsx("button",{onClick:$,disabled:z,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border text-[11px] font-medium transition-all ${z?"bg-surface2/50 border-line/30 text-muted cursor-not-allowed":"bg-accent/10 border-accent/30 text-accent hover:bg-accent/20"}`,children:z?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),"Sending..."]}):d.jsxs(d.Fragment,{children:[d.jsx(up,{className:"h-3.5 w-3.5"}),"Send Test Notification"]})}),X&&d.jsx("div",{className:`mt-2 text-center text-[10px] ${X.success?"text-emerald-400":"text-red-400"}`,children:X.message}),d.jsx("div",{className:"mt-2 text-center text-[9px] text-muted/70",children:"Changes are saved automatically"})]})]})})]})}function Pl({variant:t="info",children:e,className:n=""}){return d.jsx("div",{className:`banner banner-${t} ${n}`,children:e})}function Bl({variant:t="muted",children:e,className:n=""}){return d.jsx("span",{className:`badge badge-${t} ${n}`,children:e})}function H7(){const{toast:t}=t0(),[e,n]=k.useState(!1),[s,a]=k.useState(65),[o,l]=k.useState(!1),[u,f]=k.useState(!1),[m,p]=k.useState("");return d.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-10 space-y-12",children:[d.jsxs("header",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-bold text-text",children:"Darkstar Design System"}),d.jsx("p",{className:"text-muted text-lg mt-2",children:"Visual reference & component showcase"})]}),d.jsx(xS,{})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Color Palette"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{name:"Accent",var:"--color-accent",hex:"#FFCE59"},{name:"Good",var:"--color-good",hex:"#1FB256"},{name:"Warn",var:"--color-warn",hex:"#F59E0B"},{name:"Bad",var:"--color-bad",hex:"#F15132"},{name:"Water",var:"--color-water",hex:"#4EA8DE"},{name:"House",var:"--color-house",hex:"#A855F7"},{name:"Peak",var:"--color-peak",hex:"#EC4899"},{name:"Night",var:"--color-night",hex:"#06B6D4"},{name:"Grid",var:"--color-grid",hex:"#64748B"},{name:"Neutral",var:"--color-neutral",hex:"#989FA5"},{name:"AI",var:"--color-ai",hex:"#8B5CF6"}].map(x=>d.jsxs("div",{className:"rounded-ds-md overflow-hidden shadow-float bg-surface",children:[d.jsx("div",{className:"h-16",style:{backgroundColor:`rgb(var(${x.var}))`}}),d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:"text-sm font-medium text-text",children:x.name}),d.jsx("div",{className:"text-xs text-muted font-mono",children:x.hex})]})]},x.name))}),d.jsx("h3",{className:"text-lg font-medium text-text mt-6 mb-3",children:"Surface Colors"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{name:"Canvas",var:"--color-canvas"},{name:"Surface",var:"--color-surface"},{name:"Surface2",var:"--color-surface2"},{name:"Line",var:"--color-line"}].map(x=>d.jsx("div",{className:"h-20 rounded-ds-md border border-line flex items-center justify-center",style:{backgroundColor:`rgb(var(${x.var}))`},children:d.jsx("span",{className:"text-sm font-medium text-text",children:x.name})},x.name))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Typography"}),d.jsxs("div",{className:"space-y-3 bg-surface p-6 rounded-ds-lg",children:[d.jsx("div",{className:"text-4xl",children:"text-4xl (28px)  Page Titles"}),d.jsx("div",{className:"text-3xl",children:"text-3xl (24px)  Section Headers"}),d.jsx("div",{className:"text-2xl",children:"text-2xl (18px)  Subsections"}),d.jsx("div",{className:"text-xl",children:"text-xl (16px)  Large Body"}),d.jsx("div",{className:"text-lg",children:"text-lg (14px)  Body Text"}),d.jsx("div",{className:"text-md",children:"text-md (13px)  Secondary"}),d.jsx("div",{className:"text-base",children:"text-base (12px)  Small Body"}),d.jsx("div",{className:"text-sm",children:"text-sm (11px)  Labels"}),d.jsx("div",{className:"text-xs",children:"text-xs (10px)  Micro"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Buttons"}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsx("button",{className:"btn btn-primary",children:"Primary"}),d.jsx("button",{className:"btn btn-secondary",children:"Secondary"}),d.jsx("button",{className:"btn btn-danger",children:"Danger"}),d.jsx("button",{className:"btn btn-ghost",children:"Ghost"}),d.jsx("button",{className:"btn btn-primary btn-pill",children:"Pill Primary"}),d.jsx("button",{className:"btn btn-ghost btn-pill",children:"Pill Ghost"})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center mt-4",children:[d.jsx("button",{className:"btn btn-primary",disabled:!0,children:"Disabled Primary"}),d.jsx("button",{className:"btn btn-secondary",disabled:!0,children:"Disabled Secondary"}),d.jsx("button",{className:"btn btn-ghost",disabled:!0,children:"Disabled Ghost"})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-sm text-muted mb-2",children:"Dynamic color (using CSS custom property):"}),d.jsx("button",{className:"btn btn-pill btn-dynamic",style:{"--btn-bg":"rgb(var(--color-water))","--btn-text":"#fff"},children:"Custom Water Color"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Banners / Alerts"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Pl,{variant:"info",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Info Banner  Neutral information message"})]}),d.jsxs(Pl,{variant:"success",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Success Banner  Action completed successfully"})]}),d.jsxs(Pl,{variant:"warning",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Warning Banner  Requires attention"})]}),d.jsxs(Pl,{variant:"error",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Error Banner  Critical issue detected"})]}),d.jsxs(Pl,{variant:"purple",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Purple Banner  Special mode (shadow mode)"})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Badges"}),d.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[d.jsx(Bl,{variant:"accent",children:"Accent"}),d.jsx(Bl,{variant:"good",children:"Good"}),d.jsx(Bl,{variant:"warn",children:"Warning"}),d.jsx(Bl,{variant:"bad",children:"Error"}),d.jsx(Bl,{variant:"muted",children:"Muted"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Form Elements"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-muted mb-2",children:"Text Input"}),d.jsx("input",{type:"text",className:"input",placeholder:"Enter value..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-muted mb-2",children:"Number Input"}),d.jsx("input",{type:"number",className:"input",placeholder:"0"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-muted mb-2",children:"Toggle Switch"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(gN,{checked:e,onCheckedChange:n}),d.jsx("span",{className:"text-sm text-text",children:e?"On":"Off"})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Loading States"}),d.jsxs("div",{className:"flex items-center gap-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted mb-2",children:"Spinner"}),d.jsx("div",{className:"spinner"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm text-muted mb-2",children:"Skeleton"}),d.jsx("div",{className:"skeleton h-8 w-full"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"text-sm text-muted mb-2",children:["Progress Bar (",s,"%)"]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-bar-fill",style:{width:`${s}%`}})}),d.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:x=>a(Number(x.target.value)),className:"slider mt-2"})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Data Visualization"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[d.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Solar)"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"mini-bars",children:[40,55,75,90,100,85,70,45].map((x,b)=>d.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-accent))"}},b))}),d.jsx("span",{className:"font-mono font-bold text-accent",children:"4.2kW"})]})]}),d.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[d.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Battery)"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"mini-bars",children:[60,65,70,75,80,82,85,85].map((x,b)=>d.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-good))"}},b))}),d.jsx("span",{className:"font-mono font-bold text-good",children:"85%"})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Chart.js  Live Example"}),d.jsx("p",{className:"text-muted text-sm mb-4",children:"This is the actual ChartCard component used throughout Darkstar."}),d.jsx("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:d.jsx(wj,{day:"today",showDayToggle:!1})})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Power Flow Visualization"}),d.jsx("p",{className:"text-muted text-sm mb-4",children:"Animated energy flow between sources and loads (inspired by power-flow-card-plus)."}),d.jsx("div",{className:"bg-surface rounded-ds-lg p-8 shadow-float",children:d.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full max-w-lg mx-auto",children:[d.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-accent))",strokeWidth:3,fill:"none"},children:d.jsx("path",{d:"M100,50 L200,150"})}),d.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-good))",strokeWidth:3,fill:"none",animationDelay:"0.25s"},children:d.jsx("path",{d:"M200,150 L200,250"})}),d.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-house))",strokeWidth:3,fill:"none",animationDelay:"0.5s"},children:d.jsx("path",{d:"M200,150 L300,150"})}),d.jsx("g",{style:{stroke:"rgb(var(--color-grid))",strokeWidth:3,fill:"none",strokeDasharray:"5 5"},children:d.jsx("path",{d:"M100,250 L200,150"})}),d.jsxs("g",{transform:"translate(100, 50)",children:[d.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-accent))",strokeWidth:"3",className:"animate-glow"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-accent))",fontSize:"24",children:""}),d.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"4.2 kW"}),d.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Solar"})]}),d.jsxs("g",{transform:"translate(200, 150)",children:[d.jsx("circle",{r:"40",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-house))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-house))",fontSize:"24",children:""}),d.jsx("text",{y:"-50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"3.1 kW"})]}),d.jsxs("g",{transform:"translate(200, 250)",children:[d.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-good))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-good))",fontSize:"24",children:""}),d.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"85%"}),d.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"+0.6 kW"})]}),d.jsxs("g",{transform:"translate(100, 250)",children:[d.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-grid))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-grid))",fontSize:"24",children:""}),d.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0 W"}),d.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Grid"})]}),d.jsxs("g",{transform:"translate(300, 150)",children:[d.jsx("circle",{r:"30",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-water))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-water))",fontSize:"20",children:""}),d.jsx("text",{y:"50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0.5 kW"}),d.jsx("text",{y:"65",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Water"})]})]})})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Animation Examples"}),d.jsx("p",{className:"text-muted text-sm mb-4",children:"CSS animations available in the design system."}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-pulse"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Pulse"}),d.jsx("code",{className:"text-xs text-muted",children:".animate-pulse"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-good animate-bounce"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Bounce"}),d.jsx("code",{className:"text-xs text-muted",children:".animate-bounce"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-glow"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Glow"}),d.jsx("code",{className:"text-xs text-muted",children:".animate-glow"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"spinner mx-auto mb-3",style:{width:"3rem",height:"3rem",borderWidth:"4px"}}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Spinner"}),d.jsx("code",{className:"text-xs text-muted",children:".spinner"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Skeleton Loading"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"skeleton h-4 w-3/4"}),d.jsx("div",{className:"skeleton h-4 w-1/2"}),d.jsx("div",{className:"skeleton h-4 w-full"})]}),d.jsx("code",{className:"text-xs text-muted mt-2 block",children:".skeleton"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Mini Bar Animation"}),d.jsx("div",{className:"mini-bars",children:[40,60,80,100,80,60,40,20].map((x,b)=>d.jsx("div",{className:"mini-bar animate-pulse",style:{height:`${x}%`,background:"rgb(var(--color-accent))",animationDelay:`${b*.1}s`}},b))}),d.jsx("code",{className:"text-xs text-muted mt-2 block",children:".mini-bars"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("button",{className:"btn btn-primary animate-glow mb-2",children:"Glowing Button"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Button Glow"}),d.jsx("code",{className:"text-xs text-muted",children:".btn + .animate-glow"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Animated Progress"}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-bar-fill",style:{width:"75%",animation:"skeleton-shimmer 1.5s infinite",background:"linear-gradient(90deg, rgb(var(--color-accent)), rgb(var(--color-accent2)), rgb(var(--color-accent)))",backgroundSize:"200% 100%"}})}),d.jsx("code",{className:"text-xs text-muted mt-2 block",children:".progress-bar"})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Metric Cards"}),d.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{border:"solar",label:"Solar",value:"4.2 kW",sub:"+12% today"},{border:"battery",label:"Battery",value:"78%",sub:"Target: 85%"},{border:"house",label:"House Load",value:"1.8 kW",sub:"Avg: 2.1 kW"},{border:"water",label:"Water",value:"2.4 kWh",sub:"Today"},{border:"grid",label:"Grid",value:"-0.5 kW",sub:"Exporting"},{border:"bad",label:"Error",value:"3",sub:"Issues detected"}].map(x=>d.jsxs("div",{className:`metric-card-border metric-card-border-${x.border} bg-surface p-4`,children:[d.jsx("div",{className:"text-xs text-muted uppercase tracking-wider",children:x.label}),d.jsx("div",{className:"text-2xl font-bold text-text mt-1",children:x.value}),d.jsx("div",{className:"text-xs text-muted mt-1",children:x.sub})]},x.border))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Border Radius"}),d.jsx("div",{className:"flex gap-4 items-end",children:[{name:"sm",size:"8px"},{name:"md",size:"12px"},{name:"lg",size:"16px"},{name:"xl",size:"20px"},{name:"pill",size:"9999px"}].map(x=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`w-16 h-16 bg-accent rounded-ds-${x.name}`}),d.jsx("div",{className:"text-xs text-muted mt-2",children:x.name}),d.jsx("div",{className:"text-xs text-muted",children:x.size})]},x.name))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Spacing Scale (4px grid)"}),d.jsx("div",{className:"flex gap-4 items-end flex-wrap",children:[1,2,3,4,5,6,8,10,12].map(x=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-accent",style:{width:`var(--space-${x})`,height:`var(--space-${x})`,minWidth:"4px",minHeight:"4px"}}),d.jsxs("div",{className:"text-xs text-muted mt-2",children:["ds-",x]})]},x))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Dark / Light Mode Comparison"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#0f1216"},children:[d.jsx("div",{className:"px-4 py-3",style:{background:"#14191f"},children:d.jsx("span",{className:"text-sm font-semibold",style:{color:"#e6e9ef"},children:" Dark Mode  Glow Buttons"})}),d.jsxs("div",{className:"p-4 space-y-2",style:{background:"#14191f"},children:[d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#FFCE59"},children:" Solar"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#FFCE59"},children:"4.2kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#1FB256"},children:" Battery"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#1FB256"},children:"85%"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#A855F7"},children:" House"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"1.8kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#4EA8DE"},children:" Water"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"58C"})]}),d.jsxs("div",{className:"flex gap-2 pt-3",children:[d.jsx("button",{style:{background:"#FFCE59",color:"#1a1d23",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 16px rgba(255, 206, 89, 0.4), 0 0 32px rgba(255, 206, 89, 0.2)"},children:" Boost"}),d.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 12px rgba(152, 159, 165, 0.3)"},children:" Vacation"})]})]})]}),d.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#DFDFDF"},children:[d.jsx("div",{className:"px-4 py-3",style:{background:"#EFEFEF"},children:d.jsx("span",{className:"text-sm font-semibold",style:{color:"#2D2D2D"},children:" Light Mode  Flat Buttons (TE Style)"})}),d.jsxs("div",{className:"p-4 space-y-2",style:{background:"#EFEFEF"},children:[d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#b38b00"},children:"Solar"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"4.2kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#1FB256"},children:"Battery"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"85%"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#A855F7"},children:"House"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"1.8kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#4EA8DE"},children:"Water"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"58C"})]}),d.jsxs("div",{className:"flex gap-2 pt-3",children:[d.jsx("button",{style:{background:"#FFCE59",color:"#2D2D2D",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Boost"}),d.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Vacation"})]})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Future Components (Inspiration)"}),d.jsx("p",{className:"text-muted text-sm mb-6",children:"These components are not yet implemented but can be added as needed."}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Card"}),d.jsx("p",{className:"text-xs text-muted",children:"Container with shadow, padding, and rounded corners for grouping content."}),d.jsx("div",{className:"mt-3 p-3 bg-surface2 rounded-ds-md",children:d.jsx("div",{className:"text-xs text-text",children:"Card content goes here..."})})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Select (Dropdown)"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Custom searchable dropdown."}),d.jsx(pN,{options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Delete",value:"3",group:"Danger"}],value:"1",onChange:()=>{}})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tabs"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation between views."}),d.jsxs("div",{className:"flex gap-1 bg-surface2 p-1 rounded-ds-md",children:[d.jsx("div",{className:"px-3 py-1.5 text-xs font-medium bg-accent text-black rounded",children:"Active"}),d.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 2"}),d.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 3"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Avatars"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"User profile images or initials."}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-xs font-bold text-black",children:"JD"}),d.jsx("div",{className:"w-8 h-8 rounded-full bg-water flex items-center justify-center text-xs font-bold text-white",children:"AB"}),d.jsx("div",{className:"w-8 h-8 rounded-full bg-house flex items-center justify-center text-xs font-bold text-white",children:"?"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tooltip"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Hover for more info."}),d.jsx("span",{className:"tooltip px-3 py-1.5 bg-surface2 rounded text-xs text-text cursor-help","data-tooltip":"This is a tooltip!",children:"Hover me"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Data Table"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Tabular data display."}),d.jsxs("div",{className:"text-xs",children:[d.jsxs("div",{className:"flex gap-2 py-1 border-b border-line text-muted font-medium",children:[d.jsx("span",{className:"flex-1",children:"Name"}),d.jsx("span",{className:"w-16 text-right",children:"Value"})]}),d.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[d.jsx("span",{className:"flex-1",children:"Solar"}),d.jsx("span",{className:"w-16 text-right text-accent",children:"4.2kW"})]}),d.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[d.jsx("span",{className:"flex-1",children:"Battery"}),d.jsx("span",{className:"w-16 text-right text-good",children:"85%"})]})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Gauge / Dial"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Circular progress indicator."}),d.jsxs("div",{className:"w-16 h-16 rounded-full border-4 border-surface2 relative",children:[d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-accent border-r-accent",style:{transform:"rotate(45deg)"}}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-text",children:"75%"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Notification Badge"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Alert indicator on icons."}),d.jsxs("div",{className:"relative inline-block",children:[d.jsx("div",{className:"w-10 h-10 bg-surface2 rounded-lg flex items-center justify-center text-lg",children:""}),d.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-bad rounded-full flex items-center justify-center text-[10px] font-bold text-white",children:"3"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Stepper"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Multi-step progress."}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"1"}),d.jsx("div",{className:"flex-1 h-0.5 bg-accent"}),d.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"2"}),d.jsx("div",{className:"flex-1 h-0.5 bg-surface2"}),d.jsx("div",{className:"w-6 h-6 rounded-full bg-surface2 flex items-center justify-center text-[10px] font-bold text-muted",children:"3"})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" More Future Components"}),d.jsx("p",{className:"text-muted text-sm mb-6",children:"Additional component patterns for future implementation."}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Modal / Dialog"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Overlay for confirmations & forms."}),d.jsx("button",{className:"btn btn-primary text-xs",onClick:()=>f(!0),children:"Open Modal"}),d.jsx(jN,{open:u,onOpenChange:f,title:"Example Modal",footer:d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn btn-ghost",onClick:()=>f(!1),children:"Cancel"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>f(!1),children:"Confirm"})]}),children:d.jsx("p",{className:"text-text",children:"This is a reusable modal component using React Portal."})})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Accordion"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Expandable content sections."}),d.jsxs("div",{className:"bg-surface2 rounded-ds-md overflow-hidden",children:[d.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-text flex justify-between items-center cursor-pointer",onClick:()=>l(!o),children:[d.jsx("span",{children:"Click to expand"}),d.jsx("span",{children:o?"":"+"})]}),o&&d.jsx("div",{className:"px-3 py-2 text-xs text-muted border-t border-line",children:"Hidden content revealed!"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Search Input"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"With autocomplete dropdown."}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",className:"input pr-8",placeholder:"Search entities...",value:m,onChange:x=>p(x.target.value)}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted",children:""})]}),m&&d.jsxs("div",{className:"mt-1 bg-surface2 rounded-ds-md p-1 shadow-lg",children:[d.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.solar_power"}),d.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.battery_soc"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Date Picker"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Calendar date selection."}),d.jsxs("div",{className:"bg-surface2 rounded-ds-md p-2 w-48",children:[d.jsx("div",{className:"text-xs font-medium text-text text-center mb-2",children:"December 2024"}),d.jsxs("div",{className:"grid grid-cols-7 gap-1 text-[10px] text-center",children:[["M","T","W","T","F","S","S"].map((x,b)=>d.jsx("div",{className:"text-muted",children:x},b)),[...Array(31)].map((x,b)=>d.jsx("div",{className:`py-1 rounded cursor-pointer ${b===30?"bg-accent text-black font-bold":"text-text hover:bg-accent/20"}`,children:b+1},b))]})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Toast Notification"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Temporary status messages."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{className:"btn btn-secondary w-full text-xs",onClick:()=>t({variant:"success",message:"Success!",description:"Action completed successfully."}),children:"Trigger Success Toast"}),d.jsx("button",{className:"btn btn-ghost w-full text-xs border border-bad/50 text-bad hover:bg-bad/10",onClick:()=>t({variant:"error",message:"Error!",description:"Something went wrong."}),children:"Trigger Error Toast"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Breadcrumbs"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation path trail."}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Home"}),d.jsx("span",{className:"text-muted",children:"/"}),d.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Settings"}),d.jsx("span",{className:"text-muted",children:"/"}),d.jsx("span",{className:"text-text font-medium",children:"Entities"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float col-span-full lg:col-span-2",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Timeline / Activity Log"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Chronological event display."}),d.jsx("div",{className:"space-y-3",children:[{time:"14:32",event:"Battery charging started",color:"good"},{time:"14:15",event:"Solar production peaked at 4.2kW",color:"accent"},{time:"13:45",event:"Grid export enabled",color:"water"}].map((x,b)=>d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 bg-${x.color}`}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-mono text-muted",children:x.time}),d.jsx("div",{className:"text-xs text-text",children:x.event})]})]},b))})]})]})]}),u&&d.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:d.jsxs("div",{className:"modal",onClick:x=>x.stopPropagation(),children:[d.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Modal Title"}),d.jsx("p",{className:"text-sm text-muted mb-4",children:"This is a sample modal dialog. It uses the design system's modal classes."}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx("button",{className:"btn btn-ghost",onClick:()=>f(!1),children:"Cancel"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>f(!1),children:"Confirm"})]})]})}),d.jsxs("footer",{className:"text-center text-muted text-sm pt-8 border-t border-line",children:[d.jsxs("p",{children:["SSOT: ",d.jsx("code",{className:"bg-surface2 px-2 py-1 rounded text-xs",children:"frontend/src/index.css"})]}),d.jsx("p",{className:"mt-2",children:"Toggle dark/light mode using the switch in the header."})]})]})}const Ww=t=>{switch(t){case"sunny":return{solar:4.2,battery:1.5,grid:-2,house:2.5,water:.3,batterySOC:75};case"evening":return{solar:0,battery:-2.8,grid:.5,house:3.1,water:.2,batterySOC:45};case"charging":return{solar:.5,battery:3,grid:2.5,house:1,water:0,batterySOC:30};case"exporting":return{solar:6,battery:.5,grid:-4.5,house:1.5,water:.5,batterySOC:95};default:return{solar:2,battery:0,grid:.5,house:2.5,water:0,batterySOC:60}}};function bM(t,e){const n=e.x-t.x,s=e.y-t.y;return Math.sqrt(n*n+s*s)}function U7({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,f=4,m=Math.max(3-o*.4,.8);return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.25}),o>.1&&Array.from({length:f}).map((p,x)=>d.jsx(Dt.circle,{r:4,fill:s,initial:{opacity:0},animate:{cx:[l.x,u.x],cy:[l.y,u.y],opacity:[0,.9,.9,0]},transition:{duration:m,repeat:1/0,delay:x/f*m,ease:"linear"}},x))]})}function Y7({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,f=bM(l,u),m=Math.max(2-o*.3,.6);return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.2}),o>.1&&d.jsx(Dt.line,{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:3,strokeOpacity:.7,strokeDasharray:"8 12",initial:{strokeDashoffset:0},animate:{strokeDashoffset:-f},transition:{duration:m,repeat:1/0,ease:"linear"}})]})}function W7({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,f=bM(l,u),m=Math.max(2.5-o*.4,.8);return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.15}),o>.1&&d.jsx(Dt.line,{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:4,strokeOpacity:.8,strokeLinecap:"round",strokeDasharray:"6 14",initial:{strokeDashoffset:0},animate:{strokeDashoffset:-f},transition:{duration:m,repeat:1/0,ease:"linear"}})]})}function I7({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,f=Math.max(2-o*.3,.6),m=u.x-l.x,p=u.y-l.y,x=Math.atan2(p,m)*180/Math.PI,b=3;return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.2}),o>.1&&Array.from({length:b}).map((v,w)=>d.jsx(Dt.g,{initial:{opacity:0},animate:{x:[l.x,u.x],y:[l.y,u.y],opacity:[0,1,1,0]},transition:{duration:f,repeat:1/0,delay:w/b*f,ease:"linear"},children:d.jsx("polygon",{points:"-6,-4 0,0 -6,4",fill:s,transform:`rotate(${x})`})},w))]})}function q7({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,f=2,m=2+o*2;return d.jsx("g",{children:d.jsx(Dt.line,{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeLinecap:"round",initial:{strokeWidth:f,strokeOpacity:.3},animate:o>.1?{strokeWidth:[f,m,f],strokeOpacity:[.3,.7,.3]}:{strokeWidth:f,strokeOpacity:.2},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})})}function G7({from:t,to:e,power:n,color:s,id:a,reverse:o}){const l=Math.abs(n),u=o?e:t,f=o?t:e,m=Math.max(2.5-l*.4,1);return d.jsxs("g",{children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:`heat-${a}`,gradientUnits:"userSpaceOnUse",x1:u.x,y1:u.y,x2:f.x,y2:f.y,children:[d.jsx(Dt.stop,{offset:"0%",stopColor:s,initial:{stopOpacity:.8},animate:{stopOpacity:[.8,.2,.8]},transition:{duration:m,repeat:1/0}}),d.jsx(Dt.stop,{offset:"100%",stopColor:s,initial:{stopOpacity:.1},animate:{stopOpacity:[.1,.6,.1]},transition:{duration:m,repeat:1/0,delay:m*.5}})]})}),d.jsx("line",{x1:u.x,y1:u.y,x2:f.x,y2:f.y,stroke:l>.1?`url(#heat-${a})`:s,strokeWidth:4+l,strokeOpacity:l>.1?1:.15,strokeLinecap:"round"})]})}function $7({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,f=Math.max(2-o*.25,.8),m=(l.x+u.x)/2,p=(l.y+u.y)/2;return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.2}),o>.1&&d.jsxs(d.Fragment,{children:[d.jsx(Dt.circle,{cx:l.x,cy:l.y,fill:"none",stroke:s,strokeWidth:2,initial:{r:5,opacity:.8},animate:{r:25,opacity:0},transition:{duration:f*.8,repeat:1/0}}),d.jsx(Dt.circle,{cx:m,cy:p,fill:"none",stroke:s,strokeWidth:2,initial:{r:5,opacity:.6},animate:{r:20,opacity:0},transition:{duration:f*.8,repeat:1/0,delay:f*.4}})]})]})}function Vl({x:t,y:e,iconType:n,label:s,value:a,color:o,glowIntensity:l=0,isCharging:u}){const m=35+20*l,p={solar:jc,house:fS,battery:u?ac:fh,grid:Qn,water:rc}[n];return d.jsxs("g",{transform:`translate(${t}, ${e})`,children:[l>.1&&d.jsx(Dt.circle,{r:m,fill:o,initial:{opacity:0},animate:{opacity:.12+l*.15},transition:{duration:.3}}),d.jsx("circle",{r:35,fill:"rgb(var(--color-surface))",stroke:o,strokeWidth:3}),d.jsx("foreignObject",{x:-12,y:-12,width:24,height:24,children:d.jsx(p,{size:24,style:{color:o},strokeWidth:1.5})}),d.jsx("text",{y:55,textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:a}),d.jsx("text",{y:70,textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:s})]})}function X7({data:t,style:e}){const n={solar:{x:100,y:60},house:{x:200,y:150},battery:{x:200,y:260},grid:{x:100,y:260},water:{x:300,y:150}},s={solar:"rgb(var(--color-accent))",battery:"rgb(var(--color-good))",grid:"rgb(var(--color-grid))",house:"rgb(var(--color-house))",water:"rgb(var(--color-water))"},a=6,o={solar:Math.min(t.solar/a,1),battery:Math.min(Math.abs(t.battery)/a,1),grid:Math.min(Math.abs(t.grid)/a,1),house:Math.min(t.house/a,1),water:Math.min(t.water/a,1)},l=(u,f,m,p,x,b)=>{if(Math.abs(p)<.1)return d.jsx("line",{x1:f.x,y1:f.y,x2:m.x,y2:m.y,stroke:x,strokeWidth:1,strokeOpacity:.1},u);switch(e){case"particles":return d.jsx(U7,{from:f,to:m,power:p,color:x,reverse:b},u);case"glow-flow":return d.jsx(Y7,{id:u,from:f,to:m,power:p,color:x,reverse:b},u);case"dash-flow":return d.jsx(W7,{from:f,to:m,power:p,color:x,reverse:b},u);case"arrows":return d.jsx(I7,{from:f,to:m,power:p,color:x,reverse:b},u);case"thickness":return d.jsx(q7,{from:f,to:m,power:p,color:x,reverse:b},u);case"heat-trail":return d.jsx(G7,{id:u,from:f,to:m,power:p,color:x,reverse:b},u);case"ping":return d.jsx($7,{from:f,to:m,power:p,color:x,reverse:b},u)}};return d.jsxs("svg",{viewBox:"0 0 400 320",className:"w-full max-w-lg mx-auto",children:[l("solar-house",n.solar,n.house,t.solar,s.solar,!1),l("battery-house",n.battery,n.house,Math.abs(t.battery),s.battery,t.battery>0),l("grid-house",n.grid,n.house,Math.abs(t.grid),s.grid,t.grid<0),l("house-water",n.house,n.water,t.water,s.water,!1),d.jsx(Vl,{...n.solar,iconType:"solar",label:"Solar",value:`${t.solar.toFixed(1)} kW`,color:s.solar,glowIntensity:e==="glow-flow"?o.solar:0}),d.jsx(Vl,{...n.house,iconType:"house",label:"House",value:`${t.house.toFixed(1)} kW`,color:s.house,glowIntensity:e==="glow-flow"?o.house:0}),d.jsx(Vl,{...n.battery,iconType:"battery",label:t.battery>=0?"Charging":"Discharging",value:`${t.batterySOC}%`,color:s.battery,glowIntensity:e==="glow-flow"?o.battery:0,isCharging:t.battery>0}),d.jsx(Vl,{...n.grid,iconType:"grid",label:t.grid>=0?"Import":"Export",value:`${Math.abs(t.grid).toFixed(1)} kW`,color:s.grid,glowIntensity:e==="glow-flow"?o.grid:0}),d.jsx(Vl,{...n.water,iconType:"water",label:"Water",value:`${t.water.toFixed(1)} kW`,color:s.water,glowIntensity:e==="glow-flow"?o.water:0})]})}function K7(){const[t,e]=k.useState("particles"),[n,s]=k.useState("sunny"),[a,o]=k.useState(null),l=k.useMemo(()=>a??Ww(n),[a,n]),u=[{id:"particles",label:"1. Particles",description:"Clean dots, regular spacing"},{id:"glow-flow",label:"2. Glow + Dash",description:"Hub glow + animated dashes"},{id:"dash-flow",label:"3. Dash Flow",description:"Simple animated dashes"},{id:"arrows",label:"4. Arrows",description:"Chevrons traveling along path"},{id:"thickness",label:"5. Thickness",description:"Line breathes with power"},{id:"heat-trail",label:"6. Heat Trail",description:"Gradient fills like liquid"},{id:"ping",label:"7. Ping",description:"Ripples from source nodes"}],f=[{id:"sunny",label:" Sunny"},{id:"evening",label:" Evening"},{id:"charging",label:" Charging"},{id:"exporting",label:" Exporting"}],m=(p,x)=>{const b=a??Ww(n);o({...b,[p]:x})};return d.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:[" Power Flow Lab",d.jsx("span",{className:"px-2 py-0.5 rounded-full bg-accent/20 text-[10px] text-accent uppercase tracking-wider",children:"v2"})]}),d.jsx("p",{className:"text-[11px] text-muted",children:"Compare 7 animation styles  Lucide icons  Improved spacing"})]}),d.jsxs(Ne,{className:"p-4",children:[d.jsx("div",{className:"text-[10px] uppercase font-bold text-muted tracking-wider mb-3",children:"Animation Style"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2",children:u.map(p=>d.jsxs("button",{onClick:()=>e(p.id),className:`p-3 rounded-xl border transition-all text-left ${t===p.id?"border-accent bg-accent/10":"border-line/50 hover:border-line"}`,children:[d.jsx("div",{className:"text-[11px] font-medium text-text",children:p.label}),d.jsx("div",{className:"text-[9px] text-muted leading-tight",children:p.description})]},p.id))})]}),d.jsx(Ne,{className:"p-6",children:d.jsx(LO,{mode:"wait",children:d.jsx(Dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:d.jsx(X7,{data:l,style:t})},t)})}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[d.jsxs(Ne,{className:"p-4",children:[d.jsx("div",{className:"text-[10px] uppercase font-bold text-muted tracking-wider mb-3",children:"Presets"}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:f.map(p=>d.jsx("button",{onClick:()=>{s(p.id),o(null)},className:`px-3 py-2 rounded-lg border text-xs transition-all ${n===p.id&&!a?"border-accent bg-accent/10 text-text":"border-line/50 text-muted hover:text-text"}`,children:p.label},p.id))})]}),d.jsxs(Ne,{className:"p-4",children:[d.jsx("div",{className:"text-[10px] uppercase font-bold text-muted tracking-wider mb-3",children:"Custom Values"}),d.jsx("div",{className:"space-y-3",children:[{key:"solar",label:"Solar",min:0,max:8},{key:"battery",label:"Battery",min:-5,max:5},{key:"grid",label:"Grid",min:-6,max:6},{key:"house",label:"House",min:0,max:6},{key:"water",label:"Water",min:0,max:3}].map(p=>d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xs text-muted w-14",children:p.label}),d.jsx("input",{type:"range",min:p.min,max:p.max,step:.1,value:l[p.key],onChange:x=>m(p.key,parseFloat(x.target.value)),className:"flex-1 h-1 bg-line rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-accent [&::-webkit-slider-thumb]:rounded-full"}),d.jsxs("span",{className:"text-xs text-text w-16 text-right",children:[l[p.key].toFixed(1)," kW"]})]},p.key))})]})]})]})}function Z7({health:t,onDismiss:e}){if(!t||t.healthy)return null;const n=t.issues.filter(a=>a.severity==="critical"),s=t.issues.filter(a=>a.severity==="warning");return d.jsxs("div",{className:"system-alert-container",children:[n.length>0&&d.jsxs("div",{className:"system-alert system-alert--critical",children:[d.jsx("div",{className:"system-alert__icon",children:""}),d.jsxs("div",{className:"system-alert__content",children:[d.jsxs("div",{className:"system-alert__title",children:["System Error",n.length>1?"s":""," Detected"]}),d.jsx("ul",{className:"system-alert__list",children:n.map((a,o)=>d.jsxs("li",{className:"system-alert__item",children:[d.jsx("strong",{children:a.message}),a.entity_id&&d.jsx("code",{className:"system-alert__entity",children:a.entity_id}),d.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]}),e&&d.jsx("button",{className:"system-alert__dismiss",onClick:e,title:"Dismiss (will reappear on next check)",children:""})]}),s.length>0&&d.jsxs("div",{className:"system-alert system-alert--warning",children:[d.jsx("div",{className:"system-alert__icon",children:""}),d.jsxs("div",{className:"system-alert__content",children:[d.jsxs("div",{className:"system-alert__title",children:["Warning",s.length>1?"s":""]}),d.jsx("ul",{className:"system-alert__list",children:s.map((a,o)=>d.jsxs("li",{className:"system-alert__item",children:[d.jsx("strong",{children:a.message}),d.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]})]})]})}function Q7({children:t}){const[e,n]=k.useState([]),s=k.useCallback(o=>{n(l=>l.filter(u=>u.id!==o))},[]),a=k.useCallback(({message:o,description:l,variant:u})=>{const f=Math.random().toString(36).substring(2,9);n(m=>[...m,{id:f,message:o,description:l,variant:u}]),setTimeout(()=>{s(f)},5e3)},[s]);return d.jsxs(hN.Provider,{value:{toast:a,dismiss:s},children:[t,$w.createPortal(d.jsx("div",{className:"fixed bottom-0 right-0 z-[100] p-6 space-y-4 max-w-sm w-full pointer-events-none",children:e.map(o=>d.jsxs("div",{className:`
                                pointer-events-auto
                                flex gap-3 p-4 rounded-ds-lg shadow-2xl border
                                animate-in slide-in-from-right-full duration-300
                                ${J7(o.variant)}
                            `,children:[d.jsx("div",{className:"shrink-0 mt-0.5",children:eF(o.variant)}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-semibold text-sm",children:o.message}),o.description&&d.jsx("div",{className:"text-xs opacity-90 mt-1",children:o.description})]}),d.jsx("button",{onClick:()=>s(o.id),className:"shrink-0 -mt-1 -mr-1 p-1 rounded hover:bg-black/10 transition-colors",children:d.jsx(yo,{className:"h-4 w-4"})})]},o.id))}),document.body)]})}function J7(t){switch(t){case"success":return"bg-surface2 border-good text-text";case"error":return"bg-bad text-white border-bad";case"warning":return"bg-warn text-black border-warn";case"info":return"bg-surface2 border-line text-text";default:return""}}function eF(t){switch(t){case"success":return d.jsx(uS,{className:"h-5 w-5 text-good"});case"error":return d.jsx(JD,{className:"h-5 w-5 text-white"});case"warning":return d.jsx(wd,{className:"h-5 w-5 text-black"});case"info":return d.jsx(tg,{className:"h-5 w-5 text-accent"});default:return null}}function tF(){const[t,e]=k.useState(!1),[n,s]=k.useState(null);return k.useEffect(()=>{let a=!1,o=0;const l=async()=>{try{const[,f]=await Promise.all([me.status(),me.health()]);if(a)return;o=0,e(!1),s(f)}catch{if(a)return;o+=1,o>=3&&(e(!0),s(null))}};l();const u=window.setInterval(l,6e4);return()=>{a=!0,window.clearInterval(u)}},[]),d.jsx(gC,{children:d.jsx(Q7,{children:d.jsxs(UD,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[d.jsx(pC,{}),d.jsxs("div",{className:"lg:pl-[96px]",children:[n&&!n.healthy&&d.jsx(Z7,{health:n}),t&&!n&&d.jsx("div",{className:"bg-amber-900/80 border-b border-amber-500/60 text-amber-100 text-[11px] px-4 py-2 flex items-center justify-between",children:d.jsx("span",{children:"Backend appears offline or degraded. Some data may be stale or unavailable."})}),d.jsxs(OD,{children:[d.jsx(Gi,{path:"/",element:d.jsx(uP,{})}),d.jsx(Gi,{path:"/executor",element:d.jsx(F7,{})}),d.jsx(Gi,{path:"/aurora",element:d.jsx(V7,{})}),d.jsx(Gi,{path:"/debug",element:d.jsx(dP,{})}),d.jsx(Gi,{path:"/settings",element:d.jsx(NP,{})}),d.jsx(Gi,{path:"/design-system",element:d.jsx(H7,{})}),d.jsx(Gi,{path:"/power-flow-lab",element:d.jsx(K7,{})})]})]})]})})})}Y5.createRoot(document.getElementById("root")).render(d.jsx(qw.StrictMode,{children:d.jsx(tF,{})}))});export default nF();
