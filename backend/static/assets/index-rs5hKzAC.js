var v5=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var C7=v5((P7,Dd)=>{function _5(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Rw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xm={exports:{}},Sl={};var c1;function w5(){if(c1)return Sl;c1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:o}}return Sl.Fragment=e,Sl.jsx=n,Sl.jsxs=n,Sl}var u1;function S5(){return u1||(u1=1,Xm.exports=w5()),Xm.exports}var d=S5(),Km={exports:{}},je={};var d1;function j5(){if(d1)return je;d1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function N(R,U,J){this.props=R,this.context=U,this.refs=j,this.updater=J||w}N.prototype.isReactComponent={},N.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function T(){}T.prototype=N.prototype;function E(R,U,J){this.props=R,this.context=U,this.refs=j,this.updater=J||w}var O=E.prototype=new T;O.constructor=E,S(O,N.prototype),O.isPureReactComponent=!0;var z=Array.isArray;function D(){}var A={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function V(R,U,J){var C=J.ref;return{$$typeof:t,type:R,key:U,ref:C!==void 0?C:null,props:J}}function X(R,U){return V(R.type,U,R.props)}function G(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function ne(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(J){return U[J]})}var pe=/\/+/g;function re(R,U){return typeof R=="object"&&R!==null&&R.key!=null?ne(""+R.key):U.toString(36)}function le(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(D,D):(R.status="pending",R.then(function(U){R.status==="pending"&&(R.status="fulfilled",R.value=U)},function(U){R.status==="pending"&&(R.status="rejected",R.reason=U)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function F(R,U,J,C,ee){var ce=typeof R;(ce==="undefined"||ce==="boolean")&&(R=null);var De=!1;if(R===null)De=!0;else switch(ce){case"bigint":case"string":case"number":De=!0;break;case"object":switch(R.$$typeof){case t:case e:De=!0;break;case g:return De=R._init,F(De(R._payload),U,J,C,ee)}}if(De)return ee=ee(R),De=C===""?"."+re(R,0):C,z(ee)?(J="",De!=null&&(J=De.replace(pe,"$&/")+"/"),F(ee,U,J,"",function(_n){return _n})):ee!=null&&(G(ee)&&(ee=X(ee,J+(ee.key==null||R&&R.key===ee.key?"":(""+ee.key).replace(pe,"$&/")+"/")+De)),U.push(ee)),1;De=0;var xt=C===""?".":C+":";if(z(R))for(var Ge=0;Ge<R.length;Ge++)C=R[Ge],ce=xt+re(C,Ge),De+=F(C,U,J,ce,ee);else if(Ge=v(R),typeof Ge=="function")for(R=Ge.call(R),Ge=0;!(C=R.next()).done;)C=C.value,ce=xt+re(C,Ge++),De+=F(C,U,J,ce,ee);else if(ce==="object"){if(typeof R.then=="function")return F(le(R),U,J,C,ee);throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return De}function $(R,U,J){if(R==null)return R;var C=[],ee=0;return F(R,C,"","",function(ce){return U.call(J,ce,ee++)}),C}function ie(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(J){(R._status===0||R._status===-1)&&(R._status=1,R._result=J)},function(J){(R._status===0||R._status===-1)&&(R._status=2,R._result=J)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var te=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},oe={map:$,forEach:function(R,U,J){$(R,function(){U.apply(this,arguments)},J)},count:function(R){var U=0;return $(R,function(){U++}),U},toArray:function(R){return $(R,function(U){return U})||[]},only:function(R){if(!G(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return je.Activity=x,je.Children=oe,je.Component=N,je.Fragment=n,je.Profiler=a,je.PureComponent=E,je.StrictMode=s,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,je.__COMPILER_RUNTIME={__proto__:null,c:function(R){return A.H.useMemoCache(R)}},je.cache=function(R){return function(){return R.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(R,U,J){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var C=S({},R.props),ee=R.key;if(U!=null)for(ce in U.key!==void 0&&(ee=""+U.key),U)!L.call(U,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&U.ref===void 0||(C[ce]=U[ce]);var ce=arguments.length-2;if(ce===1)C.children=J;else if(1<ce){for(var De=Array(ce),xt=0;xt<ce;xt++)De[xt]=arguments[xt+2];C.children=De}return V(R.type,ee,C)},je.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},je.createElement=function(R,U,J){var C,ee={},ce=null;if(U!=null)for(C in U.key!==void 0&&(ce=""+U.key),U)L.call(U,C)&&C!=="key"&&C!=="__self"&&C!=="__source"&&(ee[C]=U[C]);var De=arguments.length-2;if(De===1)ee.children=J;else if(1<De){for(var xt=Array(De),Ge=0;Ge<De;Ge++)xt[Ge]=arguments[Ge+2];ee.children=xt}if(R&&R.defaultProps)for(C in De=R.defaultProps,De)ee[C]===void 0&&(ee[C]=De[C]);return V(R,ce,ee)},je.createRef=function(){return{current:null}},je.forwardRef=function(R){return{$$typeof:u,render:R}},je.isValidElement=G,je.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:ie}},je.memo=function(R,U){return{$$typeof:m,type:R,compare:U===void 0?null:U}},je.startTransition=function(R){var U=A.T,J={};A.T=J;try{var C=R(),ee=A.S;ee!==null&&ee(J,C),typeof C=="object"&&C!==null&&typeof C.then=="function"&&C.then(D,te)}catch(ce){te(ce)}finally{U!==null&&J.types!==null&&(U.types=J.types),A.T=U}},je.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},je.use=function(R){return A.H.use(R)},je.useActionState=function(R,U,J){return A.H.useActionState(R,U,J)},je.useCallback=function(R,U){return A.H.useCallback(R,U)},je.useContext=function(R){return A.H.useContext(R)},je.useDebugValue=function(){},je.useDeferredValue=function(R,U){return A.H.useDeferredValue(R,U)},je.useEffect=function(R,U){return A.H.useEffect(R,U)},je.useEffectEvent=function(R){return A.H.useEffectEvent(R)},je.useId=function(){return A.H.useId()},je.useImperativeHandle=function(R,U,J){return A.H.useImperativeHandle(R,U,J)},je.useInsertionEffect=function(R,U){return A.H.useInsertionEffect(R,U)},je.useLayoutEffect=function(R,U){return A.H.useLayoutEffect(R,U)},je.useMemo=function(R,U){return A.H.useMemo(R,U)},je.useOptimistic=function(R,U){return A.H.useOptimistic(R,U)},je.useReducer=function(R,U,J){return A.H.useReducer(R,U,J)},je.useRef=function(R){return A.H.useRef(R)},je.useState=function(R){return A.H.useState(R)},je.useSyncExternalStore=function(R,U,J){return A.H.useSyncExternalStore(R,U,J)},je.useTransition=function(){return A.H.useTransition()},je.version="19.2.3",je}var h1;function Pg(){return h1||(h1=1,Km.exports=j5()),Km.exports}var k=Pg();const Lw=Rw(k),N5=_5({__proto__:null,default:Lw},[k]);var Zm={exports:{}},jl={},Qm={exports:{}},Jm={};var f1;function k5(){return f1||(f1=1,(function(t){function e(F,$){var ie=F.length;F.push($);e:for(;0<ie;){var te=ie-1>>>1,oe=F[te];if(0<a(oe,$))F[te]=$,F[ie]=oe,ie=te;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var $=F[0],ie=F.pop();if(ie!==$){F[0]=ie;e:for(var te=0,oe=F.length,R=oe>>>1;te<R;){var U=2*(te+1)-1,J=F[U],C=U+1,ee=F[C];if(0>a(J,ie))C<oe&&0>a(ee,J)?(F[te]=ee,F[C]=ie,te=C):(F[te]=J,F[U]=ie,te=U);else if(C<oe&&0>a(ee,ie))F[te]=ee,F[C]=ie,te=C;else break e}}return $}function a(F,$){var ie=F.sortIndex-$.sortIndex;return ie!==0?ie:F.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],m=[],g=1,x=null,b=3,v=!1,w=!1,S=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(F){for(var $=n(m);$!==null;){if($.callback===null)s(m);else if($.startTime<=F)s(m),$.sortIndex=$.expirationTime,e(f,$);else break;$=n(m)}}function z(F){if(S=!1,O(F),!w)if(n(f)!==null)w=!0,D||(D=!0,ne());else{var $=n(m);$!==null&&le(z,$.startTime-F)}}var D=!1,A=-1,L=5,V=-1;function X(){return j?!0:!(t.unstable_now()-V<L)}function G(){if(j=!1,D){var F=t.unstable_now();V=F;var $=!0;try{e:{w=!1,S&&(S=!1,T(A),A=-1),v=!0;var ie=b;try{t:{for(O(F),x=n(f);x!==null&&!(x.expirationTime>F&&X());){var te=x.callback;if(typeof te=="function"){x.callback=null,b=x.priorityLevel;var oe=te(x.expirationTime<=F);if(F=t.unstable_now(),typeof oe=="function"){x.callback=oe,O(F),$=!0;break t}x===n(f)&&s(f),O(F)}else s(f);x=n(f)}if(x!==null)$=!0;else{var R=n(m);R!==null&&le(z,R.startTime-F),$=!1}}break e}finally{x=null,b=ie,v=!1}$=void 0}}finally{$?ne():D=!1}}}var ne;if(typeof E=="function")ne=function(){E(G)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,re=pe.port2;pe.port1.onmessage=G,ne=function(){re.postMessage(null)}}else ne=function(){N(G,0)};function le(F,$){A=N(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(F){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var ie=b;b=$;try{return F()}finally{b=ie}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=b;b=F;try{return $()}finally{b=ie}},t.unstable_scheduleCallback=function(F,$,ie){var te=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?te+ie:te):ie=te,F){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ie+oe,F={id:g++,callback:$,priorityLevel:F,startTime:ie,expirationTime:oe,sortIndex:-1},ie>te?(F.sortIndex=ie,e(m,F),n(f)===null&&F===n(m)&&(S?(T(A),A=-1):S=!0,le(z,ie-te))):(F.sortIndex=oe,e(f,F),w||v||(w=!0,D||(D=!0,ne()))),F},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(F){var $=b;return function(){var ie=b;b=$;try{return F.apply(this,arguments)}finally{b=ie}}}})(Jm)),Jm}var m1;function M5(){return m1||(m1=1,Qm.exports=k5()),Qm.exports}var ep={exports:{}},Qt={};var p1;function T5(){if(p1)return Qt;p1=1;var t=Pg();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,g)},Qt.flushSync=function(f){var m=c.T,g=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=m,s.p=g,s.d.f()}},Qt.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},Qt.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Qt.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=u(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:v}):g==="script"&&s.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Qt.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=u(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},Qt.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=u(g,m.crossOrigin);s.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Qt.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=u(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},Qt.requestFormReset=function(f){s.d.r(f)},Qt.unstable_batchedUpdates=function(f,m){return f(m)},Qt.useFormState=function(f,m,g){return c.H.useFormState(f,m,g)},Qt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Qt.version="19.2.3",Qt}var g1;function zw(){if(g1)return ep.exports;g1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ep.exports=T5(),ep.exports}var x1;function D5(){if(x1)return jl;x1=1;var t=M5(),e=Pg(),n=zw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function u(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=o(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return f(p),i;if(y===h)return f(p),r;y=y.sibling}throw Error(s(188))}if(l.return!==h.return)l=p,h=y;else{for(var _=!1,M=p.child;M;){if(M===l){_=!0,l=p,h=y;break}if(M===h){_=!0,h=p,l=y;break}M=M.sibling}if(!_){for(M=y.child;M;){if(M===l){_=!0,l=y,h=p;break}if(M===h){_=!0,h=y,l=p;break}M=M.sibling}if(!_)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var pe=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===pe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case z:return"Suspense";case D:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case E:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case O:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return r=i.displayName||null,r!==null?r:re(i.type)||"Memo";case L:r=i._payload,i=i._init;try{return re(i(r))}catch{}}return null}var le=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},te=[],oe=-1;function R(i){return{current:i}}function U(i){0>oe||(i.current=te[oe],te[oe]=null,oe--)}function J(i,r){oe++,te[oe]=i.current,i.current=r}var C=R(null),ee=R(null),ce=R(null),De=R(null);function xt(i,r){switch(J(ce,r),J(ee,i),J(C,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Ev(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Ev(r),i=Ov(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(C),J(C,i)}function Ge(){U(C),U(ee),U(ce)}function _n(i){i.memoizedState!==null&&J(De,i);var r=C.current,l=Ov(r,i.type);r!==l&&(J(ee,i),J(C,l))}function cn(i){ee.current===i&&(U(C),U(ee)),De.current===i&&(U(De),bl._currentValue=ie)}var fe,Je;function yt(i){if(fe===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);fe=r&&r[1]||"",Je=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+i+Je}var Es=!1;function bi(i,r){if(!i||Es)return"";Es=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(I){var q=I}Reflect.construct(i,[],Q)}else{try{Q.call()}catch(I){q=I}i.call(Q.prototype)}}else{try{throw Error()}catch(I){q=I}(Q=i())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(I){if(I&&q&&typeof I.stack=="string")return[I.stack,q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),_=y[0],M=y[1];if(_&&M){var P=_.split(`
`),W=M.split(`
`);for(p=h=0;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(h===P.length||p===W.length)for(h=P.length-1,p=W.length-1;1<=h&&0<=p&&P[h]!==W[p];)p--;for(;1<=h&&0<=p;h--,p--)if(P[h]!==W[p]){if(h!==1||p!==1)do if(h--,p--,0>p||P[h]!==W[p]){var K=`
`+P[h].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=h&&0<=p);break}}}finally{Es=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?yt(l):""}function $e(i,r){switch(i.tag){case 26:case 27:case 5:return yt(i.type);case 16:return yt("Lazy");case 13:return i.child!==r&&r!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return bi(i.type,!1);case 11:return bi(i.type.render,!1);case 1:return bi(i.type,!0);case 31:return yt("Activity");default:return""}}function un(i){try{var r="",l=null;do r+=$e(i,l),l=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ma=Object.prototype.hasOwnProperty,ir=t.unstable_scheduleCallback,ar=t.unstable_cancelCallback,ms=t.unstable_shouldYield,Ph=t.unstable_requestPaint,Xt=t.unstable_now,rr=t.unstable_getCurrentPriorityLevel,Co=t.unstable_ImmediatePriority,ts=t.unstable_UserBlockingPriority,or=t.unstable_NormalPriority,Bh=t.unstable_LowPriority,Os=t.unstable_IdlePriority,Ao=t.log,Oc=t.unstable_setDisableYieldValue,vi=null,on=null;function ns(i){if(typeof Ao=="function"&&Oc(i),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(vi,i)}catch{}}var Ut=Math.clz32?Math.clz32:de,Rc=Math.log,Eo=Math.LN2;function de(i){return i>>>=0,i===0?32:31-(Rc(i)/Eo|0)|0}var Ve=256,rt=262144,Lt=4194304;function wn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Kt(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var p=0,y=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~y,h!==0?p=wn(h):(_&=M,_!==0?p=wn(_):l||(l=M&~i,l!==0&&(p=wn(l))))):(M=h&~y,M!==0?p=wn(M):_!==0?p=wn(_):l||(l=h&~i,l!==0&&(p=wn(l)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,l=r&-r,y>=l||y===32&&(l&4194048)!==0)?r:p}function Ln(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Sn(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ps(){var i=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),i}function pa(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function _i(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function be(i,r,l,h,p,y){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,P=i.expirationTimes,W=i.hiddenUpdates;for(l=_&~l;0<l;){var K=31-Ut(l),Q=1<<K;M[K]=0,P[K]=-1;var q=W[K];if(q!==null)for(W[K]=null,K=0;K<q.length;K++){var I=q[K];I!==null&&(I.lane&=-536870913)}l&=~Q}h!==0&&zn(i,h,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(_&~r))}function zn(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Ut(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Zt(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Ut(l),p=1<<h;p&r|i[h]&r&&(i[h]|=r),l&=~p}}function wi(i,r){var l=r&-r;return l=(l&42)!==0?1:Oo(l),(l&(i.suspendedLanes|r))!==0?0:l}function Oo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function lr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Lc(){var i=$.p;return i!==0?i:(i=window.event,i===void 0?32:n1(i.type))}function y0(i,r){var l=$.p;try{return $.p=i,r()}finally{$.p=l}}var Si=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Si,dn="__reactProps$"+Si,cr="__reactContainer$"+Si,Vh="__reactEvents$"+Si,cM="__reactListeners$"+Si,uM="__reactHandles$"+Si,b0="__reactResources$"+Si,Ro="__reactMarker$"+Si;function Fh(i){delete i[Yt],delete i[dn],delete i[Vh],delete i[cM],delete i[uM]}function ur(i){var r=i[Yt];if(r)return r;for(var l=i.parentNode;l;){if(r=l[cr]||l[Yt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Fv(i);i!==null;){if(l=i[Yt])return l;i=Fv(i)}return r}i=l,l=i.parentNode}return null}function dr(i){if(i=i[Yt]||i[cr]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Lo(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function hr(i){var r=i[b0];return r||(r=i[b0]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Vt(i){i[Ro]=!0}var v0=new Set,_0={};function ga(i,r){fr(i,r),fr(i+"Capture",r)}function fr(i,r){for(_0[i]=r,i=0;i<r.length;i++)v0.add(r[i])}var dM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),w0={},S0={};function hM(i){return ma.call(S0,i)?!0:ma.call(w0,i)?!1:dM.test(i)?S0[i]=!0:(w0[i]=!0,!1)}function zc(i,r,l){if(hM(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function Pc(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Rs(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}function Pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function j0(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fM(i,r,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,y=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Hh(i){if(!i._valueTracker){var r=j0(i)?"checked":"value";i._valueTracker=fM(i,r,""+i[r])}}function N0(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=j0(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Bc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var mM=/[\n"\\]/g;function Bn(i){return i.replace(mM,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Uh(i,r,l,h,p,y,_,M){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Pn(r)):i.value!==""+Pn(r)&&(i.value=""+Pn(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Yh(i,_,Pn(r)):l!=null?Yh(i,_,Pn(l)):h!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Pn(M):i.removeAttribute("name")}function k0(i,r,l,h,p,y,_,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Hh(i);return}l=l!=null?""+Pn(l):"",r=r!=null?""+Pn(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Hh(i)}function Yh(i,r,l){r==="number"&&Bc(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function mr(i,r,l,h){if(i=i.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=r.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Pn(l),r=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function M0(i,r,l){if(r!=null&&(r=""+Pn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+Pn(l):""}function T0(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(le(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=Pn(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Hh(i)}function pr(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var pM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function D0(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||pM.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function C0(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in r)h=r[p],r.hasOwnProperty(p)&&l[p]!==h&&D0(i,p,h)}else for(var y in r)r.hasOwnProperty(y)&&D0(i,y,r[y])}function Wh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vc(i){return xM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ls(){}var qh=null;function Ih(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gr=null,xr=null;function A0(i){var r=dr(i);if(r&&(i=r.stateNode)){var l=i[dn]||null;e:switch(i=r.stateNode,r.type){case"input":if(Uh(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Bn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var p=h[dn]||null;if(!p)throw Error(s(90));Uh(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&N0(h)}break e;case"textarea":M0(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&mr(i,!!l.multiple,r,!1)}}}var Gh=!1;function E0(i,r,l){if(Gh)return i(r,l);Gh=!0;try{var h=i(r);return h}finally{if(Gh=!1,(gr!==null||xr!==null)&&(ku(),gr&&(r=gr,i=xr,xr=gr=null,A0(r),i)))for(r=0;r<i.length;r++)A0(i[r])}}function zo(i,r){var l=i.stateNode;if(l===null)return null;var h=l[dn]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$h=!1;if(zs)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){$h=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{$h=!1}var ji=null,Xh=null,Fc=null;function O0(){if(Fc)return Fc;var i,r=Xh,l=r.length,h,p="value"in ji?ji.value:ji.textContent,y=p.length;for(i=0;i<l&&r[i]===p[i];i++);var _=l-i;for(h=1;h<=_&&r[l-h]===p[y-h];h++);return Fc=p.slice(i,1<h?1-h:void 0)}function Hc(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Uc(){return!0}function R0(){return!1}function hn(i){function r(l,h,p,y,_){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Uc:R0,this.isPropagationStopped=R0,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),r}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=hn(xa),Bo=x({},xa,{view:0,detail:0}),yM=hn(Bo),Kh,Zh,Vo,Wc=x({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vo&&(Vo&&i.type==="mousemove"?(Kh=i.screenX-Vo.screenX,Zh=i.screenY-Vo.screenY):Zh=Kh=0,Vo=i),Kh)},movementY:function(i){return"movementY"in i?i.movementY:Zh}}),L0=hn(Wc),bM=x({},Wc,{dataTransfer:0}),vM=hn(bM),_M=x({},Bo,{relatedTarget:0}),Qh=hn(_M),wM=x({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),SM=hn(wM),jM=x({},xa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),NM=hn(jM),kM=x({},xa,{data:0}),z0=hn(kM),MM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CM(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=DM[i])?!!r[i]:!1}function Jh(){return CM}var AM=x({},Bo,{key:function(i){if(i.key){var r=MM[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Hc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?TM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jh,charCode:function(i){return i.type==="keypress"?Hc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),EM=hn(AM),OM=x({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P0=hn(OM),RM=x({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jh}),LM=hn(RM),zM=x({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),PM=hn(zM),BM=x({},Wc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),VM=hn(BM),FM=x({},xa,{newState:0,oldState:0}),HM=hn(FM),UM=[9,13,27,32],ef=zs&&"CompositionEvent"in window,Fo=null;zs&&"documentMode"in document&&(Fo=document.documentMode);var YM=zs&&"TextEvent"in window&&!Fo,B0=zs&&(!ef||Fo&&8<Fo&&11>=Fo),V0=" ",F0=!1;function H0(i,r){switch(i){case"keyup":return UM.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yr=!1;function WM(i,r){switch(i){case"compositionend":return U0(r);case"keypress":return r.which!==32?null:(F0=!0,V0);case"textInput":return i=r.data,i===V0&&F0?null:i;default:return null}}function qM(i,r){if(yr)return i==="compositionend"||!ef&&H0(i,r)?(i=O0(),Fc=Xh=ji=null,yr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return B0&&r.locale!=="ko"?null:r.data;default:return null}}var IM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!IM[i.type]:r==="textarea"}function W0(i,r,l,h){gr?xr?xr.push(h):xr=[h]:gr=h,r=Ou(r,"onChange"),0<r.length&&(l=new Yc("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Ho=null,Uo=null;function GM(i){kv(i,0)}function qc(i){var r=Lo(i);if(N0(r))return i}function q0(i,r){if(i==="change")return r}var I0=!1;if(zs){var tf;if(zs){var nf="oninput"in document;if(!nf){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),nf=typeof G0.oninput=="function"}tf=nf}else tf=!1;I0=tf&&(!document.documentMode||9<document.documentMode)}function $0(){Ho&&(Ho.detachEvent("onpropertychange",X0),Uo=Ho=null)}function X0(i){if(i.propertyName==="value"&&qc(Uo)){var r=[];W0(r,Uo,i,Ih(i)),E0(GM,r)}}function $M(i,r,l){i==="focusin"?($0(),Ho=r,Uo=l,Ho.attachEvent("onpropertychange",X0)):i==="focusout"&&$0()}function XM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qc(Uo)}function KM(i,r){if(i==="click")return qc(r)}function ZM(i,r){if(i==="input"||i==="change")return qc(r)}function QM(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var jn=typeof Object.is=="function"?Object.is:QM;function Yo(i,r){if(jn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!ma.call(r,p)||!jn(i[p],r[p]))return!1}return!0}function K0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Z0(i,r){var l=K0(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=K0(l)}}function Q0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Q0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function J0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Bc(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Bc(i.document)}return r}function sf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var JM=zs&&"documentMode"in document&&11>=document.documentMode,br=null,af=null,Wo=null,rf=!1;function ey(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rf||br==null||br!==Bc(h)||(h=br,"selectionStart"in h&&sf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Wo&&Yo(Wo,h)||(Wo=h,h=Ou(af,"onSelect"),0<h.length&&(r=new Yc("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=br)))}function ya(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var vr={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},of={},ty={};zs&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function ba(i){if(of[i])return of[i];if(!vr[i])return i;var r=vr[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in ty)return of[i]=r[l];return i}var ny=ba("animationend"),sy=ba("animationiteration"),iy=ba("animationstart"),eT=ba("transitionrun"),tT=ba("transitionstart"),nT=ba("transitioncancel"),ay=ba("transitionend"),ry=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function ss(i,r){ry.set(i,r),ga(r,[i])}var Ic=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Vn=[],_r=0,cf=0;function Gc(){for(var i=_r,r=cf=_r=0;r<i;){var l=Vn[r];Vn[r++]=null;var h=Vn[r];Vn[r++]=null;var p=Vn[r];Vn[r++]=null;var y=Vn[r];if(Vn[r++]=null,h!==null&&p!==null){var _=h.pending;_===null?p.next=p:(p.next=_.next,_.next=p),h.pending=p}y!==0&&oy(l,p,y)}}function $c(i,r,l,h){Vn[_r++]=i,Vn[_r++]=r,Vn[_r++]=l,Vn[_r++]=h,cf|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function uf(i,r,l,h){return $c(i,r,l,h),Xc(i)}function va(i,r){return $c(i,null,null,r),Xc(i)}function oy(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,y=i.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&r!==null&&(p=31-Ut(l),i=y.hiddenUpdates,h=i[p],h===null?i[p]=[r]:h.push(r),r.lane=l|536870912),y):null}function Xc(i){if(50<hl)throw hl=0,bm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var wr={};function sT(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,r,l,h){return new sT(i,r,l,h)}function df(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ps(i,r){var l=i.alternate;return l===null?(l=Nn(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function ly(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Kc(i,r,l,h,p,y){var _=0;if(h=i,typeof i=="function")df(i)&&(_=1);else if(typeof i=="string")_=l5(i,l,C.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=Nn(31,l,r,p),i.elementType=V,i.lanes=y,i;case S:return _a(l.children,p,y,r);case j:_=8,p|=24;break;case N:return i=Nn(12,l,r,p|2),i.elementType=N,i.lanes=y,i;case z:return i=Nn(13,l,r,p),i.elementType=z,i.lanes=y,i;case D:return i=Nn(19,l,r,p),i.elementType=D,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:_=10;break e;case T:_=9;break e;case O:_=11;break e;case A:_=14;break e;case L:_=16,h=null;break e}_=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=Nn(_,l,r,p),r.elementType=i,r.type=h,r.lanes=y,r}function _a(i,r,l,h){return i=Nn(7,i,h,r),i.lanes=l,i}function hf(i,r,l){return i=Nn(6,i,null,r),i.lanes=l,i}function cy(i){var r=Nn(18,null,null,0);return r.stateNode=i,r}function ff(i,r,l){return r=Nn(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var uy=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var l=uy.get(i);return l!==void 0?l:(r={value:i,source:r,stack:un(r)},uy.set(i,r),r)}return{value:i,source:r,stack:un(r)}}var Sr=[],jr=0,Zc=null,qo=0,Hn=[],Un=0,Ni=null,gs=1,xs="";function Bs(i,r){Sr[jr++]=qo,Sr[jr++]=Zc,Zc=i,qo=r}function dy(i,r,l){Hn[Un++]=gs,Hn[Un++]=xs,Hn[Un++]=Ni,Ni=i;var h=gs;i=xs;var p=32-Ut(h)-1;h&=~(1<<p),l+=1;var y=32-Ut(r)+p;if(30<y){var _=p-p%5;y=(h&(1<<_)-1).toString(32),h>>=_,p-=_,gs=1<<32-Ut(r)+p|l<<p|h,xs=y+i}else gs=1<<y|l<<p|h,xs=i}function mf(i){i.return!==null&&(Bs(i,1),dy(i,1,0))}function pf(i){for(;i===Zc;)Zc=Sr[--jr],Sr[jr]=null,qo=Sr[--jr],Sr[jr]=null;for(;i===Ni;)Ni=Hn[--Un],Hn[Un]=null,xs=Hn[--Un],Hn[Un]=null,gs=Hn[--Un],Hn[Un]=null}function hy(i,r){Hn[Un++]=gs,Hn[Un++]=xs,Hn[Un++]=Ni,gs=r.id,xs=r.overflow,Ni=i}var Wt=null,ot=null,Fe=!1,ki=null,Yn=!1,gf=Error(s(519));function Mi(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(Fn(r,i)),gf}function fy(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Yt]=i,r[dn]=h,l){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(l=0;l<ml.length;l++)Oe(ml[l],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),k0(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),T0(r,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||Cv(r.textContent,l)?(h.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),h.onScroll!=null&&Oe("scroll",r),h.onScrollEnd!=null&&Oe("scrollend",r),h.onClick!=null&&(r.onclick=Ls),r=!0):r=!1,r||Mi(i,!0)}function my(i){for(Wt=i.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Wt=Wt.return}}function Nr(i){if(i!==Wt)return!1;if(!Fe)return my(i),Fe=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Rm(i.type,i.memoizedProps)),l=!l),l&&ot&&Mi(i),my(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Vv(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Vv(i)}else r===27?(r=ot,Hi(i.type)?(i=Vm,Vm=null,ot=i):ot=r):ot=Wt?qn(i.stateNode.nextSibling):null;return!0}function wa(){ot=Wt=null,Fe=!1}function xf(){var i=ki;return i!==null&&(gn===null?gn=i:gn.push.apply(gn,i),ki=null),i}function Io(i){ki===null?ki=[i]:ki.push(i)}var yf=R(null),Sa=null,Vs=null;function Ti(i,r,l){J(yf,r._currentValue),r._currentValue=l}function Fs(i){i._currentValue=yf.current,U(yf)}function bf(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function vf(i,r,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=p;for(var P=0;P<r.length;P++)if(M.context===r[P]){y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),bf(y.return,l,i),h||(_=null);break e}y=M.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(s(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),bf(_,l,i),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function kr(i,r,l,h){i=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var M=p.type;jn(p.pendingProps.value,_.value)||(i!==null?i.push(M):i=[M])}}else if(p===De.current){if(_=p.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(bl):i=[bl])}p=p.return}i!==null&&vf(r,i,l,h),r.flags|=262144}function Qc(i){for(i=i.firstContext;i!==null;){if(!jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ja(i){Sa=i,Vs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function qt(i){return py(Sa,i)}function Jc(i,r){return Sa===null&&ja(i),py(i,r)}function py(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Vs===null){if(i===null)throw Error(s(308));Vs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Vs=Vs.next=r;return l}var iT=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},aT=t.unstable_scheduleCallback,rT=t.unstable_NormalPriority,Ct={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new iT,data:new Map,refCount:0}}function Go(i){i.refCount--,i.refCount===0&&aT(rT,function(){i.controller.abort()})}var $o=null,wf=0,Mr=0,Tr=null;function oT(i,r){if($o===null){var l=$o=[];wf=0,Mr=Nm(),Tr={status:"pending",value:void 0,then:function(h){l.push(h)}}}return wf++,r.then(gy,gy),r}function gy(){if(--wf===0&&$o!==null){Tr!==null&&(Tr.status="fulfilled");var i=$o;$o=null,Mr=0,Tr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function lT(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var xy=F.S;F.S=function(i,r){ev=Xt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&oT(i,r),xy!==null&&xy(i,r)};var Na=R(null);function Sf(){var i=Na.current;return i!==null?i:it.pooledCache}function eu(i,r){r===null?J(Na,Na.current):J(Na,r.pool)}function yy(){var i=Sf();return i===null?null:{parent:Ct._currentValue,pool:i}}var Dr=Error(s(460)),jf=Error(s(474)),tu=Error(s(542)),nu={then:function(){}};function by(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vy(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Ls,Ls),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,wy(i),i;default:if(typeof r.status=="string")r.then(Ls,Ls);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=h}},function(h){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,wy(i),i}throw Ma=r,Dr}}function ka(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ma=l,Dr):l}}var Ma=null;function _y(){if(Ma===null)throw Error(s(459));var i=Ma;return Ma=null,i}function wy(i){if(i===Dr||i===tu)throw Error(s(483))}var Cr=null,Xo=0;function su(i){var r=Xo;return Xo+=1,Cr===null&&(Cr=[]),vy(Cr,i,r)}function Ko(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function iu(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Sy(i){function r(H,B){if(i){var Y=H.deletions;Y===null?(H.deletions=[B],H.flags|=16):Y.push(B)}}function l(H,B){if(!i)return null;for(;B!==null;)r(H,B),B=B.sibling;return null}function h(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function p(H,B){return H=Ps(H,B),H.index=0,H.sibling=null,H}function y(H,B,Y){return H.index=Y,i?(Y=H.alternate,Y!==null?(Y=Y.index,Y<B?(H.flags|=67108866,B):Y):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function _(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function M(H,B,Y,Z){return B===null||B.tag!==6?(B=hf(Y,H.mode,Z),B.return=H,B):(B=p(B,Y),B.return=H,B)}function P(H,B,Y,Z){var xe=Y.type;return xe===S?K(H,B,Y.props.children,Z,Y.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&ka(xe)===B.type)?(B=p(B,Y.props),Ko(B,Y),B.return=H,B):(B=Kc(Y.type,Y.key,Y.props,null,H.mode,Z),Ko(B,Y),B.return=H,B)}function W(H,B,Y,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=ff(Y,H.mode,Z),B.return=H,B):(B=p(B,Y.children||[]),B.return=H,B)}function K(H,B,Y,Z,xe){return B===null||B.tag!==7?(B=_a(Y,H.mode,Z,xe),B.return=H,B):(B=p(B,Y),B.return=H,B)}function Q(H,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=hf(""+B,H.mode,Y),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return Y=Kc(B.type,B.key,B.props,null,H.mode,Y),Ko(Y,B),Y.return=H,Y;case w:return B=ff(B,H.mode,Y),B.return=H,B;case L:return B=ka(B),Q(H,B,Y)}if(le(B)||ne(B))return B=_a(B,H.mode,Y,null),B.return=H,B;if(typeof B.then=="function")return Q(H,su(B),Y);if(B.$$typeof===E)return Q(H,Jc(H,B),Y);iu(H,B)}return null}function q(H,B,Y,Z){var xe=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:M(H,B,""+Y,Z);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===xe?P(H,B,Y,Z):null;case w:return Y.key===xe?W(H,B,Y,Z):null;case L:return Y=ka(Y),q(H,B,Y,Z)}if(le(Y)||ne(Y))return xe!==null?null:K(H,B,Y,Z,null);if(typeof Y.then=="function")return q(H,B,su(Y),Z);if(Y.$$typeof===E)return q(H,B,Jc(H,Y),Z);iu(H,Y)}return null}function I(H,B,Y,Z,xe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return H=H.get(Y)||null,M(B,H,""+Z,xe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return H=H.get(Z.key===null?Y:Z.key)||null,P(B,H,Z,xe);case w:return H=H.get(Z.key===null?Y:Z.key)||null,W(B,H,Z,xe);case L:return Z=ka(Z),I(H,B,Y,Z,xe)}if(le(Z)||ne(Z))return H=H.get(Y)||null,K(B,H,Z,xe,null);if(typeof Z.then=="function")return I(H,B,Y,su(Z),xe);if(Z.$$typeof===E)return I(H,B,Y,Jc(B,Z),xe);iu(B,Z)}return null}function he(H,B,Y,Z){for(var xe=null,Ue=null,ge=B,Me=B=0,ze=null;ge!==null&&Me<Y.length;Me++){ge.index>Me?(ze=ge,ge=null):ze=ge.sibling;var Ye=q(H,ge,Y[Me],Z);if(Ye===null){ge===null&&(ge=ze);break}i&&ge&&Ye.alternate===null&&r(H,ge),B=y(Ye,B,Me),Ue===null?xe=Ye:Ue.sibling=Ye,Ue=Ye,ge=ze}if(Me===Y.length)return l(H,ge),Fe&&Bs(H,Me),xe;if(ge===null){for(;Me<Y.length;Me++)ge=Q(H,Y[Me],Z),ge!==null&&(B=y(ge,B,Me),Ue===null?xe=ge:Ue.sibling=ge,Ue=ge);return Fe&&Bs(H,Me),xe}for(ge=h(ge);Me<Y.length;Me++)ze=I(ge,H,Me,Y[Me],Z),ze!==null&&(i&&ze.alternate!==null&&ge.delete(ze.key===null?Me:ze.key),B=y(ze,B,Me),Ue===null?xe=ze:Ue.sibling=ze,Ue=ze);return i&&ge.forEach(function(Ii){return r(H,Ii)}),Fe&&Bs(H,Me),xe}function _e(H,B,Y,Z){if(Y==null)throw Error(s(151));for(var xe=null,Ue=null,ge=B,Me=B=0,ze=null,Ye=Y.next();ge!==null&&!Ye.done;Me++,Ye=Y.next()){ge.index>Me?(ze=ge,ge=null):ze=ge.sibling;var Ii=q(H,ge,Ye.value,Z);if(Ii===null){ge===null&&(ge=ze);break}i&&ge&&Ii.alternate===null&&r(H,ge),B=y(Ii,B,Me),Ue===null?xe=Ii:Ue.sibling=Ii,Ue=Ii,ge=ze}if(Ye.done)return l(H,ge),Fe&&Bs(H,Me),xe;if(ge===null){for(;!Ye.done;Me++,Ye=Y.next())Ye=Q(H,Ye.value,Z),Ye!==null&&(B=y(Ye,B,Me),Ue===null?xe=Ye:Ue.sibling=Ye,Ue=Ye);return Fe&&Bs(H,Me),xe}for(ge=h(ge);!Ye.done;Me++,Ye=Y.next())Ye=I(ge,H,Me,Ye.value,Z),Ye!==null&&(i&&Ye.alternate!==null&&ge.delete(Ye.key===null?Me:Ye.key),B=y(Ye,B,Me),Ue===null?xe=Ye:Ue.sibling=Ye,Ue=Ye);return i&&ge.forEach(function(b5){return r(H,b5)}),Fe&&Bs(H,Me),xe}function nt(H,B,Y,Z){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var xe=Y.key;B!==null;){if(B.key===xe){if(xe=Y.type,xe===S){if(B.tag===7){l(H,B.sibling),Z=p(B,Y.props.children),Z.return=H,H=Z;break e}}else if(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&ka(xe)===B.type){l(H,B.sibling),Z=p(B,Y.props),Ko(Z,Y),Z.return=H,H=Z;break e}l(H,B);break}else r(H,B);B=B.sibling}Y.type===S?(Z=_a(Y.props.children,H.mode,Z,Y.key),Z.return=H,H=Z):(Z=Kc(Y.type,Y.key,Y.props,null,H.mode,Z),Ko(Z,Y),Z.return=H,H=Z)}return _(H);case w:e:{for(xe=Y.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){l(H,B.sibling),Z=p(B,Y.children||[]),Z.return=H,H=Z;break e}else{l(H,B);break}else r(H,B);B=B.sibling}Z=ff(Y,H.mode,Z),Z.return=H,H=Z}return _(H);case L:return Y=ka(Y),nt(H,B,Y,Z)}if(le(Y))return he(H,B,Y,Z);if(ne(Y)){if(xe=ne(Y),typeof xe!="function")throw Error(s(150));return Y=xe.call(Y),_e(H,B,Y,Z)}if(typeof Y.then=="function")return nt(H,B,su(Y),Z);if(Y.$$typeof===E)return nt(H,B,Jc(H,Y),Z);iu(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(l(H,B.sibling),Z=p(B,Y),Z.return=H,H=Z):(l(H,B),Z=hf(Y,H.mode,Z),Z.return=H,H=Z),_(H)):l(H,B)}return function(H,B,Y,Z){try{Xo=0;var xe=nt(H,B,Y,Z);return Cr=null,xe}catch(ge){if(ge===Dr||ge===tu)throw ge;var Ue=Nn(29,ge,null,H.mode);return Ue.lanes=Z,Ue.return=H,Ue}}}var Ta=Sy(!0),jy=Sy(!1),Di=!1;function Nf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ci(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ai(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Xe&2)!==0){var p=h.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),h.pending=r,r=Xc(i),oy(i,null,l),r}return $c(i,h,r,l),Xc(i)}function Zo(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Zt(i,l)}}function Mf(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=r:y=y.next=r}else p=y=r;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Tf=!1;function Qo(){if(Tf){var i=Tr;if(i!==null)throw i}}function Jo(i,r,l,h){Tf=!1;var p=i.updateQueue;Di=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var P=M,W=P.next;P.next=null,_===null?y=W:_.next=W,_=P;var K=i.alternate;K!==null&&(K=K.updateQueue,M=K.lastBaseUpdate,M!==_&&(M===null?K.firstBaseUpdate=W:M.next=W,K.lastBaseUpdate=P))}if(y!==null){var Q=p.baseState;_=0,K=W=P=null,M=y;do{var q=M.lane&-536870913,I=q!==M.lane;if(I?(Le&q)===q:(h&q)===q){q!==0&&q===Mr&&(Tf=!0),K!==null&&(K=K.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var he=i,_e=M;q=r;var nt=l;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){Q=he.call(nt,Q,q);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,q=typeof he=="function"?he.call(nt,Q,q):he,q==null)break e;Q=x({},Q,q);break e;case 2:Di=!0}}q=M.callback,q!==null&&(i.flags|=64,I&&(i.flags|=8192),I=p.callbacks,I===null?p.callbacks=[q]:I.push(q))}else I={lane:q,tag:M.tag,payload:M.payload,callback:M.callback,next:null},K===null?(W=K=I,P=Q):K=K.next=I,_|=q;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;I=M,M=I.next,I.next=null,p.lastBaseUpdate=I,p.shared.pending=null}}while(!0);K===null&&(P=Q),p.baseState=P,p.firstBaseUpdate=W,p.lastBaseUpdate=K,y===null&&(p.shared.lanes=0),zi|=_,i.lanes=_,i.memoizedState=Q}}function Ny(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function ky(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Ny(l[i],r)}var Ar=R(null),au=R(0);function My(i,r){i=Xs,J(au,i),J(Ar,r),Xs=i|r.baseLanes}function Df(){J(au,Xs),J(Ar,Ar.current)}function Cf(){Xs=au.current,U(Ar),U(au)}var kn=R(null),Wn=null;function Ei(i){var r=i.alternate;J(Nt,Nt.current&1),J(kn,i),Wn===null&&(r===null||Ar.current!==null||r.memoizedState!==null)&&(Wn=i)}function Af(i){J(Nt,Nt.current),J(kn,i),Wn===null&&(Wn=i)}function Ty(i){i.tag===22?(J(Nt,Nt.current),J(kn,i),Wn===null&&(Wn=i)):Oi()}function Oi(){J(Nt,Nt.current),J(kn,kn.current)}function Mn(i){U(kn),Wn===i&&(Wn=null),U(Nt)}var Nt=R(0);function ru(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pm(l)||Bm(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Hs=0,ke=null,et=null,At=null,ou=!1,Er=!1,Da=!1,lu=0,el=0,Or=null,cT=0;function vt(){throw Error(s(321))}function Ef(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!jn(i[l],r[l]))return!1;return!0}function Of(i,r,l,h,p,y){return Hs=y,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=i===null||i.memoizedState===null?db:$f,Da=!1,y=l(h,p),Da=!1,Er&&(y=Cy(r,l,h,p)),Dy(i),y}function Dy(i){F.H=sl;var r=et!==null&&et.next!==null;if(Hs=0,At=et=ke=null,ou=!1,el=0,Or=null,r)throw Error(s(300));i===null||Et||(i=i.dependencies,i!==null&&Qc(i)&&(Et=!0))}function Cy(i,r,l,h){ke=i;var p=0;do{if(Er&&(Or=null),el=0,Er=!1,25<=p)throw Error(s(301));if(p+=1,At=et=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=hb,y=r(l,h)}while(Er);return y}function uT(){var i=F.H,r=i.useState()[0];return r=typeof r.then=="function"?tl(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(ke.flags|=1024),r}function Rf(){var i=lu!==0;return lu=0,i}function Lf(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function zf(i){if(ou){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ou=!1}Hs=0,At=et=ke=null,Er=!1,el=lu=0,Or=null}function ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ke.memoizedState=At=i:At=At.next=i,At}function kt(){if(et===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=At===null?ke.memoizedState:At.next;if(r!==null)At=r,et=i;else{if(i===null)throw ke.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},At===null?ke.memoizedState=At=i:At=At.next=i}return At}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(i){var r=el;return el+=1,Or===null&&(Or=[]),i=vy(Or,i,r),r=ke,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?db:$f),i}function uu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tl(i);if(i.$$typeof===E)return qt(i)}throw Error(s(438,String(i)))}function Pf(i){var r=null,l=ke.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=ke.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=cu(),ke.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=X;return r.index++,l}function Us(i,r){return typeof r=="function"?r(i):r}function du(i){var r=kt();return Bf(r,et,i)}function Bf(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var p=i.baseQueue,y=h.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}r.baseQueue=p=y,h.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{r=p.next;var M=_=null,P=null,W=r,K=!1;do{var Q=W.lane&-536870913;if(Q!==W.lane?(Le&Q)===Q:(Hs&Q)===Q){var q=W.revertLane;if(q===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),Q===Mr&&(K=!0);else if((Hs&q)===q){W=W.next,q===Mr&&(K=!0);continue}else Q={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(M=P=Q,_=y):P=P.next=Q,ke.lanes|=q,zi|=q;Q=W.action,Da&&l(y,Q),y=W.hasEagerState?W.eagerState:l(y,Q)}else q={lane:Q,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(M=P=q,_=y):P=P.next=q,ke.lanes|=Q,zi|=Q;W=W.next}while(W!==null&&W!==r);if(P===null?_=y:P.next=M,!jn(y,i.memoizedState)&&(Et=!0,K&&(l=Tr,l!==null)))throw l;i.memoizedState=y,i.baseState=_,i.baseQueue=P,h.lastRenderedState=y}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Vf(i){var r=kt(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=r.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=i(y,_.action),_=_.next;while(_!==p);jn(y,r.memoizedState)||(Et=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),l.lastRenderedState=y}return[y,h]}function Ay(i,r,l){var h=ke,p=kt(),y=Fe;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=r();var _=!jn((et||p).memoizedState,l);if(_&&(p.memoizedState=l,Et=!0),p=p.queue,Uf(Ry.bind(null,h,p,i),[i]),p.getSnapshot!==r||_||At!==null&&At.memoizedState.tag&1){if(h.flags|=2048,Rr(9,{destroy:void 0},Oy.bind(null,h,p,l,r),null),it===null)throw Error(s(349));y||(Hs&127)!==0||Ey(h,r,l)}return l}function Ey(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=ke.updateQueue,r===null?(r=cu(),ke.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function Oy(i,r,l,h){r.value=l,r.getSnapshot=h,Ly(r)&&zy(i)}function Ry(i,r,l){return l(function(){Ly(r)&&zy(i)})}function Ly(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!jn(i,l)}catch{return!0}}function zy(i){var r=va(i,2);r!==null&&xn(r,i,2)}function Ff(i){var r=ln();if(typeof i=="function"){var l=i;if(i=l(),Da){ns(!0);try{l()}finally{ns(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:i},r}function Py(i,r,l,h){return i.baseState=l,Bf(i,et,typeof h=="function"?h:Us)}function dT(i,r,l,h,p){if(mu(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};F.T!==null?l(!0):y.isTransition=!1,h(y),l=r.pending,l===null?(y.next=r.pending=y,By(r,y)):(y.next=l.next,r.pending=l.next=y)}}function By(i,r){var l=r.action,h=r.payload,p=i.state;if(r.isTransition){var y=F.T,_={};F.T=_;try{var M=l(p,h),P=F.S;P!==null&&P(_,M),Vy(i,r,M)}catch(W){Hf(i,r,W)}finally{y!==null&&_.types!==null&&(y.types=_.types),F.T=y}}else try{y=l(p,h),Vy(i,r,y)}catch(W){Hf(i,r,W)}}function Vy(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Fy(i,r,h)},function(h){return Hf(i,r,h)}):Fy(i,r,l)}function Fy(i,r,l){r.status="fulfilled",r.value=l,Hy(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,By(i,l)))}function Hf(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,Hy(r),r=r.next;while(r!==h)}i.action=null}function Hy(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Uy(i,r){return r}function Yy(i,r){if(Fe){var l=it.formState;if(l!==null){e:{var h=ke;if(Fe){if(ot){t:{for(var p=ot,y=Yn;p.nodeType!==8;){if(!y){p=null;break t}if(p=qn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ot=qn(p.nextSibling),h=p.data==="F!";break e}}Mi(h)}h=!1}h&&(r=l[0])}}return l=ln(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uy,lastRenderedState:r},l.queue=h,l=lb.bind(null,ke,h),h.dispatch=l,h=Ff(!1),y=Gf.bind(null,ke,!1,h.queue),h=ln(),p={state:r,dispatch:null,action:i,pending:null},h.queue=p,l=dT.bind(null,ke,p,y,l),p.dispatch=l,h.memoizedState=i,[r,l,!1]}function Wy(i){var r=kt();return qy(r,et,i)}function qy(i,r,l){if(r=Bf(i,r,Uy)[0],i=du(Us)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=tl(r)}catch(_){throw _===Dr?tu:_}else h=r;r=kt();var p=r.queue,y=p.dispatch;return l!==r.memoizedState&&(ke.flags|=2048,Rr(9,{destroy:void 0},hT.bind(null,p,l),null)),[h,y,i]}function hT(i,r){i.action=r}function Iy(i){var r=kt(),l=et;if(l!==null)return qy(r,l,i);kt(),r=r.memoizedState,l=kt();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function Rr(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=ke.updateQueue,r===null&&(r=cu(),ke.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function Gy(){return kt().memoizedState}function hu(i,r,l,h){var p=ln();ke.flags|=i,p.memoizedState=Rr(1|r,{destroy:void 0},l,h===void 0?null:h)}function fu(i,r,l,h){var p=kt();h=h===void 0?null:h;var y=p.memoizedState.inst;et!==null&&h!==null&&Ef(h,et.memoizedState.deps)?p.memoizedState=Rr(r,y,l,h):(ke.flags|=i,p.memoizedState=Rr(1|r,y,l,h))}function $y(i,r){hu(8390656,8,i,r)}function Uf(i,r){fu(2048,8,i,r)}function fT(i){ke.flags|=4;var r=ke.updateQueue;if(r===null)r=cu(),ke.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function Xy(i){var r=kt().memoizedState;return fT({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ky(i,r){return fu(4,2,i,r)}function Zy(i,r){return fu(4,4,i,r)}function Qy(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Jy(i,r,l){l=l!=null?l.concat([i]):null,fu(4,4,Qy.bind(null,r,i),l)}function Yf(){}function eb(i,r){var l=kt();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Ef(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function tb(i,r){var l=kt();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Ef(r,h[1]))return h[0];if(h=i(),Da){ns(!0);try{i()}finally{ns(!1)}}return l.memoizedState=[h,r],h}function Wf(i,r,l){return l===void 0||(Hs&1073741824)!==0&&(Le&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=nv(),ke.lanes|=i,zi|=i,l)}function nb(i,r,l,h){return jn(l,r)?l:Ar.current!==null?(i=Wf(i,l,h),jn(i,r)||(Et=!0),i):(Hs&42)===0||(Hs&1073741824)!==0&&(Le&261930)===0?(Et=!0,i.memoizedState=l):(i=nv(),ke.lanes|=i,zi|=i,r)}function sb(i,r,l,h,p){var y=$.p;$.p=y!==0&&8>y?y:8;var _=F.T,M={};F.T=M,Gf(i,!1,r,l);try{var P=p(),W=F.S;if(W!==null&&W(M,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var K=lT(P,h);nl(i,r,K,Cn(i))}else nl(i,r,h,Cn(i))}catch(Q){nl(i,r,{then:function(){},status:"rejected",reason:Q},Cn())}finally{$.p=y,_!==null&&M.types!==null&&(_.types=M.types),F.T=_}}function mT(){}function qf(i,r,l,h){if(i.tag!==5)throw Error(s(476));var p=ib(i).queue;sb(i,p,r,ie,l===null?mT:function(){return ab(i),l(h)})}function ib(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:ie},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function ab(i){var r=ib(i);r.next===null&&(r=i.alternate.memoizedState),nl(i,r.next.queue,{},Cn())}function If(){return qt(bl)}function rb(){return kt().memoizedState}function ob(){return kt().memoizedState}function pT(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=Cn();i=Ci(l);var h=Ai(r,i,l);h!==null&&(xn(h,r,l),Zo(h,r,l)),r={cache:_f()},i.payload=r;return}r=r.return}}function gT(i,r,l){var h=Cn();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mu(i)?cb(r,l):(l=uf(i,r,l,h),l!==null&&(xn(l,i,h),ub(l,r,h)))}function lb(i,r,l){var h=Cn();nl(i,r,l,h)}function nl(i,r,l,h){var p={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(mu(i))cb(r,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,M=y(_,l);if(p.hasEagerState=!0,p.eagerState=M,jn(M,_))return $c(i,r,p,0),it===null&&Gc(),!1}catch{}if(l=uf(i,r,p,h),l!==null)return xn(l,i,h),ub(l,r,h),!0}return!1}function Gf(i,r,l,h){if(h={lane:2,revertLane:Nm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},mu(i)){if(r)throw Error(s(479))}else r=uf(i,l,h,2),r!==null&&xn(r,i,2)}function mu(i){var r=i.alternate;return i===ke||r!==null&&r===ke}function cb(i,r){Er=ou=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function ub(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Zt(i,l)}}var sl={readContext:qt,use:uu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};sl.useEffectEvent=vt;var db={readContext:qt,use:uu,useCallback:function(i,r){return ln().memoizedState=[i,r===void 0?null:r],i},useContext:qt,useEffect:$y,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,hu(4194308,4,Qy.bind(null,r,i),l)},useLayoutEffect:function(i,r){return hu(4194308,4,i,r)},useInsertionEffect:function(i,r){hu(4,2,i,r)},useMemo:function(i,r){var l=ln();r=r===void 0?null:r;var h=i();if(Da){ns(!0);try{i()}finally{ns(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=ln();if(l!==void 0){var p=l(r);if(Da){ns(!0);try{l(r)}finally{ns(!1)}}}else p=r;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=gT.bind(null,ke,i),[h.memoizedState,i]},useRef:function(i){var r=ln();return i={current:i},r.memoizedState=i},useState:function(i){i=Ff(i);var r=i.queue,l=lb.bind(null,ke,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Yf,useDeferredValue:function(i,r){var l=ln();return Wf(l,i,r)},useTransition:function(){var i=Ff(!1);return i=sb.bind(null,ke,i.queue,!0,!1),ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=ke,p=ln();if(Fe){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),it===null)throw Error(s(349));(Le&127)!==0||Ey(h,r,l)}p.memoizedState=l;var y={value:l,getSnapshot:r};return p.queue=y,$y(Ry.bind(null,h,y,i),[i]),h.flags|=2048,Rr(9,{destroy:void 0},Oy.bind(null,h,y,l,r),null),l},useId:function(){var i=ln(),r=it.identifierPrefix;if(Fe){var l=xs,h=gs;l=(h&~(1<<32-Ut(h)-1)).toString(32)+l,r="_"+r+"R_"+l,l=lu++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=cT++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:If,useFormState:Yy,useActionState:Yy,useOptimistic:function(i){var r=ln();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Gf.bind(null,ke,!0,l),l.dispatch=r,[i,r]},useMemoCache:Pf,useCacheRefresh:function(){return ln().memoizedState=pT.bind(null,ke)},useEffectEvent:function(i){var r=ln(),l={impl:i};return r.memoizedState=l,function(){if((Xe&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},$f={readContext:qt,use:uu,useCallback:eb,useContext:qt,useEffect:Uf,useImperativeHandle:Jy,useInsertionEffect:Ky,useLayoutEffect:Zy,useMemo:tb,useReducer:du,useRef:Gy,useState:function(){return du(Us)},useDebugValue:Yf,useDeferredValue:function(i,r){var l=kt();return nb(l,et.memoizedState,i,r)},useTransition:function(){var i=du(Us)[0],r=kt().memoizedState;return[typeof i=="boolean"?i:tl(i),r]},useSyncExternalStore:Ay,useId:rb,useHostTransitionStatus:If,useFormState:Wy,useActionState:Wy,useOptimistic:function(i,r){var l=kt();return Py(l,et,i,r)},useMemoCache:Pf,useCacheRefresh:ob};$f.useEffectEvent=Xy;var hb={readContext:qt,use:uu,useCallback:eb,useContext:qt,useEffect:Uf,useImperativeHandle:Jy,useInsertionEffect:Ky,useLayoutEffect:Zy,useMemo:tb,useReducer:Vf,useRef:Gy,useState:function(){return Vf(Us)},useDebugValue:Yf,useDeferredValue:function(i,r){var l=kt();return et===null?Wf(l,i,r):nb(l,et.memoizedState,i,r)},useTransition:function(){var i=Vf(Us)[0],r=kt().memoizedState;return[typeof i=="boolean"?i:tl(i),r]},useSyncExternalStore:Ay,useId:rb,useHostTransitionStatus:If,useFormState:Iy,useActionState:Iy,useOptimistic:function(i,r){var l=kt();return et!==null?Py(l,et,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:ob};hb.useEffectEvent=Xy;function Xf(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:x({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Kf={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=Cn(),p=Ci(h);p.payload=r,l!=null&&(p.callback=l),r=Ai(i,p,h),r!==null&&(xn(r,i,h),Zo(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=Cn(),p=Ci(h);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=Ai(i,p,h),r!==null&&(xn(r,i,h),Zo(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=Cn(),h=Ci(l);h.tag=2,r!=null&&(h.callback=r),r=Ai(i,h,l),r!==null&&(xn(r,i,l),Zo(r,i,l))}};function fb(i,r,l,h,p,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,_):r.prototype&&r.prototype.isPureReactComponent?!Yo(l,h)||!Yo(p,y):!0}function mb(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&Kf.enqueueReplaceState(r,r.state,null)}function Ca(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=x({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function pb(i){Ic(i)}function gb(i){console.error(i)}function xb(i){Ic(i)}function pu(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function yb(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Zf(i,r,l){return l=Ci(l),l.tag=3,l.payload={element:null},l.callback=function(){pu(i,r)},l}function bb(i){return i=Ci(i),i.tag=3,i}function vb(i,r,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=h.value;i.payload=function(){return p(y)},i.callback=function(){yb(r,l,h)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){yb(r,l,h),typeof p!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function xT(i,r,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&kr(r,l,p,!0),l=kn.current,l!==null){switch(l.tag){case 31:case 13:return Wn===null?Mu():l.alternate===null&&_t===0&&(_t=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===nu?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),wm(i,h,p)),!1;case 22:return l.flags|=65536,h===nu?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),wm(i,h,p)),!1}throw Error(s(435,l.tag))}return wm(i,h,p),Mu(),!1}if(Fe)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,h!==gf&&(i=Error(s(422),{cause:h}),Io(Fn(i,l)))):(h!==gf&&(r=Error(s(423),{cause:h}),Io(Fn(r,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=Fn(h,l),p=Zf(i.stateNode,h,p),Mf(i,p),_t!==4&&(_t=2)),!1;var y=Error(s(520),{cause:h});if(y=Fn(y,l),dl===null?dl=[y]:dl.push(y),_t!==4&&(_t=2),r===null)return!0;h=Fn(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Zf(l.stateNode,h,i),Mf(l,i),!1;case 1:if(r=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pi===null||!Pi.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=bb(p),vb(p,i,l,h),Mf(l,p),!1}l=l.return}while(l!==null);return!1}var Qf=Error(s(461)),Et=!1;function It(i,r,l,h){r.child=i===null?jy(r,null,l,h):Ta(r,i.child,l,h)}function _b(i,r,l,h,p){l=l.render;var y=r.ref;if("ref"in h){var _={};for(var M in h)M!=="ref"&&(_[M]=h[M])}else _=h;return ja(r),h=Of(i,r,l,_,y,p),M=Rf(),i!==null&&!Et?(Lf(i,r,p),Ys(i,r,p)):(Fe&&M&&mf(r),r.flags|=1,It(i,r,h,p),r.child)}function wb(i,r,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!df(y)&&y.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=y,Sb(i,r,y,h,p)):(i=Kc(l.type,null,h,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!rm(i,p)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:Yo,l(_,h)&&i.ref===r.ref)return Ys(i,r,p)}return r.flags|=1,i=Ps(y,h),i.ref=r.ref,i.return=r,r.child=i}function Sb(i,r,l,h,p){if(i!==null){var y=i.memoizedProps;if(Yo(y,h)&&i.ref===r.ref)if(Et=!1,r.pendingProps=h=y,rm(i,p))(i.flags&131072)!==0&&(Et=!0);else return r.lanes=i.lanes,Ys(i,r,p)}return Jf(i,r,l,h,p)}function jb(i,r,l,h){var p=h.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,i!==null){for(h=r.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~y}else h=0,r.child=null;return Nb(i,r,y,l,h)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&eu(r,y!==null?y.cachePool:null),y!==null?My(r,y):Df(),Ty(r);else return h=r.lanes=536870912,Nb(i,r,y!==null?y.baseLanes|l:l,l,h)}else y!==null?(eu(r,y.cachePool),My(r,y),Oi(),r.memoizedState=null):(i!==null&&eu(r,null),Df(),Oi());return It(i,r,p,l),r.child}function il(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Nb(i,r,l,h,p){var y=Sf();return y=y===null?null:{parent:Ct._currentValue,pool:y},r.memoizedState={baseLanes:l,cachePool:y},i!==null&&eu(r,null),Df(),Ty(r),i!==null&&kr(i,r,h,!0),r.childLanes=p,null}function gu(i,r){return r=yu({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function kb(i,r,l){return Ta(r,i.child,null,l),i=gu(r,r.pendingProps),i.flags|=2,Mn(r),r.memoizedState=null,i}function yT(i,r,l){var h=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Fe){if(h.mode==="hidden")return i=gu(r,h),r.lanes=536870912,il(null,i);if(Af(r),(i=ot)?(i=Bv(i,Yn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ni!==null?{id:gs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},l=cy(i),l.return=r,r.child=l,Wt=r,ot=null)):i=null,i===null)throw Mi(r);return r.lanes=536870912,null}return gu(r,h)}var y=i.memoizedState;if(y!==null){var _=y.dehydrated;if(Af(r),p)if(r.flags&256)r.flags&=-257,r=kb(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Et||kr(i,r,l,!1),p=(l&i.childLanes)!==0,Et||p){if(h=it,h!==null&&(_=wi(h,l),_!==0&&_!==y.retryLane))throw y.retryLane=_,va(i,_),xn(h,i,_),Qf;Mu(),r=kb(i,r,l)}else i=y.treeContext,ot=qn(_.nextSibling),Wt=r,Fe=!0,ki=null,Yn=!1,i!==null&&hy(r,i),r=gu(r,h),r.flags|=4096;return r}return i=Ps(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function xu(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Jf(i,r,l,h,p){return ja(r),l=Of(i,r,l,h,void 0,p),h=Rf(),i!==null&&!Et?(Lf(i,r,p),Ys(i,r,p)):(Fe&&h&&mf(r),r.flags|=1,It(i,r,l,p),r.child)}function Mb(i,r,l,h,p,y){return ja(r),r.updateQueue=null,l=Cy(r,h,l,p),Dy(i),h=Rf(),i!==null&&!Et?(Lf(i,r,y),Ys(i,r,y)):(Fe&&h&&mf(r),r.flags|=1,It(i,r,l,y),r.child)}function Tb(i,r,l,h,p){if(ja(r),r.stateNode===null){var y=wr,_=l.contextType;typeof _=="object"&&_!==null&&(y=qt(_)),y=new l(h,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Kf,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=h,y.state=r.memoizedState,y.refs={},Nf(r),_=l.contextType,y.context=typeof _=="object"&&_!==null?qt(_):wr,y.state=r.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Xf(r,l,_,h),y.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Kf.enqueueReplaceState(y,y.state,null),Jo(r,h,y,p),Qo(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){y=r.stateNode;var M=r.memoizedProps,P=Ca(l,M);y.props=P;var W=y.context,K=l.contextType;_=wr,typeof K=="object"&&K!==null&&(_=qt(K));var Q=l.getDerivedStateFromProps;K=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||W!==_)&&mb(r,y,h,_),Di=!1;var q=r.memoizedState;y.state=q,Jo(r,h,y,p),Qo(),W=r.memoizedState,M||q!==W||Di?(typeof Q=="function"&&(Xf(r,l,Q,h),W=r.memoizedState),(P=Di||fb(r,l,P,h,q,W,_))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=W),y.props=h,y.state=W,y.context=_,h=P):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{y=r.stateNode,kf(i,r),_=r.memoizedProps,K=Ca(l,_),y.props=K,Q=r.pendingProps,q=y.context,W=l.contextType,P=wr,typeof W=="object"&&W!==null&&(P=qt(W)),M=l.getDerivedStateFromProps,(W=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==Q||q!==P)&&mb(r,y,h,P),Di=!1,q=r.memoizedState,y.state=q,Jo(r,h,y,p),Qo();var I=r.memoizedState;_!==Q||q!==I||Di||i!==null&&i.dependencies!==null&&Qc(i.dependencies)?(typeof M=="function"&&(Xf(r,l,M,h),I=r.memoizedState),(K=Di||fb(r,l,K,h,q,I,P)||i!==null&&i.dependencies!==null&&Qc(i.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,I,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,I,P)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=I),y.props=h,y.state=I,y.context=P,h=K):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),h=!1)}return y=h,xu(i,r),h=(r.flags&128)!==0,y||h?(y=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&h?(r.child=Ta(r,i.child,null,p),r.child=Ta(r,null,l,p)):It(i,r,l,p),r.memoizedState=y.state,i=r.child):i=Ys(i,r,p),i}function Db(i,r,l,h){return wa(),r.flags|=256,It(i,r,l,h),r.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(i){return{baseLanes:i,cachePool:yy()}}function nm(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=Dn),i}function Cb(i,r,l){var h=r.pendingProps,p=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=i!==null&&i.memoizedState===null?!1:(Nt.current&2)!==0),_&&(p=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(p?Ei(r):Oi(),(i=ot)?(i=Bv(i,Yn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ni!==null?{id:gs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},l=cy(i),l.return=r,r.child=l,Wt=r,ot=null)):i=null,i===null)throw Mi(r);return Bm(i)?r.lanes=32:r.lanes=536870912,null}var M=h.children;return h=h.fallback,p?(Oi(),p=r.mode,M=yu({mode:"hidden",children:M},p),h=_a(h,p,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,h=r.child,h.memoizedState=tm(l),h.childLanes=nm(i,_,l),r.memoizedState=em,il(null,h)):(Ei(r),sm(r,M))}var P=i.memoizedState;if(P!==null&&(M=P.dehydrated,M!==null)){if(y)r.flags&256?(Ei(r),r.flags&=-257,r=im(i,r,l)):r.memoizedState!==null?(Oi(),r.child=i.child,r.flags|=128,r=null):(Oi(),M=h.fallback,p=r.mode,h=yu({mode:"visible",children:h.children},p),M=_a(M,p,l,null),M.flags|=2,h.return=r,M.return=r,h.sibling=M,r.child=h,Ta(r,i.child,null,l),h=r.child,h.memoizedState=tm(l),h.childLanes=nm(i,_,l),r.memoizedState=em,r=il(null,h));else if(Ei(r),Bm(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var W=_.dgst;_=W,h=Error(s(419)),h.stack="",h.digest=_,Io({value:h,source:null,stack:null}),r=im(i,r,l)}else if(Et||kr(i,r,l,!1),_=(l&i.childLanes)!==0,Et||_){if(_=it,_!==null&&(h=wi(_,l),h!==0&&h!==P.retryLane))throw P.retryLane=h,va(i,h),xn(_,i,h),Qf;Pm(M)||Mu(),r=im(i,r,l)}else Pm(M)?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,ot=qn(M.nextSibling),Wt=r,Fe=!0,ki=null,Yn=!1,i!==null&&hy(r,i),r=sm(r,h.children),r.flags|=4096);return r}return p?(Oi(),M=h.fallback,p=r.mode,P=i.child,W=P.sibling,h=Ps(P,{mode:"hidden",children:h.children}),h.subtreeFlags=P.subtreeFlags&65011712,W!==null?M=Ps(W,M):(M=_a(M,p,l,null),M.flags|=2),M.return=r,h.return=r,h.sibling=M,r.child=h,il(null,h),h=r.child,M=i.child.memoizedState,M===null?M=tm(l):(p=M.cachePool,p!==null?(P=Ct._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=yy(),M={baseLanes:M.baseLanes|l,cachePool:p}),h.memoizedState=M,h.childLanes=nm(i,_,l),r.memoizedState=em,il(i.child,h)):(Ei(r),l=i.child,i=l.sibling,l=Ps(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=l,r.memoizedState=null,l)}function sm(i,r){return r=yu({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function yu(i,r){return i=Nn(22,i,null,r),i.lanes=0,i}function im(i,r,l){return Ta(r,i.child,null,l),i=sm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Ab(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),bf(i.return,r,l)}function am(i,r,l,h,p,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=p,_.treeForkCount=y)}function Eb(i,r,l){var h=r.pendingProps,p=h.revealOrder,y=h.tail;h=h.children;var _=Nt.current,M=(_&2)!==0;if(M?(_=_&1|2,r.flags|=128):_&=1,J(Nt,_),It(i,r,h,l),h=Fe?qo:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ab(i,l,r);else if(i.tag===19)Ab(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=r.child,p=null;l!==null;)i=l.alternate,i!==null&&ru(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),am(r,!1,p,l,y,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&ru(i)===null){r.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}am(r,!0,l,null,y,h);break;case"together":am(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function Ys(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),zi|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(kr(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Ps(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Ps(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function rm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Qc(i)))}function bT(i,r,l){switch(r.tag){case 3:xt(r,r.stateNode.containerInfo),Ti(r,Ct,i.memoizedState.cache),wa();break;case 27:case 5:_n(r);break;case 4:xt(r,r.stateNode.containerInfo);break;case 10:Ti(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Af(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Ei(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Cb(i,r,l):(Ei(r),i=Ys(i,r,l),i!==null?i.sibling:null);Ei(r);break;case 19:var p=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(kr(i,r,l,!1),h=(l&r.childLanes)!==0),p){if(h)return Eb(i,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),J(Nt,Nt.current),h)break;return null;case 22:return r.lanes=0,jb(i,r,l,r.pendingProps);case 24:Ti(r,Ct,i.memoizedState.cache)}return Ys(i,r,l)}function Ob(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)Et=!0;else{if(!rm(i,l)&&(r.flags&128)===0)return Et=!1,bT(i,r,l);Et=(i.flags&131072)!==0}else Et=!1,Fe&&(r.flags&1048576)!==0&&dy(r,qo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(i=ka(r.elementType),r.type=i,typeof i=="function")df(i)?(h=Ca(i,h),r.tag=1,r=Tb(null,r,i,h,l)):(r.tag=0,r=Jf(null,r,i,h,l));else{if(i!=null){var p=i.$$typeof;if(p===O){r.tag=11,r=_b(null,r,i,h,l);break e}else if(p===A){r.tag=14,r=wb(null,r,i,h,l);break e}}throw r=re(i)||i,Error(s(306,r,""))}}return r;case 0:return Jf(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,p=Ca(h,r.pendingProps),Tb(i,r,h,p,l);case 3:e:{if(xt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var y=r.memoizedState;p=y.element,kf(i,r),Jo(r,h,null,l);var _=r.memoizedState;if(h=_.cache,Ti(r,Ct,h),h!==y.cache&&vf(r,[Ct],l,!0),Qo(),h=_.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Db(i,r,h,l);break e}else if(h!==p){p=Fn(Error(s(424)),r),Io(p),r=Db(i,r,h,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ot=qn(i.firstChild),Wt=r,Fe=!0,ki=null,Yn=!0,l=jy(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(wa(),h===p){r=Ys(i,r,l);break e}It(i,r,h,l)}r=r.child}return r;case 26:return xu(i,r),i===null?(l=Wv(r.type,null,r.pendingProps,null))?r.memoizedState=l:Fe||(l=r.type,i=r.pendingProps,h=Ru(ce.current).createElement(l),h[Yt]=r,h[dn]=i,Gt(h,l,i),Vt(h),r.stateNode=h):r.memoizedState=Wv(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return _n(r),i===null&&Fe&&(h=r.stateNode=Hv(r.type,r.pendingProps,ce.current),Wt=r,Yn=!0,p=ot,Hi(r.type)?(Vm=p,ot=qn(h.firstChild)):ot=p),It(i,r,r.pendingProps.children,l),xu(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((p=h=ot)&&(h=XT(h,r.type,r.pendingProps,Yn),h!==null?(r.stateNode=h,Wt=r,ot=qn(h.firstChild),Yn=!1,p=!0):p=!1),p||Mi(r)),_n(r),p=r.type,y=r.pendingProps,_=i!==null?i.memoizedProps:null,h=y.children,Rm(p,y)?h=null:_!==null&&Rm(p,_)&&(r.flags|=32),r.memoizedState!==null&&(p=Of(i,r,uT,null,null,l),bl._currentValue=p),xu(i,r),It(i,r,h,l),r.child;case 6:return i===null&&Fe&&((i=l=ot)&&(l=KT(l,r.pendingProps,Yn),l!==null?(r.stateNode=l,Wt=r,ot=null,i=!0):i=!1),i||Mi(r)),null;case 13:return Cb(i,r,l);case 4:return xt(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=Ta(r,null,h,l):It(i,r,h,l),r.child;case 11:return _b(i,r,r.type,r.pendingProps,l);case 7:return It(i,r,r.pendingProps,l),r.child;case 8:return It(i,r,r.pendingProps.children,l),r.child;case 12:return It(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,Ti(r,r.type,h.value),It(i,r,h.children,l),r.child;case 9:return p=r.type._context,h=r.pendingProps.children,ja(r),p=qt(p),h=h(p),r.flags|=1,It(i,r,h,l),r.child;case 14:return wb(i,r,r.type,r.pendingProps,l);case 15:return Sb(i,r,r.type,r.pendingProps,l);case 19:return Eb(i,r,l);case 31:return yT(i,r,l);case 22:return jb(i,r,l,r.pendingProps);case 24:return ja(r),h=qt(Ct),i===null?(p=Sf(),p===null&&(p=it,y=_f(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),r.memoizedState={parent:h,cache:p},Nf(r),Ti(r,Ct,p)):((i.lanes&l)!==0&&(kf(i,r),Jo(r,null,null,l),Qo()),p=i.memoizedState,y=r.memoizedState,p.parent!==h?(p={parent:h,cache:h},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Ti(r,Ct,h)):(h=y.cache,Ti(r,Ct,h),h!==p.cache&&vf(r,[Ct],l,!0))),It(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ws(i){i.flags|=4}function om(i,r,l,h,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(rv())i.flags|=8192;else throw Ma=nu,jf}else i.flags&=-16777217}function Rb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Xv(r))if(rv())i.flags|=8192;else throw Ma=nu,jf}function bu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ps():536870912,i.lanes|=r,Br|=r)}function al(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function vT(i,r,l){var h=r.pendingProps;switch(pf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Fs(Ct),Ge(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Nr(r)?Ws(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xf())),lt(r),null;case 26:var p=r.type,y=r.memoizedState;return i===null?(Ws(r),y!==null?(lt(r),Rb(r,y)):(lt(r),om(r,p,null,h,l))):y?y!==i.memoizedState?(Ws(r),lt(r),Rb(r,y)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&Ws(r),lt(r),om(r,p,i,h,l)),null;case 27:if(cn(r),l=ce.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Ws(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=C.current,Nr(r)?fy(r):(i=Hv(p,h,l),r.stateNode=i,Ws(r))}return lt(r),null;case 5:if(cn(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Ws(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(y=C.current,Nr(r))fy(r);else{var _=Ru(ce.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?_.createElement("select",{is:h.is}):_.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?_.createElement(p,{is:h.is}):_.createElement(p)}}y[Yt]=r,y[dn]=h;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(Gt(y,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Ws(r)}}return lt(r),om(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&Ws(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=ce.current,Nr(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,p=Wt,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[Yt]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Cv(i.nodeValue,l)),i||Mi(r,!0)}else i=Ru(i).createTextNode(h),i[Yt]=r,r.stateNode=i}return lt(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(h=Nr(r),l!==null){if(i===null){if(!h)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Yt]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else l=xf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Nr(r),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Yt]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),p=!1}else p=xf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=r.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),bu(r,r.updateQueue),lt(r),null);case 4:return Ge(),i===null&&Dm(r.stateNode.containerInfo),lt(r),null;case 10:return Fs(r.type),lt(r),null;case 19:if(U(Nt),h=r.memoizedState,h===null)return lt(r),null;if(p=(r.flags&128)!==0,y=h.rendering,y===null)if(p)al(h,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=ru(i),y!==null){for(r.flags|=128,al(h,!1),i=y.updateQueue,r.updateQueue=i,bu(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)ly(l,i),l=l.sibling;return J(Nt,Nt.current&1|2),Fe&&Bs(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&Xt()>ju&&(r.flags|=128,p=!0,al(h,!1),r.lanes=4194304)}else{if(!p)if(i=ru(y),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,bu(r,i),al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Fe)return lt(r),null}else 2*Xt()-h.renderingStartTime>ju&&l!==536870912&&(r.flags|=128,p=!0,al(h,!1),r.lanes=4194304);h.isBackwards?(y.sibling=r.child,r.child=y):(i=h.last,i!==null?i.sibling=y:r.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Xt(),i.sibling=null,l=Nt.current,J(Nt,p?l&1|2:l&1),Fe&&Bs(r,h.treeForkCount),i):(lt(r),null);case 22:case 23:return Mn(r),Cf(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),l=r.updateQueue,l!==null&&bu(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&U(Na),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fs(Ct),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _T(i,r){switch(pf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Fs(Ct),Ge(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return cn(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(s(340));wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Mn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return U(Nt),null;case 4:return Ge(),null;case 10:return Fs(r.type),null;case 22:case 23:return Mn(r),Cf(),i!==null&&U(Na),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Fs(Ct),null;case 25:return null;default:return null}}function Lb(i,r){switch(pf(r),r.tag){case 3:Fs(Ct),Ge();break;case 26:case 27:case 5:cn(r);break;case 4:Ge();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:U(Nt);break;case 10:Fs(r.type);break;case 22:case 23:Mn(r),Cf(),i!==null&&U(Na);break;case 24:Fs(Ct)}}function rl(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var y=l.create,_=l.inst;h=y(),_.destroy=h}l=l.next}while(l!==p)}}catch(M){Ze(r,r.return,M)}}function Ri(i,r,l){try{var h=r.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&i)===i){var _=h.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,p=r;var P=l,W=M;try{W()}catch(K){Ze(p,P,K)}}}h=h.next}while(h!==y)}}catch(K){Ze(r,r.return,K)}}function zb(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{ky(r,l)}catch(h){Ze(i,i.return,h)}}}function Pb(i,r,l){l.props=Ca(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Ze(i,r,h)}}function ol(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(p){Ze(i,r,p)}}function ys(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){Ze(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ze(i,r,p)}else l.current=null}function Bb(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){Ze(i,i.return,p)}}function lm(i,r,l){try{var h=i.stateNode;YT(h,i.type,l,r),h[dn]=r}catch(p){Ze(i,i.return,p)}}function Vb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hi(i.type)||i.tag===4}function cm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Vb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function um(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Ls));else if(h!==4&&(h===27&&Hi(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(um(i,r,l),i=i.sibling;i!==null;)um(i,r,l),i=i.sibling}function vu(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&Hi(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(vu(i,r,l),i=i.sibling;i!==null;)vu(i,r,l),i=i.sibling}function Fb(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Gt(r,h,l),r[Yt]=i,r[dn]=l}catch(y){Ze(i,i.return,y)}}var qs=!1,Ot=!1,dm=!1,Hb=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function wT(i,r){if(i=i.containerInfo,Em=Hu,i=J0(i),sf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,M=-1,P=-1,W=0,K=0,Q=i,q=null;t:for(;;){for(var I;Q!==l||p!==0&&Q.nodeType!==3||(M=_+p),Q!==y||h!==0&&Q.nodeType!==3||(P=_+h),Q.nodeType===3&&(_+=Q.nodeValue.length),(I=Q.firstChild)!==null;)q=Q,Q=I;for(;;){if(Q===i)break t;if(q===l&&++W===p&&(M=_),q===y&&++K===h&&(P=_),(I=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=I}l=M===-1||P===-1?null:{start:M,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Om={focusedElem:i,selectionRange:l},Hu=!1,Ft=r;Ft!==null;)if(r=Ft,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ft=i;else for(;Ft!==null;){switch(r=Ft,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=r,p=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var he=Ca(l.type,p);i=h.getSnapshotBeforeUpdate(he,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Ze(l,l.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)zm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ft=i;break}Ft=r.return}}function Ub(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Gs(i,l),h&4&&rl(5,l);break;case 1:if(Gs(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(_){Ze(l,l.return,_)}else{var p=Ca(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(l,l.return,_)}}h&64&&zb(l),h&512&&ol(l,l.return);break;case 3:if(Gs(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{ky(i,r)}catch(_){Ze(l,l.return,_)}}break;case 27:r===null&&h&4&&Fb(l);case 26:case 5:Gs(i,l),r===null&&h&4&&Bb(l),h&512&&ol(l,l.return);break;case 12:Gs(i,l);break;case 31:Gs(i,l),h&4&&qb(i,l);break;case 13:Gs(i,l),h&4&&Ib(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=AT.bind(null,l),ZT(i,l))));break;case 22:if(h=l.memoizedState!==null||qs,!h){r=r!==null&&r.memoizedState!==null||Ot,p=qs;var y=Ot;qs=h,(Ot=r)&&!y?$s(i,l,(l.subtreeFlags&8772)!==0):Gs(i,l),qs=p,Ot=y}break;case 30:break;default:Gs(i,l)}}function Yb(i){var r=i.alternate;r!==null&&(i.alternate=null,Yb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Fh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,fn=!1;function Is(i,r,l){for(l=l.child;l!==null;)Wb(i,r,l),l=l.sibling}function Wb(i,r,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(vi,l)}catch{}switch(l.tag){case 26:Ot||ys(l,r),Is(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ot||ys(l,r);var h=ft,p=fn;Hi(l.type)&&(ft=l.stateNode,fn=!1),Is(i,r,l),gl(l.stateNode),ft=h,fn=p;break;case 5:Ot||ys(l,r);case 6:if(h=ft,p=fn,ft=null,Is(i,r,l),ft=h,fn=p,ft!==null)if(fn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(l.stateNode)}catch(y){Ze(l,r,y)}else try{ft.removeChild(l.stateNode)}catch(y){Ze(l,r,y)}break;case 18:ft!==null&&(fn?(i=ft,zv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ir(i)):zv(ft,l.stateNode));break;case 4:h=ft,p=fn,ft=l.stateNode.containerInfo,fn=!0,Is(i,r,l),ft=h,fn=p;break;case 0:case 11:case 14:case 15:Ri(2,l,r),Ot||Ri(4,l,r),Is(i,r,l);break;case 1:Ot||(ys(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Pb(l,r,h)),Is(i,r,l);break;case 21:Is(i,r,l);break;case 22:Ot=(h=Ot)||l.memoizedState!==null,Is(i,r,l),Ot=h;break;default:Is(i,r,l)}}function qb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ir(i)}catch(l){Ze(r,r.return,l)}}}function Ib(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ir(i)}catch(l){Ze(r,r.return,l)}}function ST(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Hb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Hb),r;default:throw Error(s(435,i.tag))}}function _u(i,r){var l=ST(i);r.forEach(function(h){if(!l.has(h)){l.add(h);var p=ET.bind(null,i,h);h.then(p,p)}})}function mn(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],y=i,_=r,M=_;e:for(;M!==null;){switch(M.tag){case 27:if(Hi(M.type)){ft=M.stateNode,fn=!1;break e}break;case 5:ft=M.stateNode,fn=!1;break e;case 3:case 4:ft=M.stateNode.containerInfo,fn=!0;break e}M=M.return}if(ft===null)throw Error(s(160));Wb(y,_,p),ft=null,fn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Gb(r,i),r=r.sibling}var is=null;function Gb(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mn(r,i),pn(i),h&4&&(Ri(3,i,i.return),rl(3,i),Ri(5,i,i.return));break;case 1:mn(r,i),pn(i),h&512&&(Ot||l===null||ys(l,l.return)),h&64&&qs&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=is;if(mn(r,i),pn(i),h&512&&(Ot||l===null||ys(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(h){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ro]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(h),p.head.insertBefore(y,p.querySelector("head > title"))),Gt(y,h,l),y[Yt]=i,Vt(y),h=y;break e;case"link":var _=Gv("link","href",p).get(h+(l.href||""));if(_){for(var M=0;M<_.length;M++)if(y=_[M],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(M,1);break t}}y=p.createElement(h),Gt(y,h,l),p.head.appendChild(y);break;case"meta":if(_=Gv("meta","content",p).get(h+(l.content||""))){for(M=0;M<_.length;M++)if(y=_[M],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(M,1);break t}}y=p.createElement(h),Gt(y,h,l),p.head.appendChild(y);break;default:throw Error(s(468,h))}y[Yt]=i,Vt(y),h=y}i.stateNode=h}else $v(p,i.type,i.stateNode);else i.stateNode=Iv(p,h,i.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?$v(p,i.type,i.stateNode):Iv(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&lm(i,i.memoizedProps,l.memoizedProps)}break;case 27:mn(r,i),pn(i),h&512&&(Ot||l===null||ys(l,l.return)),l!==null&&h&4&&lm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(mn(r,i),pn(i),h&512&&(Ot||l===null||ys(l,l.return)),i.flags&32){p=i.stateNode;try{pr(p,"")}catch(he){Ze(i,i.return,he)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,lm(i,p,l!==null?l.memoizedProps:p)),h&1024&&(dm=!0);break;case 6:if(mn(r,i),pn(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(he){Ze(i,i.return,he)}}break;case 3:if(Pu=null,p=is,is=Lu(r.containerInfo),mn(r,i),is=p,pn(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ir(r.containerInfo)}catch(he){Ze(i,i.return,he)}dm&&(dm=!1,$b(i));break;case 4:h=is,is=Lu(i.stateNode.containerInfo),mn(r,i),pn(i),is=h;break;case 12:mn(r,i),pn(i);break;case 31:mn(r,i),pn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_u(i,h)));break;case 13:mn(r,i),pn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Su=Xt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_u(i,h)));break;case 22:p=i.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,W=qs,K=Ot;if(qs=W||p,Ot=K||P,mn(r,i),Ot=K,qs=W,pn(i),h&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||P||qs||Ot||Aa(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){P=l=r;try{if(y=P.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=P.stateNode;var Q=P.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;M.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Ze(P,P.return,he)}}}else if(r.tag===6){if(l===null){P=r;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(he){Ze(P,P.return,he)}}}else if(r.tag===18){if(l===null){P=r;try{var I=P.stateNode;p?Pv(I,!0):Pv(P.stateNode,!1)}catch(he){Ze(P,P.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,_u(i,l))));break;case 19:mn(r,i),pn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_u(i,h)));break;case 30:break;case 21:break;default:mn(r,i),pn(i)}}function pn(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(Vb(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var p=l.stateNode,y=cm(i);vu(i,y,p);break;case 5:var _=l.stateNode;l.flags&32&&(pr(_,""),l.flags&=-33);var M=cm(i);vu(i,M,_);break;case 3:case 4:var P=l.stateNode.containerInfo,W=cm(i);um(i,W,P);break;default:throw Error(s(161))}}catch(K){Ze(i,i.return,K)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function $b(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;$b(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Gs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ub(i,r.alternate,r),r=r.sibling}function Aa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ri(4,r,r.return),Aa(r);break;case 1:ys(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Pb(r,r.return,l),Aa(r);break;case 27:gl(r.stateNode);case 26:case 5:ys(r,r.return),Aa(r);break;case 22:r.memoizedState===null&&Aa(r);break;case 30:Aa(r);break;default:Aa(r)}i=i.sibling}}function $s(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,p=i,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:$s(p,y,l),rl(4,y);break;case 1:if($s(p,y,l),h=y,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){Ze(h,h.return,W)}if(h=y,p=h.updateQueue,p!==null){var M=h.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)Ny(P[p],M)}catch(W){Ze(h,h.return,W)}}l&&_&64&&zb(y),ol(y,y.return);break;case 27:Fb(y);case 26:case 5:$s(p,y,l),l&&h===null&&_&4&&Bb(y),ol(y,y.return);break;case 12:$s(p,y,l);break;case 31:$s(p,y,l),l&&_&4&&qb(p,y);break;case 13:$s(p,y,l),l&&_&4&&Ib(p,y);break;case 22:y.memoizedState===null&&$s(p,y,l),ol(y,y.return);break;case 30:break;default:$s(p,y,l)}r=r.sibling}}function hm(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Go(l))}function fm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Go(i))}function as(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xb(i,r,l,h),r=r.sibling}function Xb(i,r,l,h){var p=r.flags;switch(r.tag){case 0:case 11:case 15:as(i,r,l,h),p&2048&&rl(9,r);break;case 1:as(i,r,l,h);break;case 3:as(i,r,l,h),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Go(i)));break;case 12:if(p&2048){as(i,r,l,h),i=r.stateNode;try{var y=r.memoizedProps,_=y.id,M=y.onPostCommit;typeof M=="function"&&M(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Ze(r,r.return,P)}}else as(i,r,l,h);break;case 31:as(i,r,l,h);break;case 13:as(i,r,l,h);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?as(i,r,l,h):ll(i,r):y._visibility&2?as(i,r,l,h):(y._visibility|=2,Lr(i,r,l,h,(r.subtreeFlags&10256)!==0||!1)),p&2048&&hm(_,r);break;case 24:as(i,r,l,h),p&2048&&fm(r.alternate,r);break;default:as(i,r,l,h)}}function Lr(i,r,l,h,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,_=r,M=l,P=h,W=_.flags;switch(_.tag){case 0:case 11:case 15:Lr(y,_,M,P,p),rl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Lr(y,_,M,P,p):ll(y,_):(K._visibility|=2,Lr(y,_,M,P,p)),p&&W&2048&&hm(_.alternate,_);break;case 24:Lr(y,_,M,P,p),p&&W&2048&&fm(_.alternate,_);break;default:Lr(y,_,M,P,p)}r=r.sibling}}function ll(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,p=h.flags;switch(h.tag){case 22:ll(l,h),p&2048&&hm(h.alternate,h);break;case 24:ll(l,h),p&2048&&fm(h.alternate,h);break;default:ll(l,h)}r=r.sibling}}var cl=8192;function zr(i,r,l){if(i.subtreeFlags&cl)for(i=i.child;i!==null;)Kb(i,r,l),i=i.sibling}function Kb(i,r,l){switch(i.tag){case 26:zr(i,r,l),i.flags&cl&&i.memoizedState!==null&&c5(l,is,i.memoizedState,i.memoizedProps);break;case 5:zr(i,r,l);break;case 3:case 4:var h=is;is=Lu(i.stateNode.containerInfo),zr(i,r,l),is=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=cl,cl=16777216,zr(i,r,l),cl=h):zr(i,r,l));break;default:zr(i,r,l)}}function Zb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function ul(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Ft=h,Jb(h,i)}Zb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qb(i),i=i.sibling}function Qb(i){switch(i.tag){case 0:case 11:case 15:ul(i),i.flags&2048&&Ri(9,i,i.return);break;case 3:ul(i);break;case 12:ul(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,wu(i)):ul(i);break;default:ul(i)}}function wu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Ft=h,Jb(h,i)}Zb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ri(8,r,r.return),wu(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,wu(r));break;default:wu(r)}i=i.sibling}}function Jb(i,r){for(;Ft!==null;){var l=Ft;switch(l.tag){case 0:case 11:case 15:Ri(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Go(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Ft=h;else e:for(l=i;Ft!==null;){h=Ft;var p=h.sibling,y=h.return;if(Yb(h),h===l){Ft=null;break e}if(p!==null){p.return=y,Ft=p;break e}Ft=y}}}var jT={getCacheForType:function(i){var r=qt(Ct),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return qt(Ct).controller.signal}},NT=typeof WeakMap=="function"?WeakMap:Map,Xe=0,it=null,Ee=null,Le=0,Ke=0,Tn=null,Li=!1,Pr=!1,mm=!1,Xs=0,_t=0,zi=0,Ea=0,pm=0,Dn=0,Br=0,dl=null,gn=null,gm=!1,Su=0,ev=0,ju=1/0,Nu=null,Pi=null,zt=0,Bi=null,Vr=null,Ks=0,xm=0,ym=null,tv=null,hl=0,bm=null;function Cn(){return(Xe&2)!==0&&Le!==0?Le&-Le:F.T!==null?Nm():Lc()}function nv(){if(Dn===0)if((Le&536870912)===0||Fe){var i=rt;rt<<=1,(rt&3932160)===0&&(rt=262144),Dn=i}else Dn=536870912;return i=kn.current,i!==null&&(i.flags|=32),Dn}function xn(i,r,l){(i===it&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)&&(Fr(i,0),Vi(i,Le,Dn,!1)),_i(i,l),((Xe&2)===0||i!==it)&&(i===it&&((Xe&2)===0&&(Ea|=l),_t===4&&Vi(i,Le,Dn,!1)),bs(i))}function sv(i,r,l){if((Xe&6)!==0)throw Error(s(327));var h=!l&&(r&127)===0&&(r&i.expiredLanes)===0||Ln(i,r),p=h?TT(i,r):_m(i,r,!0),y=h;do{if(p===0){Pr&&!h&&Vi(i,r,0,!1);break}else{if(l=i.current.alternate,y&&!kT(l)){p=_m(i,r,!1),y=!1;continue}if(p===2){if(y=r,i.errorRecoveryDisabledLanes&y)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var M=i;p=dl;var P=M.current.memoizedState.isDehydrated;if(P&&(Fr(M,_).flags|=256),_=_m(M,_,!1),_!==2){if(mm&&!P){M.errorRecoveryDisabledLanes|=y,Ea|=y,p=4;break e}y=gn,gn=p,y!==null&&(gn===null?gn=y:gn.push.apply(gn,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){Fr(i,0),Vi(i,r,0,!0);break}e:{switch(h=i,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vi(h,r,Dn,!Li);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Su+300-Xt(),10<p)){if(Vi(h,r,Dn,!Li),Kt(h,0,!0)!==0)break e;Ks=r,h.timeoutHandle=Rv(iv.bind(null,h,l,gn,Nu,gm,r,Dn,Ea,Br,Li,y,"Throttled",-0,0),p);break e}iv(h,l,gn,Nu,gm,r,Dn,Ea,Br,Li,y,null,-0,0)}}break}while(!0);bs(i)}function iv(i,r,l,h,p,y,_,M,P,W,K,Q,q,I){if(i.timeoutHandle=-1,Q=r.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ls},Kb(r,y,Q);var he=(y&62914560)===y?Su-Xt():(y&4194048)===y?ev-Xt():0;if(he=u5(Q,he),he!==null){Ks=y,i.cancelPendingCommit=he(hv.bind(null,i,r,y,l,h,p,_,M,P,K,Q,null,q,I)),Vi(i,y,_,!W);return}}hv(i,r,y,l,h,p,_,M,P)}function kT(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!jn(y(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vi(i,r,l,h){r&=~pm,r&=~Ea,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var p=r;0<p;){var y=31-Ut(p),_=1<<y;h[y]=-1,p&=~_}l!==0&&zn(i,l,r)}function ku(){return(Xe&6)===0?(fl(0),!1):!0}function vm(){if(Ee!==null){if(Ke===0)var i=Ee.return;else i=Ee,Vs=Sa=null,zf(i),Cr=null,Xo=0,i=Ee;for(;i!==null;)Lb(i.alternate,i),i=i.return;Ee=null}}function Fr(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,IT(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ks=0,vm(),it=i,Ee=l=Ps(i.current,null),Le=r,Ke=0,Tn=null,Li=!1,Pr=Ln(i,r),mm=!1,Br=Dn=pm=Ea=zi=_t=0,gn=dl=null,gm=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var p=31-Ut(h),y=1<<p;r|=i[p],h&=~y}return Xs=r,Gc(),l}function av(i,r){ke=null,F.H=sl,r===Dr||r===tu?(r=_y(),Ke=3):r===jf?(r=_y(),Ke=4):Ke=r===Qf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Ee===null&&(_t=1,pu(i,Fn(r,i.current)))}function rv(){var i=kn.current;return i===null?!0:(Le&4194048)===Le?Wn===null:(Le&62914560)===Le||(Le&536870912)!==0?i===Wn:!1}function ov(){var i=F.H;return F.H=sl,i===null?sl:i}function lv(){var i=F.A;return F.A=jT,i}function Mu(){_t=4,Li||(Le&4194048)!==Le&&kn.current!==null||(Pr=!0),(zi&134217727)===0&&(Ea&134217727)===0||it===null||Vi(it,Le,Dn,!1)}function _m(i,r,l){var h=Xe;Xe|=2;var p=ov(),y=lv();(it!==i||Le!==r)&&(Nu=null,Fr(i,r)),r=!1;var _=_t;e:do try{if(Ke!==0&&Ee!==null){var M=Ee,P=Tn;switch(Ke){case 8:vm(),_=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var W=Ke;if(Ke=0,Tn=null,Hr(i,M,P,W),l&&Pr){_=0;break e}break;default:W=Ke,Ke=0,Tn=null,Hr(i,M,P,W)}}MT(),_=_t;break}catch(K){av(i,K)}while(!0);return r&&i.shellSuspendCounter++,Vs=Sa=null,Xe=h,F.H=p,F.A=y,Ee===null&&(it=null,Le=0,Gc()),_}function MT(){for(;Ee!==null;)cv(Ee)}function TT(i,r){var l=Xe;Xe|=2;var h=ov(),p=lv();it!==i||Le!==r?(Nu=null,ju=Xt()+500,Fr(i,r)):Pr=Ln(i,r);e:do try{if(Ke!==0&&Ee!==null){r=Ee;var y=Tn;t:switch(Ke){case 1:Ke=0,Tn=null,Hr(i,r,y,1);break;case 2:case 9:if(by(y)){Ke=0,Tn=null,uv(r);break}r=function(){Ke!==2&&Ke!==9||it!==i||(Ke=7),bs(i)},y.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:by(y)?(Ke=0,Tn=null,uv(r)):(Ke=0,Tn=null,Hr(i,r,y,7));break;case 5:var _=null;switch(Ee.tag){case 26:_=Ee.memoizedState;case 5:case 27:var M=Ee;if(_?Xv(_):M.stateNode.complete){Ke=0,Tn=null;var P=M.sibling;if(P!==null)Ee=P;else{var W=M.return;W!==null?(Ee=W,Tu(W)):Ee=null}break t}}Ke=0,Tn=null,Hr(i,r,y,5);break;case 6:Ke=0,Tn=null,Hr(i,r,y,6);break;case 8:vm(),_t=6;break e;default:throw Error(s(462))}}DT();break}catch(K){av(i,K)}while(!0);return Vs=Sa=null,F.H=h,F.A=p,Xe=l,Ee!==null?0:(it=null,Le=0,Gc(),_t)}function DT(){for(;Ee!==null&&!ms();)cv(Ee)}function cv(i){var r=Ob(i.alternate,i,Xs);i.memoizedProps=i.pendingProps,r===null?Tu(i):Ee=r}function uv(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=Mb(l,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Mb(l,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:zf(r);default:Lb(l,r),r=Ee=ly(r,Xs),r=Ob(l,r,Xs)}i.memoizedProps=i.pendingProps,r===null?Tu(i):Ee=r}function Hr(i,r,l,h){Vs=Sa=null,zf(r),Cr=null,Xo=0;var p=r.return;try{if(xT(i,p,r,l,Le)){_t=1,pu(i,Fn(l,i.current)),Ee=null;return}}catch(y){if(p!==null)throw Ee=p,y;_t=1,pu(i,Fn(l,i.current)),Ee=null;return}r.flags&32768?(Fe||h===1?i=!0:Pr||(Le&536870912)!==0?i=!1:(Li=i=!0,(h===2||h===9||h===3||h===6)&&(h=kn.current,h!==null&&h.tag===13&&(h.flags|=16384))),dv(r,i)):Tu(r)}function Tu(i){var r=i;do{if((r.flags&32768)!==0){dv(r,Li);return}i=r.return;var l=vT(r.alternate,r,Xs);if(l!==null){Ee=l;return}if(r=r.sibling,r!==null){Ee=r;return}Ee=r=i}while(r!==null);_t===0&&(_t=5)}function dv(i,r){do{var l=_T(i.alternate,i);if(l!==null){l.flags&=32767,Ee=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){Ee=i;return}Ee=i=l}while(i!==null);_t=6,Ee=null}function hv(i,r,l,h,p,y,_,M,P){i.cancelPendingCommit=null;do Du();while(zt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=cf,be(i,l,y,_,M,P),i===it&&(Ee=it=null,Le=0),Vr=r,Bi=i,Ks=l,xm=y,ym=p,tv=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,OT(or,function(){return xv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,p=$.p,$.p=2,_=Xe,Xe|=4;try{wT(i,r,l)}finally{Xe=_,$.p=p,F.T=h}}zt=1,fv(),mv(),pv()}}function fv(){if(zt===1){zt=0;var i=Bi,r=Vr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var h=$.p;$.p=2;var p=Xe;Xe|=4;try{Gb(r,i);var y=Om,_=J0(i.containerInfo),M=y.focusedElem,P=y.selectionRange;if(_!==M&&M&&M.ownerDocument&&Q0(M.ownerDocument.documentElement,M)){if(P!==null&&sf(M)){var W=P.start,K=P.end;if(K===void 0&&(K=W),"selectionStart"in M)M.selectionStart=W,M.selectionEnd=Math.min(K,M.value.length);else{var Q=M.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var I=q.getSelection(),he=M.textContent.length,_e=Math.min(P.start,he),nt=P.end===void 0?_e:Math.min(P.end,he);!I.extend&&_e>nt&&(_=nt,nt=_e,_e=_);var H=Z0(M,_e),B=Z0(M,nt);if(H&&B&&(I.rangeCount!==1||I.anchorNode!==H.node||I.anchorOffset!==H.offset||I.focusNode!==B.node||I.focusOffset!==B.offset)){var Y=Q.createRange();Y.setStart(H.node,H.offset),I.removeAllRanges(),_e>nt?(I.addRange(Y),I.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),I.addRange(Y))}}}}for(Q=[],I=M;I=I.parentNode;)I.nodeType===1&&Q.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Q.length;M++){var Z=Q[M];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Hu=!!Em,Om=Em=null}finally{Xe=p,$.p=h,F.T=l}}i.current=r,zt=2}}function mv(){if(zt===2){zt=0;var i=Bi,r=Vr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var h=$.p;$.p=2;var p=Xe;Xe|=4;try{Ub(i,r.alternate,r)}finally{Xe=p,$.p=h,F.T=l}}zt=3}}function pv(){if(zt===4||zt===3){zt=0,Ph();var i=Bi,r=Vr,l=Ks,h=tv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Vr=Bi=null,gv(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Pi=null),lr(l),r=r.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(vi,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=F.T,p=$.p,$.p=2,F.T=null;try{for(var y=i.onRecoverableError,_=0;_<h.length;_++){var M=h[_];y(M.value,{componentStack:M.stack})}}finally{F.T=r,$.p=p}}(Ks&3)!==0&&Du(),bs(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===bm?hl++:(hl=0,bm=i):hl=0,fl(0)}}function gv(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Go(r)))}function Du(){return fv(),mv(),pv(),xv()}function xv(){if(zt!==5)return!1;var i=Bi,r=xm;xm=0;var l=lr(Ks),h=F.T,p=$.p;try{$.p=32>l?32:l,F.T=null,l=ym,ym=null;var y=Bi,_=Ks;if(zt=0,Vr=Bi=null,Ks=0,(Xe&6)!==0)throw Error(s(331));var M=Xe;if(Xe|=4,Qb(y.current),Xb(y,y.current,_,l),Xe=M,fl(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(vi,y)}catch{}return!0}finally{$.p=p,F.T=h,gv(i,r)}}function yv(i,r,l){r=Fn(l,r),r=Zf(i.stateNode,r,2),i=Ai(i,r,2),i!==null&&(_i(i,2),bs(i))}function Ze(i,r,l){if(i.tag===3)yv(i,i,l);else for(;r!==null;){if(r.tag===3){yv(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pi===null||!Pi.has(h))){i=Fn(l,i),l=bb(2),h=Ai(r,l,2),h!==null&&(vb(l,h,r,i),_i(h,2),bs(h));break}}r=r.return}}function wm(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new NT;var p=new Set;h.set(r,p)}else p=h.get(r),p===void 0&&(p=new Set,h.set(r,p));p.has(l)||(mm=!0,p.add(l),i=CT.bind(null,i,r,l),r.then(i,i))}function CT(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,it===i&&(Le&l)===l&&(_t===4||_t===3&&(Le&62914560)===Le&&300>Xt()-Su?(Xe&2)===0&&Fr(i,0):pm|=l,Br===Le&&(Br=0)),bs(i)}function bv(i,r){r===0&&(r=ps()),i=va(i,r),i!==null&&(_i(i,r),bs(i))}function AT(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),bv(i,l)}function ET(i,r){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),bv(i,l)}function OT(i,r){return ir(i,r)}var Cu=null,Ur=null,Sm=!1,Au=!1,jm=!1,Fi=0;function bs(i){i!==Ur&&i.next===null&&(Ur===null?Cu=Ur=i:Ur=Ur.next=i),Au=!0,Sm||(Sm=!0,LT())}function fl(i,r){if(!jm&&Au){jm=!0;do for(var l=!1,h=Cu;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var y=0;else{var _=h.suspendedLanes,M=h.pingedLanes;y=(1<<31-Ut(42|i)+1)-1,y&=p&~(_&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Sv(h,y))}else y=Le,y=Kt(h,h===it?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ln(h,y)||(l=!0,Sv(h,y));h=h.next}while(l);jm=!1}}function RT(){vv()}function vv(){Au=Sm=!1;var i=0;Fi!==0&&qT()&&(i=Fi);for(var r=Xt(),l=null,h=Cu;h!==null;){var p=h.next,y=_v(h,r);y===0?(h.next=null,l===null?Cu=p:l.next=p,p===null&&(Ur=l)):(l=h,(i!==0||(y&3)!==0)&&(Au=!0)),h=p}zt!==0&&zt!==5||fl(i),Fi!==0&&(Fi=0)}function _v(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var _=31-Ut(y),M=1<<_,P=p[_];P===-1?((M&l)===0||(M&h)!==0)&&(p[_]=Sn(M,r)):P<=r&&(i.expiredLanes|=M),y&=~M}if(r=it,l=Le,l=Kt(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ar(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ln(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&ar(h),lr(l)){case 2:case 8:l=ts;break;case 32:l=or;break;case 268435456:l=Os;break;default:l=or}return h=wv.bind(null,i),l=ir(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&ar(h),i.callbackPriority=2,i.callbackNode=null,2}function wv(i,r){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Du()&&i.callbackNode!==l)return null;var h=Le;return h=Kt(i,i===it?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(sv(i,h,r),_v(i,Xt()),i.callbackNode!=null&&i.callbackNode===l?wv.bind(null,i):null)}function Sv(i,r){if(Du())return null;sv(i,r,!0)}function LT(){GT(function(){(Xe&6)!==0?ir(Co,RT):vv()})}function Nm(){if(Fi===0){var i=Mr;i===0&&(i=Ve,Ve<<=1,(Ve&261888)===0&&(Ve=256)),Fi=i}return Fi}function jv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vc(""+i)}function Nv(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function zT(i,r,l,h,p){if(r==="submit"&&l&&l.stateNode===p){var y=jv((p[dn]||null).action),_=h.submitter;_&&(r=(r=_[dn]||null)?jv(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var M=new Yc("action","action",null,h,p);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Fi!==0){var P=_?Nv(p,_):new FormData(p);qf(l,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(M.preventDefault(),P=_?Nv(p,_):new FormData(p),qf(l,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var km=0;km<lf.length;km++){var Mm=lf[km],PT=Mm.toLowerCase(),BT=Mm[0].toUpperCase()+Mm.slice(1);ss(PT,"on"+BT)}ss(ny,"onAnimationEnd"),ss(sy,"onAnimationIteration"),ss(iy,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(eT,"onTransitionRun"),ss(tT,"onTransitionStart"),ss(nT,"onTransitionCancel"),ss(ay,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function kv(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(r)for(var _=h.length-1;0<=_;_--){var M=h[_],P=M.instance,W=M.currentTarget;if(M=M.listener,P!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=W;try{y(p)}catch(K){Ic(K)}p.currentTarget=null,y=P}else for(_=0;_<h.length;_++){if(M=h[_],P=M.instance,W=M.currentTarget,M=M.listener,P!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=W;try{y(p)}catch(K){Ic(K)}p.currentTarget=null,y=P}}}}function Oe(i,r){var l=r[Vh];l===void 0&&(l=r[Vh]=new Set);var h=i+"__bubble";l.has(h)||(Mv(r,i,2,!1),l.add(h))}function Tm(i,r,l){var h=0;r&&(h|=4),Mv(l,i,h,r)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Dm(i){if(!i[Eu]){i[Eu]=!0,v0.forEach(function(l){l!=="selectionchange"&&(VT.has(l)||Tm(l,!1,i),Tm(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Eu]||(r[Eu]=!0,Tm("selectionchange",!1,r))}}function Mv(i,r,l,h){switch(n1(r)){case 2:var p=f5;break;case 8:p=m5;break;default:p=Wm}l=p.bind(null,r,l,i),p=void 0,!$h||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(r,l,{capture:!0,passive:p}):i.addEventListener(r,l,!0):p!==void 0?i.addEventListener(r,l,{passive:p}):i.addEventListener(r,l,!1)}function Cm(i,r,l,h,p){var y=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var M=h.stateNode.containerInfo;if(M===p)break;if(_===4)for(_=h.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;M!==null;){if(_=ur(M),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){h=y=_;continue e}M=M.parentNode}}h=h.return}E0(function(){var W=y,K=Ih(l),Q=[];e:{var q=ry.get(i);if(q!==void 0){var I=Yc,he=i;switch(i){case"keypress":if(Hc(l)===0)break e;case"keydown":case"keyup":I=EM;break;case"focusin":he="focus",I=Qh;break;case"focusout":he="blur",I=Qh;break;case"beforeblur":case"afterblur":I=Qh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=L0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=vM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=LM;break;case ny:case sy:case iy:I=SM;break;case ay:I=PM;break;case"scroll":case"scrollend":I=yM;break;case"wheel":I=VM;break;case"copy":case"cut":case"paste":I=NM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=P0;break;case"toggle":case"beforetoggle":I=HM}var _e=(r&4)!==0,nt=!_e&&(i==="scroll"||i==="scrollend"),H=_e?q!==null?q+"Capture":null:q;_e=[];for(var B=W,Y;B!==null;){var Z=B;if(Y=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||Y===null||H===null||(Z=zo(B,H),Z!=null&&_e.push(pl(B,Z,Y))),nt)break;B=B.return}0<_e.length&&(q=new I(q,he,null,l,K),Q.push({event:q,listeners:_e}))}}if((r&7)===0){e:{if(q=i==="mouseover"||i==="pointerover",I=i==="mouseout"||i==="pointerout",q&&l!==qh&&(he=l.relatedTarget||l.fromElement)&&(ur(he)||he[cr]))break e;if((I||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,I?(he=l.relatedTarget||l.toElement,I=W,he=he?ur(he):null,he!==null&&(nt=o(he),_e=he.tag,he!==nt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(I=null,he=W),I!==he)){if(_e=L0,Z="onMouseLeave",H="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(_e=P0,Z="onPointerLeave",H="onPointerEnter",B="pointer"),nt=I==null?q:Lo(I),Y=he==null?q:Lo(he),q=new _e(Z,B+"leave",I,l,K),q.target=nt,q.relatedTarget=Y,Z=null,ur(K)===W&&(_e=new _e(H,B+"enter",he,l,K),_e.target=Y,_e.relatedTarget=nt,Z=_e),nt=Z,I&&he)t:{for(_e=FT,H=I,B=he,Y=0,Z=H;Z;Z=_e(Z))Y++;Z=0;for(var xe=B;xe;xe=_e(xe))Z++;for(;0<Y-Z;)H=_e(H),Y--;for(;0<Z-Y;)B=_e(B),Z--;for(;Y--;){if(H===B||B!==null&&H===B.alternate){_e=H;break t}H=_e(H),B=_e(B)}_e=null}else _e=null;I!==null&&Tv(Q,q,I,_e,!1),he!==null&&nt!==null&&Tv(Q,nt,he,_e,!0)}}e:{if(q=W?Lo(W):window,I=q.nodeName&&q.nodeName.toLowerCase(),I==="select"||I==="input"&&q.type==="file")var Ue=q0;else if(Y0(q))if(I0)Ue=ZM;else{Ue=XM;var ge=$M}else I=q.nodeName,!I||I.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?W&&Wh(W.elementType)&&(Ue=q0):Ue=KM;if(Ue&&(Ue=Ue(i,W))){W0(Q,Ue,l,K);break e}ge&&ge(i,q,W),i==="focusout"&&W&&q.type==="number"&&W.memoizedProps.value!=null&&Yh(q,"number",q.value)}switch(ge=W?Lo(W):window,i){case"focusin":(Y0(ge)||ge.contentEditable==="true")&&(br=ge,af=W,Wo=null);break;case"focusout":Wo=af=br=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,ey(Q,l,K);break;case"selectionchange":if(JM)break;case"keydown":case"keyup":ey(Q,l,K)}var Me;if(ef)e:{switch(i){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else yr?H0(i,l)&&(ze="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(B0&&l.locale!=="ko"&&(yr||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&yr&&(Me=O0()):(ji=K,Xh="value"in ji?ji.value:ji.textContent,yr=!0)),ge=Ou(W,ze),0<ge.length&&(ze=new z0(ze,i,null,l,K),Q.push({event:ze,listeners:ge}),Me?ze.data=Me:(Me=U0(l),Me!==null&&(ze.data=Me)))),(Me=YM?WM(i,l):qM(i,l))&&(ze=Ou(W,"onBeforeInput"),0<ze.length&&(ge=new z0("onBeforeInput","beforeinput",null,l,K),Q.push({event:ge,listeners:ze}),ge.data=Me)),zT(Q,i,W,l,K)}kv(Q,r)})}function pl(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Ou(i,r){for(var l=r+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=zo(i,l),p!=null&&h.unshift(pl(i,p,y)),p=zo(i,r),p!=null&&h.push(pl(i,p,y))),i.tag===3)return h;i=i.return}return[]}function FT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Tv(i,r,l,h,p){for(var y=r._reactName,_=[];l!==null&&l!==h;){var M=l,P=M.alternate,W=M.stateNode;if(M=M.tag,P!==null&&P===h)break;M!==5&&M!==26&&M!==27||W===null||(P=W,p?(W=zo(l,y),W!=null&&_.unshift(pl(l,W,P))):p||(W=zo(l,y),W!=null&&_.push(pl(l,W,P)))),l=l.return}_.length!==0&&i.push({event:r,listeners:_})}var HT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function Dv(i){return(typeof i=="string"?i:""+i).replace(HT,`
`).replace(UT,"")}function Cv(i,r){return r=Dv(r),Dv(i)===r}function tt(i,r,l,h,p,y){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||pr(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&pr(i,""+h);break;case"className":Pc(i,"class",h);break;case"tabIndex":Pc(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Pc(i,l,h);break;case"style":C0(i,h,y);break;case"data":if(r!=="object"){Pc(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vc(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(r!=="input"&&tt(i,r,"name",p.name,p,null),tt(i,r,"formEncType",p.formEncType,p,null),tt(i,r,"formMethod",p.formMethod,p,null),tt(i,r,"formTarget",p.formTarget,p,null)):(tt(i,r,"encType",p.encType,p,null),tt(i,r,"method",p.method,p,null),tt(i,r,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vc(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Ls);break;case"onScroll":h!=null&&Oe("scroll",i);break;case"onScrollEnd":h!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Vc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),zc(i,"popover",h);break;case"xlinkActuate":Rs(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Rs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Rs(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Rs(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Rs(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Rs(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Rs(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Rs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Rs(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":zc(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=gM.get(l)||l,zc(i,l,h))}}function Am(i,r,l,h,p,y){switch(l){case"style":C0(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?pr(i,h):(typeof h=="number"||typeof h=="bigint")&&pr(i,""+h);break;case"onScroll":h!=null&&Oe("scroll",i);break;case"onScrollEnd":h!=null&&Oe("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_0.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),y=i[dn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(r,y,p),typeof h=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,p);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):zc(i,l,h)}}}function Gt(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var h=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,y,_,l,null)}}p&&tt(i,r,"srcSet",l.srcSet,l,null),h&&tt(i,r,"src",l.src,l,null);return;case"input":Oe("invalid",i);var M=y=_=p=null,P=null,W=null;for(h in l)if(l.hasOwnProperty(h)){var K=l[h];if(K!=null)switch(h){case"name":p=K;break;case"type":_=K;break;case"checked":P=K;break;case"defaultChecked":W=K;break;case"value":y=K;break;case"defaultValue":M=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:tt(i,r,h,K,l,null)}}k0(i,y,M,P,W,_,p,!1);return;case"select":Oe("invalid",i),h=_=y=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":y=M;break;case"defaultValue":_=M;break;case"multiple":h=M;default:tt(i,r,p,M,l,null)}r=y,l=_,i.multiple=!!h,r!=null?mr(i,!!h,r,!1):l!=null&&mr(i,!!h,l,!0);return;case"textarea":Oe("invalid",i),y=p=h=null;for(_ in l)if(l.hasOwnProperty(_)&&(M=l[_],M!=null))switch(_){case"value":h=M;break;case"defaultValue":p=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:tt(i,r,_,M,l,null)}T0(i,h,p,y);return;case"option":for(P in l)l.hasOwnProperty(P)&&(h=l[P],h!=null)&&(P==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":tt(i,r,P,h,l,null));return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(h=0;h<ml.length;h++)Oe(ml[h],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(h=l[W],h!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,W,h,l,null)}return;default:if(Wh(r)){for(K in l)l.hasOwnProperty(K)&&(h=l[K],h!==void 0&&Am(i,r,K,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&tt(i,r,M,h,l,null))}function YT(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,M=null,P=null,W=null,K=null;for(I in l){var Q=l[I];if(l.hasOwnProperty(I)&&Q!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":P=Q;default:h.hasOwnProperty(I)||tt(i,r,I,null,h,Q)}}for(var q in h){var I=h[q];if(Q=l[q],h.hasOwnProperty(q)&&(I!=null||Q!=null))switch(q){case"type":y=I;break;case"name":p=I;break;case"checked":W=I;break;case"defaultChecked":K=I;break;case"value":_=I;break;case"defaultValue":M=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,r));break;default:I!==Q&&tt(i,r,q,I,h,Q)}}Uh(i,_,M,P,W,K,y,p);return;case"select":I=_=M=q=null;for(y in l)if(P=l[y],l.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":I=P;default:h.hasOwnProperty(y)||tt(i,r,y,null,h,P)}for(p in h)if(y=h[p],P=l[p],h.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":q=y;break;case"defaultValue":M=y;break;case"multiple":_=y;default:y!==P&&tt(i,r,p,y,h,P)}r=M,l=_,h=I,q!=null?mr(i,!!l,q,!1):!!h!=!!l&&(r!=null?mr(i,!!l,r,!0):mr(i,!!l,l?[]:"",!1));return;case"textarea":I=q=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:tt(i,r,M,null,h,p)}for(_ in h)if(p=h[_],y=l[_],h.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":q=p;break;case"defaultValue":I=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&tt(i,r,_,p,h,y)}M0(i,q,I);return;case"option":for(var he in l)q=l[he],l.hasOwnProperty(he)&&q!=null&&!h.hasOwnProperty(he)&&(he==="selected"?i.selected=!1:tt(i,r,he,null,h,q));for(P in h)q=h[P],I=l[P],h.hasOwnProperty(P)&&q!==I&&(q!=null||I!=null)&&(P==="selected"?i.selected=q&&typeof q!="function"&&typeof q!="symbol":tt(i,r,P,q,h,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in l)q=l[_e],l.hasOwnProperty(_e)&&q!=null&&!h.hasOwnProperty(_e)&&tt(i,r,_e,null,h,q);for(W in h)if(q=h[W],I=l[W],h.hasOwnProperty(W)&&q!==I&&(q!=null||I!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:tt(i,r,W,q,h,I)}return;default:if(Wh(r)){for(var nt in l)q=l[nt],l.hasOwnProperty(nt)&&q!==void 0&&!h.hasOwnProperty(nt)&&Am(i,r,nt,void 0,h,q);for(K in h)q=h[K],I=l[K],!h.hasOwnProperty(K)||q===I||q===void 0&&I===void 0||Am(i,r,K,q,h,I);return}}for(var H in l)q=l[H],l.hasOwnProperty(H)&&q!=null&&!h.hasOwnProperty(H)&&tt(i,r,H,null,h,q);for(Q in h)q=h[Q],I=l[Q],!h.hasOwnProperty(Q)||q===I||q==null&&I==null||tt(i,r,Q,q,h,I)}function Av(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var p=l[h],y=p.transferSize,_=p.initiatorType,M=p.duration;if(y&&M&&Av(_)){for(_=0,M=p.responseEnd,h+=1;h<l.length;h++){var P=l[h],W=P.startTime;if(W>M)break;var K=P.transferSize,Q=P.initiatorType;K&&Av(Q)&&(P=P.responseEnd,_+=K*(P<M?1:(M-W)/(P-W)))}if(--h,r+=8*(y+_)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Em=null,Om=null;function Ru(i){return i.nodeType===9?i:i.ownerDocument}function Ev(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ov(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Rm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Lm=null;function qT(){var i=window.event;return i&&i.type==="popstate"?i===Lm?!1:(Lm=i,!0):(Lm=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(i){return Lv.resolve(null).then(i).catch($T)}:Rv;function $T(i){setTimeout(function(){throw i})}function Hi(i){return i==="head"}function zv(i,r){var l=r,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(p),Ir(r);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")gl(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,gl(l);for(var y=l.firstChild;y;){var _=y.nextSibling,M=y.nodeName;y[Ro]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=_}}else l==="body"&&gl(i.ownerDocument.body);l=p}while(l);Ir(r)}function Pv(i,r){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function zm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":zm(l),Fh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function XT(i,r,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Ro])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=qn(i.nextSibling),i===null)break}return null}function KT(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=qn(i.nextSibling),i===null))return null;return i}function Bv(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=qn(i.nextSibling),i===null))return null;return i}function Pm(i){return i.data==="$?"||i.data==="$~"}function Bm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ZT(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function qn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Vm=null;function Vv(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return qn(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function Fv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function Hv(i,r,l){switch(r=Ru(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function gl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Fh(i)}var In=new Map,Uv=new Set;function Lu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zs=$.d;$.d={f:QT,r:JT,D:e5,C:t5,L:n5,m:s5,X:a5,S:i5,M:r5};function QT(){var i=Zs.f(),r=ku();return i||r}function JT(i){var r=dr(i);r!==null&&r.tag===5&&r.type==="form"?ab(r):Zs.r(i)}var Yr=typeof document>"u"?null:document;function Yv(i,r,l){var h=Yr;if(h&&typeof r=="string"&&r){var p=Bn(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Uv.has(p)||(Uv.add(p),i={rel:i,crossOrigin:l,href:r},h.querySelector(p)===null&&(r=h.createElement("link"),Gt(r,"link",i),Vt(r),h.head.appendChild(r)))}}function e5(i){Zs.D(i),Yv("dns-prefetch",i,null)}function t5(i,r){Zs.C(i,r),Yv("preconnect",i,r)}function n5(i,r,l){Zs.L(i,r,l);var h=Yr;if(h&&i&&r){var p='link[rel="preload"][as="'+Bn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Bn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Bn(l.imageSizes)+'"]')):p+='[href="'+Bn(i)+'"]';var y=p;switch(r){case"style":y=Wr(i);break;case"script":y=qr(i)}In.has(y)||(i=x({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),In.set(y,i),h.querySelector(p)!==null||r==="style"&&h.querySelector(xl(y))||r==="script"&&h.querySelector(yl(y))||(r=h.createElement("link"),Gt(r,"link",i),Vt(r),h.head.appendChild(r)))}}function s5(i,r){Zs.m(i,r);var l=Yr;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Bn(h)+'"][href="'+Bn(i)+'"]',y=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=qr(i)}if(!In.has(y)&&(i=x({rel:"modulepreload",href:i},r),In.set(y,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yl(y)))return}h=l.createElement("link"),Gt(h,"link",i),Vt(h),l.head.appendChild(h)}}}function i5(i,r,l){Zs.S(i,r,l);var h=Yr;if(h&&i){var p=hr(h).hoistableStyles,y=Wr(i);r=r||"default";var _=p.get(y);if(!_){var M={loading:0,preload:null};if(_=h.querySelector(xl(y)))M.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},l),(l=In.get(y))&&Fm(i,l);var P=_=h.createElement("link");Vt(P),Gt(P,"link",i),P._p=new Promise(function(W,K){P.onload=W,P.onerror=K}),P.addEventListener("load",function(){M.loading|=1}),P.addEventListener("error",function(){M.loading|=2}),M.loading|=4,zu(_,r,h)}_={type:"stylesheet",instance:_,count:1,state:M},p.set(y,_)}}}function a5(i,r){Zs.X(i,r);var l=Yr;if(l&&i){var h=hr(l).hoistableScripts,p=qr(i),y=h.get(p);y||(y=l.querySelector(yl(p)),y||(i=x({src:i,async:!0},r),(r=In.get(p))&&Hm(i,r),y=l.createElement("script"),Vt(y),Gt(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function r5(i,r){Zs.M(i,r);var l=Yr;if(l&&i){var h=hr(l).hoistableScripts,p=qr(i),y=h.get(p);y||(y=l.querySelector(yl(p)),y||(i=x({src:i,async:!0,type:"module"},r),(r=In.get(p))&&Hm(i,r),y=l.createElement("script"),Vt(y),Gt(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function Wv(i,r,l,h){var p=(p=ce.current)?Lu(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Wr(l.href),l=hr(p).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Wr(l.href);var y=hr(p).hoistableStyles,_=y.get(i);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,_),(y=p.querySelector(xl(i)))&&!y._p&&(_.instance=y,_.state.loading=5),In.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},In.set(i,l),y||o5(p,i,l,_.state))),r&&h===null)throw Error(s(528,""));return _}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=qr(l),l=hr(p).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Wr(i){return'href="'+Bn(i)+'"'}function xl(i){return'link[rel="stylesheet"]['+i+"]"}function qv(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function o5(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Gt(r,"link",l),Vt(r),i.head.appendChild(r))}function qr(i){return'[src="'+Bn(i)+'"]'}function yl(i){return"script[async]"+i}function Iv(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+Bn(l.href)+'"]');if(h)return r.instance=h,Vt(h),h;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Vt(h),Gt(h,"style",p),zu(h,l.precedence,i),r.instance=h;case"stylesheet":p=Wr(l.href);var y=i.querySelector(xl(p));if(y)return r.state.loading|=4,r.instance=y,Vt(y),y;h=qv(l),(p=In.get(p))&&Fm(h,p),y=(i.ownerDocument||i).createElement("link"),Vt(y);var _=y;return _._p=new Promise(function(M,P){_.onload=M,_.onerror=P}),Gt(y,"link",h),r.state.loading|=4,zu(y,l.precedence,i),r.instance=y;case"script":return y=qr(l.src),(p=i.querySelector(yl(y)))?(r.instance=p,Vt(p),p):(h=l,(p=In.get(y))&&(h=x({},l),Hm(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),Vt(p),Gt(p,"link",h),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,zu(h,l.precedence,i));return r.instance}function zu(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,y=p,_=0;_<h.length;_++){var M=h[_];if(M.dataset.precedence===r)y=M;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Fm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Hm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Pu=null;function Gv(i,r,l){if(Pu===null){var h=new Map,p=Pu=new Map;p.set(l,h)}else p=Pu,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var y=l[p];if(!(y[Ro]||y[Yt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=i+_;var M=h.get(_);M?M.push(y):h.set(_,[y])}}return h}function $v(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function l5(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Xv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function c5(i,r,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Wr(h.href),y=r.querySelector(xl(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Bu.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=y,Vt(y);return}y=r.ownerDocument||r,h=qv(h),(p=In.get(p))&&Fm(h,p),y=y.createElement("link"),Vt(y);var _=y;_._p=new Promise(function(M,P){_.onload=M,_.onerror=P}),Gt(y,"link",h),l.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Bu.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var Um=0;function u5(i,r){return i.stylesheets&&i.count===0&&Fu(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Fu(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&Um===0&&(Um=62500*WT());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Fu(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Um?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function Bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Vu=null;function Fu(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Vu=new Map,r.forEach(d5,i),Vu=null,Bu.call(i))}function d5(i,r){if(!(r.state.loading&4)){var l=Vu.get(i);if(l)var h=l.get(null);else{l=new Map,Vu.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),h=_)}h&&l.set(null,h)}p=r.instance,_=p.getAttribute("data-precedence"),y=l.get(_)||h,y===h&&l.set(null,p),l.set(_,p),this.count++,h=Bu.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var bl={$$typeof:E,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function h5(i,r,l,h,p,y,_,M,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.hiddenUpdates=pa(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Kv(i,r,l,h,p,y,_,M,P,W,K,Q){return i=new h5(i,r,l,_,P,W,K,Q,M),r=1,y===!0&&(r|=24),y=Nn(3,null,null,r),i.current=y,y.stateNode=i,r=_f(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:r},Nf(y),i}function Zv(i){return i?(i=wr,i):wr}function Qv(i,r,l,h,p,y){p=Zv(p),h.context===null?h.context=p:h.pendingContext=p,h=Ci(r),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=Ai(i,h,r),l!==null&&(xn(l,i,r),Zo(l,i,r))}function Jv(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Ym(i,r){Jv(i,r),(i=i.alternate)&&Jv(i,r)}function e1(i){if(i.tag===13||i.tag===31){var r=va(i,67108864);r!==null&&xn(r,i,67108864),Ym(i,67108864)}}function t1(i){if(i.tag===13||i.tag===31){var r=Cn();r=Oo(r);var l=va(i,r);l!==null&&xn(l,i,r),Ym(i,r)}}var Hu=!0;function f5(i,r,l,h){var p=F.T;F.T=null;var y=$.p;try{$.p=2,Wm(i,r,l,h)}finally{$.p=y,F.T=p}}function m5(i,r,l,h){var p=F.T;F.T=null;var y=$.p;try{$.p=8,Wm(i,r,l,h)}finally{$.p=y,F.T=p}}function Wm(i,r,l,h){if(Hu){var p=qm(h);if(p===null)Cm(i,r,h,Uu,l),s1(i,h);else if(g5(p,i,r,l,h))h.stopPropagation();else if(s1(i,h),r&4&&-1<p5.indexOf(i)){for(;p!==null;){var y=dr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=wn(y.pendingLanes);if(_!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var P=1<<31-Ut(_);M.entanglements[1]|=P,_&=~P}bs(y),(Xe&6)===0&&(ju=Xt()+500,fl(0))}}break;case 31:case 13:M=va(y,2),M!==null&&xn(M,y,2),ku(),Ym(y,2)}if(y=qm(h),y===null&&Cm(i,r,h,Uu,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else Cm(i,r,h,null,l)}}function qm(i){return i=Ih(i),Im(i)}var Uu=null;function Im(i){if(Uu=null,i=ur(i),i!==null){var r=o(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=c(r),i!==null)return i;i=null}else if(l===31){if(i=u(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Uu=i,null}function n1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case Co:return 2;case ts:return 8;case or:case Bh:return 32;case Os:return 268435456;default:return 32}default:return 32}}var Gm=!1,Ui=null,Yi=null,Wi=null,vl=new Map,_l=new Map,qi=[],p5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s1(i,r){switch(i){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(r.pointerId)}}function wl(i,r,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},r!==null&&(r=dr(r),r!==null&&e1(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function g5(i,r,l,h,p){switch(r){case"focusin":return Ui=wl(Ui,i,r,l,h,p),!0;case"dragenter":return Yi=wl(Yi,i,r,l,h,p),!0;case"mouseover":return Wi=wl(Wi,i,r,l,h,p),!0;case"pointerover":var y=p.pointerId;return vl.set(y,wl(vl.get(y)||null,i,r,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,_l.set(y,wl(_l.get(y)||null,i,r,l,h,p)),!0}return!1}function i1(i){var r=ur(i.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){i.blockedOn=r,y0(i.priority,function(){t1(l)});return}}else if(r===31){if(r=u(l),r!==null){i.blockedOn=r,y0(i.priority,function(){t1(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yu(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=qm(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);qh=h,l.target.dispatchEvent(h),qh=null}else return r=dr(l),r!==null&&e1(r),i.blockedOn=l,!1;r.shift()}return!0}function a1(i,r,l){Yu(i)&&l.delete(r)}function x5(){Gm=!1,Ui!==null&&Yu(Ui)&&(Ui=null),Yi!==null&&Yu(Yi)&&(Yi=null),Wi!==null&&Yu(Wi)&&(Wi=null),vl.forEach(a1),_l.forEach(a1)}function Wu(i,r){i.blockedOn===r&&(i.blockedOn=null,Gm||(Gm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,x5)))}var qu=null;function r1(i){qu!==i&&(qu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qu===i&&(qu=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],p=i[r+2];if(typeof h!="function"){if(Im(h||l)===null)continue;break}var y=dr(l);y!==null&&(i.splice(r,3),r-=3,qf(y,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Ir(i){function r(P){return Wu(P,i)}Ui!==null&&Wu(Ui,i),Yi!==null&&Wu(Yi,i),Wi!==null&&Wu(Wi,i),vl.forEach(r),_l.forEach(r);for(var l=0;l<qi.length;l++){var h=qi[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<qi.length&&(l=qi[0],l.blockedOn===null);)i1(l),l.blockedOn===null&&qi.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],y=l[h+1],_=p[dn]||null;if(typeof y=="function")_||r1(l);else if(_){var M=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[dn]||null)M=_.formAction;else if(Im(p)!==null)continue}else M=_.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),r1(l)}}}function o1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function $m(i){this._internalRoot=i}Iu.prototype.render=$m.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=Cn();Qv(l,h,i,r,null,null)},Iu.prototype.unmount=$m.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Qv(i.current,2,null,i,null,null),ku(),r[cr]=null}};function Iu(i){this._internalRoot=i}Iu.prototype.unstable_scheduleHydration=function(i){if(i){var r=Lc();i={blockedOn:null,target:i,priority:r};for(var l=0;l<qi.length&&r!==0&&r<qi[l].priority;l++);qi.splice(l,0,i),l===0&&i1(i)}};var l1=e.version;if(l1!=="19.2.3")throw Error(s(527,l1,"19.2.3"));$.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var y5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{vi=Gu.inject(y5),on=Gu}catch{}}return jl.createRoot=function(i,r){if(!a(i))throw Error(s(299));var l=!1,h="",p=pb,y=gb,_=xb;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Kv(i,1,!1,null,null,l,h,null,p,y,_,o1),i[cr]=r.current,Dm(i),new $m(r)},jl.hydrateRoot=function(i,r,l){if(!a(i))throw Error(s(299));var h=!1,p="",y=pb,_=gb,M=xb,P=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),r=Kv(i,1,!0,r,l??null,h,p,P,y,_,M,o1),r.context=Zv(null),l=r.current,h=Cn(),h=Oo(h),p=Ci(h),p.callback=null,Ai(l,p,h),l=h,r.current.lanes=l,_i(r,l),bs(r),i[cr]=r.current,Dm(i),new Iu(r)},jl.version="19.2.3",jl}var y1;function C5(){if(y1)return Zm.exports;y1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zm.exports=D5(),Zm.exports}var A5=C5();const E5=Rw(A5);var Pw=zw();function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},tc.apply(this,arguments)}var Xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xi||(Xi={}));const b1="popstate";function O5(t){t===void 0&&(t={});function e(s,a){let{pathname:o,search:c,hash:u}=s.location;return Fp("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Cd(a)}return L5(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R5(){return Math.random().toString(36).substr(2,8)}function v1(t,e){return{usr:t.state,key:t.key,idx:e}}function Fp(t,e,n,s){return n===void 0&&(n=null),tc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:n,key:e&&e.key||s||R5()})}function Cd(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function L5(t,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,u=Xi.Pop,f=null,m=g();m==null&&(m=0,c.replaceState(tc({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function x(){u=Xi.Pop;let j=g(),N=j==null?null:j-m;m=j,f&&f({action:u,location:S.location,delta:N})}function b(j,N){u=Xi.Push;let T=Fp(S.location,j,N);m=g()+1;let E=v1(T,m),O=S.createHref(T);try{c.pushState(E,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(O)}o&&f&&f({action:u,location:S.location,delta:1})}function v(j,N){u=Xi.Replace;let T=Fp(S.location,j,N);m=g();let E=v1(T,m),O=S.createHref(T);c.replaceState(E,"",O),o&&f&&f({action:u,location:S.location,delta:0})}function w(j){let N=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof j=="string"?j:Cd(j);return T=T.replace(/ $/,"%20"),jt(N,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,N)}let S={get action(){return u},get location(){return t(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(b1,x),f=j,()=>{a.removeEventListener(b1,x),f=null}},createHref(j){return e(a,j)},createURL:w,encodeLocation(j){let N=w(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:v,go(j){return c.go(j)}};return S}var _1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_1||(_1={}));function z5(t,e,n){return n===void 0&&(n="/"),P5(t,e,n)}function P5(t,e,n,s){let a=typeof e=="string"?bo(e):e,o=ho(a.pathname||"/",n);if(o==null)return null;let c=Bw(t);B5(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=X5(o);u=G5(c[f],m)}return u}function Bw(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(jt(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let m=na([s,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Bw(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:q5(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let f of Vw(o.path))a(o,c,f)}),e}function Vw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=Vw(s.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function B5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I5(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const V5=/^:[\w-]+$/,F5=3,H5=2,U5=1,Y5=10,W5=-2,w1=t=>t==="*";function q5(t,e){let n=t.split("/"),s=n.length;return n.some(w1)&&(s+=W5),e&&(s+=H5),n.filter(a=>!w1(a)).reduce((a,o)=>a+(V5.test(o)?F5:o===""?U5:Y5),s)}function I5(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function G5(t,e,n){let{routesMeta:s}=t,a={},o="/",c=[];for(let u=0;u<s.length;++u){let f=s[u],m=u===s.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=Hp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:na([o,x.pathname]),pathnameBase:eD(na([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=na([o,x.pathnameBase]))}return c}function Hp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=$5(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((m,g,x)=>{let{paramName:b,isOptional:v}=g;if(b==="*"){let S=u[x]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?m[b]=void 0:m[b]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function $5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function X5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ho(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const K5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z5=t=>K5.test(t);function Q5(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?bo(t):t,o;if(n)if(Z5(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Bg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?o=S1(n.substring(1),"/"):o=S1(n,e)}else o=e;return{pathname:o,search:tD(s),hash:nD(a)}}function S1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function tp(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fw(t,e){let n=J5(t);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Hw(t,e,n,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=bo(t):(a=tc({},t),jt(!a.pathname||!a.pathname.includes("?"),tp("?","pathname","search",a)),jt(!a.pathname||!a.pathname.includes("#"),tp("#","pathname","hash",a)),jt(!a.search||!a.search.includes("#"),tp("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=n;else{let x=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}u=x>=0?e[x]:"/"}let f=Q5(a,u),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const na=t=>t.join("/").replace(/\/\/+/g,"/"),eD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Uw=["post","put","patch","delete"];new Set(Uw);const iD=["get",...Uw];new Set(iD);function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nc.apply(this,arguments)}const ih=k.createContext(null),Yw=k.createContext(null),ua=k.createContext(null),ah=k.createContext(null),Ja=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Ww=k.createContext(null);function aD(t,e){let{relative:n}=e===void 0?{}:e;vc()||jt(!1);let{basename:s,navigator:a}=k.useContext(ua),{hash:o,pathname:c,search:u}=rh(t,{relative:n}),f=c;return s!=="/"&&(f=c==="/"?s:na([s,c])),a.createHref({pathname:f,search:u,hash:o})}function vc(){return k.useContext(ah)!=null}function er(){return vc()||jt(!1),k.useContext(ah).location}function qw(t){k.useContext(ua).static||k.useLayoutEffect(t)}function Iw(){let{isDataRoute:t}=k.useContext(Ja);return t?yD():rD()}function rD(){vc()||jt(!1);let t=k.useContext(ih),{basename:e,future:n,navigator:s}=k.useContext(ua),{matches:a}=k.useContext(Ja),{pathname:o}=er(),c=JSON.stringify(Fw(a,n.v7_relativeSplatPath)),u=k.useRef(!1);return qw(()=>{u.current=!0}),k.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){s.go(m);return}let x=Hw(m,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:na([e,x.pathname])),(g.replace?s.replace:s.push)(x,g.state,g)},[e,s,c,o,t])}function rh(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=k.useContext(ua),{matches:a}=k.useContext(Ja),{pathname:o}=er(),c=JSON.stringify(Fw(a,s.v7_relativeSplatPath));return k.useMemo(()=>Hw(t,JSON.parse(c),o,n==="path"),[t,c,o,n])}function oD(t,e){return lD(t,e)}function lD(t,e,n,s){vc()||jt(!1);let{navigator:a}=k.useContext(ua),{matches:o}=k.useContext(Ja),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=er(),g;if(e){var x;let j=typeof e=="string"?bo(e):e;f==="/"||(x=j.pathname)!=null&&x.startsWith(f)||jt(!1),g=j}else g=m;let b=g.pathname||"/",v=b;if(f!=="/"){let j=f.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=z5(t,{pathname:v}),S=fD(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:na([f,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:na([f,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,s);return e&&S?k.createElement(ah.Provider,{value:{location:nc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Xi.Pop}},S):S}function cD(){let t=xD(),e=sD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,null)}const uD=k.createElement(cD,null);class dD extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Ja.Provider,{value:this.props.routeContext},k.createElement(Ww.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hD(t){let{routeContext:e,match:n,children:s}=t,a=k.useContext(ih);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ja.Provider,{value:e},s)}function fD(t,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let g=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);g>=0||jt(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(n&&s&&s.v7_partialHydration)for(let g=0;g<c.length;g++){let x=c[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=g),x.route.id){let{loaderData:b,errors:v}=n,w=x.route.loader&&b[x.route.id]===void 0&&(!v||v[x.route.id]===void 0);if(x.route.lazy||w){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,x,b)=>{let v,w=!1,S=null,j=null;n&&(v=u&&x.route.id?u[x.route.id]:void 0,S=x.route.errorElement||uD,f&&(m<0&&b===0?(bD("route-fallback"),w=!0,j=null):m===b&&(w=!0,j=x.route.hydrateFallbackElement||null)));let N=e.concat(c.slice(0,b+1)),T=()=>{let E;return v?E=S:w?E=j:x.route.Component?E=k.createElement(x.route.Component,null):x.route.element?E=x.route.element:E=g,k.createElement(hD,{match:x,routeContext:{outlet:g,matches:N,isDataRoute:n!=null},children:E})};return n&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?k.createElement(dD,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):T()},null)}var Gw=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Gw||{}),$w=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})($w||{});function mD(t){let e=k.useContext(ih);return e||jt(!1),e}function pD(t){let e=k.useContext(Yw);return e||jt(!1),e}function gD(t){let e=k.useContext(Ja);return e||jt(!1),e}function Xw(t){let e=gD(),n=e.matches[e.matches.length-1];return n.route.id||jt(!1),n.route.id}function xD(){var t;let e=k.useContext(Ww),n=pD(),s=Xw();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function yD(){let{router:t}=mD(Gw.UseNavigateStable),e=Xw($w.UseNavigateStable),n=k.useRef(!1);return qw(()=>{n.current=!0}),k.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,nc({fromRouteId:e},o)))},[t,e])}const j1={};function bD(t,e,n){j1[t]||(j1[t]=!0)}function vD(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Va(t){jt(!1)}function _D(t){let{basename:e="/",children:n=null,location:s,navigationType:a=Xi.Pop,navigator:o,static:c=!1,future:u}=t;vc()&&jt(!1);let f=e.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:f,navigator:o,static:c,future:nc({v7_relativeSplatPath:!1},u)}),[f,u,o,c]);typeof s=="string"&&(s=bo(s));let{pathname:g="/",search:x="",hash:b="",state:v=null,key:w="default"}=s,S=k.useMemo(()=>{let j=ho(g,f);return j==null?null:{location:{pathname:j,search:x,hash:b,state:v,key:w},navigationType:a}},[f,g,x,b,v,w,a]);return S==null?null:k.createElement(ua.Provider,{value:m},k.createElement(ah.Provider,{children:n,value:S}))}function wD(t){let{children:e,location:n}=t;return oD(Up(e),n)}new Promise(()=>{});function Up(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let o=[...e,a];if(s.type===k.Fragment){n.push.apply(n,Up(s.props.children,o));return}s.type!==Va&&jt(!1),!s.props.index||!s.props.children||jt(!1);let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Up(s.props.children,o)),n.push(c)}),n}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ad.apply(this,arguments)}function Kw(t,e){if(t==null)return{};var n={},s=Object.keys(t),a,o;for(o=0;o<s.length;o++)a=s[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function SD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jD(t,e){return t.button===0&&(!e||e==="_self")&&!SD(t)}function Yp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function ND(t,e){let n=Yp(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}const kD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],TD="6";try{window.__reactRouterVersion=TD}catch{}const DD=k.createContext({isTransitioning:!1}),CD="startTransition",N1=N5[CD];function AD(t){let{basename:e,children:n,future:s,window:a}=t,o=k.useRef();o.current==null&&(o.current=O5({window:a,v5Compat:!0}));let c=o.current,[u,f]=k.useState({action:c.action,location:c.location}),{v7_startTransition:m}=s||{},g=k.useCallback(x=>{m&&N1?N1(()=>f(x)):f(x)},[f,m]);return k.useLayoutEffect(()=>c.listen(g),[c,g]),k.useEffect(()=>vD(s),[s]),k.createElement(_D,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:c,future:s})}const ED=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fa=k.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:g,viewTransition:x}=e,b=Kw(e,kD),{basename:v}=k.useContext(ua),w,S=!1;if(typeof m=="string"&&OD.test(m)&&(w=m,ED))try{let E=new URL(window.location.href),O=m.startsWith("//")?new URL(E.protocol+m):new URL(m),z=ho(O.pathname,v);O.origin===E.origin&&z!=null?m=z+O.search+O.hash:S=!0}catch{}let j=aD(m,{relative:a}),N=zD(m,{replace:c,state:u,target:f,preventScrollReset:g,relative:a,viewTransition:x});function T(E){s&&s(E),E.defaultPrevented||N(E)}return k.createElement("a",Ad({},b,{href:w||j,onClick:S||o?s:T,ref:n,target:f}))}),RD=k.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:a=!1,className:o="",end:c=!1,style:u,to:f,viewTransition:m,children:g}=e,x=Kw(e,MD),b=rh(f,{relative:x.relative}),v=er(),w=k.useContext(Yw),{navigator:S,basename:j}=k.useContext(ua),N=w!=null&&BD(b)&&m===!0,T=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,E=v.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(E=E.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&j&&(O=ho(O,j)||O);const z=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=E===T||!c&&E.startsWith(T)&&E.charAt(z)==="/",A=O!=null&&(O===T||!c&&O.startsWith(T)&&O.charAt(T.length)==="/"),L={isActive:D,isPending:A,isTransitioning:N},V=D?s:void 0,X;typeof o=="function"?X=o(L):X=[o,D?"active":null,A?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let G=typeof u=="function"?u(L):u;return k.createElement(Fa,Ad({},x,{"aria-current":V,className:X,ref:n,style:G,to:f,viewTransition:m}),typeof g=="function"?g(L):g)});var Wp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wp||(Wp={}));var k1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(k1||(k1={}));function LD(t){let e=k.useContext(ih);return e||jt(!1),e}function zD(t,e){let{target:n,replace:s,state:a,preventScrollReset:o,relative:c,viewTransition:u}=e===void 0?{}:e,f=Iw(),m=er(),g=rh(t,{relative:c});return k.useCallback(x=>{if(jD(x,n)){x.preventDefault();let b=s!==void 0?s:Cd(m)===Cd(g);f(t,{replace:b,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[m,f,g,s,a,n,t,o,c,u])}function PD(t){let e=k.useRef(Yp(t)),n=k.useRef(!1),s=er(),a=k.useMemo(()=>ND(s.search,n.current?null:e.current),[s.search]),o=Iw(),c=k.useCallback((u,f)=>{const m=Yp(typeof u=="function"?u(a):u);n.current=!0,o("?"+m,f)},[o,a]);return[a,c]}function BD(t,e){e===void 0&&(e={});let n=k.useContext(DD);n==null&&jt(!1);let{basename:s}=LD(Wp.useViewTransitionState),a=rh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ho(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ho(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Hp(a.pathname,c)!=null||Hp(a.pathname,o)!=null}const VD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zw=(...t)=>t.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");var FD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HD=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...u},f)=>k.createElement("svg",{ref:f,...FD,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Zw("lucide",a),...u},[...c.map(([m,g])=>k.createElement(m,g)),...Array.isArray(o)?o:[o]]));const ve=(t,e)=>{const n=k.forwardRef(({className:s,...a},o)=>k.createElement(HD,{ref:o,iconNode:e,className:Zw(`lucide-${VD(t)}`,s),...a}));return n.displayName=`${t}`,n};const sc=ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const Vg=ve("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);const Fg=ve("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const qp=ve("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const Qw=ve("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const np=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Ip=ve("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const Jw=ve("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const M1=ve("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const T1=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const oh=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const D1=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const C1=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const UD=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const eS=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const YD=ve("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const A1=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const E1=ve("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const WD=ve("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);const Gp=ve("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const tS=ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const nS=ve("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const qD=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Hg=ve("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const Ed=ve("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const O1=ve("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const ID=ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const $p=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const GD=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const $D=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const XD=ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const KD=ve("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const sS=ve("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const ZD=ve("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const QD=ve("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const iS=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const JD=ve("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const Ug=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Od=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const eC=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const tC=ve("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const aS=ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const rS=ve("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);const Yg=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const R1=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const nC=ve("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);const L1=ve("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Xp=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const gd=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Kp=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const vo=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Ss=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function sp(t){return d.jsx("svg",{viewBox:"0 0 741 741",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{d:"m0-71v71h741v-142h-741zm0 882.5v70.5h741v-141h-741zm355.5-782.94c-3.3 0.83-8.48 2.92-11.5 4.62-3.02 1.71-6.85 4.12-8.5 5.36-1.65 1.23-4.89 4.66-7.2 7.6-2.31 2.95-5.52 8.06-7.13 11.36-1.61 3.3-5.03 13.2-7.6 22-2.57 8.8-5.52 18.7-6.55 22-1.03 3.3-4.63 15.9-8.01 28-3.37 12.1-6.97 24.7-7.98 28-1.02 3.3-3.5 11.63-5.51 18.5-2.01 6.88-6.14 19.93-9.18 29-3.04 9.08-8.34 22.35-11.76 29.5-3.43 7.15-8.26 16.15-10.75 20-2.48 3.85-7.22 10.38-10.53 14.5-3.31 4.13-9.12 10.22-12.91 13.55-3.79 3.32-8.69 7.4-10.89 9.06-2.2 1.65-7.6 5.29-12 8.09-4.4 2.79-18.35 10.37-31 16.84-12.65 6.47-25.7 13.66-29 15.97-3.3 2.32-7.61 6.19-9.58 8.6-1.98 2.41-4.74 6.42-6.14 8.89-1.41 2.48-3.38 6.98-4.4 10-1.29 3.85-1.83 8.35-1.81 15 0.03 7.34 0.58 11.09 2.42 16.5 1.39 4.06 4.31 9.5 6.95 12.97 2.51 3.28 7.09 8 10.19 10.5 3.09 2.49 13.44 8.52 23 13.4 9.55 4.88 21.19 10.92 25.87 13.43 4.68 2.51 11.87 6.81 16 9.55 4.12 2.75 10.65 7.55 14.5 10.67 3.85 3.12 9.93 8.82 13.5 12.66 3.57 3.84 9.4 11.22 12.95 16.4 3.55 5.18 8.58 13.7 11.17 18.92 2.59 5.23 5.69 11.98 6.9 15 1.2 3.03 3.67 9.78 5.49 15 1.82 5.23 5.56 16.7 8.31 25.5 2.76 8.8 7.55 24.78 10.65 35.5 3.11 10.73 7.84 26.93 10.51 36 2.68 9.08 6.93 23.81 9.45 32.75 2.51 8.94 5.64 18.39 6.95 21 1.31 2.61 4.09 7 6.19 9.75 2.09 2.75 5.63 6.67 7.87 8.72 2.23 2.04 6.54 5.05 9.56 6.69 3.02 1.64 8.43 3.73 12 4.66 4.88 1.26 8.62 1.53 15 1.06 6.56-0.49 10.1-1.36 15.5-3.85 3.85-1.77 9.25-4.88 12-6.92 2.75-2.03 6.56-5.65 8.47-8.03 1.91-2.38 4.98-7.25 6.82-10.83 1.84-3.57 4.02-8.97 4.84-12 0.82-3.02 2.79-10 4.36-15.5 1.58-5.5 5.36-18.55 8.4-29 3.05-10.45 8.5-29.12 12.12-41.5 3.61-12.37 7.45-25.54 8.53-29.25 1.08-3.71 4.71-14.51 8.07-24 3.36-9.49 8.51-22.2 11.45-28.25 2.93-6.05 7.22-13.92 9.53-17.5 2.3-3.57 6.76-9.65 9.91-13.5 3.15-3.85 8.94-10.04 12.86-13.75 3.93-3.71 10.4-9.04 14.39-11.84 3.99-2.8 11.3-7.48 16.25-10.4 4.95-2.92 17.77-9.76 28.5-15.19 10.73-5.44 21.52-11.27 24-12.96 2.48-1.69 6.71-5.5 9.41-8.47 2.7-2.96 6.38-8.54 8.18-12.39 1.8-3.85 3.75-10.04 4.34-13.75 0.73-4.63 0.76-8.94 0.07-13.75-0.55-3.85-1.92-9.59-3.05-12.75-1.12-3.16-4.05-8.56-6.5-12-2.45-3.44-6.81-8.02-9.7-10.17-2.89-2.16-16.05-9.52-29.25-16.35-13.2-6.84-28.09-15.08-33.1-18.33-5-3.24-11.08-7.21-13.5-8.81-2.42-1.59-8.67-7.22-13.9-12.5-5.23-5.27-12.25-13.64-15.6-18.59-3.36-4.95-8.02-12.6-10.35-17-2.34-4.4-5.36-10.7-6.71-14-1.36-3.3-4.63-11.85-7.28-19-2.66-7.15-6.72-19.75-9.03-28-2.32-8.25-5.29-18.37-6.6-22.5-1.31-4.12-5.28-17.62-8.81-30-3.53-12.37-8.1-28.12-10.15-35-2.06-6.87-4.52-15.42-5.48-19-0.96-3.57-3.15-9.87-4.87-14-1.72-4.12-5.34-10.42-8.03-14-3.25-4.3-7.22-8.01-11.75-10.97-3.76-2.46-9.32-5.31-12.34-6.33-3.02-1.03-9.1-2.04-13.5-2.26-5.13-0.26-10.16 0.14-14 1.12z"})})}async function we(t,e="GET",n){const s=t.startsWith("/")?t.slice(1):t,a={method:e,headers:{Accept:"application/json","Content-Type":"application/json"}};n&&(e==="POST"||e==="DELETE")&&(a.body=JSON.stringify(n));const o=await fetch(s,a);if(!o.ok)throw new Error(`${t} -> ${o.status}`);return o.json()}const me={schedule:()=>we("/api/schedule"),scheduleTodayWithHistory:()=>we("/api/schedule/today_with_history"),status:()=>we("/api/status"),health:()=>we("/api/health"),version:()=>we("/api/version"),horizon:()=>we("/api/forecast/horizon"),config:()=>we("/api/config"),configSave:t=>we("/api/config/save","POST",t),configReset:()=>we("/api/config/reset","POST"),setTheme:t=>we("/api/theme","POST",t),haAverage:()=>we("/api/ha/average"),haWaterToday:()=>we("/api/ha/water_today"),haTest:t=>we("/api/ha/test","POST",t),haEntities:()=>we("/api/ha/entities"),haServices:()=>we("/api/ha/services"),haEntityState:t=>we(`/api/ha/entity/${t}`),learningStatus:()=>we("/api/learning/status"),learningHistory:()=>we("/api/learning/history"),learningDailyMetrics:()=>we("/api/learning/daily_metrics"),learningRun:()=>we("/api/learning/run","POST"),learningLoops:()=>we("/api/learning/loops"),theme:()=>we("/api/themes"),runPlanner:()=>we("/api/run_planner","POST"),loadServerPlan:()=>we("/api/db/current_schedule"),pushToDb:()=>we("/api/db/push_current","POST"),resetToOptimal:()=>we("/api/schedule/save","POST"),simulate:async t=>{const e=await fetch("api/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Simulation failed");return e.json()},getAdvice:async()=>{const t=await fetch("api/analyst/advice");if(!t.ok)throw new Error("Failed to fetch advice");return t.json()},analystRun:()=>we("/api/analyst/run"),debug:()=>we("/api/debug"),debugLogs:()=>we("/api/debug/logs"),historySoc:(t="today")=>we(`/api/history/soc?date=${t}`),forecastEval:()=>we("/api/forecast/eval"),forecastDay:t=>we(t?`/api/forecast/day?date=${t}`:"/api/forecast/day"),forecastRunEval:(t=7)=>we("/api/forecast/run_eval","POST",{days_back:t}),forecastRunForward:(t=48)=>we("/api/forecast/run_forward","POST",{horizon_hours:t}),schedulerStatus:()=>we("/api/scheduler/status"),aurora:{dashboard:()=>we("/api/aurora/dashboard"),briefing:t=>we("/api/aurora/briefing","POST",t),toggleReflex:t=>we("/api/aurora/config/toggle_reflex","POST",{enabled:t})},performanceData:(t=7)=>we(`/api/performance/data?days=${t}`),executor:{status:()=>we("/api/executor/status"),run:()=>we("/api/executor/run","POST"),pause:()=>we("/api/executor/pause","POST"),resume:()=>we("/api/executor/resume","POST"),quickAction:{get:()=>we("/api/executor/quick-action"),set:(t,e)=>we("/api/executor/quick-action","POST",{type:t,duration_minutes:e}),clear:()=>we("/api/executor/quick-action","DELETE")}},waterBoost:{status:()=>we("/api/water/boost"),start:t=>we("/api/water/boost","POST",{duration_minutes:t}),cancel:()=>we("/api/water/boost","DELETE")},energyToday:()=>we("/api/energy/today")};function oS(){const[t,e]=k.useState("dark"),[n,s]=k.useState(!0),a=f=>f==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":f,o=f=>{const m=document.documentElement;f==="dark"?m.classList.add("dark"):m.classList.remove("dark")};k.useEffect(()=>{(async()=>{try{const g=(await me.config())?.ui?.theme_mode;if(g&&["light","dark","system"].includes(g))e(g),o(a(g));else{const x=localStorage.getItem("darkstar-theme");x&&["light","dark","system"].includes(x)?(e(x),o(a(x))):(e("dark"),o("dark"))}}catch{const g=localStorage.getItem("darkstar-theme")||"dark";e(g),o(a(g))}finally{s(!1)}})()},[]),k.useEffect(()=>{if(t!=="system")return;const f=window.matchMedia("(prefers-color-scheme: dark)"),m=g=>{o(g.matches?"dark":"light")};return f.addEventListener("change",m),()=>f.removeEventListener("change",m)},[t]);const c=async()=>{const f=t==="dark"?"light":"dark";e(f),o(f),localStorage.setItem("darkstar-theme",f);try{await me.configSave({ui:{theme_mode:f}})}catch(m){console.warn("[ThemeToggle] Failed to save theme to backend:",m)}};if(n)return d.jsx("div",{className:"h-12 w-12 rounded-2xl border border-line/70 bg-surface/80 flex items-center justify-center",children:d.jsx("div",{className:"h-5 w-5 rounded-full bg-muted/30 animate-pulse"})});const u=a(t);return d.jsxs("button",{type:"button",onClick:c,className:"group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface/80 hover:bg-surface2 transition",title:`Switch to ${u==="dark"?"light":"dark"} mode`,children:[u==="dark"?d.jsx(Yg,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}):d.jsx($D,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}),d.jsx("span",{className:"absolute -right-2 top-1 rounded-full bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:u==="dark"?"Light mode":"Dark mode"})]})}const Nl=({to:t,icon:e,label:n,onClick:s})=>{const a="group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface/80 hover:bg-surface2 transition",o="ring-2 ring-accent/50",c=d.jsxs(d.Fragment,{children:[d.jsx(e,{className:"h-5 w-5 text-muted group-hover:text-text"}),d.jsx("span",{className:"absolute -right-2 top-1 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:n})]});return t?d.jsx(RD,{to:t,className:({isActive:u})=>`${a} ${u?o:""}`,title:n,children:c}):d.jsx("button",{onClick:s,className:a,title:n,children:c})};function sC(){const{pathname:t}=er(),[e,n]=k.useState(!1),[s,a]=k.useState(null),[o,c]=k.useState("...");k.useEffect(()=>{const f=async()=>{try{await me.status(),a(!0)}catch{a(!1)}};f();const m=setInterval(f,3e4);return()=>clearInterval(m)},[]),k.useEffect(()=>{me.version().then(f=>c(f.version||"dev")).catch(()=>c("dev"))},[]);const u=()=>n(!1);return d.jsxs(d.Fragment,{children:[d.jsx("aside",{className:"hidden lg:block fixed left-6 top-6 bottom-6 z-50",children:d.jsxs("div",{className:"h-full w-16 rounded-2xl bg-surface shadow-float border border-line/60 flex flex-col items-center gap-3 p-2",children:[d.jsxs(Fa,{to:"/",className:"mt-1 mb-1 flex items-center justify-center group relative",children:[d.jsx("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-surface2 border border-line/60 overflow-hidden",children:d.jsx(sp,{className:"h-8 w-8 text-accent"})}),d.jsxs("span",{className:"absolute left-14 top-1/2 -translate-y-1/2 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-50 pointer-events-none",children:["darkstar v",o]})]}),d.jsx(Nl,{to:"/",icon:Ed,label:"Dash"}),d.jsx(Nl,{to:"/executor",icon:Gp,label:"Executor"}),d.jsx(Nl,{to:"/aurora",icon:Ip,label:"Aurora"}),d.jsx(Nl,{to:"/debug",icon:M1,label:"Debug"}),d.jsx("div",{className:"mt-auto w-8 h-px bg-line/70"}),d.jsxs("div",{className:"py-2 flex flex-col items-center gap-2",children:[d.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-all duration-500 ${s===!0?"bg-good shadow-[0_0_8px_rgba(31,178,86,0.5)]":s===!1?"bg-bad":"bg-slate-700"}`,title:s===!0?"System Online":s===!1?"System Offline":"Connecting..."}),d.jsxs("span",{className:"text-[10px] text-muted/30 font-mono select-none tracking-widest whitespace-nowrap opacity-50 hover:opacity-100 transition",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:["darkstar v",o]})]}),d.jsx(oS,{}),d.jsx(Nl,{to:"/settings",icon:Od,label:"Settings"})]})}),d.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-surface/95 border-b border-line/60 flex items-center justify-between px-4 py-2",children:[d.jsx("button",{type:"button","aria-label":"Open navigation",className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-line/70 bg-surface2 text-muted hover:border-accent hover:text-accent",onClick:()=>n(!0),children:d.jsx(GD,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[d.jsx(sp,{className:"h-5 w-5 text-accent"}),d.jsxs("span",{className:"font-mono",children:["v",o]})]}),d.jsx("div",{className:"w-10"})]}),e&&d.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 bg-[rgba(4,6,10,0.92)] backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-line/60",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-surface2 border border-line/60",children:d.jsx(sp,{className:"h-5 w-5 text-accent"})}),d.jsxs("span",{className:"text-muted font-mono",children:["darkstar v",o]})]}),d.jsx("button",{type:"button","aria-label":"Close navigation",className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-line/70 bg-surface text-muted hover:border-accent hover:text-accent",onClick:u,children:d.jsx(vo,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3",onClick:u,children:[d.jsxs(Fa,{to:"/",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Ed,{className:`h-6 w-6 ${t==="/"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Dash"})]}),d.jsxs(Fa,{to:"/executor",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/executor"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Gp,{className:`h-6 w-6 ${t==="/executor"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Executor"})]}),d.jsxs(Fa,{to:"/aurora",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/aurora"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Ip,{className:`h-6 w-6 ${t==="/aurora"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Aurora"})]}),d.jsxs(Fa,{to:"/debug",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/debug"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(M1,{className:`h-6 w-6 ${t==="/debug"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Debug"})]}),d.jsxs(Fa,{to:"/settings",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/settings"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Od,{className:`h-6 w-6 ${t==="/settings"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Settings"})]})]})]})]})}class iC extends k.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("[ErrorBoundary] Caught error:",e),console.error("[ErrorBoundary] Component stack:",n.componentStack)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-md w-full bg-surface border border-line rounded-2xl p-8 shadow-float text-center",children:[d.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center",children:d.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h1",{className:"text-lg font-semibold text-text mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-sm text-muted mb-4",children:"The application encountered an unexpected error."}),this.state.error&&d.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:d.jsx("code",{className:"text-xs text-red-400 break-all",children:this.state.error.message})}),d.jsx("button",{onClick:this.handleReload,className:"px-6 py-2.5 rounded-full bg-accent text-canvas font-medium text-sm hover:bg-accent2 transition-colors",children:"Reload Page"}),d.jsx("p",{className:"mt-4 text-xs text-muted/60",children:"If this keeps happening, check the browser console for details."})]})}):this.props.children}}const aC={card:"rounded-xl2 bg-surface shadow-float border border-line/60"};function Ae({children:t,className:e=""}){return d.jsx("div",{className:`${aC.card} ${e}`,children:t})}function _c(t){return t+.5|0}const Ki=(t,e,n)=>Math.max(Math.min(t,n),e);function Bl(t){return Ki(_c(t*2.55),0,255)}function sa(t){return Ki(_c(t*255),0,255)}function si(t){return Ki(_c(t/2.55)/100,0,1)}function z1(t){return Ki(_c(t*100),0,100)}const Gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zp=[..."0123456789ABCDEF"],rC=t=>Zp[t&15],oC=t=>Zp[(t&240)>>4]+Zp[t&15],$u=t=>(t&240)>>4===(t&15),lC=t=>$u(t.r)&&$u(t.g)&&$u(t.b)&&$u(t.a);function cC(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Gn[t[1]]*17,g:255&Gn[t[2]]*17,b:255&Gn[t[3]]*17,a:e===5?Gn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Gn[t[1]]<<4|Gn[t[2]],g:Gn[t[3]]<<4|Gn[t[4]],b:Gn[t[5]]<<4|Gn[t[6]],a:e===9?Gn[t[7]]<<4|Gn[t[8]]:255})),n}const uC=(t,e)=>t<255?e(t):"";function dC(t){var e=lC(t)?rC:oC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+uC(t.a,e):void 0}const hC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lS(t,e,n){const s=e*Math.min(n,1-n),a=(o,c=(o+t/30)%12)=>n-s*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function fC(t,e,n){const s=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function mC(t,e,n){const s=lS(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)s[a]*=1-e-n,s[a]+=e;return s}function pC(t,e,n,s,a){return t===a?(e-n)/s+(e<n?6:0):e===a?(n-t)/s+2:(t-e)/s+4}function Wg(t){const n=t.r/255,s=t.g/255,a=t.b/255,o=Math.max(n,s,a),c=Math.min(n,s,a),u=(o+c)/2;let f,m,g;return o!==c&&(g=o-c,m=u>.5?g/(2-o-c):g/(o+c),f=pC(n,s,a,g,o),f=f*60+.5),[f|0,m||0,u]}function qg(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(sa)}function Ig(t,e,n){return qg(lS,t,e,n)}function gC(t,e,n){return qg(mC,t,e,n)}function xC(t,e,n){return qg(fC,t,e,n)}function cS(t){return(t%360+360)%360}function yC(t){const e=hC.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Bl(+e[5]):sa(+e[5]));const a=cS(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=gC(a,o,c):e[1]==="hsv"?s=xC(a,o,c):s=Ig(a,o,c),{r:s[0],g:s[1],b:s[2],a:n}}function bC(t,e){var n=Wg(t);n[0]=cS(n[0]+e),n=Ig(n),t.r=n[0],t.g=n[1],t.b=n[2]}function vC(t){if(!t)return;const e=Wg(t),n=e[0],s=z1(e[1]),a=z1(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${a}%, ${si(t.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const P1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},B1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _C(){const t={},e=Object.keys(B1),n=Object.keys(P1);let s,a,o,c,u;for(s=0;s<e.length;s++){for(c=u=e[s],a=0;a<n.length;a++)o=n[a],u=u.replace(o,P1[o]);o=parseInt(B1[c],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let Xu;function wC(t){Xu||(Xu=_C(),Xu.transparent=[0,0,0,0]);const e=Xu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const SC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jC(t){const e=SC.exec(t);let n=255,s,a,o;if(e){if(e[7]!==s){const c=+e[7];n=e[8]?Bl(c):Ki(c*255,0,255)}return s=+e[1],a=+e[3],o=+e[5],s=255&(e[2]?Bl(s):Ki(s,0,255)),a=255&(e[4]?Bl(a):Ki(a,0,255)),o=255&(e[6]?Bl(o):Ki(o,0,255)),{r:s,g:a,b:o,a:n}}}function NC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${si(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ip=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Gr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function kC(t,e,n){const s=Gr(si(t.r)),a=Gr(si(t.g)),o=Gr(si(t.b));return{r:sa(ip(s+n*(Gr(si(e.r))-s))),g:sa(ip(a+n*(Gr(si(e.g))-a))),b:sa(ip(o+n*(Gr(si(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Ku(t,e,n){if(t){let s=Wg(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Ig(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function uS(t,e){return t&&Object.assign(e||{},t)}function V1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=sa(t[3]))):(e=uS(t,{r:0,g:0,b:0,a:1}),e.a=sa(e.a)),e}function MC(t){return t.charAt(0)==="r"?jC(t):yC(t)}class ic{constructor(e){if(e instanceof ic)return e;const n=typeof e;let s;n==="object"?s=V1(e):n==="string"&&(s=cC(e)||wC(e)||MC(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=uS(this._rgb);return e&&(e.a=si(e.a)),e}set rgb(e){this._rgb=V1(e)}rgbString(){return this._valid?NC(this._rgb):void 0}hexString(){return this._valid?dC(this._rgb):void 0}hslString(){return this._valid?vC(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,a=e.rgb;let o;const c=n===o?.5:n,u=2*c-1,f=s.a-a.a,m=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-m,s.r=255&m*s.r+o*a.r+.5,s.g=255&m*s.g+o*a.g+.5,s.b=255&m*s.b+o*a.b+.5,s.a=c*s.a+(1-c)*a.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=kC(this._rgb,e._rgb,n)),this}clone(){return new ic(this.rgb)}alpha(e){return this._rgb.a=sa(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=_c(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ku(this._rgb,2,e),this}darken(e){return Ku(this._rgb,2,-e),this}saturate(e){return Ku(this._rgb,1,e),this}desaturate(e){return Ku(this._rgb,1,-e),this}rotate(e){return bC(this._rgb,e),this}}function Qs(){}const TC=(()=>{let t=0;return()=>t++})();function Re(t){return t==null}function pt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Pe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function St(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function An(t,e){return St(t)?t:e}function Ne(t,e){return typeof t>"u"?e:t}const DC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,dS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function at(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Qe(t,e,n,s){let a,o,c;if(pt(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(Pe(t))for(c=Object.keys(t),o=c.length,a=0;a<o;a++)e.call(n,t[c[a]],c[a])}function Rd(t,e){let n,s,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Ld(t){if(pt(t))return t.map(Ld);if(Pe(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let a=0;for(;a<s;++a)e[n[a]]=Ld(t[n[a]]);return e}return t}function hS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function CC(t,e,n,s){if(!hS(t))return;const a=e[t],o=n[t];Pe(a)&&Pe(o)?ac(a,o,s):e[t]=Ld(o)}function ac(t,e,n){const s=pt(e)?e:[e],a=s.length;if(!Pe(t))return t;n=n||{};const o=n.merger||CC;let c;for(let u=0;u<a;++u){if(c=s[u],!Pe(c))continue;const f=Object.keys(c);for(let m=0,g=f.length;m<g;++m)o(f[m],t,c,n)}return t}function Il(t,e){return ac(t,e,{merger:AC})}function AC(t,e,n){if(!hS(t))return;const s=e[t],a=n[t];Pe(s)&&Pe(a)?Il(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ld(a))}const F1={"":t=>t,x:t=>t.x,y:t=>t.y};function EC(t){const e=t.split("."),n=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function OC(t){const e=EC(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function ra(t,e){return(F1[e]||(F1[e]=OC(e)))(t)}function Gg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const rc=t=>typeof t<"u",oa=t=>typeof t=="function",H1=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function RC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const We=Math.PI,ct=2*We,LC=ct+We,zd=Number.POSITIVE_INFINITY,zC=We/180,Dt=We/2,Oa=We/4,U1=We*2/3,Zi=Math.log10,js=Math.sign;function Gl(t,e,n){return Math.abs(t-e)<n}function Y1(t){const e=Math.round(t);t=Gl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Zi(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function PC(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function BC(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function fo(t){return!BC(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function VC(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function fS(t,e,n){let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ls(t){return t*(We/180)}function $g(t){return t*(180/We)}function W1(t){if(!St(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function mS(t,e){const n=e.x-t.x,s=e.y-t.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*We&&(o+=ct),{angle:o,distance:a}}function Qp(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function FC(t,e){return(t-e+LC)%ct-We}function tn(t){return(t%ct+ct)%ct}function oc(t,e,n,s){const a=tn(t),o=tn(e),c=tn(n),u=tn(o-a),f=tn(c-a),m=tn(a-o),g=tn(a-c);return a===o||a===c||s&&o===c||u>f&&m<g}function Ht(t,e,n){return Math.max(e,Math.min(n,t))}function HC(t){return Ht(t,-32768,32767)}function ii(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Xg(t,e,n){n=n||(c=>t[c]<e);let s=t.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const ai=(t,e,n,s)=>Xg(t,n,s?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),UC=(t,e,n)=>Xg(t,n,s=>t[s][e]>=n);function YC(t,e,n){let s=0,a=t.length;for(;s<a&&t[s]<e;)s++;for(;a>s&&t[a-1]>n;)a--;return s>0||a<t.length?t.slice(s,a):t}const pS=["push","pop","shift","splice","unshift"];function WC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pS.forEach(n=>{const s="_onData"+Gg(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...o)}),c}})})}function q1(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(pS.forEach(o=>{delete t[o]}),delete t._chartjs)}function gS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const xS=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function yS(t,e){let n=[],s=!1;return function(...a){n=a,s||(s=!0,xS.call(window,()=>{s=!1,t.apply(e,n)}))}}function qC(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Kg=t=>t==="start"?"left":t==="end"?"right":"center",Jt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,IC=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function bS(t,e,n){const s=e.length;let a=0,o=s;if(t._sorted){const{iScale:c,vScale:u,_parsed:f}=t,m=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,g=c.axis,{min:x,max:b,minDefined:v,maxDefined:w}=c.getUserBounds();if(v){if(a=Math.min(ai(f,g,x).lo,n?s:ai(e,g,c.getPixelForValue(x)).lo),m){const S=f.slice(0,a+1).reverse().findIndex(j=>!Re(j[u.axis]));a-=Math.max(0,S)}a=Ht(a,0,s-1)}if(w){let S=Math.max(ai(f,c.axis,b,!0).hi+1,n?0:ai(e,g,c.getPixelForValue(b),!0).hi+1);if(m){const j=f.slice(S-1).findIndex(N=>!Re(N[u.axis]));S+=Math.max(0,j)}o=Ht(S,a,s)-a}else o=s-a}return{start:a,count:o}}function vS(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,a={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=a,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,a),o}const Zu=t=>t===0||t===1,I1=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ct/n)),G1=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ct/n)+1,$l={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Dt)+1,easeOutSine:t=>Math.sin(t*Dt),easeInOutSine:t=>-.5*(Math.cos(We*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Zu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Zu(t)?t:I1(t,.075,.3),easeOutElastic:t=>Zu(t)?t:G1(t,.075,.3),easeInOutElastic(t){return Zu(t)?t:t<.5?.5*I1(t*2,.1125,.45):.5+.5*G1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-$l.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?$l.easeInBounce(t*2)*.5:$l.easeOutBounce(t*2-1)*.5+.5};function Zg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $1(t){return Zg(t)?t:new ic(t)}function ap(t){return Zg(t)?t:new ic(t).saturate(.5).darken(.1).hexString()}const GC=["x","y","borderWidth","radius","tension"],$C=["color","borderColor","backgroundColor"];function XC(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:$C},numbers:{type:"number",properties:GC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function KC(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const X1=new Map;function ZC(t,e){e=e||{};const n=t+JSON.stringify(e);let s=X1.get(n);return s||(s=new Intl.NumberFormat(t,e),X1.set(n,s)),s}function wc(t,e,n){return ZC(e,n).format(t)}const _S={values(t){return pt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let a,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=QC(t,n)}const c=Zi(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),wc(t,s,f)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Zi(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?_S.numeric.call(this,t,e,n):""}};function QC(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lh={formatters:_S};function JC(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Za=Object.create(null),Jp=Object.create(null);function Xl(t,e){if(!e)return t;const n=e.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];t=t[o]||(t[o]=Object.create(null))}return t}function rp(t,e,n){return typeof e=="string"?ac(Xl(t,e),n):ac(Xl(t,""),e)}class eA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>ap(a.backgroundColor),this.hoverBorderColor=(s,a)=>ap(a.borderColor),this.hoverColor=(s,a)=>ap(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return rp(this,e,n)}get(e){return Xl(this,e)}describe(e,n){return rp(Jp,e,n)}override(e,n){return rp(Za,e,n)}route(e,n,s,a){const o=Xl(this,e),c=Xl(this,s),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],m=c[a];return Pe(f)?Object.assign({},m,f):Ne(f,m)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var gt=new eA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[XC,KC,JC]);function tA(t){return!t||Re(t.size)||Re(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Pd(t,e,n,s,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>s&&(s=o),s}function nA(t,e,n,s){s=s||{};let a=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(a=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let c=0;const u=n.length;let f,m,g,x,b;for(f=0;f<u;f++)if(x=n[f],x!=null&&!pt(x))c=Pd(t,a,o,c,x);else if(pt(x))for(m=0,g=x.length;m<g;m++)b=x[m],b!=null&&!pt(b)&&(c=Pd(t,a,o,c,b));t.restore();const v=o.length/2;if(v>n.length){for(f=0;f<v;f++)delete a[o[f]];o.splice(0,v)}return c}function Ra(t,e,n){const s=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*s)/s+a}function K1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function eg(t,e,n,s){wS(t,e,n,s,null)}function wS(t,e,n,s,a){let o,c,u,f,m,g,x,b;const v=e.pointStyle,w=e.rotation,S=e.radius;let j=(w||0)*zC;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(j),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:a?t.ellipse(n,s,a/2,S,0,0,ct):t.arc(n,s,S,0,ct),t.closePath();break;case"triangle":g=a?a/2:S,t.moveTo(n+Math.sin(j)*g,s-Math.cos(j)*S),j+=U1,t.lineTo(n+Math.sin(j)*g,s-Math.cos(j)*S),j+=U1,t.lineTo(n+Math.sin(j)*g,s-Math.cos(j)*S),t.closePath();break;case"rectRounded":m=S*.516,f=S-m,c=Math.cos(j+Oa)*f,x=Math.cos(j+Oa)*(a?a/2-m:f),u=Math.sin(j+Oa)*f,b=Math.sin(j+Oa)*(a?a/2-m:f),t.arc(n-x,s-u,m,j-We,j-Dt),t.arc(n+b,s-c,m,j-Dt,j),t.arc(n+x,s+u,m,j,j+Dt),t.arc(n-b,s+c,m,j+Dt,j+We),t.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*S,g=a?a/2:f,t.rect(n-g,s-f,2*g,2*f);break}j+=Oa;case"rectRot":x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+b,s-c),t.lineTo(n+x,s+u),t.lineTo(n-b,s+c),t.closePath();break;case"crossRot":j+=Oa;case"cross":x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+x,s+u),t.moveTo(n+b,s-c),t.lineTo(n-b,s+c);break;case"star":x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+x,s+u),t.moveTo(n+b,s-c),t.lineTo(n-b,s+c),j+=Oa,x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+x,s+u),t.moveTo(n+b,s-c),t.lineTo(n-b,s+c);break;case"line":c=a?a/2:Math.cos(j)*S,u=Math.sin(j)*S,t.moveTo(n-c,s-u),t.lineTo(n+c,s+u);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(j)*(a?a/2:S),s+Math.sin(j)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ri(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ch(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function uh(t){t.restore()}function sA(t,e,n,s,a){if(!e)return t.lineTo(n.x,n.y);if(a==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else a==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function iA(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function aA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Re(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function rA(t,e,n,s,a){if(a.strikethrough||a.underline){const o=t.measureText(s),c=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,g=a.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(c,g),t.lineTo(u,g),t.stroke()}}function oA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Qa(t,e,n,s,a,o={}){const c=pt(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=a.string,aA(t,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&oA(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Re(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,s,o.maxWidth)),t.fillText(m,n,s,o.maxWidth),rA(t,n,s,m,o),s+=Number(a.lineHeight);t.restore()}function lc(t,e){const{x:n,y:s,w:a,h:o,radius:c}=e;t.arc(n+c.topLeft,s+c.topLeft,c.topLeft,1.5*We,We,!0),t.lineTo(n,s+o-c.bottomLeft),t.arc(n+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,We,Dt,!0),t.lineTo(n+a-c.bottomRight,s+o),t.arc(n+a-c.bottomRight,s+o-c.bottomRight,c.bottomRight,Dt,0,!0),t.lineTo(n+a,s+c.topRight),t.arc(n+a-c.topRight,s+c.topRight,c.topRight,0,-Dt,!0),t.lineTo(n+c.topLeft,s)}const lA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uA(t,e){const n=(""+t).match(lA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const dA=t=>+t||0;function Qg(t,e){const n={},s=Pe(e),a=s?Object.keys(e):e,o=Pe(t)?s?c=>Ne(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of a)n[c]=dA(o(c));return n}function SS(t){return Qg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ga(t){return Qg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function rn(t){const e=SS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Pt(t,e){t=t||{},e=e||gt.font;let n=Ne(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Ne(t.style,e.style);s&&!(""+s).match(cA)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Ne(t.family,e.family),lineHeight:uA(Ne(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Ne(t.weight,e.weight),string:""};return a.string=tA(a),a}function Vl(t,e,n,s){let a,o,c;for(a=0,o=t.length;a<o;++a)if(c=t[a],c!==void 0&&c!==void 0)return c}function hA(t,e,n){const{min:s,max:a}=t,o=dS(e,(a-s)/2),c=(u,f)=>n&&u===0?0:u+f;return{min:c(s,-Math.abs(o)),max:c(a,o)}}function da(t,e){return Object.assign(Object.create(t),e)}function Jg(t,e=[""],n,s,a=()=>t[0]){const o=n||t;typeof s>"u"&&(s=MS("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:a,override:u=>Jg([u,...t],e,o,s)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return NS(u,f,()=>vA(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return Q1(u).includes(f)},ownKeys(u){return Q1(u)},set(u,f,m){const g=u._storage||(u._storage=a());return u[f]=g[f]=m,delete u._keys,!0}})}function mo(t,e,n,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:jS(t,s),setContext:o=>mo(t,o,n,s),override:o=>mo(t.override(o),e,n,s)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,u){return NS(o,c,()=>mA(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,u){return t[c]=u,delete o[c],!0}})}function jS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:s,isScriptable:oa(n)?n:()=>n,isIndexable:oa(s)?s:()=>s}}const fA=(t,e)=>t?t+Gg(e):e,ex=(t,e)=>Pe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function NS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function mA(t,e,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:c}=t;let u=s[e];return oa(u)&&c.isScriptable(e)&&(u=pA(e,u,t,n)),pt(u)&&u.length&&(u=gA(e,u,t,c.isIndexable)),ex(e,u)&&(u=mo(u,a,o&&o[e],c)),u}function pA(t,e,n,s){const{_proxy:a,_context:o,_subProxy:c,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(o,c||s);return u.delete(t),ex(t,f)&&(f=tx(a._scopes,a,t,f)),f}function gA(t,e,n,s){const{_proxy:a,_context:o,_subProxy:c,_descriptors:u}=n;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(Pe(e[0])){const f=e,m=a._scopes.filter(g=>g!==f);e=[];for(const g of f){const x=tx(m,a,t,g);e.push(mo(x,o,c&&c[t],u))}}return e}function kS(t,e,n){return oa(t)?t(e,n):t}const xA=(t,e)=>t===!0?e:typeof t=="string"?ra(e,t):void 0;function yA(t,e,n,s,a){for(const o of e){const c=xA(n,o);if(c){t.add(c);const u=kS(c._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==s)return u}else if(c===!1&&typeof s<"u"&&n!==s)return null}return!1}function tx(t,e,n,s){const a=e._rootScopes,o=kS(e._fallback,n,s),c=[...t,...a],u=new Set;u.add(s);let f=Z1(u,c,n,o||n,s);return f===null||typeof o<"u"&&o!==n&&(f=Z1(u,c,o,f,s),f===null)?!1:Jg(Array.from(u),[""],a,o,()=>bA(e,n,s))}function Z1(t,e,n,s,a){for(;n;)n=yA(t,e,n,s,a);return n}function bA(t,e,n){const s=t._getTarget();e in s||(s[e]={});const a=s[e];return pt(a)&&Pe(n)?n:a||{}}function vA(t,e,n,s){let a;for(const o of e)if(a=MS(fA(o,t),n),typeof a<"u")return ex(t,a)?tx(n,s,t,a):a}function MS(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Q1(t){let e=t._keys;return e||(e=t._keys=_A(t._scopes)),e}function _A(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}function TS(t,e,n,s){const{iScale:a}=t,{key:o="r"}=this._parsing,c=new Array(s);let u,f,m,g;for(u=0,f=s;u<f;++u)m=u+n,g=e[m],c[u]={r:a.parse(ra(g,o),m)};return c}const wA=Number.EPSILON||1e-14,po=(t,e)=>e<t.length&&!t[e].skip&&t[e],DS=t=>t==="x"?"y":"x";function SA(t,e,n,s){const a=t.skip?e:t,o=e,c=n.skip?e:n,u=Qp(o,a),f=Qp(c,o);let m=u/(u+f),g=f/(u+f);m=isNaN(m)?0:m,g=isNaN(g)?0:g;const x=s*m,b=s*g;return{previous:{x:o.x-x*(c.x-a.x),y:o.y-x*(c.y-a.y)},next:{x:o.x+b*(c.x-a.x),y:o.y+b*(c.y-a.y)}}}function jA(t,e,n){const s=t.length;let a,o,c,u,f,m=po(t,0);for(let g=0;g<s-1;++g)if(f=m,m=po(t,g+1),!(!f||!m)){if(Gl(e[g],0,wA)){n[g]=n[g+1]=0;continue}a=n[g]/e[g],o=n[g+1]/e[g],u=Math.pow(a,2)+Math.pow(o,2),!(u<=9)&&(c=3/Math.sqrt(u),n[g]=a*c*e[g],n[g+1]=o*c*e[g])}}function NA(t,e,n="x"){const s=DS(n),a=t.length;let o,c,u,f=po(t,0);for(let m=0;m<a;++m){if(c=u,u=f,f=po(t,m+1),!u)continue;const g=u[n],x=u[s];c&&(o=(g-c[n])/3,u[`cp1${n}`]=g-o,u[`cp1${s}`]=x-o*e[m]),f&&(o=(f[n]-g)/3,u[`cp2${n}`]=g+o,u[`cp2${s}`]=x+o*e[m])}}function kA(t,e="x"){const n=DS(e),s=t.length,a=Array(s).fill(0),o=Array(s);let c,u,f,m=po(t,0);for(c=0;c<s;++c)if(u=f,f=m,m=po(t,c+1),!!f){if(m){const g=m[e]-f[e];a[c]=g!==0?(m[n]-f[n])/g:0}o[c]=u?m?js(a[c-1])!==js(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}jA(t,a,o),NA(t,o,e)}function Qu(t,e,n){return Math.max(Math.min(t,n),e)}function MA(t,e){let n,s,a,o,c,u=ri(t[0],e);for(n=0,s=t.length;n<s;++n)c=o,o=u,u=n<s-1&&ri(t[n+1],e),o&&(a=t[n],c&&(a.cp1x=Qu(a.cp1x,e.left,e.right),a.cp1y=Qu(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=Qu(a.cp2x,e.left,e.right),a.cp2y=Qu(a.cp2y,e.top,e.bottom)))}function TA(t,e,n,s,a){let o,c,u,f;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")kA(t,a);else{let m=s?t[t.length-1]:t[0];for(o=0,c=t.length;o<c;++o)u=t[o],f=SA(m,u,t[Math.min(o+1,c-(s?0:1))%c],e.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,m=u}e.capBezierPoints&&MA(t,n)}function nx(){return typeof window<"u"&&typeof document<"u"}function sx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bd(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const dh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function DA(t,e){return dh(t).getPropertyValue(e)}const CA=["top","right","bottom","left"];function $a(t,e,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=CA[a];s[o]=parseFloat(t[e+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const AA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function EA(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=s;let c=!1,u,f;if(AA(a,o,t.target))u=a,f=o;else{const m=e.getBoundingClientRect();u=s.clientX-m.left,f=s.clientY-m.top,c=!0}return{x:u,y:f,box:c}}function Ha(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,a=dh(n),o=a.boxSizing==="border-box",c=$a(a,"padding"),u=$a(a,"border","width"),{x:f,y:m,box:g}=EA(t,n),x=c.left+(g&&u.left),b=c.top+(g&&u.top);let{width:v,height:w}=e;return o&&(v-=c.width+u.width,w-=c.height+u.height),{x:Math.round((f-x)/v*n.width/s),y:Math.round((m-b)/w*n.height/s)}}function OA(t,e,n){let s,a;if(e===void 0||n===void 0){const o=t&&sx(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const c=o.getBoundingClientRect(),u=dh(o),f=$a(u,"border","width"),m=$a(u,"padding");e=c.width-m.width-f.width,n=c.height-m.height-f.height,s=Bd(u.maxWidth,o,"clientWidth"),a=Bd(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:s||zd,maxHeight:a||zd}}const Qi=t=>Math.round(t*10)/10;function RA(t,e,n,s){const a=dh(t),o=$a(a,"margin"),c=Bd(a.maxWidth,t,"clientWidth")||zd,u=Bd(a.maxHeight,t,"clientHeight")||zd,f=OA(t,e,n);let{width:m,height:g}=f;if(a.boxSizing==="content-box"){const b=$a(a,"border","width"),v=$a(a,"padding");m-=v.width+b.width,g-=v.height+b.height}return m=Math.max(0,m-o.width),g=Math.max(0,s?m/s:g-o.height),m=Qi(Math.min(m,c,f.maxWidth)),g=Qi(Math.min(g,u,f.maxHeight)),m&&!g&&(g=Qi(m/2)),(e!==void 0||n!==void 0)&&s&&f.height&&g>f.height&&(g=f.height,m=Qi(Math.floor(g*s))),{width:m,height:g}}function J1(t,e,n){const s=e||1,a=Qi(t.height*s),o=Qi(t.width*s);t.height=Qi(t.height),t.width=Qi(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||c.height!==a||c.width!==o?(t.currentDevicePixelRatio=s,c.height=a,c.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const LA=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};nx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function e_(t,e){const n=DA(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ua(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function zA(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function PA(t,e,n,s){const a={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},c=Ua(t,a,n),u=Ua(a,o,n),f=Ua(o,e,n),m=Ua(c,u,n),g=Ua(u,f,n);return Ua(m,g,n)}const BA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},VA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function oo(t,e,n){return t?BA(e,n):VA()}function CS(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function AS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ES(t){return t==="angle"?{between:oc,compare:FC,normalize:tn}:{between:ii,compare:(e,n)=>e-n,normalize:e=>e}}function t_({start:t,end:e,count:n,loop:s,style:a}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:a}}function FA(t,e,n){const{property:s,start:a,end:o}=n,{between:c,normalize:u}=ES(s),f=e.length;let{start:m,end:g,loop:x}=t,b,v;if(x){for(m+=f,g+=f,b=0,v=f;b<v&&c(u(e[m%f][s]),a,o);++b)m--,g--;m%=f,g%=f}return g<m&&(g+=f),{start:m,end:g,loop:x,style:t.style}}function OS(t,e,n){if(!n)return[t];const{property:s,start:a,end:o}=n,c=e.length,{compare:u,between:f,normalize:m}=ES(s),{start:g,end:x,loop:b,style:v}=FA(t,e,n),w=[];let S=!1,j=null,N,T,E;const O=()=>f(a,E,N)&&u(a,E)!==0,z=()=>u(o,N)===0||f(o,E,N),D=()=>S||O(),A=()=>!S||z();for(let L=g,V=g;L<=x;++L)T=e[L%c],!T.skip&&(N=m(T[s]),N!==E&&(S=f(N,a,o),j===null&&D()&&(j=u(N,a)===0?L:V),j!==null&&A()&&(w.push(t_({start:j,end:L,loop:b,count:c,style:v})),j=null),V=L,E=N));return j!==null&&w.push(t_({start:j,end:x,loop:b,count:c,style:v})),w}function RS(t,e){const n=[],s=t.segments;for(let a=0;a<s.length;a++){const o=OS(s[a],t.points,e);o.length&&n.push(...o)}return n}function HA(t,e,n,s){let a=0,o=e-1;if(n&&!s)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,n&&(o+=a);o>a&&t[o%e].skip;)o--;return o%=e,{start:a,end:o}}function UA(t,e,n,s){const a=t.length,o=[];let c=e,u=t[e],f;for(f=e+1;f<=n;++f){const m=t[f%a];m.skip||m.stop?u.skip||(s=!1,o.push({start:e%a,end:(f-1)%a,loop:s}),e=c=m.stop?f:null):(c=f,u.skip&&(e=f)),u=m}return c!==null&&o.push({start:e%a,end:c%a,loop:s}),o}function YA(t,e){const n=t.points,s=t.options.spanGaps,a=n.length;if(!a)return[];const o=!!t._loop,{start:c,end:u}=HA(n,a,o,s);if(s===!0)return n_(t,[{start:c,end:u,loop:o}],n,e);const f=u<c?u+a:u,m=!!t._fullLoop&&c===0&&u===a-1;return n_(t,UA(n,c,f,m),n,e)}function n_(t,e,n,s){return!s||!s.setContext||!n?e:WA(t,e,n,s)}function WA(t,e,n,s){const a=t._chart.getContext(),o=s_(t.options),{_datasetIndex:c,options:{spanGaps:u}}=t,f=n.length,m=[];let g=o,x=e[0].start,b=x;function v(w,S,j,N){const T=u?-1:1;if(w!==S){for(w+=f;n[w%f].skip;)w-=T;for(;n[S%f].skip;)S+=T;w%f!==S%f&&(m.push({start:w%f,end:S%f,loop:j,style:N}),g=N,x=S%f)}}for(const w of e){x=u?x:w.start;let S=n[x%f],j;for(b=x+1;b<=w.end;b++){const N=n[b%f];j=s_(s.setContext(da(a,{type:"segment",p0:S,p1:N,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),qA(j,g)&&v(x,b-1,w.loop,g),S=N,g=j}x<b-1&&v(x,b-1,w.loop,g)}return m}function s_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function qA(t,e){if(!e)return!1;const n=[],s=function(a,o){return Zg(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Ju(t,e,n){return t.options.clip?t[n]:e[n]}function IA(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Ju(n,e,"left"),right:Ju(n,e,"right"),top:Ju(s,e,"top"),bottom:Ju(s,e,"bottom")}:e}function LS(t,e){const n=e._clip;if(n.disabled)return!1;const s=IA(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}class GA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,a){const o=n.listeners[a],c=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(s-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=xS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(e),u=!0):(o[c]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,s,e,"progress")),o.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ei=new GA;const i_="transparent",$A={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=$1(t||i_),a=s.valid&&$1(e||i_);return a&&a.valid?a.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class XA{constructor(e,n,s,a){const o=n[s];a=Vl([e.to,a,o,e.from]);const c=Vl([e.from,o,a]);this._active=!0,this._fn=e.fn||$A[e.type||typeof c],this._easing=$l[e.easing]||$l.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Vl([e.to,n,a,e.from]),this._from=Vl([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,a=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||n<s),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class zS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Pe(e))return;const n=Object.keys(gt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!Pe(o))return;const c={};for(const u of n)c[u]=o[u];(pt(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!s.has(u))&&s.set(u,c)})})}_animateOptions(e,n){const s=n.options,a=ZA(e,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&KA(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,n){const s=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(n),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,n));continue}const g=n[m];let x=o[m];const b=s.get(m);if(x)if(b&&x.active()){x.update(b,g,u);continue}else x.cancel();if(!b||!b.duration){e[m]=g;continue}o[m]=x=new XA(b,e,m,g),a.push(x)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return ei.add(this._chart,s),!0}}function KA(t,e){const n=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const o=t[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function ZA(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function a_(t,e){const n=t&&t.options||{},s=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:s?o:a,end:s?a:o}}function QA(t,e,n){if(n===!1)return!1;const s=a_(t,n),a=a_(e,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function JA(t){let e,n,s,a;return Pe(t)?(e=t.top,n=t.right,s=t.bottom,a=t.left):e=n=s=a=t,{top:e,right:n,bottom:s,left:a,disabled:t===!1}}function PS(t,e){const n=[],s=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function r_(t,e,n,s={}){const a=t.keys,o=s.mode==="single";let c,u,f,m;if(e===null)return;let g=!1;for(c=0,u=a.length;c<u;++c){if(f=+a[c],f===n){if(g=!0,s.all)continue;break}m=t.values[f],St(m)&&(o||e===0||js(e)===js(m))&&(e+=m)}return!g&&!s.all?0:e}function e3(t,e){const{iScale:n,vScale:s}=e,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(t),u=new Array(c.length);let f,m,g;for(f=0,m=c.length;f<m;++f)g=c[f],u[f]={[a]:g,[o]:t[g]};return u}function op(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function t3(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function n3(t){const{min:e,max:n,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function s3(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function o_(t,e,n,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function l_(t,e){const{chart:n,_cachedMeta:s}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:u}=s,f=o.axis,m=c.axis,g=t3(o,c,s),x=e.length;let b;for(let v=0;v<x;++v){const w=e[v],{[f]:S,[m]:j}=w,N=w._stacks||(w._stacks={});b=N[m]=s3(a,g,S),b[u]=j,b._top=o_(b,c,!0,s.type),b._bottom=o_(b,c,!1,s.type);const T=b._visualValues||(b._visualValues={});T[u]=j}}function lp(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function i3(t,e){return da(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function a3(t,e,n){return da(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function kl(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const cp=t=>t==="reset"||t==="none",c_=(t,e)=>e?t:Object.assign({},t),r3=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:PS(n,!0),values:null};class ha{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=op(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&kl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(x,b,v,w)=>x==="x"?b:x==="r"?w:v,o=n.xAxisID=Ne(s.xAxisID,lp(e,"x")),c=n.yAxisID=Ne(s.yAxisID,lp(e,"y")),u=n.rAxisID=Ne(s.rAxisID,lp(e,"r")),f=n.indexAxis,m=n.iAxisID=a(f,o,c,u),g=n.vAxisID=a(f,c,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&q1(this._data,this),e._stacked&&kl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Pe(n)){const a=this._cachedMeta;this._data=e3(n,a)}else if(s!==n){if(s){q1(s,this);const a=this._cachedMeta;kl(a),a._parsed=[]}n&&Object.isExtensible(n)&&WC(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=op(n.vScale,n),n.stack!==s.stack&&(a=!0,kl(n),n.stack=s.stack),this._resyncElements(e),(a||o!==n._stacked)&&(l_(this,n._parsed),n._stacked=op(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:c}=s,u=o.axis;let f=e===0&&n===a.length?!0:s._sorted,m=e>0&&s._parsed[e-1],g,x,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{pt(a[e])?b=this.parseArrayData(s,a,e,n):Pe(a[e])?b=this.parseObjectData(s,a,e,n):b=this.parsePrimitiveData(s,a,e,n);const v=()=>x[u]===null||m&&x[u]<m[u];for(g=0;g<n;++g)s._parsed[g+e]=x=b[g],f&&(v()&&(f=!1),m=x);s._sorted=f}c&&l_(this,b)}parsePrimitiveData(e,n,s,a){const{iScale:o,vScale:c}=e,u=o.axis,f=c.axis,m=o.getLabels(),g=o===c,x=new Array(a);let b,v,w;for(b=0,v=a;b<v;++b)w=b+s,x[b]={[u]:g||o.parse(m[w],w),[f]:c.parse(n[w],w)};return x}parseArrayData(e,n,s,a){const{xScale:o,yScale:c}=e,u=new Array(a);let f,m,g,x;for(f=0,m=a;f<m;++f)g=f+s,x=n[g],u[f]={x:o.parse(x[0],g),y:c.parse(x[1],g)};return u}parseObjectData(e,n,s,a){const{xScale:o,yScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let g,x,b,v;for(g=0,x=a;g<x;++g)b=g+s,v=n[b],m[g]={x:o.parse(ra(v,u),b),y:c.parse(ra(v,f),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const a=this.chart,o=this._cachedMeta,c=n[e.axis],u={keys:PS(a,!0),values:n._stacks[e.axis]._visualValues};return r_(u,c,o.index,{mode:s})}updateRangeFromParsed(e,n,s,a){const o=s[n.axis];let c=o===null?NaN:o;const u=a&&s._stacks[n.axis];a&&u&&(a.values=u,c=r_(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&e===s.iScale,c=a.length,u=this._getOtherScale(e),f=r3(n,s,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=n3(u);let b,v;function w(){v=a[b];const S=v[u.axis];return!St(v[e.axis])||g>S||x<S}for(b=0;b<c&&!(!w()&&(this.updateRangeFromParsed(m,e,v,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(m,e,v,f);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let a,o,c;for(a=0,o=n.length;a<o;++a)c=n[a][e.axis],St(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=JA(Ne(this.options.clip,QA(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||a.length-u,m=this.options.drawActiveElementsOnTop;let g;for(s.dataset&&s.dataset.draw(e,o,u,f),g=u;g<u+f;++g){const x=a[g];x.hidden||(x.active&&m?c.push(x):x.draw(e,o))}for(g=0;g<c.length;++g)c[g].draw(e,o)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=a3(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=i3(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const a=n==="active",o=this._cachedDataOpts,c=e+"-"+n,u=o[c],f=this.enableOptionSharing&&rc(s);if(u)return c_(u,f);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),x=a?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),g),v=Object.keys(gt.elements[e]),w=()=>this.getContext(s,a,n),S=m.resolveNamedOptions(b,v,w,x);return S.$shared&&(S.$shared=f,o[c]=Object.freeze(c_(S,f))),S}_resolveAnimations(e,n,s){const a=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,u=o[c];if(u)return u;let f;if(a.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,n),b=g.getOptionScopes(this.getDataset(),x);f=g.createResolver(b,this.getContext(e,s,n))}const m=new zS(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||cp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:c}}updateElement(e,n,s,a){cp(a)?Object.assign(e,s):this._resolveAnimations(n,a).update(e,s)}updateSharedOptions(e,n,s){e&&!cp(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[u,f,m]of this._syncList)this[u](f,m);this._syncList=[];const a=s.length,o=n.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,s=!0){const a=this._cachedMeta,o=a.data,c=e+n;let u;const f=m=>{for(m.length+=n,u=m.length-1;u>=c;u--)m[u]=m[u-n]};for(f(o),u=e;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,a){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,n);s._stacked&&kl(s,a)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,a]=e;this[n](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function o3(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=gS(s.sort((a,o)=>a-o))}return t._cache.$bar}function l3(t){const e=t.iScale,n=o3(e,t.type);let s=e._length,a,o,c,u;const f=()=>{c===32767||c===-32768||(rc(u)&&(s=Math.min(s,Math.abs(c-u)||s)),u=c)};for(a=0,o=n.length;a<o;++a)c=e.getPixelForValue(n[a]),f();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),f();return s}function c3(t,e,n,s){const a=n.barThickness;let o,c;return Re(a)?(o=e.min*n.categoryPercentage,c=n.barPercentage):(o=a*s,c=1),{chunk:o/s,ratio:c,start:e.pixels[t]-o/2}}function u3(t,e,n,s){const a=e.pixels,o=a[t];let c=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const f=n.categoryPercentage;c===null&&(c=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-c);const m=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/s,ratio:n.barPercentage,start:m}}function d3(t,e,n,s){const a=n.parse(t[0],s),o=n.parse(t[1],s),c=Math.min(a,o),u=Math.max(a,o);let f=c,m=u;Math.abs(c)>Math.abs(u)&&(f=u,m=c),e[n.axis]=m,e._custom={barStart:f,barEnd:m,start:a,end:o,min:c,max:u}}function BS(t,e,n,s){return pt(t)?d3(t,e,n,s):e[n.axis]=n.parse(t,s),e}function u_(t,e,n,s){const a=t.iScale,o=t.vScale,c=a.getLabels(),u=a===o,f=[];let m,g,x,b;for(m=n,g=n+s;m<g;++m)b=e[m],x={},x[a.axis]=u||a.parse(c[m],m),f.push(BS(b,x,o,m));return f}function up(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function h3(t,e,n){return t!==0?js(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function f3(t){let e,n,s,a,o;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:e,top:a,bottom:o}}function m3(t,e,n,s){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:m,bottom:g}=f3(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?a=m:(n._bottom||0)===s?a=g:(o[d_(g,c,u,f)]=!0,a=m)),o[d_(a,c,u,f)]=!0,t.borderSkipped=o}function d_(t,e,n,s){return s?(t=p3(t,e,n),t=h_(t,n,e)):t=h_(t,e,n),t}function p3(t,e,n){return t===e?n:t===n?e:t}function h_(t,e,n){return t==="start"?e:t==="end"?n:t}function g3(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class VS extends ha{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,a){return u_(e,n,s,a)}parseArrayData(e,n,s,a){return u_(e,n,s,a)}parseObjectData(e,n,s,a){const{iScale:o,vScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?u:f,g=c.axis==="x"?u:f,x=[];let b,v,w,S;for(b=s,v=s+a;b<v;++b)S=n[b],w={},w[o.axis]=o.parse(ra(S,m),b),x.push(BS(ra(S,g),w,c,b));return x}updateRangeFromParsed(e,n,s,a){super.updateRangeFromParsed(e,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(e),c=o._custom,u=up(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),m=u.isHorizontal(),g=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(n,a);for(let v=n;v<n+s;v++){const w=this.getParsed(v),S=o||Re(w[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(v),j=this._calculateBarIndexPixels(v,g),N=(w._stacks||{})[u.axis],T={horizontal:m,base:S.base,enableBorderRadius:!N||up(w._custom)||c===N._top||c===N._bottom,x:m?S.head:j.center,y:m?j.center:S.head,height:m?j.size:Math.abs(S.size),width:m?Math.abs(S.size):j.size};b&&(T.options=x||this.resolveDataElementOptions(v,e[v].active?"active":a));const E=T.options||e[v].options;m3(T,E,N,c),g3(T,E,g.ratio),this.updateElement(e[v],v,T,a)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=s.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[s.axis],m=g=>{const x=g._parsed.find(v=>v[s.axis]===f),b=x&&x[g.vScale.axis];if(Re(b)||isNaN(b))return!0};for(const g of a)if(!(n!==void 0&&m(g))&&((o===!1||c.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Ne(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const a=this._getStacks(e,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,c;for(o=0,c=n.data.length;o<c;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const u=e.barThickness;return{min:u||l3(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(e),m=f._custom,g=up(m);let x=f[n.axis],b=0,v=s?this.applyStack(n,f,s):x,w,S;v!==x&&(b=v-x,v=x),g&&(x=m.barStart,v=m.barEnd-m.barStart,x!==0&&js(x)!==js(m.barEnd)&&(b=0),b+=x);const j=!Re(o)&&!g?o:b;let N=n.getPixelForValue(j);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(b+v):w=N,S=w-N,Math.abs(S)<c){S=h3(S,n,u)*c,x===u&&(N-=S/2);const T=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),O=Math.min(T,E),z=Math.max(T,E);N=Math.max(Math.min(N,z),O),w=N+S,s&&!g&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(w)-n.getValueForPixel(N))}if(N===n.getPixelForValue(u)){const T=js(S)*n.getLineWidthForValue(u)/2;N+=T,S-=T}return{size:S,base:N,head:w,center:w+S/2}}_calculateBarIndexPixels(e,n){const s=n.scale,a=this.options,o=a.skipNull,c=Ne(a.maxBarThickness,1/0);let u,f;const m=this._getAxisCount();if(n.grouped){const g=o?this._getStackCount(e):n.stackCount,x=a.barThickness==="flex"?u3(e,n,a,g*m):c3(e,n,a,g*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Ne(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;u=x.start+x.chunk*w+x.chunk/2,f=Math.min(c,x.chunk*x.ratio)}else u=s.getPixelForValue(this.getParsed(e)[s.axis],e),f=Math.min(c,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}class x3 extends ha{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,a){const o=super.parsePrimitiveData(e,n,s,a);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+s).radius;return o}parseArrayData(e,n,s,a){const o=super.parseArrayData(e,n,s,a);for(let c=0;c<o.length;c++){const u=n[s+c];o[c]._custom=Ne(u[2],this.resolveDataElementOptions(c+s).radius)}return o}parseObjectData(e,n,s,a){const o=super.parseObjectData(e,n,s,a);for(let c=0;c<o.length;c++){const u=n[s+c];o[c]._custom=Ne(u&&u.r&&+u.r,this.resolveDataElementOptions(c+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:o}=n,c=this.getParsed(e),u=a.getLabelForValue(c.x),f=o.getLabelForValue(c.y),m=c._custom;return{label:s[e]||"",value:"("+u+", "+f+(m?", "+m:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,a){const o=a==="reset",{iScale:c,vScale:u}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,a),g=c.axis,x=u.axis;for(let b=n;b<n+s;b++){const v=e[b],w=!o&&this.getParsed(b),S={},j=S[g]=o?c.getPixelForDecimal(.5):c.getPixelForValue(w[g]),N=S[x]=o?u.getBasePixel():u.getPixelForValue(w[x]);S.skip=isNaN(j)||isNaN(N),m&&(S.options=f||this.resolveDataElementOptions(b,v.active?"active":a),o&&(S.options.radius=0)),this.updateElement(v,b,S,a)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let a=super.resolveDataElementOptions(e,n);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return n!=="active"&&(a.radius=0),a.radius+=Ne(s&&s._custom,o),a}}function y3(t,e,n){let s=1,a=1,o=0,c=0;if(e<ct){const u=t,f=u+e,m=Math.cos(u),g=Math.sin(u),x=Math.cos(f),b=Math.sin(f),v=(E,O,z)=>oc(E,u,f,!0)?1:Math.max(O,O*n,z,z*n),w=(E,O,z)=>oc(E,u,f,!0)?-1:Math.min(O,O*n,z,z*n),S=v(0,m,x),j=v(Dt,g,b),N=w(We,m,x),T=w(We+Dt,g,b);s=(S-N)/2,a=(j-T)/2,o=-(S+N)/2,c=-(j+T)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:c}}class ix extends ha{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:a,color:o,useBorderRadius:c,borderRadius:u}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((f,m)=>{const x=e.getDatasetMeta(0).controller.getStyle(m);return{text:f,fillStyle:x.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(m),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:a,pointStyle:s,borderRadius:c&&(u||x.borderRadius),index:m}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=f=>+s[f];if(Pe(s[e])){const{key:f="value"}=this._parsing;o=m=>+ra(s[m],f)}let c,u;for(c=e,u=e+n;c<u;++c)a._parsed[c]=o(c)}}_getRotation(){return ls(this.options.rotation-90)}_getCircumference(){return ls(this.options.circumference)}_getRotationExtents(){let e=ct,n=-ct;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+c)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-c)/2,0),f=Math.min(DC(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:g,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:w,offsetY:S}=y3(x,g,f),j=(s.width-c)/b,N=(s.height-c)/v,T=Math.max(Math.min(j,N)/2,0),E=dS(this.options.radius,T),O=Math.max(E*f,0),z=(E-O)/this._getVisibleDatasetWeightTotal();this.offsetX=w*E,this.offsetY=S*E,a.total=this.calculateTotal(),this.outerRadius=E-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/ct)}updateElements(e,n,s,a){const o=a==="reset",c=this.chart,u=c.chartArea,m=c.options.animation,g=(u.left+u.right)/2,x=(u.top+u.bottom)/2,b=o&&m.animateScale,v=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:S,includeOptions:j}=this._getSharedOptions(n,a);let N=this._getRotation(),T;for(T=0;T<n;++T)N+=this._circumference(T,o);for(T=n;T<n+s;++T){const E=this._circumference(T,o),O=e[T],z={x:g+this.offsetX,y:x+this.offsetY,startAngle:N,endAngle:N+E,circumference:E,outerRadius:w,innerRadius:v};j&&(z.options=S||this.resolveDataElementOptions(T,O.active?"active":a)),N+=E,this.updateElement(O,T,z,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ct*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=wc(n._parsed[e],s.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const s=this.chart;let a,o,c,u,f;if(!e){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){c=s.getDatasetMeta(a),e=c.data,u=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,a=e.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Ne(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class FS extends ha{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:a=[],_dataset:o}=n,c=this.chart._animationsDisabled;let{start:u,count:f}=bS(n,a,c);this._drawStart=u,this._drawCount=f,vS(n)&&(u=0,f=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=a;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:m},e),this.updateElements(a,u,f,e)}updateElements(e,n,s,a){const o=a==="reset",{iScale:c,vScale:u,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(n,a),b=c.axis,v=u.axis,{spanGaps:w,segment:S}=this.options,j=fo(w)?w:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||a==="none",T=n+s,E=e.length;let O=n>0&&this.getParsed(n-1);for(let z=0;z<E;++z){const D=e[z],A=N?D:{};if(z<n||z>=T){A.skip=!0;continue}const L=this.getParsed(z),V=Re(L[v]),X=A[b]=c.getPixelForValue(L[b],z),G=A[v]=o||V?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,L,f):L[v],z);A.skip=isNaN(X)||isNaN(G)||V,A.stop=z>0&&Math.abs(L[b]-O[b])>j,S&&(A.parsed=L,A.raw=m.data[z]),x&&(A.options=g||this.resolveDataElementOptions(z,D.active?"active":a)),N||this.updateElement(D,z,A,a),O=L}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class HS extends ha{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return n.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=wc(n._parsed[e].r,s.options.locale);return{label:a[e]||"",value:o}}parseObjectData(e,n,s,a){return TS.bind(this)(e,n,s,a)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,a)=>{const o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,a=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(a/2,0),c=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),u=(o-c)/e.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,n,s,a){const o=a==="reset",c=this.chart,f=c.options.animation,m=this._cachedMeta.rScale,g=m.xCenter,x=m.yCenter,b=m.getIndexAngle(0)-.5*We;let v=b,w;const S=360/this.countVisibleElements();for(w=0;w<n;++w)v+=this._computeAngle(w,a,S);for(w=n;w<n+s;w++){const j=e[w];let N=v,T=v+this._computeAngle(w,a,S),E=c.getDataVisibility(w)?m.getDistanceFromCenterForValue(this.getParsed(w).r):0;v=T,o&&(f.animateScale&&(E=0),f.animateRotate&&(N=T=b));const O={x:g,y:x,innerRadius:0,outerRadius:E,startAngle:N,endAngle:T,options:this.resolveDataElementOptions(w,j.active?"active":a)};this.updateElement(j,w,O,a)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?ls(this.resolveDataElementOptions(e,n).angle||s):0}}class b3 extends ix{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class US extends ha{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,a){return TS.bind(this)(e,n,s,a)}update(e){const n=this._cachedMeta,s=n.dataset,a=n.data||[],o=n.iScale.getLabels();if(s.points=a,e!=="resize"){const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===a.length,options:c};this.updateElement(s,void 0,u,e)}this.updateElements(a,0,a.length,e)}updateElements(e,n,s,a){const o=this._cachedMeta.rScale,c=a==="reset";for(let u=n;u<n+s;u++){const f=e[u],m=this.resolveDataElementOptions(u,f.active?"active":a),g=o.getPointPositionForValue(u,this.getParsed(u).r),x=c?o.xCenter:g.x,b=c?o.yCenter:g.y,v={x,y:b,angle:g.angle,skip:isNaN(x)||isNaN(b),options:m};this.updateElement(f,u,v,a)}}}class v3 extends ha{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:o}=n,c=this.getParsed(e),u=a.getLabelForValue(c.x),f=o.getLabelForValue(c.y);return{label:s[e]||"",value:"("+u+", "+f+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,a=this.chart._animationsDisabled;let{start:o,count:c}=bS(n,s,a);if(this._drawStart=o,this._drawCount=c,vS(n)&&(o=0,c=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:f}=n;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!f._decimated,u.points=s;const m=this.resolveDatasetElementOptions(e);m.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:m},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,o,c,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,a){const o=a==="reset",{iScale:c,vScale:u,_stacked:f,_dataset:m}=this._cachedMeta,g=this.resolveDataElementOptions(n,a),x=this.getSharedOptions(g),b=this.includeOptions(a,x),v=c.axis,w=u.axis,{spanGaps:S,segment:j}=this.options,N=fo(S)?S:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||a==="none";let E=n>0&&this.getParsed(n-1);for(let O=n;O<n+s;++O){const z=e[O],D=this.getParsed(O),A=T?z:{},L=Re(D[w]),V=A[v]=c.getPixelForValue(D[v],O),X=A[w]=o||L?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,D,f):D[w],O);A.skip=isNaN(V)||isNaN(X)||L,A.stop=O>0&&Math.abs(D[v]-E[v])>N,j&&(A.parsed=D,A.raw=m.data[O]),b&&(A.options=x||this.resolveDataElementOptions(O,z.active?"active":a)),T||this.updateElement(z,O,A,a),E=D}this.updateSharedOptions(x,a,g)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let u=0;for(let f=n.length-1;f>=0;--f)u=Math.max(u,n[f].size(this.resolveDataElementOptions(f))/2);return u>0&&u}const s=e.dataset,a=s.options&&s.options.borderWidth||0;if(!n.length)return a;const o=n[0].size(this.resolveDataElementOptions(0)),c=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,o,c)/2}}var _3=Object.freeze({__proto__:null,BarController:VS,BubbleController:x3,DoughnutController:ix,LineController:FS,PieController:b3,PolarAreaController:HS,RadarController:US,ScatterController:v3});function La(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ax{static override(e){Object.assign(ax.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return La()}parse(){return La()}format(){return La()}add(){return La()}diff(){return La()}startOf(){return La()}endOf(){return La()}}var YS={_date:ax};function w3(t,e,n,s){const{controller:a,data:o,_sorted:c}=t,u=a._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&o.length){const m=u._reversePixels?UC:ai;if(s){if(a._sharedOptions){const g=o[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const b=m(o,e,n-x),v=m(o,e,n+x);return{lo:b.lo,hi:v.hi}}}}else{const g=m(o,e,n);if(f){const{vScale:x}=a._cachedMeta,{_parsed:b}=t,v=b.slice(0,g.lo+1).reverse().findIndex(S=>!Re(S[x.axis]));g.lo-=Math.max(0,v);const w=b.slice(g.hi).findIndex(S=>!Re(S[x.axis]));g.hi+=Math.max(0,w)}return g}}return{lo:0,hi:o.length-1}}function hh(t,e,n,s,a){const o=t.getSortedVisibleDatasetMetas(),c=n[e];for(let u=0,f=o.length;u<f;++u){const{index:m,data:g}=o[u],{lo:x,hi:b}=w3(o[u],e,c,a);for(let v=x;v<=b;++v){const w=g[v];w.skip||s(w,m,v)}}}function S3(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,a){const o=e?Math.abs(s.x-a.x):0,c=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function dp(t,e,n,s,a){const o=[];return!a&&!t.isPointInArea(e)||hh(t,n,e,function(u,f,m){!a&&!ri(u,t.chartArea,0)||u.inRange(e.x,e.y,s)&&o.push({element:u,datasetIndex:f,index:m})},!0),o}function j3(t,e,n,s){let a=[];function o(c,u,f){const{startAngle:m,endAngle:g}=c.getProps(["startAngle","endAngle"],s),{angle:x}=mS(c,{x:e.x,y:e.y});oc(x,m,g)&&a.push({element:c,datasetIndex:u,index:f})}return hh(t,n,e,o),a}function N3(t,e,n,s,a,o){let c=[];const u=S3(n);let f=Number.POSITIVE_INFINITY;function m(g,x,b){const v=g.inRange(e.x,e.y,a);if(s&&!v)return;const w=g.getCenterPoint(a);if(!(!!o||t.isPointInArea(w))&&!v)return;const j=u(e,w);j<f?(c=[{element:g,datasetIndex:x,index:b}],f=j):j===f&&c.push({element:g,datasetIndex:x,index:b})}return hh(t,n,e,m),c}function hp(t,e,n,s,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!s?j3(t,e,n,a):N3(t,e,n,s,a,o)}function f_(t,e,n,s,a){const o=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return hh(t,n,e,(f,m,g)=>{f[c]&&f[c](e[n],a)&&(o.push({element:f,datasetIndex:m,index:g}),u=u||f.inRange(e.x,e.y,a))}),s&&!u?[]:o}var k3={modes:{index(t,e,n,s){const a=Ha(e,t),o=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?dp(t,a,o,s,c):hp(t,a,o,!1,s,c),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=u[0].index,x=m.data[g];x&&!x.skip&&f.push({element:x,datasetIndex:m.index,index:g})}),f):[]},dataset(t,e,n,s){const a=Ha(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?dp(t,a,o,s,c):hp(t,a,o,!1,s,c);if(u.length>0){const f=u[0].datasetIndex,m=t.getDatasetMeta(f).data;u=[];for(let g=0;g<m.length;++g)u.push({element:m[g],datasetIndex:f,index:g})}return u},point(t,e,n,s){const a=Ha(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return dp(t,a,o,s,c)},nearest(t,e,n,s){const a=Ha(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return hp(t,a,o,n.intersect,s,c)},x(t,e,n,s){const a=Ha(e,t);return f_(t,a,"x",n.intersect,s)},y(t,e,n,s){const a=Ha(e,t);return f_(t,a,"y",n.intersect,s)}}};const WS=["left","top","right","bottom"];function Ml(t,e){return t.filter(n=>n.pos===e)}function m_(t,e){return t.filter(n=>WS.indexOf(n.pos)===-1&&n.box.axis===e)}function Tl(t,e){return t.sort((n,s)=>{const a=e?s:n,o=e?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function M3(t){const e=[];let n,s,a,o,c,u;for(n=0,s=(t||[]).length;n<s;++n)a=t[n],{position:o,options:{stack:c,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:u});return e}function T3(t){const e={};for(const n of t){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!WS.includes(a))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function D3(t,e){const n=T3(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let o,c,u;for(o=0,c=t.length;o<c;++o){u=t[o];const{fullSize:f}=u.box,m=n[u.stack],g=m&&u.stackWeight/m.weight;u.horizontal?(u.width=g?g*s:f&&e.availableWidth,u.height=a):(u.width=s,u.height=g?g*a:f&&e.availableHeight)}return n}function C3(t){const e=M3(t),n=Tl(e.filter(m=>m.box.fullSize),!0),s=Tl(Ml(e,"left"),!0),a=Tl(Ml(e,"right")),o=Tl(Ml(e,"top"),!0),c=Tl(Ml(e,"bottom")),u=m_(e,"x"),f=m_(e,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(c).concat(u),chartArea:Ml(e,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(c).concat(u)}}function p_(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function qS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function A3(t,e,n,s){const{pos:a,box:o}=n,c=t.maxPadding;if(!Pe(a)){n.size&&(t[a]-=n.size);const x=s[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?o.height:o.width),n.size=x.size/x.count,t[a]+=n.size}o.getPadding&&qS(c,o.getPadding());const u=Math.max(0,e.outerWidth-p_(c,t,"left","right")),f=Math.max(0,e.outerHeight-p_(c,t,"top","bottom")),m=u!==t.w,g=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:m,other:g}:{same:g,other:m}}function E3(t){const e=t.maxPadding;function n(s){const a=Math.max(e[s]-t[s],0);return t[s]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function O3(t,e){const n=e.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],n[c])}),o}return s(t?["left","right"]:["top","bottom"])}function Fl(t,e,n,s){const a=[];let o,c,u,f,m,g;for(o=0,c=t.length,m=0;o<c;++o){u=t[o],f=u.box,f.update(u.width||e.w,u.height||e.h,O3(u.horizontal,e));const{same:x,other:b}=A3(e,n,u,s);m|=x&&a.length,g=g||b,f.fullSize||a.push(u)}return m&&Fl(a,e,n,s)||g}function ed(t,e,n,s,a){t.top=n,t.left=e,t.right=e+s,t.bottom=n+a,t.width=s,t.height=a}function g_(t,e,n,s){const a=n.padding;let{x:o,y:c}=e;for(const u of t){const f=u.box,m=s[u.stack]||{placed:0,weight:1},g=u.stackWeight/m.weight||1;if(u.horizontal){const x=e.w*g,b=m.size||f.height;rc(m.start)&&(c=m.start),f.fullSize?ed(f,a.left,c,n.outerWidth-a.right-a.left,b):ed(f,e.left+m.placed,c,x,b),m.start=c,m.placed+=x,c=f.bottom}else{const x=e.h*g,b=m.size||f.width;rc(m.start)&&(o=m.start),f.fullSize?ed(f,o,a.top,b,n.outerHeight-a.bottom-a.top):ed(f,o,e.top+m.placed,b,x),m.start=o,m.placed+=x,o=f.right}}e.x=o,e.y=c}var nn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const a=rn(t.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(n-a.height,0),u=C3(t.boxes),f=u.vertical,m=u.horizontal;Qe(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const g=f.reduce((S,j)=>j.box.options&&j.box.options.display===!1?S:S+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/g,hBoxMaxHeight:c/2}),b=Object.assign({},a);qS(b,rn(s));const v=Object.assign({maxPadding:b,w:o,h:c,x:a.left,y:a.top},a),w=D3(f.concat(m),x);Fl(u.fullSize,v,x,w),Fl(f,v,x,w),Fl(m,v,x,w)&&Fl(f,v,x,w),E3(v),g_(u.leftAndTop,v,x,w),v.x+=v.w,v.y+=v.h,g_(u.rightAndBottom,v,x,w),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Qe(u.chartArea,S=>{const j=S.box;Object.assign(j,t.chartArea),j.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class IS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,a){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(e){return!0}updateConfig(e){}}class R3 extends IS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xd="$chartjs",L3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},x_=t=>t===null||t==="";function z3(t,e){const n=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[xd]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",x_(a)){const o=e_(t,"width");o!==void 0&&(t.width=o)}if(x_(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=e_(t,"height");o!==void 0&&(t.height=o)}return t}const GS=LA?{passive:!0}:!1;function P3(t,e,n){t&&t.addEventListener(e,n,GS)}function B3(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,GS)}function V3(t,e){const n=L3[t.type]||t.type,{x:s,y:a}=Ha(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Vd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function F3(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Vd(u.addedNodes,s),c=c&&!Vd(u.removedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function H3(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Vd(u.removedNodes,s),c=c&&!Vd(u.addedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const cc=new Map;let y_=0;function $S(){const t=window.devicePixelRatio;t!==y_&&(y_=t,cc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function U3(t,e){cc.size||window.addEventListener("resize",$S),cc.set(t,e)}function Y3(t){cc.delete(t),cc.size||window.removeEventListener("resize",$S)}function W3(t,e,n){const s=t.canvas,a=s&&sx(s);if(!a)return;const o=yS((u,f)=>{const m=a.clientWidth;n(u,f),m<a.clientWidth&&n()},window),c=new ResizeObserver(u=>{const f=u[0],m=f.contentRect.width,g=f.contentRect.height;m===0&&g===0||o(m,g)});return c.observe(a),U3(t,o),c}function fp(t,e,n){n&&n.disconnect(),e==="resize"&&Y3(t)}function q3(t,e,n){const s=t.canvas,a=yS(o=>{t.ctx!==null&&n(V3(o,t))},t);return P3(s,e,a),a}class I3 extends IS{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(z3(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[xd])return!1;const s=n[xd].initial;["height","width"].forEach(o=>{const c=s[o];Re(c)?n.removeAttribute(o):n.setAttribute(o,c)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[xd],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),c={attach:F3,detach:H3,resize:W3}[n]||q3;a[n]=c(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),a=s[n];if(!a)return;({attach:fp,detach:fp,resize:fp}[n]||B3)(e,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,a){return RA(e,n,s,a)}isAttached(e){const n=e&&sx(e);return!!(n&&n.isConnected)}}function G3(t){return!nx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?R3:I3}let pi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return fo(this.x)&&fo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const a={};return e.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}};function $3(t,e){const n=t.options.ticks,s=X3(t),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?Z3(e):[],c=o.length,u=o[0],f=o[c-1],m=[];if(c>a)return Q3(e,m,o,c/a),m;const g=K3(o,e,a);if(c>0){let x,b;const v=c>1?Math.round((f-u)/(c-1)):null;for(td(e,m,g,Re(v)?0:u-v,u),x=0,b=c-1;x<b;x++)td(e,m,g,o[x],o[x+1]);return td(e,m,g,f,Re(v)?e.length:f+v),m}return td(e,m,g),m}function X3(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(s,a))}function K3(t,e,n){const s=J3(t),a=e.length/n;if(!s)return Math.max(a,1);const o=PC(s);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function Z3(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Q3(t,e,n,s){let a=0,o=n[0],c;for(s=Math.ceil(s),c=0;c<t.length;c++)c===o&&(e.push(t[c]),a++,o=n[a*s])}function td(t,e,n,s,a){const o=Ne(s,0),c=Math.min(Ne(a,t.length),t.length);let u=0,f,m,g;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),g=o;g<0;)u++,g=Math.round(o+u*n);for(m=Math.max(o,0);m<c;m++)m===g&&(e.push(t[m]),u++,g=Math.round(o+u*n))}function J3(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const e4=t=>t==="left"?"right":t==="right"?"left":t,b_=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,v_=(t,e)=>Math.min(e||t,t);function __(t,e){const n=[],s=t.length/e,a=t.length;let o=0;for(;o<a;o+=s)n.push(t[Math.floor(o)]);return n}function t4(t,e,n){const s=t.ticks.length,a=Math.min(e,s-1),o=t._startPixel,c=t._endPixel,u=1e-6;let f=t.getPixelForTick(a),m;if(!(n&&(s===1?m=Math.max(f-o,c-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(a-1))/2,f+=a<e?m:-m,f<o-u||f>c+u)))return f}function n4(t,e){Qe(t,n=>{const s=n.gc,a=s.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function Dl(t){return t.drawTicks?t.tickLength:0}function w_(t,e){if(!t.display)return 0;const n=Pt(t.font,e),s=rn(t.padding);return(pt(t.text)?t.text.length:1)*n.lineHeight+s.height}function s4(t,e){return da(t,{scale:e,type:"scale"})}function i4(t,e,n){return da(t,{tick:n,index:e,type:"tick"})}function a4(t,e,n){let s=Kg(t);return(n&&e!=="right"||!n&&e==="right")&&(s=e4(s)),s}function r4(t,e,n,s){const{top:a,left:o,bottom:c,right:u,chart:f}=t,{chartArea:m,scales:g}=f;let x=0,b,v,w;const S=c-a,j=u-o;if(t.isHorizontal()){if(v=Jt(s,o,u),Pe(n)){const N=Object.keys(n)[0],T=n[N];w=g[N].getPixelForValue(T)+S-e}else n==="center"?w=(m.bottom+m.top)/2+S-e:w=b_(t,n,e);b=u-o}else{if(Pe(n)){const N=Object.keys(n)[0],T=n[N];v=g[N].getPixelForValue(T)-j+e}else n==="center"?v=(m.left+m.right)/2-j+e:v=b_(t,n,e);w=Jt(s,c,a),x=n==="left"?-Dt:Dt}return{titleX:v,titleY:w,maxWidth:b,rotation:x}}class tr extends pi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return e=An(e,Number.POSITIVE_INFINITY),n=An(n,Number.NEGATIVE_INFINITY),s=An(s,Number.POSITIVE_INFINITY),a=An(a,Number.NEGATIVE_INFINITY),{min:An(e,s),max:An(n,a),minDefined:St(e),maxDefined:St(n)}}getMinMax(e){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:n,max:s};const u=this.getMatchingVisibleMetas();for(let f=0,m=u.length;f<m;++f)c=u[f].controller.getMinMax(this,e),a||(n=Math.min(n,c.min)),o||(s=Math.max(s,c.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:An(n,An(s,n)),max:An(s,An(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:a,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hA(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?__(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=$3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),at(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s],o.label=at(n.callback,[o.value,s,e],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=v_(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let c=a,u,f,m;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),x=g.widest.width,b=g.highest.height,v=Ht(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/s:v/(s-1),x+6>u&&(u=v/(s-(e.offset?.5:1)),f=this.maxHeight-Dl(e.grid)-n.padding-w_(e.title,this.chart.options.font),m=Math.sqrt(x*x+b*b),c=$g(Math.min(Math.asin(Ht((g.highest.height+6)/u,-1,1)),Math.asin(Ht(f/m,-1,1))-Math.asin(Ht(b/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=w_(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=Dl(o)+f):(e.height=this.maxHeight,e.width=Dl(o)+f),s.display&&this.ticks.length){const{first:m,last:g,widest:x,highest:b}=this._getLabelSizes(),v=s.padding*2,w=ls(this.labelRotation),S=Math.cos(w),j=Math.sin(w);if(u){const N=s.mirror?0:j*x.width+S*b.height;e.height=Math.min(this.maxHeight,e.height+N+v)}else{const N=s.mirror?0:S*x.width+j*b.height;e.width=Math.min(this.maxWidth,e.width+N+v)}this._calculatePadding(m,g,j,S)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,a){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,v=0;f?m?(b=a*e.width,v=s*n.height):(b=s*e.height,v=a*n.width):o==="start"?v=n.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,v=n.width/2),this.paddingLeft=Math.max((b-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((v-x+c)*this.width/(this.width-x),0)}else{let g=n.height/2,x=e.height/2;o==="start"?(g=0,x=e.height):o==="end"&&(g=n.height,x=0),this.paddingTop=g+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Re(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=__(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:a,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(n/v_(n,s));let m=0,g=0,x,b,v,w,S,j,N,T,E,O,z;for(x=0;x<n;x+=f){if(w=e[x].label,S=this._resolveTickFontOptions(x),a.font=j=S.string,N=o[j]=o[j]||{data:{},gc:[]},T=S.lineHeight,E=O=0,!Re(w)&&!pt(w))E=Pd(a,N.data,N.gc,E,w),O=T;else if(pt(w))for(b=0,v=w.length;b<v;++b)z=w[b],!Re(z)&&!pt(z)&&(E=Pd(a,N.data,N.gc,E,z),O+=T);c.push(E),u.push(O),m=Math.max(E,m),g=Math.max(O,g)}n4(o,n);const D=c.indexOf(m),A=u.indexOf(g),L=V=>({width:c[V]||0,height:u[V]||0});return{first:L(0),last:L(n-1),widest:L(D),highest:L(A),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return HC(this._alignToPixels?Ra(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=i4(this.getContext(),e,s))}return this.$context||(this.$context=s4(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ls(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*s>u*a?u/s:f/a:f*a<u*s?f/s:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:c,border:u}=a,f=o.offset,m=this.isHorizontal(),x=this.ticks.length+(f?1:0),b=Dl(o),v=[],w=u.setContext(this.getContext()),S=w.display?w.width:0,j=S/2,N=function(F){return Ra(s,F,S)};let T,E,O,z,D,A,L,V,X,G,ne,pe;if(c==="top")T=N(this.bottom),A=this.bottom-b,V=T-j,G=N(e.top)+j,pe=e.bottom;else if(c==="bottom")T=N(this.top),G=e.top,pe=N(e.bottom)-j,A=T+j,V=this.top+b;else if(c==="left")T=N(this.right),D=this.right-b,L=T-j,X=N(e.left)+j,ne=e.right;else if(c==="right")T=N(this.left),X=e.left,ne=N(e.right)-j,D=T+j,L=this.left+b;else if(n==="x"){if(c==="center")T=N((e.top+e.bottom)/2+.5);else if(Pe(c)){const F=Object.keys(c)[0],$=c[F];T=N(this.chart.scales[F].getPixelForValue($))}G=e.top,pe=e.bottom,A=T+j,V=A+b}else if(n==="y"){if(c==="center")T=N((e.left+e.right)/2);else if(Pe(c)){const F=Object.keys(c)[0],$=c[F];T=N(this.chart.scales[F].getPixelForValue($))}D=T-j,L=D-b,X=e.left,ne=e.right}const re=Ne(a.ticks.maxTicksLimit,x),le=Math.max(1,Math.ceil(x/re));for(E=0;E<x;E+=le){const F=this.getContext(E),$=o.setContext(F),ie=u.setContext(F),te=$.lineWidth,oe=$.color,R=ie.dash||[],U=ie.dashOffset,J=$.tickWidth,C=$.tickColor,ee=$.tickBorderDash||[],ce=$.tickBorderDashOffset;O=t4(this,E,f),O!==void 0&&(z=Ra(s,O,te),m?D=L=X=ne=z:A=V=G=pe=z,v.push({tx1:D,ty1:A,tx2:L,ty2:V,x1:X,y1:G,x2:ne,y2:pe,width:te,color:oe,borderDash:R,borderDashOffset:U,tickWidth:J,tickColor:C,tickBorderDash:ee,tickBorderDashOffset:ce}))}return this._ticksLength=x,this._borderValue=T,v}_computeLabelItems(e){const n=this.axis,s=this.options,{position:a,ticks:o}=s,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:m,padding:g,mirror:x}=o,b=Dl(s.grid),v=b+g,w=x?-g:v,S=-ls(this.labelRotation),j=[];let N,T,E,O,z,D,A,L,V,X,G,ne,pe="middle";if(a==="top")D=this.bottom-w,A=this._getXAxisLabelAlignment();else if(a==="bottom")D=this.top+w,A=this._getXAxisLabelAlignment();else if(a==="left"){const le=this._getYAxisLabelAlignment(b);A=le.textAlign,z=le.x}else if(a==="right"){const le=this._getYAxisLabelAlignment(b);A=le.textAlign,z=le.x}else if(n==="x"){if(a==="center")D=(e.top+e.bottom)/2+v;else if(Pe(a)){const le=Object.keys(a)[0],F=a[le];D=this.chart.scales[le].getPixelForValue(F)+v}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")z=(e.left+e.right)/2-v;else if(Pe(a)){const le=Object.keys(a)[0],F=a[le];z=this.chart.scales[le].getPixelForValue(F)}A=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?pe="top":f==="end"&&(pe="bottom"));const re=this._getLabelSizes();for(N=0,T=u.length;N<T;++N){E=u[N],O=E.label;const le=o.setContext(this.getContext(N));L=this.getPixelForTick(N)+o.labelOffset,V=this._resolveTickFontOptions(N),X=V.lineHeight,G=pt(O)?O.length:1;const F=G/2,$=le.color,ie=le.textStrokeColor,te=le.textStrokeWidth;let oe=A;c?(z=L,A==="inner"&&(N===T-1?oe=this.options.reverse?"left":"right":N===0?oe=this.options.reverse?"right":"left":oe="center"),a==="top"?m==="near"||S!==0?ne=-G*X+X/2:m==="center"?ne=-re.highest.height/2-F*X+X:ne=-re.highest.height+X/2:m==="near"||S!==0?ne=X/2:m==="center"?ne=re.highest.height/2-F*X:ne=re.highest.height-G*X,x&&(ne*=-1),S!==0&&!le.showLabelBackdrop&&(z+=X/2*Math.sin(S))):(D=L,ne=(1-G)*X/2);let R;if(le.showLabelBackdrop){const U=rn(le.backdropPadding),J=re.heights[N],C=re.widths[N];let ee=ne-U.top,ce=0-U.left;switch(pe){case"middle":ee-=J/2;break;case"bottom":ee-=J;break}switch(A){case"center":ce-=C/2;break;case"right":ce-=C;break;case"inner":N===T-1?ce-=C:N>0&&(ce-=C/2);break}R={left:ce,top:ee,width:C+U.width,height:J+U.height,color:le.backdropColor}}j.push({label:O,font:V,textOffset:ne,options:{rotation:S,color:$,strokeColor:ie,strokeWidth:te,textAlign:oe,textBaseline:pe,translation:[z,D],backdrop:R}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ls(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),u=e+o,f=c.widest.width;let m,g;return n==="left"?a?(g=this.right+o,s==="near"?m="left":s==="center"?(m="center",g+=f/2):(m="right",g+=f)):(g=this.right-u,s==="near"?m="right":s==="center"?(m="center",g-=f/2):(m="left",g=this.left)):n==="right"?a?(g=this.left+o,s==="near"?m="right":s==="center"?(m="center",g-=f/2):(m="left",g-=f)):(g=this.left+u,s==="near"?m="left":s==="center"?(m="center",g+=f/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:a,width:o,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,a,o,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const u=(f,m,g)=>{!g.width||!g.color||(s.save(),s.lineWidth=g.width,s.strokeStyle=g.color,s.setLineDash(g.borderDash||[]),s.lineDashOffset=g.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(m.x,m.y),s.stroke(),s.restore())};if(n.display)for(o=0,c=a.length;o<c;++o){const f=a[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const u=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,g,x,b;this.isHorizontal()?(m=Ra(e,this.left,c)-c/2,g=Ra(e,this.right,u)+u/2,x=b=f):(x=Ra(e,this.top,c)-c/2,b=Ra(e,this.bottom,u)+u/2,m=g=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,x),n.lineTo(g,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&ch(s,a);const o=this.getLabelItems(e);for(const c of o){const u=c.options,f=c.font,m=c.label,g=c.textOffset;Qa(s,m,0,g,f,u)}a&&uh(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=Pt(s.font),c=rn(s.padding),u=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Pe(n)?(f+=c.bottom,pt(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=c.top;const{titleX:m,titleY:g,maxWidth:x,rotation:b}=r4(this,f,n,u);Qa(e,s.text,0,0,o,{color:s.color,maxWidth:x,rotation:b,textAlign:a4(u,n,a),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Ne(e.grid&&e.grid.z,-1),a=Ne(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==tr.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,c;for(o=0,c=n.length;o<c;++o){const u=n[o];u[s]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Pt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nd{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;c4(n)&&(s=this.register(n));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,o4(e,c,s),this.override&&gt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,a=this.scope;s in n&&delete n[s],a&&s in gt[a]&&(delete gt[a][s],this.override&&delete Za[s])}}function o4(t,e,n){const s=ac(Object.create(null),[n?gt.get(n):{},gt.get(e),t.defaults]);gt.set(e,s),t.defaultRoutes&&l4(e,t.defaultRoutes),t.descriptors&&gt.describe(e,t.descriptors)}function l4(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),a=s.pop(),o=[t].concat(s).join("."),c=e[n].split("."),u=c.pop(),f=c.join(".");gt.route(o,a,f,u)})}function c4(t){return"id"in t&&"defaults"in t}class u4{constructor(){this.controllers=new nd(ha,"datasets",!0),this.elements=new nd(pi,"elements"),this.plugins=new nd(Object,"plugins"),this.scales=new nd(tr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):Qe(a,c=>{const u=s||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,n,s){const a=Gg(e);at(s["before"+a],[],s),n[e](s),at(s["after"+a],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var _s=new u4;class d4{constructor(){this._init=void 0}notify(e,n,s,a){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,n,s);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,n,s,a){a=a||{};for(const o of e){const c=o.plugin,u=c[s],f=[n,a,o.options];if(at(u,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){Re(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,a=Ne(s.options&&s.options.plugins,{}),o=h4(s);return a===!1&&!n?[]:m4(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,a=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(a(n,s),e,"stop"),this._notify(a(s,n),e,"start")}}function h4(t){const e={},n=[],s=Object.keys(_s.plugins.items);for(let o=0;o<s.length;o++)n.push(_s.getPlugin(s[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function f4(t,e){return!e&&t===!1?null:t===!0?{}:t}function m4(t,{plugins:e,localIds:n},s,a){const o=[],c=t.getContext();for(const u of e){const f=u.id,m=f4(s[f],a);m!==null&&o.push({plugin:u,options:p4(t.config,{plugin:u,local:n[f]},m,c)})}return o}function p4(t,{plugin:e,local:n},s,a){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(s,o);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tg(t,e){const n=gt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function g4(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function x4(t,e){return t===e?"_index_":"_value_"}function S_(t){if(t==="x"||t==="y"||t==="r")return t}function y4(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ng(t,...e){if(S_(t))return t;for(const n of e){const s=n.axis||y4(n.position)||t.length>1&&S_(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function j_(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function b4(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return j_(t,"x",n[0])||j_(t,"y",n[0])}return{}}function v4(t,e){const n=Za[t.type]||{scales:{}},s=e.scales||{},a=tg(t.type,e),o=Object.create(null);return Object.keys(s).forEach(c=>{const u=s[c];if(!Pe(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=ng(c,u,b4(c,t),gt.scales[u.type]),m=x4(f,a),g=n.scales||{};o[c]=Il(Object.create(null),[{axis:f},u,g[f],g[m]])}),t.data.datasets.forEach(c=>{const u=c.type||t.type,f=c.indexAxis||tg(u,e),g=(Za[u]||{}).scales||{};Object.keys(g).forEach(x=>{const b=g4(x,f),v=c[b+"AxisID"]||b;o[v]=o[v]||Object.create(null),Il(o[v],[{axis:b},s[v],g[x]])})}),Object.keys(o).forEach(c=>{const u=o[c];Il(u,[gt.scales[u.type],gt.scale])}),o}function XS(t){const e=t.options||(t.options={});e.plugins=Ne(e.plugins,{}),e.scales=v4(t,e)}function KS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function _4(t){return t=t||{},t.data=KS(t.data),XS(t),t}const N_=new Map,ZS=new Set;function sd(t,e){let n=N_.get(t);return n||(n=e(),N_.set(t,n),ZS.add(n)),n}const Cl=(t,e,n)=>{const s=ra(e,n);s!==void 0&&t.add(s)};class w4{constructor(e){this._config=_4(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=KS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),XS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return sd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return sd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return sd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return sd(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let a=s.get(e);return(!a||n)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,n,s){const{options:a,type:o}=this,c=this._cachedScopes(e,s),u=c.get(n);if(u)return u;const f=new Set;n.forEach(g=>{e&&(f.add(e),g.forEach(x=>Cl(f,e,x))),g.forEach(x=>Cl(f,a,x)),g.forEach(x=>Cl(f,Za[o]||{},x)),g.forEach(x=>Cl(f,gt,x)),g.forEach(x=>Cl(f,Jp,x))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),ZS.has(n)&&c.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,Za[n]||{},gt.datasets[n]||{},{type:n},gt,Jp]}resolveNamedOptions(e,n,s,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=k_(this._resolverCache,e,a);let f=c;if(j4(c,n)){o.$shared=!1,s=oa(s)?s():s;const m=this.createResolver(e,s,u);f=mo(c,s,m)}for(const m of n)o[m]=f[m];return o}createResolver(e,n,s=[""],a){const{resolver:o}=k_(this._resolverCache,e,s);return Pe(n)?mo(o,n,void 0,a):o}}function k_(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const a=n.join();let o=s.get(a);return o||(o={resolver:Jg(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},s.set(a,o)),o}const S4=t=>Pe(t)&&Object.getOwnPropertyNames(t).some(e=>oa(t[e]));function j4(t,e){const{isScriptable:n,isIndexable:s}=jS(t);for(const a of e){const o=n(a),c=s(a),u=(c||o)&&t[a];if(o&&(oa(u)||S4(u))||c&&pt(u))return!0}return!1}var N4="4.5.1";const k4=["top","bottom","left","right","chartArea"];function M_(t,e){return t==="top"||t==="bottom"||k4.indexOf(t)===-1&&e==="x"}function T_(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function D_(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),at(n&&n.onComplete,[t],e)}function M4(t){const e=t.chart,n=e.options.animation;at(n&&n.onProgress,[t],e)}function QS(t){return nx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const yd={},C_=t=>{const e=QS(t);return Object.values(yd).filter(n=>n.canvas===e).pop()};function T4(t,e,n){const s=Object.keys(t);for(const a of s){const o=+a;if(o>=e){const c=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=c)}}}function D4(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}let hs=class{static defaults=gt;static instances=yd;static overrides=Za;static registry=_s;static version=N4;static getChart=C_;static register(...e){_s.add(...e),A_()}static unregister(...e){_s.remove(...e),A_()}constructor(e,n){const s=this.config=new w4(n),a=QS(e),o=C_(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||G3(a)),this.platform.updateConfig(s);const u=this.platform.acquireContext(a,c.aspectRatio),f=u&&u.canvas,m=f&&f.height,g=f&&f.width;if(this.id=TC(),this.ctx=u,this.canvas=f,this.width=g,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new d4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qC(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],yd[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ei.listen(this,"complete",D_),ei.listen(this,"progress",M4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return Re(e)?n&&o?o:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _s}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():J1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return K1(this.canvas,this.ctx),this}stop(){return ei.stop(this),this}resize(e,n){ei.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,n,o),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,J1(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),at(s.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Qe(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,a=Object.keys(s).reduce((c,u)=>(c[u]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const u=n[c],f=ng(c,u),m=f==="r",g=f==="x";return{options:u,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),Qe(o,c=>{const u=c.options,f=u.id,m=ng(f,u),g=Ne(u.type,c.dtype);(u.position===void 0||M_(u.position,m)!==M_(c.dposition))&&(u.position=c.dposition),a[f]=!0;let x=null;if(f in s&&s[f].type===g)x=s[f];else{const b=_s.getScale(g);x=new b({id:f,type:g,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(u,e)}),Qe(a,(c,u)=>{c||delete s[u]}),Qe(s,c=>{nn.configure(this,c,c.options),nn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(T_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let c=this.getDatasetMeta(s);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=u,c.indexAxis=o.indexAxis||tg(u,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const f=_s.getController(u),{datasetElementType:m,dataElementType:g}=gt.datasets[u];Object.assign(f,{dataElementType:_s.getElement(g),datasetElementType:m&&_s.getElement(m)}),c.controller=new f(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Qe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:x}=this.getDatasetMeta(m),b=!a&&o.indexOf(x)===-1;x.buildOrUpdateElements(b),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),a||Qe(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(T_("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Qe(this.scales,e=>{nn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!H1(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const c=s==="_removeElements"?-o:o;T4(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(e.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!H1(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;nn.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Qe(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,oa(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ei.has(this)?this.attached&&!ei.running(this)&&ei.start(this):(this.draw(),D_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=LS(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&ch(n,a),e.controller.draw(),a&&uh(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ri(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,a){const o=k3.modes[n];return typeof o=="function"?o(this,e,s,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=da(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);rc(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(o,{visible:s}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ei.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),K1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete yd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(o,c)=>{n.addEventListener(this,o,c),e[o]=c},a=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};Qe(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(f,m)=>{n.addEventListener(this,f,m),e[f]=m},a=(f,m)=>{e[f]&&(n.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){Qe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Qe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const a=s?"set":"remove";let o,c,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!Rd(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const a=this.options.hover,o=(f,m)=>f.filter(g=>!m.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),c=o(n,e),u=s?e:o(e,n);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:a=[],options:o}=this,c=n,u=this._getActiveElements(e,a,s,c),f=RC(e),m=D4(e,this._lastEvent,s,f);s&&(this._lastEvent=null,at(o.onHover,[e,u,this],this),f&&at(o.onClick,[e,u,this],this));const g=!Rd(u,a);return(g||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=m,g}_getActiveElements(e,n,s,a){if(e.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function A_(){return Qe(hs.instances,t=>t._plugins.invalidate())}function C4(t,e,n){const{startAngle:s,x:a,y:o,outerRadius:c,innerRadius:u,options:f}=e,{borderWidth:m,borderJoinStyle:g}=f,x=Math.min(m/c,tn(s-n));if(t.beginPath(),t.arc(a,o,c-m/2,s+x/2,n-x/2),u>0){const b=Math.min(m/u,tn(s-n));t.arc(a,o,u+m/2,n-b/2,s+b/2,!0)}else{const b=Math.min(m/2,c*tn(s-n));if(g==="round")t.arc(a,o,b,n-We/2,s+We/2,!0);else if(g==="bevel"){const v=2*b*b,w=-v*Math.cos(n+We/2)+a,S=-v*Math.sin(n+We/2)+o,j=v*Math.cos(s+We/2)+a,N=v*Math.sin(s+We/2)+o;t.lineTo(w,S),t.lineTo(j,N)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function A4(t,e,n){const{startAngle:s,pixelMargin:a,x:o,y:c,outerRadius:u,innerRadius:f}=e;let m=a/u;t.beginPath(),t.arc(o,c,u,s-m,n+m),f>a?(m=a/f,t.arc(o,c,f,n+m,s-m,!0)):t.arc(o,c,a,n+Dt,s-Dt),t.closePath(),t.clip()}function E4(t){return Qg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function O4(t,e,n,s){const a=E4(t.options.borderRadius),o=(n-e)/2,c=Math.min(o,s*e/2),u=f=>{const m=(n-Math.min(o,f))*s/2;return Ht(f,0,Math.min(o,m))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Ht(a.innerStart,0,c),innerEnd:Ht(a.innerEnd,0,c)}}function $r(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Fd(t,e,n,s,a,o){const{x:c,y:u,startAngle:f,pixelMargin:m,innerRadius:g}=e,x=Math.max(e.outerRadius+s+n-m,0),b=g>0?g+s+n+m:0;let v=0;const w=a-f;if(s){const le=g>0?g-s:0,F=x>0?x-s:0,$=(le+F)/2,ie=$!==0?w*$/($+s):w;v=(w-ie)/2}const S=Math.max(.001,w*x-n/We)/x,j=(w-S)/2,N=f+j+v,T=a-j-v,{outerStart:E,outerEnd:O,innerStart:z,innerEnd:D}=O4(e,b,x,T-N),A=x-E,L=x-O,V=N+E/A,X=T-O/L,G=b+z,ne=b+D,pe=N+z/G,re=T-D/ne;if(t.beginPath(),o){const le=(V+X)/2;if(t.arc(c,u,x,V,le),t.arc(c,u,x,le,X),O>0){const te=$r(L,X,c,u);t.arc(te.x,te.y,O,X,T+Dt)}const F=$r(ne,T,c,u);if(t.lineTo(F.x,F.y),D>0){const te=$r(ne,re,c,u);t.arc(te.x,te.y,D,T+Dt,re+Math.PI)}const $=(T-D/b+(N+z/b))/2;if(t.arc(c,u,b,T-D/b,$,!0),t.arc(c,u,b,$,N+z/b,!0),z>0){const te=$r(G,pe,c,u);t.arc(te.x,te.y,z,pe+Math.PI,N-Dt)}const ie=$r(A,N,c,u);if(t.lineTo(ie.x,ie.y),E>0){const te=$r(A,V,c,u);t.arc(te.x,te.y,E,N-Dt,V)}}else{t.moveTo(c,u);const le=Math.cos(V)*x+c,F=Math.sin(V)*x+u;t.lineTo(le,F);const $=Math.cos(X)*x+c,ie=Math.sin(X)*x+u;t.lineTo($,ie)}t.closePath()}function R4(t,e,n,s,a){const{fullCircles:o,startAngle:c,circumference:u}=e;let f=e.endAngle;if(o){Fd(t,e,n,s,f,a);for(let m=0;m<o;++m)t.fill();isNaN(u)||(f=c+(u%ct||ct))}return Fd(t,e,n,s,f,a),t.fill(),f}function L4(t,e,n,s,a){const{fullCircles:o,startAngle:c,circumference:u,options:f}=e,{borderWidth:m,borderJoinStyle:g,borderDash:x,borderDashOffset:b,borderRadius:v}=f,w=f.borderAlign==="inner";if(!m)return;t.setLineDash(x||[]),t.lineDashOffset=b,w?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let S=e.endAngle;if(o){Fd(t,e,n,s,S,a);for(let j=0;j<o;++j)t.stroke();isNaN(u)||(S=c+(u%ct||ct))}w&&A4(t,e,S),f.selfJoin&&S-c>=We&&v===0&&g!=="miter"&&C4(t,e,S),o||(Fd(t,e,n,s,S,a),t.stroke())}class z4 extends pi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const a=this.getProps(["x","y"],s),{angle:o,distance:c}=mS(a,{x:e,y:n}),{startAngle:u,endAngle:f,innerRadius:m,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),b=(this.options.spacing+this.options.borderWidth)/2,v=Ne(x,f-u),w=oc(o,u,f)&&u!==f,S=v>=ct||w,j=ii(c,m+b,g+b);return S&&j}getCenterPoint(e){const{x:n,y:s,startAngle:a,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:m}=this.options,g=(a+o)/2,x=(c+u+m+f)/2;return{x:n+Math.cos(g)*x,y:s+Math.sin(g)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>ct?Math.floor(s/ct):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const f=1-Math.sin(Math.min(We,s||0)),m=a*f;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,R4(e,this,m,o,c),L4(e,this,m,o,c),e.restore()}}function JS(t,e,n=e){t.lineCap=Ne(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ne(n.borderDash,e.borderDash)),t.lineDashOffset=Ne(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ne(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ne(n.borderWidth,e.borderWidth),t.strokeStyle=Ne(n.borderColor,e.borderColor)}function P4(t,e,n){t.lineTo(n.x,n.y)}function B4(t){return t.stepped?sA:t.tension||t.cubicInterpolationMode==="monotone"?iA:P4}function ej(t,e,n={}){const s=t.length,{start:a=0,end:o=s-1}=n,{start:c,end:u}=e,f=Math.max(a,c),m=Math.min(o,u),g=a<c&&o<c||a>u&&o>u;return{count:s,start:f,loop:e.loop,ilen:m<f&&!g?s+m-f:m-f}}function V4(t,e,n,s){const{points:a,options:o}=e,{count:c,start:u,loop:f,ilen:m}=ej(a,n,s),g=B4(o);let{move:x=!0,reverse:b}=s||{},v,w,S;for(v=0;v<=m;++v)w=a[(u+(b?m-v:v))%c],!w.skip&&(x?(t.moveTo(w.x,w.y),x=!1):g(t,S,w,b,o.stepped),S=w);return f&&(w=a[(u+(b?m:0))%c],g(t,S,w,b,o.stepped)),!!f}function F4(t,e,n,s){const a=e.points,{count:o,start:c,ilen:u}=ej(a,n,s),{move:f=!0,reverse:m}=s||{};let g=0,x=0,b,v,w,S,j,N;const T=O=>(c+(m?u-O:O))%o,E=()=>{S!==j&&(t.lineTo(g,j),t.lineTo(g,S),t.lineTo(g,N))};for(f&&(v=a[T(0)],t.moveTo(v.x,v.y)),b=0;b<=u;++b){if(v=a[T(b)],v.skip)continue;const O=v.x,z=v.y,D=O|0;D===w?(z<S?S=z:z>j&&(j=z),g=(x*g+O)/++x):(E(),t.lineTo(O,z),w=D,x=0,S=j=z),N=z}E()}function sg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?F4:V4}function H4(t){return t.stepped?zA:t.tension||t.cubicInterpolationMode==="monotone"?PA:Ua}function U4(t,e,n,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,n,s)&&a.closePath()),JS(t,e.options),t.stroke(a)}function Y4(t,e,n,s){const{segments:a,options:o}=e,c=sg(e);for(const u of a)JS(t,o,u.style),t.beginPath(),c(t,e,u,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const W4=typeof Path2D=="function";function q4(t,e,n,s){W4&&!e.options.segment?U4(t,e,n,s):Y4(t,e,n,s)}class gi extends pi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;TA(this._points,s,e,a,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=YA(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,a=e[n],o=this.points,c=RS(this,{property:n,start:a,end:a});if(!c.length)return;const u=[],f=H4(s);let m,g;for(m=0,g=c.length;m<g;++m){const{start:x,end:b}=c[m],v=o[x],w=o[b];if(v===w){u.push(v);continue}const S=Math.abs((a-v[n])/(w[n]-v[n])),j=f(v,w,S,s.stepped);j[n]=e[n],u.push(j)}return u.length===1?u[0]:u}pathSegment(e,n,s){return sg(this)(e,this,n,s)}path(e,n,s){const a=this.segments,o=sg(this);let c=this._loop;n=n||0,s=s||this.points.length-n;for(const u of a)c&=o(e,this,u,{start:n,end:n+s-1});return!!c}draw(e,n,s,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),q4(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function E_(t,e,n,s){const a=t.options,{[n]:o}=t.getProps([n],s);return Math.abs(e-o)<a.radius+a.hitRadius}class _o extends pi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(n-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,n){return E_(this,e,"x",n)}inYRange(e,n){return E_(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!ri(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,eg(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function tj(t,e){const{x:n,y:s,base:a,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let u,f,m,g,x;return t.horizontal?(x=c/2,u=Math.min(n,a),f=Math.max(n,a),m=s-x,g=s+x):(x=o/2,u=n-x,f=n+x,m=Math.min(s,a),g=Math.max(s,a)),{left:u,top:m,right:f,bottom:g}}function Ji(t,e,n,s){return t?0:Ht(e,n,s)}function I4(t,e,n){const s=t.options.borderWidth,a=t.borderSkipped,o=SS(s);return{t:Ji(a.top,o.top,0,n),r:Ji(a.right,o.right,0,e),b:Ji(a.bottom,o.bottom,0,n),l:Ji(a.left,o.left,0,e)}}function G4(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=Ga(a),c=Math.min(e,n),u=t.borderSkipped,f=s||Pe(a);return{topLeft:Ji(!f||u.top||u.left,o.topLeft,0,c),topRight:Ji(!f||u.top||u.right,o.topRight,0,c),bottomLeft:Ji(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:Ji(!f||u.bottom||u.right,o.bottomRight,0,c)}}function $4(t){const e=tj(t),n=e.right-e.left,s=e.bottom-e.top,a=I4(t,n/2,s/2),o=G4(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function mp(t,e,n,s){const a=e===null,o=n===null,u=t&&!(a&&o)&&tj(t,s);return u&&(a||ii(e,u.left,u.right))&&(o||ii(n,u.top,u.bottom))}function X4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function K4(t,e){t.rect(e.x,e.y,e.w,e.h)}function pp(t,e,n={}){const s=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-s,c=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+s,y:t.y+a,w:t.w+o,h:t.h+c,radius:t.radius}}class rx extends pi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:c}=$4(this),u=X4(c.radius)?lc:K4;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),u(e,pp(c,n,o)),e.clip(),u(e,pp(o,-n,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),u(e,pp(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,s){return mp(this,e,n,s)}inXRange(e,n){return mp(this,e,null,n)}inYRange(e,n){return mp(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var Z4=Object.freeze({__proto__:null,ArcElement:z4,BarElement:rx,LineElement:gi,PointElement:_o});const ig=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],O_=ig.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function nj(t){return ig[t%ig.length]}function sj(t){return O_[t%O_.length]}function Q4(t,e){return t.borderColor=nj(e),t.backgroundColor=sj(e),++e}function J4(t,e){return t.backgroundColor=t.data.map(()=>nj(e++)),e}function eE(t,e){return t.backgroundColor=t.data.map(()=>sj(e++)),e}function tE(t){let e=0;return(n,s)=>{const a=t.getDatasetMeta(s).controller;a instanceof ix?e=J4(n,e):a instanceof HS?e=eE(n,e):a&&(e=Q4(n,e))}}function R_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function nE(t){return t&&(t.borderColor||t.backgroundColor)}function sE(){return gt.borderColor!=="rgba(0,0,0,0.1)"||gt.backgroundColor!=="rgba(0,0,0,0.1)"}var iE={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:a}=t.config,{elements:o}=a,c=R_(s)||nE(a)||o&&R_(o)||sE();if(!n.forceOverride&&c)return;const u=tE(t);s.forEach(u)}};function aE(t,e,n,s,a){const o=a.samples||s;if(o>=n)return t.slice(e,e+n);const c=[],u=(n-2)/(o-2);let f=0;const m=e+n-1;let g=e,x,b,v,w,S;for(c[f++]=t[g],x=0;x<o-2;x++){let j=0,N=0,T;const E=Math.floor((x+1)*u)+1+e,O=Math.min(Math.floor((x+2)*u)+1,n)+e,z=O-E;for(T=E;T<O;T++)j+=t[T].x,N+=t[T].y;j/=z,N/=z;const D=Math.floor(x*u)+1+e,A=Math.min(Math.floor((x+1)*u)+1,n)+e,{x:L,y:V}=t[g];for(v=w=-1,T=D;T<A;T++)w=.5*Math.abs((L-j)*(t[T].y-V)-(L-t[T].x)*(N-V)),w>v&&(v=w,b=t[T],S=T);c[f++]=b,g=S}return c[f++]=t[m],c}function rE(t,e,n,s){let a=0,o=0,c,u,f,m,g,x,b,v,w,S;const j=[],N=e+n-1,T=t[e].x,O=t[N].x-T;for(c=e;c<e+n;++c){u=t[c],f=(u.x-T)/O*s,m=u.y;const z=f|0;if(z===g)m<w?(w=m,x=c):m>S&&(S=m,b=c),a=(o*a+u.x)/++o;else{const D=c-1;if(!Re(x)&&!Re(b)){const A=Math.min(x,b),L=Math.max(x,b);A!==v&&A!==D&&j.push({...t[A],x:a}),L!==v&&L!==D&&j.push({...t[L],x:a})}c>0&&D!==v&&j.push(t[D]),j.push(u),g=z,o=0,w=S=m,x=b=v=c}}return j}function ij(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function L_(t){t.data.datasets.forEach(e=>{ij(e)})}function oE(t,e){const n=e.length;let s=0,a;const{iScale:o}=t,{min:c,max:u,minDefined:f,maxDefined:m}=o.getUserBounds();return f&&(s=Ht(ai(e,o.axis,c).lo,0,n-1)),m?a=Ht(ai(e,o.axis,u).hi+1,s,n)-s:a=n-s,{start:s,count:a}}var lE={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){L_(t);return}const s=t.width;t.data.datasets.forEach((a,o)=>{const{_data:c,indexAxis:u}=a,f=t.getDatasetMeta(o),m=c||a.data;if(Vl([u,t.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const g=t.scales[f.xAxisID];if(g.type!=="linear"&&g.type!=="time"||t.options.parsing)return;let{start:x,count:b}=oE(f,m);const v=n.threshold||4*s;if(b<=v){ij(a);return}Re(c)&&(a._data=m,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(n.algorithm){case"lttb":w=aE(m,x,b,s,n);break;case"min-max":w=rE(m,x,b,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}a._decimated=w})},destroy(t){L_(t)}};function cE(t,e,n){const s=t.segments,a=t.points,o=e.points,c=[];for(const u of s){let{start:f,end:m}=u;m=fh(f,m,a);const g=ag(n,a[f],a[m],u.loop);if(!e.segments){c.push({source:u,target:g,start:a[f],end:a[m]});continue}const x=RS(e,g);for(const b of x){const v=ag(n,o[b.start],o[b.end],b.loop),w=OS(u,a,v);for(const S of w)c.push({source:S,target:b,start:{[n]:z_(g,v,"start",Math.max)},end:{[n]:z_(g,v,"end",Math.min)}})}}return c}function ag(t,e,n,s){if(s)return;let a=e[t],o=n[t];return t==="angle"&&(a=tn(a),o=tn(o)),{property:t,start:a,end:o}}function uE(t,e){const{x:n=null,y:s=null}=t||{},a=e.points,o=[];return e.segments.forEach(({start:c,end:u})=>{u=fh(c,u,a);const f=a[c],m=a[u];s!==null?(o.push({x:f.x,y:s}),o.push({x:m.x,y:s})):n!==null&&(o.push({x:n,y:f.y}),o.push({x:n,y:m.y}))}),o}function fh(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function z_(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function aj(t,e){let n=[],s=!1;return pt(t)?(s=!0,n=t):n=uE(t,e),n.length?new gi({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function P_(t){return t&&t.fill!==!1}function dE(t,e,n){let a=t[e].fill;const o=[e];let c;if(!n)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!St(a))return a;if(c=t[a],!c)return!1;if(c.visible)return a;o.push(a),a=c.fill}return!1}function hE(t,e,n){const s=gE(t);if(Pe(s))return isNaN(s.value)?!1:s;let a=parseFloat(s);return St(a)&&Math.floor(a)===a?fE(s[0],e,a,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function fE(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function mE(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Pe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function pE(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Pe(t)?s=t.value:s=e.getBaseValue(),s}function gE(t){const e=t.options,n=e.fill;let s=Ne(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function xE(t){const{scale:e,index:n,line:s}=t,a=[],o=s.segments,c=s.points,u=yE(e,n);u.push(aj({x:null,y:e.bottom},s));for(let f=0;f<o.length;f++){const m=o[f];for(let g=m.start;g<=m.end;g++)bE(a,c[g],u)}return new gi({points:a,options:{}})}function yE(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const o=s[a];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function bE(t,e,n){const s=[];for(let a=0;a<n.length;a++){const o=n[a],{first:c,last:u,point:f}=vE(o,e,"x");if(!(!f||c&&u)){if(c)s.unshift(f);else if(t.push(f),!u)break}}t.push(...s)}function vE(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const a=s[n],o=t.segments,c=t.points;let u=!1,f=!1;for(let m=0;m<o.length;m++){const g=o[m],x=c[g.start][n],b=c[g.end][n];if(ii(a,x,b)){u=a===x,f=a===b;break}}return{first:u,last:f,point:s}}class rj{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:a,y:o,radius:c}=this;return n=n||{start:0,end:ct},e.arc(a,o,c,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:a}=this,o=e.angle;return{x:n+Math.cos(o)*a,y:s+Math.sin(o)*a,angle:o}}}function _E(t){const{chart:e,fill:n,line:s}=t;if(St(n))return wE(e,n);if(n==="stack")return xE(t);if(n==="shape")return!0;const a=SE(t);return a instanceof rj?a:aj(a,s)}function wE(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function SE(t){return(t.scale||{}).getPointPositionForValue?NE(t):jE(t)}function jE(t){const{scale:e={},fill:n}=t,s=mE(n,e);if(St(s)){const a=e.isHorizontal();return{x:a?s:null,y:a?null:s}}return null}function NE(t){const{scale:e,fill:n}=t,s=e.options,a=e.getLabels().length,o=s.reverse?e.max:e.min,c=pE(n,e,o),u=[];if(s.grid.circular){const f=e.getPointPositionForValue(0,o);return new rj({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(c)})}for(let f=0;f<a;++f)u.push(e.getPointPositionForValue(f,c));return u}function gp(t,e,n){const s=_E(e),{chart:a,index:o,line:c,scale:u,axis:f}=e,m=c.options,g=m.fill,x=m.backgroundColor,{above:b=x,below:v=x}=g||{},w=a.getDatasetMeta(o),S=LS(a,w);s&&c.points.length&&(ch(t,n),kE(t,{line:c,target:s,above:b,below:v,area:n,scale:u,axis:f,clip:S}),uh(t))}function kE(t,e){const{line:n,target:s,above:a,below:o,area:c,scale:u,clip:f}=e,m=n._loop?"angle":e.axis;t.save();let g=o;o!==a&&(m==="x"?(B_(t,s,c.top),xp(t,{line:n,target:s,color:a,scale:u,property:m,clip:f}),t.restore(),t.save(),B_(t,s,c.bottom)):m==="y"&&(V_(t,s,c.left),xp(t,{line:n,target:s,color:o,scale:u,property:m,clip:f}),t.restore(),t.save(),V_(t,s,c.right),g=a)),xp(t,{line:n,target:s,color:g,scale:u,property:m,clip:f}),t.restore()}function B_(t,e,n){const{segments:s,points:a}=e;let o=!0,c=!1;t.beginPath();for(const u of s){const{start:f,end:m}=u,g=a[f],x=a[fh(f,m,a)];o?(t.moveTo(g.x,g.y),o=!1):(t.lineTo(g.x,n),t.lineTo(g.x,g.y)),c=!!e.pathSegment(t,u,{move:c}),c?t.closePath():t.lineTo(x.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function V_(t,e,n){const{segments:s,points:a}=e;let o=!0,c=!1;t.beginPath();for(const u of s){const{start:f,end:m}=u,g=a[f],x=a[fh(f,m,a)];o?(t.moveTo(g.x,g.y),o=!1):(t.lineTo(n,g.y),t.lineTo(g.x,g.y)),c=!!e.pathSegment(t,u,{move:c}),c?t.closePath():t.lineTo(n,x.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function xp(t,e){const{line:n,target:s,property:a,color:o,scale:c,clip:u}=e,f=cE(n,s,a);for(const{source:m,target:g,start:x,end:b}of f){const{style:{backgroundColor:v=o}={}}=m,w=s!==!0;t.save(),t.fillStyle=v,ME(t,c,u,w&&ag(a,x,b)),t.beginPath();const S=!!n.pathSegment(t,m);let j;if(w){S?t.closePath():F_(t,s,b,a);const N=!!s.pathSegment(t,g,{move:S,reverse:!0});j=S&&N,j||F_(t,s,x,a)}t.closePath(),t.fill(j?"evenodd":"nonzero"),t.restore()}}function ME(t,e,n,s){const a=e.chart.chartArea,{property:o,start:c,end:u}=s||{};if(o==="x"||o==="y"){let f,m,g,x;o==="x"?(f=c,m=a.top,g=u,x=a.bottom):(f=a.left,m=c,g=a.right,x=u),t.beginPath(),n&&(f=Math.max(f,n.left),g=Math.min(g,n.right),m=Math.max(m,n.top),x=Math.min(x,n.bottom)),t.rect(f,m,g-f,x-m),t.clip()}}function F_(t,e,n,s){const a=e.interpolate(n,s);a&&t.lineTo(a.x,a.y)}var mh={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,a=[];let o,c,u,f;for(c=0;c<s;++c)o=t.getDatasetMeta(c),u=o.dataset,f=null,u&&u.options&&u instanceof gi&&(f={visible:t.isDatasetVisible(c),index:c,fill:hE(u,c,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=f,a.push(f);for(c=0;c<s;++c)f=a[c],!(!f||f.fill===!1)&&(f.fill=dE(a,c,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let c=a.length-1;c>=0;--c){const u=a[c].$filler;u&&(u.line.updateControlPoints(o,u.axis),s&&u.fill&&gp(t.ctx,u,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const o=s[a].$filler;P_(o)&&gp(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!P_(s)||n.drawTime!=="beforeDatasetDraw"||gp(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const H_=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},TE=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class U_ extends pi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=at(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=Pt(s.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=H_(s,o);let m,g;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(c,o,u,f)+10):(g=this.maxHeight,m=this._fitCols(c,a,u,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,a){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],g=a+u;let x=e;o.textAlign="left",o.textBaseline="middle";let b=-1,v=-g;return this.legendItems.forEach((w,S)=>{const j=s+n/2+o.measureText(w.text).width;(S===0||m[m.length-1]+j+2*u>c)&&(x+=g,m[m.length-(S>0?0:1)]=0,v+=g,b++),f[S]={left:0,top:v,row:b,width:j,height:a},m[m.length-1]+=j+u}),x}_fitCols(e,n,s,a){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],g=c-e;let x=u,b=0,v=0,w=0,S=0;return this.legendItems.forEach((j,N)=>{const{itemWidth:T,itemHeight:E}=DE(s,n,o,j,a);N>0&&v+E+2*u>g&&(x+=b+u,m.push({width:b,height:v}),w+=b+u,S++,b=v=0),f[N]={left:w,top:v,col:S,width:T,height:E},b=Math.max(b,T),v+=E+u}),x+=b,m.push({width:b,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,c=oo(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=Jt(s,this.left+a,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,f=Jt(s,this.left+a,this.right-this.lineWidths[u])),m.top+=this.top+e+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let u=0,f=Jt(s,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,f=Jt(s,this.top+e+a,this.bottom-this.columnSizes[u].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ch(e,this),this._draw(),uh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:c}=e,u=gt.color,f=oo(e.rtl,this.left,this.width),m=Pt(c.font),{padding:g}=c,x=m.size,b=x/2;let v;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:w,boxHeight:S,itemHeight:j}=H_(c,x),N=function(D,A,L){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;a.save();const V=Ne(L.lineWidth,1);if(a.fillStyle=Ne(L.fillStyle,u),a.lineCap=Ne(L.lineCap,"butt"),a.lineDashOffset=Ne(L.lineDashOffset,0),a.lineJoin=Ne(L.lineJoin,"miter"),a.lineWidth=V,a.strokeStyle=Ne(L.strokeStyle,u),a.setLineDash(Ne(L.lineDash,[])),c.usePointStyle){const X={radius:S*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:V},G=f.xPlus(D,w/2),ne=A+b;wS(a,X,G,ne,c.pointStyleWidth&&w)}else{const X=A+Math.max((x-S)/2,0),G=f.leftForLtr(D,w),ne=Ga(L.borderRadius);a.beginPath(),Object.values(ne).some(pe=>pe!==0)?lc(a,{x:G,y:X,w,h:S,radius:ne}):a.rect(G,X,w,S),a.fill(),V!==0&&a.stroke()}a.restore()},T=function(D,A,L){Qa(a,L.text,D,A+j/2,m,{strikethrough:L.hidden,textAlign:f.textAlign(L.textAlign)})},E=this.isHorizontal(),O=this._computeTitleHeight();E?v={x:Jt(o,this.left+g,this.right-s[0]),y:this.top+g+O,line:0}:v={x:this.left+g,y:Jt(o,this.top+O+g,this.bottom-n[0].height),line:0},CS(this.ctx,e.textDirection);const z=j+g;this.legendItems.forEach((D,A)=>{a.strokeStyle=D.fontColor,a.fillStyle=D.fontColor;const L=a.measureText(D.text).width,V=f.textAlign(D.textAlign||(D.textAlign=c.textAlign)),X=w+b+L;let G=v.x,ne=v.y;f.setWidth(this.width),E?A>0&&G+X+g>this.right&&(ne=v.y+=z,v.line++,G=v.x=Jt(o,this.left+g,this.right-s[v.line])):A>0&&ne+z>this.bottom&&(G=v.x=G+n[v.line].width+g,v.line++,ne=v.y=Jt(o,this.top+O+g,this.bottom-n[v.line].height));const pe=f.x(G);if(N(pe,ne,D),G=IC(V,G+w+b,E?G+X:this.right,e.rtl),T(f.x(G),ne,D),E)v.x+=X+g;else if(typeof D.text!="string"){const re=m.lineHeight;v.y+=oj(D,re)+g}else v.y+=z}),AS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Pt(n.font),a=rn(n.padding);if(!n.display)return;const o=oo(e.rtl,this.left,this.width),c=this.ctx,u=n.position,f=s.size/2,m=a.top+f;let g,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+m,x=Jt(e.align,x,this.right-b);else{const w=this.columnSizes.reduce((S,j)=>Math.max(S,j.height),0);g=m+Jt(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const v=Jt(u,x,x+b);c.textAlign=o.textAlign(Kg(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=s.string,Qa(c,n.text,v,g,s)}_computeTitleHeight(){const e=this.options.title,n=Pt(e.font),s=rn(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,a,o;if(ii(e,this.left,this.right)&&ii(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],ii(e,a.left,a.left+a.width)&&ii(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!EE(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=TE(a,s);a&&!o&&at(n.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!o&&at(n.onHover,[e,s,this],this)}else s&&at(n.onClick,[e,s,this],this)}}function DE(t,e,n,s,a){const o=CE(s,t,e,n),c=AE(a,s,e.lineHeight);return{itemWidth:o,itemHeight:c}}function CE(t,e,n,s){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+n.size/2+s.measureText(a).width}function AE(t,e,n){let s=t;return typeof e.text!="string"&&(s=oj(e,n)),s}function oj(t,e){const n=t.text?t.text.length:0;return e*n}function EE(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var wo={id:"legend",_element:U_,start(t,e,n){const s=t.legend=new U_({ctx:t.ctx,options:n,chart:t});nn.configure(t,s,n),nn.addBox(t,s)},stop(t){nn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;nn.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:c,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(n?0:void 0),g=rn(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:s||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(u||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ox extends pi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const a=pt(s.text)?s.text.length:1;this._padding=rn(s.padding);const o=a*Pt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:a,right:o,options:c}=this,u=c.align;let f=0,m,g,x;return this.isHorizontal()?(g=Jt(u,s,o),x=n+e,m=o-s):(c.position==="left"?(g=s+e,x=Jt(u,a,n),f=We*-.5):(g=o-e,x=Jt(u,n,a),f=We*.5),m=a-n),{titleX:g,titleY:x,maxWidth:m,rotation:f}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Pt(n.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:f,rotation:m}=this._drawArgs(o);Qa(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:Kg(n.align),textBaseline:"middle",translation:[c,u]})}}function OE(t,e){const n=new ox({ctx:t.ctx,options:e,chart:t});nn.configure(t,n,e),nn.addBox(t,n),t.titleBlock=n}var ph={id:"title",_element:ox,start(t,e,n){OE(t,n)},stop(t){const e=t.titleBlock;nn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;nn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const id=new WeakMap;var RE={id:"subtitle",start(t,e,n){const s=new ox({ctx:t.ctx,options:n,chart:t});nn.configure(t,s,n),nn.addBox(t,s),id.set(t,s)},stop(t){nn.removeBox(t,id.get(t)),id.delete(t)},beforeUpdate(t,e,n){const s=id.get(t);nn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hl={average(t){if(!t.length)return!1;let e,n,s=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((u,f)=>u+f)/s.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,a=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=t.length;o<c;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),g=Qp(e,m);g<a&&(a=g,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function vs(t,e){return e&&(pt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ti(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function LE(t,e){const{element:n,datasetIndex:s,index:a}=e,o=t.getDatasetMeta(s).controller,{label:c,value:u}=o.getLabelAndValue(a);return{chart:t,label:c,parsed:o.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function Y_(t,e){const n=t.chart.ctx,{body:s,footer:a,title:o}=t,{boxWidth:c,boxHeight:u}=e,f=Pt(e.bodyFont),m=Pt(e.titleFont),g=Pt(e.footerFont),x=o.length,b=a.length,v=s.length,w=rn(e.padding);let S=w.height,j=0,N=s.reduce((O,z)=>O+z.before.length+z.lines.length+z.after.length,0);if(N+=t.beforeBody.length+t.afterBody.length,x&&(S+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),N){const O=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;S+=v*O+(N-v)*f.lineHeight+(N-1)*e.bodySpacing}b&&(S+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let T=0;const E=function(O){j=Math.max(j,n.measureText(O).width+T)};return n.save(),n.font=m.string,Qe(t.title,E),n.font=f.string,Qe(t.beforeBody.concat(t.afterBody),E),T=e.displayColors?c+2+e.boxPadding:0,Qe(s,O=>{Qe(O.before,E),Qe(O.lines,E),Qe(O.after,E)}),T=0,n.font=g.string,Qe(t.footer,E),n.restore(),j+=w.width,{width:j,height:S}}function zE(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function PE(t,e,n,s){const{x:a,width:o}=s,c=n.caretSize+n.caretPadding;if(t==="left"&&a+o+c>e.width||t==="right"&&a-o-c<0)return!0}function BE(t,e,n,s){const{x:a,width:o}=n,{width:c,chartArea:{left:u,right:f}}=t;let m="center";return s==="center"?m=a<=(u+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),PE(m,t,e,n)&&(m="center"),m}function W_(t,e,n){const s=n.yAlign||e.yAlign||zE(t,n);return{xAlign:n.xAlign||e.xAlign||BE(t,e,n,s),yAlign:s}}function VE(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function FE(t,e,n){let{y:s,height:a}=t;return e==="top"?s+=n:e==="bottom"?s-=a+n:s-=a/2,s}function q_(t,e,n,s){const{caretSize:a,caretPadding:o,cornerRadius:c}=t,{xAlign:u,yAlign:f}=n,m=a+o,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:v}=Ga(c);let w=VE(e,u);const S=FE(e,f,m);return f==="center"?u==="left"?w+=m:u==="right"&&(w-=m):u==="left"?w-=Math.max(g,b)+a:u==="right"&&(w+=Math.max(x,v)+a),{x:Ht(w,0,s.width-e.width),y:Ht(S,0,s.height-e.height)}}function ad(t,e,n){const s=rn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function I_(t){return vs([],ti(t))}function HE(t,e,n){return da(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function G_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const lj={beforeTitle:Qs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Qs,beforeBody:Qs,beforeLabel:Qs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Re(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Qs,afterBody:Qs,beforeFooter:Qs,footer:Qs,afterFooter:Qs};function yn(t,e,n,s){const a=t[e].call(n,s);return typeof a>"u"?lj[e].call(n,s):a}let $_=class extends pi{static positioners=Hl;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new zS(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=HE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,a=yn(s,"beforeTitle",this,e),o=yn(s,"title",this,e),c=yn(s,"afterTitle",this,e);let u=[];return u=vs(u,ti(a)),u=vs(u,ti(o)),u=vs(u,ti(c)),u}getBeforeBody(e,n){return I_(yn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,a=[];return Qe(e,o=>{const c={before:[],lines:[],after:[]},u=G_(s,o);vs(c.before,ti(yn(u,"beforeLabel",this,o))),vs(c.lines,yn(u,"label",this,o)),vs(c.after,ti(yn(u,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,n){return I_(yn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,a=yn(s,"beforeFooter",this,e),o=yn(s,"footer",this,e),c=yn(s,"afterFooter",this,e);let u=[];return u=vs(u,ti(a)),u=vs(u,ti(o)),u=vs(u,ti(c)),u}_createItems(e){const n=this._active,s=this.chart.data,a=[],o=[],c=[];let u=[],f,m;for(f=0,m=n.length;f<m;++f)u.push(LE(this.chart,n[f]));return e.filter&&(u=u.filter((g,x,b)=>e.filter(g,x,b,s))),e.itemSort&&(u=u.sort((g,x)=>e.itemSort(g,x,s))),Qe(u,g=>{const x=G_(e.callbacks,g);a.push(yn(x,"labelColor",this,g)),o.push(yn(x,"labelPointStyle",this,g)),c.push(yn(x,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(e,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Hl[s.position].call(this,a,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const f=this._size=Y_(this,s),m=Object.assign({},u,f),g=W_(this.chart,s,m),x=q_(s,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:x.x,y:x.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,a){const o=this.getCaretPosition(e,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:u}=s,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:x}=Ga(u),{x:b,y:v}=e,{width:w,height:S}=n;let j,N,T,E,O,z;return o==="center"?(O=v+S/2,a==="left"?(j=b,N=j-c,E=O+c,z=O-c):(j=b+w,N=j+c,E=O-c,z=O+c),T=j):(a==="left"?N=b+Math.max(f,g)+c:a==="right"?N=b+w-Math.max(m,x)-c:N=this.caretX,o==="top"?(E=v,O=E-c,j=N-c,T=N+c):(E=v+S,O=E+c,j=N+c,T=N-c),z=E),{x1:j,x2:N,x3:T,y1:E,y2:O,y3:z}}drawTitle(e,n,s){const a=this.title,o=a.length;let c,u,f;if(o){const m=oo(s.rtl,this.x,this.width);for(e.x=ad(this,s.titleAlign,s),n.textAlign=m.textAlign(s.titleAlign),n.textBaseline="middle",c=Pt(s.titleFont),u=s.titleSpacing,n.fillStyle=s.titleColor,n.font=c.string,f=0;f<o;++f)n.fillText(a[f],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,f+1===o&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,n,s,a,o){const c=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:f,boxWidth:m}=o,g=Pt(o.bodyFont),x=ad(this,"left",o),b=a.x(x),v=f<g.lineHeight?(g.lineHeight-f)/2:0,w=n.y+v;if(o.usePointStyle){const S={radius:Math.min(m,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},j=a.leftForLtr(b,m)+m/2,N=w+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,eg(e,S,j,N),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,eg(e,S,j,N)}else{e.lineWidth=Pe(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const S=a.leftForLtr(b,m),j=a.leftForLtr(a.xPlus(b,1),m-2),N=Ga(c.borderRadius);Object.values(N).some(T=>T!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,lc(e,{x:S,y:w,w:m,h:f,radius:N}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),lc(e,{x:j,y:w+1,w:m-2,h:f-2,radius:N}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,w,m,f),e.strokeRect(S,w,m,f),e.fillStyle=c.backgroundColor,e.fillRect(j,w+1,m-2,f-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:m,boxPadding:g}=s,x=Pt(s.bodyFont);let b=x.lineHeight,v=0;const w=oo(s.rtl,this.x,this.width),S=function(L){n.fillText(L,w.x(e.x+v),e.y+b/2),e.y+=b+o},j=w.textAlign(c);let N,T,E,O,z,D,A;for(n.textAlign=c,n.textBaseline="middle",n.font=x.string,e.x=ad(this,j,s),n.fillStyle=s.bodyColor,Qe(this.beforeBody,S),v=u&&j!=="right"?c==="center"?m/2+g:m+2+g:0,O=0,D=a.length;O<D;++O){for(N=a[O],T=this.labelTextColors[O],n.fillStyle=T,Qe(N.before,S),E=N.lines,u&&E.length&&(this._drawColorBox(n,e,O,w,s),b=Math.max(x.lineHeight,f)),z=0,A=E.length;z<A;++z)S(E[z]),b=x.lineHeight;Qe(N.after,S)}v=0,b=x.lineHeight,Qe(this.afterBody,S),e.y-=o}drawFooter(e,n,s){const a=this.footer,o=a.length;let c,u;if(o){const f=oo(s.rtl,this.x,this.width);for(e.x=ad(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",c=Pt(s.footerFont),n.fillStyle=s.footerColor,n.font=c.string,u=0;u<o;++u)n.fillText(a[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,n,s,a){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=e,{width:m,height:g}=s,{topLeft:x,topRight:b,bottomLeft:v,bottomRight:w}=Ga(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+x,f),c==="top"&&this.drawCaret(e,n,s,a),n.lineTo(u+m-b,f),n.quadraticCurveTo(u+m,f,u+m,f+b),c==="center"&&o==="right"&&this.drawCaret(e,n,s,a),n.lineTo(u+m,f+g-w),n.quadraticCurveTo(u+m,f+g,u+m-w,f+g),c==="bottom"&&this.drawCaret(e,n,s,a),n.lineTo(u+v,f+g),n.quadraticCurveTo(u,f+g,u,f+g-v),c==="center"&&o==="left"&&this.drawCaret(e,n,s,a),n.lineTo(u,f+x),n.quadraticCurveTo(u,f,u+x,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const c=Hl[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Y_(this,e),f=Object.assign({},c,this._size),m=W_(n,e,f),g=q_(e,f,m,n);(a._to!==g.x||o._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=rn(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,a,n),CS(e,n.textDirection),o.y+=c.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),AS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,a=e.map(({datasetIndex:u,index:f})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[f],index:f}}),o=!Rd(s,a),c=this._positionChanged(a,n);(o||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,n,s),u=this._positionChanged(c,e),f=n||!Rd(c,o)||u;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,s,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:s,caretY:a,options:o}=this,c=Hl[o.position].call(this,e,n);return c!==!1&&(s!==c.x||a!==c.y)}};var So={id:"tooltip",_element:$_,positioners:Hl,afterInit(t,e,n){n&&(t.tooltip=new $_({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},UE=Object.freeze({__proto__:null,Colors:iE,Decimation:lE,Filler:mh,Legend:wo,SubTitle:RE,Title:ph,Tooltip:So});const YE=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function WE(t,e,n,s){const a=t.indexOf(e);if(a===-1)return YE(t,e,n,s);const o=t.lastIndexOf(e);return a!==o?n:a}const qE=(t,e)=>t===null?null:Ht(Math.round(t),0,e);function X_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Sc extends tr{static id="category";static defaults={ticks:{callback:X_}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Re(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:WE(s,e,Ne(n,e),this._addedLabels),qE(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=n;c++)a.push({value:c});return a}getLabelForValue(e){return X_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function IE(t,e){const n=[],{bounds:a,step:o,min:c,max:u,precision:f,count:m,maxTicks:g,maxDigits:x,includeBounds:b}=t,v=o||1,w=g-1,{min:S,max:j}=e,N=!Re(c),T=!Re(u),E=!Re(m),O=(j-S)/(x+1);let z=Y1((j-S)/w/v)*v,D,A,L,V;if(z<1e-14&&!N&&!T)return[{value:S},{value:j}];V=Math.ceil(j/z)-Math.floor(S/z),V>w&&(z=Y1(V*z/w/v)*v),Re(f)||(D=Math.pow(10,f),z=Math.ceil(z*D)/D),a==="ticks"?(A=Math.floor(S/z)*z,L=Math.ceil(j/z)*z):(A=S,L=j),N&&T&&o&&VC((u-c)/o,z/1e3)?(V=Math.round(Math.min((u-c)/z,g)),z=(u-c)/V,A=c,L=u):E?(A=N?c:A,L=T?u:L,V=m-1,z=(L-A)/V):(V=(L-A)/z,Gl(V,Math.round(V),z/1e3)?V=Math.round(V):V=Math.ceil(V));const X=Math.max(W1(z),W1(A));D=Math.pow(10,Re(f)?X:f),A=Math.round(A*D)/D,L=Math.round(L*D)/D;let G=0;for(N&&(b&&A!==c?(n.push({value:c}),A<c&&G++,Gl(Math.round((A+G*z)*D)/D,c,K_(c,O,t))&&G++):A<c&&G++);G<V;++G){const ne=Math.round((A+G*z)*D)/D;if(T&&ne>u)break;n.push({value:ne})}return T&&b&&L!==u?n.length&&Gl(n[n.length-1].value,u,K_(u,O,t))?n[n.length-1].value=u:n.push({value:u}):(!T||L===u)&&n.push({value:L}),n}function K_(t,e,{horizontal:n,minRotation:s}){const a=ls(s),o=(n?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class Hd extends tr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Re(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=n?a:f,u=f=>o=s?o:f;if(e){const f=js(a),m=js(o);f<0&&m<0?u(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);u(o+f),e||c(a-f)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=IE(a,o);return e.bounds==="ticks"&&fS(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-n)/Math.max(e.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return wc(e,this.chart.options.locale,this.options.ticks.format)}}class jc extends Hd{static id="linear";static defaults={ticks:{callback:lh.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=St(e)?e:0,this.max=St(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=ls(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const uc=t=>Math.floor(Zi(t)),za=(t,e)=>Math.pow(10,uc(t)+e);function Z_(t){return t/Math.pow(10,uc(t))===1}function Q_(t,e,n){const s=Math.pow(10,n),a=Math.floor(t/s);return Math.ceil(e/s)-a}function GE(t,e){const n=e-t;let s=uc(n);for(;Q_(t,e,s)>10;)s++;for(;Q_(t,e,s)<10;)s--;return Math.min(s,uc(t))}function $E(t,{min:e,max:n}){e=An(t.min,e);const s=[],a=uc(e);let o=GE(e,n),c=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),f=a>o?Math.pow(10,a):0,m=Math.round((e-f)*c)/c,g=Math.floor((e-f)/u/10)*u*10;let x=Math.floor((m-g)/Math.pow(10,o)),b=An(t.min,Math.round((f+g+x*Math.pow(10,o))*c)/c);for(;b<n;)s.push({value:b,major:Z_(b),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(o++,x=2,c=o>=0?1:c),b=Math.round((f+g+x*Math.pow(10,o))*c)/c;const v=An(t.max,b);return s.push({value:v,major:Z_(v),significand:x}),s}class XE extends tr{static id="logarithmic";static defaults={ticks:{callback:lh.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Hd.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return St(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=St(e)?Math.max(0,e):null,this.max=St(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!St(this._userMin)&&(this.min=e===za(this.min,0)?za(this.min,-1):za(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,a=this.max;const o=u=>s=e?s:u,c=u=>a=n?a:u;s===a&&(s<=0?(o(1),c(10)):(o(za(s,-1)),c(za(a,1)))),s<=0&&o(za(a,-1)),a<=0&&c(za(s,1)),this.min=s,this.max=a}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=$E(n,this);return e.bounds==="ticks"&&fS(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":wc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Zi(e),this._valueRange=Zi(this.max)-Zi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Zi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function rg(t){const e=t.ticks;if(e.display&&t.display){const n=rn(e.backdropPadding);return Ne(e.font&&e.font.size,gt.font.size)+n.height}return 0}function KE(t,e,n){return n=pt(n)?n:[n],{w:nA(t,e.string,n),h:n.length*e.lineHeight}}function J_(t,e,n,s,a){return t===s||t===a?{start:e-n/2,end:e+n/2}:t<s||t>a?{start:e-n,end:e}:{start:e,end:e+n}}function ZE(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],a=[],o=t._pointLabels.length,c=t.options.pointLabels,u=c.centerPointLabels?We/o:0;for(let f=0;f<o;f++){const m=c.setContext(t.getPointLabelContext(f));a[f]=m.padding;const g=t.getPointPosition(f,t.drawingArea+a[f],u),x=Pt(m.font),b=KE(t.ctx,x,t._pointLabels[f]);s[f]=b;const v=tn(t.getIndexAngle(f)+u),w=Math.round($g(v)),S=J_(w,g.x,b.w,0,180),j=J_(w,g.y,b.h,90,270);QE(n,e,v,S,j)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=tO(t,s,a)}function QE(t,e,n,s,a){const o=Math.abs(Math.sin(n)),c=Math.abs(Math.cos(n));let u=0,f=0;s.start<e.l?(u=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-u)):s.end>e.r&&(u=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+u)),a.start<e.t?(f=(e.t-a.start)/c,t.t=Math.min(t.t,e.t-f)):a.end>e.b&&(f=(a.end-e.b)/c,t.b=Math.max(t.b,e.b+f))}function JE(t,e,n){const s=t.drawingArea,{extra:a,additionalAngle:o,padding:c,size:u}=n,f=t.getPointPosition(e,s+a+c,o),m=Math.round($g(tn(f.angle+Dt))),g=iO(f.y,u.h,m),x=nO(m),b=sO(f.x,u.w,x);return{visible:!0,x:f.x,y:g,textAlign:x,left:b,top:g,right:b+u.w,bottom:g+u.h}}function eO(t,e){if(!e)return!0;const{left:n,top:s,right:a,bottom:o}=t;return!(ri({x:n,y:s},e)||ri({x:n,y:o},e)||ri({x:a,y:s},e)||ri({x:a,y:o},e))}function tO(t,e,n){const s=[],a=t._pointLabels.length,o=t.options,{centerPointLabels:c,display:u}=o.pointLabels,f={extra:rg(o)/2,additionalAngle:c?We/a:0};let m;for(let g=0;g<a;g++){f.padding=n[g],f.size=e[g];const x=JE(t,g,f);s.push(x),u==="auto"&&(x.visible=eO(x,m),x.visible&&(m=x))}return s}function nO(t){return t===0||t===180?"center":t<180?"left":"right"}function sO(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function iO(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function aO(t,e,n){const{left:s,top:a,right:o,bottom:c}=n,{backdropColor:u}=e;if(!Re(u)){const f=Ga(e.borderRadius),m=rn(e.backdropPadding);t.fillStyle=u;const g=s-m.left,x=a-m.top,b=o-s+m.width,v=c-a+m.height;Object.values(f).some(w=>w!==0)?(t.beginPath(),lc(t,{x:g,y:x,w:b,h:v,radius:f}),t.fill()):t.fillRect(g,x,b,v)}}function rO(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let a=e-1;a>=0;a--){const o=t._pointLabelItems[a];if(!o.visible)continue;const c=s.setContext(t.getPointLabelContext(a));aO(n,c,o);const u=Pt(c.font),{x:f,y:m,textAlign:g}=o;Qa(n,t._pointLabels[a],f,m+u.lineHeight/2,u,{color:c.color,textAlign:g,textBaseline:"middle"})}}function cj(t,e,n,s){const{ctx:a}=t;if(n)a.arc(t.xCenter,t.yCenter,e,0,ct);else{let o=t.getPointPosition(0,e);a.moveTo(o.x,o.y);for(let c=1;c<s;c++)o=t.getPointPosition(c,e),a.lineTo(o.x,o.y)}}function oO(t,e,n,s,a){const o=t.ctx,c=e.circular,{color:u,lineWidth:f}=e;!c&&!s||!u||!f||n<0||(o.save(),o.strokeStyle=u,o.lineWidth=f,o.setLineDash(a.dash||[]),o.lineDashOffset=a.dashOffset,o.beginPath(),cj(t,n,c,s),o.closePath(),o.stroke(),o.restore())}function lO(t,e,n){return da(t,{label:n,index:e,type:"pointLabel"})}class uj extends Hd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=rn(rg(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=St(e)&&!isNaN(e)?e:0,this.max=St(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/rg(this.options))}generateTickLabels(e){Hd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const a=at(this.options.pointLabels.callback,[n,s],this);return a||a===0?a:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?ZE(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,a){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,a))}getIndexAngle(e){const n=ct/(this._pointLabels.length||1),s=this.options.startAngle||0;return tn(e*n+ls(s))}getDistanceFromCenterForValue(e){if(Re(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Re(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return lO(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const a=this.getIndexAngle(e)-Dt+s;return{x:Math.cos(a)*n+this.xCenter,y:Math.sin(a)*n+this.yCenter,angle:a}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:a,bottom:o}=this._pointLabelItems[e];return{left:n,top:s,right:a,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),cj(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:a,border:o}=n,c=this._pointLabels.length;let u,f,m;if(n.pointLabels.display&&rO(this,c),a.display&&this.ticks.forEach((g,x)=>{if(x!==0||x===0&&this.min<0){f=this.getDistanceFromCenterForValue(g.value);const b=this.getContext(x),v=a.setContext(b),w=o.setContext(b);oO(this,v,f,c,w)}}),s.display){for(e.save(),u=c-1;u>=0;u--){const g=s.setContext(this.getPointLabelContext(u)),{color:x,lineWidth:b}=g;!b||!x||(e.lineWidth=b,e.strokeStyle=x,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,f=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),m=this.getPointPosition(u,f),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(m.x,m.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const a=this.getIndexAngle(0);let o,c;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,f)=>{if(f===0&&this.min>=0&&!n.reverse)return;const m=s.setContext(this.getContext(f)),g=Pt(m.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),m.showLabelBackdrop){e.font=g.string,c=e.measureText(u.label).width,e.fillStyle=m.backdropColor;const x=rn(m.backdropPadding);e.fillRect(-c/2-x.left,-o-g.size/2-x.top,c+x.width,g.size+x.height)}Qa(e,u.label,0,-o,g,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),e.restore()}drawTitle(){}}const gh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vn=Object.keys(gh);function e2(t,e){return t-e}function t2(t,e){if(Re(e))return null;const n=t._adapter,{parser:s,round:a,isoWeekday:o}=t._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),St(c)||(c=typeof s=="string"?n.parse(c,s):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(fo(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,a)),+c)}function n2(t,e,n,s){const a=vn.length;for(let o=vn.indexOf(t);o<a-1;++o){const c=gh[vn[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(u*c.size))<=s)return vn[o]}return vn[a-1]}function cO(t,e,n,s,a){for(let o=vn.length-1;o>=vn.indexOf(n);o--){const c=vn[o];if(gh[c].common&&t._adapter.diff(a,s,c)>=e-1)return c}return vn[n?vn.indexOf(n):0]}function uO(t){for(let e=vn.indexOf(t)+1,n=vn.length;e<n;++e)if(gh[vn[e]].common)return vn[e]}function s2(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:a}=Xg(n,e),o=n[s]>=e?n[s]:n[a];t[o]=!0}}function dO(t,e,n,s){const a=t._adapter,o=+a.startOf(e[0].value,s),c=e[e.length-1].value;let u,f;for(u=o;u<=c;u=+a.add(u,1,s))f=n[u],f>=0&&(e[f].major=!0);return e}function i2(t,e,n){const s=[],a={},o=e.length;let c,u;for(c=0;c<o;++c)u=e[c],a[u]=c,s.push({value:u,major:!1});return o===0||!n?s:dO(t,s,a,n)}class Ud extends tr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),a=this._adapter=new YS._date(e.adapters.date);a.init(n),Il(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:t2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=St(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=St(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,u=YC(a,o,c);return this._unit=n.unit||(s.autoSkip?n2(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):cO(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:uO(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),i2(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=Ht(n,0,c),s=Ht(s,0,c),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,c=o.unit||n2(o.minUnit,n,s,this._getLabelCapacity(n)),u=Ne(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=fo(f)||f===!0,g={};let x=n,b,v;if(m&&(x=+e.startOf(x,"isoWeek",f)),x=+e.startOf(x,m?"day":c),e.diff(s,n,c)>1e5*u)throw new Error(n+" and "+s+" are too far apart with stepSize of "+u+" "+c);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=x,v=0;b<s;b=+e.add(b,u,c),v++)s2(g,b,w);return(b===s||a.bounds==="ticks"||v===1)&&s2(g,b,w),Object.keys(g).sort(e2).map(S=>+S)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,c=n||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,n,s,a){const o=this.options,c=o.ticks.callback;if(c)return at(c,[e,n,s],this);const u=o.time.displayFormats,f=this._unit,m=this._majorUnit,g=f&&u[f],x=m&&u[m],b=s[n],v=m&&x&&b&&b.major;return this._adapter.format(e,a||(v?x:g))}generateTickLabels(e){let n,s,a;for(n=0,s=e.length;n<s;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,a=ls(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:s*o+u*c,h:s*c+u*o}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,i2(this,[e],this._majorUnit),a),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)e.push(t2(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gS(e.sort(e2))}}function rd(t,e,n){let s=0,a=t.length-1,o,c,u,f;n?(e>=t[s].pos&&e<=t[a].pos&&({lo:s,hi:a}=ai(t,"pos",e)),{pos:o,time:u}=t[s],{pos:c,time:f}=t[a]):(e>=t[s].time&&e<=t[a].time&&({lo:s,hi:a}=ai(t,"time",e)),{time:o,pos:u}=t[s],{time:c,pos:f}=t[a]);const m=c-o;return m?u+(f-u)*(e-o)/m:u}class hO extends Ud{static id="timeseries";static defaults=Ud.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=rd(n,this.min),this._tableRange=rd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,a=[],o=[];let c,u,f,m,g;for(c=0,u=e.length;c<u;++c)m=e[c],m>=n&&m<=s&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(c=0,u=a.length;c<u;++c)g=a[c+1],f=a[c-1],m=a[c],Math.round((g+f)/2)!==m&&o.push({time:m,pos:c/(u-1)});return o}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(rd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return rd(this._table,s*this._tableRange+this._minPos,!0)}}var fO=Object.freeze({__proto__:null,CategoryScale:Sc,LinearScale:jc,LogarithmicScale:XE,RadialLinearScale:uj,TimeScale:Ud,TimeSeriesScale:hO});const mO=[_3,Z4,UE,fO];hs.register(...mO);const od={labels:Array.from({length:24},(t,e)=>`${String(e).padStart(2,"0")}:00`),load:Array.from({length:24},()=>+(Math.random()*2.2+.6).toFixed(2)),pv:Array.from({length:24},(t,e)=>+(Math.max(0,Math.sin((e-6)/4))*2.4).toFixed(2)),price:Array.from({length:24},()=>+(Math.random()*3.2+.8).toFixed(2))},dj="Europe/Stockholm";function lx(t){return new Date(t)}function Yd(t,e=dj){return new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:e}).format(t)}function cx(t,e=new Date){return Yd(lx(t))===Yd(e)}function Wd(t,e=new Date){const n=new Date(e);return n.setDate(n.getDate()+1),Yd(lx(t))===Yd(n)}function yp(t){const e=lx(t);return new Intl.DateTimeFormat("sv-SE",{hour:"2-digit",minute:"2-digit",timeZone:dj}).format(e)}function pO(t,e,n=new Date){return t.filter(a=>e==="today"?cx(a.start_time,n):Wd(a.start_time,n))}const gO={maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!1,labels:{color:"#e6e9ef",boxWidth:10,font:{size:12},filter:()=>!1}},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(30, 30, 46, 0.95)",titleColor:"#e6e9ef",bodyColor:"#a6b0bf",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:12,displayColors:!0,caretPadding:8,yAlign:"bottom",callbacks:{title:function(t){return t[0].label},label:function(t){const e=t.dataset.label||"",n=t.parsed.y;if(n==null)return"";let s=n.toFixed(2),a="";return e.includes("SEK/kWh")?(s=n.toFixed(2),a=" SEK/kWh"):e.includes("kW")?(s=n.toFixed(1),a=" kW"):e.includes("kWh")?(s=n.toFixed(2),a=" kWh"):e.includes("%")&&(s=n.toFixed(1),a="%"),`${e}: ${s}${a}`}}}},scales:{x:{grid:{color:"rgba(255,255,255,0.06)"},ticks:{color:"#a6b0bf",maxRotation:0,autoSkip:!1,callback:function(t,e,n){const s=this.getLabelForValue(t);if(typeof s!="string")return"";const a=s.split(":");if(a.length<2)return"";const[o,c]=a;return c==="00"?o:""}}},y:{position:"right",min:0,max:8,title:{display:!1,text:"SEK/kWh",color:"#a6b0bf"},grid:{color:"rgba(255,255,255,0.06)"},ticks:{color:"#a6b0bf",display:!1}},y1:{position:"left",min:0,max:9,title:{display:!1,text:"kW",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1}},y2:{position:"left",min:0,max:9,title:{display:!1,text:"kWh",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1},display:!1},y3:{position:"right",min:0,max:100,title:{display:!0,text:"%",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf"},display:!1},y4:{position:"left",min:0,max:1.5,title:{display:!1,text:"kW (PV)",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1}}}},Zr=(t,e={})=>{const n=(a,o)=>{const c=`palette = ${a}`;return e[c]||o},s={labels:t.labels,datasets:[{type:"line",label:"Import Price (SEK/kWh)",data:t.price,borderColor:n(4,"#2196F3"),backgroundColor:e["palette = 4"]?`${n(4,"#2196F3")}20`:"rgba(33,150,243,0.1)",yAxisID:"y",tension:0,stepped:"after",pointRadius:0},{type:"line",label:"PV Forecast (kW)",data:t.pv,borderColor:n(2,"#4CAF50"),backgroundColor:e["palette = 2"]?`${n(2,"#4CAF50")}30`:"rgba(76,175,80,0.15)",fill:!0,yAxisID:"y4",tension:.35,pointRadius:0},{type:"bar",label:"Load (kW)",data:t.load,backgroundColor:`${n(3,"#FF9800")}80`,borderRadius:0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Charge (kW)",data:t.charge??t.labels.map(()=>null),backgroundColor:`${n(4,"#2196F3")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Discharge (kW)",data:t.discharge??t.labels.map(()=>null),backgroundColor:`${n(1,"#F44336")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Export (kWh)",data:t.export??t.labels.map(()=>null),backgroundColor:`${n(2,"#4CAF50")}80`,hidden:!0,yAxisID:"y2",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Water Heating (kW)",data:t.water??t.labels.map(()=>null),backgroundColor:`${n(5,"#FF5722")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"line",label:"SoC Target (%)",data:t.socTarget??t.labels.map(()=>null),borderColor:n(13,"#9C27B0"),yAxisID:"y3",pointRadius:0,tension:0,stepped:"after",hidden:!0},{type:"line",label:"SoC Projected (%)",data:t.socProjected??t.labels.map(()=>null),borderColor:n(14,"#FFEB3B"),yAxisID:"y3",pointRadius:0,hidden:!0},{type:"line",label:"SoC Actual (%)",data:t.socActual??t.labels.map(()=>null),borderColor:n(15,"#80CBC4"),yAxisID:"y3",pointRadius:0,hidden:!0}]};return t.hasNoData&&(s.plugins={tooltip:{enabled:!0,external:!0,callbacks:{title:()=>t.day==="tomorrow"?"No Price Data":"No Data",label:()=>t.day==="tomorrow"?"Schedule data not available yet. Check back later for prices.":"No schedule data available."}}}),{...s,nowIndex:t.nowIndex??null,hasNoData:!!t.hasNoData}};function hj({day:t="today",range:e="48h",refreshToken:n=0,slotsOverride:s,useHistoryForToday:a=!1,showDayToggle:o=!1}){const[c,u]=k.useState(!1),f=t||"today",[m,g]=k.useState(e),x=k.useRef(null),b=k.useRef(null),[v,w]=k.useState({}),[S,j]=k.useState({price:!0,pv:!0,load:!0,charge:!1,discharge:!1,export:!1,water:!1,socTarget:!1,socProjected:!1,socActual:!0}),[N,T]=k.useState(!1);k.useEffect(()=>{me.config().then(D=>{const A=D?.dashboard?.overlay_defaults;if(A&&typeof A=="string"){const L=A.split(",").map(G=>G.trim().toLowerCase()),V=L.includes("socactual")||L.includes("soc_actual"),X={price:!L.includes("price_off"),pv:!L.includes("pv_off"),load:!L.includes("load_off"),charge:L.includes("charge"),discharge:L.includes("discharge"),export:L.includes("export"),water:L.includes("water"),socTarget:L.includes("soctarget")||L.includes("soc_target"),socProjected:L.includes("socprojected")||L.includes("soc_projected"),socActual:V?!0:S.socActual};j(X)}}).catch(D=>console.error("Failed to load overlay defaults:",D))},[S.socActual]);const[E,O]=k.useState(null);k.useEffect(()=>{me.theme().then(D=>{const A=D.themes.find(L=>L.name===D.current);if(A){const L={};A.palette.forEach((V,X)=>{L[`palette = ${X}`]=V}),L.background=A.background,L.foreground=A.foreground,w(L)}}).catch(D=>console.error("Failed to load theme colors:",D))},[]),k.useEffect(()=>{if(!x.current||Object.keys(v).length===0)return;const D={type:"bar",data:Zr({labels:od.labels,price:od.price,pv:od.pv,load:od.load},v),options:gO};return b.current=new hs(x.current,D),()=>{b.current&&(b.current.destroy(),b.current=null)}},[v]);const z=D=>{if(!D)return!1;const A=D;return!(A._destroyed||A._plugins===void 0&&A.$plugins===void 0)};return k.useEffect(()=>{g(e)},[e]),k.useEffect(()=>{const D=b.current;if(!z(D)||Object.keys(v).length===0)return;const A=V=>{if(!z(b.current))return;const X=xO(V,f,m,v);if(!X)return;u(!!X.hasNoData);const G=X.datasets;if(G[0]&&(G[0].hidden=!S.price),G[1]&&(G[1].hidden=!S.pv),G[2]&&(G[2].hidden=!S.load),G[3]&&(G[3].hidden=!S.charge),G[4]&&(G[4].hidden=!S.discharge),G[5]&&(G[5].hidden=!S.export),G[6]&&(G[6].hidden=!S.water),G[7]&&(G[7].hidden=!S.socTarget),G[8]&&(G[8].hidden=!S.socProjected),G[9]&&(G[9].hidden=!S.socActual),f==="today"&&typeof X.nowIndex=="number"&&X.nowIndex>=0&&X.labels&&X.labels.length>1){const ne=X.labels.length-1;O(X.nowIndex/ne)}else O(null);try{if(!z(b.current))return;b.current&&(b.current.data=X,b.current.update())}catch(ne){console.error("Chart update error:",ne)}};if(s&&s.length){A(s);return}(a&&m==="day"&&f==="today"?me.scheduleTodayWithHistory().then(V=>({schedule:V.slots})):me.schedule()).then(V=>{A(V.schedule??[])}).catch(V=>{console.error("Failed to load schedule:",V),u(!0),O(null)})},[f,S,v,m,n,s,a]),d.jsxs(Ae,{className:"p-4 md:p-6 h-[380px]",children:[d.jsxs("div",{className:"flex items-baseline justify-between pb-2",children:[d.jsx("div",{className:"text-sm text-muted",children:"Schedule Overview"}),o&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${m==="day"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>g("day"),children:"24h"}),d.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${m==="48h"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>g("48h"),children:"48h"})]}),d.jsx("button",{className:"rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide border border-line/60 text-muted hover:border-accent hover:text-accent transition",onClick:()=>T(D=>!D),children:"Overlays"})]})]}),N&&d.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-[11px]",children:[["Price","price"],["PV","pv"],["Load","load"],["Charge","charge"],["Discharge","discharge"],["Export","export"],["Water","water"],["SoC Target","socTarget"],["SoC Projected","socProjected"],["SoC Actual","socActual"]].map(([D,A])=>d.jsx("button",{onClick:L=>{L.preventDefault(),j(V=>({...V,[A]:!V[A]}))},className:`rounded-pill px-3 py-1 border ${S[A]?"bg-accent text-canvas border-accent":"border-line/60 text-muted hover:border-accent"}`,children:D},A))}),d.jsxs("div",{className:"h-[310px] relative mt-1",children:[c&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-surface/90 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-accent mb-2",children:"No Price Data"}),d.jsx("div",{className:"text-sm text-muted",children:"Schedule data not available yet. Check back later for prices."})]})}),!c&&f==="today"&&E!==null&&d.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:d.jsx("div",{className:"absolute top-2 bottom-6 border-l-2 border-accent/80",style:{left:`${E*100}%`}})}),d.jsx("canvas",{ref:x,style:{display:c?"none":"block"}})]})]})}function xO(t,e,n,s={}){const a=n==="day"?pO(t,e):t.filter(T=>cx(T.start_time)||Wd(T.start_time));if(n==="day"){if(!a.length){const R=Array.from({length:24},(J,C)=>`${String(C).padStart(2,"0")}:00`),U=Array(24).fill(null);return Zr({labels:R,price:U.slice(),pv:U.slice(),load:U.slice(),charge:U.slice(),discharge:U.slice(),export:U.slice(),water:U.slice(),socTarget:U.slice(),socProjected:U.slice(),socActual:U.slice(),hasNoData:!0,day:e},s)}const T=[...a].sort((R,U)=>{const J=new Date(R.start_time).getTime(),C=new Date(U.start_time).getTime();return J-C});let E=15;if(T.length>=2){const R=new Date(T[0].start_time).getTime(),U=new Date(T[1].start_time).getTime(),J=Math.max(1,Math.round((U-R)/6e4));(J===15||J===30||J===60)&&(E=J)}const O=new Date;e==="today"||O.setDate(O.getDate()+1),O.setHours(0,0,0,0);const z=E*60*1e3,D=Math.round(1440/E),A=new Map;for(const R of T){const U=new Date(R.start_time).getTime();A.set(U,R)}const L=[],V=[],X=[],G=[],ne=[],pe=[],re=[],le=[],F=[],$=[],ie=[];let te=null;const oe=new Date;for(let R=0;R<D;R++){const U=new Date(O.getTime()+R*z),J=new Date(U.getTime()+z),C=A.get(U.getTime());if(L.push(yp(U.toISOString())),C){const ee=C.is_executed===!0;V.push(C.import_price_sek_kwh??null),X.push(ee&&C.actual_pv_kwh!=null?C.actual_pv_kwh:C.pv_forecast_kwh??null),G.push(ee&&C.actual_load_kwh!=null?C.actual_load_kwh:C.load_forecast_kwh??null),ne.push(ee&&C.actual_charge_kw!=null?C.actual_charge_kw:C.battery_charge_kw??C.charge_kw??null),pe.push(C.battery_discharge_kw??C.discharge_kw??null),re.push(ee&&C.actual_export_kw!=null?C.actual_export_kw:C.export_kwh??null),le.push(C.water_heating_kw??null),F.push(C.soc_target_percent??null),$.push(C.projected_soc_percent??null),ie.push(C.soc_actual_percent!=null?C.soc_actual_percent:null)}else V.push(null),X.push(null),G.push(null),ne.push(null),pe.push(null),re.push(null),le.push(null),F.push(null),$.push(null),ie.push(null);e==="today"&&oe>=U&&oe<J&&(te=R)}return Zr({labels:L,price:V,pv:X,load:G,charge:ne,discharge:pe,export:re,water:le,socTarget:F,socProjected:$,socActual:ie,nowIndex:te},s)}if(n==="48h"){if(!a.length){console.log("[buildLiveData] No slots found for 48h range, creating fallback");const R=Array.from({length:48},(U,J)=>{const C=J%24;return`${String(C).padStart(2,"0")}:00`});return Zr({labels:R,price:Array(R.length).fill(null),pv:Array(R.length).fill(null),load:Array(R.length).fill(null),charge:Array(R.length).fill(null),discharge:Array(R.length).fill(null),export:Array(R.length).fill(null),water:Array(R.length).fill(null),socTarget:Array(R.length).fill(null),socProjected:Array(R.length).fill(null),hasNoData:!0,day:e},s)}const T=[...a].sort((R,U)=>{const J=new Date(R.start_time).getTime(),C=new Date(U.start_time).getTime();return J-C});let E=15;if(T.length>=2){const R=new Date(T[0].start_time).getTime(),U=new Date(T[1].start_time).getTime(),J=Math.max(1,Math.round((U-R)/6e4));(J===15||J===30||J===60)&&(E=J)}const O=new Date;O.setHours(0,0,0,0);const z=E*60*1e3,D=Math.round(2880/E),A=new Map;for(const R of T){const U=new Date(R.start_time).getTime();A.set(U,R)}const L=[],V=[],X=[],G=[],ne=[],pe=[],re=[],le=[],F=[],$=[],ie=[];let te=null;const oe=new Date;for(let R=0;R<D;R++){const U=new Date(O.getTime()+R*z),J=new Date(U.getTime()+z),C=A.get(U.getTime());if(L.push(yp(U.toISOString())),C){const ee=C.is_executed===!0;V.push(C.import_price_sek_kwh??null),X.push(ee&&C.actual_pv_kwh!=null?C.actual_pv_kwh:C.pv_forecast_kwh??null),G.push(ee&&C.actual_load_kwh!=null?C.actual_load_kwh:C.load_forecast_kwh??null),ne.push(ee&&C.actual_charge_kw!=null?C.actual_charge_kw:C.battery_charge_kw??C.charge_kw??null),pe.push(C.battery_discharge_kw??C.discharge_kw??null),re.push(ee&&C.actual_export_kw!=null?C.actual_export_kw:C.export_kwh??null),le.push(C.water_heating_kw??null),F.push(C.soc_target_percent??null),$.push(C.projected_soc_percent??null),ie.push(C.soc_actual_percent!=null?C.soc_actual_percent:null)}else V.push(null),X.push(null),G.push(null),ne.push(null),pe.push(null),re.push(null),le.push(null),F.push(null),$.push(null),ie.push(null);oe>=U&&oe<J&&(te=R)}return Zr({labels:L,price:V,pv:X,load:G,charge:ne,discharge:pe,export:re,water:le,socTarget:F,socProjected:$,socActual:ie,nowIndex:te},s)}const o=[...a].sort((T,E)=>{const O=new Date(T.start_time).getTime(),z=new Date(E.start_time).getTime();return O-z}),c=o.map(T=>T.import_price_sek_kwh??null),u=o.map(T=>T.pv_forecast_kwh??null),f=o.map(T=>T.load_forecast_kwh??null),m=o.map(T=>T.battery_charge_kw??T.charge_kw??null),g=o.map(T=>T.battery_discharge_kw??T.discharge_kw??null),x=o.map(T=>T.export_kwh??null),b=o.map(T=>T.water_heating_kw??null),v=o.map(T=>T.soc_target_percent??null),w=o.map(T=>T.projected_soc_percent??null),S=o.map(T=>T.soc_actual_percent??null),j=o.map(T=>yp(T.start_time));let N=null;if(e==="today"){const T=new Date;for(let E=0;E<o.length;E++){const O=new Date(o[E].start_time||""),z=new Date(O.getTime()+1800*1e3);if(T>=O&&T<z){N=E;break}}}return Zr({labels:j,price:c,pv:u,load:f,charge:m,discharge:g,export:x,water:b,socTarget:v,socProjected:w,socActual:S,nowIndex:N},s)}const ld=[3,7,14,21,28],Al=[30,60,120];function yO({onDataRefresh:t,onPlanSourceChange:e,onVacationModeChange:n}){const[s,a]=k.useState("idle"),[o,c]=k.useState(!1),[u,f]=k.useState(null),[m,g]=k.useState(1),[x,b]=k.useState(!1),[v,w]=k.useState(null),[S,j]=k.useState(1),[N,T]=k.useState(!1),[E,O]=k.useState(null),[z,D]=k.useState(0),[A,L]=k.useState(null),[V,X]=k.useState(null),G=k.useRef(null),ne=k.useCallback(async()=>{try{const[te,oe,R]=await Promise.all([me.executor.status(),me.waterBoost.status(),me.config()]);if(te.paused?(c(!0),f(te.paused.paused_minutes||null)):(c(!1),f(null)),oe.water_boost){const J=new Date(oe.water_boost.expires_at);T(!0),O(J);const C=new Date,ee=Math.max(0,Math.floor((J.getTime()-C.getTime())/1e3));D(ee)}else T(!1),O(null),D(0);const U=R.water_heating?.vacation_mode;U?.enabled?(b(!0),w(U.end_date||null)):(b(!1),w(null))}catch(te){console.error("Failed to fetch quick action status:",te)}},[]);k.useEffect(()=>{ne();const te=setInterval(ne,6e4);return()=>clearInterval(te)},[ne]),k.useEffect(()=>{if(G.current&&(clearInterval(G.current),G.current=null),!(!N||!E))return G.current=setInterval(()=>{const te=new Date,oe=Math.floor((E.getTime()-te.getTime())/1e3);oe<=0?(T(!1),O(null),D(0),G.current&&(clearInterval(G.current),G.current=null)):D(oe)},1e3),()=>{G.current&&(clearInterval(G.current),G.current=null)}},[N,E]);const pe=async()=>{a("planning"),L(null);try{await me.runPlanner(),a("executing"),await me.executor.run(),a("done"),e&&e("local"),t&&setTimeout(t,500),setTimeout(()=>a("idle"),2e3)}catch(te){L({type:"error",message:te instanceof Error?te.message:"Failed"}),a("idle")}},re=async()=>{L(null),X("pause");try{o?(await me.executor.resume(),c(!1),f(null),L({type:"success",message:"Executor resumed"})):(await me.executor.pause(),c(!0),L({type:"success",message:"Executor paused - idle mode"})),setTimeout(()=>L(null),3e3)}catch(te){L({type:"error",message:te instanceof Error?te.message:"Failed"})}finally{X(null)}},le=async()=>{L(null),X("vacation");try{if(x)await me.configSave({water_heating:{vacation_mode:{enabled:!1,end_date:null}}}),b(!1),w(null),L({type:"success",message:"Vacation mode disabled"});else{const te=ld[m],oe=new Date;oe.setDate(oe.getDate()+te);const R=oe.toISOString().split("T")[0];await me.configSave({water_heating:{vacation_mode:{enabled:!0,end_date:R}}}),b(!0),w(R),L({type:"success",message:`Vacation mode active until ${R}`})}window.dispatchEvent(new Event("config-updated")),n?.(!x),setTimeout(()=>L(null),3e3)}catch(te){L({type:"error",message:te instanceof Error?te.message:"Failed"})}finally{X(null)}},F=async()=>{L(null),X("boost");try{if(N)(await me.waterBoost.cancel()).success&&(T(!1),O(null),D(0),L({type:"success",message:"Water boost cancelled"}));else{const te=Al[S],oe=await me.waterBoost.start(te);if(oe.success&&oe.expires_at){const R=new Date(oe.expires_at);T(!0),O(R),D(te*60),L({type:"success",message:`Water boost started (${te}min)`})}}setTimeout(()=>L(null),3e3)}catch(te){L({type:"error",message:te instanceof Error?te.message:"Failed"})}finally{X(null)}},$=()=>{switch(s){case"planning":return"Planning...";case"executing":return"Executing...";case"done":return"Done ";default:return"Run Planner"}},ie=te=>{const oe=Math.floor(te/60),R=te%60;return`${oe}:${R.toString().padStart(2,"0")}`};return d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{className:`flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary
                        ${s!=="idle"?"bg-accent text-[#100f0e] cursor-wait":"bg-accent hover:bg-accent2 text-[#100f0e]"}`,onClick:pe,disabled:s!=="idle",title:"Run planner and execute",children:[d.jsx(JD,{className:`h-4 w-4 ${s!=="idle"?"animate-pulse":""}`}),d.jsx("span",{children:$()})]}),d.jsx("button",{className:`flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition
                        ${o?"bg-bad/80 text-white ring-2 ring-bad shadow-[0_0_20px_rgba(241,81,50,0.5)] animate-pulse":"bg-good hover:bg-good/80 text-white btn-glow-green"} ${V==="pause"?"opacity-60 cursor-wait":""}`,onClick:re,disabled:V==="pause",title:o?"Resume executor":"Pause executor (idle mode)",children:o?d.jsxs(d.Fragment,{children:[d.jsx(sS,{className:"h-4 w-4"}),d.jsx("span",{children:"RESUME"}),u!==null&&d.jsxs("span",{className:"text-[9px] opacity-80",children:["(",Math.round(u),"m)"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(KD,{className:"h-4 w-4"}),d.jsx("span",{children:"Pause"})]})}),d.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${x?"bg-amber-500/30 border border-amber-500/50 ring-2 ring-amber-400/50 shadow-[0_0_15px_rgba(245,158,11,0.4)]":"bg-surface2 border border-line/50"} ${V==="vacation"?"opacity-60":""}`,children:[!x&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>g(te=>Math.max(0,te-1)),className:"px-0.5 hover:text-accent",disabled:m===0||V==="vacation",children:d.jsx(D1,{className:"h-3 w-3"})}),d.jsxs("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:[ld[m],"d"]}),d.jsx("button",{onClick:()=>g(te=>Math.min(ld.length-1,te+1)),className:"px-0.5 hover:text-accent",disabled:m===ld.length-1||V==="vacation",children:d.jsx(C1,{className:"h-3 w-3"})})]}),d.jsxs("button",{onClick:le,disabled:V==="vacation",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${x?"bg-amber-500/50 text-amber-100":"bg-amber-500/20 hover:bg-amber-500/30 text-amber-300/80 hover:text-amber-300"}`,children:[d.jsx(nC,{className:"h-3.5 w-3.5"}),x?d.jsx("span",{className:"truncate",children:v?` ${v.slice(5)}`:"ON"}):d.jsx("span",{children:"Vacation"})]})]}),d.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${N?"bg-red-500/30 border border-red-500/50 ring-2 ring-red-400/50 shadow-[0_0_15px_rgba(239,68,68,0.4)]":"bg-surface2 border border-line/50"} ${V==="boost"?"opacity-60":""}`,children:[!N&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>j(te=>Math.max(0,te-1)),className:"px-0.5 hover:text-accent",disabled:S===0||V==="boost",children:d.jsx(D1,{className:"h-3 w-3"})}),d.jsx("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:Al[S]===120?"2h":Al[S]===60?"1h":"30m"}),d.jsx("button",{onClick:()=>j(te=>Math.min(Al.length-1,te+1)),className:"px-0.5 hover:text-accent",disabled:S===Al.length-1||V==="boost",children:d.jsx(C1,{className:"h-3 w-3"})})]}),d.jsxs("button",{onClick:F,disabled:V==="boost",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${N?"bg-red-500/50 text-red-100":"bg-red-500/20 hover:bg-red-500/30 text-red-300/80 hover:text-red-300"}`,children:[d.jsx(Hg,{className:`h-3.5 w-3.5 ${N?"animate-pulse":""}`}),N?d.jsx("span",{className:"font-mono",children:ie(z)}):d.jsx("span",{children:"Boost"})]})]})]}),A&&d.jsx("div",{className:`absolute -bottom-8 left-0 right-0 text-center text-[10px] py-1 px-2 rounded-md transition-opacity animate-in fade-in slide-in-from-bottom-1 duration-300 ${A.type==="success"?"text-green-400":"text-red-400"}`,children:A.message})]})}const fj=k.createContext({});function bO(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const ux=k.createContext(null),mj=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vO(t=!0){const e=k.useContext(ux);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,o=k.useId();k.useEffect(()=>{t&&a(o)},[t]);const c=k.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,c]:[!0]}const dx=typeof window<"u",_O=dx?k.useLayoutEffect:k.useEffect,En=t=>t;let pj=En;function hx(t){let e;return()=>(e===void 0&&(e=t()),e)}const go=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},ci=t=>t*1e3,ui=t=>t/1e3,wO={useManualTiming:!1};function SO(t){let e=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(m){o.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,g=!1,x=!1)=>{const v=x&&s?e:n;return g&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[e,n]=[n,e],e.forEach(u),e.clear(),s=!1,a&&(a=!1,f.process(m))}};return f}const cd=["read","resolveKeyframes","update","preRender","render","postRender"],jO=40;function gj(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=cd.reduce((N,T)=>(N[T]=SO(o),N),{}),{read:u,resolveKeyframes:f,update:m,preRender:g,render:x,postRender:b}=c,v=()=>{const N=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(N-a.timestamp,jO),1),a.timestamp=N,a.isProcessing=!0,u.process(a),f.process(a),m.process(a),g.process(a),x.process(a),b.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(v))},w=()=>{n=!0,s=!0,a.isProcessing||t(v)};return{schedule:cd.reduce((N,T)=>{const E=c[T];return N[T]=(O,z=!1,D=!1)=>(n||w(),E.schedule(O,z,D)),N},{}),cancel:N=>{for(let T=0;T<cd.length;T++)c[cd[T]].cancel(N)},state:a,steps:c}}const{schedule:ut,cancel:la,state:$t,steps:bp}=gj(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0),xj=k.createContext({strict:!1}),a2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xo={};for(const t in a2)xo[t]={isEnabled:e=>a2[t].some(n=>!!e[n])};function NO(t){for(const e in t)xo[e]={...xo[e],...t[e]}}const kO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kO.has(t)}let yj=t=>!qd(t);function MO(t){t&&(yj=e=>e.startsWith("on")?!qd(e):t(e))}try{MO(require("@emotion/is-prop-valid").default)}catch{}function TO(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(yj(a)||n===!0&&qd(a)||!e&&!qd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function DO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const xh=k.createContext({});function dc(t){return typeof t=="string"||Array.isArray(t)}function yh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mx=["initial",...fx];function bh(t){return yh(t.animate)||mx.some(e=>dc(t[e]))}function bj(t){return!!(bh(t)||t.variants)}function CO(t,e){if(bh(t)){const{initial:n,animate:s}=t;return{initial:n===!1||dc(n)?n:void 0,animate:dc(s)?s:void 0}}return t.inherit!==!1?e:{}}function AO(t){const{initial:e,animate:n}=CO(t,k.useContext(xh));return k.useMemo(()=>({initial:e,animate:n}),[r2(e),r2(n)])}function r2(t){return Array.isArray(t)?t.join(" "):t}const EO=Symbol.for("motionComponentSymbol");function eo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function OO(t,e,n){return k.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):eo(n)&&(n.current=s))},[e])}const px=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RO="framerAppearId",vj="data-"+px(RO),{schedule:gx}=gj(queueMicrotask,!1),_j=k.createContext({});function LO(t,e,n,s,a){var o,c;const{visualElement:u}=k.useContext(xh),f=k.useContext(xj),m=k.useContext(ux),g=k.useContext(mj).reducedMotion,x=k.useRef(null);s=s||f.renderer,!x.current&&s&&(x.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const b=x.current,v=k.useContext(_j);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&zO(x.current,n,a,v);const w=k.useRef(!1);k.useInsertionEffect(()=>{b&&w.current&&b.update(n,m)});const S=n[vj],j=k.useRef(!!S&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,S))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,S)));return _O(()=>{b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),gx.render(b.render),j.current&&b.animationState&&b.animationState.animateChanges())}),k.useEffect(()=>{b&&(!j.current&&b.animationState&&b.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,S)}),j.current=!1))}),b}function zO(t,e,n,s){const{layoutId:a,layout:o,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wj(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||u&&eo(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}function wj(t){if(t)return t.options.allowProjection!==!1?t.projection:wj(t.parent)}function PO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){var o,c;t&&NO(t);function u(m,g){let x;const b={...k.useContext(mj),...m,layoutId:BO(m)},{isStatic:v}=b,w=AO(m),S=s(m,v);if(!v&&dx){VO();const j=FO(b);x=j.MeasureLayout,w.visualElement=LO(a,S,b,e,j.ProjectionNode)}return d.jsxs(xh.Provider,{value:w,children:[x&&w.visualElement?d.jsx(x,{visualElement:w.visualElement,...b}):null,n(a,m,OO(S,w.visualElement,g),S,v,w.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(c=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&c!==void 0?c:""})`}`;const f=k.forwardRef(u);return f[EO]=a,f}function BO({layoutId:t}){const e=k.useContext(fj).id;return e&&t!==void 0?e+"-"+t:t}function VO(t,e){k.useContext(xj).strict}function FO(t){const{drag:e,layout:n}=xo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const HO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xx(t){return typeof t!="string"||t.includes("-")?!1:!!(HO.indexOf(t)>-1||/[A-Z]/u.test(t))}function o2(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function yx(t,e,n,s){if(typeof e=="function"){const[a,o]=o2(s);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=o2(s);e=e(n!==void 0?n:t.custom,a,o)}return e}const og=t=>Array.isArray(t),UO=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),YO=t=>og(t)?t[t.length-1]||0:t,sn=t=>!!(t&&t.getVelocity);function bd(t){const e=sn(t)?t.get():t;return UO(e)?e.toValue():e}function WO({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,a,o){const c={latestValues:qO(s,a,o,t),renderState:e()};return n&&(c.onMount=u=>n({props:s,current:u,...c}),c.onUpdate=u=>n(u)),c}const Sj=t=>(e,n)=>{const s=k.useContext(xh),a=k.useContext(ux),o=()=>WO(t,e,s,a);return n?o():bO(o)};function qO(t,e,n,s){const a={},o=s(t,{});for(const b in o)a[b]=bd(o[b]);let{initial:c,animate:u}=t;const f=bh(t),m=bj(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const x=g?u:c;if(x&&typeof x!="boolean"&&!yh(x)){const b=Array.isArray(x)?x:[x];for(let v=0;v<b.length;v++){const w=yx(t,b[v]);if(w){const{transitionEnd:S,transition:j,...N}=w;for(const T in N){let E=N[T];if(Array.isArray(E)){const O=g?E.length-1:0;E=E[O]}E!==null&&(a[T]=E)}for(const T in S)a[T]=S[T]}}}return a}const jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nr=new Set(jo),jj=t=>e=>typeof e=="string"&&e.startsWith(t),Nj=jj("--"),IO=jj("var(--"),bx=t=>IO(t)?GO.test(t.split("/*")[0].trim()):!1,GO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fi=(t,e,n)=>n>e?e:n<t?t:n,No={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hc={...No,transform:t=>fi(0,1,t)},ud={...No,default:1},Nc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$i=Nc("deg"),Ns=Nc("%"),Se=Nc("px"),$O=Nc("vh"),XO=Nc("vw"),l2={...Ns,parse:t=>Ns.parse(t)/100,transform:t=>Ns.transform(t*100)},KO={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},ZO={rotate:$i,rotateX:$i,rotateY:$i,rotateZ:$i,scale:ud,scaleX:ud,scaleY:ud,scaleZ:ud,skew:$i,skewX:$i,skewY:$i,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:hc,originX:l2,originY:l2,originZ:Se},c2={...No,transform:Math.round},vx={...KO,...ZO,zIndex:c2,size:Se,fillOpacity:hc,strokeOpacity:hc,numOctaves:c2},QO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JO=jo.length;function eR(t,e,n){let s="",a=!0;for(let o=0;o<JO;o++){const c=jo[o],u=t[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const m=kj(u,vx[c]);if(!f){a=!1;const g=QO[c]||c;s+=`${g}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function _x(t,e,n){const{style:s,vars:a,transformOrigin:o}=t;let c=!1,u=!1;for(const f in e){const m=e[f];if(nr.has(f)){c=!0;continue}else if(Nj(f)){a[f]=m;continue}else{const g=kj(m,vx[f]);f.startsWith("origin")?(u=!0,o[f]=g):s[f]=g}}if(e.transform||(c||n?s.transform=eR(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:g=0}=o;s.transformOrigin=`${f} ${m} ${g}`}}const tR={offset:"stroke-dashoffset",array:"stroke-dasharray"},nR={offset:"strokeDashoffset",array:"strokeDasharray"};function sR(t,e,n=1,s=0,a=!0){t.pathLength=1;const o=a?tR:nR;t[o.offset]=Se.transform(-s);const c=Se.transform(e),u=Se.transform(n);t[o.array]=`${c} ${u}`}function u2(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function iR(t,e,n){const s=u2(e,t.x,t.width),a=u2(n,t.y,t.height);return`${s} ${a}`}function wx(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:o,pathLength:c,pathSpacing:u=1,pathOffset:f=0,...m},g,x){if(_x(t,m,x),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:v,dimensions:w}=t;b.transform&&(w&&(v.transform=b.transform),delete b.transform),w&&(a!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=iR(w,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),c!==void 0&&sR(b,c,u,f,!1)}const Sx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Mj=()=>({...Sx(),attrs:{}}),jx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Tj(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const o in n)t.style.setProperty(o,n[o])}const Dj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cj(t,e,n,s){Tj(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Dj.has(a)?a:px(a),e.attrs[a])}const Id={};function aR(t){Object.assign(Id,t)}function Aj(t,{layout:e,layoutId:n}){return nr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Id[t]||t==="opacity")}function Nx(t,e,n){var s;const{style:a}=t,o={};for(const c in a)(sn(a[c])||e.style&&sn(e.style[c])||Aj(c,t)||((s=n?.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(o[c]=a[c]);return o}function Ej(t,e,n){const s=Nx(t,e,n);for(const a in t)if(sn(t[a])||sn(e[a])){const o=jo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[o]=t[a]}return s}function rR(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const d2=["x","y","width","height","cx","cy","r"],oR={useVisualState:Sj({scrapeMotionValuesFromProps:Ej,createRenderState:Mj,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:a})=>{if(!n)return;let o=!!t.drag;if(!o){for(const u in a)if(nr.has(u)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let u=0;u<d2.length;u++){const f=d2[u];t[f]!==e[f]&&(c=!0)}c&&ut.read(()=>{rR(n,s),ut.render(()=>{wx(s,a,jx(n.tagName),t.transformTemplate),Cj(n,s)})})}})},lR={useVisualState:Sj({scrapeMotionValuesFromProps:Nx,createRenderState:Sx})};function Oj(t,e,n){for(const s in e)!sn(e[s])&&!Aj(s,n)&&(t[s]=e[s])}function cR({transformTemplate:t},e){return k.useMemo(()=>{const n=Sx();return _x(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uR(t,e){const n=t.style||{},s={};return Oj(s,n,t),Object.assign(s,cR(t,e)),s}function dR(t,e){const n={},s=uR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function hR(t,e,n,s){const a=k.useMemo(()=>{const o=Mj();return wx(o,e,jx(s),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Oj(o,t.style,t),a.style={...o,...a.style}}return a}function fR(t=!1){return(n,s,a,{latestValues:o},c)=>{const f=(xx(n)?hR:dR)(s,o,c,n),m=TO(s,typeof n=="string",t),g=n!==k.Fragment?{...m,...f,ref:a}:{},{children:x}=s,b=k.useMemo(()=>sn(x)?x.get():x,[x]);return k.createElement(n,{...g,children:b})}}function mR(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...xx(s)?oR:lR,preloadedFeatures:t,useRender:fR(a),createVisualElement:e,Component:s};return PO(c)}}function Rj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function vh(t,e,n){const s=t.getProps();return yx(s,e,n!==void 0?n:s.custom,t)}const pR=hx(()=>window.ScrollTimeline!==void 0);class gR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(a=>{if(pR()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xR extends gR{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function kx(t,e){return t?t[e]||t.default||t:void 0}const lg=2e4;function Lj(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<lg;)e+=n,s=t.next(e);return e>=lg?1/0:e}function Mx(t){return typeof t=="function"}function h2(t,e){t.timeline=e,t.onfinish=null}const Tx=t=>Array.isArray(t)&&typeof t[0]=="number",yR={linearEasing:void 0};function bR(t,e){const n=hx(t);return()=>{var s;return(s=yR[e])!==null&&s!==void 0?s:n()}}const Gd=bR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zj=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)s+=t(go(0,a-1,o))+", ";return`linear(${s.substring(0,s.length-2)})`};function Pj(t){return!!(typeof t=="function"&&Gd()||!t||typeof t=="string"&&(t in cg||Gd())||Tx(t)||Array.isArray(t)&&t.every(Pj))}const Ul=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,cg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function Bj(t,e){if(t)return typeof t=="function"&&Gd()?zj(t,e):Tx(t)?Ul(t):Array.isArray(t)?t.map(n=>Bj(n,e)||cg.easeOut):cg[t]}const rs={x:!1,y:!1};function Vj(){return rs.x||rs.y}function vR(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Fj(t,e){const n=vR(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function f2(t){return e=>{e.pointerType==="touch"||Vj()||t(e)}}function _R(t,e,n={}){const[s,a,o]=Fj(t,n),c=f2(u=>{const{target:f}=u,m=e(u);if(typeof m!="function"||!f)return;const g=f2(x=>{m(x),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,a)});return s.forEach(u=>{u.addEventListener("pointerenter",c,a)}),o}const Hj=(t,e)=>e?t===e?!0:Hj(t,e.parentElement):!1,Dx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SR(t){return wR.has(t.tagName)||t.tabIndex!==-1}const Yl=new WeakSet;function m2(t){return e=>{e.key==="Enter"&&t(e)}}function vp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jR=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=m2(()=>{if(Yl.has(n))return;vp(n,"down");const a=m2(()=>{vp(n,"up")}),o=()=>vp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function p2(t){return Dx(t)&&!Vj()}function NR(t,e,n={}){const[s,a,o]=Fj(t,n),c=u=>{const f=u.currentTarget;if(!p2(u)||Yl.has(f))return;Yl.add(f);const m=e(u),g=(v,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!p2(v)||!Yl.has(f))&&(Yl.delete(f),typeof m=="function"&&m(v,{success:w}))},x=v=>{g(v,n.useGlobalTarget||Hj(f,v.target))},b=v=>{g(v,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",b,a)};return s.forEach(u=>{!SR(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),u.addEventListener("focus",m=>jR(m,a),a)}),o}function kR(t){return t==="x"||t==="y"?rs[t]?null:(rs[t]=!0,()=>{rs[t]=!1}):rs.x||rs.y?null:(rs.x=rs.y=!0,()=>{rs.x=rs.y=!1})}const Uj=new Set(["width","height","top","left","right","bottom",...jo]);let vd;function MR(){vd=void 0}const ks={now:()=>(vd===void 0&&ks.set($t.isProcessing||wO.useManualTiming?$t.timestamp:performance.now()),vd),set:t=>{vd=t,queueMicrotask(MR)}};function Cx(t,e){t.indexOf(e)===-1&&t.push(e)}function Ax(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ex{constructor(){this.subscriptions=[]}add(e){return Cx(this.subscriptions,e),()=>Ax(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Yj(t,e){return e?t*(1e3/e):0}const g2=30,TR=t=>!isNaN(parseFloat(t));class DR{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const o=ks.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ks.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=TR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ex);const s=this.events[e].add(n);return e==="change"?()=>{s(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ks.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>g2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,g2);return Yj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fc(t,e){return new DR(t,e)}function CR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fc(n))}function AR(t,e){const n=vh(t,e);let{transitionEnd:s={},transition:a={},...o}=n||{};o={...o,...s};for(const c in o){const u=YO(o[c]);CR(t,c,u)}}function ER(t){return!!(sn(t)&&t.add)}function ug(t,e){const n=t.getValue("willChange");if(ER(n))return n.add(e)}function Wj(t){return t.props[vj]}const qj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OR=1e-7,RR=12;function LR(t,e,n,s,a){let o,c,u=0;do c=e+(n-e)/2,o=qj(c,s,a)-t,o>0?n=c:e=c;while(Math.abs(o)>OR&&++u<RR);return c}function kc(t,e,n,s){if(t===e&&n===s)return En;const a=o=>LR(o,0,1,t,n);return o=>o===0||o===1?o:qj(a(o),e,s)}const Ij=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Gj=t=>e=>1-t(1-e),$j=kc(.33,1.53,.69,.99),Ox=Gj($j),Xj=Ij(Ox),Kj=t=>(t*=2)<1?.5*Ox(t):.5*(2-Math.pow(2,-10*(t-1))),Rx=t=>1-Math.sin(Math.acos(t)),Zj=Gj(Rx),Qj=Ij(Rx),Jj=t=>/^0[^.\s]+$/u.test(t);function zR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Jj(t):!0}const Kl=t=>Math.round(t*1e5)/1e5,Lx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PR(t){return t==null}const BR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zx=(t,e)=>n=>!!(typeof n=="string"&&BR.test(n)&&n.startsWith(t)||e&&!PR(n)&&Object.prototype.hasOwnProperty.call(n,e)),eN=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,o,c,u]=s.match(Lx);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},VR=t=>fi(0,255,t),_p={...No,transform:t=>Math.round(VR(t))},qa={test:zx("rgb","red"),parse:eN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+_p.transform(t)+", "+_p.transform(e)+", "+_p.transform(n)+", "+Kl(hc.transform(s))+")"};function FR(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const dg={test:zx("#"),parse:FR,transform:qa.transform},to={test:zx("hsl","hue"),parse:eN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ns.transform(Kl(e))+", "+Ns.transform(Kl(n))+", "+Kl(hc.transform(s))+")"},en={test:t=>qa.test(t)||dg.test(t)||to.test(t),parse:t=>qa.test(t)?qa.parse(t):to.test(t)?to.parse(t):dg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qa.transform(t):to.transform(t)},HR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UR(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Lx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(HR))===null||n===void 0?void 0:n.length)||0)>0}const tN="number",nN="color",YR="var",WR="var(",x2="${}",qR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(qR,f=>(en.test(f)?(s.color.push(o),a.push(nN),n.push(en.parse(f))):f.startsWith(WR)?(s.var.push(o),a.push(YR),n.push(f)):(s.number.push(o),a.push(tN),n.push(parseFloat(f))),++o,x2)).split(x2);return{values:n,split:u,indexes:s,types:a}}function sN(t){return mc(t).values}function iN(t){const{split:e,types:n}=mc(t),s=e.length;return a=>{let o="";for(let c=0;c<s;c++)if(o+=e[c],a[c]!==void 0){const u=n[c];u===tN?o+=Kl(a[c]):u===nN?o+=en.transform(a[c]):o+=a[c]}return o}}const IR=t=>typeof t=="number"?0:t;function GR(t){const e=sN(t);return iN(t)(e.map(IR))}const ca={test:UR,parse:sN,createTransformer:iN,getAnimatableNone:GR},$R=new Set(["brightness","contrast","saturate","opacity"]);function XR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Lx)||[];if(!s)return t;const a=n.replace(s,"");let o=$R.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+a+")"}const KR=/\b([a-z-]*)\(.*?\)/gu,hg={...ca,getAnimatableNone:t=>{const e=t.match(KR);return e?e.map(XR).join(" "):t}},ZR={...vx,color:en,backgroundColor:en,outlineColor:en,fill:en,stroke:en,borderColor:en,borderTopColor:en,borderRightColor:en,borderBottomColor:en,borderLeftColor:en,filter:hg,WebkitFilter:hg},Px=t=>ZR[t];function aN(t,e){let n=Px(t);return n!==hg&&(n=ca),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QR=new Set(["auto","none","0"]);function JR(t,e,n){let s=0,a;for(;s<t.length&&!a;){const o=t[s];typeof o=="string"&&!QR.has(o)&&mc(o).values.length&&(a=t[s]),s++}if(a&&n)for(const o of e)t[o]=aN(n,a)}const y2=t=>t===No||t===Se,b2=(t,e)=>parseFloat(t.split(", ")[e]),v2=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return b2(a[1],e);{const o=s.match(/^matrix\((.+)\)$/u);return o?b2(o[1],t):0}},e6=new Set(["x","y","z"]),t6=jo.filter(t=>!e6.has(t));function n6(t){const e=[];return t6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const yo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:v2(4,13),y:v2(5,14)};yo.translateX=yo.x;yo.translateY=yo.y;const Xa=new Set;let fg=!1,mg=!1;function rN(){if(mg){const t=Array.from(Xa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=n6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([o,c])=>{var u;(u=s.getValue(o))===null||u===void 0||u.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}mg=!1,fg=!1,Xa.forEach(t=>t.complete()),Xa.clear()}function oN(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(mg=!0)})}function s6(){oN(),rN()}class Bx{constructor(e,n,s,a,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xa.add(this),fg||(fg=!0,ut.read(oN),ut.resolveKeyframes(rN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=a?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),i6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a6(t){const e=i6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function cN(t,e,n=1){const[s,a]=a6(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const c=o.trim();return lN(c)?parseFloat(c):c}return bx(a)?cN(a,e,n+1):a}const uN=t=>e=>e.test(t),r6={test:t=>t==="auto",parse:t=>t},dN=[No,Se,Ns,$i,XO,$O,r6],_2=t=>dN.find(uN(t));class hN extends Bx{constructor(e,n,s,a,o){super(e,n,s,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),bx(m))){const g=cN(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Uj.has(s)||e.length!==2)return;const[a,o]=e,c=_2(a),u=_2(o);if(c!==u)if(y2(c)&&y2(u))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)zR(e[a])&&s.push(a);s.length&&JR(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const o=n.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=yo[s](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{n.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const w2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ca.test(t)||t==="0")&&!t.startsWith("url("));function o6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function l6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=w2(a,e),u=w2(o,e);return!c||!u?!1:o6(t)||(n==="spring"||Mx(n))&&s}const c6=t=>t!==null;function _h(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(c6),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||s===void 0?a[o]:s}const u6=40;class fN{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ks.now(),this.options={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:o,repeatType:c,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>u6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&s6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ks.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:o,delay:c,onComplete:u,onUpdate:f,isGenerator:m}=this.options;if(!m&&!l6(e,s,a,o))if(c)this.options.duration=0;else{f&&f(_h(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const bt=(t,e,n)=>t+(e-t)*n;function wp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,o=0,c=0;if(!e)a=o=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;a=wp(f,u,t+1/3),o=wp(f,u,t),c=wp(f,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:s}}function $d(t,e){return n=>n>0?e:t}const Sp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},h6=[dg,qa,to],f6=t=>h6.find(e=>e.test(t));function S2(t){const e=f6(t);if(!e)return!1;let n=e.parse(t);return e===to&&(n=d6(n)),n}const j2=(t,e)=>{const n=S2(t),s=S2(e);if(!n||!s)return $d(t,e);const a={...n};return o=>(a.red=Sp(n.red,s.red,o),a.green=Sp(n.green,s.green,o),a.blue=Sp(n.blue,s.blue,o),a.alpha=bt(n.alpha,s.alpha,o),qa.transform(a))},m6=(t,e)=>n=>e(t(n)),Mc=(...t)=>t.reduce(m6),pg=new Set(["none","hidden"]);function p6(t,e){return pg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function g6(t,e){return n=>bt(t,e,n)}function Vx(t){return typeof t=="number"?g6:typeof t=="string"?bx(t)?$d:en.test(t)?j2:b6:Array.isArray(t)?mN:typeof t=="object"?en.test(t)?j2:x6:$d}function mN(t,e){const n=[...t],s=n.length,a=t.map((o,c)=>Vx(o)(o,e[c]));return o=>{for(let c=0;c<s;c++)n[c]=a[c](o);return n}}function x6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Vx(t[a])(t[a],e[a]));return a=>{for(const o in s)n[o]=s[o](a);return n}}function y6(t,e){var n;const s=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][a[c]],f=(n=t.values[u])!==null&&n!==void 0?n:0;s[o]=f,a[c]++}return s}const b6=(t,e)=>{const n=ca.createTransformer(e),s=mc(t),a=mc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?pg.has(t)&&!a.values.length||pg.has(e)&&!s.values.length?p6(t,e):Mc(mN(y6(s,a),a.values),n):$d(t,e)};function pN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bt(t,e,n):Vx(t)(t,e)}const v6=5;function gN(t,e,n){const s=Math.max(e-v6,0);return Yj(n-t(s),e-s)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jp=.001;function _6({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:s=wt.mass}){let a,o,c=1-e;c=fi(wt.minDamping,wt.maxDamping,c),t=fi(wt.minDuration,wt.maxDuration,ui(t)),c<1?(a=m=>{const g=m*c,x=g*t,b=g-n,v=gg(m,c),w=Math.exp(-x);return jp-b/v*w},o=m=>{const x=m*c*t,b=x*n+n,v=Math.pow(c,2)*Math.pow(m,2)*t,w=Math.exp(-x),S=gg(Math.pow(m,2),c);return(-a(m)+jp>0?-1:1)*((b-v)*w)/S}):(a=m=>{const g=Math.exp(-m*t),x=(m-n)*t+1;return-jp+g*x},o=m=>{const g=Math.exp(-m*t),x=(n-m)*(t*t);return g*x});const u=5/t,f=S6(a,o,u);if(t=ci(t),isNaN(f))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const w6=12;function S6(t,e,n){let s=n;for(let a=1;a<w6;a++)s=s-t(s)/e(s);return s}function gg(t,e){return t*Math.sqrt(1-e*e)}const j6=["duration","bounce"],N6=["stiffness","damping","mass"];function N2(t,e){return e.some(n=>t[n]!==void 0)}function k6(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!N2(t,N6)&&N2(t,j6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,o=2*fi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:wt.mass,stiffness:a,damping:o}}else{const n=_6(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function xN(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:m,mass:g,duration:x,velocity:b,isResolvedFromDuration:v}=k6({...n,velocity:-ui(n.velocity||0)}),w=b||0,S=m/(2*Math.sqrt(f*g)),j=c-o,N=ui(Math.sqrt(f/g)),T=Math.abs(j)<5;s||(s=T?wt.restSpeed.granular:wt.restSpeed.default),a||(a=T?wt.restDelta.granular:wt.restDelta.default);let E;if(S<1){const z=gg(N,S);E=D=>{const A=Math.exp(-S*N*D);return c-A*((w+S*N*j)/z*Math.sin(z*D)+j*Math.cos(z*D))}}else if(S===1)E=z=>c-Math.exp(-N*z)*(j+(w+N*j)*z);else{const z=N*Math.sqrt(S*S-1);E=D=>{const A=Math.exp(-S*N*D),L=Math.min(z*D,300);return c-A*((w+S*N*j)*Math.sinh(L)+z*j*Math.cosh(L))/z}}const O={calculatedDuration:v&&x||null,next:z=>{const D=E(z);if(v)u.done=z>=x;else{let A=0;S<1&&(A=z===0?ci(w):gN(E,z,D));const L=Math.abs(A)<=s,V=Math.abs(c-D)<=a;u.done=L&&V}return u.value=u.done?c:D,u},toString:()=>{const z=Math.min(Lj(O),lg),D=zj(A=>O.next(z*A).value,z,30);return z+"ms "+D}};return O}function k2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:f,restDelta:m=.5,restSpeed:g}){const x=t[0],b={done:!1,value:x},v=L=>u!==void 0&&L<u||f!==void 0&&L>f,w=L=>u===void 0?f:f===void 0||Math.abs(u-L)<Math.abs(f-L)?u:f;let S=n*e;const j=x+S,N=c===void 0?j:c(j);N!==j&&(S=N-x);const T=L=>-S*Math.exp(-L/s),E=L=>N+T(L),O=L=>{const V=T(L),X=E(L);b.done=Math.abs(V)<=m,b.value=b.done?N:X};let z,D;const A=L=>{v(b.value)&&(z=L,D=xN({keyframes:[b.value,w(b.value)],velocity:gN(E,L,b.value),damping:a,stiffness:o,restDelta:m,restSpeed:g}))};return A(0),{calculatedDuration:null,next:L=>{let V=!1;return!D&&z===void 0&&(V=!0,O(L),A(L)),z!==void 0&&L>=z?D.next(L-z):(!V&&O(L),b)}}}const M6=kc(.42,0,1,1),T6=kc(0,0,.58,1),yN=kc(.42,0,.58,1),D6=t=>Array.isArray(t)&&typeof t[0]!="number",C6={linear:En,easeIn:M6,easeInOut:yN,easeOut:T6,circIn:Rx,circInOut:Qj,circOut:Zj,backIn:Ox,backInOut:Xj,backOut:$j,anticipate:Kj},M2=t=>{if(Tx(t)){pj(t.length===4);const[e,n,s,a]=t;return kc(e,n,s,a)}else if(typeof t=="string")return C6[t];return t};function A6(t,e,n){const s=[],a=n||pN,o=t.length-1;for(let c=0;c<o;c++){let u=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||En:e;u=Mc(f,u)}s.push(u)}return s}function E6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const o=t.length;if(pj(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=A6(e,s,a),f=u.length,m=g=>{if(c&&g<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const b=go(t[x],t[x+1],g);return u[x](b)};return n?g=>m(fi(t[0],t[o-1],g)):m}function O6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=go(0,e,s);t.push(bt(n,1,a))}}function R6(t){const e=[0];return O6(e,t.length-1),e}function L6(t,e){return t.map(n=>n*e)}function z6(t,e){return t.map(()=>e||yN).splice(0,t.length-1)}function Xd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=D6(s)?s.map(M2):M2(s),o={done:!1,value:e[0]},c=L6(n&&n.length===e.length?n:R6(e),t),u=E6(c,e,{ease:Array.isArray(a)?a:z6(e,a)});return{calculatedDuration:t,next:f=>(o.value=u(f),o.done=f>=t,o)}}const P6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ut.update(e,!0),stop:()=>la(e),now:()=>$t.isProcessing?$t.timestamp:ks.now()}},B6={decay:k2,inertia:k2,tween:Xd,keyframes:Xd,spring:xN},V6=t=>t/100;class Fx extends fN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:s,element:a,keyframes:o}=this.options,c=a?.KeyframeResolver||Bx,u=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new c(o,u,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=this.options,u=Mx(n)?n:B6[n]||Xd;let f,m;u!==Xd&&typeof e[0]!="number"&&(f=Mc(V6,pN(e[0],e[1])),e=[0,100]);const g=u({...this.options,keyframes:e});o==="mirror"&&(m=u({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Lj(g));const{calculatedDuration:x}=g,b=x+a,v=b*(s+1)-a;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:x,resolvedDuration:b,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:c,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:m,totalDuration:g,resolvedDuration:x}=s;if(this.startTime===null)return o.next(0);const{delay:b,repeat:v,repeatType:w,repeatDelay:S,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-b*(this.speed>=0?1:-1),T=this.speed>=0?N<0:N>g;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let E=this.currentTime,O=o;if(v){const L=Math.min(this.currentTime,g)/x;let V=Math.floor(L),X=L%1;!X&&L>=1&&(X=1),X===1&&V--,V=Math.min(V,v+1),V%2&&(w==="reverse"?(X=1-X,S&&(X-=S/x)):w==="mirror"&&(O=c)),E=fi(0,1,X)*x}const z=T?{done:!1,value:f[0]}:O.next(E);u&&(z.value=u(z.value));let{done:D}=z;!T&&m!==null&&(D=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return A&&a!==void 0&&(z.value=_h(f,this.options,a)),j&&j(z.value),A&&this.finish(),z}get duration(){const{resolved:e}=this;return e?ui(e.calculatedDuration):0}get time(){return ui(this.currentTime)}set time(e){e=ci(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ui(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=P6,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const F6=new Set(["opacity","clipPath","filter","transform"]);function H6(t,e,n,{delay:s=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:u="easeInOut",times:f}={}){const m={[e]:n};f&&(m.offset=f);const g=Bj(u,a);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:s,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const U6=hx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Kd=10,Y6=2e4;function W6(t){return Mx(t.type)||t.type==="spring"||!Pj(t.ease)}function q6(t,e){const n=new Fx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let o=0;for(;!s.done&&o<Y6;)s=n.sample(o),a.push(s.value),o+=Kd;return{times:void 0,keyframes:a,duration:o-Kd,ease:"linear"}}const bN={anticipate:Kj,backInOut:Xj,circInOut:Qj};function I6(t){return t in bN}class T2 extends fN{constructor(e){super(e);const{name:n,motionValue:s,element:a,keyframes:o}=this.options;this.resolver=new hN(o,(c,u)=>this.onKeyframesResolved(c,u),n,s,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:a,ease:o,type:c,motionValue:u,name:f,startTime:m}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&Gd()&&I6(o)&&(o=bN[o]),W6(this.options)){const{onComplete:x,onUpdate:b,motionValue:v,element:w,...S}=this.options,j=q6(e,S);e=j.keyframes,e.length===1&&(e[1]=e[0]),s=j.duration,a=j.times,o=j.ease,c="keyframes"}const g=H6(u.owner.current,f,e,{...this.options,duration:s,times:a,ease:o});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(h2(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:x}=this.options;u.set(_h(e,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:s,times:a,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ui(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ui(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=ci(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return En;const{animation:s}=n;h2(s,e)}return En}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:a,type:o,ease:c,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:x,element:b,...v}=this.options,w=new Fx({...v,keyframes:s,duration:a,type:o,ease:c,times:u,isGenerator:!0}),S=ci(this.time);m.setWithVelocity(w.sample(S-Kd).value,w.sample(S).value,Kd)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:a,repeatType:o,damping:c,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=n.owner.getProps();return U6()&&s&&F6.has(s)&&!f&&!m&&!a&&o!=="mirror"&&c!==0&&u!=="inertia"}}const G6={type:"spring",stiffness:500,damping:25,restSpeed:10},$6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),X6={type:"keyframes",duration:.8},K6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z6=(t,{keyframes:e})=>e.length>2?X6:nr.has(t)?t.startsWith("scale")?$6(e[1]):G6:K6;function Q6({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:u,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const Hx=(t,e,n,s={},a,o)=>c=>{const u=kx(s,t)||{},f=u.delay||s.delay||0;let{elapsed:m=0}=s;m=m-ci(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:a};Q6(u)||(g={...g,...Z6(t,g)}),g.duration&&(g.duration=ci(g.duration)),g.repeatDelay&&(g.repeatDelay=ci(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const b=_h(g.keyframes,u);if(b!==void 0)return ut.update(()=>{g.onUpdate(b),g.onComplete()}),new xR([])}return!o&&T2.supports(g)?new T2(g):new Fx(g)};function J6({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function vN(t,e,{delay:n=0,transitionOverride:s,type:a}={}){var o;let{transition:c=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(c=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const x in f){const b=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),v=f[x];if(v===void 0||g&&J6(g,x))continue;const w={delay:n,...kx(c||{},x)};let S=!1;if(window.MotionHandoffAnimation){const N=Wj(t);if(N){const T=window.MotionHandoffAnimation(N,x,ut);T!==null&&(w.startTime=T,S=!0)}}ug(t,x),b.start(Hx(x,b,v,t.shouldReduceMotion&&Uj.has(x)?{type:!1}:w,t,S));const j=b.animation;j&&m.push(j)}return u&&Promise.all(m).then(()=>{ut.update(()=>{u&&AR(t,u)})}),m}function xg(t,e,n={}){var s;const a=vh(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(o=n.transitionOverride);const c=a?()=>Promise.all(vN(t,a,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:b}=o;return eL(t,e,g+m,x,b,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,g]=f==="beforeChildren"?[c,u]:[u,c];return m().then(()=>g())}else return Promise.all([c(),u(n.delay)])}function eL(t,e,n=0,s=0,a=1,o){const c=[],u=(t.variantChildren.size-1)*s,f=a===1?(m=0)=>m*s:(m=0)=>u-m*s;return Array.from(t.variantChildren).sort(tL).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(xg(m,e,{...o,delay:n+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function tL(t,e){return t.sortNodePosition(e)}function nL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(o=>xg(t,o,n));s=Promise.all(a)}else if(typeof e=="string")s=xg(t,e,n);else{const a=typeof e=="function"?vh(t,e,n.custom):e;s=Promise.all(vN(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const sL=mx.length;function _N(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_N(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<sL;n++){const s=mx[n],a=t.props[s];(dc(a)||a===!1)&&(e[s]=a)}return e}const iL=[...fx].reverse(),aL=fx.length;function rL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>nL(t,n,s)))}function oL(t){let e=rL(t),n=D2(),s=!0;const a=f=>(m,g)=>{var x;const b=vh(t,g,f==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(b){const{transition:v,transitionEnd:w,...S}=b;m={...m,...S,...w}}return m};function o(f){e=f(t)}function c(f){const{props:m}=t,g=_N(t.parent)||{},x=[],b=new Set;let v={},w=1/0;for(let j=0;j<aL;j++){const N=iL[j],T=n[N],E=m[N]!==void 0?m[N]:g[N],O=dc(E),z=N===f?T.isActive:null;z===!1&&(w=j);let D=E===g[N]&&E!==m[N]&&O;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),T.protectedKeys={...v},!T.isActive&&z===null||!E&&!T.prevProp||yh(E)||typeof E=="boolean")continue;const A=lL(T.prevProp,E);let L=A||N===f&&T.isActive&&!D&&O||j>w&&O,V=!1;const X=Array.isArray(E)?E:[E];let G=X.reduce(a(N),{});z===!1&&(G={});const{prevResolvedValues:ne={}}=T,pe={...ne,...G},re=$=>{L=!0,b.has($)&&(V=!0,b.delete($)),T.needsAnimating[$]=!0;const ie=t.getValue($);ie&&(ie.liveStyle=!1)};for(const $ in pe){const ie=G[$],te=ne[$];if(v.hasOwnProperty($))continue;let oe=!1;og(ie)&&og(te)?oe=!Rj(ie,te):oe=ie!==te,oe?ie!=null?re($):b.add($):ie!==void 0&&b.has($)?re($):T.protectedKeys[$]=!0}T.prevProp=E,T.prevResolvedValues=G,T.isActive&&(v={...v,...G}),s&&t.blockInitialAnimation&&(L=!1),L&&(!(D&&A)||V)&&x.push(...X.map($=>({animation:$,options:{type:N}})))}if(b.size){const j={};b.forEach(N=>{const T=t.getBaseTarget(N),E=t.getValue(N);E&&(E.liveStyle=!0),j[N]=T??null}),x.push({animation:j})}let S=!!x.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(x):Promise.resolve()}function u(f,m){var g;if(n[f].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(b=>{var v;return(v=b.animationState)===null||v===void 0?void 0:v.setActive(f,m)}),n[f].isActive=m;const x=c(f);for(const b in n)n[b].protectedKeys={};return x}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=D2(),s=!0}}}function lL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rj(e,t):!1}function Pa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function D2(){return{animate:Pa(!0),whileInView:Pa(),whileHover:Pa(),whileTap:Pa(),whileDrag:Pa(),whileFocus:Pa(),exit:Pa()}}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cL extends fa{constructor(e){super(e),e.animationState||(e.animationState=oL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let uL=0;class dL extends fa{constructor(){super(...arguments),this.id=uL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const hL={animation:{Feature:cL},exit:{Feature:dL}};function pc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Tc(t){return{point:{x:t.pageX,y:t.pageY}}}const fL=t=>e=>Dx(e)&&t(e,Tc(e));function Zl(t,e,n,s){return pc(t,e,fL(n),s)}const C2=(t,e)=>Math.abs(t-e);function mL(t,e){const n=C2(t.x,e.x),s=C2(t.y,e.y);return Math.sqrt(n**2+s**2)}class wN{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=kp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=mL(x.offset,{x:0,y:0})>=3;if(!b&&!v)return;const{point:w}=x,{timestamp:S}=$t;this.history.push({...w,timestamp:S});const{onStart:j,onMove:N}=this.handlers;b||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Np(b,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=kp(x.type==="pointercancel"?this.lastMoveEventInfo:Np(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,j),w&&w(x,j)},!Dx(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=Tc(e),u=Np(c,this.transformPagePoint),{point:f}=u,{timestamp:m}=$t;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,kp(u,this.history)),this.removeListeners=Mc(Zl(this.contextWindow,"pointermove",this.handlePointerMove),Zl(this.contextWindow,"pointerup",this.handlePointerUp),Zl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),la(this.updatePoint)}}function Np(t,e){return e?{point:e(t.point)}:t}function A2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kp({point:t},e){return{point:t,delta:A2(t,SN(e)),offset:A2(t,pL(e)),velocity:gL(e,.1)}}function pL(t){return t[0]}function SN(t){return t[t.length-1]}function gL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=SN(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ci(e)));)n--;if(!s)return{x:0,y:0};const o=ui(a.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-s.x)/o,y:(a.y-s.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const jN=1e-4,xL=1-jN,yL=1+jN,NN=.01,bL=0-NN,vL=0+NN;function On(t){return t.max-t.min}function _L(t,e,n){return Math.abs(t-e)<=n}function E2(t,e,n,s=.5){t.origin=s,t.originPoint=bt(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=bt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xL&&t.scale<=yL||isNaN(t.scale))&&(t.scale=1),(t.translate>=bL&&t.translate<=vL||isNaN(t.translate))&&(t.translate=0)}function Ql(t,e,n,s){E2(t.x,e.x,n.x,s?s.originX:void 0),E2(t.y,e.y,n.y,s?s.originY:void 0)}function O2(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function wL(t,e,n){O2(t.x,e.x,n.x),O2(t.y,e.y,n.y)}function R2(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function Jl(t,e,n){R2(t.x,e.x,n.x),R2(t.y,e.y,n.y)}function SL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?bt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?bt(n,t,s.max):Math.min(t,n)),t}function L2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jL(t,{top:e,left:n,bottom:s,right:a}){return{x:L2(t.x,n,a),y:L2(t.y,e,s)}}function z2(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function NL(t,e){return{x:z2(t.x,e.x),y:z2(t.y,e.y)}}function kL(t,e){let n=.5;const s=On(t),a=On(e);return a>s?n=go(e.min,e.max-s,t.min):s>a&&(n=go(t.min,t.max-a,e.min)),fi(0,1,n)}function ML(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yg=.35;function TL(t=yg){return t===!1?t=0:t===!0&&(t=yg),{x:P2(t,"left","right"),y:P2(t,"top","bottom")}}function P2(t,e,n){return{min:B2(t,e),max:B2(t,n)}}function B2(t,e){return typeof t=="number"?t:t[e]||0}const V2=()=>({translate:0,scale:1,origin:0,originPoint:0}),no=()=>({x:V2(),y:V2()}),F2=()=>({min:0,max:0}),Mt=()=>({x:F2(),y:F2()});function Kn(t){return[t("x"),t("y")]}function kN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function DL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Mp(t){return t===void 0||t===1}function bg({scale:t,scaleX:e,scaleY:n}){return!Mp(t)||!Mp(e)||!Mp(n)}function Ya(t){return bg(t)||MN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function MN(t){return H2(t.x)||H2(t.y)}function H2(t){return t&&t!=="0%"}function Zd(t,e,n){const s=t-n,a=e*s;return n+a}function U2(t,e,n,s,a){return a!==void 0&&(t=Zd(t,a,s)),Zd(t,n,s)+e}function vg(t,e=0,n=1,s,a){t.min=U2(t.min,e,n,s,a),t.max=U2(t.max,e,n,s,a)}function TN(t,{x:e,y:n}){vg(t.x,e.translate,e.scale,e.originPoint),vg(t.y,n.translate,n.scale,n.originPoint)}const Y2=.999999999999,W2=1.0000000000001;function AL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,c;for(let u=0;u<a;u++){o=n[u],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&io(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,TN(t,c)),s&&Ya(o.latestValues)&&io(t,o.latestValues))}e.x<W2&&e.x>Y2&&(e.x=1),e.y<W2&&e.y>Y2&&(e.y=1)}function so(t,e){t.min=t.min+e,t.max=t.max+e}function q2(t,e,n,s,a=.5){const o=bt(t.min,t.max,a);vg(t,e,n,o,s)}function io(t,e){q2(t.x,e.x,e.scaleX,e.scale,e.originX),q2(t.y,e.y,e.scaleY,e.scale,e.originY)}function DN(t,e){return kN(CL(t.getBoundingClientRect(),e))}function EL(t,e,n){const s=DN(t,n),{scroll:a}=e;return a&&(so(s.x,a.offset.x),so(s.y,a.offset.y)),s}const CN=({current:t})=>t?t.ownerDocument.defaultView:null,OL=new WeakMap;class RL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tc(g).point)},o=(g,x)=>{const{drag:b,dragPropagation:v,onDragStart:w}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kR(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(j=>{let N=this.getAxisMotionValue(j).get()||0;if(Ns.test(N)){const{projection:T}=this.visualElement;if(T&&T.layout){const E=T.layout.layoutBox[j];E&&(N=On(E)*(parseFloat(N)/100))}}this.originPoint[j]=N}),w&&ut.postRender(()=>w(g,x)),ug(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,x)=>{const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=x;if(v&&this.currentDirection===null){this.currentDirection=LL(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),S&&S(g,x)},u=(g,x)=>this.stop(g,x),f=()=>Kn(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new wN(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:CN(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ut.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!dd(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=SL(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&eo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=jL(a.layoutBox,n):this.constraints=!1,this.elastic=TL(s),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Kn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ML(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!eo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=EL(s,a.root,this.visualElement.getTransformPagePoint());let c=NL(a.layout.layoutBox,o);if(n){const u=n(DL(c));this.hasMutatedConstraints=!!u,u&&(c=kN(u))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=Kn(g=>{if(!dd(g,n,this.currentDirection))return;let x=f&&f[g]||{};c&&(x={min:0,max:0});const b=a?200:1e6,v=a?40:1e7,w={type:"inertia",velocity:s?e[g]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(g,w)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ug(this.visualElement,e),s.start(Hx(e,s,0,n,this.visualElement,!1))}stopAnimation(){Kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Kn(n=>{const{drag:s}=this.getProps();if(!dd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[n];o.set(e[n]-bt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!eo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Kn(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();a[c]=kL({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!dd(c,e,null))return;const u=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];u.set(bt(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;OL.set(this.visualElement,this);const e=this.visualElement.current,n=Zl(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();eo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ut.read(s);const c=pc(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Kn(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=f[g].translate,x.set(x.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=yg,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function dd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zL extends fa{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new RL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const I2=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class PL extends fa{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new wN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:I2(e),onStart:I2(n),onMove:s,onEnd:(o,c)=>{delete this.session,a&&ut.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=Zl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _d={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const El={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=G2(t,e.target.x),s=G2(t,e.target.y);return`${n}% ${s}%`}},BL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ca.parse(t);if(a.length>5)return s;const o=ca.createTransformer(t),c=typeof a[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=u,a[1+c]/=f;const m=bt(u,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),o(a)}};class VL extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:o}=e;aR(FL),o&&(n.group&&n.group.add(o),s&&s.register&&a&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),_d.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:o}=this.props,c=s.projection;return c&&(c.isPresent=o,a||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||ut.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AN(t){const[e,n]=vO(),s=k.useContext(fj);return d.jsx(VL,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(_j),isPresent:e,safeToRemove:n})}const FL={borderRadius:{...El,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:El,borderTopRightRadius:El,borderBottomLeftRadius:El,borderBottomRightRadius:El,boxShadow:BL};function HL(t,e,n){const s=sn(t)?t:fc(t);return s.start(Hx("",s,e,n)),s.animation}function UL(t){return t instanceof SVGElement&&t.tagName!=="svg"}const YL=(t,e)=>t.depth-e.depth;class WL{constructor(){this.children=[],this.isDirty=!1}add(e){Cx(this.children,e),this.isDirty=!0}remove(e){Ax(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YL),this.isDirty=!1,this.children.forEach(e)}}function qL(t,e){const n=ks.now(),s=({timestamp:a})=>{const o=a-n;o>=e&&(la(s),t(o-e))};return ut.read(s,!0),()=>la(s)}const EN=["TopLeft","TopRight","BottomLeft","BottomRight"],IL=EN.length,$2=t=>typeof t=="string"?parseFloat(t):t,X2=t=>typeof t=="number"||Se.test(t);function GL(t,e,n,s,a,o){a?(t.opacity=bt(0,n.opacity!==void 0?n.opacity:1,$L(s)),t.opacityExit=bt(e.opacity!==void 0?e.opacity:1,0,XL(s))):o&&(t.opacity=bt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<IL;c++){const u=`border${EN[c]}Radius`;let f=K2(e,u),m=K2(n,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||X2(f)===X2(m)?(t[u]=Math.max(bt($2(f),$2(m),s),0),(Ns.test(m)||Ns.test(f))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=bt(e.rotate||0,n.rotate||0,s))}function K2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $L=ON(0,.5,Zj),XL=ON(.5,.95,En);function ON(t,e,n){return s=>s<t?0:s>e?1:n(go(t,e,s))}function Z2(t,e){t.min=e.min,t.max=e.max}function $n(t,e){Z2(t.x,e.x),Z2(t.y,e.y)}function Q2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function J2(t,e,n,s,a){return t-=e,t=Zd(t,1/n,s),a!==void 0&&(t=Zd(t,1/a,s)),t}function KL(t,e=0,n=1,s=.5,a,o=t,c=t){if(Ns.test(e)&&(e=parseFloat(e),e=bt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=bt(o.min,o.max,s);t===o&&(u-=e),t.min=J2(t.min,e,n,u,a),t.max=J2(t.max,e,n,u,a)}function ew(t,e,[n,s,a],o,c){KL(t,e[n],e[s],e[a],e.scale,o,c)}const ZL=["x","scaleX","originX"],QL=["y","scaleY","originY"];function tw(t,e,n,s){ew(t.x,e,ZL,n?n.x:void 0,s?s.x:void 0),ew(t.y,e,QL,n?n.y:void 0,s?s.y:void 0)}function nw(t){return t.translate===0&&t.scale===1}function RN(t){return nw(t.x)&&nw(t.y)}function sw(t,e){return t.min===e.min&&t.max===e.max}function JL(t,e){return sw(t.x,e.x)&&sw(t.y,e.y)}function iw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LN(t,e){return iw(t.x,e.x)&&iw(t.y,e.y)}function aw(t){return On(t.x)/On(t.y)}function rw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class e8{constructor(){this.members=[]}add(e){Cx(this.members,e),e.scheduleRender()}remove(e){if(Ax(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t8(t,e,n){let s="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=n?.z||0;if((a||o||c)&&(s=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:x,rotateY:b,skewX:v,skewY:w}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),x&&(s+=`rotateX(${x}deg) `),b&&(s+=`rotateY(${b}deg) `),v&&(s+=`skewX(${v}deg) `),w&&(s+=`skewY(${w}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(s+=`scale(${u}, ${f})`),s||"none"}const Wa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wl=typeof window<"u"&&window.MotionDebug!==void 0,Tp=["","X","Y","Z"],n8={visibility:"hidden"},ow=1e3;let s8=0;function Dp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function zN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Wj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(a||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&zN(s)}function PN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},u=e?.()){this.id=s8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wl&&(Wa.totalNodes=Wa.resolvedTargetDeltas=Wa.recalculatedProjection=0),this.nodes.forEach(r8),this.nodes.forEach(d8),this.nodes.forEach(h8),this.nodes.forEach(o8),Wl&&window.MotionDebug.record(Wa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new WL)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ex),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UL(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||f)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=qL(b,250),_d.hasAnimatedSinceResize&&(_d.hasAnimatedSinceResize=!1,this.nodes.forEach(cw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||x8,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=g.getProps(),T=!this.targetLayout||!LN(this.targetLayout,w)||v,E=!b&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||b&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,E);const O={...kx(S,"layout"),onPlay:j,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else b||cw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,la(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f8),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lw);return}this.isUpdating||this.nodes.forEach(c8),this.isUpdating=!1,this.nodes.forEach(u8),this.nodes.forEach(i8),this.nodes.forEach(a8),this.clearAllSnapshots();const u=ks.now();$t.delta=fi(0,1e3/60,u-$t.timestamp),$t.timestamp=u,$t.isProcessing=!0,bp.update.process($t),bp.preRender.process($t),bp.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l8),this.sharedNodes.forEach(m8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!RN(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(u||Ya(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),y8(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:u}=this.options;if(!u)return Mt();const f=u.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(b8))){const{scroll:g}=this.root;g&&(so(f.x,g.offset.x),so(f.y,g.offset.y))}return f}removeElementScroll(c){var u;const f=Mt();if($n(f,c),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:x,options:b}=g;g!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&$n(f,c),so(f.x,x.offset.x),so(f.y,x.offset.y))}return f}applyTransform(c,u=!1){const f=Mt();$n(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&io(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ya(g.latestValues)&&io(f,g.latestValues)}return Ya(this.latestValues)&&io(f,this.latestValues),f}removeTransform(c){const u=Mt();$n(u,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Ya(m.latestValues))continue;bg(m.latestValues)&&m.updateSnapshot();const g=Mt(),x=m.measurePageBox();$n(g,x),tw(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ya(this.latestValues)&&tw(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Jl(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),TN(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Jl(this.relativeTargetOrigin,this.target,v.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wl&&Wa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bg(this.parent.latestValues)||MN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(m=!1),m)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;$n(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;AL(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Mt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Q2(this.prevProjectionDelta.x,this.projectionDelta.x),Q2(this.prevProjectionDelta.y,this.projectionDelta.y)),Ql(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!rw(this.projectionDelta.x,this.prevProjectionDelta.x)||!rw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Wl&&Wa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=no(),this.projectionDelta=no(),this.projectionDeltaWithTransform=no()}setAnimationOrigin(c,u=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},x=no();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Mt(),v=f?f.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,j=this.getStack(),N=!j||j.members.length<=1,T=!!(S&&!N&&this.options.crossfade===!0&&!this.path.some(g8));this.animationProgress=0;let E;this.mixTargetDelta=O=>{const z=O/1e3;uw(x.x,c.x,z),uw(x.y,c.y,z),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jl(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p8(this.relativeTarget,this.relativeTargetOrigin,b,z),E&&JL(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Mt()),$n(E,this.relativeTarget)),S&&(this.animationValues=g,GL(g,m,this.latestValues,z,T,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(la(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{_d.hasAnimatedSinceResize=!0,this.currentAnimation=HL(0,ow,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ow),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:g}=c;if(!(!u||!f||!m)){if(this!==c&&this.layout&&m&&BN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Mt();const x=On(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const b=On(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}$n(u,f),io(u,g),Ql(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new e8),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const m={};f.z&&Dp("z",c,m,this.animationValues);for(let g=0;g<Tp.length;g++)Dp(`rotate${Tp[g]}`,c,m,this.animationValues),Dp(`skew${Tp[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return n8;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=bd(c?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=bd(c?.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(S.transform=g?g({},""):"none",this.hasProjected=!1),S}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=t8(this.projectionDeltaWithTransform,this.treeScale,b),g&&(m.transform=g(b,m.transform));const{x:v,y:w}=this.projectionDelta;m.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,x.animationValues?m.opacity=x===this?(f=(u=b.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const S in Id){if(b[S]===void 0)continue;const{correct:j,applyTo:N}=Id[S],T=m.transform==="none"?b[S]:j(b[S],x);if(N){const E=N.length;for(let O=0;O<E;O++)m[N[O]]=T}else m[S]=T}return this.options.layoutId&&(m.pointerEvents=x===this?bd(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(lw),this.root.sharedNodes.clear()}}}function i8(t){t.updateLayout()}function a8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:o}=t.options,c=n.source!==t.layout.source;o==="size"?Kn(x=>{const b=c?n.measuredBox[x]:n.layoutBox[x],v=On(b);b.min=s[x].min,b.max=b.min+v}):BN(o,n.layoutBox,s)&&Kn(x=>{const b=c?n.measuredBox[x]:n.layoutBox[x],v=On(s[x]);b.max=b.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+v)});const u=no();Ql(u,s,n.layoutBox);const f=no();c?Ql(f,t.applyTransform(a,!0),n.measuredBox):Ql(f,s,n.layoutBox);const m=!RN(u);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:v}=x;if(b&&v){const w=Mt();Jl(w,n.layoutBox,b.layoutBox);const S=Mt();Jl(S,s,v.layoutBox),LN(w,S)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function r8(t){Wl&&Wa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function o8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function l8(t){t.clearSnapshot()}function lw(t){t.clearMeasurements()}function c8(t){t.isLayoutDirty=!1}function u8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function d8(t){t.resolveTargetDelta()}function h8(t){t.calcProjection()}function f8(t){t.resetSkewAndRotation()}function m8(t){t.removeLeadSnapshot()}function uw(t,e,n){t.translate=bt(e.translate,0,n),t.scale=bt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function dw(t,e,n,s){t.min=bt(e.min,n.min,s),t.max=bt(e.max,n.max,s)}function p8(t,e,n,s){dw(t.x,e.x,n.x,s),dw(t.y,e.y,n.y,s)}function g8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const x8={duration:.45,ease:[.4,0,.1,1]},hw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fw=hw("applewebkit/")&&!hw("chrome/")?Math.round:En;function mw(t){t.min=fw(t.min),t.max=fw(t.max)}function y8(t){mw(t.x),mw(t.y)}function BN(t,e,n){return t==="position"||t==="preserve-aspect"&&!_L(aw(e),aw(n),.2)}function b8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const v8=PN({attachResizeListener:(t,e)=>pc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cp={current:void 0},VN=PN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cp.current){const t=new v8({});t.mount(window),t.setOptions({layoutScroll:!0}),Cp.current=t}return Cp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_8={pan:{Feature:PL},drag:{Feature:zL,ProjectionNode:VN,MeasureLayout:AN}};function pw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=s[a];o&&ut.postRender(()=>o(e,Tc(e)))}class w8 extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=_R(e,n=>(pw(this.node,n,"Start"),s=>pw(this.node,s,"End"))))}unmount(){}}class S8 extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gw(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=s[a];o&&ut.postRender(()=>o(e,Tc(e)))}class j8 extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=NR(e,n=>(gw(this.node,n,"Start"),(s,{success:a})=>gw(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _g=new WeakMap,Ap=new WeakMap,N8=t=>{const e=_g.get(t.target);e&&e(t)},k8=t=>{t.forEach(N8)};function M8({root:t,...e}){const n=t||document;Ap.has(n)||Ap.set(n,{});const s=Ap.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(k8,{root:t,...e})),s[a]}function T8(t,e,n){const s=M8(e);return _g.set(t,n),s.observe(t),()=>{_g.delete(t),s.unobserve(t)}}const D8={some:0,all:1};class C8 extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:D8[a]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),b=m?g:x;b&&b(f)};return T8(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(A8(e,n))&&this.startObserver()}unmount(){}}function A8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const E8={inView:{Feature:C8},tap:{Feature:j8},focus:{Feature:S8},hover:{Feature:w8}},O8={layout:{ProjectionNode:VN,MeasureLayout:AN}},wg={current:null},FN={current:!1};function R8(){if(FN.current=!0,!!dx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wg.current=t.matches;t.addListener(e),e()}else wg.current=!1}const L8=[...dN,en,ca],z8=t=>L8.find(uN(t)),xw=new WeakMap;function P8(t,e,n){for(const s in e){const a=e[s],o=n[s];if(sn(a))t.addValue(s,a);else if(sn(o))t.addValue(s,fc(a,{owner:t}));else if(o!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,fc(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const yw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class B8{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ks.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ut.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=bh(n),this.isVariantNode=bj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in b){const w=b[v];f[v]!==void 0&&sn(w)&&w.set(f[v],!1)}}mount(e){this.current=e,xw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),FN.current||R8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xw.delete(this.current),this.projection&&this.projection.unmount(),la(this.notifyUpdate),la(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=nr.has(e),a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xo){const n=xo[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<yw.length;s++){const a=yw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=P8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=fc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(lN(a)||Jj(a))?a=parseFloat(a):!z8(a)&&ca.test(n)&&(a=aN(e,n)),this.setBaseTarget(e,sn(a)?a.get():a)),sn(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=yx(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[e])}if(s&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!sn(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ex),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class HN extends B8{constructor(){super(...arguments),this.KeyframeResolver=hN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function V8(t){return window.getComputedStyle(t)}class F8 extends HN{constructor(){super(...arguments),this.type="html",this.renderInstance=Tj}readValueFromInstance(e,n){if(nr.has(n)){const s=Px(n);return s&&s.default||0}else{const s=V8(e),a=(Nj(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DN(e,n)}build(e,n,s){_x(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Nx(e,n,s)}}class H8 extends HN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nr.has(n)){const s=Px(n);return s&&s.default||0}return n=Dj.has(n)?n:px(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Ej(e,n,s)}build(e,n,s){wx(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){Cj(e,n,s,a)}mount(e){this.isSVGTag=jx(e.tagName),super.mount(e)}}const U8=(t,e)=>xx(t)?new H8(e):new F8(e,{allowProjection:t!==k.Fragment}),Y8=mR({...hL,...E8,..._8,...O8},U8),Gi=DO(Y8);function W8(){const[t,e]=k.useState(null),[n,s]=k.useState(!1),[a,o]=k.useState(!1),[c,u]=k.useState(null),[f,m]=k.useState(!0),[g,x]=k.useState(null),b=k.useCallback(async()=>{if(c){s(!0),o(!1);try{const j=await me.getAdvice();j&&typeof j=="object"&&"status"in j&&j.status==="disabled"?(u(!1),e(null)):e(j.advice??null)}catch(j){console.error(j),o(!0)}finally{s(!1)}}},[c]),v=k.useCallback(async()=>{s(!0),o(!1);try{const j=await me.analystRun();x(j)}catch(j){console.error("Failed to fetch analyst summary:",j),o(!0)}finally{s(!1)}},[]);k.useEffect(()=>{me.config().then(j=>{const N=j.advisor||{},T=N.enable_llm!==!1,E=N.auto_fetch!==!1;u(T),m(E),T&&E&&b(),T||v()}).catch(j=>{console.error("Failed to load advisor config:",j),u(!1)})},[b,v]);const w=!!c&&!n,S=async()=>{const j=!f;m(j);try{await me.configSave({advisor:{auto_fetch:j}}),j&&c&&!t&&b()}catch(N){console.error("Failed to update advisor auto_fetch setting:",N)}};return d.jsxs(Ae,{className:"h-full p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[d.jsx(aS,{className:"h-4 w-4 text-accent"}),d.jsx("span",{children:"Aurora Advisor"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c&&d.jsx("button",{onClick:S,className:`rounded-pill px-2 py-1 text-[10px] font-medium transition ${f?"bg-accent text-canvas border border-accent":"bg-surface border border-line/60 text-muted hover:border-accent hover:text-accent"}`,title:f?"Disable auto-fetch (advisor runs only on manual request)":"Enable auto-fetch when the plan changes",children:""}),c!==null&&d.jsx("button",{onClick:b,disabled:!w,className:"text-[10px] text-muted hover:text-text transition-colors p-1 disabled:opacity-40",title:c?"Fetch latest advice":"Enable LLM advice in Settings",children:d.jsx(iS,{className:`h-4 w-4 ${n?"animate-spin":""}`})})]})]}),d.jsxs("div",{className:"text-[11px] text-text leading-relaxed",children:[c===!1&&d.jsxs(d.Fragment,{children:[n&&d.jsx("span",{className:"animate-pulse",children:"Analyzing schedule (offline)"}),!n&&a&&d.jsx("span",{className:"text-red-400",children:"Unable to analyze schedule. Check backend logs for details."}),!n&&!a&&g&&g.recommendations&&d.jsx("div",{className:"space-y-2",children:Object.entries(g.recommendations).slice(0,3).map(([j,N])=>{const T=N??{},E=T.label||j,O=T.best_grid_window||{},z=T.best_solar_window||{},D=V=>V&&V.length>=16?V.slice(11,16):"",A=O.start&&O.end?`${D(O.start)}${D(O.end)} (${O.avg_price?.toFixed?.(2)??""} SEK/kWh)`:null,L=z.start&&z.end?`${D(z.start)}${D(z.end)} (${z.avg_pv_surplus?.toFixed?.(2)??""} kW surplus)`:null;return d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("div",{className:"font-medium",children:E}),d.jsxs("div",{className:"flex flex-wrap gap-3 text-[10px] text-muted",children:[A&&d.jsxs("span",{className:"inline-flex items-center gap-1",children:[d.jsx(Ss,{className:"h-3 w-3 text-accent"}),d.jsxs("span",{children:["Grid: ",A]})]}),L&&d.jsxs("span",{className:"inline-flex items-center gap-1",children:[d.jsx(rS,{className:"h-3 w-3 text-accent"}),d.jsxs("span",{children:["Solar: ",L]})]})]})]},j)})}),!n&&!a&&(!g||!g.recommendations)&&d.jsx("span",{className:"text-muted",children:"No appliance recommendations available. Configure appliances in Settings to see suggested run windows."})]}),c===!0&&d.jsxs(d.Fragment,{children:[n&&d.jsx("span",{className:"animate-pulse",children:"Analyzing schedule..."}),!n&&a&&d.jsx("span",{className:"text-red-400",children:"Unable to fetch advice. Check AI settings or try again."}),!n&&!a&&!t&&!f&&d.jsx("span",{className:"text-muted",children:"Click the refresh icon to analyze your current schedule."}),!n&&!a&&t&&d.jsx("span",{children:t})]}),c===null&&!n&&!a&&d.jsx("span",{className:"text-muted",children:"Loading advisor settings"})]})]})}const bw=({value:t,total:e,colorClass:n})=>{const s=e>0?Math.min(100,t/e*100):0;return d.jsx("div",{className:"h-1.5 w-full bg-surface2 rounded-full overflow-hidden flex",children:d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${n}`,style:{width:`${s}%`}})})};function q8({netCost:t,importKwh:e,exportKwh:n,exportGuard:s}){const a=(t??0)<=0;return d.jsxs(Ae,{className:"p-4 flex flex-col justify-between h-full relative overflow-hidden group",children:[d.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${a?"bg-emerald-500":"bg-red-500"}`}),d.jsxs("div",{className:"flex items-center gap-2 mb-3 relative z-10",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${a?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:d.jsx(tS,{className:"h-4 w-4"})}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Grid & Financial"}),s&&d.jsx("span",{className:"ml-auto text-[9px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded border border-emerald-500/20 animate-pulse",children:"Guard"})]}),d.jsxs("div",{className:"mb-4 relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-0.5",children:"Net Daily Cost"}),d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsx("span",{className:`text-2xl font-bold ${a?"text-emerald-400":"text-red-400"}`,children:t!=null?Math.abs(t).toFixed(2):""}),d.jsx("span",{className:"text-xs text-muted",children:"kr"}),t!==null&&d.jsx("span",{className:`text-[10px] ml-2 px-1.5 py-0.5 rounded ${a?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:t>0?"COST":"EARNING"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto relative z-10",children:[d.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-red-300 mb-1",children:[d.jsx(Vg,{className:"h-3 w-3"}),d.jsx("span",{className:"text-[10px]",children:"Import"})]}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[e?.toFixed(1)??""," ",d.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]}),d.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-300 mb-1",children:[d.jsx(Fg,{className:"h-3 w-3"}),d.jsx("span",{className:"text-[10px]",children:"Export"})]}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[n?.toFixed(1)??""," ",d.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function I8({pvActual:t,pvForecast:e,loadActual:n,loadAvg:s,waterKwh:a,batteryCapacity:o}){return d.jsxs(Ae,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.01]"}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-amber-500/10 text-amber-400",children:d.jsx(Ss,{className:"h-4 w-4"})}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Energy Resources"}),o!=null&&o>0&&d.jsxs("span",{className:"ml-auto text-[9px] text-muted opacity-60",children:[o," kWh Cap"]})]}),d.jsxs("div",{className:"space-y-4 relative z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-amber-300",children:[d.jsx(Yg,{className:"h-3 w-3"}),d.jsx("span",{children:"Solar Production"})]}),d.jsxs("div",{className:"text-[10px] text-muted",children:[d.jsx("span",{className:"text-text font-medium",children:t?.toFixed(1)??""}),d.jsx("span",{className:"mx-1",children:"/"}),e?.toFixed(1)??""," kWh"]})]}),d.jsx(bw,{value:t??0,total:e??1,colorClass:"bg-amber-400"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-purple-300",children:[d.jsx(sc,{className:"h-3 w-3"}),d.jsx("span",{children:"House Load"})]}),d.jsxs("div",{className:"text-[10px] text-muted",children:[d.jsx("span",{className:"text-text font-medium",children:n?.toFixed(1)??""}),d.jsx("span",{className:"mx-1",children:"/"}),s?.toFixed(1)??""," kWh"]})]}),d.jsx(bw,{value:n??0,total:s??1,colorClass:"bg-purple-400"})]}),d.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-line/30",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-sky-300",children:[d.jsx(nS,{className:"h-3 w-3"}),d.jsx("span",{children:"Water Heating"})]}),d.jsxs("div",{className:"text-sm font-medium text-text",children:[a?.toFixed(1)??""," ",d.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function G8({soc:t,socTarget:e,sIndex:n,cycles:s,riskLabel:a}){return d.jsxs(Ae,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-blue-500/[0.01]"}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-blue-500/10 text-blue-400",children:d.jsx(Ed,{className:"h-4 w-4"})}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Battery & Strategy"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:[d.jsxs("div",{className:"col-span-2 flex items-center gap-3 p-3 rounded-xl bg-surface2/30 border border-line/30",children:[d.jsx(Qw,{className:`h-8 w-8 ${(t??0)>50?"text-emerald-400":(t??0)>20?"text-amber-400":"text-red-400"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-2xl font-bold text-text",children:[t?.toFixed(0)??"","%"]}),d.jsx("div",{className:"text-[10px] text-muted",children:e!=null?`Targeting ${e.toFixed(0)}%`:"Current SoC"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"S-Index"}),d.jsx("div",{className:"text-lg font-semibold text-text",children:n?`x${n.toFixed(2)}`:""}),d.jsx("div",{className:"text-[10px] text-blue-300/80",children:"Strategy Factor"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"Cycles"}),d.jsx("div",{className:"text-lg font-semibold text-text",children:s?.toFixed(1)??""}),d.jsx("div",{className:"text-[10px] text-muted",children:a||"Daily usage"})]})]})]})}function $8({comfortLevel:t,setComfortLevel:e,riskAppetite:n,setRiskAppetite:s,vacationMode:a,onWaterBoost:o,onBatteryTopUp:c}){return d.jsxs(Ae,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[d.jsx("div",{className:"absolute left-[19px] top-6 bottom-6 w-[1px] bg-line/30 z-0"}),d.jsxs("div",{className:"space-y-3 relative z-10",children:[d.jsxs("div",{className:"bg-surface2/30 rounded-xl p-3 border border-line/50 relative overflow-hidden group",children:[d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-blue-500/50 to-purple-500/50"}),d.jsxs("div",{className:"flex justify-between items-baseline mb-2 pl-3",children:[d.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[d.jsx("span",{children:"Market Strategy"}),d.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-colors ${n>3?"bg-purple-400 shadow-[0_0_5px_rgba(192,132,252,0.8)]":n<2?"bg-emerald-400":"bg-blue-400"}`})]}),d.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[n]||"Unknown"})]}),d.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(u=>{const f={1:"bg-emerald-500/20 text-emerald-300 border-emerald-500/40 shadow-[0_0_10px_rgba(16,185,129,0.2)]",2:"bg-teal-500/20 text-teal-300 border-teal-500/40 shadow-[0_0_10px_rgba(20,184,166,0.2)]",3:"bg-blue-500/20 text-blue-300 border-blue-500/40 shadow-[0_0_10px_rgba(59,130,246,0.2)]",4:"bg-amber-500/20 text-amber-300 border-amber-500/40 shadow-[0_0_10px_rgba(245,158,11,0.2)]",5:"bg-purple-500/20 text-purple-300 border-purple-500/40 shadow-[0_0_10px_rgba(168,85,247,0.2)]"},m=n===u;return d.jsx("button",{onClick:()=>s(u),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${f[u]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:u},u)})})]}),d.jsxs("div",{className:"bg-surface2/30 rounded-xl p-3 border border-line/50 relative overflow-hidden",children:[d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500/50 to-red-500/50"}),d.jsxs("div",{className:"flex justify-between items-center mb-2 pl-3",children:[d.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[d.jsx("span",{children:"Water Comfort"}),a&&d.jsx("span",{className:"text-[9px] text-amber-300 bg-amber-500/20 px-1.5 rounded animate-pulse",children:"Vacation"})]}),d.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Economy",2:"Balanced",3:"Neutral",4:"Priority",5:"Maximum"}[t]||"Unknown"})]}),d.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(u=>{const f={1:"bg-emerald-500/20 text-emerald-300 border-emerald-500/40 shadow-[0_0_10px_rgba(16,185,129,0.2)]",2:"bg-teal-500/20 text-teal-300 border-teal-500/40 shadow-[0_0_10px_rgba(20,184,166,0.2)]",3:"bg-blue-500/20 text-blue-300 border-blue-500/40 shadow-[0_0_10px_rgba(59,130,246,0.2)]",4:"bg-amber-500/20 text-amber-300 border-amber-500/40 shadow-[0_0_10px_rgba(245,158,11,0.2)]",5:"bg-red-500/20 text-red-300 border-red-500/40 shadow-[0_0_10px_rgba(239,68,68,0.2)]"},m=t===u;return d.jsx("button",{onClick:()=>e(u),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${f[u]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:u},u)})})]}),d.jsxs("div",{className:"bg-surface2/30 rounded-xl p-2 border border-line/50 flex gap-2 relative",children:[d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-line/50"}),d.jsxs("button",{onClick:o,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group ml-3",children:[d.jsx("div",{className:"p-1 rounded-full bg-orange-500/10 text-orange-400 group-hover:bg-orange-500/20 transition-colors",children:d.jsx(Hg,{className:"h-3.5 w-3.5"})}),d.jsx("span",{className:"text-[10px] font-medium text-text",children:"Boost Water (1h)"})]}),d.jsxs("button",{onClick:c,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group",children:[d.jsx("div",{className:"p-1 rounded-full bg-emerald-500/10 text-emerald-400 group-hover:bg-emerald-500/20 transition-colors",children:d.jsx(qp,{className:"h-3.5 w-3.5"})}),d.jsx("span",{className:"text-[10px] font-medium text-text",children:"Top Up 50%"})]})]})]})]})}const Ts=Object.create(null);Ts.open="0";Ts.close="1";Ts.ping="2";Ts.pong="3";Ts.message="4";Ts.upgrade="5";Ts.noop="6";const wd=Object.create(null);Object.keys(Ts).forEach(t=>{wd[Ts[t]]=t});const Sg={type:"error",data:"parser error"},UN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",YN=typeof ArrayBuffer=="function",WN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ux=({type:t,data:e},n,s)=>UN&&e instanceof Blob?n?s(e):vw(e,s):YN&&(e instanceof ArrayBuffer||WN(e))?n?s(e):vw(new Blob([e]),s):s(Ts[t]+(e||"")),vw=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function _w(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ep;function X8(t,e){if(UN&&t.data instanceof Blob)return t.data.arrayBuffer().then(_w).then(e);if(YN&&(t.data instanceof ArrayBuffer||WN(t.data)))return e(_w(t.data));Ux(t,!1,n=>{Ep||(Ep=new TextEncoder),e(Ep.encode(n))})}const ww="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ql=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<ww.length;t++)ql[ww.charCodeAt(t)]=t;const K8=t=>{let e=t.length*.75,n=t.length,s,a=0,o,c,u,f;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const m=new ArrayBuffer(e),g=new Uint8Array(m);for(s=0;s<n;s+=4)o=ql[t.charCodeAt(s)],c=ql[t.charCodeAt(s+1)],u=ql[t.charCodeAt(s+2)],f=ql[t.charCodeAt(s+3)],g[a++]=o<<2|c>>4,g[a++]=(c&15)<<4|u>>2,g[a++]=(u&3)<<6|f&63;return m},Z8=typeof ArrayBuffer=="function",Yx=(t,e)=>{if(typeof t!="string")return{type:"message",data:qN(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Q8(t.substring(1),e)}:wd[n]?t.length>1?{type:wd[n],data:t.substring(1)}:{type:wd[n]}:Sg},Q8=(t,e)=>{if(Z8){const n=K8(t);return qN(n,e)}else return{base64:!0,data:t}},qN=(t,e)=>e==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,IN="",J8=(t,e)=>{const n=t.length,s=new Array(n);let a=0;t.forEach((o,c)=>{Ux(o,!1,u=>{s[c]=u,++a===n&&e(s.join(IN))})})},ez=(t,e)=>{const n=t.split(IN),s=[];for(let a=0;a<n.length;a++){const o=Yx(n[a],e);if(s.push(o),o.type==="error")break}return s};function tz(){return new TransformStream({transform(t,e){X8(t,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let Op;function hd(t){return t.reduce((e,n)=>e+n.length,0)}function fd(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let a=0;a<e;a++)n[a]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function nz(t,e){Op||(Op=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(c,u){for(n.push(c);;){if(s===0){if(hd(n)<1)break;const f=fd(n,1);o=(f[0]&128)===128,a=f[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(hd(n)<2)break;const f=fd(n,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(hd(n)<8)break;const f=fd(n,8),m=new DataView(f.buffer,f.byteOffset,f.length),g=m.getUint32(0);if(g>Math.pow(2,21)-1){u.enqueue(Sg);break}a=g*Math.pow(2,32)+m.getUint32(4),s=3}else{if(hd(n)<a)break;const f=fd(n,a);u.enqueue(Yx(o?f:Op.decode(f),e)),s=0}if(a===0||a>t){u.enqueue(Sg);break}}}})}const GN=4;function Rt(t){if(t)return sz(t)}function sz(t){for(var e in Rt.prototype)t[e]=Rt.prototype[e];return t}Rt.prototype.on=Rt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Rt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Rt.prototype.off=Rt.prototype.removeListener=Rt.prototype.removeAllListeners=Rt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===e||s.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Rt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,e)}return this};Rt.prototype.emitReserved=Rt.prototype.emit;Rt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Rt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const wh=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Zn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),iz="arraybuffer";function $N(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const az=Zn.setTimeout,rz=Zn.clearTimeout;function Sh(t,e){e.useNativeTimers?(t.setTimeoutFn=az.bind(Zn),t.clearTimeoutFn=rz.bind(Zn)):(t.setTimeoutFn=Zn.setTimeout.bind(Zn),t.clearTimeoutFn=Zn.clearTimeout.bind(Zn))}const oz=1.33;function lz(t){return typeof t=="string"?cz(t):Math.ceil((t.byteLength||t.size)*oz)}function cz(t){let e=0,n=0;for(let s=0,a=t.length;s<a;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function XN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function uz(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function dz(t){let e={},n=t.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class hz extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class Wx extends Rt{constructor(e){super(),this.writable=!1,Sh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new hz(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Yx(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=uz(e);return n.length?"?"+n:""}}class fz extends Wx{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};ez(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,J8(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=XN()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let KN=!1;try{KN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const mz=KN;function pz(){}class gz extends fz{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class Ms extends Rt{constructor(e,n,s){super(),this.createRequest=e,Sh(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=$N(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Ms.requestsCount++,Ms.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=pz,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ms.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ms.requestsCount=0;Ms.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Sw);else if(typeof addEventListener=="function"){const t="onpagehide"in Zn?"pagehide":"unload";addEventListener(t,Sw,!1)}}function Sw(){for(let t in Ms.requests)Ms.requests.hasOwnProperty(t)&&Ms.requests[t].abort()}const xz=(function(){const t=ZN({xdomain:!1});return t&&t.responseType!==null})();class yz extends gz{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=xz&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ms(ZN,this.uri(),e)}}function ZN(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||mz))return new XMLHttpRequest}catch{}if(!e)try{return new Zn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const QN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bz extends Wx{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=QN?{}:$N(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;Ux(s,this.supportsBinary,o=>{try{this.doWrite(s,o)}catch{}a&&wh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=XN()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Rp=Zn.WebSocket||Zn.MozWebSocket;class vz extends bz{createSocket(e,n,s){return QN?new Rp(e,n,s):n?new Rp(e,n):new Rp(e)}doWrite(e,n){this.ws.send(n)}}class _z extends Wx{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=nz(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),a=tz();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const o=()=>{s.read().then(({done:u,value:f})=>{u||(this.onPacket(f),o())}).catch(u=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;this._writer.write(s).then(()=>{a&&wh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const wz={websocket:vz,webtransport:_z,polling:yz},Sz=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jz=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function jg(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let a=Sz.exec(t||""),o={},c=14;for(;c--;)o[jz[c]]=a[c]||"";return n!=-1&&s!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Nz(o,o.path),o.queryKey=kz(o,o.query),o}function Nz(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function kz(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}const Ng=typeof addEventListener=="function"&&typeof removeEventListener=="function",Sd=[];Ng&&addEventListener("offline",()=>{Sd.forEach(t=>t())},!1);class ia extends Rt{constructor(e,n){if(super(),this.binaryType=iz,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=jg(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=jg(n.host).host);Sh(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=dz(this.opts.query)),Ng&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Sd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=GN,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ia.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",ia.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=lz(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,wh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:e,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(ia.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ng&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Sd.indexOf(this._offlineEventListener);s!==-1&&Sd.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}ia.protocol=GN;class Mz extends ia{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;ia.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",x=>{if(!s)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ia.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(g(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function o(){s||(s=!0,g(),n.close(),n=null)}const c=x=>{const b=new Error("probe error: "+x);b.transport=n.name,o(),this.emitReserved("upgradeError",b)};function u(){c("transport closed")}function f(){c("socket closed")}function m(x){n&&x.name!==n.name&&o()}const g=()=>{n.removeListener("open",a),n.removeListener("error",c),n.removeListener("close",u),this.off("close",f),this.off("upgrading",m)};n.once("open",a),n.once("error",c),n.once("close",u),this.once("close",f),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let Tz=class extends Mz{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>wz[a]).filter(a=>!!a)),super(e,s)}};function Dz(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=jg(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+e,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const Cz=typeof ArrayBuffer=="function",Az=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,JN=Object.prototype.toString,Ez=typeof Blob=="function"||typeof Blob<"u"&&JN.call(Blob)==="[object BlobConstructor]",Oz=typeof File=="function"||typeof File<"u"&&JN.call(File)==="[object FileConstructor]";function qx(t){return Cz&&(t instanceof ArrayBuffer||Az(t))||Ez&&t instanceof Blob||Oz&&t instanceof File}function jd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(jd(t[n]))return!0;return!1}if(qx(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return jd(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&jd(t[n]))return!0;return!1}function Rz(t){const e=[],n=t.data,s=t;return s.data=kg(n,e),s.attachments=e.length,{packet:s,buffers:e}}function kg(t,e){if(!t)return t;if(qx(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=kg(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=kg(t[s],e));return n}return t}function Lz(t,e){return t.data=Mg(t.data,e),delete t.attachments,t}function Mg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Mg(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Mg(t[n],e));return t}const ek=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zz=5;var Ce;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ce||(Ce={}));class Pz{constructor(e){this.replacer=e}encode(e){return(e.type===Ce.EVENT||e.type===Ce.ACK)&&jd(e)?this.encodeAsBinary({type:e.type===Ce.EVENT?Ce.BINARY_EVENT:Ce.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ce.BINARY_EVENT||e.type===Ce.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Rz(e),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}class Ix extends Rt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Ce.BINARY_EVENT;s||n.type===Ce.BINARY_ACK?(n.type=s?Ce.EVENT:Ce.ACK,this.reconstructor=new Bz(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(qx(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Ce[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ce.BINARY_EVENT||s.type===Ce.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const c=e.substring(o,n);if(c!=Number(c)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(c)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(o,n)}else s.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const c=e.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===e.length)break}s.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(Ix.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ce.CONNECT:return Qd(n);case Ce.DISCONNECT:return n===void 0;case Ce.CONNECT_ERROR:return typeof n=="string"||Qd(n);case Ce.EVENT:case Ce.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ek.indexOf(n[0])===-1);case Ce.ACK:case Ce.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Bz{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Lz(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Vz(t){return typeof t=="string"}const Fz=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function Hz(t){return t===void 0||Fz(t)}function Qd(t){return Object.prototype.toString.call(t)==="[object Object]"}function Uz(t,e){switch(t){case Ce.CONNECT:return e===void 0||Qd(e);case Ce.DISCONNECT:return e===void 0;case Ce.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&ek.indexOf(e[0])===-1);case Ce.ACK:return Array.isArray(e);case Ce.CONNECT_ERROR:return typeof e=="string"||Qd(e);default:return!1}}function Yz(t){return Vz(t.nsp)&&Hz(t.id)&&Uz(t.type,t.data)}const Wz=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ix,Encoder:Pz,get PacketType(){return Ce},isPacketValid:Yz,protocol:zz},Symbol.toStringTag,{value:"Module"}));function os(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const qz=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tk extends Rt{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[os(e,"open",this.onopen.bind(this)),os(e,"packet",this.onpacket.bind(this)),os(e,"error",this.onerror.bind(this)),os(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,a,o;if(qz.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const c={type:Ce.EVENT,data:n};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const g=this.ids++,x=n.pop();this._registerAckCallback(g,x),c.id=g}const u=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,f=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!u||(f?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(e,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},a),c=(...u)=>{this.io.clearTimeoutFn(o),n.apply(this,u)};c.withError=!0,this.acks[e]=c}emitWithAck(e,...n){return new Promise((s,a)=>{const o=(c,u)=>c?a(c):s(u);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...o)=>(this._queue[0],a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ce.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ce.EVENT:case Ce.BINARY_EVENT:this.onevent(e);break;case Ce.ACK:case Ce.BINARY_ACK:this.onack(e);break;case Ce.DISCONNECT:this.ondisconnect();break;case Ce.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Ce.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function ko(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ko.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};ko.prototype.reset=function(){this.attempts=0};ko.prototype.setMin=function(t){this.ms=t};ko.prototype.setMax=function(t){this.max=t};ko.prototype.setJitter=function(t){this.jitter=t};class Tg extends Rt{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Sh(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ko({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||Wz;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Tz(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=os(n,"open",function(){s.onopen(),e&&e()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},c=os(n,"error",o);if(this._timeout!==!1){const u=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},u);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(os(e,"ping",this.onping.bind(this)),os(e,"data",this.ondata.bind(this)),os(e,"error",this.onerror.bind(this)),os(e,"close",this.onclose.bind(this)),os(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){wh(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new tk(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ol={};function Nd(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Dz(t,e.path||"/socket.io"),s=n.source,a=n.id,o=n.path,c=Ol[a]&&o in Ol[a].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||c;let f;return u?f=new Tg(s,e):(Ol[a]||(Ol[a]=new Tg(s,e)),f=Ol[a]),n.query&&!e.query&&(e.query=n.queryKey),f.socket(n.path,e)}Object.assign(Nd,{Manager:Tg,Socket:tk,io:Nd,connect:Nd});let Xr=null;const Iz=()=>(Xr||(Xr=Nd({path:"/socket.io",autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),Xr.on("connect",()=>{console.log(" Connected to Darkstar WebSocket")}),Xr.on("disconnect",t=>{console.warn(" Disconnected from Darkstar WebSocket:",t)}),Xr.on("connect_error",t=>{console.error(" WebSocket connection error:",t)})),Xr),ao=(t,e)=>{k.useEffect(()=>{const n=Iz();return n.on(t,e),()=>{n.off(t,e)}},[t,e])};function jw(t){if(!t)return"";const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${e}-${n}-${s} ${a}:${o}`}function Gz(){const[t,e]=k.useState(null),[n,s]=k.useState(!1),[a,o]=k.useState(null),[c,u]=k.useState(0),[f,m]=k.useState(null),[g,x]=k.useState(null),[b,v]=k.useState(!1),[w,S]=k.useState(null),[j,N]=k.useState(null),[T,E]=k.useState(null),[O,z]=k.useState(null),[D,A]=k.useState(null),[L,V]=k.useState(null),[X,G]=k.useState(null),[ne,pe]=k.useState(null),[re,le]=k.useState(null),[F,$]=k.useState("local"),[ie,te]=k.useState(0),[oe,R]=k.useState(null),[U,J]=k.useState(0),[C,ee]=k.useState(null),[ce,De]=k.useState(0),[xt,Ge]=k.useState(!1),[_n,cn]=k.useState(!1),[fe,Je]=k.useState(""),[yt,Es]=k.useState(1),[bi,$e]=k.useState(!1),[un,ma]=k.useState([]);ao("live_metrics",de=>{de.soc!==void 0&&e(de.soc)}),ao("plan_updated",()=>{console.log(" Plan updated! Refreshing data..."),ms()}),ao("executor_status",de=>{A({shadow_mode:de.shadow_mode??!1,paused:de.paused??null})}),ao("ha_entity_change",de=>{if(de.entity_id===fe){const Ve=de.state==="on";cn(Ve)}}),k.useEffect(()=>{const de=async()=>{try{const Ve=await me.config();if(Ve){const rt=Ve.water_heating?.vacation_mode;Ge(rt?.enabled||!1)}}catch(Ve){console.log("Failed to reload vacation mode:",Ve)}};return window.addEventListener("config-updated",de),()=>window.removeEventListener("config-updated",de)},[]);const ir=k.useCallback(de=>{$(de)},[]),ar=k.useCallback(de=>{if(!de||de.length===0){ma([]);return}me.scheduleTodayWithHistory().then(Ve=>{const rt=Ve.slots??[],Lt=new Map;rt.forEach(Kt=>{Kt.start_time&&Lt.set(String(Kt.start_time),Kt)});const wn=de.map(Kt=>{const Ln=Kt.start_time,Sn=Ln?Lt.get(String(Ln)):void 0;if(!Sn)return Kt;const ps={...Kt};return Sn.soc_actual_percent!=null&&(ps.soc_actual_percent=Sn.soc_actual_percent),Sn.is_executed===!0&&(ps.is_executed=!0),ps});ma(wn)}).catch(Ve=>{console.error("Failed to merge history into server schedule:",Ve),ma(de??[])}).finally(()=>{})},[]),ms=k.useCallback(async()=>{s(!0);let de=!1;try{const[Ve,rt,Lt,wn,Kt,Ln,Sn,ps,pa]=await Promise.allSettled([me.status(),me.config(),me.haAverage(),me.schedule(),me.haWaterToday(),me.schedulerStatus(),me.scheduleTodayWithHistory(),me.executor.status(),me.energyToday()]);if(Ve.status==="fulfilled"){const be=Ve.value;be.current_soc?.value!==void 0&&e(be.current_soc.value),be.local&&G(be.local),be.db&&!("error"in be.db)&&pe(be.db)}if(rt.status==="fulfilled"){const be=rt.value,zn=be.arbitrage||{};if($e(zn.export_guard_enabled||!1),typeof zn.risk_appetite=="number"&&Es(zn.risk_appetite),be.system?.battery?.capacity_kwh!=null&&te(be.system.battery.capacity_kwh),be.automation){const Zt=be.automation;x({enable_scheduler:Zt.enable_scheduler,write_to_mariadb:Zt.write_to_mariadb,external_executor_mode:Zt.external_executor_mode,every_minutes:Zt.schedule?.every_minutes??null})}else x(null);be.water_heating&&(typeof be.water_heating.comfort_level=="number"&&De(be.water_heating.comfort_level),typeof be.water_heating.vacation_mode?.enabled=="boolean"&&Ge(be.water_heating.vacation_mode.enabled)),be.input_sensors?.vacation_mode&&(Je(be.input_sensors.vacation_mode),me.haEntityState(be.input_sensors.vacation_mode).then(Zt=>{const wi=Zt.state==="on";cn(wi)}).catch(()=>{cn(!1)}))}else de=!0,console.error("Failed to load config for Dashboard:",rt.reason);if(Lt.status==="fulfilled"){const be=Lt.value;R({kw:be.average_load_kw??0,dailyKwh:be.daily_kwh??0})}else de=!0,console.error("Failed to load HA average for Dashboard:",Lt.reason);if(wn.status==="fulfilled"){const be=wn.value,zn=be.schedule??[];N(zn),be.meta?.last_error?z({message:be.meta.last_error,at:be.meta.last_error_at||""}):z(null);const Zt=new Date,wi=zn.find(Oo=>{const lr=new Date(Oo.start_time||""),Lc=new Date(lr.getTime()+1800*1e3);return Zt>=lr&&Zt<Lc});wi?.soc_target_percent!==void 0&&J(wi.soc_target_percent)}else de=!0,console.error("Failed to load schedule for Dashboard:",wn.reason);if(Kt.status==="fulfilled"){const be=Kt.value;ee({kwh:be.water_kwh_today??0,source:be.source??"unknown"})}else de=!0,console.error("Failed to load water data for Dashboard:",Kt.reason);if(Ln.status==="fulfilled"){const be=Ln.value;S({last_run_at:be.last_run_at??null,last_run_status:be.last_run_status??null,next_run_at:be.next_run_at??null})}else console.error("Failed to load scheduler status for Dashboard:",Ln.reason);if(Sn.status==="fulfilled"){const zn=Sn.value.slots??[];E(zn)}else console.error("Failed to load schedule history for Dashboard:",Sn.reason);let _i=0;if(Sn.status==="fulfilled"&&Sn.value.slots){const be=new Date;be.setHours(0,0,0,0),Sn.value.slots.filter(Zt=>new Date(Zt.start_time)>=be).forEach(Zt=>{_i+=Zt.pv_forecast_kwh??0})}if(ps.status==="fulfilled"){const be=ps.value;A({shadow_mode:be.shadow_mode??!1,paused:be.paused??null})}else console.error("Failed to load executor status for Dashboard:",ps.reason);if(pa.status==="fulfilled"){const be=pa.value;V({gridImport:be.grid_import_kwh,gridExport:be.grid_export_kwh,batteryCycles:be.battery_cycles,pvProduction:be.pv_production_kwh,pvForecast:Math.round(_i*10)/10,loadConsumption:be.load_consumption_kwh,netCost:be.net_cost_kr})}else console.error("Failed to load energy today for Dashboard:",pa.reason);o(new Date)}catch(Ve){console.error("Error fetching dashboard data:",Ve),de=!0}finally{s(!1),m(de?"Some dashboard data failed to load.":null),u(Ve=>Ve+1)}},[]);k.useEffect(()=>{let de=null;F==="server"?de=ne:de=X,le(de)},[F,X,ne]),k.useEffect(()=>{ms()},[ms]);const Ph=async()=>{if(b)return;const Ve=!(g?.enable_scheduler??!1);v(!0);try{await me.configSave({automation:{enable_scheduler:Ve}}),x(rt=>({enable_scheduler:Ve,write_to_mariadb:rt?.write_to_mariadb,external_executor_mode:rt?.external_executor_mode,every_minutes:rt?.every_minutes??null}))}catch(rt){console.error("Failed to toggle planner automation:",rt)}finally{v(!1)}},[Xt,rr]=k.useState(!1),[Co,ts]=k.useState(null),or=async()=>{rr(!0),ts(null);try{const de=await me.loadServerPlan();ar(de.schedule??[]),ir("server"),ts({type:"success",message:"Plan loaded from DB"})}catch(de){ts({type:"error",message:de instanceof Error?de.message:"Load failed"})}finally{rr(!1),setTimeout(()=>ts(null),3e3)}},Bh=async()=>{rr(!0),ts(null);try{await me.pushToDb(),ts({type:"success",message:"Plan pushed to DB"}),ms()}catch(de){ts({type:"error",message:de instanceof Error?de.message:"Push failed"})}finally{rr(!1),setTimeout(()=>ts(null),3e3)}};let Os;if(F==="server"&&un&&un.length>0)Os=un;else if(F==="local"&&j&&j.length>0){const de=j.filter(Ve=>cx(Ve.start_time)||Wd(Ve.start_time));if(T&&T.length>0){const Ve=de.filter(rt=>Wd(rt.start_time));Os=[...T,...Ve]}else Os=de}const Ao=new Date;let Oc=F==="server"?"Server Plan":"Local Plan";re?.planned_at&&(Oc=`Generated ${new Date(re.planned_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`);let vi="";if(Os){const de=Os.find(Ve=>{const rt=new Date(Ve.start_time),Lt=new Date(rt.getTime()+1800*1e3);return Ao>=rt&&Ao<Lt});if(de){const Ve=new Date(new Date(de.start_time).getTime()+18e5),rt=Math.max(0,Math.floor((Ve.getTime()-Ao.getTime())/6e4));let Lt="Idle";(de.charge_kw||0)>.1?Lt=`Charge ${de.charge_kw?.toFixed(1)}kW`:(de.discharge_kw||0)>.1?Lt=`Discharge ${de.discharge_kw?.toFixed(1)}kW`:(de.export_kwh||0)>.1?Lt=`Export ${de.export_kwh?.toFixed(1)}kWh`:(de.water_heating_kw||0)>.1&&(Lt="Heat Water"),vi=`  Next: ${Lt} (${rt}m)`}}const on=`${Oc}${vi}`,ns=w?.last_run_at||X?.planned_at||ne?.planned_at,Ut=ns?new Date(ns):null,Rc=g?.every_minutes&&g.every_minutes>0?g.every_minutes:null;let Eo=null;return w?.next_run_at?Eo=new Date(w.next_run_at):g?.enable_scheduler&&Ut&&Rc&&(Eo=new Date(Ut.getTime()+Rc*60*1e3)),d.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-6 sm:px-6 lg:pt-10 space-y-6",children:[O&&d.jsx(Gi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-error p-4",children:d.jsxs("div",{className:"flex items-start justify-between gap-4 w-full",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-sm mb-1",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Planner Error"})]}),d.jsx("div",{className:"opacity-80 text-xs",children:O.message}),O.at&&d.jsx("div",{className:"opacity-60 text-[10px] mt-1",children:new Date(O.at).toLocaleString()})]}),d.jsx("button",{onClick:()=>z(null),className:"opacity-60 hover:opacity-100 text-xs px-2 py-1",title:"Dismiss",children:""})]})}),D?.shadow_mode&&d.jsxs(Gi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-purple px-4 py-3",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-medium",children:"Shadow Mode Active"}),d.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Actions logged but not executed on Home Assistant"})]}),D?.paused&&d.jsxs(Gi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-medium",children:"Executor Paused (Idle Mode)"}),D.paused.paused_minutes!==void 0&&d.jsxs("span",{className:"opacity-70 text-xs ml-2",children:[" Paused for ",D.paused.paused_minutes," minutes"]})]}),(xt||_n)&&d.jsxs(Gi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-medium",children:"Vacation Mode Active"}),d.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Water heating is disabled"})]}),d.jsx(Gi.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsx(hj,{useHistoryForToday:F==="local",refreshToken:c,slotsOverride:Os,range:"48h",showDayToggle:!0})}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-stretch",children:[d.jsxs(Gi.div,{className:"h-full flex flex-col gap-4",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:[d.jsxs(Ae,{className:"p-3 flex items-center justify-between shrink-0",children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:on}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-[10px] text-muted",children:a&&`Synced ${a.toLocaleTimeString()}`}),f&&d.jsx("div",{className:"text-[10px] text-amber-400",children:f}),d.jsx("button",{onClick:()=>ms(),disabled:n,className:`rounded-pill px-2 py-1 text-[10px] font-medium transition ${n?"bg-surface border border-line/60 text-muted cursor-not-allowed":"bg-surface border border-line/60 text-muted hover:border-accent hover:text-accent"}`,title:"Manual sync",children:d.jsx("span",{className:n?"inline-block animate-spin":"",children:n?"":""})})]})]}),d.jsx("div",{className:"flex-1 min-h-0",children:d.jsx(W8,{})})]}),d.jsx(Gi.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsx($8,{comfortLevel:ce,setComfortLevel:async de=>{De(de),await me.configSave({water_heating:{comfort_level:de}})},riskAppetite:yt,setRiskAppetite:async de=>{Es(de),await me.configSave({s_index:{risk_appetite:de}})},vacationMode:xt,onWaterBoost:async()=>{try{await me.waterBoost.start(60),ms()}catch(de){console.error("Boost failed",de)}},onBatteryTopUp:async()=>{try{await me.executor.quickAction.set("force_charge",60),ms()}catch(de){console.error("Top Up failed",de)}}})}),d.jsx(Gi.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsxs("div",{className:"flex h-full flex-col gap-6",children:[d.jsx(Ae,{className:"flex-1 p-4 md:p-5",children:d.jsx(yO,{onDataRefresh:ms,onPlanSourceChange:ir,onServerScheduleLoaded:ar,onVacationModeChange:de=>Ge(de)})}),d.jsxs(Ae,{className:"flex-1 p-4 md:p-5",children:[d.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[d.jsx("div",{className:"text-sm text-muted",children:"Planner Automation"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted",children:[d.jsx("span",{className:`inline-flex h-2.5 w-2.5 rounded-full ${g?.enable_scheduler?"bg-emerald-400 shadow-[0_0_0_2px_rgba(16,185,129,0.4)]":"bg-line"}`}),d.jsx("span",{children:g?.enable_scheduler?"Active":"Disabled"})]}),d.jsx("button",{type:"button",onClick:Ph,disabled:b,className:"rounded-pill px-3 py-1 text-[10px] font-semibold border border-line/60 text-muted hover:border-accent hover:text-accent disabled:opacity-50 transition",children:g?.enable_scheduler?"Disable":"Enable"})]})]}),d.jsx("div",{className:"text-[11px] text-muted",children:g?.enable_scheduler?"Planner will auto-run on the configured schedule.":"Auto-planner is off. Use Quick Actions to run manually."}),d.jsxs("div",{className:"mt-2 space-y-1 text-[10px] text-muted",children:[d.jsxs("div",{children:["Last plan run: ",jw(Ut)]}),d.jsxs("div",{children:["Next expected run:"," ",g?.enable_scheduler?jw(Eo):""]}),d.jsxs("div",{children:["DB sync: ",g?.write_to_mariadb?"enabled":"disabled"]})]})]}),g?.external_executor_mode&&d.jsxs(Ae,{className:"flex-1 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[d.jsx("div",{className:"text-sm text-muted",children:"DB Sync"}),d.jsx("div",{className:`text-[10px] ${Co?.type==="success"?"text-green-400":"text-red-400"}`,children:Co?.message})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[d.jsxs("button",{type:"button",onClick:or,disabled:Xt,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Pull plan from MariaDB current_schedule table",children:[d.jsx(Vg,{className:"h-4 w-4"}),d.jsx("span",{children:"Load from DB"})]}),d.jsxs("button",{type:"button",onClick:Bh,disabled:Xt,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Push local schedule.json to MariaDB",children:[d.jsx(Fg,{className:"h-4 w-4"}),d.jsx("span",{children:"Push to DB"})]})]})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[d.jsx(q8,{netCost:L?.netCost??null,importKwh:L?.gridImport??null,exportKwh:L?.gridExport??null,exportGuard:bi}),d.jsx(I8,{pvActual:L?.pvProduction??null,pvForecast:L?.pvForecast??null,loadActual:L?.loadConsumption??null,loadAvg:oe?.dailyKwh??null,waterKwh:C?.kwh??null,batteryCapacity:ie}),d.jsx(G8,{soc:t,socTarget:U,sIndex:re?.s_index?.effective_load_margin??null,cycles:L?.batteryCycles??null,riskLabel:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[yt]||"Neutral"})]})]})}function $z(){const[t,e]=k.useState([]),[n,s]=k.useState(!1),[a,o]=k.useState(null),[c,u]=k.useState("all"),[f,m]=k.useState("all"),[g,x]=k.useState(null),[b,v]=k.useState(null),[w,S]=k.useState("today"),j=k.useRef(null),N=k.useRef(null);k.useEffect(()=>{s(!0),o(null),me.debugLogs().then(z=>e(z.logs??[])).catch(z=>{console.error("Failed to fetch debug logs:",z),o("Failed to load logs")}).finally(()=>s(!1))},[]),k.useEffect(()=>{(()=>{v(null);let z="today";if(w==="yesterday"){const D=new Date;D.setDate(D.getDate()-1),z=D.toISOString().slice(0,10)}me.historySoc(z).then(D=>x(D)).catch(D=>{console.error("Failed to fetch historic SoC:",D),v("Failed to load SoC history")})})()},[w]);const T=t.filter(O=>{if(c==="all")return!0;const z=(O.level||"").toUpperCase();return c==="error"?z==="ERROR"||z==="CRITICAL":z==="WARN"||z==="WARNING"||z==="ERROR"||z==="CRITICAL"}).filter(O=>{if(f==="all")return!0;const z=new Date(O.timestamp).getTime();if(Number.isNaN(z))return!0;const A=Date.now()-z,L=3600*1e3;return f==="1h"?A<=L:f==="6h"?A<=6*L:f==="24h"?A<=24*L:!0}),E=t.filter(O=>{const z=(O.level||"").toUpperCase();return z==="ERROR"||z==="CRITICAL"});return k.useEffect(()=>{if(!j.current)return;const O=g?.slots??[];if(!O.length){N.current&&(N.current.destroy(),N.current=null);return}const z=O.map(V=>{const X=new Date(V.timestamp);return Number.isNaN(X.getTime())?"":X.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}),D=O.map(V=>V.soc_percent??0),A={labels:z,datasets:[{type:"line",label:"SoC (%)",data:D,borderColor:"rgba(129, 200, 253, 0.9)",backgroundColor:"rgba(129, 200, 253, 0.15)",pointRadius:0,tension:.25}]},L={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:V=>`SoC: ${V.parsed.y?.toFixed(1)??"--"}%`}}},scales:{x:{ticks:{color:"#a6b0bf",maxRotation:0},grid:{display:!1}},y:{ticks:{color:"#a6b0bf",stepSize:10},grid:{color:"rgba(255,255,255,0.06)"},beginAtZero:!0,suggestedMax:100}}};if(N.current){N.current.data=A,N.current.options=L,N.current.update();return}return N.current=new hs(j.current,{type:"line",data:A,options:L}),()=>{N.current&&(N.current.destroy(),N.current=null)}},[g]),d.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-8 sm:px-6 lg:pt-12",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"text-sm text-muted",children:"Debug & Diagnostics"}),d.jsx("div",{className:"text-[13px] text-muted/80",children:"Logs and SoC history to understand what the planner has been doing recently."})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[d.jsxs(Ae,{className:"p-5 lg:col-span-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"text-sm text-muted",children:"Logs"}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[d.jsx("button",{className:"rounded-pill border border-line/60 px-3 py-1 hover:border-accent disabled:opacity-40",onClick:()=>{s(!0),o(null),me.debugLogs().then(O=>e(O.logs??[])).catch(O=>{console.error("Failed to refresh debug logs:",O),o("Failed to refresh logs")}).finally(()=>s(!1))},disabled:n,children:n?"Refreshing":"Refresh"}),d.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:f,onChange:O=>m(O.target.value),children:[d.jsx("option",{value:"all",children:"All time"}),d.jsx("option",{value:"1h",children:"Last 1 hour"}),d.jsx("option",{value:"6h",children:"Last 6 hours"}),d.jsx("option",{value:"24h",children:"Last 24 hours"})]}),d.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:c,onChange:O=>u(O.target.value),children:[d.jsx("option",{value:"all",children:"All levels"}),d.jsx("option",{value:"warn_error",children:"Warn + Error"}),d.jsx("option",{value:"error",children:"Errors only"})]})]})]}),a&&d.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:a}),d.jsxs("div",{className:"h-64 overflow-auto rounded-xl2 border border-line/60 bg-surface2/40 text-[11px] font-mono text-muted/90",children:[T.length===0&&!n&&!a&&d.jsx("div",{className:"px-3 py-2 text-muted/70",children:"No logs captured yet."}),T.map((O,z)=>d.jsxs("div",{className:"px-3 py-1.5 border-b border-line/20 last:border-b-0",children:[d.jsx("span",{className:"text-muted/60 mr-2",children:new Date(O.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),d.jsx("span",{className:"mr-2 rounded-full px-1.5 py-0.5 text-[10px] uppercase tracking-wide border border-line/50",children:O.level}),d.jsx("span",{className:"text-muted/70 mr-2",children:O.logger}),d.jsx("span",{children:O.message})]},`${O.timestamp}-${z}`))]})]}),d.jsxs(Ae,{className:"p-5 lg:col-span-1",children:[d.jsx("div",{className:"text-sm text-muted mb-3",children:"Recent events"}),d.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"Quick view of recent errors and warnings from the log stream."}),d.jsxs("div",{className:"space-y-2 text-[12px] text-muted/90",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Total log entries"}),d.jsx("span",{className:"tabular-nums",children:t.length})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Error/critical entries"}),d.jsx("span",{className:"tabular-nums",children:E.length})]}),d.jsx("div",{className:"mt-3 text-[11px] text-muted/70 uppercase tracking-wide",children:"Last errors"}),d.jsxs("div",{className:"space-y-1.5 max-h-40 overflow-auto",children:[E.slice(-5).map((O,z)=>d.jsxs("div",{className:"rounded-md bg-rose-500/5 border border-rose-500/40 px-2 py-1.5",children:[d.jsxs("div",{className:"text-[10px] text-rose-200/80 mb-0.5",children:[new Date(O.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})," "," ",O.logger]}),d.jsx("div",{className:"text-[11px] text-rose-50/90 line-clamp-2",children:O.message})]},`${O.timestamp}-err-${z}`)),E.length===0&&d.jsx("div",{className:"text-[11px] text-muted/70",children:"No error-level entries yet."})]})]})]})]}),d.jsx("div",{className:"grid gap-6 mt-6 lg:grid-cols-3",children:d.jsxs(Ae,{className:"p-5 lg:col-span-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"text-sm text-muted",children:"Historical SoC"}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[d.jsx("span",{className:"text-muted/70",children:"Range"}),d.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:w,onChange:O=>S(O.target.value),children:[d.jsx("option",{value:"today",children:"Today"}),d.jsx("option",{value:"yesterday",children:"Yesterday"})]})]})]}),d.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"SoC (%) over the selected day from the learning database. Use this to correlate planner behaviour with actual SoC movement."}),b&&d.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:b}),d.jsx("div",{className:"h-48",children:d.jsx("canvas",{ref:j,className:"w-full h-full"})})]})})]})}function Qr({variant:t="info",children:e,className:n=""}){return d.jsx("div",{className:`banner banner-${t} ${n}`,children:e})}function Rl({variant:t="muted",children:e,className:n=""}){return d.jsx("span",{className:`badge badge-${t} ${n}`,children:e})}const nk=k.createContext(void 0);function Gx(){const t=k.useContext(nk);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t}function sk(t,e){return e.reduce((n,s)=>n&&typeof n=="object"?n[s]:void 0,t)}function ik(t,e,n){if(e.length===0)return t;const[s,...a]=e;if(a.length===0)return{...t,[s]:n};const o=t[s]||{};return{...t,[s]:ik(o,a,n)}}function Xz(t,e){const n=e.trim();if(t.type==="number"||t.type==="azimuth"||t.type==="tilt"){if(n==="")return null;const s=Number(n);return Number.isNaN(s)?void 0:s}return t.type==="boolean"?n==="true":t.type==="array"?n?n.split(",").map(s=>s.trim()).filter(Boolean).map(s=>{const a=Number(s);return Number.isNaN(a)?s:a}):[]:n}function Nw(t,e){const n={};return t&&e.forEach(s=>{const a=sk(t,s.path);s.type==="boolean"?n[s.key]=a===!0?"true":"false":s.type==="array"&&Array.isArray(a)?n[s.key]=a.join(", "):n[s.key]=a!=null?String(a):""}),n}function kw(t,e,n){let s={};return n.forEach(a=>{const o=e[a.key];if(o===void 0)return;const c=Xz(a,o);if(c===void 0||a.type==="number"&&c===null)return;const u=sk(t,a.path);((m,g,x)=>x==="array"?!Array.isArray(m)||!Array.isArray(g)||m.length!==g.length?!1:m.every((b,v)=>b===g[v]):m===g)(c,u,a.type)||(s=ik(s,a.path,c))}),s}function jh(t){const{toast:e}=Gx(),[n,s]=k.useState(null),[a,o]=k.useState({}),[c,u]=k.useState({}),[f,m]=k.useState(!0),[g,x]=k.useState(!1),[b,v]=k.useState(null),[w,S]=k.useState([]),[j,N]=k.useState(!1),T=k.useCallback(async()=>{m(!0),v(null);try{const V=await me.config();s(V),o(Nw(V,t)),u({})}catch(V){console.error("Failed to load configuration",V),v("Failed to load configuration: "+(V instanceof Error?V.message:"Unknown error"))}finally{m(!1)}},[t]),E=k.useCallback(async()=>{N(!0);try{const V=await me.haEntities();S(V.entities||[])}catch(V){console.error("Failed to load HA entities",V)}finally{N(!1)}},[]);k.useEffect(()=>{T(),E()},[T,E]);const O=k.useCallback((V,X,G)=>{const ne={},pe=X.trim();if(pe===""&&(V.includes("power_kw")||V.includes("capacity_kwh")))ne[V]="Required";else if(V.includes("percent")||V.includes("soc")){const F=Number(pe);Number.isNaN(F)?ne[V]="Must be a number":(F<0||F>100)&&(ne[V]="Must be between 0 and 100")}else if(V.includes("power_kw")||V.includes("sek")||V.includes("kwh")){const F=Number(pe);Number.isNaN(F)?ne[V]="Must be a number":F<0&&(ne[V]="Must be positive")}const re="battery.min_soc_percent",le="battery.max_soc_percent";if(V===re||V===le){const F=Number(V===re?pe:G[re]),$=Number(V===le?pe:G[le]);!Number.isNaN(F)&&!Number.isNaN($)&&F>=$&&(ne[re]="Min SoC must be less than max SoC",ne[le]="Max SoC must be greater than min SoC")}return ne},[]),z=k.useCallback((V,X)=>{o(G=>{const ne={...G,[V]:X},pe=O(V,X,ne);return u(re=>{const le={...re,...pe};return pe[V]||delete le[V],V==="battery.min_soc_percent"&&!pe["battery.min_soc_percent"]&&delete le["battery.max_soc_percent"],V==="battery.max_soc_percent"&&!pe["battery.max_soc_percent"]&&delete le["battery.min_soc_percent"],le}),ne}),v(null)},[O]),D=k.useCallback(()=>{n&&(o(Nw(n,t)),u({}),v(null))},[n,t]),A=k.useCallback(async V=>{if(!n)return!1;if(Object.keys(c).length>0)return v("Please fix validation errors before saving."),!1;const X={...kw(n,a,t),...V};if(Object.keys(X).length===0)return v("No changes detected."),!1;x(!0),v(null);try{const G=await me.configSave(X);if(G.status==="success")return e({message:"Settings saved successfully",variant:"success"}),await T(),!0;{const ne={};G.errors?.forEach(pe=>{pe.field&&(ne[pe.field]=pe.message)}),u(pe=>({...pe,...ne})),v(G.errors?.[0]?.message||"Save failed"),e({message:"Save failed",variant:"error"})}}catch(G){console.error("Save failed",G),v("Save failed: "+(G instanceof Error?G.message:"Unknown error")),e({message:"Save failed",variant:"error"})}finally{x(!1)}return!1},[n,a,t,c,T,e]),L=k.useMemo(()=>{if(!n)return!1;const V=kw(n,a,t);return Object.keys(V).length>0},[n,a,t]);return{config:n,form:a,fieldErrors:c,loading:f,saving:g,statusMessage:b,isDirty:L,haEntities:w,haLoading:j,handleChange:z,save:A,reset:D,reload:T,reloadEntities:E}}function Kz({text:t,className:e=""}){const[n,s]=k.useState(!1);return t?d.jsxs("div",{className:`relative inline-block ${e}`,children:[d.jsx("button",{type:"button",className:"ml-1.5 text-muted/60 hover:text-accent transition-colors",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onFocus:()=>s(!0),onBlur:()=>s(!1),children:d.jsx(YD,{className:"w-3.5 h-3.5"})}),n&&d.jsxs("div",{className:"absolute z-50 w-64 p-2.5 text-xs bg-surface2 border border-line rounded-lg shadow-lg left-0 bottom-full mb-1.5",children:[d.jsx("div",{className:"text-muted leading-relaxed",children:t}),d.jsx("div",{className:"absolute w-2 h-2 bg-surface2 border-r border-b border-line transform rotate-45 left-3 -bottom-1"})]})]}):null}function Zz({value:t,onChange:e}){const n=k.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t%360;return x<0&&(x+=360),x},[t]),[s,a]=k.useState(!1),o=x=>{const b=Math.round(x),v=[0,45,90,135,180,225,270,315];let w=b,S=1/0;for(const j of v){const N=Math.abs(b-j);N<S&&N<=7&&(S=N,w=j)}return w},c=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let T=Math.atan2(S,-j)*180/Math.PI;T<0&&(T+=360);const E=o(T);e(E)},u=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}c(x)},f=x=>{s&&c(x)},m=x=>{if(s){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},g=`rotate(${n} 24 24)`;return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:u,onPointerMove:f,onPointerUp:m,"aria-label":"Solar azimuth dial",role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":Math.round(n),children:d.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[d.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/60",strokeWidth:"2"}),d.jsx("g",{children:Array.from({length:12}).map((x,b)=>{const v=b*30,w=v%90===0,S=!w&&v%45===0,j=21,N=w?16:S?18:19,T=(v-90)*Math.PI/180,E=24+j*Math.cos(T),O=24+j*Math.sin(T),z=24+N*Math.cos(T),D=24+N*Math.sin(T),A=w||S?"stroke-line/80":"stroke-line/40",L=w?1.6:1;return d.jsx("line",{x1:E,y1:O,x2:z,y2:D,className:A,strokeWidth:L},v)})}),d.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"N"}),d.jsx("text",{x:"24",y:"45",textAnchor:"middle",className:"fill-muted text-[8px]",children:"S"}),d.jsx("text",{x:"43",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"E"}),d.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"W"}),d.jsxs("g",{transform:g,children:[d.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),d.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),d.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[d.jsxs("div",{className:"font-medium text-text",children:[Math.round(n),""]}),d.jsx("div",{children:"0 = North  90 = East  180 = South  270 = West"})]})]})}function Qz({value:t,onChange:e}){const n=k.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t;return x<0&&(x=0),x>90&&(x=90),x},[t]),[s,a]=k.useState(!1),o=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let T=Math.atan2(S,-j)*180/Math.PI;T<0&&(T+=360),(T<270||T>360)&&(T>=0&&T<=135?T=360:T=270);let E=360-T;E<0&&(E=0),E>90&&(E=90);const O=Math.round(E/5)*5;e(O)},c=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}o(x)},u=x=>{s&&o(x)},f=x=>{if(s){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},g=`rotate(${k.useMemo(()=>360-n,[n])} 24 24)`;return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:c,onPointerMove:u,onPointerUp:f,"aria-label":"Solar tilt dial",role:"slider","aria-valuemin":0,"aria-valuemax":90,"aria-valuenow":Math.round(n),children:d.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[d.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/40",strokeWidth:"2"}),d.jsx("path",{d:"M3 24 A21 21 0 0 1 24 3",className:"fill-none stroke-accent/70",strokeWidth:"2.2"}),d.jsx("g",{children:Array.from({length:7}).map((x,b)=>{const v=b*15,w=360-v,S=21,j=v%30===0?18:19,N=(w-90)*Math.PI/180,T=24+S*Math.cos(N),E=24+S*Math.sin(N),O=24+j*Math.cos(N),z=24+j*Math.sin(N),D=v===0||v===90?"stroke-line/80":"stroke-line/60",A=v===0||v===90?1.6:1.2;return d.jsx("line",{x1:T,y1:E,x2:O,y2:z,className:D,strokeWidth:A},v)})}),d.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"0"}),d.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"90"}),d.jsxs("g",{transform:g,children:[d.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),d.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),d.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[d.jsxs("div",{className:"font-medium text-text",children:[Math.round(n),""]}),d.jsx("div",{children:"Drag along the arc: 0 = flat  90 = vertical panel"})]})]})}function Jz({entities:t,value:e,onChange:n,placeholder:s="Select entity...",disabled:a=!1,loading:o=!1}){const[c,u]=k.useState(!1),[f,m]=k.useState(""),[g,x]=k.useState(0),b=k.useRef(null),v=k.useRef(null),w=k.useRef(null),S=t.find(D=>D.entity_id===e),j=k.useMemo(()=>{if(!f.trim())return t;const D=f.toLowerCase();return t.filter(A=>A.entity_id.toLowerCase().includes(D)||A.friendly_name.toLowerCase().includes(D))},[t,f]),N=k.useMemo(()=>{const D={};return j.forEach(A=>{const L=A.domain||A.entity_id.split(".")[0];D[L]||(D[L]=[]),D[L].push(A)}),D},[j]),T=k.useMemo(()=>{const D=[];return Object.values(N).forEach(A=>D.push(...A)),D},[N]);k.useEffect(()=>{x(0)},[j.length]),k.useEffect(()=>{const D=A=>{b.current&&!b.current.contains(A.target)&&(u(!1),m(""))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),k.useEffect(()=>{if(c&&w.current){const D=w.current.querySelector('[data-highlighted="true"]');D&&D.scrollIntoView({block:"nearest"})}},[g,c]);const E=D=>{n(D.entity_id),u(!1),m("")},O=D=>{if(!c){(D.key==="Enter"||D.key===" "||D.key==="ArrowDown")&&(D.preventDefault(),u(!0));return}switch(D.key){case"ArrowDown":D.preventDefault(),x(A=>Math.min(A+1,T.length-1));break;case"ArrowUp":D.preventDefault(),x(A=>Math.max(A-1,0));break;case"Enter":D.preventDefault(),T[g]&&E(T[g]);break;case"Escape":D.preventDefault(),u(!1),m("");break}},z=D=>{D.stopPropagation(),n(""),u(!1),m("")};return d.jsxs("div",{ref:b,className:"relative",children:[d.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(u(!c),c||setTimeout(()=>v.current?.focus(),0))},onKeyDown:O,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[d.jsx("span",{className:S?"text-text":"text-muted",children:o?"Loading...":S?.friendly_name||S?.entity_id||s}),d.jsxs("div",{className:"flex items-center gap-1",children:[e&&!a&&d.jsx("button",{type:"button",onClick:z,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:d.jsx(vo,{className:"h-3.5 w-3.5"})}),d.jsx(oh,{className:`h-4 w-4 text-muted transition-transform ${c?"rotate-180":""}`})]})]}),c&&d.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[d.jsx("div",{className:"p-2 border-b border-line",children:d.jsxs("div",{className:"relative",children:[d.jsx(Ug,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),d.jsx("input",{ref:v,type:"text",value:f,onChange:D=>m(D.target.value),onKeyDown:O,placeholder:"Search entities...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),d.jsx("div",{ref:w,className:"max-h-[240px] overflow-y-auto p-1",children:j.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No entities found"}):Object.entries(N).map(([D,A])=>d.jsxs("div",{className:"mb-1",children:[d.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:D}),A.map(L=>{const X=T.findIndex(ne=>ne.entity_id===L.entity_id)===g,G=L.entity_id===e;return d.jsxs("button",{type:"button","data-highlighted":X,onClick:()=>E(L),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${X?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${G?"font-medium":""}
                                                `,children:[d.jsx("div",{className:"truncate",children:L.friendly_name||L.entity_id}),d.jsx("div",{className:"text-[10px] text-muted truncate",children:L.entity_id})]},L.entity_id)})]},D))})]})]})}function eP({value:t,onChange:e,placeholder:n="Select service (e.g. notify.mobile_app)...",disabled:s=!1}){const[a,o]=k.useState(!1),[c,u]=k.useState(""),[f,m]=k.useState([]),[g,x]=k.useState(!1),[b,v]=k.useState(0),w=k.useRef(null),S=k.useRef(null),j=k.useRef(null);k.useEffect(()=>{a&&f.length===0&&!g&&(x(!0),me.haServices().then(A=>{m(A.services||[])}).catch(A=>{console.error("Failed to fetch HA services:",A)}).finally(()=>{x(!1)}))},[a,f.length,g]);const N=k.useMemo(()=>{if(!c.trim())return f;const A=c.toLowerCase();return f.filter(L=>L.toLowerCase().includes(A))},[f,c]),T=k.useMemo(()=>{const A={};return N.forEach(L=>{const V=L.split(".")[0]||"other";A[V]||(A[V]=[]),A[V].push(L)}),A},[N]),E=k.useMemo(()=>{const A=[];return Object.values(T).forEach(L=>A.push(...L)),A},[T]);k.useEffect(()=>{v(0)},[N.length]),k.useEffect(()=>{const A=L=>{w.current&&!w.current.contains(L.target)&&(o(!1),u(""))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),k.useEffect(()=>{if(a&&j.current){const A=j.current.querySelector('[data-highlighted="true"]');A&&A.scrollIntoView({block:"nearest"})}},[b,a]);const O=A=>{e(A),o(!1),u("")},z=A=>{if(!a){(A.key==="Enter"||A.key===" "||A.key==="ArrowDown")&&(A.preventDefault(),o(!0));return}switch(A.key){case"ArrowDown":A.preventDefault(),v(L=>Math.min(L+1,E.length-1));break;case"ArrowUp":A.preventDefault(),v(L=>Math.max(L-1,0));break;case"Enter":A.preventDefault(),E[b]&&O(E[b]);break;case"Escape":A.preventDefault(),o(!1),u("");break}},D=A=>{A.stopPropagation(),e(""),o(!1),u("")};return d.jsxs("div",{ref:w,className:"relative",children:[d.jsxs("button",{type:"button",disabled:s,onClick:()=>{s||(o(!a),a||setTimeout(()=>S.current?.focus(),0))},onKeyDown:z,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[d.jsx("span",{className:t?"text-text":"text-muted",children:g&&f.length===0?"Loading services...":t||n}),d.jsxs("div",{className:"flex items-center gap-1",children:[t&&!s&&d.jsx("button",{type:"button",onClick:D,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:d.jsx(vo,{className:"h-3.5 w-3.5"})}),d.jsx(oh,{className:`h-4 w-4 text-muted transition-transform ${a?"rotate-180":""}`})]})]}),a&&d.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[d.jsx("div",{className:"p-2 border-b border-line",children:d.jsxs("div",{className:"relative",children:[d.jsx(Ug,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),d.jsx("input",{ref:S,type:"text",value:c,onChange:A=>u(A.target.value),onKeyDown:z,placeholder:"Search services...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),d.jsx("div",{ref:j,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:g&&f.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted animate-pulse",children:"Loading from Home Assistant..."}):N.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No services found"}):Object.entries(T).map(([A,L])=>d.jsxs("div",{className:"mb-1",children:[d.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:A}),L.map(V=>{const G=E.indexOf(V)===b,ne=V===t;return d.jsx("button",{type:"button","data-highlighted":G,onClick:()=>O(V),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${G?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${ne?"font-medium":""}
                                                `,children:d.jsx("div",{className:"truncate",children:V})},V)})]},A))})]})]})}function ak({value:t,onChange:e,options:n,placeholder:s="Select...",disabled:a=!1,className:o="",searchable:c=!1}){const[u,f]=k.useState(!1),[m,g]=k.useState(""),[x,b]=k.useState(0),v=k.useRef(null),w=k.useRef(null),S=k.useRef(null),j=n.find(D=>D.value===t),N=k.useMemo(()=>{if(!m.trim())return n;const D=m.toLowerCase();return n.filter(A=>A.label.toLowerCase().includes(D)||A.value.toLowerCase().includes(D)||A.group?.toLowerCase().includes(D))},[n,m]),T=k.useMemo(()=>{const D={},A=[];return N.forEach(L=>{L.group?(D[L.group]||(D[L.group]=[]),D[L.group].push(L)):A.push(L)}),{groups:D,noGroup:A}},[N]),E=k.useMemo(()=>[...T.noGroup,...Object.values(T.groups).flat()],[T]);k.useEffect(()=>{b(0)},[N.length,u]),k.useEffect(()=>{const D=A=>{v.current&&!v.current.contains(A.target)&&(f(!1),g(""))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),k.useEffect(()=>{if(u&&S.current){const D=S.current.querySelector(`[data-index="${x}"]`);D&&D.scrollIntoView({block:"nearest"})}},[x,u]);const O=D=>{e(D),f(!1),g("")},z=D=>{if(!a){if(!u){(D.key==="Enter"||D.key===" "||D.key==="ArrowDown")&&(D.preventDefault(),f(!0));return}switch(D.key){case"ArrowDown":D.preventDefault(),b(A=>Math.min(A+1,E.length-1));break;case"ArrowUp":D.preventDefault(),b(A=>Math.max(A-1,0));break;case"Enter":D.preventDefault(),E[x]&&O(E[x].value);break;case"Escape":D.preventDefault(),f(!1),g("");break;case"Tab":f(!1);break}}};return d.jsxs("div",{ref:v,className:`relative ${o}`,children:[d.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(f(!u),!u&&c&&setTimeout(()=>w.current?.focus(),0))},onKeyDown:z,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[d.jsx("span",{className:j?"text-text":"text-muted",children:j?.label||s}),d.jsx(oh,{className:`h-4 w-4 text-muted transition-transform ${u?"rotate-180":""}`})]}),u&&d.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[180px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float animate-in fade-in zoom-in-95 duration-100",children:[c&&d.jsx("div",{className:"p-2 border-b border-line",children:d.jsxs("div",{className:"relative",children:[d.jsx(Ug,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),d.jsx("input",{ref:w,type:"text",value:m,onChange:D=>g(D.target.value),placeholder:"Search...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40",onKeyDown:z})]})}),d.jsx("div",{ref:S,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:E.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No options found"}):d.jsxs(d.Fragment,{children:[T.noGroup.map((D,A)=>{const L=j?.value===D.value,V=E[x]?.value===D.value;return d.jsxs("div",{"data-index":x,className:`
                                                flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                ${V?"bg-accent/20 text-text":"text-text"}
                                                ${L?"font-medium":""}
                                            `,onClick:()=>O(D.value),onMouseEnter:()=>b(E.findIndex(X=>X.value===D.value)),children:[d.jsx("span",{children:D.label}),L&&d.jsx(T1,{className:"h-3.5 w-3.5 text-accent"})]},D.value)}),Object.entries(T.groups).map(([D,A])=>d.jsxs("div",{className:"mt-1 first:mt-0",children:[d.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:D}),A.map(L=>{const V=j?.value===L.value,X=E.findIndex(ne=>ne.value===L.value),G=X===x;return d.jsxs("div",{"data-index":X,className:`
                                                        flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                        ${G?"bg-accent/20 text-text":"text-text"}
                                                        ${V?"font-medium":""}
                                                    `,onClick:()=>O(L.value),onMouseEnter:()=>b(X),children:[d.jsx("span",{children:L.label}),V&&d.jsx(T1,{className:"h-3.5 w-3.5 text-accent"})]},L.value)})]},D))]})})]})]})}function rk({checked:t,onCheckedChange:e,disabled:n=!1,className:s=""}){return d.jsx("div",{className:`toggle ${t?"active":""} ${s} ${n?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!n&&e(!t),children:d.jsx("div",{className:"toggle-knob"})})}const tP="IANA timezone for all schedule calculations",nP={timezone:tP,"advisor.enable_llm":"Enable LLM-powered advice on Dashboard","advisor.model":"OpenRouter model identifier (requires API key in secrets.yaml)","advisor.personality":"Advice style: concise | friendly | technical","advisor.auto_fetch":"Automatically fetch advice when Dashboard loads","system.has_solar":"Enable PV forecasting & solar-related features","system.has_battery":"Enable battery control & grid arbitrage","system.has_water_heater":"Enable water heating optimization","system.grid.max_power_kw":"HARD limit: max grid import (cannot be exceeded)","system.inverter.max_power_kw":"Maximum inverter AC power output","system.location.latitude":"Decimal degrees, positive north (for PV forecasting)","system.location.longitude":"Decimal degrees, positive east (for PV forecasting)","system.solar_array.azimuth":"Panel direction: 0=North, 90=East, 180=South, 270=West","system.solar_array.kwp":"Total DC peak power of PV array in kilowatts","system.solar_array.tilt":"Panel angle from horizontal: 0=flat, 90=vertical","battery.max_soc_percent":"Planner target ceiling (BMS still enforces absolute limit)","battery_economics.battery_cycle_cost_kwh":"Degradation cost applied per kWh cycled through the battery","charging_strategy.charge_threshold_percentile":"Bottom X% of daily prices are considered 'cheap'","charging_strategy.cheap_price_tolerance_sek":"Extends 'cheap' window to prices within this tolerance","charging_strategy.price_smoothing_sek_kwh":"Groups slots slightly above cheapest into charge window","charging_strategy.block_consolidation_tolerance_sek":"Price tolerance for merging adjacent charge blocks","charging_strategy.consolidation_max_gap_slots":"Max gap (in 15-min slots) to bridge when consolidating","strategic_charging.price_threshold_sek":"[NOT IMPLEMENTED] Floor price for opportunistic charging","strategic_charging.target_soc_percent":"SoC target for cheap window expansion (used in windows.py)","water_heating.power_kw":"Power consumption of the water heater","water_heating.min_hours_per_day":"Minimum run-time per day","water_heating.min_kwh_per_day":"Optional; defaults to power * hours when unset","water_heating.max_blocks_per_day":"Prefer single block, up to two if needed","water_heating.defer_up_to_hours":"Allow deferring into early tomorrow up to N hours if cheaper","water_heating.plan_days_ahead":"Plan at most today + 1 day (tomorrow) within 48h horizon","water_heating.max_hours_between_heating":"Max gap between heating sessions (0 = no constraint)","water_heating.comfort_level":"1-5 (EconomyMaximum) - controls gap penalty","water_heating.min_spacing_hours":"Min gap between starts to avoid efficiency loss","water_heating.spacing_penalty_sek":"Soft penalty for frequent starts","water_heating.vacation_mode.enabled":"Master switch (HA entity can override when ON)","water_heating.vacation_mode.anti_legionella_temp_c":"Target temperature for safety cycle","water_heating.vacation_mode.anti_legionella_interval_days":"Run cycle every N days","water_heating.vacation_mode.anti_legionella_duration_hours":"Duration at power_kw (e.g., 3h * 3kW = 9kWh)","s_index.mode":"Options: probabilistic | dynamic","s_index.static_factor":"Used when mode=static","s_index.base_factor":"Starting point for dynamic calculationsWfz","s_index.max_factor":"Upper bound clamp for dynamic mode","s_index.pv_deficit_weight":"Weight for PV/load deficit contribution","s_index.temp_weight":"Weight for temperature adjustment","s_index.temp_baseline_c":"Baseline temperature (no adjustment)","s_index.temp_cold_c":"Temperature where adjustment reaches 100%","s_index.s_index_horizon_days":"Number of days ahead to evaluate (integer)","s_index.risk_appetite":"1-5 scale (1=safe, 3=neutral, 5=gambler)","export.enable_export":"[NOT IMPLEMENTED] Master switch for grid export","manual_planning.charge_target_percent":"Cap for manual charge slots","manual_planning.export_target_percent":"Floor target when manually scheduling export","debug.enable_planner_debug":"Enable verbose planner logging","debug.sample_size":"Sample size for debug output charts","automation.enable_scheduler":"Enable automatic schedule regeneration","automation.write_to_mariadb":"Write telemetry to MariaDB (requires secrets.yaml)","automation.external_executor_mode":"Use external executor instead of built-in","automation.schedule.every_minutes":"How often to regenerate schedule","automation.schedule.jitter_minutes":"Random delay to avoid thundering herd","automation.ml_training.enabled":"Enable automatic ML model retraining","automation.ml_training.run_days":"Days of week to train (0=Mon, 6=Sun)","automation.ml_training.run_time":"Time of day to run training (HH:MM)","learning.default_battery_cost_sek_per_kwh":"Conservative default until dynamic cost is recorded","nordpool.price_area":"Nordpool bidding zone (SE1-SE4, NO1-NO5, DK1-DK2, FI, etc.)","nordpool.currency":"Price currency","nordpool.resolution_minutes":"Slot resolution (15, 30, or 60)","pricing.vat_percent":"VAT percentage on electricity","pricing.grid_transfer_fee_sek":"Grid operator transfer fee per kWh","pricing.energy_tax_sek":"Energy tax per kWh","pricing.subscription_fee_sek_per_month":"[FUTURE] Fixed monthly grid subscription (for cost analysis)","forecasting.active_forecast_version":"Forecast engine: aurora (ML) | legacy","forecasting.pv_confidence_percent":"PV forecast scaling (100 = trust forecast fully)","forecasting.load_safety_margin_percent":"Load forecast scaling (>100 = expect more load)","grid.import_limit_kw":"Soft limit for effekttariff (breached with high penalty)","kepler.ramping_cost_sek_per_kw":"Penalty for power changes between slots (reduces sawtooth)","input_sensors.alarm_state":"Alarm panel for occupancy detection (ML feature)","input_sensors.vacation_mode":"Vacation mode toggle (reduces load forecasts)","input_sensors.battery_soc":"Current battery state of charge (%)","input_sensors.pv_power":"Current PV production (W or kW)","input_sensors.load_power":"Current load consumption (W or kW)","input_sensors.total_battery_charge":"Cumulative battery charge (kWh)","input_sensors.total_battery_discharge":"Cumulative battery discharge (kWh)","input_sensors.total_grid_export":"Cumulative grid export (kWh)","input_sensors.total_grid_import":"Cumulative grid import (kWh)","input_sensors.total_load_consumption":"Cumulative load (kWh)","input_sensors.total_pv_production":"Cumulative PV production (kWh)","input_sensors.water_heater_consumption":"Water heater daily energy (kWh)","input_sensors.today_grid_import":"Today's grid import (kWh)","input_sensors.today_grid_export":"Today's grid export (kWh)","input_sensors.today_battery_charge":"Today's battery charge (kWh)","input_sensors.today_pv_production":"Today's PV production (kWh)","input_sensors.today_load_consumption":"Today's load consumption (kWh)","input_sensors.today_net_cost":"Today's net electricity cost","executor.enabled":"Enable executor control loop","executor.shadow_mode":"Log actions but don't execute (for testing)","executor.interval_seconds":"How often to run (default: 5 minutes)","executor.pause_reminder_minutes":"Notify if paused longer than this","executor.history_retention_days":"Keep execution history for N days","executor.automation_toggle_entity":"Master enable/disable switch","executor.manual_override_entity":"Manual override active flag","executor.soc_target_entity":"SoC target input_number","executor.inverter.work_mode_entity":"Inverter mode selector","executor.inverter.work_mode_export":"Value for export mode","executor.inverter.work_mode_zero_export":"Value for zero-export mode","executor.inverter.grid_charging_entity":"Enable/disable grid charging","executor.inverter.max_charging_current_entity":"Max charge current (A)","executor.inverter.max_discharging_current_entity":"Max discharge current (A)","executor.controller.battery_capacity_kwh":"Battery capacity in kWh (for current calculations)","executor.controller.system_voltage_v":"Nominal battery voltage","executor.controller.worst_case_voltage_v":"Minimum voltage for conservative calculations","executor.controller.inverter_ac_limit_kw":"Max AC power output of inverter","executor.controller.charge_efficiency":"Charging efficiency (0-1)","executor.controller.max_charge_a":"Maximum charging current (A)","executor.controller.min_charge_a":"Minimum meaningful charge current (A)","executor.controller.round_step_a":"Round current commands to nearest X amps","executor.controller.write_threshold_a":"Only write if change exceeds X amps","executor.water_heater.target_entity":"HA entity to control","executor.water_heater.temp_off":"Idle mode (legionella-safe minimum)","executor.water_heater.temp_normal":"Scheduled heating target (used by planner)","executor.water_heater.temp_boost":"Manual boost button (Dashboard/Executor)","executor.water_heater.temp_max":"PV dump target + safety limit (never exceeded)","executor.notifications.service":"HA notify service to use","executor.notifications.on_charge_start":"Notify when grid charging starts","executor.notifications.on_charge_stop":"Notify when grid charging stops","executor.notifications.on_export_start":"Notify when export/discharge starts","executor.notifications.on_export_stop":"Notify when export/discharge stops","executor.notifications.on_water_heat_start":"Notify when water heating starts","executor.notifications.on_water_heat_stop":"Notify when water heating stops","executor.notifications.on_soc_target_change":"Notify when SoC target changes","executor.notifications.on_override_activated":"Notify when manual override triggers","executor.notifications.on_error":"Notify on executor errors","dashboard.auto_refresh_enabled":"Auto-refresh dashboard schedule display","dashboard.overlay_defaults":"Default chart overlays","ui.theme":"Color theme name","ui.theme_accent_index":"Accent color index (0-based)","appliances.dishwasher.label":"Display name in UI","appliances.dishwasher.duration_hours":"Typical run duration"},Nh=({field:t,value:e,onChange:n,error:s,haEntities:a=[],haLoading:o=!1})=>{const c=()=>{switch(t.type){case"boolean":return d.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[d.jsx(rk,{checked:e==="true",onCheckedChange:u=>n(t.key,u?"true":"false")}),d.jsx("span",{className:"text-sm font-semibold",children:t.label})]});case"select":return d.jsx(ak,{value:e,onChange:u=>n(t.key,u),options:t.options||[],placeholder:"Select..."});case"entity":return d.jsx(Jz,{entities:a,value:e,onChange:u=>n(t.key,u),loading:o,placeholder:"Select entity..."});case"service":return d.jsx(eP,{value:e,onChange:u=>n(t.key,u),placeholder:"Select notification service..."});case"azimuth":{const u=e&&e.trim()!==""?Number(e):null;return d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zz,{value:typeof u=="number"&&!Number.isNaN(u)?u:null,onChange:f=>n(t.key,String(Math.round(f)))}),d.jsx("input",{type:"number",inputMode:"decimal",value:e,onChange:f=>n(t.key,f.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"})]})}case"tilt":{const u=e&&e.trim()!==""?Number(e):null;return d.jsxs("div",{className:"space-y-2",children:[d.jsx(Qz,{value:typeof u=="number"&&!Number.isNaN(u)?u:null,onChange:f=>n(t.key,String(Math.round(f)))}),d.jsx("input",{type:"number",inputMode:"decimal",value:e,onChange:f=>n(t.key,f.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"})]})}default:return d.jsx("input",{type:t.type==="number"?"number":"text",inputMode:t.type==="number"?"decimal":void 0,value:e,onChange:u=>n(t.key,u.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"})}};return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium mb-1.5 flex items-center gap-1",children:[d.jsx("span",{className:t.type==="boolean"?"sr-only":"text-[10px] uppercase tracking-wide text-muted",children:t.label}),d.jsx(Kz,{text:nP[t.key]||t.helper})]}),c(),t.helper&&t.type!=="boolean"&&d.jsx("p",{className:"text-[11px] text-muted",children:t.helper}),s&&d.jsx("p",{className:"text-[11px] text-red-400",children:s})]})},Dg=[{title:"System Profile",description:"Core hardware toggles and high-level system preferences.",fields:[{key:"system.has_solar",label:"Solar panels installed",helper:"Enable PV forecasting and solar optimization",path:["system","has_solar"],type:"boolean"},{key:"system.has_battery",label:"Home battery installed",helper:"Enable battery control and grid arbitrage",path:["system","has_battery"],type:"boolean"},{key:"system.has_water_heater",label:"Smart water heater",helper:"Enable water heating optimization",path:["system","has_water_heater"],type:"boolean"},{key:"export.enable_export",label:"Enable grid export",helper:"[EXPERIMENTAL] Master switch for grid export",path:["export","enable_export"],type:"boolean"}]},{title:"Location & Solar Array",description:"Geolocation and PV array parameters used by the forecasting engine.",fields:[{key:"system.location.latitude",label:"Latitude",helper:"Decimal degrees, positive north. Example: 55.4932",path:["system","location","latitude"],type:"number"},{key:"system.location.longitude",label:"Longitude",helper:"Decimal degrees, positive east. Example: 13.1112",path:["system","location","longitude"],type:"number"},{key:"system.solar_array.azimuth",label:"Solar azimuth ()",helper:"Panel direction: 0 = North, 90 = East, 180 = South, 270 = West.",path:["system","solar_array","azimuth"],type:"azimuth"},{key:"system.solar_array.tilt",label:"Solar tilt ()",helper:"Angle from horizontal. 0 = flat, 90 = vertical.",path:["system","solar_array","tilt"],type:"tilt"},{key:"system.solar_array.kwp",label:"Solar capacity (kWp)",helper:"Total DC peak power of the PV array.",path:["system","solar_array","kwp"],type:"number"}]},{title:"Battery Specifications",description:"Capacity, max power, and SoC limits define safe operating bands.",fields:[{key:"battery.capacity_kwh",label:"Battery capacity (kWh)",path:["battery","capacity_kwh"],type:"number"},{key:"battery.max_charge_power_kw",label:"Max charge power (kW)",path:["battery","max_charge_power_kw"],type:"number"},{key:"battery.max_discharge_power_kw",label:"Max discharge power (kW)",path:["battery","max_discharge_power_kw"],type:"number"},{key:"battery.min_soc_percent",label:"Min SoC (%)",path:["battery","min_soc_percent"],type:"number"},{key:"battery.max_soc_percent",label:"Max SoC (%)",path:["battery","max_soc_percent"],type:"number"},{key:"system.grid.max_power_kw",label:"HARD Grid max power (kW)",helper:"Absolute limit from your grid fuse/connection.",path:["system","grid","max_power_kw"],type:"number"},{key:"grid.import_limit_kw",label:"Soft import limit (kW)",helper:"Threshold for peak power penalties (effekttariff).",path:["grid","import_limit_kw"],type:"number"}]},{title:"Pricing & Timezone",description:"Nordpool zone and local timezone for planner calculations.",fields:[{key:"nordpool.price_area",label:"Nordpool Price Area",helper:"e.g. SE4, NO1, DK2",path:["nordpool","price_area"],type:"text"},{key:"pricing.vat_percent",label:"VAT (%)",path:["pricing","vat_percent"],type:"number"},{key:"pricing.grid_transfer_fee_sek",label:"Grid transfer fee (SEK/kWh)",path:["pricing","grid_transfer_fee_sek"],type:"number"},{key:"pricing.energy_tax_sek",label:"Energy tax (SEK/kWh)",path:["pricing","energy_tax_sek"],type:"number"},{key:"timezone",label:"Timezone",helper:"e.g. Europe/Stockholm",path:["timezone"],type:"text"}]},{title:"Notifications",description:"Configure automated notifications via Home Assistant.",fields:[{key:"executor.notifications.service",label:"HA Notify Service",helper:"e.g. notify.mobile_app_iphone",path:["executor","notifications","service"],type:"service"},{key:"executor.notifications.on_charge_start",label:"On charge start",path:["executor","notifications","on_charge_start"],type:"boolean"},{key:"executor.notifications.on_charge_stop",label:"On charge stop",path:["executor","notifications","on_charge_stop"],type:"boolean"},{key:"executor.notifications.on_discharge_start",label:"On discharge start",path:["executor","notifications","on_discharge_start"],type:"boolean"},{key:"executor.notifications.on_discharge_stop",label:"On discharge stop",path:["executor","notifications","on_discharge_stop"],type:"boolean"},{key:"executor.notifications.on_water_heating_start",label:"On water heating start",path:["executor","notifications","on_water_heat_start"],type:"boolean"},{key:"executor.notifications.on_water_heating_stop",label:"On water heating stop",path:["executor","notifications","on_water_heat_stop"],type:"boolean"},{key:"executor.notifications.on_soc_target_change",label:"On SoC target change",path:["executor","notifications","on_soc_target_change"],type:"boolean"},{key:"executor.notifications.on_override_activated",label:"On override activated",path:["executor","notifications","on_override_activated"],type:"boolean"},{key:"executor.notifications.on_error",label:"On error",path:["executor","notifications","on_error"],type:"boolean"}]},{title:" Home Assistant Connection ",isHA:!0,description:"Connection parameters for your Home Assistant instance.",fields:[{key:"home_assistant.url",label:"HA URL",helper:"e.g. http://homeassistant.local:8123",path:["home_assistant","url"],type:"text"},{key:"home_assistant.token",label:"Long-Lived Access Token",path:["home_assistant","token"],type:"text"}]},{title:"Required HA Entities",isHA:!0,description:"Core sensors and switches required for battery control.",fields:[{key:"input_sensors.battery_soc",label:"Battery SoC (%)",path:["input_sensors","battery_soc"],type:"entity"},{key:"input_sensors.pv_power",label:"PV Power (W/kW)",path:["input_sensors","pv_power"],type:"entity"},{key:"input_sensors.load_power",label:"Load Power (W/kW)",path:["input_sensors","load_power"],type:"entity"},{key:"executor.inverter.work_mode_entity",label:"Work Mode Selector",path:["executor","inverter","work_mode_entity"],type:"entity"},{key:"executor.inverter.grid_charging_entity",label:"Grid Charging Switch",path:["executor","inverter","grid_charging_entity"],type:"entity"},{key:"executor.inverter.max_charging_current_entity",label:"Max Charge Current",path:["executor","inverter","max_charging_current_entity"],type:"entity"},{key:"executor.inverter.max_discharging_current_entity",label:"Max Discharge Current",path:["executor","inverter","max_discharging_current_entity"],type:"entity"}]},{title:"Optional HA Entities",isHA:!0,description:"Optional sensors for better forecasting and dashboard metrics.",fields:[{key:"executor.automation_toggle_entity",label:"Automation Toggle",path:["executor","automation_toggle_entity"],type:"entity"},{key:"executor.manual_override_entity",label:"Manual Override Toggle",path:["executor","manual_override_entity"],type:"entity"},{key:"executor.soc_target_entity",label:"Target SoC Feedback",path:["executor","soc_target_entity"],type:"entity"},{key:"executor.water_heater.target_entity",label:"Water Heater Setpoint",path:["executor","water_heater","target_entity"],type:"entity"},{key:"input_sensors.vacation_mode",label:"Vacation Mode Toggle",path:["input_sensors","vacation_mode"],type:"entity"},{key:"input_sensors.alarm_state",label:"Alarm Control Panel",path:["input_sensors","alarm_state"],type:"entity"},{key:"input_sensors.water_heater_consumption",label:"Water Heater Daily Energy",path:["input_sensors","water_heater_consumption"],type:"entity"},{key:"input_sensors.today_net_cost",label:"Today's Net Cost",path:["input_sensors","today_net_cost"],type:"entity"},{key:"input_sensors.total_battery_charge",label:"Total Battery Charge (kWh)",path:["input_sensors","total_battery_charge"],type:"entity"},{key:"input_sensors.total_battery_discharge",label:"Total Battery Discharge (kWh)",path:["input_sensors","total_battery_discharge"],type:"entity"},{key:"input_sensors.total_grid_export",label:"Total Grid Export (kWh)",path:["input_sensors.total_grid_export"],type:"entity"},{key:"input_sensors.total_grid_import",label:"Total Grid Import (kWh)",path:["input_sensors.total_grid_import"],type:"entity"},{key:"input_sensors.total_load_consumption",label:"Total Load Consumption (kWh)",path:["input_sensors.total_load_consumption"],type:"entity"},{key:"input_sensors.total_pv_production",label:"Total PV Production (kWh)",path:["input_sensors.total_pv_production"],type:"entity"}]}],ok=[{title:"Charging Strategy",description:"Price smoothing, consolidation tolerances, and gap settings that govern charge windows.",fields:[{key:"charging_strategy.price_smoothing_sek_kwh",label:"Price smoothing (SEK/kWh)",path:["charging_strategy","price_smoothing_sek_kwh"],type:"number"},{key:"charging_strategy.block_consolidation_tolerance_sek",label:"Consolidation tolerance (SEK)",path:["charging_strategy","block_consolidation_tolerance_sek"],type:"number"},{key:"charging_strategy.consolidation_max_gap_slots",label:"Max gap slots",path:["charging_strategy","consolidation_max_gap_slots"],type:"number"},{key:"charging_strategy.charge_threshold_percentile",label:"Charge threshold (percentile)",path:["charging_strategy","charge_threshold_percentile"],type:"number"},{key:"charging_strategy.cheap_price_tolerance_sek",label:"Cheap price tolerance (SEK)",path:["charging_strategy","cheap_price_tolerance_sek"],type:"number"}]},{title:"Arbitrage & Export",description:"Export thresholds, peak-only export, and future guard buffers.",fields:[{key:"arbitrage.export_percentile_threshold",label:"Export percentile threshold",path:["arbitrage","export_percentile_threshold"],type:"number"},{key:"arbitrage.enable_peak_only_export",label:"Enable peak-only export",path:["arbitrage","enable_peak_only_export"],type:"boolean",helper:"Override to only export when we hit the percentile threshold."},{key:"arbitrage.export_future_price_guard",label:"Future price guard",path:["arbitrage","export_future_price_guard"],type:"boolean"},{key:"arbitrage.future_price_guard_buffer_sek",label:"Future guard buffer (SEK)",path:["arbitrage","future_price_guard_buffer_sek"],type:"number"},{key:"arbitrage.export_profit_margin_sek",label:"Export profit margin (SEK)",path:["arbitrage","export_profit_margin_sek"],type:"number"}]},{title:"Water Heating",description:"Quota, deferral, and sizing controls for the water heater scheduler.",fields:[{key:"water_heating.power_kw",label:"Water heater power (kW)",path:["water_heating","power_kw"],type:"number"},{key:"water_heating.defer_up_to_hours",label:"Max defer hours",path:["water_heating","defer_up_to_hours"],type:"number"},{key:"water_heating.max_blocks_per_day",label:"Max blocks per day",path:["water_heating","max_blocks_per_day"],type:"number"},{key:"water_heating.min_kwh_per_day",label:"Min kWh/day",path:["water_heating","min_kwh_per_day"],type:"number"},{key:"water_heating.min_spacing_hours",label:"Min spacing (hours)",path:["water_heating","min_spacing_hours"],type:"number",helper:"Minimum gap between heating sessions to avoid efficiency loss."},{key:"water_heating.spacing_penalty_sek",label:"Spacing penalty (SEK)",path:["water_heating","spacing_penalty_sek"],type:"number",helper:"Penalty applied when heating sessions are too close."},{key:"water_heating.schedule_future_only",label:"Schedule future only",path:["water_heating","schedule_future_only"],type:"boolean"}]},{title:"Learning Parameter Limits",description:"Limits that keep learning adjustments conservative.",fields:[{key:"learning.min_sample_threshold",label:"Min sample threshold",path:["learning","min_sample_threshold"],type:"number"},{key:"learning.min_improvement_threshold",label:"Min improvement (%)",path:["learning","min_improvement_threshold"],type:"number"},{key:"learning.max_daily_param_change.battery_use_margin_sek",label:"Battery margin change (SEK)",path:["learning","max_daily_param_change","battery_use_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.export_profit_margin_sek",label:"Export margin change (SEK)",path:["learning","max_daily_param_change","export_profit_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.future_price_guard_buffer_sek",label:"Future guard buffer change (SEK)",path:["learning","max_daily_param_change","future_price_guard_buffer_sek"],type:"number"},{key:"learning.max_daily_param_change.load_safety_margin_percent",label:"Load safety change (%)",path:["learning","max_daily_param_change","load_safety_margin_percent"],type:"number"},{key:"learning.max_daily_param_change.pv_confidence_percent",label:"PV confidence change (%)",path:["learning","max_daily_param_change","pv_confidence_percent"],type:"number"},{key:"learning.max_daily_param_change.s_index_base_factor",label:"S-index base change",path:["learning","max_daily_param_change","s_index_base_factor"],type:"number"},{key:"learning.max_daily_param_change.s_index_pv_deficit_weight",label:"S-index PV weight change",path:["learning","max_daily_param_change","s_index_pv_deficit_weight"],type:"number"},{key:"learning.max_daily_param_change.s_index_temp_weight",label:"S-index temp weight change",path:["learning","max_daily_param_change","s_index_temp_weight"],type:"number"}]},{title:"S-Index Safety",description:"Seasonal index parameters for reserve calculations.",fields:[{key:"s_index.temp_cold_c",label:"Cold temp (C)",path:["s_index","temp_cold_c"],type:"number"},{key:"s_index.s_index_horizon_days",label:"S-Index Horizon (days)",path:["s_index","s_index_horizon_days"],type:"select",options:[{label:"1 Day",value:"1"},{label:"2 Days",value:"2"},{label:"3 Days",value:"3"},{label:"4 Days",value:"4"},{label:"5 Days",value:"5"},{label:"6 Days",value:"6"},{label:"7 Days",value:"7"}]}]}],lk=[{title:"Dashboard Defaults",description:"Overlay defaults and refresh cadence for the planner dashboard.",fields:[{key:"dashboard.auto_refresh_enabled",label:"Auto refresh",helper:"Enable automatic refresh of the dashboard schedule.",path:["dashboard","auto_refresh_enabled"],type:"boolean"}]},{title:"AI Advisor",description:"Control the Smart Advisor LLM settings.",fields:[{key:"advisor.enable_llm",label:"Enable LLM advice",path:["advisor","enable_llm"],type:"boolean"},{key:"advisor.auto_fetch",label:"Auto-fetch advice on dashboard load",path:["advisor","auto_fetch"],type:"boolean"},{key:"advisor.personality",label:"Advisor personality",path:["advisor","personality"],type:"select",options:[{label:"Concise (Money focus)",value:"concise"},{label:"Friendly (Emoji style)",value:"friendly"},{label:"Technical (Data heavy)",value:"technical"}]}]}],ck=[{title:"Experimental Features",description:"Toggle advanced and experimental modes.",fields:[{key:"automation.external_executor_mode",label:"External Executor Mode",helper:"When enabled, Darkstar expects an external system to execute the plan.",path:["automation","external_executor_mode"],type:"boolean"},{key:"automation.write_to_mariadb",label:"Log to MariaDB",helper:"Requires MariaDB credentials in secrets.yaml",path:["automation","write_to_mariadb"],type:"boolean"}]},{title:"Danger Zone",description:"Sensitive actions. Proceed with caution.",fields:[]}],uk=Dg.flatMap(t=>t.fields),dk=ok.flatMap(t=>t.fields),hk=lk.flatMap(t=>t.fields),fk=ck.flatMap(t=>t.fields),sP=[...uk,...dk,...hk,...fk,{key:"dashboard.overlay_defaults",label:"Overlay Defaults",path:["dashboard","overlay_defaults"],type:"text"}];sP.reduce((t,e)=>(t[e.key]=e,t),{});const iP=()=>{const{form:t,fieldErrors:e,loading:n,saving:s,statusMessage:a,haEntities:o,haLoading:c,handleChange:u,save:f,reloadEntities:m}=jh(uk),[g,x]=k.useState(null),b=async()=>{x("Testing...");try{const v=t["home_assistant.url"],w=t["home_assistant.token"],S=await me.haTest({url:v,token:w});S.success?(x("Success: Connected!"),m()):x(`Error: ${S.message}`)}catch(v){x(`Error: ${v instanceof Error?v.message:"Unknown error"}`)}};return n?d.jsx(Ae,{className:"p-6 text-sm text-muted",children:"Loading system configuration"}):d.jsxs("div",{className:"space-y-4",children:[Dg.map((v,w)=>{const S=w>0?Dg[w-1]:null,j=v.isHA&&S&&!S.isHA;return d.jsxs("div",{children:[j&&d.jsxs("div",{className:"py-8 flex items-center gap-4",children:[d.jsx("div",{className:"h-px flex-1 bg-line/30"}),d.jsx("span",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-muted whitespace-nowrap",children:"Home Assistant Integration"}),d.jsx("div",{className:"h-px flex-1 bg-line/30"})]}),d.jsxs(Ae,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:v.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:v.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"System"})]}),d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:v.fields.map(N=>d.jsx(Nh,{field:N,value:t[N.key]??"",onChange:u,error:e[N.key],haEntities:o,haLoading:c},N.key))}),v.title==="Home Assistant Connection"&&d.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[d.jsx("button",{type:"button",onClick:b,className:"rounded-xl px-4 py-2 text-[11px] font-semibold bg-neutral hover:bg-neutral/80 text-white transition",children:g&&g.startsWith("Testing")?"Testing...":"Test Connection"}),g&&d.jsx("span",{className:`text-xs ${g.startsWith("Success")?"text-green-400":"text-red-400"}`,children:g})]})]})]},v.title)}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:s,onClick:()=>f(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:s?"Saving":"Save System Settings"}),a&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${a.startsWith("Please fix")||a.startsWith("Save failed")||a.startsWith("Failed to load")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:a})]})]})},aP=()=>{const{form:t,fieldErrors:e,loading:n,saving:s,statusMessage:a,handleChange:o,save:c}=jh(dk);return n?d.jsx(Ae,{className:"p-6 text-sm text-muted",children:"Loading optimization parameters"}):d.jsxs("div",{className:"space-y-4",children:[ok.map(u=>d.jsxs(Ae,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:u.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:u.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Optimization"})]}),d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:u.fields.map(f=>d.jsx(Nh,{field:f,value:t[f.key]??"",onChange:o,error:e[f.key]},f.key))})]},u.title)),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:s,onClick:()=>c(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:s?"Saving":"Save Parameters"}),a&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${a.startsWith("Please fix")||a.startsWith("Save failed")||a.startsWith("Failed to load")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:a})]})]})},rP=()=>{const{config:t,form:e,fieldErrors:n,loading:s,saving:a,statusMessage:o,handleChange:c,save:u}=jh(hk),[f,m]=k.useState([]);if(k.useEffect(()=>{me.theme().then(v=>m(v.themes))},[]),s)return d.jsx(Ae,{className:"p-6 text-sm text-muted",children:"Loading UI configuration"});const g=t?.ui?.theme_accent_index??0,x=e["dashboard.overlay_defaults"]?JSON.parse(e["dashboard.overlay_defaults"]):{},b=v=>{const w={...x,[v]:!x[v]};c("dashboard.overlay_defaults",JSON.stringify(w))};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Ae,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Accent Theme"}),d.jsx("p",{className:"text-xs text-muted mt-1",children:"Select the primary accent color for the Darkstar UI."})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Appearance"})]}),d.jsx("div",{className:"mt-5 flex flex-wrap gap-3",children:f.map((v,w)=>d.jsxs("button",{onClick:()=>u({ui:{theme_accent_index:w}}),disabled:a,className:`group relative h-12 w-12 rounded-xl transition duration-300 ${g===w?"ring-2 ring-accent ring-offset-4 ring-offset-[#0a0a0a]":"hover:rotate-3 hover:scale-105"}`,style:{backgroundColor:v.palette[0]},children:[d.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 scale-0 text-[10px] text-muted transition group-hover:scale-100 whitespace-nowrap",children:v.name}),g===w&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 rounded-xl",children:d.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white shadow-[0_0_8px_white]"})})]},v.name))})]}),lk.map(v=>d.jsxs(Ae,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:v.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:v.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Interface"})]}),d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:v.fields.map(w=>d.jsx(Nh,{field:w,value:e[w.key]??"",onChange:c,error:n[w.key]},w.key))}),v.title==="Dashboard Defaults"&&d.jsxs("div",{className:"mt-6 border-t border-line/30 pt-4",children:[d.jsx("div",{className:"text-[10px] uppercase tracking-widest text-muted font-bold mb-3",children:"Overlay Defaults"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:["solar","battery","load","grid","water","forecast"].map(w=>d.jsx("button",{onClick:()=>b(w),className:`rounded-lg px-2.5 py-1.5 text-[10px] font-bold uppercase tracking-wider transition ${x[w]?"bg-accent/20 text-accent border border-accent/30":"bg-surface2 text-muted border border-line/50 hover:border-line"}`,children:w},w))})]})]},v.title)),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:a,onClick:()=>u(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:a?"Saving":"Save UI Settings"}),o&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${o.startsWith("Please fix")||o.startsWith("Save failed")||o.startsWith("Failed to load")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:o})]})]})};function mk({open:t,onOpenChange:e,title:n,children:s,footer:a,size:o="md",className:c=""}){const u=k.useRef(null);if(k.useEffect(()=>{const g=x=>{t&&x.key==="Escape"&&e(!1)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[t,e]),k.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),!t)return null;const f={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl"},m=d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{ref:u,className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:g=>{g.target===u.current&&e(!1)}}),d.jsxs("div",{className:`
                    relative w-full ${f[o]} 
                    bg-surface rounded-ds-lg border border-line shadow-2xl 
                    animate-in zoom-in-95 fade-in duration-200
                    flex flex-col max-h-[90vh]
                    ${c}
                `,role:"dialog","aria-modal":"true",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-line shrink-0",children:[d.jsx("div",{className:"text-lg font-semibold text-text",children:n}),d.jsx("button",{onClick:()=>e(!1),className:"p-1 rounded-md text-muted hover:text-text hover:bg-surface2 transition-colors",children:d.jsx(vo,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"px-6 py-4 overflow-y-auto scrollbar-thin",children:s}),a&&d.jsx("div",{className:"px-6 py-4 border-t border-line bg-surface2/30 flex justify-end gap-3 shrink-0 rounded-b-ds-lg",children:a})]})]});return Pw.createPortal(m,document.body)}const oP=()=>{const{toast:t}=Gx(),{form:e,fieldErrors:n,loading:s,saving:a,statusMessage:o,handleChange:c,save:u,reload:f}=jh(fk),[m,g]=k.useState(!1),[x,b]=k.useState(!1),v=async()=>{b(!0);try{await me.configReset(),t({message:"Settings reset to factory defaults",variant:"success"}),await f(),g(!1)}catch(w){t({message:"Reset failed: "+(w instanceof Error?w.message:"Unknown error"),variant:"error"})}finally{b(!1)}};return s?d.jsx(Ae,{className:"p-6 text-sm text-muted",children:"Loading advanced configuration"}):d.jsxs("div",{className:"space-y-4",children:[ck.map(w=>d.jsxs(Ae,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:w.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:w.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Advanced"})]}),w.title==="Danger Zone"?d.jsx("div",{className:"mt-5 border border-red-500/20 bg-red-500/5 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold text-red-100 italic uppercase tracking-wider",children:"Reset All Settings"}),d.jsx("p",{className:"text-[11px] text-red-400/80 mt-1",children:"Permanently delete all custom configurations and return to project factory defaults. This action cannot be undone."})]}),d.jsx("button",{onClick:()=>g(!0),className:"rounded-lg bg-red-500/20 border border-red-500/30 px-3 py-1.5 text-[10px] font-bold text-red-400 uppercase tracking-wider hover:bg-red-500/30 transition",children:"Reset to Defaults"})]})}):d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:w.fields.map(S=>d.jsx(Nh,{field:S,value:e[S.key]??"",onChange:c,error:n[S.key]},S.key))})]},w.title)),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:a,onClick:()=>u(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:a?"Saving":"Save Advanced Settings"}),o&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${o.startsWith("Please fix")||o.startsWith("Save failed")||o.startsWith("Failed to load")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:o})]}),d.jsx(mk,{open:m,onOpenChange:g,title:"Reset to factory defaults?",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{className:"text-sm text-muted",children:["This will clear your location, battery specs, HA tokens, and all optimization parameters. The system will return to the initial state defined in"," ",d.jsx("code",{className:"text-accent",children:"config.yaml"}),"."]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-xs font-semibold text-white/70 hover:text-white transition",children:"Cancel"}),d.jsx("button",{onClick:v,disabled:x,className:"bg-red-500 hover:bg-red-600 px-4 py-2 rounded-xl text-xs font-bold text-white transition disabled:opacity-50",children:x?"Resetting...":"Yes, Reset Everything"})]})]})})]})},lP=[{id:"system",label:"System",icon:d.jsx(Od,{size:16})},{id:"parameters",label:"Parameters",icon:d.jsx(tC,{size:16})},{id:"ui",label:"UI & Theme",icon:d.jsx(XD,{size:16})},{id:"advanced",label:"Advanced",icon:d.jsx(Ss,{size:16})}];function cP(){const[t,e]=PD(),n=t.get("tab")||"system",s=o=>{e({tab:o})},a=()=>{switch(n){case"parameters":return d.jsx(aP,{});case"ui":return d.jsx(rP,{});case"advanced":return d.jsx(oP,{});default:return d.jsx(iP,{})}};return d.jsxs(d.Fragment,{children:[d.jsxs(Qr,{variant:"purple",className:"flex flex-col p-8",children:[d.jsx("h1",{className:"text-xl font-bold text-white",children:"System Settings"}),d.jsx("p",{className:"text-sm text-white/70",children:"Configure array specs, battery limits, and optimizer parameters."})]}),d.jsx("main",{className:"p-4 lg:p-8",children:d.jsxs("div",{className:"mx-auto max-w-5xl",children:[d.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:lP.map(o=>d.jsxs("button",{onClick:()=>s(o.id),className:`flex items-center gap-2 rounded-xl px-4 py-2.5 text-xs font-bold uppercase tracking-wider transition duration-300 ${n===o.id?"bg-accent text-[#100f0e] shadow-[0_0_20px_rgba(var(--color-accent-rgb),0.3)]":"bg-surface2 text-muted hover:bg-surface3 hover:text-white"}`,children:[o.icon,o.label]},o.id))}),d.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:a()})]})})]})}const pk="label";function Mw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function uP(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function gk(t,e){t.labels=e}function xk(t,e,n=pk){const s=[];t.datasets=e.map(a=>{const o=t.datasets.find(c=>c[n]===a[n]);return!o||!a.data||s.includes(o)?{...a}:(s.push(o),Object.assign(o,a),o)})}function dP(t,e=pk){const n={labels:[],datasets:[]};return gk(n,t.labels),xk(n,t.datasets,e),n}function hP(t,e){const{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:m=[],fallbackContent:g,updateMode:x,...b}=t,v=k.useRef(null),w=k.useRef(null),S=()=>{v.current&&(w.current=new hs(v.current,{type:c,data:dP(u,o),options:f&&{...f},plugins:m}),Mw(e,w.current))},j=()=>{Mw(e,null),w.current&&(w.current.destroy(),w.current=null)};return k.useEffect(()=>{!a&&w.current&&f&&uP(w.current,f)},[a,f]),k.useEffect(()=>{!a&&w.current&&gk(w.current.config.data,u.labels)},[a,u.labels]),k.useEffect(()=>{!a&&w.current&&u.datasets&&xk(w.current.config.data,u.datasets,o)},[a,u.datasets]),k.useEffect(()=>{w.current&&(a?(j(),setTimeout(S)):w.current.update(x))},[a,f,u.labels,u.datasets,x]),k.useEffect(()=>{w.current&&(j(),setTimeout(S))},[c]),k.useEffect(()=>(S(),()=>j()),[]),d.jsx("canvas",{ref:v,role:"img",height:n,width:s,...b,children:g})}const fP=k.forwardRef(hP);function $x(t,e){return hs.register(e),k.forwardRef((n,s)=>d.jsx(fP,{...n,ref:s,type:t}))}const Xx=$x("line",FS),mP=$x("bar",VS),pP=$x("radar",US);hs.register(Sc,jc,_o,gi,rx,So,wo);function gP({slots:t,mode:e}){if(!t||t.length===0)return d.jsx("div",{className:"text-[11px] text-muted px-4 py-6",children:"No forecast data available for the next 48 hours."});const s={labels:t.map(o=>new Date(o.slot_start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),datasets:[{type:"line",label:e==="pv"?"Final PV":"Final Load",data:t.map(o=>e==="pv"?o.final.pv_kwh:o.final.load_kwh),borderColor:e==="pv"?"#22c55e":"#f97316",backgroundColor:o=>{const u=o.chart.ctx.createLinearGradient(0,0,0,200);return u.addColorStop(0,"rgba(15, 23, 42, 0.0)"),u.addColorStop(1,e==="pv"?"rgba(34, 197, 94, 0.1)":"rgba(249, 115, 22, 0.1)"),u},borderWidth:2,tension:.4,pointRadius:0,fill:!0},{type:"bar",label:"Base",data:t.map(o=>e==="pv"?o.base.pv_kwh:o.base.load_kwh),backgroundColor:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,borderRadius:2,yAxisID:"y"},{type:"bar",label:"Correction",data:t.map(o=>e==="pv"?o.correction.pv_kwh:o.correction.load_kwh),backgroundColor:e==="pv"?"rgba(34, 197, 94, 0.2)":"rgba(249, 115, 22, 0.2)",borderRadius:2,yAxisID:"y"}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.95)",titleColor:"rgba(255, 255, 255, 0.9)",bodyColor:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:10,callbacks:{label:o=>{let c=o.dataset.label||"";return c&&(c+=": "),o.parsed.y!==null&&(c+=o.parsed.y.toFixed(3)+" kWh"),c}}}},scales:{x:{grid:{display:!1},ticks:{color:"#64748b",font:{size:10},maxTicksLimit:8}},y:{grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"#64748b",font:{size:10}}}},interaction:{intersect:!1,mode:"index"}};return d.jsx("div",{className:"w-full h-full min-h-[240px]",children:d.jsx(Xx,{data:s,options:a},e)})}hs.register(uj,_o,gi,mh,So,wo);function xP({weatherVolatility:t,riskFactor:e,forecastAccuracy:n,priceSpread:s,forecastBias:a}){const o=Math.min(100,t.cloud*100),c=Math.min(100,t.temp*100),u=Math.max(0,Math.min(100,(e-1)*25)),f=n,m=s!=null?Math.max(0,Math.min(100,s/2.5*100)):50,g=a!=null?Math.max(0,Math.min(100,(a+2)/4*100)):50,x=["Cloud Vol.","Temp Vol.","Aggression","Accuracy","Spread","Bias"],b=["#38bdf8","#f472b6","#fbbf24","#34d399","#a78bfa","#fb923c"],v={labels:x,datasets:[{label:"Current Context",data:[o,c,u,f,m,g],backgroundColor:"rgba(56, 189, 248, 0.15)",borderColor:"rgba(56, 189, 248, 0.5)",borderWidth:2,pointBackgroundColor:b,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:b,pointRadius:4}]},w={scales:{r:{angleLines:{color:"rgba(255, 255, 255, 0.1)"},grid:{color:"rgba(255, 255, 255, 0.1)"},pointLabels:{display:!1},ticks:{display:!1,backdropColor:"transparent"},suggestedMin:0,suggestedMax:100}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e293b",titleColor:"#f8fafc",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},maintainAspectRatio:!1},S=x.slice(0,3),j=x.slice(3);return d.jsxs("div",{className:"relative w-full h-full min-h-[200px]",children:[d.jsx("div",{className:"absolute inset-0 overflow-hidden",children:d.jsx(pP,{data:v,options:w})}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between px-3 pb-2 z-10",children:[d.jsx("div",{className:"flex flex-col gap-1",children:S.map((N,T)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[T]}}),d.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:N})]},N))}),d.jsx("div",{className:"flex flex-col gap-1",children:j.map((N,T)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[T+3]}}),d.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:N})]},N))})]})]})}function yP({events:t}){const e=k.useMemo(()=>[...t].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),[t]),n=a=>{const o=(a.type+" "+a.message).toLowerCase();if(o.includes("charge")||o.includes("charging"))return d.jsx(Ss,{className:"h-4 w-4 text-amber-400"});if(o.includes("export")||o.includes("discharging"))return d.jsx(Kp,{className:"h-4 w-4 text-emerald-400"});if(o.includes("defensive")||o.includes("safety")||o.includes("hold"))return d.jsx(eC,{className:"h-4 w-4 text-blue-400"});if(o.includes("idle")||o.includes("wait"))return d.jsx(WD,{className:"h-4 w-4 text-slate-400"});if(o.includes("weather"))return d.jsx(E1,{className:"h-4 w-4 text-sky-400"});if(o.includes("learning")||o.includes("tune"))return d.jsx(O1,{className:"h-4 w-4 text-purple-400"});if(o.includes("price")||o.includes("cost"))return d.jsx(Xp,{className:"h-4 w-4 text-emerald-400"});switch(a.type){case"STRATEGY_CHANGE":return d.jsx(Jw,{className:"h-4 w-4 text-purple-400"});case"WEATHER_ADJUSTMENT":return d.jsx(E1,{className:"h-4 w-4 text-blue-400"});case"PRICE_VOLATILITY":return d.jsx(Ss,{className:"h-4 w-4 text-amber-400"});case"LEARNING_EVENT":return d.jsx(O1,{className:"h-4 w-4 text-emerald-400"});default:return d.jsx($p,{className:"h-4 w-4 text-slate-400"})}},s=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return t.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-muted text-xs",children:[d.jsx($p,{className:"h-6 w-6 mb-2 opacity-50"}),"No activity recorded yet."]}):d.jsxs("div",{className:"relative space-y-4 pl-2",children:[d.jsx("div",{className:"absolute left-[19px] top-2 bottom-2 w-[1px] bg-line/50"}),e.map((a,o)=>d.jsxs("div",{className:"relative flex gap-3 items-start group",children:[d.jsx("div",{className:"relative z-10 flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-surface border border-line/60 group-hover:border-accent/50 transition-colors",children:n(a)}),d.jsxs("div",{className:"flex-1 pt-1.5 min-w-0",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsx("p",{className:"text-xs font-medium text-text truncate",children:a.type.replace("_"," ")}),d.jsx("span",{className:"text-[10px] text-muted shrink-0 font-mono",children:s(a.timestamp)})]}),d.jsx("p",{className:"text-[11px] text-muted mt-0.5 leading-relaxed break-words",children:a.message}),a.details&&Object.keys(a.details).length>0&&d.jsx("div",{className:"mt-1.5",children:d.jsxs("details",{className:"group/details",children:[d.jsxs("summary",{className:"cursor-pointer text-[10px] text-accent/80 hover:text-accent select-none list-none flex items-center gap-1",children:[d.jsx("span",{children:"Details"}),d.jsx("span",{className:"opacity-50 group-open/details:rotate-180 transition-transform",children:""})]}),d.jsx("pre",{className:"mt-1 p-2 rounded bg-surface2/50 text-[10px] text-muted overflow-x-auto font-mono",children:JSON.stringify(a.details,null,2)})]})})]})]},o))]})}function bP({metrics:t,perfData:e}){let n=0,s=0;e?.cost_series&&e.cost_series.forEach(b=>{n+=b.planned,s+=b.realized});const a=s-n,o=a<=0?`Saved ${Math.abs(a).toFixed(1)} SEK`:`Overspent ${a.toFixed(1)} SEK`,c=a<=0,u=t?.mae_pv_aurora?.toFixed(2)??"N/A",f=t?.mae_load_aurora?.toFixed(2)??"N/A",m=t?.max_price_spread,g=m!=null?`${m.toFixed(2)} SEK`:"N/A",x=m!=null&&m>0;return d.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:[d.jsxs(Ae,{className:"p-4 flex items-center justify-between relative overflow-hidden group",children:[d.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${c?"bg-emerald-500":"bg-rose-500"}`}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:`p-2 rounded-full ${c?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:d.jsx(tS,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"7-Day Cost Drift"}),d.jsx("div",{className:`text-lg font-semibold ${c?"text-emerald-400":"text-rose-400"}`,children:o})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"vs Plan"}),c?d.jsx(L1,{className:"h-4 w-4 text-emerald-500 ml-auto"}):d.jsx(Xp,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),d.jsxs(Ae,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${x?"bg-emerald-500":"bg-rose-500"}`}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:`p-2 rounded-full ${x?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:d.jsx(sc,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Max Price Spread"}),d.jsx("div",{className:`text-lg font-semibold ${x?"text-emerald-400":"text-rose-400"}`,children:g})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"Arbitrage"}),x?d.jsx(Xp,{className:"h-4 w-4 text-emerald-500 ml-auto"}):d.jsx(L1,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),d.jsxs(Ae,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.02]"}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:"p-2 rounded-full bg-amber-500/10 text-amber-400",children:d.jsx(Ss,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"PV Forecast Error"}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[u," ",d.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),d.jsx(R1,{className:"h-4 w-4 text-amber-500/50 ml-auto"})]})]}),d.jsxs(Ae,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-blue-500/[0.02]"}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-400",children:d.jsx(sc,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Load Forecast Error"}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[f," ",d.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),d.jsx(R1,{className:"h-4 w-4 text-blue-500/50 ml-auto"})]})]})]})}hs.register(Sc,jc,_o,gi,ph,So,wo,mh);function vP({title:t,slots:e,color:n}){const a={labels:e.map(c=>new Date(c.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),datasets:[{label:"Actual",data:e.map(c=>c.actual??null),borderColor:"#94a3b8",backgroundColor:"#94a3b8",borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p90",data:e.map(c=>c.p90),borderColor:`${n}40`,borderWidth:1,backgroundColor:`${n}33`,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:"+1"},{label:"p10 (Risk)",data:e.map(c=>c.p10),borderColor:`${n}80`,borderWidth:1.5,borderDash:[4,4],backgroundColor:"transparent",pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p50 (Forecast)",data:e.map(c=>c.p50),borderColor:n,backgroundColor:n,borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{color:"#cbd5e1",font:{size:11},boxWidth:8,usePointStyle:!0}},title:{display:!!t,text:t,color:"#e2e8f0",font:{size:13,weight:"normal"},align:"start",padding:{bottom:10}},tooltip:{mode:"index",intersect:!1,backgroundColor:"#1e293b",titleColor:"#e2e8f0",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},scales:{x:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8",maxRotation:0,autoSkip:!0,maxTicksLimit:8}},y:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8"},min:0}},interaction:{mode:"nearest",axis:"x",intersect:!1},layout:{padding:{bottom:0,left:10,right:10}}};return d.jsx("div",{className:"w-full h-[250px]",children:d.jsx(Xx,{data:a,options:o})})}var yk;function ae(){return yk.apply(null,arguments)}function _P(t){yk=t}function us(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ka(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kx(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(qe(t,e))return!1;return!0}function bn(t){return t===void 0}function mi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Dc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function bk(t,e){var n=[],s,a=t.length;for(s=0;s<a;++s)n.push(e(t[s],s));return n}function ea(t,e){for(var n in e)qe(e,n)&&(t[n]=e[n]);return qe(e,"toString")&&(t.toString=e.toString),qe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Cs(t,e,n,s){return Uk(t,e,n,s,!0).utc()}function wP(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Te(t){return t._pf==null&&(t._pf=wP()),t._pf}var Cg;Array.prototype.some?Cg=Array.prototype.some:Cg=function(t){var e=Object(this),n=e.length>>>0,s;for(s=0;s<n;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function Zx(t){var e=null,n=!1,s=t._d&&!isNaN(t._d.getTime());if(s&&(e=Te(t),n=Cg.call(e.parsedDateParts,function(a){return a!=null}),s=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s;return t._isValid}function kh(t){var e=Cs(NaN);return t!=null?ea(Te(e),t):Te(e).userInvalidated=!0,e}var Tw=ae.momentProperties=[],Lp=!1;function Qx(t,e){var n,s,a,o=Tw.length;if(bn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),bn(e._i)||(t._i=e._i),bn(e._f)||(t._f=e._f),bn(e._l)||(t._l=e._l),bn(e._strict)||(t._strict=e._strict),bn(e._tzm)||(t._tzm=e._tzm),bn(e._isUTC)||(t._isUTC=e._isUTC),bn(e._offset)||(t._offset=e._offset),bn(e._pf)||(t._pf=Te(e)),bn(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)s=Tw[n],a=e[s],bn(a)||(t[s]=a);return t}function Cc(t){Qx(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Lp===!1&&(Lp=!0,ae.updateOffset(this),Lp=!1)}function ds(t){return t instanceof Cc||t!=null&&t._isAMomentObject!=null}function vk(t){ae.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Jn(t,e){var n=!0;return ea(function(){if(ae.deprecationHandler!=null&&ae.deprecationHandler(null,t),n){var s=[],a,o,c,u=arguments.length;for(o=0;o<u;o++){if(a="",typeof arguments[o]=="object"){a+=`
[`+o+"] ";for(c in arguments[0])qe(arguments[0],c)&&(a+=c+": "+arguments[0][c]+", ");a=a.slice(0,-2)}else a=arguments[o];s.push(a)}vk(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Dw={};function _k(t,e){ae.deprecationHandler!=null&&ae.deprecationHandler(t,e),Dw[t]||(vk(e),Dw[t]=!0)}ae.suppressDeprecationWarnings=!1;ae.deprecationHandler=null;function As(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function SP(t){var e,n;for(n in t)qe(t,n)&&(e=t[n],As(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ag(t,e){var n=ea({},t),s;for(s in e)qe(e,s)&&(Ka(t[s])&&Ka(e[s])?(n[s]={},ea(n[s],t[s]),ea(n[s],e[s])):e[s]!=null?n[s]=e[s]:delete n[s]);for(s in t)qe(t,s)&&!qe(e,s)&&Ka(t[s])&&(n[s]=ea({},n[s]));return n}function Jx(t){t!=null&&this.set(t)}var Eg;Object.keys?Eg=Object.keys:Eg=function(t){var e,n=[];for(e in t)qe(t,e)&&n.push(e);return n};var jP={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function NP(t,e,n){var s=this._calendar[t]||this._calendar.sameElse;return As(s)?s.call(e,n):s}function Ds(t,e,n){var s=""+Math.abs(t),a=e-s.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+s}var e0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,md=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,zp={},lo={};function ye(t,e,n,s){var a=s;typeof s=="string"&&(a=function(){return this[s]()}),t&&(lo[t]=a),e&&(lo[e[0]]=function(){return Ds(a.apply(this,arguments),e[1],e[2])}),n&&(lo[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function kP(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function MP(t){var e=t.match(e0),n,s;for(n=0,s=e.length;n<s;n++)lo[e[n]]?e[n]=lo[e[n]]:e[n]=kP(e[n]);return function(a){var o="",c;for(c=0;c<s;c++)o+=As(e[c])?e[c].call(a,t):e[c];return o}}function kd(t,e){return t.isValid()?(e=wk(e,t.localeData()),zp[e]=zp[e]||MP(e),zp[e](t)):t.localeData().invalidDate()}function wk(t,e){var n=5;function s(a){return e.longDateFormat(a)||a}for(md.lastIndex=0;n>=0&&md.test(t);)t=t.replace(md,s),md.lastIndex=0,n-=1;return t}var TP={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function DP(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(e0).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var CP="Invalid date";function AP(){return this._invalidDate}var EP="%d",OP=/\d{1,2}/;function RP(t){return this._ordinal.replace("%d",t)}var LP={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function zP(t,e,n,s){var a=this._relativeTime[n];return As(a)?a(t,e,n,s):a.replace(/%d/i,t)}function PP(t,e){var n=this._relativeTime[t>0?"future":"past"];return As(n)?n(e):n.replace(/%s/i,e)}var Cw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function es(t){return typeof t=="string"?Cw[t]||Cw[t.toLowerCase()]:void 0}function t0(t){var e={},n,s;for(s in t)qe(t,s)&&(n=es(s),n&&(e[n]=t[s]));return e}var BP={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function VP(t){var e=[],n;for(n in t)qe(t,n)&&e.push({unit:n,priority:BP[n]});return e.sort(function(s,a){return s.priority-a.priority}),e}var Sk=/\d/,Rn=/\d\d/,jk=/\d{3}/,n0=/\d{4}/,Mh=/[+-]?\d{6}/,ht=/\d\d?/,Nk=/\d\d\d\d?/,kk=/\d\d\d\d\d\d?/,Th=/\d{1,3}/,s0=/\d{1,4}/,Dh=/[+-]?\d{1,6}/,Mo=/\d+/,Ch=/[+-]?\d+/,FP=/Z|[+-]\d\d:?\d\d/gi,Ah=/Z|[+-]\d\d(?::?\d\d)?/gi,HP=/[+-]?\d+(\.\d{1,3})?/,Ac=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,To=/^[1-9]\d?/,i0=/^([1-9]\d|\d)/,Jd;Jd={};function ue(t,e,n){Jd[t]=As(e)?e:function(s,a){return s&&n?n:e}}function UP(t,e){return qe(Jd,t)?Jd[t](e._strict,e._locale):new RegExp(YP(t))}function YP(t){return di(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,s,a,o){return n||s||a||o}))}function di(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Be(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Qn(e)),n}var Og={};function st(t,e){var n,s=e,a;for(typeof t=="string"&&(t=[t]),mi(e)&&(s=function(o,c){c[e]=Be(o)}),a=t.length,n=0;n<a;n++)Og[t[n]]=s}function Ec(t,e){st(t,function(n,s,a,o){a._w=a._w||{},e(n,a._w,a,o)})}function WP(t,e,n){e!=null&&qe(Og,t)&&Og[t](e,n._a,n,t)}function Eh(t){return t%4===0&&t%100!==0||t%400===0}var an=0,oi=1,ws=2,Bt=3,cs=4,li=5,Ia=6,qP=7,IP=8;ye("Y",0,0,function(){var t=this.year();return t<=9999?Ds(t,4):"+"+t});ye(0,["YY",2],0,function(){return this.year()%100});ye(0,["YYYY",4],0,"year");ye(0,["YYYYY",5],0,"year");ye(0,["YYYYYY",6,!0],0,"year");ue("Y",Ch);ue("YY",ht,Rn);ue("YYYY",s0,n0);ue("YYYYY",Dh,Mh);ue("YYYYYY",Dh,Mh);st(["YYYYY","YYYYYY"],an);st("YYYY",function(t,e){e[an]=t.length===2?ae.parseTwoDigitYear(t):Be(t)});st("YY",function(t,e){e[an]=ae.parseTwoDigitYear(t)});st("Y",function(t,e){e[an]=parseInt(t,10)});function ec(t){return Eh(t)?366:365}ae.parseTwoDigitYear=function(t){return Be(t)+(Be(t)>68?1900:2e3)};var Mk=Do("FullYear",!0);function GP(){return Eh(this.year())}function Do(t,e){return function(n){return n!=null?(Tk(this,t,n),ae.updateOffset(this,e),this):gc(this,t)}}function gc(t,e){if(!t.isValid())return NaN;var n=t._d,s=t._isUTC;switch(e){case"Milliseconds":return s?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return s?n.getUTCSeconds():n.getSeconds();case"Minutes":return s?n.getUTCMinutes():n.getMinutes();case"Hours":return s?n.getUTCHours():n.getHours();case"Date":return s?n.getUTCDate():n.getDate();case"Day":return s?n.getUTCDay():n.getDay();case"Month":return s?n.getUTCMonth():n.getMonth();case"FullYear":return s?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Tk(t,e,n){var s,a,o,c,u;if(!(!t.isValid()||isNaN(n))){switch(s=t._d,a=t._isUTC,e){case"Milliseconds":return void(a?s.setUTCMilliseconds(n):s.setMilliseconds(n));case"Seconds":return void(a?s.setUTCSeconds(n):s.setSeconds(n));case"Minutes":return void(a?s.setUTCMinutes(n):s.setMinutes(n));case"Hours":return void(a?s.setUTCHours(n):s.setHours(n));case"Date":return void(a?s.setUTCDate(n):s.setDate(n));case"FullYear":break;default:return}o=n,c=t.month(),u=t.date(),u=u===29&&c===1&&!Eh(o)?28:u,a?s.setUTCFullYear(o,c,u):s.setFullYear(o,c,u)}}function $P(t){return t=es(t),As(this[t])?this[t]():this}function XP(t,e){if(typeof t=="object"){t=t0(t);var n=VP(t),s,a=n.length;for(s=0;s<a;s++)this[n[s].unit](t[n[s].unit])}else if(t=es(t),As(this[t]))return this[t](e);return this}function KP(t,e){return(t%e+e)%e}var Tt;Array.prototype.indexOf?Tt=Array.prototype.indexOf:Tt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function a0(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=KP(e,12);return t+=(e-n)/12,n===1?Eh(t)?29:28:31-n%7%2}ye("M",["MM",2],"Mo",function(){return this.month()+1});ye("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});ye("MMMM",0,0,function(t){return this.localeData().months(this,t)});ue("M",ht,To);ue("MM",ht,Rn);ue("MMM",function(t,e){return e.monthsShortRegex(t)});ue("MMMM",function(t,e){return e.monthsRegex(t)});st(["M","MM"],function(t,e){e[oi]=Be(t)-1});st(["MMM","MMMM"],function(t,e,n,s){var a=n._locale.monthsParse(t,s,n._strict);a!=null?e[oi]=a:Te(n).invalidMonth=t});var ZP="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Dk="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ck=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,QP=Ac,JP=Ac;function eB(t,e){return t?us(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ck).test(e)?"format":"standalone"][t.month()]:us(this._months)?this._months:this._months.standalone}function tB(t,e){return t?us(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ck.test(e)?"format":"standalone"][t.month()]:us(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function nB(t,e,n){var s,a,o,c=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)o=Cs([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(a=Tt.call(this._shortMonthsParse,c),a!==-1?a:null):(a=Tt.call(this._longMonthsParse,c),a!==-1?a:null):e==="MMM"?(a=Tt.call(this._shortMonthsParse,c),a!==-1?a:(a=Tt.call(this._longMonthsParse,c),a!==-1?a:null)):(a=Tt.call(this._longMonthsParse,c),a!==-1?a:(a=Tt.call(this._shortMonthsParse,c),a!==-1?a:null))}function sB(t,e,n){var s,a,o;if(this._monthsParseExact)return nB.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(a=Cs([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[s]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(n&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!n&&this._monthsParse[s].test(t))return s}}function Ak(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Be(e);else if(e=t.localeData().monthsParse(e),!mi(e))return t}var n=e,s=t.date();return s=s<29?s:Math.min(s,a0(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,s):t._d.setMonth(n,s),t}function Ek(t){return t!=null?(Ak(this,t),ae.updateOffset(this,!0),this):gc(this,"Month")}function iB(){return a0(this.year(),this.month())}function aB(t){return this._monthsParseExact?(qe(this,"_monthsRegex")||Ok.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(qe(this,"_monthsShortRegex")||(this._monthsShortRegex=QP),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function rB(t){return this._monthsParseExact?(qe(this,"_monthsRegex")||Ok.call(this),t?this._monthsStrictRegex:this._monthsRegex):(qe(this,"_monthsRegex")||(this._monthsRegex=JP),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Ok(){function t(f,m){return m.length-f.length}var e=[],n=[],s=[],a,o,c,u;for(a=0;a<12;a++)o=Cs([2e3,a]),c=di(this.monthsShort(o,"")),u=di(this.months(o,"")),e.push(c),n.push(u),s.push(u),s.push(c);e.sort(t),n.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function oB(t,e,n,s,a,o,c){var u;return t<100&&t>=0?(u=new Date(t+400,e,n,s,a,o,c),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,n,s,a,o,c),u}function xc(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function eh(t,e,n){var s=7+e-n,a=(7+xc(t,0,s).getUTCDay()-e)%7;return-a+s-1}function Rk(t,e,n,s,a){var o=(7+n-s)%7,c=eh(t,s,a),u=1+7*(e-1)+o+c,f,m;return u<=0?(f=t-1,m=ec(f)+u):u>ec(t)?(f=t+1,m=u-ec(t)):(f=t,m=u),{year:f,dayOfYear:m}}function yc(t,e,n){var s=eh(t.year(),e,n),a=Math.floor((t.dayOfYear()-s-1)/7)+1,o,c;return a<1?(c=t.year()-1,o=a+hi(c,e,n)):a>hi(t.year(),e,n)?(o=a-hi(t.year(),e,n),c=t.year()+1):(c=t.year(),o=a),{week:o,year:c}}function hi(t,e,n){var s=eh(t,e,n),a=eh(t+1,e,n);return(ec(t)-s+a)/7}ye("w",["ww",2],"wo","week");ye("W",["WW",2],"Wo","isoWeek");ue("w",ht,To);ue("ww",ht,Rn);ue("W",ht,To);ue("WW",ht,Rn);Ec(["w","ww","W","WW"],function(t,e,n,s){e[s.substr(0,1)]=Be(t)});function lB(t){return yc(t,this._week.dow,this._week.doy).week}var cB={dow:0,doy:6};function uB(){return this._week.dow}function dB(){return this._week.doy}function hB(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function fB(t){var e=yc(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ye("d",0,"do","day");ye("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});ye("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});ye("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});ye("e",0,0,"weekday");ye("E",0,0,"isoWeekday");ue("d",ht);ue("e",ht);ue("E",ht);ue("dd",function(t,e){return e.weekdaysMinRegex(t)});ue("ddd",function(t,e){return e.weekdaysShortRegex(t)});ue("dddd",function(t,e){return e.weekdaysRegex(t)});Ec(["dd","ddd","dddd"],function(t,e,n,s){var a=n._locale.weekdaysParse(t,s,n._strict);a!=null?e.d=a:Te(n).invalidWeekday=t});Ec(["d","e","E"],function(t,e,n,s){e[s]=Be(t)});function mB(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function pB(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function r0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var gB="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lk="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xB="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yB=Ac,bB=Ac,vB=Ac;function _B(t,e){var n=us(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?r0(n,this._week.dow):t?n[t.day()]:n}function wB(t){return t===!0?r0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function SB(t){return t===!0?r0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function jB(t,e,n){var s,a,o,c=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)o=Cs([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(a=Tt.call(this._weekdaysParse,c),a!==-1?a:null):e==="ddd"?(a=Tt.call(this._shortWeekdaysParse,c),a!==-1?a:null):(a=Tt.call(this._minWeekdaysParse,c),a!==-1?a:null):e==="dddd"?(a=Tt.call(this._weekdaysParse,c),a!==-1||(a=Tt.call(this._shortWeekdaysParse,c),a!==-1)?a:(a=Tt.call(this._minWeekdaysParse,c),a!==-1?a:null)):e==="ddd"?(a=Tt.call(this._shortWeekdaysParse,c),a!==-1||(a=Tt.call(this._weekdaysParse,c),a!==-1)?a:(a=Tt.call(this._minWeekdaysParse,c),a!==-1?a:null)):(a=Tt.call(this._minWeekdaysParse,c),a!==-1||(a=Tt.call(this._weekdaysParse,c),a!==-1)?a:(a=Tt.call(this._shortWeekdaysParse,c),a!==-1?a:null))}function NB(t,e,n){var s,a,o;if(this._weekdaysParseExact)return jB.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(a=Cs([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[s]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(n&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(n&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!n&&this._weekdaysParse[s].test(t))return s}}function kB(t){if(!this.isValid())return t!=null?this:NaN;var e=gc(this,"Day");return t!=null?(t=mB(t,this.localeData()),this.add(t-e,"d")):e}function MB(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function TB(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=pB(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function DB(t){return this._weekdaysParseExact?(qe(this,"_weekdaysRegex")||o0.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(qe(this,"_weekdaysRegex")||(this._weekdaysRegex=yB),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function CB(t){return this._weekdaysParseExact?(qe(this,"_weekdaysRegex")||o0.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(qe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bB),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function AB(t){return this._weekdaysParseExact?(qe(this,"_weekdaysRegex")||o0.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(qe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vB),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function o0(){function t(g,x){return x.length-g.length}var e=[],n=[],s=[],a=[],o,c,u,f,m;for(o=0;o<7;o++)c=Cs([2e3,1]).day(o),u=di(this.weekdaysMin(c,"")),f=di(this.weekdaysShort(c,"")),m=di(this.weekdays(c,"")),e.push(u),n.push(f),s.push(m),a.push(u),a.push(f),a.push(m);e.sort(t),n.sort(t),s.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function l0(){return this.hours()%12||12}function EB(){return this.hours()||24}ye("H",["HH",2],0,"hour");ye("h",["hh",2],0,l0);ye("k",["kk",2],0,EB);ye("hmm",0,0,function(){return""+l0.apply(this)+Ds(this.minutes(),2)});ye("hmmss",0,0,function(){return""+l0.apply(this)+Ds(this.minutes(),2)+Ds(this.seconds(),2)});ye("Hmm",0,0,function(){return""+this.hours()+Ds(this.minutes(),2)});ye("Hmmss",0,0,function(){return""+this.hours()+Ds(this.minutes(),2)+Ds(this.seconds(),2)});function zk(t,e){ye(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}zk("a",!0);zk("A",!1);function Pk(t,e){return e._meridiemParse}ue("a",Pk);ue("A",Pk);ue("H",ht,i0);ue("h",ht,To);ue("k",ht,To);ue("HH",ht,Rn);ue("hh",ht,Rn);ue("kk",ht,Rn);ue("hmm",Nk);ue("hmmss",kk);ue("Hmm",Nk);ue("Hmmss",kk);st(["H","HH"],Bt);st(["k","kk"],function(t,e,n){var s=Be(t);e[Bt]=s===24?0:s});st(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});st(["h","hh"],function(t,e,n){e[Bt]=Be(t),Te(n).bigHour=!0});st("hmm",function(t,e,n){var s=t.length-2;e[Bt]=Be(t.substr(0,s)),e[cs]=Be(t.substr(s)),Te(n).bigHour=!0});st("hmmss",function(t,e,n){var s=t.length-4,a=t.length-2;e[Bt]=Be(t.substr(0,s)),e[cs]=Be(t.substr(s,2)),e[li]=Be(t.substr(a)),Te(n).bigHour=!0});st("Hmm",function(t,e,n){var s=t.length-2;e[Bt]=Be(t.substr(0,s)),e[cs]=Be(t.substr(s))});st("Hmmss",function(t,e,n){var s=t.length-4,a=t.length-2;e[Bt]=Be(t.substr(0,s)),e[cs]=Be(t.substr(s,2)),e[li]=Be(t.substr(a))});function OB(t){return(t+"").toLowerCase().charAt(0)==="p"}var RB=/[ap]\.?m?\.?/i,LB=Do("Hours",!0);function zB(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var Bk={calendar:jP,longDateFormat:TP,invalidDate:CP,ordinal:EP,dayOfMonthOrdinalParse:OP,relativeTime:LP,months:ZP,monthsShort:Dk,week:cB,weekdays:gB,weekdaysMin:xB,weekdaysShort:Lk,meridiemParse:RB},mt={},Ll={},bc;function PB(t,e){var n,s=Math.min(t.length,e.length);for(n=0;n<s;n+=1)if(t[n]!==e[n])return n;return s}function Aw(t){return t&&t.toLowerCase().replace("_","-")}function BB(t){for(var e=0,n,s,a,o;e<t.length;){for(o=Aw(t[e]).split("-"),n=o.length,s=Aw(t[e+1]),s=s?s.split("-"):null;n>0;){if(a=Oh(o.slice(0,n).join("-")),a)return a;if(s&&s.length>=n&&PB(o,s)>=n-1)break;n--}e++}return bc}function VB(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Oh(t){var e=null,n;if(mt[t]===void 0&&typeof Dd<"u"&&Dd&&Dd.exports&&VB(t))try{e=bc._abbr,n=require,n("./locale/"+t),aa(e)}catch{mt[t]=null}return mt[t]}function aa(t,e){var n;return t&&(bn(e)?n=xi(t):n=c0(t,e),n?bc=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),bc._abbr}function c0(t,e){if(e!==null){var n,s=Bk;if(e.abbr=t,mt[t]!=null)_k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=mt[t]._config;else if(e.parentLocale!=null)if(mt[e.parentLocale]!=null)s=mt[e.parentLocale]._config;else if(n=Oh(e.parentLocale),n!=null)s=n._config;else return Ll[e.parentLocale]||(Ll[e.parentLocale]=[]),Ll[e.parentLocale].push({name:t,config:e}),null;return mt[t]=new Jx(Ag(s,e)),Ll[t]&&Ll[t].forEach(function(a){c0(a.name,a.config)}),aa(t),mt[t]}else return delete mt[t],null}function FB(t,e){if(e!=null){var n,s,a=Bk;mt[t]!=null&&mt[t].parentLocale!=null?mt[t].set(Ag(mt[t]._config,e)):(s=Oh(t),s!=null&&(a=s._config),e=Ag(a,e),s==null&&(e.abbr=t),n=new Jx(e),n.parentLocale=mt[t],mt[t]=n),aa(t)}else mt[t]!=null&&(mt[t].parentLocale!=null?(mt[t]=mt[t].parentLocale,t===aa()&&aa(t)):mt[t]!=null&&delete mt[t]);return mt[t]}function xi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return bc;if(!us(t)){if(e=Oh(t),e)return e;t=[t]}return BB(t)}function HB(){return Eg(mt)}function u0(t){var e,n=t._a;return n&&Te(t).overflow===-2&&(e=n[oi]<0||n[oi]>11?oi:n[ws]<1||n[ws]>a0(n[an],n[oi])?ws:n[Bt]<0||n[Bt]>24||n[Bt]===24&&(n[cs]!==0||n[li]!==0||n[Ia]!==0)?Bt:n[cs]<0||n[cs]>59?cs:n[li]<0||n[li]>59?li:n[Ia]<0||n[Ia]>999?Ia:-1,Te(t)._overflowDayOfYear&&(e<an||e>ws)&&(e=ws),Te(t)._overflowWeeks&&e===-1&&(e=qP),Te(t)._overflowWeekday&&e===-1&&(e=IP),Te(t).overflow=e),t}var UB=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,YB=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,WB=/Z|[+-]\d\d(?::?\d\d)?/,pd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Pp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qB=/^\/?Date\((-?\d+)/i,IB=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,GB={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Vk(t){var e,n,s=t._i,a=UB.exec(s)||YB.exec(s),o,c,u,f,m=pd.length,g=Pp.length;if(a){for(Te(t).iso=!0,e=0,n=m;e<n;e++)if(pd[e][1].exec(a[1])){c=pd[e][0],o=pd[e][2]!==!1;break}if(c==null){t._isValid=!1;return}if(a[3]){for(e=0,n=g;e<n;e++)if(Pp[e][1].exec(a[3])){u=(a[2]||" ")+Pp[e][0];break}if(u==null){t._isValid=!1;return}}if(!o&&u!=null){t._isValid=!1;return}if(a[4])if(WB.exec(a[4]))f="Z";else{t._isValid=!1;return}t._f=c+(u||"")+(f||""),h0(t)}else t._isValid=!1}function $B(t,e,n,s,a,o){var c=[XB(t),Dk.indexOf(e),parseInt(n,10),parseInt(s,10),parseInt(a,10)];return o&&c.push(parseInt(o,10)),c}function XB(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function KB(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ZB(t,e,n){if(t){var s=Lk.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(s!==a)return Te(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function QB(t,e,n){if(t)return GB[t];if(e)return 0;var s=parseInt(n,10),a=s%100,o=(s-a)/100;return o*60+a}function Fk(t){var e=IB.exec(KB(t._i)),n;if(e){if(n=$B(e[4],e[3],e[2],e[5],e[6],e[7]),!ZB(e[1],n,t))return;t._a=n,t._tzm=QB(e[8],e[9],e[10]),t._d=xc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Te(t).rfc2822=!0}else t._isValid=!1}function JB(t){var e=qB.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Vk(t),t._isValid===!1)delete t._isValid;else return;if(Fk(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ae.createFromInputFallback(t)}ae.createFromInputFallback=Jn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Jr(t,e,n){return t??e??n}function e9(t){var e=new Date(ae.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function d0(t){var e,n,s=[],a,o,c;if(!t._d){for(a=e9(t),t._w&&t._a[ws]==null&&t._a[oi]==null&&t9(t),t._dayOfYear!=null&&(c=Jr(t._a[an],a[an]),(t._dayOfYear>ec(c)||t._dayOfYear===0)&&(Te(t)._overflowDayOfYear=!0),n=xc(c,0,t._dayOfYear),t._a[oi]=n.getUTCMonth(),t._a[ws]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=a[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Bt]===24&&t._a[cs]===0&&t._a[li]===0&&t._a[Ia]===0&&(t._nextDay=!0,t._a[Bt]=0),t._d=(t._useUTC?xc:oB).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Bt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(Te(t).weekdayMismatch=!0)}}function t9(t){var e,n,s,a,o,c,u,f,m;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,c=4,n=Jr(e.GG,t._a[an],yc(dt(),1,4).year),s=Jr(e.W,1),a=Jr(e.E,1),(a<1||a>7)&&(f=!0)):(o=t._locale._week.dow,c=t._locale._week.doy,m=yc(dt(),o,c),n=Jr(e.gg,t._a[an],m.year),s=Jr(e.w,m.week),e.d!=null?(a=e.d,(a<0||a>6)&&(f=!0)):e.e!=null?(a=e.e+o,(e.e<0||e.e>6)&&(f=!0)):a=o),s<1||s>hi(n,o,c)?Te(t)._overflowWeeks=!0:f!=null?Te(t)._overflowWeekday=!0:(u=Rk(n,s,a,o,c),t._a[an]=u.year,t._dayOfYear=u.dayOfYear)}ae.ISO_8601=function(){};ae.RFC_2822=function(){};function h0(t){if(t._f===ae.ISO_8601){Vk(t);return}if(t._f===ae.RFC_2822){Fk(t);return}t._a=[],Te(t).empty=!0;var e=""+t._i,n,s,a,o,c,u=e.length,f=0,m,g;for(a=wk(t._f,t._locale).match(e0)||[],g=a.length,n=0;n<g;n++)o=a[n],s=(e.match(UP(o,t))||[])[0],s&&(c=e.substr(0,e.indexOf(s)),c.length>0&&Te(t).unusedInput.push(c),e=e.slice(e.indexOf(s)+s.length),f+=s.length),lo[o]?(s?Te(t).empty=!1:Te(t).unusedTokens.push(o),WP(o,s,t)):t._strict&&!s&&Te(t).unusedTokens.push(o);Te(t).charsLeftOver=u-f,e.length>0&&Te(t).unusedInput.push(e),t._a[Bt]<=12&&Te(t).bigHour===!0&&t._a[Bt]>0&&(Te(t).bigHour=void 0),Te(t).parsedDateParts=t._a.slice(0),Te(t).meridiem=t._meridiem,t._a[Bt]=n9(t._locale,t._a[Bt],t._meridiem),m=Te(t).era,m!==null&&(t._a[an]=t._locale.erasConvertYear(m,t._a[an])),d0(t),u0(t)}function n9(t,e,n){var s;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(s=t.isPM(n),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function s9(t){var e,n,s,a,o,c,u=!1,f=t._f.length;if(f===0){Te(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<f;a++)o=0,c=!1,e=Qx({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[a],h0(e),Zx(e)&&(c=!0),o+=Te(e).charsLeftOver,o+=Te(e).unusedTokens.length*10,Te(e).score=o,u?o<s&&(s=o,n=e):(s==null||o<s||c)&&(s=o,n=e,c&&(u=!0));ea(t,n||e)}function i9(t){if(!t._d){var e=t0(t._i),n=e.day===void 0?e.date:e.day;t._a=bk([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),d0(t)}}function a9(t){var e=new Cc(u0(Hk(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Hk(t){var e=t._i,n=t._f;return t._locale=t._locale||xi(t._l),e===null||n===void 0&&e===""?kh({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ds(e)?new Cc(u0(e)):(Dc(e)?t._d=e:us(n)?s9(t):n?h0(t):r9(t),Zx(t)||(t._d=null),t))}function r9(t){var e=t._i;bn(e)?t._d=new Date(ae.now()):Dc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?JB(t):us(e)?(t._a=bk(e.slice(0),function(n){return parseInt(n,10)}),d0(t)):Ka(e)?i9(t):mi(e)?t._d=new Date(e):ae.createFromInputFallback(t)}function Uk(t,e,n,s,a){var o={};return(e===!0||e===!1)&&(s=e,e=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(Ka(t)&&Kx(t)||us(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=n,o._i=t,o._f=e,o._strict=s,a9(o)}function dt(t,e,n,s){return Uk(t,e,n,s,!1)}var o9=Jn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=dt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:kh()}),l9=Jn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=dt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:kh()});function Yk(t,e){var n,s;if(e.length===1&&us(e[0])&&(e=e[0]),!e.length)return dt();for(n=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](n))&&(n=e[s]);return n}function c9(){var t=[].slice.call(arguments,0);return Yk("isBefore",t)}function u9(){var t=[].slice.call(arguments,0);return Yk("isAfter",t)}var d9=function(){return Date.now?Date.now():+new Date},zl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function h9(t){var e,n=!1,s,a=zl.length;for(e in t)if(qe(t,e)&&!(Tt.call(zl,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<a;++s)if(t[zl[s]]){if(n)return!1;parseFloat(t[zl[s]])!==Be(t[zl[s]])&&(n=!0)}return!0}function f9(){return this._isValid}function m9(){return fs(NaN)}function Rh(t){var e=t0(t),n=e.year||0,s=e.quarter||0,a=e.month||0,o=e.week||e.isoWeek||0,c=e.day||0,u=e.hour||0,f=e.minute||0,m=e.second||0,g=e.millisecond||0;this._isValid=h9(e),this._milliseconds=+g+m*1e3+f*6e4+u*1e3*60*60,this._days=+c+o*7,this._months=+a+s*3+n*12,this._data={},this._locale=xi(),this._bubble()}function Md(t){return t instanceof Rh}function Rg(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function p9(t,e,n){var s=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0,c;for(c=0;c<s;c++)Be(t[c])!==Be(e[c])&&o++;return o+a}function Wk(t,e){ye(t,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+Ds(~~(n/60),2)+e+Ds(~~n%60,2)})}Wk("Z",":");Wk("ZZ","");ue("Z",Ah);ue("ZZ",Ah);st(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=f0(Ah,t)});var g9=/([\+\-]|\d\d)/gi;function f0(t,e){var n=(e||"").match(t),s,a,o;return n===null?null:(s=n[n.length-1]||[],a=(s+"").match(g9)||["-",0,0],o=+(a[1]*60)+Be(a[2]),o===0?0:a[0]==="+"?o:-o)}function m0(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(ds(t)||Dc(t)?t.valueOf():dt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),ae.updateOffset(n,!1),n):dt(t).local()}function Lg(t){return-Math.round(t._d.getTimezoneOffset())}ae.updateOffset=function(){};function x9(t,e,n){var s=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=f0(Ah,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(a=Lg(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),s!==t&&(!e||this._changeInProgress?Gk(this,fs(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ae.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Lg(this)}function y9(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function b9(t){return this.utcOffset(0,t)}function v9(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Lg(this),"m")),this}function _9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=f0(FP,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function w9(t){return this.isValid()?(t=t?dt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function S9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function j9(){if(!bn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Qx(t,this),t=Hk(t),t._a?(e=t._isUTC?Cs(t._a):dt(t._a),this._isDSTShifted=this.isValid()&&p9(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function N9(){return this.isValid()?!this._isUTC:!1}function k9(){return this.isValid()?this._isUTC:!1}function qk(){return this.isValid()?this._isUTC&&this._offset===0:!1}var M9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,T9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function fs(t,e){var n=t,s=null,a,o,c;return Md(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:mi(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(s=M9.exec(t))?(a=s[1]==="-"?-1:1,n={y:0,d:Be(s[ws])*a,h:Be(s[Bt])*a,m:Be(s[cs])*a,s:Be(s[li])*a,ms:Be(Rg(s[Ia]*1e3))*a}):(s=T9.exec(t))?(a=s[1]==="-"?-1:1,n={y:Ba(s[2],a),M:Ba(s[3],a),w:Ba(s[4],a),d:Ba(s[5],a),h:Ba(s[6],a),m:Ba(s[7],a),s:Ba(s[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(c=D9(dt(n.from),dt(n.to)),n={},n.ms=c.milliseconds,n.M=c.months),o=new Rh(n),Md(t)&&qe(t,"_locale")&&(o._locale=t._locale),Md(t)&&qe(t,"_isValid")&&(o._isValid=t._isValid),o}fs.fn=Rh.prototype;fs.invalid=m9;function Ba(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ew(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function D9(t,e){var n;return t.isValid()&&e.isValid()?(e=m0(e,t),t.isBefore(e)?n=Ew(t,e):(n=Ew(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ik(t,e){return function(n,s){var a,o;return s!==null&&!isNaN(+s)&&(_k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=s,s=o),a=fs(n,s),Gk(this,a,t),this}}function Gk(t,e,n,s){var a=e._milliseconds,o=Rg(e._days),c=Rg(e._months);t.isValid()&&(s=s??!0,c&&Ak(t,gc(t,"Month")+c*n),o&&Tk(t,"Date",gc(t,"Date")+o*n),a&&t._d.setTime(t._d.valueOf()+a*n),s&&ae.updateOffset(t,o||c))}var C9=Ik(1,"add"),A9=Ik(-1,"subtract");function $k(t){return typeof t=="string"||t instanceof String}function E9(t){return ds(t)||Dc(t)||$k(t)||mi(t)||R9(t)||O9(t)||t===null||t===void 0}function O9(t){var e=Ka(t)&&!Kx(t),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,o,c=s.length;for(a=0;a<c;a+=1)o=s[a],n=n||qe(t,o);return e&&n}function R9(t){var e=us(t),n=!1;return e&&(n=t.filter(function(s){return!mi(s)&&$k(t)}).length===0),e&&n}function L9(t){var e=Ka(t)&&!Kx(t),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,o;for(a=0;a<s.length;a+=1)o=s[a],n=n||qe(t,o);return e&&n}function z9(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function P9(t,e){arguments.length===1&&(arguments[0]?E9(arguments[0])?(t=arguments[0],e=void 0):L9(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||dt(),s=m0(n,this).startOf("day"),a=ae.calendarFormat(this,s)||"sameElse",o=e&&(As(e[a])?e[a].call(this,n):e[a]);return this.format(o||this.localeData().calendar(a,this,dt(n)))}function B9(){return new Cc(this)}function V9(t,e){var n=ds(t)?t:dt(t);return this.isValid()&&n.isValid()?(e=es(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function F9(t,e){var n=ds(t)?t:dt(t);return this.isValid()&&n.isValid()?(e=es(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function H9(t,e,n,s){var a=ds(t)?t:dt(t),o=ds(e)?e:dt(e);return this.isValid()&&a.isValid()&&o.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(s[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function U9(t,e){var n=ds(t)?t:dt(t),s;return this.isValid()&&n.isValid()?(e=es(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function Y9(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function W9(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function q9(t,e,n){var s,a,o;if(!this.isValid())return NaN;if(s=m0(t,this),!s.isValid())return NaN;switch(a=(s.utcOffset()-this.utcOffset())*6e4,e=es(e),e){case"year":o=Td(this,s)/12;break;case"month":o=Td(this,s);break;case"quarter":o=Td(this,s)/3;break;case"second":o=(this-s)/1e3;break;case"minute":o=(this-s)/6e4;break;case"hour":o=(this-s)/36e5;break;case"day":o=(this-s-a)/864e5;break;case"week":o=(this-s-a)/6048e5;break;default:o=this-s}return n?o:Qn(o)}function Td(t,e){if(t.date()<e.date())return-Td(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(n,"months"),a,o;return e-s<0?(a=t.clone().add(n-1,"months"),o=(e-s)/(s-a)):(a=t.clone().add(n+1,"months"),o=(e-s)/(a-s)),-(n+o)||0}ae.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ae.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function I9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function G9(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?kd(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):As(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",kd(n,"Z")):kd(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,s,a,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+s+a+o)}function X9(t){t||(t=this.isUtc()?ae.defaultFormatUtc:ae.defaultFormat);var e=kd(this,t);return this.localeData().postformat(e)}function K9(t,e){return this.isValid()&&(ds(t)&&t.isValid()||dt(t).isValid())?fs({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Z9(t){return this.from(dt(),t)}function Q9(t,e){return this.isValid()&&(ds(t)&&t.isValid()||dt(t).isValid())?fs({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function J9(t){return this.to(dt(),t)}function Xk(t){var e;return t===void 0?this._locale._abbr:(e=xi(t),e!=null&&(this._locale=e),this)}var Kk=Jn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Zk(){return this._locale}var th=1e3,co=60*th,nh=60*co,Qk=(365*400+97)*24*nh;function uo(t,e){return(t%e+e)%e}function Jk(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-Qk:new Date(t,e,n).valueOf()}function eM(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-Qk:Date.UTC(t,e,n)}function eV(t){var e,n;if(t=es(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?eM:Jk,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=uo(e+(this._isUTC?0:this.utcOffset()*co),nh);break;case"minute":e=this._d.valueOf(),e-=uo(e,co);break;case"second":e=this._d.valueOf(),e-=uo(e,th);break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function tV(t){var e,n;if(t=es(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?eM:Jk,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=nh-uo(e+(this._isUTC?0:this.utcOffset()*co),nh)-1;break;case"minute":e=this._d.valueOf(),e+=co-uo(e,co)-1;break;case"second":e=this._d.valueOf(),e+=th-uo(e,th)-1;break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function nV(){return this._d.valueOf()-(this._offset||0)*6e4}function sV(){return Math.floor(this.valueOf()/1e3)}function iV(){return new Date(this.valueOf())}function aV(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function rV(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function oV(){return this.isValid()?this.toISOString():null}function lV(){return Zx(this)}function cV(){return ea({},Te(this))}function uV(){return Te(this).overflow}function dV(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ye("N",0,0,"eraAbbr");ye("NN",0,0,"eraAbbr");ye("NNN",0,0,"eraAbbr");ye("NNNN",0,0,"eraName");ye("NNNNN",0,0,"eraNarrow");ye("y",["y",1],"yo","eraYear");ye("y",["yy",2],0,"eraYear");ye("y",["yyy",3],0,"eraYear");ye("y",["yyyy",4],0,"eraYear");ue("N",p0);ue("NN",p0);ue("NNN",p0);ue("NNNN",wV);ue("NNNNN",SV);st(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,s){var a=n._locale.erasParse(t,s,n._strict);a?Te(n).era=a:Te(n).invalidEra=t});ue("y",Mo);ue("yy",Mo);ue("yyy",Mo);ue("yyyy",Mo);ue("yo",jV);st(["y","yy","yyy","yyyy"],an);st(["yo"],function(t,e,n,s){var a;n._locale._eraYearOrdinalRegex&&(a=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[an]=n._locale.eraYearOrdinalParse(t,a):e[an]=parseInt(t,10)});function hV(t,e){var n,s,a,o=this._eras||xi("en")._eras;for(n=0,s=o.length;n<s;++n)switch(typeof o[n].since==="string"&&(a=ae(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=ae(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf();break}return o}function fV(t,e,n){var s,a,o=this.eras(),c,u,f;for(t=t.toUpperCase(),s=0,a=o.length;s<a;++s)if(c=o[s].name.toUpperCase(),u=o[s].abbr.toUpperCase(),f=o[s].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===t)return o[s];break;case"NNNN":if(c===t)return o[s];break;case"NNNNN":if(f===t)return o[s];break}else if([c,u,f].indexOf(t)>=0)return o[s]}function mV(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ae(t.since).year():ae(t.since).year()+(e-t.offset)*n}function pV(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].name;return""}function gV(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].narrow;return""}function xV(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].abbr;return""}function yV(){var t,e,n,s,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(n=a[t].since<=a[t].until?1:-1,s=this.clone().startOf("day").valueOf(),a[t].since<=s&&s<=a[t].until||a[t].until<=s&&s<=a[t].since)return(this.year()-ae(a[t].since).year())*n+a[t].offset;return this.year()}function bV(t){return qe(this,"_erasNameRegex")||g0.call(this),t?this._erasNameRegex:this._erasRegex}function vV(t){return qe(this,"_erasAbbrRegex")||g0.call(this),t?this._erasAbbrRegex:this._erasRegex}function _V(t){return qe(this,"_erasNarrowRegex")||g0.call(this),t?this._erasNarrowRegex:this._erasRegex}function p0(t,e){return e.erasAbbrRegex(t)}function wV(t,e){return e.erasNameRegex(t)}function SV(t,e){return e.erasNarrowRegex(t)}function jV(t,e){return e._eraYearOrdinalRegex||Mo}function g0(){var t=[],e=[],n=[],s=[],a,o,c,u,f,m=this.eras();for(a=0,o=m.length;a<o;++a)c=di(m[a].name),u=di(m[a].abbr),f=di(m[a].narrow),e.push(c),t.push(u),n.push(f),s.push(c),s.push(u),s.push(f);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ye(0,["gg",2],0,function(){return this.weekYear()%100});ye(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Lh(t,e){ye(0,[t,t.length],0,e)}Lh("gggg","weekYear");Lh("ggggg","weekYear");Lh("GGGG","isoWeekYear");Lh("GGGGG","isoWeekYear");ue("G",Ch);ue("g",Ch);ue("GG",ht,Rn);ue("gg",ht,Rn);ue("GGGG",s0,n0);ue("gggg",s0,n0);ue("GGGGG",Dh,Mh);ue("ggggg",Dh,Mh);Ec(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,s){e[s.substr(0,2)]=Be(t)});Ec(["gg","GG"],function(t,e,n,s){e[s]=ae.parseTwoDigitYear(t)});function NV(t){return tM.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function kV(t){return tM.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function MV(){return hi(this.year(),1,4)}function TV(){return hi(this.isoWeekYear(),1,4)}function DV(){var t=this.localeData()._week;return hi(this.year(),t.dow,t.doy)}function CV(){var t=this.localeData()._week;return hi(this.weekYear(),t.dow,t.doy)}function tM(t,e,n,s,a){var o;return t==null?yc(this,s,a).year:(o=hi(t,s,a),e>o&&(e=o),AV.call(this,t,e,n,s,a))}function AV(t,e,n,s,a){var o=Rk(t,e,n,s,a),c=xc(o.year,0,o.dayOfYear);return this.year(c.getUTCFullYear()),this.month(c.getUTCMonth()),this.date(c.getUTCDate()),this}ye("Q",0,"Qo","quarter");ue("Q",Sk);st("Q",function(t,e){e[oi]=(Be(t)-1)*3});function EV(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ye("D",["DD",2],"Do","date");ue("D",ht,To);ue("DD",ht,Rn);ue("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});st(["D","DD"],ws);st("Do",function(t,e){e[ws]=Be(t.match(ht)[0])});var nM=Do("Date",!0);ye("DDD",["DDDD",3],"DDDo","dayOfYear");ue("DDD",Th);ue("DDDD",jk);st(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Be(t)});function OV(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ye("m",["mm",2],0,"minute");ue("m",ht,i0);ue("mm",ht,Rn);st(["m","mm"],cs);var RV=Do("Minutes",!1);ye("s",["ss",2],0,"second");ue("s",ht,i0);ue("ss",ht,Rn);st(["s","ss"],li);var LV=Do("Seconds",!1);ye("S",0,0,function(){return~~(this.millisecond()/100)});ye(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ye(0,["SSS",3],0,"millisecond");ye(0,["SSSS",4],0,function(){return this.millisecond()*10});ye(0,["SSSSS",5],0,function(){return this.millisecond()*100});ye(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ye(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ye(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ye(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ue("S",Th,Sk);ue("SS",Th,Rn);ue("SSS",Th,jk);var ta,sM;for(ta="SSSS";ta.length<=9;ta+="S")ue(ta,Mo);function zV(t,e){e[Ia]=Be(("0."+t)*1e3)}for(ta="S";ta.length<=9;ta+="S")st(ta,zV);sM=Do("Milliseconds",!1);ye("z",0,0,"zoneAbbr");ye("zz",0,0,"zoneName");function PV(){return this._isUTC?"UTC":""}function BV(){return this._isUTC?"Coordinated Universal Time":""}var se=Cc.prototype;se.add=C9;se.calendar=P9;se.clone=B9;se.diff=q9;se.endOf=tV;se.format=X9;se.from=K9;se.fromNow=Z9;se.to=Q9;se.toNow=J9;se.get=$P;se.invalidAt=uV;se.isAfter=V9;se.isBefore=F9;se.isBetween=H9;se.isSame=U9;se.isSameOrAfter=Y9;se.isSameOrBefore=W9;se.isValid=lV;se.lang=Kk;se.locale=Xk;se.localeData=Zk;se.max=l9;se.min=o9;se.parsingFlags=cV;se.set=XP;se.startOf=eV;se.subtract=A9;se.toArray=aV;se.toObject=rV;se.toDate=iV;se.toISOString=G9;se.inspect=$9;typeof Symbol<"u"&&Symbol.for!=null&&(se[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});se.toJSON=oV;se.toString=I9;se.unix=sV;se.valueOf=nV;se.creationData=dV;se.eraName=pV;se.eraNarrow=gV;se.eraAbbr=xV;se.eraYear=yV;se.year=Mk;se.isLeapYear=GP;se.weekYear=NV;se.isoWeekYear=kV;se.quarter=se.quarters=EV;se.month=Ek;se.daysInMonth=iB;se.week=se.weeks=hB;se.isoWeek=se.isoWeeks=fB;se.weeksInYear=DV;se.weeksInWeekYear=CV;se.isoWeeksInYear=MV;se.isoWeeksInISOWeekYear=TV;se.date=nM;se.day=se.days=kB;se.weekday=MB;se.isoWeekday=TB;se.dayOfYear=OV;se.hour=se.hours=LB;se.minute=se.minutes=RV;se.second=se.seconds=LV;se.millisecond=se.milliseconds=sM;se.utcOffset=x9;se.utc=b9;se.local=v9;se.parseZone=_9;se.hasAlignedHourOffset=w9;se.isDST=S9;se.isLocal=N9;se.isUtcOffset=k9;se.isUtc=qk;se.isUTC=qk;se.zoneAbbr=PV;se.zoneName=BV;se.dates=Jn("dates accessor is deprecated. Use date instead.",nM);se.months=Jn("months accessor is deprecated. Use month instead",Ek);se.years=Jn("years accessor is deprecated. Use year instead",Mk);se.zone=Jn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",y9);se.isDSTShifted=Jn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",j9);function VV(t){return dt(t*1e3)}function FV(){return dt.apply(null,arguments).parseZone()}function iM(t){return t}var Ie=Jx.prototype;Ie.calendar=NP;Ie.longDateFormat=DP;Ie.invalidDate=AP;Ie.ordinal=RP;Ie.preparse=iM;Ie.postformat=iM;Ie.relativeTime=zP;Ie.pastFuture=PP;Ie.set=SP;Ie.eras=hV;Ie.erasParse=fV;Ie.erasConvertYear=mV;Ie.erasAbbrRegex=vV;Ie.erasNameRegex=bV;Ie.erasNarrowRegex=_V;Ie.months=eB;Ie.monthsShort=tB;Ie.monthsParse=sB;Ie.monthsRegex=rB;Ie.monthsShortRegex=aB;Ie.week=lB;Ie.firstDayOfYear=dB;Ie.firstDayOfWeek=uB;Ie.weekdays=_B;Ie.weekdaysMin=SB;Ie.weekdaysShort=wB;Ie.weekdaysParse=NB;Ie.weekdaysRegex=DB;Ie.weekdaysShortRegex=CB;Ie.weekdaysMinRegex=AB;Ie.isPM=OB;Ie.meridiem=zB;function sh(t,e,n,s){var a=xi(),o=Cs().set(s,e);return a[n](o,t)}function aM(t,e,n){if(mi(t)&&(e=t,t=void 0),t=t||"",e!=null)return sh(t,e,n,"month");var s,a=[];for(s=0;s<12;s++)a[s]=sh(t,s,n,"month");return a}function x0(t,e,n,s){typeof t=="boolean"?(mi(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,mi(e)&&(n=e,e=void 0),e=e||"");var a=xi(),o=t?a._week.dow:0,c,u=[];if(n!=null)return sh(e,(n+o)%7,s,"day");for(c=0;c<7;c++)u[c]=sh(e,(c+o)%7,s,"day");return u}function HV(t,e){return aM(t,e,"months")}function UV(t,e){return aM(t,e,"monthsShort")}function YV(t,e,n){return x0(t,e,n,"weekdays")}function WV(t,e,n){return x0(t,e,n,"weekdaysShort")}function qV(t,e,n){return x0(t,e,n,"weekdaysMin")}aa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Be(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ae.lang=Jn("moment.lang is deprecated. Use moment.locale instead.",aa);ae.langData=Jn("moment.langData is deprecated. Use moment.localeData instead.",xi);var Js=Math.abs;function IV(){var t=this._data;return this._milliseconds=Js(this._milliseconds),this._days=Js(this._days),this._months=Js(this._months),t.milliseconds=Js(t.milliseconds),t.seconds=Js(t.seconds),t.minutes=Js(t.minutes),t.hours=Js(t.hours),t.months=Js(t.months),t.years=Js(t.years),this}function rM(t,e,n,s){var a=fs(e,n);return t._milliseconds+=s*a._milliseconds,t._days+=s*a._days,t._months+=s*a._months,t._bubble()}function GV(t,e){return rM(this,t,e,1)}function $V(t,e){return rM(this,t,e,-1)}function Ow(t){return t<0?Math.floor(t):Math.ceil(t)}function XV(){var t=this._milliseconds,e=this._days,n=this._months,s=this._data,a,o,c,u,f;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Ow(zg(n)+e)*864e5,e=0,n=0),s.milliseconds=t%1e3,a=Qn(t/1e3),s.seconds=a%60,o=Qn(a/60),s.minutes=o%60,c=Qn(o/60),s.hours=c%24,e+=Qn(c/24),f=Qn(oM(e)),n+=f,e-=Ow(zg(f)),u=Qn(n/12),n%=12,s.days=e,s.months=n,s.years=u,this}function oM(t){return t*4800/146097}function zg(t){return t*146097/4800}function KV(t){if(!this.isValid())return NaN;var e,n,s=this._milliseconds;if(t=es(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,n=this._months+oM(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(zg(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function yi(t){return function(){return this.as(t)}}var lM=yi("ms"),ZV=yi("s"),QV=yi("m"),JV=yi("h"),e7=yi("d"),t7=yi("w"),n7=yi("M"),s7=yi("Q"),i7=yi("y"),a7=lM;function r7(){return fs(this)}function o7(t){return t=es(t),this.isValid()?this[t+"s"]():NaN}function sr(t){return function(){return this.isValid()?this._data[t]:NaN}}var l7=sr("milliseconds"),c7=sr("seconds"),u7=sr("minutes"),d7=sr("hours"),h7=sr("days"),f7=sr("months"),m7=sr("years");function p7(){return Qn(this.days()/7)}var ni=Math.round,ro={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function g7(t,e,n,s,a){return a.relativeTime(e||1,!!n,t,s)}function x7(t,e,n,s){var a=fs(t).abs(),o=ni(a.as("s")),c=ni(a.as("m")),u=ni(a.as("h")),f=ni(a.as("d")),m=ni(a.as("M")),g=ni(a.as("w")),x=ni(a.as("y")),b=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||c<=1&&["m"]||c<n.m&&["mm",c]||u<=1&&["h"]||u<n.h&&["hh",u]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(b=b||g<=1&&["w"]||g<n.w&&["ww",g]),b=b||m<=1&&["M"]||m<n.M&&["MM",m]||x<=1&&["y"]||["yy",x],b[2]=e,b[3]=+t>0,b[4]=s,g7.apply(null,b)}function y7(t){return t===void 0?ni:typeof t=="function"?(ni=t,!0):!1}function b7(t,e){return ro[t]===void 0?!1:e===void 0?ro[t]:(ro[t]=e,t==="s"&&(ro.ss=e-1),!0)}function v7(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=ro,a,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(s=Object.assign({},ro,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),a=this.localeData(),o=x7(this,!n,s,a),n&&(o=a.pastFuture(+this,o)),a.postformat(o)}var Bp=Math.abs;function Kr(t){return(t>0)-(t<0)||+t}function zh(){if(!this.isValid())return this.localeData().invalidDate();var t=Bp(this._milliseconds)/1e3,e=Bp(this._days),n=Bp(this._months),s,a,o,c,u=this.asSeconds(),f,m,g,x;return u?(s=Qn(t/60),a=Qn(s/60),t%=60,s%=60,o=Qn(n/12),n%=12,c=t?t.toFixed(3).replace(/\.?0+$/,""):"",f=u<0?"-":"",m=Kr(this._months)!==Kr(u)?"-":"",g=Kr(this._days)!==Kr(u)?"-":"",x=Kr(this._milliseconds)!==Kr(u)?"-":"",f+"P"+(o?m+o+"Y":"")+(n?m+n+"M":"")+(e?g+e+"D":"")+(a||s||t?"T":"")+(a?x+a+"H":"")+(s?x+s+"M":"")+(t?x+c+"S":"")):"P0D"}var He=Rh.prototype;He.isValid=f9;He.abs=IV;He.add=GV;He.subtract=$V;He.as=KV;He.asMilliseconds=lM;He.asSeconds=ZV;He.asMinutes=QV;He.asHours=JV;He.asDays=e7;He.asWeeks=t7;He.asMonths=n7;He.asQuarters=s7;He.asYears=i7;He.valueOf=a7;He._bubble=XV;He.clone=r7;He.get=o7;He.milliseconds=l7;He.seconds=c7;He.minutes=u7;He.hours=d7;He.days=h7;He.weeks=p7;He.months=f7;He.years=m7;He.humanize=v7;He.toISOString=zh;He.toString=zh;He.toJSON=zh;He.locale=Xk;He.localeData=Zk;He.toIsoString=Jn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zh);He.lang=Kk;ye("X",0,0,"unix");ye("x",0,0,"valueOf");ue("x",Ch);ue("X",HP);st("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});st("x",function(t,e,n){n._d=new Date(Be(t))});ae.version="2.30.1";_P(dt);ae.fn=se;ae.min=c9;ae.max=u9;ae.now=d9;ae.utc=Cs;ae.unix=VV;ae.months=HV;ae.isDate=Dc;ae.locale=aa;ae.invalid=kh;ae.duration=fs;ae.isMoment=ds;ae.weekdays=YV;ae.parseZone=FV;ae.localeData=xi;ae.isDuration=Md;ae.monthsShort=UV;ae.weekdaysMin=qV;ae.defineLocale=c0;ae.updateLocale=FB;ae.locales=HB;ae.weekdaysShort=WV;ae.normalizeUnits=es;ae.relativeTimeRounding=y7;ae.relativeTimeThreshold=b7;ae.calendarFormat=z9;ae.prototype=se;ae.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const _7={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};YS._date.override(typeof ae=="function"?{_id:"moment",formats:function(){return _7},parse:function(t,e){return typeof t=="string"&&typeof e=="string"?t=ae(t,e):t instanceof ae||(t=ae(t)),t.isValid()?t.valueOf():null},format:function(t,e){return ae(t).format(e)},add:function(t,e,n){return ae(t).add(e,n).valueOf()},diff:function(t,e,n){return ae(t).diff(ae(e),n)},startOf:function(t,e,n){return t=ae(t),e==="isoWeek"?(n=Math.trunc(Math.min(Math.max(0,n),6)),t.isoWeekday(n).startOf("day").valueOf()):t.startOf(e).valueOf()},endOf:function(t,e){return ae(t).endOf(e).valueOf()}}:{});hs.register(Sc,jc,_o,gi,rx,ph,So,wo,Ud);function w7(){const[t,e]=k.useState(null),[n,s]=k.useState(null),[a,o]=k.useState(""),[c,u]=k.useState(!1),[f,m]=k.useState(!1),[g,x]=k.useState(3),[b,v]=k.useState(!1),[w,S]=k.useState("load"),[j,N]=k.useState("forecast"),[T,E]=k.useState(!1),[O,z]=k.useState(!1),[D,A]=k.useState(!1),[L,V]=k.useState(!1),[X,G]=k.useState(!1),[ne,pe]=k.useState(!1),[re,le]=k.useState(null),F=async()=>{u(!0);try{const fe=await me.aurora.dashboard();e(fe);const Je=fe.state?.risk_profile?.risk_appetite;typeof Je=="number"&&x(Je),E(!!fe.state?.auto_tune_enabled),A(!!fe.state?.reflex_enabled),G(fe.state?.risk_profile?.mode==="probabilistic")}catch(fe){console.error("Failed to load Aurora dashboard:",fe)}finally{u(!1)}};k.useEffect(()=>{F(),(async()=>{try{const Je=await me.schedulerStatus();s(Je)}catch(Je){console.error("Failed to load scheduler status:",Je)}})()},[]),k.useEffect(()=>{(async()=>{try{const Je=await me.performanceData(7);le(Je)}catch(Je){console.error("Failed to load performance data:",Je)}})()},[]);const $=async()=>{if(t){m(!0);try{const fe=await me.aurora.briefing(t);o(fe.briefing)}catch(fe){console.error("Failed to fetch Aurora briefing:",fe),o("Failed to fetch Aurora briefing.")}finally{m(!1)}}},ie=async fe=>{x(fe);try{await me.configSave({s_index:{risk_appetite:fe}})}catch(Je){console.error("Failed to save risk level (risk_appetite):",Je)}},te=async()=>{const fe=!T;E(fe),z(!0);try{await me.configSave({learning:{auto_tune_enabled:fe}})}catch(Je){console.error("Failed to toggle auto-tune:",Je),E(!fe)}finally{z(!1)}},oe=async()=>{const fe=!D;A(fe),V(!0);try{await me.aurora.toggleReflex(fe)}catch(Je){console.error("Failed to toggle reflex:",Je),A(!fe)}finally{V(!1)}},R=async()=>{const fe=!X;G(fe),pe(!0);try{await me.configSave({s_index:{mode:fe?"probabilistic":"dynamic"}})}catch(Je){console.error("Failed to toggle probabilistic mode:",Je),G(!fe)}finally{pe(!1)}},U=t?.identity?.graduation?.label??"infant",J=t?.state?.weather_volatility,C=J?.overall??0,ee=C<.3?"bg-emerald-400/90":C<.7?"bg-sky-400/90":"bg-amber-400/90",ce=C<.3?"from-emerald-900/60 via-surface to-surface":C<.7?"from-sky-900/60 via-surface to-surface":"from-amber-900/60 via-surface to-surface",De=t?.horizon?.slots??[],xt=t?.horizon?.end??new Date().toISOString(),Ge=t?.history?.strategy_events??[],_n=k.useMemo(()=>re?{datasets:[{label:"Planned",data:re.soc_series.map(fe=>({x:fe.time,y:fe.planned})),borderColor:"#94a3b8",borderDash:[5,5],borderWidth:1.5,pointRadius:0,tension:.4},{label:"Actual",data:re.soc_series.map(fe=>({x:fe.time,y:fe.actual})),borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.1)",borderWidth:1.5,pointRadius:0,fill:!0,tension:.4}]}:null,[re]),cn=k.useMemo(()=>re?{labels:re.cost_series.map(fe=>fe.date.slice(5)),datasets:[{label:"Plan",data:re.cost_series.map(fe=>fe.planned),backgroundColor:"#94a3b8",borderRadius:2},{label:"Real",data:re.cost_series.map(fe=>fe.realized),backgroundColor:re.cost_series.map(fe=>fe.realized<=fe.planned?"#34d399":"#f87171"),borderRadius:2}]}:null,[re]);return d.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Aurora Command Center",d.jsx("span",{className:"px-2 py-0.5 rounded-full bg-surface2 border border-line/50 text-[10px] text-muted uppercase tracking-wider",children:U})]}),d.jsx("p",{className:"text-[11px] text-muted",children:"The Mastermind. Observing context, managing risk, and learning from reality."})]})}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[d.jsx(Ae,{className:`lg:col-span-6 p-4 md:p-5 bg-gradient-to-br ${ce} relative overflow-hidden`,children:d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:`absolute h-16 w-16 rounded-full ${ee} opacity-30 animate-pulse`}),d.jsx("div",{className:"relative flex items-center justify-center w-14 h-14 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:d.jsx(Ip,{className:"h-8 w-8 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),d.jsx("div",{className:"text-lg font-medium text-text",children:C>.6?"Defensive Mode":C>.3?"Cautious Mode":"Optimal Mode"}),d.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2",children:[d.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${C>.6?"bg-amber-400":"bg-emerald-400"}`}),C>.6?"High Volatility Detected":"Conditions Stable"]})]})]}),d.jsxs("div",{className:"flex-1 bg-surface/40 rounded-xl p-3 border border-white/5 backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-text font-medium",children:[d.jsx(aS,{className:"h-3 w-3 text-accent"}),"Daily Briefing"]}),d.jsx("button",{onClick:$,disabled:!t||f,className:"text-[10px] text-muted hover:text-accent disabled:opacity-50 transition-colors",children:f?"Thinking...":"Refresh"})]}),d.jsx("div",{className:"text-[11px] leading-relaxed text-muted/90 font-mono",children:a||"Aurora is analyzing current market and weather conditions..."})]})]})}),d.jsxs(Ae,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-muted tracking-wider",children:"Risk Appetite"}),d.jsxs("div",{className:"flex items-center gap-2",children:[t?.state?.risk_profile?.raw_factor!=null&&(t.state.risk_profile.raw_factor??0)>0&&d.jsxs("span",{className:"text-[9px] text-muted/60",title:"Calculated based on risk",children:["Calc: ",(t.state.risk_profile.raw_factor??0).toFixed(2)]}),d.jsxs("span",{className:"text-[9px] text-muted",title:"Proected factor for next run",children:["Applied: ",(t?.state?.risk_profile?.current_factor??1).toFixed(2)]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("div",{className:"grid grid-cols-5 gap-1 p-1 bg-surface2/50 rounded-lg border border-line/30",children:[1,2,3,4,5].map(fe=>{const Je=g===fe;let yt="bg-surface border-line text-text shadow-sm";return Je&&(fe===1?yt="bg-emerald-500/20 border-emerald-500/50 text-emerald-100 shadow-[0_0_10px_rgba(16,185,129,0.2)]":fe===2?yt="bg-teal-500/20 border-teal-500/50 text-teal-100":fe===3?yt="bg-blue-500/20 border-blue-500/50 text-blue-100":fe===4?yt="bg-amber-500/20 border-amber-500/50 text-amber-100":fe===5&&(yt="bg-red-500/20 border-red-500/50 text-red-100 shadow-[0_0_10px_rgba(239,68,68,0.2)]")),d.jsx("button",{onClick:()=>ie(fe),className:`
                       relative flex items-center justify-center h-9 rounded-md text-[10px] font-medium transition-all duration-200
                       border border-transparent
                       ${Je?yt:"text-muted hover:bg-surface/50 hover:text-text"}
                     `,children:fe},fe)})}),d.jsxs("div",{className:"text-center h-8 flex flex-col justify-center",children:[d.jsx("span",{className:`text-[11px] font-medium transition-colors duration-300 ${g===1?"text-emerald-400":g===2?"text-teal-400":g===3?"text-blue-400":g===4?"text-amber-400":"text-red-400"}`,children:{1:"Safety First",2:"Conservative",3:"Neutral (Balanced)",4:"Aggressive",5:"Gambler"}[g]}),d.jsx("span",{className:"text-[9px] text-muted/70",children:{1:"Covers Worst Case (p90)",2:"Covers High Load (p75)",3:"Trusts the Mean (p50)",4:"Expects Lower Load",5:"Bets on Sun/Empty"}[g]})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30 flex flex-col items-center gap-2",children:[d.jsx("button",{onClick:async()=>{v(!0);try{await ie(g),await me.runPlanner(),await F()}finally{v(!1)}},disabled:b,className:`flex items-center gap-2 px-3 py-1.5 rounded-full bg-surface hover:bg-surface2 border border-line/50 text-[10px] transition-colors ${b?"opacity-70 cursor-not-allowed text-muted":"text-muted hover:text-text"}`,title:"Run Strategy Engine to update forecast based on new risk",children:b?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),d.jsx("span",{children:"Re-planning..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ss,{className:"h-3 w-3 text-accent"}),d.jsx("span",{children:"Apply & Re-Plan"})]})}),b&&d.jsx("span",{className:"text-[9px] text-muted/70 animate-pulse",children:"Regenerating schedule with new risk level..."})]})]}),d.jsxs(Ae,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ss,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Auto-Tuner"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Allow Aurora to act"})]}),d.jsx("button",{onClick:te,disabled:O,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${T?"bg-accent":"bg-surface2"}`,children:d.jsx("span",{className:`${T?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Aurora Reflex"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Long-term auto-tuning"})]}),d.jsx("button",{onClick:oe,disabled:L,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${D?"bg-accent":"bg-surface2"}`,children:d.jsx("span",{className:`${D?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Probabilistic"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Use p10/p90 confidence bands"})]}),d.jsx("button",{onClick:R,disabled:ne,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${X?"bg-accent":"bg-surface2"}`,children:d.jsx("span",{className:`${X?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),d.jsx("div",{className:"mt-auto pt-2 text-center text-[10px] text-muted",children:"More controls coming soon."})]})]}),d.jsx(bP,{metrics:t?.metrics,perfData:re}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-12 lg:h-[450px]",children:[d.jsxs(Ae,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[d.jsx("div",{className:"mb-4 flex items-center justify-between shrink-0",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sc,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Context Radar"})]})}),d.jsx("div",{className:"flex-1 min-h-0 relative",children:d.jsx(xP,{weatherVolatility:{cloud:J?.cloud_volatility??0,temp:J?.temp_volatility??0,overall:C},riskFactor:g??3,forecastAccuracy:t?.metrics?.mae_pv_aurora!=null?Math.max(0,100-t.metrics.mae_pv_aurora*20):85,priceSpread:t?.metrics?.max_price_spread,forecastBias:t?.metrics?.forecast_bias})})]}),d.jsxs(Ae,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[d.jsxs("div",{className:"mb-4 flex items-center justify-between shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Jw,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Activity Log"})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsxs("span",{className:"text-[10px] text-muted",children:[Ge.length," events"]}),n?.ml_training_last_run_at&&d.jsxs("span",{className:"text-[9px] text-muted/70",title:"Last ML Training Run",children:["ML Train:"," ",new Date(n.ml_training_last_run_at).toLocaleString("sv-SE",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]})]}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto pr-2 custom-scrollbar",children:d.jsx(yP,{events:Ge})})]}),d.jsxs(Ae,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col h-full min-h-0 overflow-hidden",children:[d.jsxs("div",{className:"mb-4 shrink-0",children:[d.jsx("div",{className:"text-xs font-medium text-text",children:"Cost Reality"}),d.jsx("div",{className:"text-[11px] text-muted",children:"Daily financial outcome"})]}),d.jsx("div",{className:"flex-1 min-h-0",children:cn&&d.jsx(mP,{data:cn,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:10}}},y:{grid:{color:"#334155"},ticks:{color:"#94a3b8"}}},plugins:{legend:{labels:{color:"#e2e8f0",font:{size:10}}}}}})})]})]}),d.jsx("div",{className:"grid gap-4 lg:grid-cols-12",children:d.jsxs(Ae,{className:"lg:col-span-12 p-4 flex flex-col h-[350px] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-medium text-text",children:j==="forecast"?"Forecast Horizon (48h)":"SoC Tunnel"}),d.jsxs("div",{className:"text-[11px] text-muted",children:[j==="forecast"?X?`Probabilistic View (${w.toUpperCase()})`:`Decomposition View (${w.toUpperCase()})`:"Plan vs Reality",j==="forecast"&&d.jsxs(d.Fragment,{children:["  ",new Date().toISOString().slice(0,10)," -"," ",new Date(xt).toISOString().slice(0,10)]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px] mr-2",children:[d.jsx("button",{className:`px-3 py-0.5 rounded-full ${j==="forecast"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>N("forecast"),children:"Forecast"}),d.jsx("button",{className:`px-3 py-0.5 rounded-full ${j==="soc"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>N("soc"),children:"SoC"})]}),j==="forecast"&&d.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px]",children:[d.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${w==="load"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>S("load"),children:d.jsx(Ss,{className:"h-3 w-3"})}),d.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${w==="pv"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>S("pv"),children:d.jsx(rS,{className:"h-3 w-3"})})]})]})]}),d.jsx("div",{className:"flex-1 min-h-0",children:c?d.jsx("div",{className:"text-[11px] text-muted",children:"Loading..."}):j==="soc"?d.jsx("div",{className:"h-full w-full",children:_n&&d.jsx(Xx,{data:_n,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",time:{unit:"hour",displayFormats:{hour:"HH:mm"}},grid:{color:"#334155",display:!1},ticks:{color:"#94a3b8",maxTicksLimit:6}},y:{min:0,max:100,grid:{color:"#334155"},ticks:{color:"#94a3b8",display:!1}}},plugins:{legend:{display:!1}}}})}):X?d.jsx("div",{className:"h-full w-full",children:d.jsx(vP,{title:"",color:w==="load"?"#f97316":"#22c55e",slots:(()=>{const fe=t?.horizon?.history_series?.[w==="load"?"load":"pv"]||[],Je=De.map($e=>w==="load"?{time:$e.slot_start,p10:$e.probabilistic?.load_p10??null,p50:$e.final.load_kwh,p90:$e.probabilistic?.load_p90??null,actual:null}:{time:$e.slot_start,p10:$e.probabilistic?.pv_p10??null,p50:$e.final.pv_kwh,p90:$e.probabilistic?.pv_p90??null,actual:null}),yt=new Map;fe.forEach($e=>{yt.set($e.slot_start,{time:$e.slot_start,p10:$e.p10??null,p50:$e.forecast??null,p90:$e.p90??null,actual:$e.actual})}),Je.forEach($e=>{const un=yt.get($e.time);un?yt.set($e.time,{...un,p10:$e.p10,p50:$e.p50,p90:$e.p90}):yt.set($e.time,$e)});const Es=new Date().getTime(),bi=1440*60*1e3;return Array.from(yt.values()).sort(($e,un)=>new Date($e.time).getTime()-new Date(un.time).getTime()).filter($e=>{const un=new Date($e.time).getTime();return un>=Es-bi&&un<=Es+bi})})()})}):d.jsx(gP,{slots:De,mode:w})})]})})]})}function Pl({data:t,colorClass:e="bg-accent",height:n=32,bars:s=12}){const a=k.useMemo(()=>{if(!t||t.length===0)return Array(s).fill(.2);const o=t.slice(-s),c=Math.max(...o,1),u=Math.min(...o,0),f=c-u||1;return o.map(m=>.1+.9*((m-u)/f))},[t,s]);return d.jsx("div",{className:"mini-bars",style:{height:n},children:a.map((o,c)=>d.jsx("div",{className:`mini-bar ${e}`,style:{height:`${Math.round(o*100)}%`}},c))})}const Xn={status:async()=>{const t=await fetch("api/executor/status");if(!t.ok)throw new Error(`Status failed: ${t.status}`);return t.json()},toggle:async t=>{const e=await fetch("api/executor/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Toggle failed: ${e.status}`);return e.json()},run:async()=>{const t=await fetch("api/executor/run",{method:"POST"});if(!t.ok)throw new Error(`Run failed: ${t.status}`);return t.json()},history:async(t=20)=>{const e=await fetch(`api/executor/history?limit=${t}`);if(!e.ok)throw new Error(`History failed: ${e.status}`);return e.json()},stats:async(t=7)=>{const e=await fetch(`api/executor/stats?days=${t}`);if(!e.ok)throw new Error(`Stats failed: ${e.status}`);return e.json()},live:async()=>{const t=await fetch("api/executor/live");if(!t.ok)throw new Error(`Live failed: ${t.status}`);return t.json()},notifications:{get:async()=>{const t=await fetch("api/executor/notifications");if(!t.ok)throw new Error(`Notifications failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Notifications update failed: ${e.status}`);return e.json()},test:async()=>{const t=await fetch("api/executor/notifications/test",{method:"POST"}),e=await t.json();if(!t.ok)throw new Error(e.error||`Test failed: ${t.status}`);return e}},config:{get:async()=>{const t=await fetch("api/executor/config");if(!t.ok)throw new Error(`Config get failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Config update failed: ${e.status}`);return e.json()}},quickAction:{get:async()=>{const t=await fetch("api/executor/quick-action");if(!t.ok)throw new Error(`Quick action get failed: ${t.status}`);return t.json()},set:async(t,e)=>{const n=await fetch("api/executor/quick-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,duration_minutes:e})});if(!n.ok)throw new Error(`Quick action set failed: ${n.status}`);return n.json()},clear:async()=>{const t=await fetch("api/executor/quick-action",{method:"DELETE"});if(!t.ok)throw new Error(`Quick action clear failed: ${t.status}`);return t.json()}}};function Vp({enabled:t,onChange:e,disabled:n=!1,size:s="md"}){const a=s==="sm"?"h-5 w-9":"h-6 w-11",o=s==="sm"?"h-3 w-3":"h-4 w-4",c=s==="sm"?t?"translate-x-5":"translate-x-1":t?"translate-x-6":"translate-x-1";return d.jsx("button",{type:"button",role:"switch","aria-checked":t,disabled:n,onClick:()=>e(!t),className:`relative inline-flex items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${a} ${t?"bg-accent":"bg-surface2"} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:d.jsx("span",{className:`inline-block transform rounded-full bg-white transition-transform ${o} ${c}`})})}hs.register(Sc,jc,_o,gi,ph,So,wo,mh);function S7(){const[t,e]=k.useState(null),[n,s]=k.useState(null),[a,o]=k.useState([]),[c,u]=k.useState(null),[f,m]=k.useState({soc:[],pv:[],load:[],import:[],export:[],labels:[]}),[g,x]=k.useState(!0),[b,v]=k.useState(!1),[w,S]=k.useState(!1),[j,N]=k.useState(null),[T,E]=k.useState(!1),[O,z]=k.useState(null),[D,A]=k.useState(!1),[L,V]=k.useState(!1),[X,G]=k.useState(null),[ne,pe]=k.useState(null),re=k.useCallback(async()=>{try{const[C,ee,ce]=await Promise.all([Xn.status(),Xn.stats(7),Xn.history(20)]);e(C),s(ee),o(ce.records),N(null)}catch(C){N(C.message||"Failed to load executor data")}finally{x(!1)}},[]);ao("live_metrics",C=>{u(ee=>{const ce={...ee||{}};return C.soc!==void 0&&(ce.soc={value:`${C.soc.toFixed(0)}%`,numeric:C.soc,unit:"%"}),C.pv_kw!==void 0&&(ce.pv_power={value:`${C.pv_kw.toFixed(1)} kW`,numeric:C.pv_kw*1e3,unit:"W"}),C.load_kw!==void 0&&(ce.load_power={value:`${C.load_kw.toFixed(1)} kW`,numeric:C.load_kw*1e3,unit:"W"}),C.grid_import_kw!==void 0&&(ce.grid_import={value:`${C.grid_import_kw.toFixed(2)} kW`,numeric:C.grid_import_kw*1e3,unit:"W"}),C.grid_export_kw!==void 0&&(ce.grid_export={value:`${C.grid_export_kw.toFixed(2)} kW`,numeric:C.grid_export_kw*1e3,unit:"W"}),C.work_mode&&(ce.work_mode={value:C.work_mode}),ce}),m(ee=>{const De=[...ee.labels,""],xt=[...ee.soc,C.soc??ee.soc[ee.soc.length-1]??0],Ge=[...ee.pv,C.pv_kw??ee.pv[ee.pv.length-1]??0],_n=[...ee.load,C.load_kw??ee.load[ee.load.length-1]??0],cn=[...ee.import,C.grid_import_kw??ee.import[ee.import.length-1]??0],fe=[...ee.export,C.grid_export_kw??ee.export[ee.export.length-1]??0];return De.length>20&&(De.shift(),xt.shift(),Ge.shift(),_n.shift(),cn.shift(),fe.shift()),{labels:De,soc:xt,pv:Ge,load:_n,import:cn,export:fe}})}),ao("executor_status",C=>{e(C)}),k.useEffect(()=>{x(!0),re();const C=setInterval(re,3e4);return()=>clearInterval(C)},[re]),k.useEffect(()=>{(async()=>{try{const ee=await Xn.live();u(ee)}catch{}})()},[]),k.useEffect(()=>{(async()=>{try{const ee=await Xn.notifications.get();z(ee)}catch{}})()},[]);const le=async(C,ee)=>{if(O){A(!0);try{await Xn.notifications.update({[C]:ee}),z(ce=>ce?{...ce,[C]:ee}:null)}catch(ce){N(ce.message)}finally{A(!1)}}},F=async C=>{v(!0);try{await Xn.toggle({enabled:C}),await re()}catch(ee){N(ee.message)}finally{v(!1)}},$=async()=>{V(!0),G(null);try{const C=await Xn.notifications.test();G({success:!0,message:C.message||"Test sent!"})}catch(C){G({success:!1,message:C.message})}finally{V(!1)}},ie=async C=>{v(!0);try{await Xn.toggle({shadow_mode:C}),await re()}catch(ee){N(ee.message)}finally{v(!1)}},te=async()=>{S(!0);try{await Xn.run(),await re()}catch(C){N(C.message)}finally{S(!1)}},oe=C=>{if(!C)return"";try{return new Date(C).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"})}catch{return C}},R=C=>{if(!C)return"";try{return new Date(C).toLocaleString("sv-SE",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return C}},U=t?.enabled?t?.shadow_mode?"from-amber-900/60 via-surface to-surface":"from-emerald-900/60 via-surface to-surface":"from-slate-800/60 via-surface to-surface",J=t?.enabled?t?.shadow_mode?"bg-amber-400/90":"bg-emerald-400/90":"bg-slate-500/90";return g?d.jsx("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:d.jsxs("div",{className:"animate-pulse space-y-4",children:[d.jsx("div",{className:"h-10 bg-surface2 rounded w-48"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[d.jsx("div",{className:"h-64 bg-surface2 rounded"}),d.jsx("div",{className:"h-64 bg-surface2 rounded lg:col-span-2"})]})]})}):d.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Executor Control Center",d.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[10px] uppercase tracking-wider ${t?.enabled?t?.shadow_mode?"bg-amber-500/20 border-amber-500/50 text-amber-300":"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":"bg-slate-500/20 border-slate-500/50 text-slate-400"}`,children:t?.enabled?t?.shadow_mode?"Shadow":"Active":"Disabled"})]}),d.jsx("p",{className:"text-[11px] text-muted",children:"Native execution engine  controls inverter and water heater based on the schedule."})]})}),j&&d.jsxs("div",{className:"rounded-xl p-3 bg-red-500/10 border border-red-500/30 flex items-center gap-3",children:[d.jsx(gd,{className:"h-4 w-4 text-red-400"}),d.jsx("span",{className:"text-red-300 text-[11px] flex-1",children:j}),d.jsx("button",{onClick:()=>N(null),className:"text-red-400 hover:text-red-300 text-lg",children:""})]}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[d.jsxs(Ae,{className:`lg:col-span-5 p-4 md:p-5 bg-gradient-to-br ${U} relative overflow-hidden`,children:[d.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[d.jsxs("div",{className:"relative flex items-center justify-center shrink-0",children:[d.jsx("div",{className:`absolute h-14 w-14 rounded-full ${J} opacity-30 animate-pulse`}),d.jsx("div",{className:"relative flex items-center justify-center w-12 h-12 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:d.jsx(Gp,{className:"h-6 w-6 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),d.jsx("div",{className:"text-lg font-medium text-text",children:t?.enabled?t?.shadow_mode?"Shadow Mode":"Executing":"Standby"}),d.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2 mt-1",children:[d.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${t?.last_run_status==="success"?"bg-emerald-400":t?.last_run_status==="error"?"bg-red-400":"bg-slate-400"}`}),t?.last_run_status==="success"?"Last run successful":t?.last_run_status==="error"?"Last run failed":"No runs yet"]})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10 grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Last Run"}),d.jsx("div",{className:"text-sm font-mono text-text",children:oe(t?.last_run_at)})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Next Run"}),d.jsx("div",{className:"text-sm font-mono text-text",children:oe(t?.next_run_at)})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Version"}),d.jsx("div",{className:"text-sm font-mono text-text",children:t?.version||""})]})]}),t?.override_active&&d.jsx("div",{className:"mt-3 p-2 rounded-lg bg-amber-500/20 border border-amber-500/30",children:d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-amber-300",children:[d.jsx(gd,{className:"h-3.5 w-3.5"}),d.jsx("span",{className:"font-medium",children:"Override Active:"}),d.jsx("span",{children:t.override_type})]})})]}),d.jsxs(Ae,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Od,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),d.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Executor Enabled"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Execute actions on Home Assistant"})]}),d.jsx(Vp,{enabled:t?.enabled??!1,onChange:F,disabled:b,size:"sm"})]}),d.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"text-[11px] font-medium text-text flex items-center gap-1.5",children:["Shadow Mode",d.jsx(qD,{className:"h-3 w-3 text-muted"})]}),d.jsx("span",{className:"text-[9px] text-muted",children:"Log only, don't execute actions"})]}),d.jsx(Vp,{enabled:t?.shadow_mode??!1,onChange:ie,disabled:b,size:"sm"})]}),d.jsxs("button",{onClick:()=>E(!0),className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2 hover:bg-surface2 transition-colors w-full",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(np,{className:"h-4 w-4 text-muted"}),d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Notifications"})]}),O&&Object.entries(O).some(([C,ee])=>C.startsWith("on_")&&ee===!0)&&d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute inset-0 rounded-full bg-accent/50 blur-sm animate-pulse"}),d.jsx("span",{className:"relative h-2.5 w-2.5 rounded-full bg-accent block ring-2 ring-accent/30"})]})]}),d.jsx("div",{className:"mt-auto pt-4",children:d.jsx("button",{onClick:te,disabled:w,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-surface hover:bg-surface2 border border-line/50 text-[11px] font-medium transition-all ${w?"opacity-70 cursor-not-allowed text-muted":"text-text hover:border-accent/50"}`,children:w?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-3.5 w-3.5 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),d.jsx("span",{children:"Running..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(sS,{className:"h-3.5 w-3.5 text-accent"}),d.jsx("span",{children:"Run Now"})]})})})]}),d.jsxs(Ae,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ed,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"7-Day Stats"})]}),n&&d.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[d.jsxs("div",{className:"p-3 rounded-lg bg-surface2/30 border border-line/30",children:[d.jsx("div",{className:"text-xl font-bold text-text",children:n.total_executions}),d.jsx("div",{className:"text-[10px] text-muted",children:"Total Runs"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[d.jsxs("div",{className:"text-xl font-bold text-emerald-400",children:[n.success_rate,"%"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Success Rate"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[d.jsx("div",{className:"text-xl font-bold text-amber-400",children:n.override_count}),d.jsx("div",{className:"text-[10px] text-muted",children:"Overrides"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[d.jsx("div",{className:"text-xl font-bold text-red-400",children:n.failed}),d.jsx("div",{className:"text-[10px] text-muted",children:"Failed"})]})]})]}),d.jsxs(Ae,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ss,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Quick Actions"})]}),t?.quick_action&&d.jsx("div",{className:"mb-3 p-3 rounded-lg bg-accent/10 border border-accent/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-[11px] font-medium text-accent capitalize",children:[t.quick_action.type.replace("_"," ")," Active"]}),d.jsxs("div",{className:"text-[10px] text-muted",children:[t.quick_action.remaining_minutes.toFixed(0)," min remaining"]})]}),d.jsx("button",{onClick:async()=>{try{await Xn.quickAction.clear(),re()}catch(C){console.error(C)}},className:"text-[10px] px-2 py-1 rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",children:"Cancel"})]})}),d.jsx("div",{className:"space-y-2 flex-1",children:[{type:"force_charge",label:"Force Charge",icon:qp,labelClass:"text-emerald-400",btnClass:"bg-emerald-500/10 border-emerald-500/20 text-emerald-400 hover:bg-emerald-500/20"},{type:"force_export",label:"Force Export",icon:Kp,labelClass:"text-amber-400",btnClass:"bg-amber-500/10 border-amber-500/20 text-amber-400 hover:bg-amber-500/20"},{type:"force_heat",label:"Force Heat",icon:Hg,labelClass:"text-orange-400",btnClass:"bg-orange-500/10 border-orange-500/20 text-orange-400 hover:bg-orange-500/20"},{type:"force_stop",label:"Stop All",icon:QD,labelClass:"text-red-400",btnClass:"bg-red-500/10 border-red-500/20 text-red-400 hover:bg-red-500/20"}].map(C=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-[11px] ${C.labelClass} w-20 font-medium flex items-center gap-1`,children:[d.jsx(C.icon,{className:"h-3 w-3"}),C.label]}),d.jsx("div",{className:"flex gap-1 flex-1",children:[15,30,60].map(ee=>d.jsxs("button",{onClick:async()=>{try{await Xn.quickAction.set(C.type,ee),re()}catch(ce){alert("Failed: "+ce.message)}},disabled:t?.quick_action?.type===C.type,className:`flex-1 px-2 py-1.5 text-[10px] rounded-lg border transition-all ${t?.quick_action?.type===C.type?"bg-accent/20 border-accent/40 text-accent":C.btnClass}`,children:[ee,"m"]},ee))})]},C.type))}),d.jsx("div",{className:"mt-3 text-[9px] text-muted/60 text-center",children:"Overrides schedule for selected duration"})]})]}),d.jsxs(Ae,{className:"p-4 md:p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sc,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Live System"}),d.jsx("span",{className:"text-[9px] text-muted/70",children:"(every 10s)"})]}),c?.work_mode&&d.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${c.work_mode.value.includes("Export")?"bg-emerald-500/20 border-emerald-500/30 text-emerald-300":"bg-blue-500/20 border-blue-500/30 text-blue-300"}`,children:c.work_mode.value})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[d.jsxs("div",{className:"metric-card-border metric-card-border-battery p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Pl,{data:f.soc,colorClass:"bg-good"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(Qw,{className:`h-6 w-6 ${(c?.soc?.numeric??0)>50?"text-good":(c?.soc?.numeric??0)>20?"text-warn":"text-bad"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-good",children:[c?.soc?.numeric?.toFixed(0)??"","%"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Battery SoC"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-solar p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Pl,{data:f.pv,colorClass:"bg-accent"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(Yg,{className:`h-6 w-6 ${(c?.pv_power?.numeric??0)>500?"text-accent":"text-accent/40"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-accent",children:[c?.pv_power?.numeric?(c.pv_power.numeric/1e3).toFixed(1):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"PV Power"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-house p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Pl,{data:f.load,colorClass:"bg-house"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(ZD,{className:"h-6 w-6 text-house"}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-house",children:[c?.load_power?.numeric?(c.load_power.numeric/1e3).toFixed(1):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Load"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-grid p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Pl,{data:f.import,colorClass:(c?.grid_import?.numeric??0)>100?"bg-bad":"bg-grid"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(Vg,{className:`h-6 w-6 ${(c?.grid_import?.numeric??0)>100?"text-bad":"text-grid"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:`text-lg font-bold ${(c?.grid_import?.numeric??0)>100?"text-bad":"text-text"}`,children:[c?.grid_import?.numeric?(c.grid_import.numeric/1e3).toFixed(2):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Grid Import"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-bad p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Pl,{data:f.export,colorClass:"bg-bad"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(Fg,{className:"h-6 w-6 text-bad"}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-bad",children:[c?.grid_export?.numeric?(c.grid_export.numeric/1e3).toFixed(2):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Grid Export"})]})]})]})]})]}),d.jsxs(Ae,{className:"p-4 md:p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ID,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Execution History"}),d.jsxs("span",{className:"text-[10px] text-muted",children:["(",a.length," records)"]})]}),d.jsxs("button",{onClick:re,className:"flex items-center gap-1.5 text-[10px] text-muted hover:text-accent transition px-2 py-1 rounded-lg hover:bg-surface2",children:[d.jsx(iS,{className:"h-3 w-3"}),"Refresh"]})]}),a.length===0?d.jsxs("div",{className:"text-center py-12 text-muted",children:[d.jsx(A1,{className:"h-10 w-10 mx-auto opacity-20 mb-3"}),d.jsx("p",{className:"text-[11px]",children:"No execution history yet."}),d.jsx("p",{className:"text-[10px] mt-1 text-muted/70",children:"Run the executor to see results here."})]}):d.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[t?.next_run_at&&d.jsxs("div",{className:"p-3 rounded-xl border-2 border-dashed border-line/30 bg-surface2/10 opacity-70",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(A1,{className:"h-4 w-4 text-muted animate-pulse"}),d.jsxs("span",{className:"text-[11px] text-muted font-mono",children:["Next: ",oe(t.next_run_at)]})]}),d.jsx("span",{className:"text-[9px] text-muted/70 bg-surface2/50 px-2 py-0.5 rounded-full",children:"Scheduled"})]}),t.current_slot_plan&&d.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 text-[10px]",children:[t.current_slot_plan.charge_kw>0&&d.jsxs("div",{className:"flex items-center gap-1 text-emerald-400",children:[d.jsx(qp,{className:"h-3 w-3"}),d.jsxs("span",{children:[t.current_slot_plan.charge_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.export_kw>0&&d.jsxs("div",{className:"flex items-center gap-1 text-amber-400",children:[d.jsx(Kp,{className:"h-3 w-3"}),d.jsxs("span",{children:[t.current_slot_plan.export_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.water_kw>0&&d.jsxs("div",{className:"flex items-center gap-1 text-sky-400",children:[d.jsx(nS,{className:"h-3 w-3"}),d.jsxs("span",{children:[t.current_slot_plan.water_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.soc_target>0&&d.jsx("div",{className:"flex items-center gap-1 text-muted",children:d.jsxs("span",{children:["SoC",t.current_slot_plan.soc_target,"%"]})}),!t.current_slot_plan.charge_kw&&!t.current_slot_plan.export_kw&&!t.current_slot_plan.water_kw&&d.jsx("div",{className:"text-muted/60 col-span-4",children:"Idle / Self-consumption"})]})]}),a.map(C=>{const ee=ne===C.id;return d.jsxs("div",{className:`rounded-xl border transition-all ${C.success?"bg-surface2/30 border-line/40 hover:border-line/60":"bg-red-500/10 border-red-500/30 hover:border-red-500/50"}`,children:[d.jsxs("div",{className:"p-3 cursor-pointer flex items-center justify-between",onClick:()=>pe(ee?null:C.id),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oh,{className:`h-3 w-3 text-muted transition-transform ${ee?"rotate-180":""}`}),C.success?d.jsx(eS,{className:"h-4 w-4 text-emerald-400"}):d.jsx(gd,{className:"h-4 w-4 text-red-400"}),d.jsx("span",{className:"text-[11px] text-text font-mono",children:R(C.executed_at)}),C.commanded_charge_current_a&&C.commanded_charge_current_a>0&&d.jsx("span",{className:"text-[9px] text-emerald-400 bg-emerald-500/20 px-1.5 py-0.5 rounded",children:" Charge"}),C.commanded_work_mode==="Export First"&&d.jsx("span",{className:"text-[9px] text-amber-400 bg-amber-500/20 px-1.5 py-0.5 rounded",children:" Export"}),C.commanded_water_temp&&C.commanded_water_temp>50&&d.jsx("span",{className:"text-[9px] text-orange-400 bg-orange-500/20 px-1.5 py-0.5 rounded",children:" Heat"}),(!C.commanded_charge_current_a||C.commanded_charge_current_a===0)&&C.commanded_work_mode!=="Export First"&&(!C.commanded_water_temp||C.commanded_water_temp<=50)&&d.jsx("span",{className:"text-[9px] text-muted/60 bg-surface2/50 px-1.5 py-0.5 rounded",children:" Idle"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[C.override_active?d.jsx("span",{className:"text-[9px] text-amber-400 bg-amber-500/20 px-2 py-0.5 rounded-full border border-amber-500/30",children:C.override_type}):null,C.duration_ms&&d.jsxs("span",{className:"text-[9px] text-muted font-mono",children:[C.duration_ms,"ms"]})]})]}),ee&&d.jsxs("div",{className:"px-3 pb-3 border-t border-line/20",children:[d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Planned (from Schedule)"}),d.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Charge"}),d.jsxs("span",{className:C.planned_charge_kw?"text-emerald-400":"text-muted/40",children:[C.planned_charge_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Export"}),d.jsxs("span",{className:C.planned_export_kw?"text-amber-400":"text-muted/40",children:[C.planned_export_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Water"}),d.jsxs("span",{className:C.planned_water_kw?"text-orange-400":"text-muted/40",children:[C.planned_water_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC Target"}),d.jsxs("span",{className:"text-text",children:[C.planned_soc_target??"","%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC Projected"}),d.jsxs("span",{className:"text-text",children:[C.planned_soc_projected??"","%"]})]})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Commanded (What We Set)"}),d.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Work Mode"}),d.jsx("span",{className:"text-text font-medium",children:C.commanded_work_mode??""})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Grid Charging"}),d.jsx("span",{className:C.commanded_grid_charging?"text-emerald-400":"text-muted/40",children:C.commanded_grid_charging?"ON":"OFF"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Charge I"}),d.jsxs("span",{className:C.commanded_charge_current_a?"text-emerald-400":"text-muted/40",children:[C.commanded_charge_current_a??""," A"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Discharge I"}),d.jsxs("span",{className:C.commanded_discharge_current_a?"text-amber-400":"text-muted/40",children:[C.commanded_discharge_current_a??""," A"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC Target"}),d.jsxs("span",{className:"text-text",children:[C.commanded_soc_target??"","%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Water Temp"}),d.jsxs("span",{className:C.commanded_water_temp&&C.commanded_water_temp>50?"text-orange-400":"text-muted/40",children:[C.commanded_water_temp??"","C"]})]})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"State Before Execution"}),d.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2 text-[10px]",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC"}),d.jsxs("span",{className:"text-text",children:[C.before_soc_percent?.toFixed(0)??"","%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Work Mode"}),d.jsx("span",{className:"text-text",children:C.before_work_mode??""})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"PV Power"}),d.jsxs("span",{className:"text-yellow-400",children:[C.before_pv_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Load"}),d.jsxs("span",{className:"text-sky-400",children:[C.before_load_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Water Temp"}),d.jsxs("span",{className:"text-text",children:[C.before_water_temp??"","C"]})]})]})]}),C.error_message&&d.jsx("div",{className:"mt-2 text-[10px] text-red-400 bg-red-500/10 rounded-lg p-2",children:C.error_message}),C.override_reason&&d.jsxs("div",{className:"mt-2 text-[10px] text-amber-300/80 bg-amber-500/10 rounded-lg p-2",children:["Override: ",C.override_reason]})]})]},C.id)})]})]}),T&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>E(!1),children:d.jsxs("div",{className:"bg-surface border border-line rounded-2xl p-5 w-full max-w-md shadow-2xl",onClick:C=>C.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(np,{className:"h-5 w-5 text-accent"}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Notification Settings"})]}),d.jsx("button",{onClick:()=>E(!1),className:"text-muted hover:text-text transition p-1",children:d.jsx(vo,{className:"h-5 w-5"})})]}),O&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"p-2 rounded-lg bg-surface2/30 border border-line/30 mb-3",children:[d.jsx("div",{className:"text-[10px] text-muted mb-1",children:"HA Notify Service"}),d.jsx("div",{className:"text-[11px] text-text font-mono",children:O.service||"Not configured"})]}),[{key:"on_charge_start",label:"Charge Started",desc:"When grid charging begins"},{key:"on_charge_stop",label:"Charge Stopped",desc:"When grid charging ends"},{key:"on_export_start",label:"Export Started",desc:"When battery export begins"},{key:"on_export_stop",label:"Export Stopped",desc:"When battery export ends"},{key:"on_water_heat_start",label:"Water Heating Started",desc:"When water heater activates"},{key:"on_water_heat_stop",label:"Water Heating Stopped",desc:"When water heater deactivates"},{key:"on_soc_target_change",label:"SoC Target Changed",desc:"When battery target changes"},{key:"on_override_activated",label:"Override Activated",desc:"When emergency override triggers"},{key:"on_error",label:"Errors",desc:"When execution fails"}].map(C=>d.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:C.label}),d.jsx("span",{className:"text-[9px] text-muted",children:C.desc})]}),d.jsx(Vp,{enabled:O[C.key],onChange:ee=>le(C.key,ee),disabled:D,size:"sm"})]},C.key))]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30",children:[d.jsx("button",{onClick:$,disabled:L,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border text-[11px] font-medium transition-all ${L?"bg-surface2/50 border-line/30 text-muted cursor-not-allowed":"bg-accent/10 border-accent/30 text-accent hover:bg-accent/20"}`,children:L?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),"Sending..."]}):d.jsxs(d.Fragment,{children:[d.jsx(np,{className:"h-3.5 w-3.5"}),"Send Test Notification"]})}),X&&d.jsx("div",{className:`mt-2 text-center text-[10px] ${X.success?"text-emerald-400":"text-red-400"}`,children:X.message}),d.jsx("div",{className:"mt-2 text-center text-[9px] text-muted/70",children:"Changes are saved automatically"})]})]})})]})}function j7(){const{toast:t}=Gx(),[e,n]=k.useState(!1),[s,a]=k.useState(65),[o,c]=k.useState(!1),[u,f]=k.useState(!1),[m,g]=k.useState("");return d.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-10 space-y-12",children:[d.jsxs("header",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-bold text-text",children:"Darkstar Design System"}),d.jsx("p",{className:"text-muted text-lg mt-2",children:"Visual reference & component showcase"})]}),d.jsx(oS,{})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Color Palette"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{name:"Accent",var:"--color-accent",hex:"#FFCE59"},{name:"Good",var:"--color-good",hex:"#1FB256"},{name:"Warn",var:"--color-warn",hex:"#F59E0B"},{name:"Bad",var:"--color-bad",hex:"#F15132"},{name:"Water",var:"--color-water",hex:"#4EA8DE"},{name:"House",var:"--color-house",hex:"#A855F7"},{name:"Peak",var:"--color-peak",hex:"#EC4899"},{name:"Night",var:"--color-night",hex:"#06B6D4"},{name:"Grid",var:"--color-grid",hex:"#64748B"},{name:"Neutral",var:"--color-neutral",hex:"#989FA5"},{name:"AI",var:"--color-ai",hex:"#8B5CF6"}].map(x=>d.jsxs("div",{className:"rounded-ds-md overflow-hidden shadow-float bg-surface",children:[d.jsx("div",{className:"h-16",style:{backgroundColor:`rgb(var(${x.var}))`}}),d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:"text-sm font-medium text-text",children:x.name}),d.jsx("div",{className:"text-xs text-muted font-mono",children:x.hex})]})]},x.name))}),d.jsx("h3",{className:"text-lg font-medium text-text mt-6 mb-3",children:"Surface Colors"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{name:"Canvas",var:"--color-canvas"},{name:"Surface",var:"--color-surface"},{name:"Surface2",var:"--color-surface2"},{name:"Line",var:"--color-line"}].map(x=>d.jsx("div",{className:"h-20 rounded-ds-md border border-line flex items-center justify-center",style:{backgroundColor:`rgb(var(${x.var}))`},children:d.jsx("span",{className:"text-sm font-medium text-text",children:x.name})},x.name))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Typography"}),d.jsxs("div",{className:"space-y-3 bg-surface p-6 rounded-ds-lg",children:[d.jsx("div",{className:"text-4xl",children:"text-4xl (28px)  Page Titles"}),d.jsx("div",{className:"text-3xl",children:"text-3xl (24px)  Section Headers"}),d.jsx("div",{className:"text-2xl",children:"text-2xl (18px)  Subsections"}),d.jsx("div",{className:"text-xl",children:"text-xl (16px)  Large Body"}),d.jsx("div",{className:"text-lg",children:"text-lg (14px)  Body Text"}),d.jsx("div",{className:"text-md",children:"text-md (13px)  Secondary"}),d.jsx("div",{className:"text-base",children:"text-base (12px)  Small Body"}),d.jsx("div",{className:"text-sm",children:"text-sm (11px)  Labels"}),d.jsx("div",{className:"text-xs",children:"text-xs (10px)  Micro"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Buttons"}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsx("button",{className:"btn btn-primary",children:"Primary"}),d.jsx("button",{className:"btn btn-secondary",children:"Secondary"}),d.jsx("button",{className:"btn btn-danger",children:"Danger"}),d.jsx("button",{className:"btn btn-ghost",children:"Ghost"}),d.jsx("button",{className:"btn btn-primary btn-pill",children:"Pill Primary"}),d.jsx("button",{className:"btn btn-ghost btn-pill",children:"Pill Ghost"})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center mt-4",children:[d.jsx("button",{className:"btn btn-primary",disabled:!0,children:"Disabled Primary"}),d.jsx("button",{className:"btn btn-secondary",disabled:!0,children:"Disabled Secondary"}),d.jsx("button",{className:"btn btn-ghost",disabled:!0,children:"Disabled Ghost"})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-sm text-muted mb-2",children:"Dynamic color (using CSS custom property):"}),d.jsx("button",{className:"btn btn-pill btn-dynamic",style:{"--btn-bg":"rgb(var(--color-water))","--btn-text":"#fff"},children:"Custom Water Color"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Banners / Alerts"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Qr,{variant:"info",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Info Banner  Neutral information message"})]}),d.jsxs(Qr,{variant:"success",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Success Banner  Action completed successfully"})]}),d.jsxs(Qr,{variant:"warning",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Warning Banner  Requires attention"})]}),d.jsxs(Qr,{variant:"error",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Error Banner  Critical issue detected"})]}),d.jsxs(Qr,{variant:"purple",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Purple Banner  Special mode (shadow mode)"})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Badges"}),d.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[d.jsx(Rl,{variant:"accent",children:"Accent"}),d.jsx(Rl,{variant:"good",children:"Good"}),d.jsx(Rl,{variant:"warn",children:"Warning"}),d.jsx(Rl,{variant:"bad",children:"Error"}),d.jsx(Rl,{variant:"muted",children:"Muted"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Form Elements"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-muted mb-2",children:"Text Input"}),d.jsx("input",{type:"text",className:"input",placeholder:"Enter value..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-muted mb-2",children:"Number Input"}),d.jsx("input",{type:"number",className:"input",placeholder:"0"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-muted mb-2",children:"Toggle Switch"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(rk,{checked:e,onCheckedChange:n}),d.jsx("span",{className:"text-sm text-text",children:e?"On":"Off"})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Loading States"}),d.jsxs("div",{className:"flex items-center gap-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted mb-2",children:"Spinner"}),d.jsx("div",{className:"spinner"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm text-muted mb-2",children:"Skeleton"}),d.jsx("div",{className:"skeleton h-8 w-full"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"text-sm text-muted mb-2",children:["Progress Bar (",s,"%)"]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-bar-fill",style:{width:`${s}%`}})}),d.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:x=>a(Number(x.target.value)),className:"slider mt-2"})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Data Visualization"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[d.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Solar)"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"mini-bars",children:[40,55,75,90,100,85,70,45].map((x,b)=>d.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-accent))"}},b))}),d.jsx("span",{className:"font-mono font-bold text-accent",children:"4.2kW"})]})]}),d.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[d.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Battery)"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"mini-bars",children:[60,65,70,75,80,82,85,85].map((x,b)=>d.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-good))"}},b))}),d.jsx("span",{className:"font-mono font-bold text-good",children:"85%"})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Chart.js  Live Example"}),d.jsx("p",{className:"text-muted text-sm mb-4",children:"This is the actual ChartCard component used throughout Darkstar."}),d.jsx("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:d.jsx(hj,{day:"today",showDayToggle:!1})})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Power Flow Visualization"}),d.jsx("p",{className:"text-muted text-sm mb-4",children:"Animated energy flow between sources and loads (inspired by power-flow-card-plus)."}),d.jsx("div",{className:"bg-surface rounded-ds-lg p-8 shadow-float",children:d.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full max-w-lg mx-auto",children:[d.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-accent))",strokeWidth:3,fill:"none"},children:d.jsx("path",{d:"M100,50 L200,150"})}),d.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-good))",strokeWidth:3,fill:"none",animationDelay:"0.25s"},children:d.jsx("path",{d:"M200,150 L200,250"})}),d.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-house))",strokeWidth:3,fill:"none",animationDelay:"0.5s"},children:d.jsx("path",{d:"M200,150 L300,150"})}),d.jsx("g",{style:{stroke:"rgb(var(--color-grid))",strokeWidth:3,fill:"none",strokeDasharray:"5 5"},children:d.jsx("path",{d:"M100,250 L200,150"})}),d.jsxs("g",{transform:"translate(100, 50)",children:[d.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-accent))",strokeWidth:"3",className:"animate-glow"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-accent))",fontSize:"24",children:""}),d.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"4.2 kW"}),d.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Solar"})]}),d.jsxs("g",{transform:"translate(200, 150)",children:[d.jsx("circle",{r:"40",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-house))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-house))",fontSize:"24",children:""}),d.jsx("text",{y:"-50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"3.1 kW"})]}),d.jsxs("g",{transform:"translate(200, 250)",children:[d.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-good))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-good))",fontSize:"24",children:""}),d.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"85%"}),d.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"+0.6 kW"})]}),d.jsxs("g",{transform:"translate(100, 250)",children:[d.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-grid))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-grid))",fontSize:"24",children:""}),d.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0 W"}),d.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Grid"})]}),d.jsxs("g",{transform:"translate(300, 150)",children:[d.jsx("circle",{r:"30",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-water))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-water))",fontSize:"20",children:""}),d.jsx("text",{y:"50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0.5 kW"}),d.jsx("text",{y:"65",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Water"})]})]})})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Animation Examples"}),d.jsx("p",{className:"text-muted text-sm mb-4",children:"CSS animations available in the design system."}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-pulse"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Pulse"}),d.jsx("code",{className:"text-xs text-muted",children:".animate-pulse"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-good animate-bounce"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Bounce"}),d.jsx("code",{className:"text-xs text-muted",children:".animate-bounce"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-glow"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Glow"}),d.jsx("code",{className:"text-xs text-muted",children:".animate-glow"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"spinner mx-auto mb-3",style:{width:"3rem",height:"3rem",borderWidth:"4px"}}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Spinner"}),d.jsx("code",{className:"text-xs text-muted",children:".spinner"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Skeleton Loading"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"skeleton h-4 w-3/4"}),d.jsx("div",{className:"skeleton h-4 w-1/2"}),d.jsx("div",{className:"skeleton h-4 w-full"})]}),d.jsx("code",{className:"text-xs text-muted mt-2 block",children:".skeleton"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Mini Bar Animation"}),d.jsx("div",{className:"mini-bars",children:[40,60,80,100,80,60,40,20].map((x,b)=>d.jsx("div",{className:"mini-bar animate-pulse",style:{height:`${x}%`,background:"rgb(var(--color-accent))",animationDelay:`${b*.1}s`}},b))}),d.jsx("code",{className:"text-xs text-muted mt-2 block",children:".mini-bars"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("button",{className:"btn btn-primary animate-glow mb-2",children:"Glowing Button"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Button Glow"}),d.jsx("code",{className:"text-xs text-muted",children:".btn + .animate-glow"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Animated Progress"}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-bar-fill",style:{width:"75%",animation:"skeleton-shimmer 1.5s infinite",background:"linear-gradient(90deg, rgb(var(--color-accent)), rgb(var(--color-accent2)), rgb(var(--color-accent)))",backgroundSize:"200% 100%"}})}),d.jsx("code",{className:"text-xs text-muted mt-2 block",children:".progress-bar"})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Metric Cards"}),d.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{border:"solar",label:"Solar",value:"4.2 kW",sub:"+12% today"},{border:"battery",label:"Battery",value:"78%",sub:"Target: 85%"},{border:"house",label:"House Load",value:"1.8 kW",sub:"Avg: 2.1 kW"},{border:"water",label:"Water",value:"2.4 kWh",sub:"Today"},{border:"grid",label:"Grid",value:"-0.5 kW",sub:"Exporting"},{border:"bad",label:"Error",value:"3",sub:"Issues detected"}].map(x=>d.jsxs("div",{className:`metric-card-border metric-card-border-${x.border} bg-surface p-4`,children:[d.jsx("div",{className:"text-xs text-muted uppercase tracking-wider",children:x.label}),d.jsx("div",{className:"text-2xl font-bold text-text mt-1",children:x.value}),d.jsx("div",{className:"text-xs text-muted mt-1",children:x.sub})]},x.border))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Border Radius"}),d.jsx("div",{className:"flex gap-4 items-end",children:[{name:"sm",size:"8px"},{name:"md",size:"12px"},{name:"lg",size:"16px"},{name:"xl",size:"20px"},{name:"pill",size:"9999px"}].map(x=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`w-16 h-16 bg-accent rounded-ds-${x.name}`}),d.jsx("div",{className:"text-xs text-muted mt-2",children:x.name}),d.jsx("div",{className:"text-xs text-muted",children:x.size})]},x.name))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Spacing Scale (4px grid)"}),d.jsx("div",{className:"flex gap-4 items-end flex-wrap",children:[1,2,3,4,5,6,8,10,12].map(x=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-accent",style:{width:`var(--space-${x})`,height:`var(--space-${x})`,minWidth:"4px",minHeight:"4px"}}),d.jsxs("div",{className:"text-xs text-muted mt-2",children:["ds-",x]})]},x))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Dark / Light Mode Comparison"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#0f1216"},children:[d.jsx("div",{className:"px-4 py-3",style:{background:"#14191f"},children:d.jsx("span",{className:"text-sm font-semibold",style:{color:"#e6e9ef"},children:" Dark Mode  Glow Buttons"})}),d.jsxs("div",{className:"p-4 space-y-2",style:{background:"#14191f"},children:[d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#FFCE59"},children:" Solar"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#FFCE59"},children:"4.2kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#1FB256"},children:" Battery"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#1FB256"},children:"85%"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#A855F7"},children:" House"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"1.8kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#4EA8DE"},children:" Water"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"58C"})]}),d.jsxs("div",{className:"flex gap-2 pt-3",children:[d.jsx("button",{style:{background:"#FFCE59",color:"#1a1d23",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 16px rgba(255, 206, 89, 0.4), 0 0 32px rgba(255, 206, 89, 0.2)"},children:" Boost"}),d.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 12px rgba(152, 159, 165, 0.3)"},children:" Vacation"})]})]})]}),d.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#DFDFDF"},children:[d.jsx("div",{className:"px-4 py-3",style:{background:"#EFEFEF"},children:d.jsx("span",{className:"text-sm font-semibold",style:{color:"#2D2D2D"},children:" Light Mode  Flat Buttons (TE Style)"})}),d.jsxs("div",{className:"p-4 space-y-2",style:{background:"#EFEFEF"},children:[d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#b38b00"},children:"Solar"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"4.2kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#1FB256"},children:"Battery"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"85%"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#A855F7"},children:"House"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"1.8kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#4EA8DE"},children:"Water"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"58C"})]}),d.jsxs("div",{className:"flex gap-2 pt-3",children:[d.jsx("button",{style:{background:"#FFCE59",color:"#2D2D2D",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Boost"}),d.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Vacation"})]})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Future Components (Inspiration)"}),d.jsx("p",{className:"text-muted text-sm mb-6",children:"These components are not yet implemented but can be added as needed."}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Card"}),d.jsx("p",{className:"text-xs text-muted",children:"Container with shadow, padding, and rounded corners for grouping content."}),d.jsx("div",{className:"mt-3 p-3 bg-surface2 rounded-ds-md",children:d.jsx("div",{className:"text-xs text-text",children:"Card content goes here..."})})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Select (Dropdown)"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Custom searchable dropdown."}),d.jsx(ak,{options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Delete",value:"3",group:"Danger"}],value:"1",onChange:()=>{}})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tabs"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation between views."}),d.jsxs("div",{className:"flex gap-1 bg-surface2 p-1 rounded-ds-md",children:[d.jsx("div",{className:"px-3 py-1.5 text-xs font-medium bg-accent text-black rounded",children:"Active"}),d.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 2"}),d.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 3"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Avatars"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"User profile images or initials."}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-xs font-bold text-black",children:"JD"}),d.jsx("div",{className:"w-8 h-8 rounded-full bg-water flex items-center justify-center text-xs font-bold text-white",children:"AB"}),d.jsx("div",{className:"w-8 h-8 rounded-full bg-house flex items-center justify-center text-xs font-bold text-white",children:"?"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tooltip"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Hover for more info."}),d.jsx("span",{className:"tooltip px-3 py-1.5 bg-surface2 rounded text-xs text-text cursor-help","data-tooltip":"This is a tooltip!",children:"Hover me"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Data Table"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Tabular data display."}),d.jsxs("div",{className:"text-xs",children:[d.jsxs("div",{className:"flex gap-2 py-1 border-b border-line text-muted font-medium",children:[d.jsx("span",{className:"flex-1",children:"Name"}),d.jsx("span",{className:"w-16 text-right",children:"Value"})]}),d.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[d.jsx("span",{className:"flex-1",children:"Solar"}),d.jsx("span",{className:"w-16 text-right text-accent",children:"4.2kW"})]}),d.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[d.jsx("span",{className:"flex-1",children:"Battery"}),d.jsx("span",{className:"w-16 text-right text-good",children:"85%"})]})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Gauge / Dial"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Circular progress indicator."}),d.jsxs("div",{className:"w-16 h-16 rounded-full border-4 border-surface2 relative",children:[d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-accent border-r-accent",style:{transform:"rotate(45deg)"}}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-text",children:"75%"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Notification Badge"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Alert indicator on icons."}),d.jsxs("div",{className:"relative inline-block",children:[d.jsx("div",{className:"w-10 h-10 bg-surface2 rounded-lg flex items-center justify-center text-lg",children:""}),d.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-bad rounded-full flex items-center justify-center text-[10px] font-bold text-white",children:"3"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Stepper"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Multi-step progress."}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"1"}),d.jsx("div",{className:"flex-1 h-0.5 bg-accent"}),d.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"2"}),d.jsx("div",{className:"flex-1 h-0.5 bg-surface2"}),d.jsx("div",{className:"w-6 h-6 rounded-full bg-surface2 flex items-center justify-center text-[10px] font-bold text-muted",children:"3"})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" More Future Components"}),d.jsx("p",{className:"text-muted text-sm mb-6",children:"Additional component patterns for future implementation."}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Modal / Dialog"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Overlay for confirmations & forms."}),d.jsx("button",{className:"btn btn-primary text-xs",onClick:()=>f(!0),children:"Open Modal"}),d.jsx(mk,{open:u,onOpenChange:f,title:"Example Modal",footer:d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn btn-ghost",onClick:()=>f(!1),children:"Cancel"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>f(!1),children:"Confirm"})]}),children:d.jsx("p",{className:"text-text",children:"This is a reusable modal component using React Portal."})})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Accordion"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Expandable content sections."}),d.jsxs("div",{className:"bg-surface2 rounded-ds-md overflow-hidden",children:[d.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-text flex justify-between items-center cursor-pointer",onClick:()=>c(!o),children:[d.jsx("span",{children:"Click to expand"}),d.jsx("span",{children:o?"":"+"})]}),o&&d.jsx("div",{className:"px-3 py-2 text-xs text-muted border-t border-line",children:"Hidden content revealed!"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Search Input"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"With autocomplete dropdown."}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",className:"input pr-8",placeholder:"Search entities...",value:m,onChange:x=>g(x.target.value)}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted",children:""})]}),m&&d.jsxs("div",{className:"mt-1 bg-surface2 rounded-ds-md p-1 shadow-lg",children:[d.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.solar_power"}),d.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.battery_soc"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Date Picker"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Calendar date selection."}),d.jsxs("div",{className:"bg-surface2 rounded-ds-md p-2 w-48",children:[d.jsx("div",{className:"text-xs font-medium text-text text-center mb-2",children:"December 2024"}),d.jsxs("div",{className:"grid grid-cols-7 gap-1 text-[10px] text-center",children:[["M","T","W","T","F","S","S"].map((x,b)=>d.jsx("div",{className:"text-muted",children:x},b)),[...Array(31)].map((x,b)=>d.jsx("div",{className:`py-1 rounded cursor-pointer ${b===30?"bg-accent text-black font-bold":"text-text hover:bg-accent/20"}`,children:b+1},b))]})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Toast Notification"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Temporary status messages."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{className:"btn btn-secondary w-full text-xs",onClick:()=>t({variant:"success",message:"Success!",description:"Action completed successfully."}),children:"Trigger Success Toast"}),d.jsx("button",{className:"btn btn-ghost w-full text-xs border border-bad/50 text-bad hover:bg-bad/10",onClick:()=>t({variant:"error",message:"Error!",description:"Something went wrong."}),children:"Trigger Error Toast"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Breadcrumbs"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation path trail."}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Home"}),d.jsx("span",{className:"text-muted",children:"/"}),d.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Settings"}),d.jsx("span",{className:"text-muted",children:"/"}),d.jsx("span",{className:"text-text font-medium",children:"Entities"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float col-span-full lg:col-span-2",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Timeline / Activity Log"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Chronological event display."}),d.jsx("div",{className:"space-y-3",children:[{time:"14:32",event:"Battery charging started",color:"good"},{time:"14:15",event:"Solar production peaked at 4.2kW",color:"accent"},{time:"13:45",event:"Grid export enabled",color:"water"}].map((x,b)=>d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 bg-${x.color}`}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-mono text-muted",children:x.time}),d.jsx("div",{className:"text-xs text-text",children:x.event})]})]},b))})]})]})]}),u&&d.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:d.jsxs("div",{className:"modal",onClick:x=>x.stopPropagation(),children:[d.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Modal Title"}),d.jsx("p",{className:"text-sm text-muted mb-4",children:"This is a sample modal dialog. It uses the design system's modal classes."}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx("button",{className:"btn btn-ghost",onClick:()=>f(!1),children:"Cancel"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>f(!1),children:"Confirm"})]})]})}),d.jsxs("footer",{className:"text-center text-muted text-sm pt-8 border-t border-line",children:[d.jsxs("p",{children:["SSOT: ",d.jsx("code",{className:"bg-surface2 px-2 py-1 rounded text-xs",children:"frontend/src/index.css"})]}),d.jsx("p",{className:"mt-2",children:"Toggle dark/light mode using the switch in the header."})]})]})}function N7({health:t,onDismiss:e}){if(!t||t.healthy)return null;const n=t.issues.filter(a=>a.severity==="critical"),s=t.issues.filter(a=>a.severity==="warning");return d.jsxs("div",{className:"system-alert-container",children:[n.length>0&&d.jsxs("div",{className:"system-alert system-alert--critical",children:[d.jsx("div",{className:"system-alert__icon",children:""}),d.jsxs("div",{className:"system-alert__content",children:[d.jsxs("div",{className:"system-alert__title",children:["System Error",n.length>1?"s":""," Detected"]}),d.jsx("ul",{className:"system-alert__list",children:n.map((a,o)=>d.jsxs("li",{className:"system-alert__item",children:[d.jsx("strong",{children:a.message}),a.entity_id&&d.jsx("code",{className:"system-alert__entity",children:a.entity_id}),d.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]}),e&&d.jsx("button",{className:"system-alert__dismiss",onClick:e,title:"Dismiss (will reappear on next check)",children:""})]}),s.length>0&&d.jsxs("div",{className:"system-alert system-alert--warning",children:[d.jsx("div",{className:"system-alert__icon",children:""}),d.jsxs("div",{className:"system-alert__content",children:[d.jsxs("div",{className:"system-alert__title",children:["Warning",s.length>1?"s":""]}),d.jsx("ul",{className:"system-alert__list",children:s.map((a,o)=>d.jsxs("li",{className:"system-alert__item",children:[d.jsx("strong",{children:a.message}),d.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]})]})]})}function k7({children:t}){const[e,n]=k.useState([]),s=k.useCallback(o=>{n(c=>c.filter(u=>u.id!==o))},[]),a=k.useCallback(({message:o,description:c,variant:u})=>{const f=Math.random().toString(36).substring(2,9);n(m=>[...m,{id:f,message:o,description:c,variant:u}]),setTimeout(()=>{s(f)},5e3)},[s]);return d.jsxs(nk.Provider,{value:{toast:a,dismiss:s},children:[t,Pw.createPortal(d.jsx("div",{className:"fixed bottom-0 right-0 z-[100] p-6 space-y-4 max-w-sm w-full pointer-events-none",children:e.map(o=>d.jsxs("div",{className:`
                                pointer-events-auto
                                flex gap-3 p-4 rounded-ds-lg shadow-2xl border
                                animate-in slide-in-from-right-full duration-300
                                ${M7(o.variant)}
                            `,children:[d.jsx("div",{className:"shrink-0 mt-0.5",children:T7(o.variant)}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-semibold text-sm",children:o.message}),o.description&&d.jsx("div",{className:"text-xs opacity-90 mt-1",children:o.description})]}),d.jsx("button",{onClick:()=>s(o.id),className:"shrink-0 -mt-1 -mr-1 p-1 rounded hover:bg-black/10 transition-colors",children:d.jsx(vo,{className:"h-4 w-4"})})]},o.id))}),document.body)]})}function M7(t){switch(t){case"success":return"bg-surface2 border-good text-text";case"error":return"bg-bad text-white border-bad";case"warning":return"bg-warn text-black border-warn";case"info":return"bg-surface2 border-line text-text";default:return""}}function T7(t){switch(t){case"success":return d.jsx(eS,{className:"h-5 w-5 text-good"});case"error":return d.jsx(UD,{className:"h-5 w-5 text-white"});case"warning":return d.jsx(gd,{className:"h-5 w-5 text-black"});case"info":return d.jsx($p,{className:"h-5 w-5 text-accent"});default:return null}}function D7(){const[t,e]=k.useState(!1),[n,s]=k.useState(null);return k.useEffect(()=>{let a=!1,o=0;const c=async()=>{try{const[,f]=await Promise.all([me.status(),me.health()]);if(a)return;o=0,e(!1),s(f)}catch{if(a)return;o+=1,o>=3&&(e(!0),s(null))}};c();const u=window.setInterval(c,6e4);return()=>{a=!0,window.clearInterval(u)}},[]),d.jsx(iC,{children:d.jsx(k7,{children:d.jsxs(AD,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[d.jsx(sC,{}),d.jsxs("div",{className:"lg:pl-[96px]",children:[n&&!n.healthy&&d.jsx(N7,{health:n}),t&&!n&&d.jsx("div",{className:"bg-amber-900/80 border-b border-amber-500/60 text-amber-100 text-[11px] px-4 py-2 flex items-center justify-between",children:d.jsx("span",{children:"Backend appears offline or degraded. Some data may be stale or unavailable."})}),d.jsxs(wD,{children:[d.jsx(Va,{path:"/",element:d.jsx(Gz,{})}),d.jsx(Va,{path:"/executor",element:d.jsx(S7,{})}),d.jsx(Va,{path:"/aurora",element:d.jsx(w7,{})}),d.jsx(Va,{path:"/debug",element:d.jsx($z,{})}),d.jsx(Va,{path:"/settings",element:d.jsx(cP,{})}),d.jsx(Va,{path:"/design-system",element:d.jsx(j7,{})})]})]})]})})})}E5.createRoot(document.getElementById("root")).render(d.jsx(Lw.StrictMode,{children:d.jsx(D7,{})}))});export default C7();
