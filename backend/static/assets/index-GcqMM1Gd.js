var _5=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var E7=_5((V7,Yd)=>{function w5(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function Iw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var np={exports:{}},zl={};var w1;function S5(){if(w1)return zl;w1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(n,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:n,key:c,ref:a!==void 0?a:null,props:o}}return zl.Fragment=e,zl.jsx=s,zl.jsxs=s,zl}var S1;function j5(){return S1||(S1=1,np.exports=S5()),np.exports}var u=j5(),ip={exports:{}},Ae={};var j1;function N5(){if(j1)return Ae;j1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function T(D,H,te){this.props=D,this.context=H,this.refs=j,this.updater=te||w}T.prototype.isReactComponent={},T.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=T.prototype;function A(D,H,te){this.props=D,this.context=H,this.refs=j,this.updater=te||w}var C=A.prototype=new k;C.constructor=A,S(C,T.prototype),C.isPureReactComponent=!0;var O=Array.isArray;function R(){}var E={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function U(D,H,te){var L=te.ref;return{$$typeof:t,type:D,key:H,ref:L!==void 0?L:null,props:te}}function K(D,H){return U(D.type,H,D.props)}function Z(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function re(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return H[te]})}var Se=/\/+/g;function fe(D,H){return typeof D=="object"&&D!==null&&D.key!=null?re(""+D.key):H.toString(36)}function _e(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(H){D.status==="pending"&&(D.status="fulfilled",D.value=H)},function(H){D.status==="pending"&&(D.status="rejected",D.reason=H)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,H,te,L,se){var oe=typeof D;(oe==="undefined"||oe==="boolean")&&(D=null);var Ce=!1;if(D===null)Ce=!0;else switch(oe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(D.$$typeof){case t:case e:Ce=!0;break;case g:return Ce=D._init,F(Ce(D._payload),H,te,L,se)}}if(Ce)return se=se(D),Ce=L===""?"."+fe(D,0):L,O(se)?(te="",Ce!=null&&(te=Ce.replace(Se,"$&/")+"/"),F(se,H,te,"",function(ns){return ns})):se!=null&&(Z(se)&&(se=K(se,te+(se.key==null||D&&D.key===se.key?"":(""+se.key).replace(Se,"$&/")+"/")+Ce)),H.push(se)),1;Ce=0;var pt=L===""?".":L+":";if(O(D))for(var it=0;it<D.length;it++)L=D[it],oe=pt+fe(L,it),Ce+=F(L,H,te,oe,se);else if(it=v(D),typeof it=="function")for(D=it.call(D),it=0;!(L=D.next()).done;)L=L.value,oe=pt+fe(L,it++),Ce+=F(L,H,te,oe,se);else if(oe==="object"){if(typeof D.then=="function")return F(_e(D),H,te,L,se);throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function G(D,H,te){if(D==null)return D;var L=[],se=0;return F(D,L,"","",function(oe){return H.call(te,oe,se++)}),L}function ae(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var ie=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},de={map:G,forEach:function(D,H,te){G(D,function(){H.apply(this,arguments)},te)},count:function(D){var H=0;return G(D,function(){H++}),H},toArray:function(D){return G(D,function(H){return H})||[]},only:function(D){if(!Z(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ae.Activity=x,Ae.Children=de,Ae.Component=T,Ae.Fragment=s,Ae.Profiler=a,Ae.PureComponent=A,Ae.StrictMode=n,Ae.Suspense=f,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(D){return E.H.useMemoCache(D)}},Ae.cache=function(D){return function(){return D.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(D,H,te){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var L=S({},D.props),se=D.key;if(H!=null)for(oe in H.key!==void 0&&(se=""+H.key),H)!z.call(H,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&H.ref===void 0||(L[oe]=H[oe]);var oe=arguments.length-2;if(oe===1)L.children=te;else if(1<oe){for(var Ce=Array(oe),pt=0;pt<oe;pt++)Ce[pt]=arguments[pt+2];L.children=Ce}return U(D.type,se,L)},Ae.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},Ae.createElement=function(D,H,te){var L,se={},oe=null;if(H!=null)for(L in H.key!==void 0&&(oe=""+H.key),H)z.call(H,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(se[L]=H[L]);var Ce=arguments.length-2;if(Ce===1)se.children=te;else if(1<Ce){for(var pt=Array(Ce),it=0;it<Ce;it++)pt[it]=arguments[it+2];se.children=pt}if(D&&D.defaultProps)for(L in Ce=D.defaultProps,Ce)se[L]===void 0&&(se[L]=Ce[L]);return U(D,oe,se)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:d,render:D}},Ae.isValidElement=Z,Ae.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:ae}},Ae.memo=function(D,H){return{$$typeof:m,type:D,compare:H===void 0?null:H}},Ae.startTransition=function(D){var H=E.T,te={};E.T=te;try{var L=D(),se=E.S;se!==null&&se(te,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(R,ie)}catch(oe){ie(oe)}finally{H!==null&&te.types!==null&&(H.types=te.types),E.T=H}},Ae.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Ae.use=function(D){return E.H.use(D)},Ae.useActionState=function(D,H,te){return E.H.useActionState(D,H,te)},Ae.useCallback=function(D,H){return E.H.useCallback(D,H)},Ae.useContext=function(D){return E.H.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D,H){return E.H.useDeferredValue(D,H)},Ae.useEffect=function(D,H){return E.H.useEffect(D,H)},Ae.useEffectEvent=function(D){return E.H.useEffectEvent(D)},Ae.useId=function(){return E.H.useId()},Ae.useImperativeHandle=function(D,H,te){return E.H.useImperativeHandle(D,H,te)},Ae.useInsertionEffect=function(D,H){return E.H.useInsertionEffect(D,H)},Ae.useLayoutEffect=function(D,H){return E.H.useLayoutEffect(D,H)},Ae.useMemo=function(D,H){return E.H.useMemo(D,H)},Ae.useOptimistic=function(D,H){return E.H.useOptimistic(D,H)},Ae.useReducer=function(D,H,te){return E.H.useReducer(D,H,te)},Ae.useRef=function(D){return E.H.useRef(D)},Ae.useState=function(D){return E.H.useState(D)},Ae.useSyncExternalStore=function(D,H,te){return E.H.useSyncExternalStore(D,H,te)},Ae.useTransition=function(){return E.H.useTransition()},Ae.version="19.2.3",Ae}var N1;function Xg(){return N1||(N1=1,ip.exports=N5()),ip.exports}var N=Xg();const qw=Iw(N),k5=w5({__proto__:null,default:qw},[N]);var ap={exports:{}},Pl={},rp={exports:{}},op={};var k1;function M5(){return k1||(k1=1,(function(t){function e(F,G){var ae=F.length;F.push(G);e:for(;0<ae;){var ie=ae-1>>>1,de=F[ie];if(0<a(de,G))F[ie]=G,F[ae]=de,ae=ie;else break e}}function s(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var G=F[0],ae=F.pop();if(ae!==G){F[0]=ae;e:for(var ie=0,de=F.length,D=de>>>1;ie<D;){var H=2*(ie+1)-1,te=F[H],L=H+1,se=F[L];if(0>a(te,ae))L<de&&0>a(se,te)?(F[ie]=se,F[L]=ae,ie=L):(F[ie]=te,F[H]=ae,ie=H);else if(L<de&&0>a(se,ae))F[ie]=se,F[L]=ae,ie=L;else break e}}return G}function a(F,G){var ae=F.sortIndex-G.sortIndex;return ae!==0?ae:F.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],g=1,x=null,b=3,v=!1,w=!1,S=!1,j=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(F){for(var G=s(m);G!==null;){if(G.callback===null)n(m);else if(G.startTime<=F)n(m),G.sortIndex=G.expirationTime,e(f,G);else break;G=s(m)}}function O(F){if(S=!1,C(F),!w)if(s(f)!==null)w=!0,R||(R=!0,re());else{var G=s(m);G!==null&&_e(O,G.startTime-F)}}var R=!1,E=-1,z=5,U=-1;function K(){return j?!0:!(t.unstable_now()-U<z)}function Z(){if(j=!1,R){var F=t.unstable_now();U=F;var G=!0;try{e:{w=!1,S&&(S=!1,k(E),E=-1),v=!0;var ae=b;try{t:{for(C(F),x=s(f);x!==null&&!(x.expirationTime>F&&K());){var ie=x.callback;if(typeof ie=="function"){x.callback=null,b=x.priorityLevel;var de=ie(x.expirationTime<=F);if(F=t.unstable_now(),typeof de=="function"){x.callback=de,C(F),G=!0;break t}x===s(f)&&n(f),C(F)}else n(f);x=s(f)}if(x!==null)G=!0;else{var D=s(m);D!==null&&_e(O,D.startTime-F),G=!1}}break e}finally{x=null,b=ae,v=!1}G=void 0}}finally{G?re():R=!1}}}var re;if(typeof A=="function")re=function(){A(Z)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,fe=Se.port2;Se.port1.onmessage=Z,re=function(){fe.postMessage(null)}}else re=function(){T(Z,0)};function _e(F,G){E=T(function(){F(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(F){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var ae=b;b=G;try{return F()}finally{b=ae}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ae=b;b=F;try{return G()}finally{b=ae}},t.unstable_scheduleCallback=function(F,G,ae){var ie=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ie+ae:ie):ae=ie,F){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ae+de,F={id:g++,callback:G,priorityLevel:F,startTime:ae,expirationTime:de,sortIndex:-1},ae>ie?(F.sortIndex=ae,e(m,F),s(f)===null&&F===s(m)&&(S?(k(E),E=-1):S=!0,_e(O,ae-ie))):(F.sortIndex=de,e(f,F),w||v||(w=!0,R||(R=!0,re()))),F},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(F){var G=b;return function(){var ae=b;b=G;try{return F.apply(this,arguments)}finally{b=ae}}}})(op)),op}var M1;function T5(){return M1||(M1=1,rp.exports=M5()),rp.exports}var lp={exports:{}},hs={};var T1;function D5(){if(T1)return hs;T1=1;var t=Xg();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,hs.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,g)},hs.flushSync=function(f){var m=c.T,g=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=g,n.d.f()}},hs.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},hs.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},hs.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:v}):g==="script"&&n.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hs.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},hs.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin);n.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hs.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},hs.requestFormReset=function(f){n.d.r(f)},hs.unstable_batchedUpdates=function(f,m){return f(m)},hs.useFormState=function(f,m,g){return c.H.useFormState(f,m,g)},hs.useFormStatus=function(){return c.H.useHostTransitionStatus()},hs.version="19.2.3",hs}var D1;function Gw(){if(D1)return lp.exports;D1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lp.exports=D5(),lp.exports}var C1;function C5(){if(C1)return Pl;C1=1;var t=T5(),e=Xg(),s=Gw();function n(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(n(188))}function m(i){var r=i.alternate;if(!r){if(r=o(i),r===null)throw Error(n(188));return r!==i?null:i}for(var l=i,h=r;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return f(p),i;if(y===h)return f(p),r;y=y.sibling}throw Error(n(188))}if(l.return!==h.return)l=p,h=y;else{for(var _=!1,M=p.child;M;){if(M===l){_=!0,l=p,h=y;break}if(M===h){_=!0,h=p,l=y;break}M=M.sibling}if(!_){for(M=y.child;M;){if(M===l){_=!0,l=y,h=p;break}if(M===h){_=!0,h=y,l=p;break}M=M.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var Se=Symbol.for("react.client.reference");function fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Se?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case T:return"Profiler";case j:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case A:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case C:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case E:return r=i.displayName||null,r!==null?r:fe(i.type)||"Memo";case z:r=i._payload,i=i._init;try{return fe(i(r))}catch{}}return null}var _e=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ie=[],de=-1;function D(i){return{current:i}}function H(i){0>de||(i.current=ie[de],ie[de]=null,de--)}function te(i,r){de++,ie[de]=i.current,i.current=r}var L=D(null),se=D(null),oe=D(null),Ce=D(null);function pt(i,r){switch(te(oe,r),te(se,i),te(L,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Iv(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Iv(r),i=qv(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(L),te(L,i)}function it(){H(L),H(se),H(oe)}function ns(i){i.memoizedState!==null&&te(Ce,i);var r=L.current,l=qv(r,i.type);r!==l&&(te(se,i),te(L,l))}function Ss(i){se.current===i&&(H(L),H(se)),Ce.current===i&&(H(Ce),El._currentValue=ae)}var us,is;function xt(i){if(us===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);us=r&&r[1]||"",is=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+i+is}var $s=!1;function Xs(i,r){if(!i||$s)return"";$s=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(q){var I=q}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(q){I=q}i.call(ee.prototype)}}else{try{throw Error()}catch(q){I=q}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(q){if(q&&I&&typeof q.stack=="string")return[q.stack,I.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),_=y[0],M=y[1];if(_&&M){var P=_.split(`
`),W=M.split(`
`);for(p=h=0;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(h===P.length||p===W.length)for(h=P.length-1,p=W.length-1;1<=h&&0<=p&&P[h]!==W[p];)p--;for(;1<=h&&0<=p;h--,p--)if(P[h]!==W[p]){if(h!==1||p!==1)do if(h--,p--,0>p||P[h]!==W[p]){var X=`
`+P[h].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=h&&0<=p);break}}}finally{$s=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?xt(l):""}function En(i,r){switch(i.tag){case 26:case 27:case 5:return xt(i.type);case 16:return xt("Lazy");case 13:return i.child!==r&&r!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Xs(i.type,!1);case 11:return Xs(i.type.render,!1);case 1:return Xs(i.type,!0);case 31:return xt("Activity");default:return""}}function js(i){try{var r="",l=null;do r+=En(i,l),l=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var yn=Object.prototype.hasOwnProperty,Rs=t.unstable_scheduleCallback,be=t.unstable_cancelCallback,Ke=t.unstable_shouldYield,Yt=t.unstable_requestPaint,yt=t.unstable_now,On=t.unstable_getCurrentPriorityLevel,Ve=t.unstable_ImmediatePriority,vs=t.unstable_UserBlockingPriority,_s=t.unstable_NormalPriority,Jn=t.unstable_LowPriority,Rn=t.unstable_IdlePriority,Fa=t.log,Ks=t.unstable_setDisableYieldValue,bn=null,Wt=null;function At(i){if(typeof Fa=="function"&&Ks(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(bn,i)}catch{}}var It=Math.clz32?Math.clz32:Xc,ds=Math.log,$o=Math.LN2;function Xc(i){return i>>>=0,i===0?32:31-(ds(i)/$o|0)|0}var Ls=256,ei=262144,ti=4194304;function Zs(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ii(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var p=0,y=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~y,h!==0?p=Zs(h):(_&=M,_!==0?p=Zs(_):l||(l=M&~i,l!==0&&(p=Zs(l))))):(M=h&~y,M!==0?p=Zs(M):_!==0?p=Zs(_):l||(l=h&~i,l!==0&&(p=Zs(l)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,l=r&-r,y>=l||y===32&&(l&4194048)!==0)?r:p}function Ln(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ha(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(){var i=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),i}function si(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function pe(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $e(i,r,l,h,p,y){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,P=i.expirationTimes,W=i.hiddenUpdates;for(l=_&~l;0<l;){var X=31-It(l),ee=1<<X;M[X]=0,P[X]=-1;var I=W[X];if(I!==null)for(W[X]=null,X=0;X<I.length;X++){var q=I[X];q!==null&&(q.lane&=-536870913)}l&=~ee}h!==0&&Nt(i,h,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(_&~r))}function Nt(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-It(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Pt(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-It(l),p=1<<h;p&r|i[h]&r&&(i[h]|=r),l&=~p}}function zn(i,r){var l=r&-r;return l=(l&42)!==0?1:$(l),(l&(i.suspendedLanes|r))!==0?0:l}function $(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Q(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ce(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:p1(i.type))}function xe(i,r){var l=G.p;try{return G.p=i,r()}finally{G.p=l}}var ne=Math.random().toString(36).slice(2),me="__reactFiber$"+ne,Ze="__reactProps$"+ne,Be="__reactContainer$"+ne,he="__reactEvents$"+ne,Ye="__reactListeners$"+ne,rt="__reactHandles$"+ne,zs="__reactResources$"+ne,vn="__reactMarker$"+ne;function Cr(i){delete i[me],delete i[Ze],delete i[he],delete i[Ye],delete i[rt]}function ni(i){var r=i[me];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Be]||l[me]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Jv(i);i!==null;){if(l=i[me])return l;i=Jv(i)}return r}i=l,l=i.parentNode}return null}function Qs(i){if(i=i[me]||i[Be]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Pn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(n(33))}function qi(i){var r=i[zs];return r||(r=i[zs]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function es(i){i[vn]=!0}var O0=new Set,R0={};function Ya(i,r){Ar(i,r),Ar(i+"Capture",r)}function Ar(i,r){for(R0[i]=r,i=0;i<r.length;i++)O0.add(r[i])}var hM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),L0={},z0={};function fM(i){return yn.call(z0,i)?!0:yn.call(L0,i)?!1:hM.test(i)?z0[i]=!0:(L0[i]=!0,!1)}function Kc(i,r,l){if(fM(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function Zc(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function ii(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}function Js(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function P0(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mM(i,r,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,y=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xh(i){if(!i._valueTracker){var r=P0(i)?"checked":"value";i._valueTracker=mM(i,r,""+i[r])}}function B0(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=P0(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Qc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var pM=/[\n"\\]/g;function en(i){return i.replace(pM,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Kh(i,r,l,h,p,y,_,M){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Js(r)):i.value!==""+Js(r)&&(i.value=""+Js(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Zh(i,_,Js(r)):l!=null?Zh(i,_,Js(l)):h!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Js(M):i.removeAttribute("name")}function V0(i,r,l,h,p,y,_,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Xh(i);return}l=l!=null?""+Js(l):"",r=r!=null?""+Js(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Xh(i)}function Zh(i,r,l){r==="number"&&Qc(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Er(i,r,l,h){if(i=i.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=r.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Js(l),r=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function F0(i,r,l){if(r!=null&&(r=""+Js(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+Js(l):""}function H0(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(n(92));if(_e(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=Js(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Xh(i)}function Or(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var gM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function U0(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||gM.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Y0(i,r,l){if(r!=null&&typeof r!="object")throw Error(n(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in r)h=r[p],r.hasOwnProperty(p)&&l[p]!==h&&U0(i,p,h)}else for(var y in r)r.hasOwnProperty(y)&&U0(i,y,r[y])}function Qh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(i){return yM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ai(){}var Jh=null;function ef(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rr=null,Lr=null;function W0(i){var r=Qs(i);if(r&&(i=r.stateNode)){var l=i[Ze]||null;e:switch(i=r.stateNode,r.type){case"input":if(Kh(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+en(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var p=h[Ze]||null;if(!p)throw Error(n(90));Kh(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&B0(h)}break e;case"textarea":F0(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Er(i,!!l.multiple,r,!1)}}}var tf=!1;function I0(i,r,l){if(tf)return i(r,l);tf=!0;try{var h=i(r);return h}finally{if(tf=!1,(Rr!==null||Lr!==null)&&(Fu(),Rr&&(r=Rr,i=Lr,Lr=Rr=null,W0(r),i)))for(r=0;r<i.length;r++)W0(i[r])}}function Xo(i,r){var l=i.stateNode;if(l===null)return null;var h=l[Ze]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,r,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sf=!1;if(ri)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){sf=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{sf=!1}var Gi=null,nf=null,eu=null;function q0(){if(eu)return eu;var i,r=nf,l=r.length,h,p="value"in Gi?Gi.value:Gi.textContent,y=p.length;for(i=0;i<l&&r[i]===p[i];i++);var _=l-i;for(h=1;h<=_&&r[l-h]===p[y-h];h++);return eu=p.slice(i,1<h?1-h:void 0)}function tu(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function su(){return!0}function G0(){return!1}function Ns(i){function r(l,h,p,y,_){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?su:G0,this.isPropagationStopped=G0,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),r}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=Ns(Wa),Zo=x({},Wa,{view:0,detail:0}),bM=Ns(Zo),af,rf,Qo,iu=x({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qo&&(Qo&&i.type==="mousemove"?(af=i.screenX-Qo.screenX,rf=i.screenY-Qo.screenY):rf=af=0,Qo=i),af)},movementY:function(i){return"movementY"in i?i.movementY:rf}}),$0=Ns(iu),vM=x({},iu,{dataTransfer:0}),_M=Ns(vM),wM=x({},Zo,{relatedTarget:0}),of=Ns(wM),SM=x({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),jM=Ns(SM),NM=x({},Wa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kM=Ns(NM),MM=x({},Wa,{data:0}),X0=Ns(MM),TM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AM(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=CM[i])?!!r[i]:!1}function lf(){return AM}var EM=x({},Zo,{key:function(i){if(i.key){var r=TM[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=tu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?DM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(i){return i.type==="keypress"?tu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?tu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),OM=Ns(EM),RM=x({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K0=Ns(RM),LM=x({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),zM=Ns(LM),PM=x({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),BM=Ns(PM),VM=x({},iu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),FM=Ns(VM),HM=x({},Wa,{newState:0,oldState:0}),UM=Ns(HM),YM=[9,13,27,32],cf=ri&&"CompositionEvent"in window,Jo=null;ri&&"documentMode"in document&&(Jo=document.documentMode);var WM=ri&&"TextEvent"in window&&!Jo,Z0=ri&&(!cf||Jo&&8<Jo&&11>=Jo),Q0=" ",J0=!1;function ey(i,r){switch(i){case"keyup":return YM.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zr=!1;function IM(i,r){switch(i){case"compositionend":return ty(r);case"keypress":return r.which!==32?null:(J0=!0,Q0);case"textInput":return i=r.data,i===Q0&&J0?null:i;default:return null}}function qM(i,r){if(zr)return i==="compositionend"||!cf&&ey(i,r)?(i=q0(),eu=nf=Gi=null,zr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Z0&&r.locale!=="ko"?null:r.data;default:return null}}var GM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sy(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!GM[i.type]:r==="textarea"}function ny(i,r,l,h){Rr?Lr?Lr.push(h):Lr=[h]:Rr=h,r=Gu(r,"onChange"),0<r.length&&(l=new nu("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var el=null,tl=null;function $M(i){Vv(i,0)}function au(i){var r=Pn(i);if(B0(r))return i}function iy(i,r){if(i==="change")return r}var ay=!1;if(ri){var uf;if(ri){var df="oninput"in document;if(!df){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),df=typeof ry.oninput=="function"}uf=df}else uf=!1;ay=uf&&(!document.documentMode||9<document.documentMode)}function oy(){el&&(el.detachEvent("onpropertychange",ly),tl=el=null)}function ly(i){if(i.propertyName==="value"&&au(tl)){var r=[];ny(r,tl,i,ef(i)),I0($M,r)}}function XM(i,r,l){i==="focusin"?(oy(),el=r,tl=l,el.attachEvent("onpropertychange",ly)):i==="focusout"&&oy()}function KM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return au(tl)}function ZM(i,r){if(i==="click")return au(r)}function QM(i,r){if(i==="input"||i==="change")return au(r)}function JM(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ps=typeof Object.is=="function"?Object.is:JM;function sl(i,r){if(Ps(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!yn.call(r,p)||!Ps(i[p],r[p]))return!1}return!0}function cy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uy(i,r){var l=cy(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cy(l)}}function dy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?dy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function hy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Qc(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Qc(i.document)}return r}function hf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var eT=ri&&"documentMode"in document&&11>=document.documentMode,Pr=null,ff=null,nl=null,mf=!1;function fy(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mf||Pr==null||Pr!==Qc(h)||(h=Pr,"selectionStart"in h&&hf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),nl&&sl(nl,h)||(nl=h,h=Gu(ff,"onSelect"),0<h.length&&(r=new nu("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=Pr)))}function Ia(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Br={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},pf={},my={};ri&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function qa(i){if(pf[i])return pf[i];if(!Br[i])return i;var r=Br[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in my)return pf[i]=r[l];return i}var py=qa("animationend"),gy=qa("animationiteration"),xy=qa("animationstart"),tT=qa("transitionrun"),sT=qa("transitionstart"),nT=qa("transitioncancel"),yy=qa("transitionend"),by=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function _n(i,r){by.set(i,r),Ya(r,[i])}var ru=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},tn=[],Vr=0,xf=0;function ou(){for(var i=Vr,r=xf=Vr=0;r<i;){var l=tn[r];tn[r++]=null;var h=tn[r];tn[r++]=null;var p=tn[r];tn[r++]=null;var y=tn[r];if(tn[r++]=null,h!==null&&p!==null){var _=h.pending;_===null?p.next=p:(p.next=_.next,_.next=p),h.pending=p}y!==0&&vy(l,p,y)}}function lu(i,r,l,h){tn[Vr++]=i,tn[Vr++]=r,tn[Vr++]=l,tn[Vr++]=h,xf|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function yf(i,r,l,h){return lu(i,r,l,h),cu(i)}function Ga(i,r){return lu(i,null,null,r),cu(i)}function vy(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,y=i.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&r!==null&&(p=31-It(l),i=y.hiddenUpdates,h=i[p],h===null?i[p]=[r]:h.push(r),r.lane=l|536870912),y):null}function cu(i){if(50<Nl)throw Nl=0,Mm=null,Error(n(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Fr={};function iT(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(i,r,l,h){return new iT(i,r,l,h)}function bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function oi(i,r){var l=i.alternate;return l===null?(l=Bs(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function _y(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function uu(i,r,l,h,p,y){var _=0;if(h=i,typeof i=="function")bf(i)&&(_=1);else if(typeof i=="string")_=c5(i,l,L.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case U:return i=Bs(31,l,r,p),i.elementType=U,i.lanes=y,i;case S:return $a(l.children,p,y,r);case j:_=8,p|=24;break;case T:return i=Bs(12,l,r,p|2),i.elementType=T,i.lanes=y,i;case O:return i=Bs(13,l,r,p),i.elementType=O,i.lanes=y,i;case R:return i=Bs(19,l,r,p),i.elementType=R,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:_=10;break e;case k:_=9;break e;case C:_=11;break e;case E:_=14;break e;case z:_=16,h=null;break e}_=29,l=Error(n(130,i===null?"null":typeof i,"")),h=null}return r=Bs(_,l,r,p),r.elementType=i,r.type=h,r.lanes=y,r}function $a(i,r,l,h){return i=Bs(7,i,h,r),i.lanes=l,i}function vf(i,r,l){return i=Bs(6,i,null,r),i.lanes=l,i}function wy(i){var r=Bs(18,null,null,0);return r.stateNode=i,r}function _f(i,r,l){return r=Bs(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Sy=new WeakMap;function sn(i,r){if(typeof i=="object"&&i!==null){var l=Sy.get(i);return l!==void 0?l:(r={value:i,source:r,stack:js(r)},Sy.set(i,r),r)}return{value:i,source:r,stack:js(r)}}var Hr=[],Ur=0,du=null,il=0,nn=[],an=0,$i=null,Bn=1,Vn="";function li(i,r){Hr[Ur++]=il,Hr[Ur++]=du,du=i,il=r}function jy(i,r,l){nn[an++]=Bn,nn[an++]=Vn,nn[an++]=$i,$i=i;var h=Bn;i=Vn;var p=32-It(h)-1;h&=~(1<<p),l+=1;var y=32-It(r)+p;if(30<y){var _=p-p%5;y=(h&(1<<_)-1).toString(32),h>>=_,p-=_,Bn=1<<32-It(r)+p|l<<p|h,Vn=y+i}else Bn=1<<y|l<<p|h,Vn=i}function wf(i){i.return!==null&&(li(i,1),jy(i,1,0))}function Sf(i){for(;i===du;)du=Hr[--Ur],Hr[Ur]=null,il=Hr[--Ur],Hr[Ur]=null;for(;i===$i;)$i=nn[--an],nn[an]=null,Vn=nn[--an],nn[an]=null,Bn=nn[--an],nn[an]=null}function Ny(i,r){nn[an++]=Bn,nn[an++]=Vn,nn[an++]=$i,Bn=r.id,Vn=r.overflow,$i=i}var as=null,bt=null,Xe=!1,Xi=null,rn=!1,jf=Error(n(519));function Ki(i){var r=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(sn(r,i)),jf}function ky(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[me]=i,r[Ze]=h,l){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(l=0;l<Ml.length;l++)He(Ml[l],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),V0(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),H0(r,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||Yv(r.textContent,l)?(h.popover!=null&&(He("beforetoggle",r),He("toggle",r)),h.onScroll!=null&&He("scroll",r),h.onScrollEnd!=null&&He("scrollend",r),h.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||Ki(i,!0)}function My(i){for(as=i.return;as;)switch(as.tag){case 5:case 31:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:as=as.return}}function Yr(i){if(i!==as)return!1;if(!Xe)return My(i),Xe=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Um(i.type,i.memoizedProps)),l=!l),l&&bt&&Ki(i),My(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));bt=Qv(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));bt=Qv(i)}else r===27?(r=bt,ua(i.type)?(i=Gm,Gm=null,bt=i):bt=r):bt=as?ln(i.stateNode.nextSibling):null;return!0}function Xa(){bt=as=null,Xe=!1}function Nf(){var i=Xi;return i!==null&&(Ds===null?Ds=i:Ds.push.apply(Ds,i),Xi=null),i}function al(i){Xi===null?Xi=[i]:Xi.push(i)}var kf=D(null),Ka=null,ci=null;function Zi(i,r,l){te(kf,r._currentValue),r._currentValue=l}function ui(i){i._currentValue=kf.current,H(kf)}function Mf(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function Tf(i,r,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=p;for(var P=0;P<r.length;P++)if(M.context===r[P]){y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),Mf(y.return,l,i),h||(_=null);break e}y=M.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),Mf(_,l,i),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Wr(i,r,l,h){i=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var M=p.type;Ps(p.pendingProps.value,_.value)||(i!==null?i.push(M):i=[M])}}else if(p===Ce.current){if(_=p.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(El):i=[El])}p=p.return}i!==null&&Tf(r,i,l,h),r.flags|=262144}function hu(i){for(i=i.firstContext;i!==null;){if(!Ps(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Za(i){Ka=i,ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rs(i){return Ty(Ka,i)}function fu(i,r){return Ka===null&&Za(i),Ty(i,r)}function Ty(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},ci===null){if(i===null)throw Error(n(308));ci=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ci=ci.next=r;return l}var aT=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},rT=t.unstable_scheduleCallback,oT=t.unstable_NormalPriority,qt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new aT,data:new Map,refCount:0}}function rl(i){i.refCount--,i.refCount===0&&rT(oT,function(){i.controller.abort()})}var ol=null,Cf=0,Ir=0,qr=null;function lT(i,r){if(ol===null){var l=ol=[];Cf=0,Ir=Om(),qr={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Cf++,r.then(Dy,Dy),r}function Dy(){if(--Cf===0&&ol!==null){qr!==null&&(qr.status="fulfilled");var i=ol;ol=null,Ir=0,qr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function cT(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var Cy=F.S;F.S=function(i,r){fv=yt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&lT(i,r),Cy!==null&&Cy(i,r)};var Qa=D(null);function Af(){var i=Qa.current;return i!==null?i:mt.pooledCache}function mu(i,r){r===null?te(Qa,Qa.current):te(Qa,r.pool)}function Ay(){var i=Af();return i===null?null:{parent:qt._currentValue,pool:i}}var Gr=Error(n(460)),Ef=Error(n(474)),pu=Error(n(542)),gu={then:function(){}};function Ey(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Oy(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(ai,ai),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ly(i),i;default:if(typeof r.status=="string")r.then(ai,ai);else{if(i=mt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=h}},function(h){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ly(i),i}throw er=r,Gr}}function Ja(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(er=l,Gr):l}}var er=null;function Ry(){if(er===null)throw Error(n(459));var i=er;return er=null,i}function Ly(i){if(i===Gr||i===pu)throw Error(n(483))}var $r=null,ll=0;function xu(i){var r=ll;return ll+=1,$r===null&&($r=[]),Oy($r,i,r)}function cl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function yu(i,r){throw r.$$typeof===b?Error(n(525)):(i=Object.prototype.toString.call(r),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function zy(i){function r(V,B){if(i){var Y=V.deletions;Y===null?(V.deletions=[B],V.flags|=16):Y.push(B)}}function l(V,B){if(!i)return null;for(;B!==null;)r(V,B),B=B.sibling;return null}function h(V){for(var B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function p(V,B){return V=oi(V,B),V.index=0,V.sibling=null,V}function y(V,B,Y){return V.index=Y,i?(Y=V.alternate,Y!==null?(Y=Y.index,Y<B?(V.flags|=67108866,B):Y):(V.flags|=67108866,B)):(V.flags|=1048576,B)}function _(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function M(V,B,Y,J){return B===null||B.tag!==6?(B=vf(Y,V.mode,J),B.return=V,B):(B=p(B,Y),B.return=V,B)}function P(V,B,Y,J){var je=Y.type;return je===S?X(V,B,Y.props.children,J,Y.key):B!==null&&(B.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===z&&Ja(je)===B.type)?(B=p(B,Y.props),cl(B,Y),B.return=V,B):(B=uu(Y.type,Y.key,Y.props,null,V.mode,J),cl(B,Y),B.return=V,B)}function W(V,B,Y,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=_f(Y,V.mode,J),B.return=V,B):(B=p(B,Y.children||[]),B.return=V,B)}function X(V,B,Y,J,je){return B===null||B.tag!==7?(B=$a(Y,V.mode,J,je),B.return=V,B):(B=p(B,Y),B.return=V,B)}function ee(V,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=vf(""+B,V.mode,Y),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return Y=uu(B.type,B.key,B.props,null,V.mode,Y),cl(Y,B),Y.return=V,Y;case w:return B=_f(B,V.mode,Y),B.return=V,B;case z:return B=Ja(B),ee(V,B,Y)}if(_e(B)||re(B))return B=$a(B,V.mode,Y,null),B.return=V,B;if(typeof B.then=="function")return ee(V,xu(B),Y);if(B.$$typeof===A)return ee(V,fu(V,B),Y);yu(V,B)}return null}function I(V,B,Y,J){var je=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return je!==null?null:M(V,B,""+Y,J);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===je?P(V,B,Y,J):null;case w:return Y.key===je?W(V,B,Y,J):null;case z:return Y=Ja(Y),I(V,B,Y,J)}if(_e(Y)||re(Y))return je!==null?null:X(V,B,Y,J,null);if(typeof Y.then=="function")return I(V,B,xu(Y),J);if(Y.$$typeof===A)return I(V,B,fu(V,Y),J);yu(V,Y)}return null}function q(V,B,Y,J,je){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return V=V.get(Y)||null,M(B,V,""+J,je);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return V=V.get(J.key===null?Y:J.key)||null,P(B,V,J,je);case w:return V=V.get(J.key===null?Y:J.key)||null,W(B,V,J,je);case z:return J=Ja(J),q(V,B,Y,J,je)}if(_e(J)||re(J))return V=V.get(Y)||null,X(B,V,J,je,null);if(typeof J.then=="function")return q(V,B,Y,xu(J),je);if(J.$$typeof===A)return q(V,B,Y,fu(B,J),je);yu(B,J)}return null}function ve(V,B,Y,J){for(var je=null,Je=null,we=B,Le=B=0,Ie=null;we!==null&&Le<Y.length;Le++){we.index>Le?(Ie=we,we=null):Ie=we.sibling;var et=I(V,we,Y[Le],J);if(et===null){we===null&&(we=Ie);break}i&&we&&et.alternate===null&&r(V,we),B=y(et,B,Le),Je===null?je=et:Je.sibling=et,Je=et,we=Ie}if(Le===Y.length)return l(V,we),Xe&&li(V,Le),je;if(we===null){for(;Le<Y.length;Le++)we=ee(V,Y[Le],J),we!==null&&(B=y(we,B,Le),Je===null?je=we:Je.sibling=we,Je=we);return Xe&&li(V,Le),je}for(we=h(we);Le<Y.length;Le++)Ie=q(we,V,Le,Y[Le],J),Ie!==null&&(i&&Ie.alternate!==null&&we.delete(Ie.key===null?Le:Ie.key),B=y(Ie,B,Le),Je===null?je=Ie:Je.sibling=Ie,Je=Ie);return i&&we.forEach(function(pa){return r(V,pa)}),Xe&&li(V,Le),je}function ke(V,B,Y,J){if(Y==null)throw Error(n(151));for(var je=null,Je=null,we=B,Le=B=0,Ie=null,et=Y.next();we!==null&&!et.done;Le++,et=Y.next()){we.index>Le?(Ie=we,we=null):Ie=we.sibling;var pa=I(V,we,et.value,J);if(pa===null){we===null&&(we=Ie);break}i&&we&&pa.alternate===null&&r(V,we),B=y(pa,B,Le),Je===null?je=pa:Je.sibling=pa,Je=pa,we=Ie}if(et.done)return l(V,we),Xe&&li(V,Le),je;if(we===null){for(;!et.done;Le++,et=Y.next())et=ee(V,et.value,J),et!==null&&(B=y(et,B,Le),Je===null?je=et:Je.sibling=et,Je=et);return Xe&&li(V,Le),je}for(we=h(we);!et.done;Le++,et=Y.next())et=q(we,V,Le,et.value,J),et!==null&&(i&&et.alternate!==null&&we.delete(et.key===null?Le:et.key),B=y(et,B,Le),Je===null?je=et:Je.sibling=et,Je=et);return i&&we.forEach(function(v5){return r(V,v5)}),Xe&&li(V,Le),je}function ht(V,B,Y,J){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var je=Y.key;B!==null;){if(B.key===je){if(je=Y.type,je===S){if(B.tag===7){l(V,B.sibling),J=p(B,Y.props.children),J.return=V,V=J;break e}}else if(B.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===z&&Ja(je)===B.type){l(V,B.sibling),J=p(B,Y.props),cl(J,Y),J.return=V,V=J;break e}l(V,B);break}else r(V,B);B=B.sibling}Y.type===S?(J=$a(Y.props.children,V.mode,J,Y.key),J.return=V,V=J):(J=uu(Y.type,Y.key,Y.props,null,V.mode,J),cl(J,Y),J.return=V,V=J)}return _(V);case w:e:{for(je=Y.key;B!==null;){if(B.key===je)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){l(V,B.sibling),J=p(B,Y.children||[]),J.return=V,V=J;break e}else{l(V,B);break}else r(V,B);B=B.sibling}J=_f(Y,V.mode,J),J.return=V,V=J}return _(V);case z:return Y=Ja(Y),ht(V,B,Y,J)}if(_e(Y))return ve(V,B,Y,J);if(re(Y)){if(je=re(Y),typeof je!="function")throw Error(n(150));return Y=je.call(Y),ke(V,B,Y,J)}if(typeof Y.then=="function")return ht(V,B,xu(Y),J);if(Y.$$typeof===A)return ht(V,B,fu(V,Y),J);yu(V,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(l(V,B.sibling),J=p(B,Y),J.return=V,V=J):(l(V,B),J=vf(Y,V.mode,J),J.return=V,V=J),_(V)):l(V,B)}return function(V,B,Y,J){try{ll=0;var je=ht(V,B,Y,J);return $r=null,je}catch(we){if(we===Gr||we===pu)throw we;var Je=Bs(29,we,null,V.mode);return Je.lanes=J,Je.return=V,Je}}}var tr=zy(!0),Py=zy(!1),Qi=!1;function Of(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ji(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ea(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var p=h.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),h.pending=r,r=cu(i),vy(i,null,l),r}return lu(i,h,r,l),cu(i)}function ul(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Pt(i,l)}}function Lf(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=r:y=y.next=r}else p=y=r;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var zf=!1;function dl(){if(zf){var i=qr;if(i!==null)throw i}}function hl(i,r,l,h){zf=!1;var p=i.updateQueue;Qi=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var P=M,W=P.next;P.next=null,_===null?y=W:_.next=W,_=P;var X=i.alternate;X!==null&&(X=X.updateQueue,M=X.lastBaseUpdate,M!==_&&(M===null?X.firstBaseUpdate=W:M.next=W,X.lastBaseUpdate=P))}if(y!==null){var ee=p.baseState;_=0,X=W=P=null,M=y;do{var I=M.lane&-536870913,q=I!==M.lane;if(q?(We&I)===I:(h&I)===I){I!==0&&I===Ir&&(zf=!0),X!==null&&(X=X.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ve=i,ke=M;I=r;var ht=l;switch(ke.tag){case 1:if(ve=ke.payload,typeof ve=="function"){ee=ve.call(ht,ee,I);break e}ee=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ke.payload,I=typeof ve=="function"?ve.call(ht,ee,I):ve,I==null)break e;ee=x({},ee,I);break e;case 2:Qi=!0}}I=M.callback,I!==null&&(i.flags|=64,q&&(i.flags|=8192),q=p.callbacks,q===null?p.callbacks=[I]:q.push(I))}else q={lane:I,tag:M.tag,payload:M.payload,callback:M.callback,next:null},X===null?(W=X=q,P=ee):X=X.next=q,_|=I;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;q=M,M=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);X===null&&(P=ee),p.baseState=P,p.firstBaseUpdate=W,p.lastBaseUpdate=X,y===null&&(p.shared.lanes=0),aa|=_,i.lanes=_,i.memoizedState=ee}}function By(i,r){if(typeof i!="function")throw Error(n(191,i));i.call(r)}function Vy(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)By(l[i],r)}var Xr=D(null),bu=D(0);function Fy(i,r){i=bi,te(bu,i),te(Xr,r),bi=i|r.baseLanes}function Pf(){te(bu,bi),te(Xr,Xr.current)}function Bf(){bi=bu.current,H(Xr),H(bu)}var Vs=D(null),on=null;function ta(i){var r=i.alternate;te(Bt,Bt.current&1),te(Vs,i),on===null&&(r===null||Xr.current!==null||r.memoizedState!==null)&&(on=i)}function Vf(i){te(Bt,Bt.current),te(Vs,i),on===null&&(on=i)}function Hy(i){i.tag===22?(te(Bt,Bt.current),te(Vs,i),on===null&&(on=i)):sa()}function sa(){te(Bt,Bt.current),te(Vs,Vs.current)}function Fs(i){H(Vs),on===i&&(on=null),H(Bt)}var Bt=D(0);function vu(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Im(l)||qm(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var di=0,Re=null,ut=null,Gt=null,_u=!1,Kr=!1,sr=!1,wu=0,fl=0,Zr=null,uT=0;function Et(){throw Error(n(321))}function Ff(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Ps(i[l],r[l]))return!1;return!0}function Hf(i,r,l,h,p,y){return di=y,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=i===null||i.memoizedState===null?jb:sm,sr=!1,y=l(h,p),sr=!1,Kr&&(y=Yy(r,l,h,p)),Uy(i),y}function Uy(i){F.H=gl;var r=ut!==null&&ut.next!==null;if(di=0,Gt=ut=Re=null,_u=!1,fl=0,Zr=null,r)throw Error(n(300));i===null||$t||(i=i.dependencies,i!==null&&hu(i)&&($t=!0))}function Yy(i,r,l,h){Re=i;var p=0;do{if(Kr&&(Zr=null),fl=0,Kr=!1,25<=p)throw Error(n(301));if(p+=1,Gt=ut=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=Nb,y=r(l,h)}while(Kr);return y}function dT(){var i=F.H,r=i.useState()[0];return r=typeof r.then=="function"?ml(r):r,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(Re.flags|=1024),r}function Uf(){var i=wu!==0;return wu=0,i}function Yf(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Wf(i){if(_u){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_u=!1}di=0,Gt=ut=Re=null,Kr=!1,fl=wu=0,Zr=null}function ws(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Re.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function Vt(){if(ut===null){var i=Re.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var r=Gt===null?Re.memoizedState:Gt.next;if(r!==null)Gt=r,ut=i;else{if(i===null)throw Re.alternate===null?Error(n(467)):Error(n(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Gt===null?Re.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(i){var r=fl;return fl+=1,Zr===null&&(Zr=[]),i=Oy(Zr,i,r),r=Re,(Gt===null?r.memoizedState:Gt.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?jb:sm),i}function ju(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ml(i);if(i.$$typeof===A)return rs(i)}throw Error(n(438,String(i)))}function If(i){var r=null,l=Re.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Re.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Su(),Re.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=K;return r.index++,l}function hi(i,r){return typeof r=="function"?r(i):r}function Nu(i){var r=Vt();return qf(r,ut,i)}function qf(i,r,l){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var p=i.baseQueue,y=h.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}r.baseQueue=p=y,h.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{r=p.next;var M=_=null,P=null,W=r,X=!1;do{var ee=W.lane&-536870913;if(ee!==W.lane?(We&ee)===ee:(di&ee)===ee){var I=W.revertLane;if(I===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ee===Ir&&(X=!0);else if((di&I)===I){W=W.next,I===Ir&&(X=!0);continue}else ee={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(M=P=ee,_=y):P=P.next=ee,Re.lanes|=I,aa|=I;ee=W.action,sr&&l(y,ee),y=W.hasEagerState?W.eagerState:l(y,ee)}else I={lane:ee,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(M=P=I,_=y):P=P.next=I,Re.lanes|=ee,aa|=ee;W=W.next}while(W!==null&&W!==r);if(P===null?_=y:P.next=M,!Ps(y,i.memoizedState)&&($t=!0,X&&(l=qr,l!==null)))throw l;i.memoizedState=y,i.baseState=_,i.baseQueue=P,h.lastRenderedState=y}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Gf(i){var r=Vt(),l=r.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=r.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=i(y,_.action),_=_.next;while(_!==p);Ps(y,r.memoizedState)||($t=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),l.lastRenderedState=y}return[y,h]}function Wy(i,r,l){var h=Re,p=Vt(),y=Xe;if(y){if(l===void 0)throw Error(n(407));l=l()}else l=r();var _=!Ps((ut||p).memoizedState,l);if(_&&(p.memoizedState=l,$t=!0),p=p.queue,Kf(Gy.bind(null,h,p,i),[i]),p.getSnapshot!==r||_||Gt!==null&&Gt.memoizedState.tag&1){if(h.flags|=2048,Qr(9,{destroy:void 0},qy.bind(null,h,p,l,r),null),mt===null)throw Error(n(349));y||(di&127)!==0||Iy(h,r,l)}return l}function Iy(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Re.updateQueue,r===null?(r=Su(),Re.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function qy(i,r,l,h){r.value=l,r.getSnapshot=h,$y(r)&&Xy(i)}function Gy(i,r,l){return l(function(){$y(r)&&Xy(i)})}function $y(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Ps(i,l)}catch{return!0}}function Xy(i){var r=Ga(i,2);r!==null&&Cs(r,i,2)}function $f(i){var r=ws();if(typeof i=="function"){var l=i;if(i=l(),sr){At(!0);try{l()}finally{At(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:i},r}function Ky(i,r,l,h){return i.baseState=l,qf(i,ut,typeof h=="function"?h:hi)}function hT(i,r,l,h,p){if(Tu(i))throw Error(n(485));if(i=r.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};F.T!==null?l(!0):y.isTransition=!1,h(y),l=r.pending,l===null?(y.next=r.pending=y,Zy(r,y)):(y.next=l.next,r.pending=l.next=y)}}function Zy(i,r){var l=r.action,h=r.payload,p=i.state;if(r.isTransition){var y=F.T,_={};F.T=_;try{var M=l(p,h),P=F.S;P!==null&&P(_,M),Qy(i,r,M)}catch(W){Xf(i,r,W)}finally{y!==null&&_.types!==null&&(y.types=_.types),F.T=y}}else try{y=l(p,h),Qy(i,r,y)}catch(W){Xf(i,r,W)}}function Qy(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Jy(i,r,h)},function(h){return Xf(i,r,h)}):Jy(i,r,l)}function Jy(i,r,l){r.status="fulfilled",r.value=l,eb(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,Zy(i,l)))}function Xf(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,eb(r),r=r.next;while(r!==h)}i.action=null}function eb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function tb(i,r){return r}function sb(i,r){if(Xe){var l=mt.formState;if(l!==null){e:{var h=Re;if(Xe){if(bt){t:{for(var p=bt,y=rn;p.nodeType!==8;){if(!y){p=null;break t}if(p=ln(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){bt=ln(p.nextSibling),h=p.data==="F!";break e}}Ki(h)}h=!1}h&&(r=l[0])}}return l=ws(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tb,lastRenderedState:r},l.queue=h,l=_b.bind(null,Re,h),h.dispatch=l,h=$f(!1),y=tm.bind(null,Re,!1,h.queue),h=ws(),p={state:r,dispatch:null,action:i,pending:null},h.queue=p,l=hT.bind(null,Re,p,y,l),p.dispatch=l,h.memoizedState=i,[r,l,!1]}function nb(i){var r=Vt();return ib(r,ut,i)}function ib(i,r,l){if(r=qf(i,r,tb)[0],i=Nu(hi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=ml(r)}catch(_){throw _===Gr?pu:_}else h=r;r=Vt();var p=r.queue,y=p.dispatch;return l!==r.memoizedState&&(Re.flags|=2048,Qr(9,{destroy:void 0},fT.bind(null,p,l),null)),[h,y,i]}function fT(i,r){i.action=r}function ab(i){var r=Vt(),l=ut;if(l!==null)return ib(r,l,i);Vt(),r=r.memoizedState,l=Vt();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function Qr(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Su(),Re.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function rb(){return Vt().memoizedState}function ku(i,r,l,h){var p=ws();Re.flags|=i,p.memoizedState=Qr(1|r,{destroy:void 0},l,h===void 0?null:h)}function Mu(i,r,l,h){var p=Vt();h=h===void 0?null:h;var y=p.memoizedState.inst;ut!==null&&h!==null&&Ff(h,ut.memoizedState.deps)?p.memoizedState=Qr(r,y,l,h):(Re.flags|=i,p.memoizedState=Qr(1|r,y,l,h))}function ob(i,r){ku(8390656,8,i,r)}function Kf(i,r){Mu(2048,8,i,r)}function mT(i){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Su(),Re.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function lb(i){var r=Vt().memoizedState;return mT({ref:r,nextImpl:i}),function(){if((at&2)!==0)throw Error(n(440));return r.impl.apply(void 0,arguments)}}function cb(i,r){return Mu(4,2,i,r)}function ub(i,r){return Mu(4,4,i,r)}function db(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function hb(i,r,l){l=l!=null?l.concat([i]):null,Mu(4,4,db.bind(null,r,i),l)}function Zf(){}function fb(i,r){var l=Vt();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Ff(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function mb(i,r){var l=Vt();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Ff(r,h[1]))return h[0];if(h=i(),sr){At(!0);try{i()}finally{At(!1)}}return l.memoizedState=[h,r],h}function Qf(i,r,l){return l===void 0||(di&1073741824)!==0&&(We&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=pv(),Re.lanes|=i,aa|=i,l)}function pb(i,r,l,h){return Ps(l,r)?l:Xr.current!==null?(i=Qf(i,l,h),Ps(i,r)||($t=!0),i):(di&42)===0||(di&1073741824)!==0&&(We&261930)===0?($t=!0,i.memoizedState=l):(i=pv(),Re.lanes|=i,aa|=i,r)}function gb(i,r,l,h,p){var y=G.p;G.p=y!==0&&8>y?y:8;var _=F.T,M={};F.T=M,tm(i,!1,r,l);try{var P=p(),W=F.S;if(W!==null&&W(M,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var X=cT(P,h);pl(i,r,X,Ys(i))}else pl(i,r,h,Ys(i))}catch(ee){pl(i,r,{then:function(){},status:"rejected",reason:ee},Ys())}finally{G.p=y,_!==null&&M.types!==null&&(_.types=M.types),F.T=_}}function pT(){}function Jf(i,r,l,h){if(i.tag!==5)throw Error(n(476));var p=xb(i).queue;gb(i,p,r,ae,l===null?pT:function(){return yb(i),l(h)})}function xb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:ae},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function yb(i){var r=xb(i);r.next===null&&(r=i.alternate.memoizedState),pl(i,r.next.queue,{},Ys())}function em(){return rs(El)}function bb(){return Vt().memoizedState}function vb(){return Vt().memoizedState}function gT(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=Ys();i=Ji(l);var h=ea(r,i,l);h!==null&&(Cs(h,r,l),ul(h,r,l)),r={cache:Df()},i.payload=r;return}r=r.return}}function xT(i,r,l){var h=Ys();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tu(i)?wb(r,l):(l=yf(i,r,l,h),l!==null&&(Cs(l,i,h),Sb(l,r,h)))}function _b(i,r,l){var h=Ys();pl(i,r,l,h)}function pl(i,r,l,h){var p={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Tu(i))wb(r,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,M=y(_,l);if(p.hasEagerState=!0,p.eagerState=M,Ps(M,_))return lu(i,r,p,0),mt===null&&ou(),!1}catch{}if(l=yf(i,r,p,h),l!==null)return Cs(l,i,h),Sb(l,r,h),!0}return!1}function tm(i,r,l,h){if(h={lane:2,revertLane:Om(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Tu(i)){if(r)throw Error(n(479))}else r=yf(i,l,h,2),r!==null&&Cs(r,i,2)}function Tu(i){var r=i.alternate;return i===Re||r!==null&&r===Re}function wb(i,r){Kr=_u=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function Sb(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Pt(i,l)}}var gl={readContext:rs,use:ju,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};gl.useEffectEvent=Et;var jb={readContext:rs,use:ju,useCallback:function(i,r){return ws().memoizedState=[i,r===void 0?null:r],i},useContext:rs,useEffect:ob,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,ku(4194308,4,db.bind(null,r,i),l)},useLayoutEffect:function(i,r){return ku(4194308,4,i,r)},useInsertionEffect:function(i,r){ku(4,2,i,r)},useMemo:function(i,r){var l=ws();r=r===void 0?null:r;var h=i();if(sr){At(!0);try{i()}finally{At(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=ws();if(l!==void 0){var p=l(r);if(sr){At(!0);try{l(r)}finally{At(!1)}}}else p=r;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=xT.bind(null,Re,i),[h.memoizedState,i]},useRef:function(i){var r=ws();return i={current:i},r.memoizedState=i},useState:function(i){i=$f(i);var r=i.queue,l=_b.bind(null,Re,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Zf,useDeferredValue:function(i,r){var l=ws();return Qf(l,i,r)},useTransition:function(){var i=$f(!1);return i=gb.bind(null,Re,i.queue,!0,!1),ws().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Re,p=ws();if(Xe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=r(),mt===null)throw Error(n(349));(We&127)!==0||Iy(h,r,l)}p.memoizedState=l;var y={value:l,getSnapshot:r};return p.queue=y,ob(Gy.bind(null,h,y,i),[i]),h.flags|=2048,Qr(9,{destroy:void 0},qy.bind(null,h,y,l,r),null),l},useId:function(){var i=ws(),r=mt.identifierPrefix;if(Xe){var l=Vn,h=Bn;l=(h&~(1<<32-It(h)-1)).toString(32)+l,r="_"+r+"R_"+l,l=wu++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=uT++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:em,useFormState:sb,useActionState:sb,useOptimistic:function(i){var r=ws();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=tm.bind(null,Re,!0,l),l.dispatch=r,[i,r]},useMemoCache:If,useCacheRefresh:function(){return ws().memoizedState=gT.bind(null,Re)},useEffectEvent:function(i){var r=ws(),l={impl:i};return r.memoizedState=l,function(){if((at&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},sm={readContext:rs,use:ju,useCallback:fb,useContext:rs,useEffect:Kf,useImperativeHandle:hb,useInsertionEffect:cb,useLayoutEffect:ub,useMemo:mb,useReducer:Nu,useRef:rb,useState:function(){return Nu(hi)},useDebugValue:Zf,useDeferredValue:function(i,r){var l=Vt();return pb(l,ut.memoizedState,i,r)},useTransition:function(){var i=Nu(hi)[0],r=Vt().memoizedState;return[typeof i=="boolean"?i:ml(i),r]},useSyncExternalStore:Wy,useId:bb,useHostTransitionStatus:em,useFormState:nb,useActionState:nb,useOptimistic:function(i,r){var l=Vt();return Ky(l,ut,i,r)},useMemoCache:If,useCacheRefresh:vb};sm.useEffectEvent=lb;var Nb={readContext:rs,use:ju,useCallback:fb,useContext:rs,useEffect:Kf,useImperativeHandle:hb,useInsertionEffect:cb,useLayoutEffect:ub,useMemo:mb,useReducer:Gf,useRef:rb,useState:function(){return Gf(hi)},useDebugValue:Zf,useDeferredValue:function(i,r){var l=Vt();return ut===null?Qf(l,i,r):pb(l,ut.memoizedState,i,r)},useTransition:function(){var i=Gf(hi)[0],r=Vt().memoizedState;return[typeof i=="boolean"?i:ml(i),r]},useSyncExternalStore:Wy,useId:bb,useHostTransitionStatus:em,useFormState:ab,useActionState:ab,useOptimistic:function(i,r){var l=Vt();return ut!==null?Ky(l,ut,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:If,useCacheRefresh:vb};Nb.useEffectEvent=lb;function nm(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:x({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var im={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=Ys(),p=Ji(h);p.payload=r,l!=null&&(p.callback=l),r=ea(i,p,h),r!==null&&(Cs(r,i,h),ul(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=Ys(),p=Ji(h);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=ea(i,p,h),r!==null&&(Cs(r,i,h),ul(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=Ys(),h=Ji(l);h.tag=2,r!=null&&(h.callback=r),r=ea(i,h,l),r!==null&&(Cs(r,i,l),ul(r,i,l))}};function kb(i,r,l,h,p,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,_):r.prototype&&r.prototype.isPureReactComponent?!sl(l,h)||!sl(p,y):!0}function Mb(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&im.enqueueReplaceState(r,r.state,null)}function nr(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=x({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function Tb(i){ru(i)}function Db(i){console.error(i)}function Cb(i){ru(i)}function Du(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function Ab(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function am(i,r,l){return l=Ji(l),l.tag=3,l.payload={element:null},l.callback=function(){Du(i,r)},l}function Eb(i){return i=Ji(i),i.tag=3,i}function Ob(i,r,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=h.value;i.payload=function(){return p(y)},i.callback=function(){Ab(r,l,h)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Ab(r,l,h),typeof p!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function yT(i,r,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&Wr(r,l,p,!0),l=Vs.current,l!==null){switch(l.tag){case 31:case 13:return on===null?Hu():l.alternate===null&&Ot===0&&(Ot=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===gu?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),Cm(i,h,p)),!1;case 22:return l.flags|=65536,h===gu?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),Cm(i,h,p)),!1}throw Error(n(435,l.tag))}return Cm(i,h,p),Hu(),!1}if(Xe)return r=Vs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,h!==jf&&(i=Error(n(422),{cause:h}),al(sn(i,l)))):(h!==jf&&(r=Error(n(423),{cause:h}),al(sn(r,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=sn(h,l),p=am(i.stateNode,h,p),Lf(i,p),Ot!==4&&(Ot=2)),!1;var y=Error(n(520),{cause:h});if(y=sn(y,l),jl===null?jl=[y]:jl.push(y),Ot!==4&&(Ot=2),r===null)return!0;h=sn(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=am(l.stateNode,h,i),Lf(l,i),!1;case 1:if(r=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ra===null||!ra.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Eb(p),Ob(p,i,l,h),Lf(l,p),!1}l=l.return}while(l!==null);return!1}var rm=Error(n(461)),$t=!1;function os(i,r,l,h){r.child=i===null?Py(r,null,l,h):tr(r,i.child,l,h)}function Rb(i,r,l,h,p){l=l.render;var y=r.ref;if("ref"in h){var _={};for(var M in h)M!=="ref"&&(_[M]=h[M])}else _=h;return Za(r),h=Hf(i,r,l,_,y,p),M=Uf(),i!==null&&!$t?(Yf(i,r,p),fi(i,r,p)):(Xe&&M&&wf(r),r.flags|=1,os(i,r,h,p),r.child)}function Lb(i,r,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!bf(y)&&y.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=y,zb(i,r,y,h,p)):(i=uu(l.type,null,h,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!mm(i,p)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:sl,l(_,h)&&i.ref===r.ref)return fi(i,r,p)}return r.flags|=1,i=oi(y,h),i.ref=r.ref,i.return=r,r.child=i}function zb(i,r,l,h,p){if(i!==null){var y=i.memoizedProps;if(sl(y,h)&&i.ref===r.ref)if($t=!1,r.pendingProps=h=y,mm(i,p))(i.flags&131072)!==0&&($t=!0);else return r.lanes=i.lanes,fi(i,r,p)}return om(i,r,l,h,p)}function Pb(i,r,l,h){var p=h.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,i!==null){for(h=r.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~y}else h=0,r.child=null;return Bb(i,r,y,l,h)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&mu(r,y!==null?y.cachePool:null),y!==null?Fy(r,y):Pf(),Hy(r);else return h=r.lanes=536870912,Bb(i,r,y!==null?y.baseLanes|l:l,l,h)}else y!==null?(mu(r,y.cachePool),Fy(r,y),sa(),r.memoizedState=null):(i!==null&&mu(r,null),Pf(),sa());return os(i,r,p,l),r.child}function xl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Bb(i,r,l,h,p){var y=Af();return y=y===null?null:{parent:qt._currentValue,pool:y},r.memoizedState={baseLanes:l,cachePool:y},i!==null&&mu(r,null),Pf(),Hy(r),i!==null&&Wr(i,r,h,!0),r.childLanes=p,null}function Cu(i,r){return r=Eu({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Vb(i,r,l){return tr(r,i.child,null,l),i=Cu(r,r.pendingProps),i.flags|=2,Fs(r),r.memoizedState=null,i}function bT(i,r,l){var h=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Xe){if(h.mode==="hidden")return i=Cu(r,h),r.lanes=536870912,xl(null,i);if(Vf(r),(i=bt)?(i=Zv(i,rn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:$i!==null?{id:Bn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},l=wy(i),l.return=r,r.child=l,as=r,bt=null)):i=null,i===null)throw Ki(r);return r.lanes=536870912,null}return Cu(r,h)}var y=i.memoizedState;if(y!==null){var _=y.dehydrated;if(Vf(r),p)if(r.flags&256)r.flags&=-257,r=Vb(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(n(558));else if($t||Wr(i,r,l,!1),p=(l&i.childLanes)!==0,$t||p){if(h=mt,h!==null&&(_=zn(h,l),_!==0&&_!==y.retryLane))throw y.retryLane=_,Ga(i,_),Cs(h,i,_),rm;Hu(),r=Vb(i,r,l)}else i=y.treeContext,bt=ln(_.nextSibling),as=r,Xe=!0,Xi=null,rn=!1,i!==null&&Ny(r,i),r=Cu(r,h),r.flags|=4096;return r}return i=oi(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Au(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function om(i,r,l,h,p){return Za(r),l=Hf(i,r,l,h,void 0,p),h=Uf(),i!==null&&!$t?(Yf(i,r,p),fi(i,r,p)):(Xe&&h&&wf(r),r.flags|=1,os(i,r,l,p),r.child)}function Fb(i,r,l,h,p,y){return Za(r),r.updateQueue=null,l=Yy(r,h,l,p),Uy(i),h=Uf(),i!==null&&!$t?(Yf(i,r,y),fi(i,r,y)):(Xe&&h&&wf(r),r.flags|=1,os(i,r,l,y),r.child)}function Hb(i,r,l,h,p){if(Za(r),r.stateNode===null){var y=Fr,_=l.contextType;typeof _=="object"&&_!==null&&(y=rs(_)),y=new l(h,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=im,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=h,y.state=r.memoizedState,y.refs={},Of(r),_=l.contextType,y.context=typeof _=="object"&&_!==null?rs(_):Fr,y.state=r.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(nm(r,l,_,h),y.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&im.enqueueReplaceState(y,y.state,null),hl(r,h,y,p),dl(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){y=r.stateNode;var M=r.memoizedProps,P=nr(l,M);y.props=P;var W=y.context,X=l.contextType;_=Fr,typeof X=="object"&&X!==null&&(_=rs(X));var ee=l.getDerivedStateFromProps;X=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||W!==_)&&Mb(r,y,h,_),Qi=!1;var I=r.memoizedState;y.state=I,hl(r,h,y,p),dl(),W=r.memoizedState,M||I!==W||Qi?(typeof ee=="function"&&(nm(r,l,ee,h),W=r.memoizedState),(P=Qi||kb(r,l,P,h,I,W,_))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=W),y.props=h,y.state=W,y.context=_,h=P):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{y=r.stateNode,Rf(i,r),_=r.memoizedProps,X=nr(l,_),y.props=X,ee=r.pendingProps,I=y.context,W=l.contextType,P=Fr,typeof W=="object"&&W!==null&&(P=rs(W)),M=l.getDerivedStateFromProps,(W=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ee||I!==P)&&Mb(r,y,h,P),Qi=!1,I=r.memoizedState,y.state=I,hl(r,h,y,p),dl();var q=r.memoizedState;_!==ee||I!==q||Qi||i!==null&&i.dependencies!==null&&hu(i.dependencies)?(typeof M=="function"&&(nm(r,l,M,h),q=r.memoizedState),(X=Qi||kb(r,l,X,h,I,q,P)||i!==null&&i.dependencies!==null&&hu(i.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,q,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,q,P)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&I===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&I===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=q),y.props=h,y.state=q,y.context=P,h=X):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&I===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&I===i.memoizedState||(r.flags|=1024),h=!1)}return y=h,Au(i,r),h=(r.flags&128)!==0,y||h?(y=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&h?(r.child=tr(r,i.child,null,p),r.child=tr(r,null,l,p)):os(i,r,l,p),r.memoizedState=y.state,i=r.child):i=fi(i,r,p),i}function Ub(i,r,l,h){return Xa(),r.flags|=256,os(i,r,l,h),r.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(i){return{baseLanes:i,cachePool:Ay()}}function um(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=Us),i}function Yb(i,r,l){var h=r.pendingProps,p=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=i!==null&&i.memoizedState===null?!1:(Bt.current&2)!==0),_&&(p=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Xe){if(p?ta(r):sa(),(i=bt)?(i=Zv(i,rn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:$i!==null?{id:Bn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},l=wy(i),l.return=r,r.child=l,as=r,bt=null)):i=null,i===null)throw Ki(r);return qm(i)?r.lanes=32:r.lanes=536870912,null}var M=h.children;return h=h.fallback,p?(sa(),p=r.mode,M=Eu({mode:"hidden",children:M},p),h=$a(h,p,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,h=r.child,h.memoizedState=cm(l),h.childLanes=um(i,_,l),r.memoizedState=lm,xl(null,h)):(ta(r),dm(r,M))}var P=i.memoizedState;if(P!==null&&(M=P.dehydrated,M!==null)){if(y)r.flags&256?(ta(r),r.flags&=-257,r=hm(i,r,l)):r.memoizedState!==null?(sa(),r.child=i.child,r.flags|=128,r=null):(sa(),M=h.fallback,p=r.mode,h=Eu({mode:"visible",children:h.children},p),M=$a(M,p,l,null),M.flags|=2,h.return=r,M.return=r,h.sibling=M,r.child=h,tr(r,i.child,null,l),h=r.child,h.memoizedState=cm(l),h.childLanes=um(i,_,l),r.memoizedState=lm,r=xl(null,h));else if(ta(r),qm(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var W=_.dgst;_=W,h=Error(n(419)),h.stack="",h.digest=_,al({value:h,source:null,stack:null}),r=hm(i,r,l)}else if($t||Wr(i,r,l,!1),_=(l&i.childLanes)!==0,$t||_){if(_=mt,_!==null&&(h=zn(_,l),h!==0&&h!==P.retryLane))throw P.retryLane=h,Ga(i,h),Cs(_,i,h),rm;Im(M)||Hu(),r=hm(i,r,l)}else Im(M)?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,bt=ln(M.nextSibling),as=r,Xe=!0,Xi=null,rn=!1,i!==null&&Ny(r,i),r=dm(r,h.children),r.flags|=4096);return r}return p?(sa(),M=h.fallback,p=r.mode,P=i.child,W=P.sibling,h=oi(P,{mode:"hidden",children:h.children}),h.subtreeFlags=P.subtreeFlags&65011712,W!==null?M=oi(W,M):(M=$a(M,p,l,null),M.flags|=2),M.return=r,h.return=r,h.sibling=M,r.child=h,xl(null,h),h=r.child,M=i.child.memoizedState,M===null?M=cm(l):(p=M.cachePool,p!==null?(P=qt._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=Ay(),M={baseLanes:M.baseLanes|l,cachePool:p}),h.memoizedState=M,h.childLanes=um(i,_,l),r.memoizedState=lm,xl(i.child,h)):(ta(r),l=i.child,i=l.sibling,l=oi(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=l,r.memoizedState=null,l)}function dm(i,r){return r=Eu({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Eu(i,r){return i=Bs(22,i,null,r),i.lanes=0,i}function hm(i,r,l){return tr(r,i.child,null,l),i=dm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Wb(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Mf(i.return,r,l)}function fm(i,r,l,h,p,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=p,_.treeForkCount=y)}function Ib(i,r,l){var h=r.pendingProps,p=h.revealOrder,y=h.tail;h=h.children;var _=Bt.current,M=(_&2)!==0;if(M?(_=_&1|2,r.flags|=128):_&=1,te(Bt,_),os(i,r,h,l),h=Xe?il:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Wb(i,l,r);else if(i.tag===19)Wb(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=r.child,p=null;l!==null;)i=l.alternate,i!==null&&vu(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),fm(r,!1,p,l,y,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&vu(i)===null){r.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}fm(r,!0,l,null,y,h);break;case"together":fm(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function fi(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),aa|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(Wr(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(n(153));if(r.child!==null){for(i=r.child,l=oi(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=oi(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function mm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&hu(i)))}function vT(i,r,l){switch(r.tag){case 3:pt(r,r.stateNode.containerInfo),Zi(r,qt,i.memoizedState.cache),Xa();break;case 27:case 5:ns(r);break;case 4:pt(r,r.stateNode.containerInfo);break;case 10:Zi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Vf(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(ta(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Yb(i,r,l):(ta(r),i=fi(i,r,l),i!==null?i.sibling:null);ta(r);break;case 19:var p=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(Wr(i,r,l,!1),h=(l&r.childLanes)!==0),p){if(h)return Ib(i,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),te(Bt,Bt.current),h)break;return null;case 22:return r.lanes=0,Pb(i,r,l,r.pendingProps);case 24:Zi(r,qt,i.memoizedState.cache)}return fi(i,r,l)}function qb(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)$t=!0;else{if(!mm(i,l)&&(r.flags&128)===0)return $t=!1,vT(i,r,l);$t=(i.flags&131072)!==0}else $t=!1,Xe&&(r.flags&1048576)!==0&&jy(r,il,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(i=Ja(r.elementType),r.type=i,typeof i=="function")bf(i)?(h=nr(i,h),r.tag=1,r=Hb(null,r,i,h,l)):(r.tag=0,r=om(null,r,i,h,l));else{if(i!=null){var p=i.$$typeof;if(p===C){r.tag=11,r=Rb(null,r,i,h,l);break e}else if(p===E){r.tag=14,r=Lb(null,r,i,h,l);break e}}throw r=fe(i)||i,Error(n(306,r,""))}}return r;case 0:return om(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,p=nr(h,r.pendingProps),Hb(i,r,h,p,l);case 3:e:{if(pt(r,r.stateNode.containerInfo),i===null)throw Error(n(387));h=r.pendingProps;var y=r.memoizedState;p=y.element,Rf(i,r),hl(r,h,null,l);var _=r.memoizedState;if(h=_.cache,Zi(r,qt,h),h!==y.cache&&Tf(r,[qt],l,!0),dl(),h=_.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Ub(i,r,h,l);break e}else if(h!==p){p=sn(Error(n(424)),r),al(p),r=Ub(i,r,h,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,bt=ln(i.firstChild),as=r,Xe=!0,Xi=null,rn=!0,l=Py(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Xa(),h===p){r=fi(i,r,l);break e}os(i,r,h,l)}r=r.child}return r;case 26:return Au(i,r),i===null?(l=n1(r.type,null,r.pendingProps,null))?r.memoizedState=l:Xe||(l=r.type,i=r.pendingProps,h=$u(oe.current).createElement(l),h[me]=r,h[Ze]=i,ls(h,l,i),es(h),r.stateNode=h):r.memoizedState=n1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ns(r),i===null&&Xe&&(h=r.stateNode=e1(r.type,r.pendingProps,oe.current),as=r,rn=!0,p=bt,ua(r.type)?(Gm=p,bt=ln(h.firstChild)):bt=p),os(i,r,r.pendingProps.children,l),Au(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Xe&&((p=h=bt)&&(h=KT(h,r.type,r.pendingProps,rn),h!==null?(r.stateNode=h,as=r,bt=ln(h.firstChild),rn=!1,p=!0):p=!1),p||Ki(r)),ns(r),p=r.type,y=r.pendingProps,_=i!==null?i.memoizedProps:null,h=y.children,Um(p,y)?h=null:_!==null&&Um(p,_)&&(r.flags|=32),r.memoizedState!==null&&(p=Hf(i,r,dT,null,null,l),El._currentValue=p),Au(i,r),os(i,r,h,l),r.child;case 6:return i===null&&Xe&&((i=l=bt)&&(l=ZT(l,r.pendingProps,rn),l!==null?(r.stateNode=l,as=r,bt=null,i=!0):i=!1),i||Ki(r)),null;case 13:return Yb(i,r,l);case 4:return pt(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=tr(r,null,h,l):os(i,r,h,l),r.child;case 11:return Rb(i,r,r.type,r.pendingProps,l);case 7:return os(i,r,r.pendingProps,l),r.child;case 8:return os(i,r,r.pendingProps.children,l),r.child;case 12:return os(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,Zi(r,r.type,h.value),os(i,r,h.children,l),r.child;case 9:return p=r.type._context,h=r.pendingProps.children,Za(r),p=rs(p),h=h(p),r.flags|=1,os(i,r,h,l),r.child;case 14:return Lb(i,r,r.type,r.pendingProps,l);case 15:return zb(i,r,r.type,r.pendingProps,l);case 19:return Ib(i,r,l);case 31:return bT(i,r,l);case 22:return Pb(i,r,l,r.pendingProps);case 24:return Za(r),h=rs(qt),i===null?(p=Af(),p===null&&(p=mt,y=Df(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),r.memoizedState={parent:h,cache:p},Of(r),Zi(r,qt,p)):((i.lanes&l)!==0&&(Rf(i,r),hl(r,null,null,l),dl()),p=i.memoizedState,y=r.memoizedState,p.parent!==h?(p={parent:h,cache:h},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Zi(r,qt,h)):(h=y.cache,Zi(r,qt,h),h!==p.cache&&Tf(r,[qt],l,!0))),os(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function mi(i){i.flags|=4}function pm(i,r,l,h,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(bv())i.flags|=8192;else throw er=gu,Ef}else i.flags&=-16777217}function Gb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!l1(r))if(bv())i.flags|=8192;else throw er=gu,Ef}function Ou(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Ua():536870912,i.lanes|=r,so|=r)}function yl(i,r){if(!Xe)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function vt(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function _T(i,r,l){var h=r.pendingProps;switch(Sf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return vt(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),ui(qt),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Yr(r)?mi(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nf())),vt(r),null;case 26:var p=r.type,y=r.memoizedState;return i===null?(mi(r),y!==null?(vt(r),Gb(r,y)):(vt(r),pm(r,p,null,h,l))):y?y!==i.memoizedState?(mi(r),vt(r),Gb(r,y)):(vt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&mi(r),vt(r),pm(r,p,i,h,l)),null;case 27:if(Ss(r),l=oe.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&mi(r);else{if(!h){if(r.stateNode===null)throw Error(n(166));return vt(r),null}i=L.current,Yr(r)?ky(r):(i=e1(p,h,l),r.stateNode=i,mi(r))}return vt(r),null;case 5:if(Ss(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&mi(r);else{if(!h){if(r.stateNode===null)throw Error(n(166));return vt(r),null}if(y=L.current,Yr(r))ky(r);else{var _=$u(oe.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?_.createElement("select",{is:h.is}):_.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?_.createElement(p,{is:h.is}):_.createElement(p)}}y[me]=r,y[Ze]=h;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(ls(y,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&mi(r)}}return vt(r),pm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&mi(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(n(166));if(i=oe.current,Yr(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,p=as,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[me]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Yv(i.nodeValue,l)),i||Ki(r,!0)}else i=$u(i).createTextNode(h),i[me]=r,r.stateNode=i}return vt(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(h=Yr(r),l!==null){if(i===null){if(!h)throw Error(n(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[me]=r}else Xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),i=!1}else l=Nf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(Fs(r),r):(Fs(r),null);if((r.flags&128)!==0)throw Error(n(558))}return vt(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Yr(r),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[me]=r}else Xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),p=!1}else p=Nf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Fs(r),r):(Fs(r),null)}return Fs(r),(r.flags&128)!==0?(r.lanes=l,r):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=r.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),Ou(r,r.updateQueue),vt(r),null);case 4:return it(),i===null&&Pm(r.stateNode.containerInfo),vt(r),null;case 10:return ui(r.type),vt(r),null;case 19:if(H(Bt),h=r.memoizedState,h===null)return vt(r),null;if(p=(r.flags&128)!==0,y=h.rendering,y===null)if(p)yl(h,!1);else{if(Ot!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=vu(i),y!==null){for(r.flags|=128,yl(h,!1),i=y.updateQueue,r.updateQueue=i,Ou(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)_y(l,i),l=l.sibling;return te(Bt,Bt.current&1|2),Xe&&li(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&yt()>Bu&&(r.flags|=128,p=!0,yl(h,!1),r.lanes=4194304)}else{if(!p)if(i=vu(y),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,Ou(r,i),yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Xe)return vt(r),null}else 2*yt()-h.renderingStartTime>Bu&&l!==536870912&&(r.flags|=128,p=!0,yl(h,!1),r.lanes=4194304);h.isBackwards?(y.sibling=r.child,r.child=y):(i=h.last,i!==null?i.sibling=y:r.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yt(),i.sibling=null,l=Bt.current,te(Bt,p?l&1|2:l&1),Xe&&li(r,h.treeForkCount),i):(vt(r),null);case 22:case 23:return Fs(r),Bf(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),l=r.updateQueue,l!==null&&Ou(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&H(Qa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ui(qt),vt(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function wT(i,r){switch(Sf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ui(qt),it(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ss(r),null;case 31:if(r.memoizedState!==null){if(Fs(r),r.alternate===null)throw Error(n(340));Xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Fs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return H(Bt),null;case 4:return it(),null;case 10:return ui(r.type),null;case 22:case 23:return Fs(r),Bf(),i!==null&&H(Qa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ui(qt),null;case 25:return null;default:return null}}function $b(i,r){switch(Sf(r),r.tag){case 3:ui(qt),it();break;case 26:case 27:case 5:Ss(r);break;case 4:it();break;case 31:r.memoizedState!==null&&Fs(r);break;case 13:Fs(r);break;case 19:H(Bt);break;case 10:ui(r.type);break;case 22:case 23:Fs(r),Bf(),i!==null&&H(Qa);break;case 24:ui(qt)}}function bl(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var y=l.create,_=l.inst;h=y(),_.destroy=h}l=l.next}while(l!==p)}}catch(M){lt(r,r.return,M)}}function na(i,r,l){try{var h=r.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&i)===i){var _=h.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,p=r;var P=l,W=M;try{W()}catch(X){lt(p,P,X)}}}h=h.next}while(h!==y)}}catch(X){lt(r,r.return,X)}}function Xb(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{Vy(r,l)}catch(h){lt(i,i.return,h)}}}function Kb(i,r,l){l.props=nr(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){lt(i,r,h)}}function vl(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(p){lt(i,r,p)}}function Fn(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){lt(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){lt(i,r,p)}else l.current=null}function Zb(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){lt(i,i.return,p)}}function gm(i,r,l){try{var h=i.stateNode;WT(h,i.type,l,r),h[Ze]=r}catch(p){lt(i,i.return,p)}}function Qb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ua(i.type)||i.tag===4}function xm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Qb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ua(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ym(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ai));else if(h!==4&&(h===27&&ua(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(ym(i,r,l),i=i.sibling;i!==null;)ym(i,r,l),i=i.sibling}function Ru(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&ua(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ru(i,r,l),i=i.sibling;i!==null;)Ru(i,r,l),i=i.sibling}function Jb(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);ls(r,h,l),r[me]=i,r[Ze]=l}catch(y){lt(i,i.return,y)}}var pi=!1,Xt=!1,bm=!1,ev=typeof WeakSet=="function"?WeakSet:Set,ts=null;function ST(i,r){if(i=i.containerInfo,Fm=td,i=hy(i),hf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,M=-1,P=-1,W=0,X=0,ee=i,I=null;t:for(;;){for(var q;ee!==l||p!==0&&ee.nodeType!==3||(M=_+p),ee!==y||h!==0&&ee.nodeType!==3||(P=_+h),ee.nodeType===3&&(_+=ee.nodeValue.length),(q=ee.firstChild)!==null;)I=ee,ee=q;for(;;){if(ee===i)break t;if(I===l&&++W===p&&(M=_),I===y&&++X===h&&(P=_),(q=ee.nextSibling)!==null)break;ee=I,I=ee.parentNode}ee=q}l=M===-1||P===-1?null:{start:M,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hm={focusedElem:i,selectionRange:l},td=!1,ts=r;ts!==null;)if(r=ts,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,ts=i;else for(;ts!==null;){switch(r=ts,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=r,p=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var ve=nr(l.type,p);i=h.getSnapshotBeforeUpdate(ve,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(ke){lt(l,l.return,ke)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Wm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=r.sibling,i!==null){i.return=r.return,ts=i;break}ts=r.return}}function tv(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:xi(i,l),h&4&&bl(5,l);break;case 1:if(xi(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(_){lt(l,l.return,_)}else{var p=nr(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){lt(l,l.return,_)}}h&64&&Xb(l),h&512&&vl(l,l.return);break;case 3:if(xi(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Vy(i,r)}catch(_){lt(l,l.return,_)}}break;case 27:r===null&&h&4&&Jb(l);case 26:case 5:xi(i,l),r===null&&h&4&&Zb(l),h&512&&vl(l,l.return);break;case 12:xi(i,l);break;case 31:xi(i,l),h&4&&iv(i,l);break;case 13:xi(i,l),h&4&&av(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=ET.bind(null,l),QT(i,l))));break;case 22:if(h=l.memoizedState!==null||pi,!h){r=r!==null&&r.memoizedState!==null||Xt,p=pi;var y=Xt;pi=h,(Xt=r)&&!y?yi(i,l,(l.subtreeFlags&8772)!==0):xi(i,l),pi=p,Xt=y}break;case 30:break;default:xi(i,l)}}function sv(i){var r=i.alternate;r!==null&&(i.alternate=null,sv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Cr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var kt=null,ks=!1;function gi(i,r,l){for(l=l.child;l!==null;)nv(i,r,l),l=l.sibling}function nv(i,r,l){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(bn,l)}catch{}switch(l.tag){case 26:Xt||Fn(l,r),gi(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xt||Fn(l,r);var h=kt,p=ks;ua(l.type)&&(kt=l.stateNode,ks=!1),gi(i,r,l),Dl(l.stateNode),kt=h,ks=p;break;case 5:Xt||Fn(l,r);case 6:if(h=kt,p=ks,kt=null,gi(i,r,l),kt=h,ks=p,kt!==null)if(ks)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(y){lt(l,r,y)}else try{kt.removeChild(l.stateNode)}catch(y){lt(l,r,y)}break;case 18:kt!==null&&(ks?(i=kt,Xv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),uo(i)):Xv(kt,l.stateNode));break;case 4:h=kt,p=ks,kt=l.stateNode.containerInfo,ks=!0,gi(i,r,l),kt=h,ks=p;break;case 0:case 11:case 14:case 15:na(2,l,r),Xt||na(4,l,r),gi(i,r,l);break;case 1:Xt||(Fn(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Kb(l,r,h)),gi(i,r,l);break;case 21:gi(i,r,l);break;case 22:Xt=(h=Xt)||l.memoizedState!==null,gi(i,r,l),Xt=h;break;default:gi(i,r,l)}}function iv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{uo(i)}catch(l){lt(r,r.return,l)}}}function av(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uo(i)}catch(l){lt(r,r.return,l)}}function jT(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ev),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ev),r;default:throw Error(n(435,i.tag))}}function Lu(i,r){var l=jT(i);r.forEach(function(h){if(!l.has(h)){l.add(h);var p=OT.bind(null,i,h);h.then(p,p)}})}function Ms(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],y=i,_=r,M=_;e:for(;M!==null;){switch(M.tag){case 27:if(ua(M.type)){kt=M.stateNode,ks=!1;break e}break;case 5:kt=M.stateNode,ks=!1;break e;case 3:case 4:kt=M.stateNode.containerInfo,ks=!0;break e}M=M.return}if(kt===null)throw Error(n(160));nv(y,_,p),kt=null,ks=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)rv(r,i),r=r.sibling}var wn=null;function rv(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ms(r,i),Ts(i),h&4&&(na(3,i,i.return),bl(3,i),na(5,i,i.return));break;case 1:Ms(r,i),Ts(i),h&512&&(Xt||l===null||Fn(l,l.return)),h&64&&pi&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=wn;if(Ms(r,i),Ts(i),h&512&&(Xt||l===null||Fn(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(h){case"title":y=p.getElementsByTagName("title")[0],(!y||y[vn]||y[me]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(h),p.head.insertBefore(y,p.querySelector("head > title"))),ls(y,h,l),y[me]=i,es(y),h=y;break e;case"link":var _=r1("link","href",p).get(h+(l.href||""));if(_){for(var M=0;M<_.length;M++)if(y=_[M],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(M,1);break t}}y=p.createElement(h),ls(y,h,l),p.head.appendChild(y);break;case"meta":if(_=r1("meta","content",p).get(h+(l.content||""))){for(M=0;M<_.length;M++)if(y=_[M],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(M,1);break t}}y=p.createElement(h),ls(y,h,l),p.head.appendChild(y);break;default:throw Error(n(468,h))}y[me]=i,es(y),h=y}i.stateNode=h}else o1(p,i.type,i.stateNode);else i.stateNode=a1(p,h,i.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?o1(p,i.type,i.stateNode):a1(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&gm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ms(r,i),Ts(i),h&512&&(Xt||l===null||Fn(l,l.return)),l!==null&&h&4&&gm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ms(r,i),Ts(i),h&512&&(Xt||l===null||Fn(l,l.return)),i.flags&32){p=i.stateNode;try{Or(p,"")}catch(ve){lt(i,i.return,ve)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,gm(i,p,l!==null?l.memoizedProps:p)),h&1024&&(bm=!0);break;case 6:if(Ms(r,i),Ts(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(ve){lt(i,i.return,ve)}}break;case 3:if(Zu=null,p=wn,wn=Xu(r.containerInfo),Ms(r,i),wn=p,Ts(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{uo(r.containerInfo)}catch(ve){lt(i,i.return,ve)}bm&&(bm=!1,ov(i));break;case 4:h=wn,wn=Xu(i.stateNode.containerInfo),Ms(r,i),Ts(i),wn=h;break;case 12:Ms(r,i),Ts(i);break;case 31:Ms(r,i),Ts(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Lu(i,h)));break;case 13:Ms(r,i),Ts(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Pu=yt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Lu(i,h)));break;case 22:p=i.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,W=pi,X=Xt;if(pi=W||p,Xt=X||P,Ms(r,i),Xt=X,pi=W,Ts(i),h&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||P||pi||Xt||ir(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){P=l=r;try{if(y=P.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=P.stateNode;var ee=P.memoizedProps.style,I=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;M.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ve){lt(P,P.return,ve)}}}else if(r.tag===6){if(l===null){P=r;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(ve){lt(P,P.return,ve)}}}else if(r.tag===18){if(l===null){P=r;try{var q=P.stateNode;p?Kv(q,!0):Kv(P.stateNode,!1)}catch(ve){lt(P,P.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Lu(i,l))));break;case 19:Ms(r,i),Ts(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Lu(i,h)));break;case 30:break;case 21:break;default:Ms(r,i),Ts(i)}}function Ts(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(Qb(h)){l=h;break}h=h.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,y=xm(i);Ru(i,y,p);break;case 5:var _=l.stateNode;l.flags&32&&(Or(_,""),l.flags&=-33);var M=xm(i);Ru(i,M,_);break;case 3:case 4:var P=l.stateNode.containerInfo,W=xm(i);ym(i,W,P);break;default:throw Error(n(161))}}catch(X){lt(i,i.return,X)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function ov(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;ov(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function xi(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)tv(i,r.alternate,r),r=r.sibling}function ir(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:na(4,r,r.return),ir(r);break;case 1:Fn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Kb(r,r.return,l),ir(r);break;case 27:Dl(r.stateNode);case 26:case 5:Fn(r,r.return),ir(r);break;case 22:r.memoizedState===null&&ir(r);break;case 30:ir(r);break;default:ir(r)}i=i.sibling}}function yi(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,p=i,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:yi(p,y,l),bl(4,y);break;case 1:if(yi(p,y,l),h=y,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){lt(h,h.return,W)}if(h=y,p=h.updateQueue,p!==null){var M=h.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)By(P[p],M)}catch(W){lt(h,h.return,W)}}l&&_&64&&Xb(y),vl(y,y.return);break;case 27:Jb(y);case 26:case 5:yi(p,y,l),l&&h===null&&_&4&&Zb(y),vl(y,y.return);break;case 12:yi(p,y,l);break;case 31:yi(p,y,l),l&&_&4&&iv(p,y);break;case 13:yi(p,y,l),l&&_&4&&av(p,y);break;case 22:y.memoizedState===null&&yi(p,y,l),vl(y,y.return);break;case 30:break;default:yi(p,y,l)}r=r.sibling}}function vm(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&rl(l))}function _m(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&rl(i))}function Sn(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)lv(i,r,l,h),r=r.sibling}function lv(i,r,l,h){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Sn(i,r,l,h),p&2048&&bl(9,r);break;case 1:Sn(i,r,l,h);break;case 3:Sn(i,r,l,h),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&rl(i)));break;case 12:if(p&2048){Sn(i,r,l,h),i=r.stateNode;try{var y=r.memoizedProps,_=y.id,M=y.onPostCommit;typeof M=="function"&&M(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){lt(r,r.return,P)}}else Sn(i,r,l,h);break;case 31:Sn(i,r,l,h);break;case 13:Sn(i,r,l,h);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?Sn(i,r,l,h):_l(i,r):y._visibility&2?Sn(i,r,l,h):(y._visibility|=2,Jr(i,r,l,h,(r.subtreeFlags&10256)!==0||!1)),p&2048&&vm(_,r);break;case 24:Sn(i,r,l,h),p&2048&&_m(r.alternate,r);break;default:Sn(i,r,l,h)}}function Jr(i,r,l,h,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,_=r,M=l,P=h,W=_.flags;switch(_.tag){case 0:case 11:case 15:Jr(y,_,M,P,p),bl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Jr(y,_,M,P,p):_l(y,_):(X._visibility|=2,Jr(y,_,M,P,p)),p&&W&2048&&vm(_.alternate,_);break;case 24:Jr(y,_,M,P,p),p&&W&2048&&_m(_.alternate,_);break;default:Jr(y,_,M,P,p)}r=r.sibling}}function _l(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,p=h.flags;switch(h.tag){case 22:_l(l,h),p&2048&&vm(h.alternate,h);break;case 24:_l(l,h),p&2048&&_m(h.alternate,h);break;default:_l(l,h)}r=r.sibling}}var wl=8192;function eo(i,r,l){if(i.subtreeFlags&wl)for(i=i.child;i!==null;)cv(i,r,l),i=i.sibling}function cv(i,r,l){switch(i.tag){case 26:eo(i,r,l),i.flags&wl&&i.memoizedState!==null&&u5(l,wn,i.memoizedState,i.memoizedProps);break;case 5:eo(i,r,l);break;case 3:case 4:var h=wn;wn=Xu(i.stateNode.containerInfo),eo(i,r,l),wn=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=wl,wl=16777216,eo(i,r,l),wl=h):eo(i,r,l));break;default:eo(i,r,l)}}function uv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Sl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];ts=h,hv(h,i)}uv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dv(i),i=i.sibling}function dv(i){switch(i.tag){case 0:case 11:case 15:Sl(i),i.flags&2048&&na(9,i,i.return);break;case 3:Sl(i);break;case 12:Sl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,zu(i)):Sl(i);break;default:Sl(i)}}function zu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];ts=h,hv(h,i)}uv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:na(8,r,r.return),zu(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,zu(r));break;default:zu(r)}i=i.sibling}}function hv(i,r){for(;ts!==null;){var l=ts;switch(l.tag){case 0:case 11:case 15:na(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:rl(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,ts=h;else e:for(l=i;ts!==null;){h=ts;var p=h.sibling,y=h.return;if(sv(h),h===l){ts=null;break e}if(p!==null){p.return=y,ts=p;break e}ts=y}}}var NT={getCacheForType:function(i){var r=rs(qt),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return rs(qt).controller.signal}},kT=typeof WeakMap=="function"?WeakMap:Map,at=0,mt=null,Fe=null,We=0,ot=0,Hs=null,ia=!1,to=!1,wm=!1,bi=0,Ot=0,aa=0,ar=0,Sm=0,Us=0,so=0,jl=null,Ds=null,jm=!1,Pu=0,fv=0,Bu=1/0,Vu=null,ra=null,Zt=0,oa=null,no=null,vi=0,Nm=0,km=null,mv=null,Nl=0,Mm=null;function Ys(){return(at&2)!==0&&We!==0?We&-We:F.T!==null?Om():ce()}function pv(){if(Us===0)if((We&536870912)===0||Xe){var i=ei;ei<<=1,(ei&3932160)===0&&(ei=262144),Us=i}else Us=536870912;return i=Vs.current,i!==null&&(i.flags|=32),Us}function Cs(i,r,l){(i===mt&&(ot===2||ot===9)||i.cancelPendingCommit!==null)&&(io(i,0),la(i,We,Us,!1)),pe(i,l),((at&2)===0||i!==mt)&&(i===mt&&((at&2)===0&&(ar|=l),Ot===4&&la(i,We,Us,!1)),Hn(i))}function gv(i,r,l){if((at&6)!==0)throw Error(n(327));var h=!l&&(r&127)===0&&(r&i.expiredLanes)===0||Ln(i,r),p=h?DT(i,r):Dm(i,r,!0),y=h;do{if(p===0){to&&!h&&la(i,r,0,!1);break}else{if(l=i.current.alternate,y&&!MT(l)){p=Dm(i,r,!1),y=!1;continue}if(p===2){if(y=r,i.errorRecoveryDisabledLanes&y)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var M=i;p=jl;var P=M.current.memoizedState.isDehydrated;if(P&&(io(M,_).flags|=256),_=Dm(M,_,!1),_!==2){if(wm&&!P){M.errorRecoveryDisabledLanes|=y,ar|=y,p=4;break e}y=Ds,Ds=p,y!==null&&(Ds===null?Ds=y:Ds.push.apply(Ds,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){io(i,0),la(i,r,0,!0);break}e:{switch(h=i,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:la(h,r,Us,!ia);break e;case 2:Ds=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(p=Pu+300-yt(),10<p)){if(la(h,r,Us,!ia),Ii(h,0,!0)!==0)break e;vi=r,h.timeoutHandle=Gv(xv.bind(null,h,l,Ds,Vu,jm,r,Us,ar,so,ia,y,"Throttled",-0,0),p);break e}xv(h,l,Ds,Vu,jm,r,Us,ar,so,ia,y,null,-0,0)}}break}while(!0);Hn(i)}function xv(i,r,l,h,p,y,_,M,P,W,X,ee,I,q){if(i.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},cv(r,y,ee);var ve=(y&62914560)===y?Pu-yt():(y&4194048)===y?fv-yt():0;if(ve=d5(ee,ve),ve!==null){vi=y,i.cancelPendingCommit=ve(Nv.bind(null,i,r,y,l,h,p,_,M,P,X,ee,null,I,q)),la(i,y,_,!W);return}}Nv(i,r,y,l,h,p,_,M,P)}function MT(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Ps(y(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function la(i,r,l,h){r&=~Sm,r&=~ar,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var p=r;0<p;){var y=31-It(p),_=1<<y;h[y]=-1,p&=~_}l!==0&&Nt(i,l,r)}function Fu(){return(at&6)===0?(kl(0),!1):!0}function Tm(){if(Fe!==null){if(ot===0)var i=Fe.return;else i=Fe,ci=Ka=null,Wf(i),$r=null,ll=0,i=Fe;for(;i!==null;)$b(i.alternate,i),i=i.return;Fe=null}}function io(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,GT(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),vi=0,Tm(),mt=i,Fe=l=oi(i.current,null),We=r,ot=0,Hs=null,ia=!1,to=Ln(i,r),wm=!1,so=Us=Sm=ar=aa=Ot=0,Ds=jl=null,jm=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var p=31-It(h),y=1<<p;r|=i[p],h&=~y}return bi=r,ou(),l}function yv(i,r){Re=null,F.H=gl,r===Gr||r===pu?(r=Ry(),ot=3):r===Ef?(r=Ry(),ot=4):ot=r===rm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hs=r,Fe===null&&(Ot=1,Du(i,sn(r,i.current)))}function bv(){var i=Vs.current;return i===null?!0:(We&4194048)===We?on===null:(We&62914560)===We||(We&536870912)!==0?i===on:!1}function vv(){var i=F.H;return F.H=gl,i===null?gl:i}function _v(){var i=F.A;return F.A=NT,i}function Hu(){Ot=4,ia||(We&4194048)!==We&&Vs.current!==null||(to=!0),(aa&134217727)===0&&(ar&134217727)===0||mt===null||la(mt,We,Us,!1)}function Dm(i,r,l){var h=at;at|=2;var p=vv(),y=_v();(mt!==i||We!==r)&&(Vu=null,io(i,r)),r=!1;var _=Ot;e:do try{if(ot!==0&&Fe!==null){var M=Fe,P=Hs;switch(ot){case 8:Tm(),_=6;break e;case 3:case 2:case 9:case 6:Vs.current===null&&(r=!0);var W=ot;if(ot=0,Hs=null,ao(i,M,P,W),l&&to){_=0;break e}break;default:W=ot,ot=0,Hs=null,ao(i,M,P,W)}}TT(),_=Ot;break}catch(X){yv(i,X)}while(!0);return r&&i.shellSuspendCounter++,ci=Ka=null,at=h,F.H=p,F.A=y,Fe===null&&(mt=null,We=0,ou()),_}function TT(){for(;Fe!==null;)wv(Fe)}function DT(i,r){var l=at;at|=2;var h=vv(),p=_v();mt!==i||We!==r?(Vu=null,Bu=yt()+500,io(i,r)):to=Ln(i,r);e:do try{if(ot!==0&&Fe!==null){r=Fe;var y=Hs;t:switch(ot){case 1:ot=0,Hs=null,ao(i,r,y,1);break;case 2:case 9:if(Ey(y)){ot=0,Hs=null,Sv(r);break}r=function(){ot!==2&&ot!==9||mt!==i||(ot=7),Hn(i)},y.then(r,r);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Ey(y)?(ot=0,Hs=null,Sv(r)):(ot=0,Hs=null,ao(i,r,y,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var M=Fe;if(_?l1(_):M.stateNode.complete){ot=0,Hs=null;var P=M.sibling;if(P!==null)Fe=P;else{var W=M.return;W!==null?(Fe=W,Uu(W)):Fe=null}break t}}ot=0,Hs=null,ao(i,r,y,5);break;case 6:ot=0,Hs=null,ao(i,r,y,6);break;case 8:Tm(),Ot=6;break e;default:throw Error(n(462))}}CT();break}catch(X){yv(i,X)}while(!0);return ci=Ka=null,F.H=h,F.A=p,at=l,Fe!==null?0:(mt=null,We=0,ou(),Ot)}function CT(){for(;Fe!==null&&!Ke();)wv(Fe)}function wv(i){var r=qb(i.alternate,i,bi);i.memoizedProps=i.pendingProps,r===null?Uu(i):Fe=r}function Sv(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=Fb(l,r,r.pendingProps,r.type,void 0,We);break;case 11:r=Fb(l,r,r.pendingProps,r.type.render,r.ref,We);break;case 5:Wf(r);default:$b(l,r),r=Fe=_y(r,bi),r=qb(l,r,bi)}i.memoizedProps=i.pendingProps,r===null?Uu(i):Fe=r}function ao(i,r,l,h){ci=Ka=null,Wf(r),$r=null,ll=0;var p=r.return;try{if(yT(i,p,r,l,We)){Ot=1,Du(i,sn(l,i.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;Ot=1,Du(i,sn(l,i.current)),Fe=null;return}r.flags&32768?(Xe||h===1?i=!0:to||(We&536870912)!==0?i=!1:(ia=i=!0,(h===2||h===9||h===3||h===6)&&(h=Vs.current,h!==null&&h.tag===13&&(h.flags|=16384))),jv(r,i)):Uu(r)}function Uu(i){var r=i;do{if((r.flags&32768)!==0){jv(r,ia);return}i=r.return;var l=_T(r.alternate,r,bi);if(l!==null){Fe=l;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=i}while(r!==null);Ot===0&&(Ot=5)}function jv(i,r){do{var l=wT(i.alternate,i);if(l!==null){l.flags&=32767,Fe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){Fe=i;return}Fe=i=l}while(i!==null);Ot=6,Fe=null}function Nv(i,r,l,h,p,y,_,M,P){i.cancelPendingCommit=null;do Yu();while(Zt!==0);if((at&6)!==0)throw Error(n(327));if(r!==null){if(r===i.current)throw Error(n(177));if(y=r.lanes|r.childLanes,y|=xf,$e(i,l,y,_,M,P),i===mt&&(Fe=mt=null,We=0),no=r,oa=i,vi=l,Nm=y,km=p,mv=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,RT(_s,function(){return Cv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,p=G.p,G.p=2,_=at,at|=4;try{ST(i,r,l)}finally{at=_,G.p=p,F.T=h}}Zt=1,kv(),Mv(),Tv()}}function kv(){if(Zt===1){Zt=0;var i=oa,r=no,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var h=G.p;G.p=2;var p=at;at|=4;try{rv(r,i);var y=Hm,_=hy(i.containerInfo),M=y.focusedElem,P=y.selectionRange;if(_!==M&&M&&M.ownerDocument&&dy(M.ownerDocument.documentElement,M)){if(P!==null&&hf(M)){var W=P.start,X=P.end;if(X===void 0&&(X=W),"selectionStart"in M)M.selectionStart=W,M.selectionEnd=Math.min(X,M.value.length);else{var ee=M.ownerDocument||document,I=ee&&ee.defaultView||window;if(I.getSelection){var q=I.getSelection(),ve=M.textContent.length,ke=Math.min(P.start,ve),ht=P.end===void 0?ke:Math.min(P.end,ve);!q.extend&&ke>ht&&(_=ht,ht=ke,ke=_);var V=uy(M,ke),B=uy(M,ht);if(V&&B&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==B.node||q.focusOffset!==B.offset)){var Y=ee.createRange();Y.setStart(V.node,V.offset),q.removeAllRanges(),ke>ht?(q.addRange(Y),q.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),q.addRange(Y))}}}}for(ee=[],q=M;q=q.parentNode;)q.nodeType===1&&ee.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ee.length;M++){var J=ee[M];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}td=!!Fm,Hm=Fm=null}finally{at=p,G.p=h,F.T=l}}i.current=r,Zt=2}}function Mv(){if(Zt===2){Zt=0;var i=oa,r=no,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var h=G.p;G.p=2;var p=at;at|=4;try{tv(i,r.alternate,r)}finally{at=p,G.p=h,F.T=l}}Zt=3}}function Tv(){if(Zt===4||Zt===3){Zt=0,Yt();var i=oa,r=no,l=vi,h=mv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Zt=5:(Zt=0,no=oa=null,Dv(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ra=null),Q(l),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(bn,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=F.T,p=G.p,G.p=2,F.T=null;try{for(var y=i.onRecoverableError,_=0;_<h.length;_++){var M=h[_];y(M.value,{componentStack:M.stack})}}finally{F.T=r,G.p=p}}(vi&3)!==0&&Yu(),Hn(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Mm?Nl++:(Nl=0,Mm=i):Nl=0,kl(0)}}function Dv(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,rl(r)))}function Yu(){return kv(),Mv(),Tv(),Cv()}function Cv(){if(Zt!==5)return!1;var i=oa,r=Nm;Nm=0;var l=Q(vi),h=F.T,p=G.p;try{G.p=32>l?32:l,F.T=null,l=km,km=null;var y=oa,_=vi;if(Zt=0,no=oa=null,vi=0,(at&6)!==0)throw Error(n(331));var M=at;if(at|=4,dv(y.current),lv(y,y.current,_,l),at=M,kl(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(bn,y)}catch{}return!0}finally{G.p=p,F.T=h,Dv(i,r)}}function Av(i,r,l){r=sn(l,r),r=am(i.stateNode,r,2),i=ea(i,r,2),i!==null&&(pe(i,2),Hn(i))}function lt(i,r,l){if(i.tag===3)Av(i,i,l);else for(;r!==null;){if(r.tag===3){Av(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ra===null||!ra.has(h))){i=sn(l,i),l=Eb(2),h=ea(r,l,2),h!==null&&(Ob(l,h,r,i),pe(h,2),Hn(h));break}}r=r.return}}function Cm(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new kT;var p=new Set;h.set(r,p)}else p=h.get(r),p===void 0&&(p=new Set,h.set(r,p));p.has(l)||(wm=!0,p.add(l),i=AT.bind(null,i,r,l),r.then(i,i))}function AT(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,mt===i&&(We&l)===l&&(Ot===4||Ot===3&&(We&62914560)===We&&300>yt()-Pu?(at&2)===0&&io(i,0):Sm|=l,so===We&&(so=0)),Hn(i)}function Ev(i,r){r===0&&(r=Ua()),i=Ga(i,r),i!==null&&(pe(i,r),Hn(i))}function ET(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),Ev(i,l)}function OT(i,r){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(r),Ev(i,l)}function RT(i,r){return Rs(i,r)}var Wu=null,ro=null,Am=!1,Iu=!1,Em=!1,ca=0;function Hn(i){i!==ro&&i.next===null&&(ro===null?Wu=ro=i:ro=ro.next=i),Iu=!0,Am||(Am=!0,zT())}function kl(i,r){if(!Em&&Iu){Em=!0;do for(var l=!1,h=Wu;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var y=0;else{var _=h.suspendedLanes,M=h.pingedLanes;y=(1<<31-It(42|i)+1)-1,y&=p&~(_&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,zv(h,y))}else y=We,y=Ii(h,h===mt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ln(h,y)||(l=!0,zv(h,y));h=h.next}while(l);Em=!1}}function LT(){Ov()}function Ov(){Iu=Am=!1;var i=0;ca!==0&&qT()&&(i=ca);for(var r=yt(),l=null,h=Wu;h!==null;){var p=h.next,y=Rv(h,r);y===0?(h.next=null,l===null?Wu=p:l.next=p,p===null&&(ro=l)):(l=h,(i!==0||(y&3)!==0)&&(Iu=!0)),h=p}Zt!==0&&Zt!==5||kl(i),ca!==0&&(ca=0)}function Rv(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var _=31-It(y),M=1<<_,P=p[_];P===-1?((M&l)===0||(M&h)!==0)&&(p[_]=Ha(M,r)):P<=r&&(i.expiredLanes|=M),y&=~M}if(r=mt,l=We,l=Ii(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(ot===2||ot===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&be(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ln(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&be(h),Q(l)){case 2:case 8:l=vs;break;case 32:l=_s;break;case 268435456:l=Rn;break;default:l=_s}return h=Lv.bind(null,i),l=Rs(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&be(h),i.callbackPriority=2,i.callbackNode=null,2}function Lv(i,r){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Yu()&&i.callbackNode!==l)return null;var h=We;return h=Ii(i,i===mt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(gv(i,h,r),Rv(i,yt()),i.callbackNode!=null&&i.callbackNode===l?Lv.bind(null,i):null)}function zv(i,r){if(Yu())return null;gv(i,r,!0)}function zT(){$T(function(){(at&6)!==0?Rs(Ve,LT):Ov()})}function Om(){if(ca===0){var i=Ir;i===0&&(i=Ls,Ls<<=1,(Ls&261888)===0&&(Ls=256)),ca=i}return ca}function Pv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Jc(""+i)}function Bv(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function PT(i,r,l,h,p){if(r==="submit"&&l&&l.stateNode===p){var y=Pv((p[Ze]||null).action),_=h.submitter;_&&(r=(r=_[Ze]||null)?Pv(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var M=new nu("action","action",null,h,p);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ca!==0){var P=_?Bv(p,_):new FormData(p);Jf(l,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(M.preventDefault(),P=_?Bv(p,_):new FormData(p),Jf(l,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var Rm=0;Rm<gf.length;Rm++){var Lm=gf[Rm],BT=Lm.toLowerCase(),VT=Lm[0].toUpperCase()+Lm.slice(1);_n(BT,"on"+VT)}_n(py,"onAnimationEnd"),_n(gy,"onAnimationIteration"),_n(xy,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(tT,"onTransitionRun"),_n(sT,"onTransitionStart"),_n(nT,"onTransitionCancel"),_n(yy,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Vv(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(r)for(var _=h.length-1;0<=_;_--){var M=h[_],P=M.instance,W=M.currentTarget;if(M=M.listener,P!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=W;try{y(p)}catch(X){ru(X)}p.currentTarget=null,y=P}else for(_=0;_<h.length;_++){if(M=h[_],P=M.instance,W=M.currentTarget,M=M.listener,P!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=W;try{y(p)}catch(X){ru(X)}p.currentTarget=null,y=P}}}}function He(i,r){var l=r[he];l===void 0&&(l=r[he]=new Set);var h=i+"__bubble";l.has(h)||(Fv(r,i,2,!1),l.add(h))}function zm(i,r,l){var h=0;r&&(h|=4),Fv(l,i,h,r)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Pm(i){if(!i[qu]){i[qu]=!0,O0.forEach(function(l){l!=="selectionchange"&&(FT.has(l)||zm(l,!1,i),zm(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[qu]||(r[qu]=!0,zm("selectionchange",!1,r))}}function Fv(i,r,l,h){switch(p1(r)){case 2:var p=m5;break;case 8:p=p5;break;default:p=Qm}l=p.bind(null,r,l,i),p=void 0,!sf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(r,l,{capture:!0,passive:p}):i.addEventListener(r,l,!0):p!==void 0?i.addEventListener(r,l,{passive:p}):i.addEventListener(r,l,!1)}function Bm(i,r,l,h,p){var y=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var M=h.stateNode.containerInfo;if(M===p)break;if(_===4)for(_=h.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;M!==null;){if(_=ni(M),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){h=y=_;continue e}M=M.parentNode}}h=h.return}I0(function(){var W=y,X=ef(l),ee=[];e:{var I=by.get(i);if(I!==void 0){var q=nu,ve=i;switch(i){case"keypress":if(tu(l)===0)break e;case"keydown":case"keyup":q=OM;break;case"focusin":ve="focus",q=of;break;case"focusout":ve="blur",q=of;break;case"beforeblur":case"afterblur":q=of;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=$0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_M;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=zM;break;case py:case gy:case xy:q=jM;break;case yy:q=BM;break;case"scroll":case"scrollend":q=bM;break;case"wheel":q=FM;break;case"copy":case"cut":case"paste":q=kM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=K0;break;case"toggle":case"beforetoggle":q=UM}var ke=(r&4)!==0,ht=!ke&&(i==="scroll"||i==="scrollend"),V=ke?I!==null?I+"Capture":null:I;ke=[];for(var B=W,Y;B!==null;){var J=B;if(Y=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||Y===null||V===null||(J=Xo(B,V),J!=null&&ke.push(Tl(B,J,Y))),ht)break;B=B.return}0<ke.length&&(I=new q(I,ve,null,l,X),ee.push({event:I,listeners:ke}))}}if((r&7)===0){e:{if(I=i==="mouseover"||i==="pointerover",q=i==="mouseout"||i==="pointerout",I&&l!==Jh&&(ve=l.relatedTarget||l.fromElement)&&(ni(ve)||ve[Be]))break e;if((q||I)&&(I=X.window===X?X:(I=X.ownerDocument)?I.defaultView||I.parentWindow:window,q?(ve=l.relatedTarget||l.toElement,q=W,ve=ve?ni(ve):null,ve!==null&&(ht=o(ve),ke=ve.tag,ve!==ht||ke!==5&&ke!==27&&ke!==6)&&(ve=null)):(q=null,ve=W),q!==ve)){if(ke=$0,J="onMouseLeave",V="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ke=K0,J="onPointerLeave",V="onPointerEnter",B="pointer"),ht=q==null?I:Pn(q),Y=ve==null?I:Pn(ve),I=new ke(J,B+"leave",q,l,X),I.target=ht,I.relatedTarget=Y,J=null,ni(X)===W&&(ke=new ke(V,B+"enter",ve,l,X),ke.target=Y,ke.relatedTarget=ht,J=ke),ht=J,q&&ve)t:{for(ke=HT,V=q,B=ve,Y=0,J=V;J;J=ke(J))Y++;J=0;for(var je=B;je;je=ke(je))J++;for(;0<Y-J;)V=ke(V),Y--;for(;0<J-Y;)B=ke(B),J--;for(;Y--;){if(V===B||B!==null&&V===B.alternate){ke=V;break t}V=ke(V),B=ke(B)}ke=null}else ke=null;q!==null&&Hv(ee,I,q,ke,!1),ve!==null&&ht!==null&&Hv(ee,ht,ve,ke,!0)}}e:{if(I=W?Pn(W):window,q=I.nodeName&&I.nodeName.toLowerCase(),q==="select"||q==="input"&&I.type==="file")var Je=iy;else if(sy(I))if(ay)Je=QM;else{Je=KM;var we=XM}else q=I.nodeName,!q||q.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?W&&Qh(W.elementType)&&(Je=iy):Je=ZM;if(Je&&(Je=Je(i,W))){ny(ee,Je,l,X);break e}we&&we(i,I,W),i==="focusout"&&W&&I.type==="number"&&W.memoizedProps.value!=null&&Zh(I,"number",I.value)}switch(we=W?Pn(W):window,i){case"focusin":(sy(we)||we.contentEditable==="true")&&(Pr=we,ff=W,nl=null);break;case"focusout":nl=ff=Pr=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,fy(ee,l,X);break;case"selectionchange":if(eT)break;case"keydown":case"keyup":fy(ee,l,X)}var Le;if(cf)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else zr?ey(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(Z0&&l.locale!=="ko"&&(zr||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&zr&&(Le=q0()):(Gi=X,nf="value"in Gi?Gi.value:Gi.textContent,zr=!0)),we=Gu(W,Ie),0<we.length&&(Ie=new X0(Ie,i,null,l,X),ee.push({event:Ie,listeners:we}),Le?Ie.data=Le:(Le=ty(l),Le!==null&&(Ie.data=Le)))),(Le=WM?IM(i,l):qM(i,l))&&(Ie=Gu(W,"onBeforeInput"),0<Ie.length&&(we=new X0("onBeforeInput","beforeinput",null,l,X),ee.push({event:we,listeners:Ie}),we.data=Le)),PT(ee,i,W,l,X)}Vv(ee,r)})}function Tl(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Gu(i,r){for(var l=r+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Xo(i,l),p!=null&&h.unshift(Tl(i,p,y)),p=Xo(i,r),p!=null&&h.push(Tl(i,p,y))),i.tag===3)return h;i=i.return}return[]}function HT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Hv(i,r,l,h,p){for(var y=r._reactName,_=[];l!==null&&l!==h;){var M=l,P=M.alternate,W=M.stateNode;if(M=M.tag,P!==null&&P===h)break;M!==5&&M!==26&&M!==27||W===null||(P=W,p?(W=Xo(l,y),W!=null&&_.unshift(Tl(l,W,P))):p||(W=Xo(l,y),W!=null&&_.push(Tl(l,W,P)))),l=l.return}_.length!==0&&i.push({event:r,listeners:_})}var UT=/\r\n?/g,YT=/\u0000|\uFFFD/g;function Uv(i){return(typeof i=="string"?i:""+i).replace(UT,`
`).replace(YT,"")}function Yv(i,r){return r=Uv(r),Uv(i)===r}function dt(i,r,l,h,p,y){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Or(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Or(i,""+h);break;case"className":Zc(i,"class",h);break;case"tabIndex":Zc(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Zc(i,l,h);break;case"style":Y0(i,h,y);break;case"data":if(r!=="object"){Zc(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Jc(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(r!=="input"&&dt(i,r,"name",p.name,p,null),dt(i,r,"formEncType",p.formEncType,p,null),dt(i,r,"formMethod",p.formMethod,p,null),dt(i,r,"formTarget",p.formTarget,p,null)):(dt(i,r,"encType",p.encType,p,null),dt(i,r,"method",p.method,p,null),dt(i,r,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Jc(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=ai);break;case"onScroll":h!=null&&He("scroll",i);break;case"onScrollEnd":h!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Jc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":He("beforetoggle",i),He("toggle",i),Kc(i,"popover",h);break;case"xlinkActuate":ii(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ii(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ii(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ii(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ii(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ii(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ii(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ii(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ii(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Kc(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xM.get(l)||l,Kc(i,l,h))}}function Vm(i,r,l,h,p,y){switch(l){case"style":Y0(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Or(i,h):(typeof h=="number"||typeof h=="bigint")&&Or(i,""+h);break;case"onScroll":h!=null&&He("scroll",i);break;case"onScrollEnd":h!=null&&He("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!R0.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),y=i[Ze]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(r,y,p),typeof h=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,p);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Kc(i,l,h)}}}function ls(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var h=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:dt(i,r,y,_,l,null)}}p&&dt(i,r,"srcSet",l.srcSet,l,null),h&&dt(i,r,"src",l.src,l,null);return;case"input":He("invalid",i);var M=y=_=p=null,P=null,W=null;for(h in l)if(l.hasOwnProperty(h)){var X=l[h];if(X!=null)switch(h){case"name":p=X;break;case"type":_=X;break;case"checked":P=X;break;case"defaultChecked":W=X;break;case"value":y=X;break;case"defaultValue":M=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,r));break;default:dt(i,r,h,X,l,null)}}V0(i,y,M,P,W,_,p,!1);return;case"select":He("invalid",i),h=_=y=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":y=M;break;case"defaultValue":_=M;break;case"multiple":h=M;default:dt(i,r,p,M,l,null)}r=y,l=_,i.multiple=!!h,r!=null?Er(i,!!h,r,!1):l!=null&&Er(i,!!h,l,!0);return;case"textarea":He("invalid",i),y=p=h=null;for(_ in l)if(l.hasOwnProperty(_)&&(M=l[_],M!=null))switch(_){case"value":h=M;break;case"defaultValue":p=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:dt(i,r,_,M,l,null)}H0(i,h,p,y);return;case"option":for(P in l)l.hasOwnProperty(P)&&(h=l[P],h!=null)&&(P==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":dt(i,r,P,h,l,null));return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(h=0;h<Ml.length;h++)He(Ml[h],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(h=l[W],h!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:dt(i,r,W,h,l,null)}return;default:if(Qh(r)){for(X in l)l.hasOwnProperty(X)&&(h=l[X],h!==void 0&&Vm(i,r,X,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&dt(i,r,M,h,l,null))}function WT(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,M=null,P=null,W=null,X=null;for(q in l){var ee=l[q];if(l.hasOwnProperty(q)&&ee!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":P=ee;default:h.hasOwnProperty(q)||dt(i,r,q,null,h,ee)}}for(var I in h){var q=h[I];if(ee=l[I],h.hasOwnProperty(I)&&(q!=null||ee!=null))switch(I){case"type":y=q;break;case"name":p=q;break;case"checked":W=q;break;case"defaultChecked":X=q;break;case"value":_=q;break;case"defaultValue":M=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(137,r));break;default:q!==ee&&dt(i,r,I,q,h,ee)}}Kh(i,_,M,P,W,X,y,p);return;case"select":q=_=M=I=null;for(y in l)if(P=l[y],l.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":q=P;default:h.hasOwnProperty(y)||dt(i,r,y,null,h,P)}for(p in h)if(y=h[p],P=l[p],h.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":I=y;break;case"defaultValue":M=y;break;case"multiple":_=y;default:y!==P&&dt(i,r,p,y,h,P)}r=M,l=_,h=q,I!=null?Er(i,!!l,I,!1):!!h!=!!l&&(r!=null?Er(i,!!l,r,!0):Er(i,!!l,l?[]:"",!1));return;case"textarea":q=I=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:dt(i,r,M,null,h,p)}for(_ in h)if(p=h[_],y=l[_],h.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":I=p;break;case"defaultValue":q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&dt(i,r,_,p,h,y)}F0(i,I,q);return;case"option":for(var ve in l)I=l[ve],l.hasOwnProperty(ve)&&I!=null&&!h.hasOwnProperty(ve)&&(ve==="selected"?i.selected=!1:dt(i,r,ve,null,h,I));for(P in h)I=h[P],q=l[P],h.hasOwnProperty(P)&&I!==q&&(I!=null||q!=null)&&(P==="selected"?i.selected=I&&typeof I!="function"&&typeof I!="symbol":dt(i,r,P,I,h,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)I=l[ke],l.hasOwnProperty(ke)&&I!=null&&!h.hasOwnProperty(ke)&&dt(i,r,ke,null,h,I);for(W in h)if(I=h[W],q=l[W],h.hasOwnProperty(W)&&I!==q&&(I!=null||q!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(137,r));break;default:dt(i,r,W,I,h,q)}return;default:if(Qh(r)){for(var ht in l)I=l[ht],l.hasOwnProperty(ht)&&I!==void 0&&!h.hasOwnProperty(ht)&&Vm(i,r,ht,void 0,h,I);for(X in h)I=h[X],q=l[X],!h.hasOwnProperty(X)||I===q||I===void 0&&q===void 0||Vm(i,r,X,I,h,q);return}}for(var V in l)I=l[V],l.hasOwnProperty(V)&&I!=null&&!h.hasOwnProperty(V)&&dt(i,r,V,null,h,I);for(ee in h)I=h[ee],q=l[ee],!h.hasOwnProperty(ee)||I===q||I==null&&q==null||dt(i,r,ee,I,h,q)}function Wv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var p=l[h],y=p.transferSize,_=p.initiatorType,M=p.duration;if(y&&M&&Wv(_)){for(_=0,M=p.responseEnd,h+=1;h<l.length;h++){var P=l[h],W=P.startTime;if(W>M)break;var X=P.transferSize,ee=P.initiatorType;X&&Wv(ee)&&(P=P.responseEnd,_+=X*(P<M?1:(M-W)/(P-W)))}if(--h,r+=8*(y+_)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Fm=null,Hm=null;function $u(i){return i.nodeType===9?i:i.ownerDocument}function Iv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qv(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Um(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ym=null;function qT(){var i=window.event;return i&&i.type==="popstate"?i===Ym?!1:(Ym=i,!0):(Ym=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,$T=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(i){return $v.resolve(null).then(i).catch(XT)}:Gv;function XT(i){setTimeout(function(){throw i})}function ua(i){return i==="head"}function Xv(i,r){var l=r,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(p),uo(r);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Dl(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Dl(l);for(var y=l.firstChild;y;){var _=y.nextSibling,M=y.nodeName;y[vn]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=_}}else l==="body"&&Dl(i.ownerDocument.body);l=p}while(l);uo(r)}function Kv(i,r){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Wm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wm(l),Cr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function KT(i,r,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[vn])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ln(i.nextSibling),i===null)break}return null}function ZT(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ln(i.nextSibling),i===null))return null;return i}function Zv(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ln(i.nextSibling),i===null))return null;return i}function Im(i){return i.data==="$?"||i.data==="$~"}function qm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function QT(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ln(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Gm=null;function Qv(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return ln(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function Jv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function e1(i,r,l){switch(r=$u(l),i){case"html":if(i=r.documentElement,!i)throw Error(n(452));return i;case"head":if(i=r.head,!i)throw Error(n(453));return i;case"body":if(i=r.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Dl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Cr(i)}var cn=new Map,t1=new Set;function Xu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _i=G.d;G.d={f:JT,r:e5,D:t5,C:s5,L:n5,m:i5,X:r5,S:a5,M:o5};function JT(){var i=_i.f(),r=Fu();return i||r}function e5(i){var r=Qs(i);r!==null&&r.tag===5&&r.type==="form"?yb(r):_i.r(i)}var oo=typeof document>"u"?null:document;function s1(i,r,l){var h=oo;if(h&&typeof r=="string"&&r){var p=en(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),t1.has(p)||(t1.add(p),i={rel:i,crossOrigin:l,href:r},h.querySelector(p)===null&&(r=h.createElement("link"),ls(r,"link",i),es(r),h.head.appendChild(r)))}}function t5(i){_i.D(i),s1("dns-prefetch",i,null)}function s5(i,r){_i.C(i,r),s1("preconnect",i,r)}function n5(i,r,l){_i.L(i,r,l);var h=oo;if(h&&i&&r){var p='link[rel="preload"][as="'+en(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+en(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+en(l.imageSizes)+'"]')):p+='[href="'+en(i)+'"]';var y=p;switch(r){case"style":y=lo(i);break;case"script":y=co(i)}cn.has(y)||(i=x({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),cn.set(y,i),h.querySelector(p)!==null||r==="style"&&h.querySelector(Cl(y))||r==="script"&&h.querySelector(Al(y))||(r=h.createElement("link"),ls(r,"link",i),es(r),h.head.appendChild(r)))}}function i5(i,r){_i.m(i,r);var l=oo;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+en(h)+'"][href="'+en(i)+'"]',y=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=co(i)}if(!cn.has(y)&&(i=x({rel:"modulepreload",href:i},r),cn.set(y,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Al(y)))return}h=l.createElement("link"),ls(h,"link",i),es(h),l.head.appendChild(h)}}}function a5(i,r,l){_i.S(i,r,l);var h=oo;if(h&&i){var p=qi(h).hoistableStyles,y=lo(i);r=r||"default";var _=p.get(y);if(!_){var M={loading:0,preload:null};if(_=h.querySelector(Cl(y)))M.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},l),(l=cn.get(y))&&$m(i,l);var P=_=h.createElement("link");es(P),ls(P,"link",i),P._p=new Promise(function(W,X){P.onload=W,P.onerror=X}),P.addEventListener("load",function(){M.loading|=1}),P.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Ku(_,r,h)}_={type:"stylesheet",instance:_,count:1,state:M},p.set(y,_)}}}function r5(i,r){_i.X(i,r);var l=oo;if(l&&i){var h=qi(l).hoistableScripts,p=co(i),y=h.get(p);y||(y=l.querySelector(Al(p)),y||(i=x({src:i,async:!0},r),(r=cn.get(p))&&Xm(i,r),y=l.createElement("script"),es(y),ls(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function o5(i,r){_i.M(i,r);var l=oo;if(l&&i){var h=qi(l).hoistableScripts,p=co(i),y=h.get(p);y||(y=l.querySelector(Al(p)),y||(i=x({src:i,async:!0,type:"module"},r),(r=cn.get(p))&&Xm(i,r),y=l.createElement("script"),es(y),ls(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function n1(i,r,l,h){var p=(p=oe.current)?Xu(p):null;if(!p)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=lo(l.href),l=qi(p).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=lo(l.href);var y=qi(p).hoistableStyles,_=y.get(i);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,_),(y=p.querySelector(Cl(i)))&&!y._p&&(_.instance=y,_.state.loading=5),cn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},cn.set(i,l),y||l5(p,i,l,_.state))),r&&h===null)throw Error(n(528,""));return _}if(r&&h!==null)throw Error(n(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(l),l=qi(p).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function lo(i){return'href="'+en(i)+'"'}function Cl(i){return'link[rel="stylesheet"]['+i+"]"}function i1(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function l5(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),ls(r,"link",l),es(r),i.head.appendChild(r))}function co(i){return'[src="'+en(i)+'"]'}function Al(i){return"script[async]"+i}function a1(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+en(l.href)+'"]');if(h)return r.instance=h,es(h),h;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),es(h),ls(h,"style",p),Ku(h,l.precedence,i),r.instance=h;case"stylesheet":p=lo(l.href);var y=i.querySelector(Cl(p));if(y)return r.state.loading|=4,r.instance=y,es(y),y;h=i1(l),(p=cn.get(p))&&$m(h,p),y=(i.ownerDocument||i).createElement("link"),es(y);var _=y;return _._p=new Promise(function(M,P){_.onload=M,_.onerror=P}),ls(y,"link",h),r.state.loading|=4,Ku(y,l.precedence,i),r.instance=y;case"script":return y=co(l.src),(p=i.querySelector(Al(y)))?(r.instance=p,es(p),p):(h=l,(p=cn.get(y))&&(h=x({},l),Xm(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),es(p),ls(p,"link",h),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,Ku(h,l.precedence,i));return r.instance}function Ku(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,y=p,_=0;_<h.length;_++){var M=h[_];if(M.dataset.precedence===r)y=M;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function $m(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Xm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Zu=null;function r1(i,r,l){if(Zu===null){var h=new Map,p=Zu=new Map;p.set(l,h)}else p=Zu,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var y=l[p];if(!(y[vn]||y[me]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=i+_;var M=h.get(_);M?M.push(y):h.set(_,[y])}}return h}function o1(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function c5(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function l1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function u5(i,r,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=lo(h.href),y=r.querySelector(Cl(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Qu.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=y,es(y);return}y=r.ownerDocument||r,h=i1(h),(p=cn.get(p))&&$m(h,p),y=y.createElement("link"),es(y);var _=y;_._p=new Promise(function(M,P){_.onload=M,_.onerror=P}),ls(y,"link",h),l.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Qu.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var Km=0;function d5(i,r){return i.stylesheets&&i.count===0&&ed(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&ed(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&Km===0&&(Km=62500*IT());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ed(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Km?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ju=null;function ed(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ju=new Map,r.forEach(h5,i),Ju=null,Qu.call(i))}function h5(i,r){if(!(r.state.loading&4)){var l=Ju.get(i);if(l)var h=l.get(null);else{l=new Map,Ju.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),h=_)}h&&l.set(null,h)}p=r.instance,_=p.getAttribute("data-precedence"),y=l.get(_)||h,y===h&&l.set(null,p),l.set(_,p),this.count++,h=Qu.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var El={$$typeof:A,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function f5(i,r,l,h,p,y,_,M,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function c1(i,r,l,h,p,y,_,M,P,W,X,ee){return i=new f5(i,r,l,_,P,W,X,ee,M),r=1,y===!0&&(r|=24),y=Bs(3,null,null,r),i.current=y,y.stateNode=i,r=Df(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:r},Of(y),i}function u1(i){return i?(i=Fr,i):Fr}function d1(i,r,l,h,p,y){p=u1(p),h.context===null?h.context=p:h.pendingContext=p,h=Ji(r),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=ea(i,h,r),l!==null&&(Cs(l,i,r),ul(l,i,r))}function h1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Zm(i,r){h1(i,r),(i=i.alternate)&&h1(i,r)}function f1(i){if(i.tag===13||i.tag===31){var r=Ga(i,67108864);r!==null&&Cs(r,i,67108864),Zm(i,67108864)}}function m1(i){if(i.tag===13||i.tag===31){var r=Ys();r=$(r);var l=Ga(i,r);l!==null&&Cs(l,i,r),Zm(i,r)}}var td=!0;function m5(i,r,l,h){var p=F.T;F.T=null;var y=G.p;try{G.p=2,Qm(i,r,l,h)}finally{G.p=y,F.T=p}}function p5(i,r,l,h){var p=F.T;F.T=null;var y=G.p;try{G.p=8,Qm(i,r,l,h)}finally{G.p=y,F.T=p}}function Qm(i,r,l,h){if(td){var p=Jm(h);if(p===null)Bm(i,r,h,sd,l),g1(i,h);else if(x5(p,i,r,l,h))h.stopPropagation();else if(g1(i,h),r&4&&-1<g5.indexOf(i)){for(;p!==null;){var y=Qs(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Zs(y.pendingLanes);if(_!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var P=1<<31-It(_);M.entanglements[1]|=P,_&=~P}Hn(y),(at&6)===0&&(Bu=yt()+500,kl(0))}}break;case 31:case 13:M=Ga(y,2),M!==null&&Cs(M,y,2),Fu(),Zm(y,2)}if(y=Jm(h),y===null&&Bm(i,r,h,sd,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else Bm(i,r,h,null,l)}}function Jm(i){return i=ef(i),ep(i)}var sd=null;function ep(i){if(sd=null,i=ni(i),i!==null){var r=o(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=c(r),i!==null)return i;i=null}else if(l===31){if(i=d(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return sd=i,null}function p1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(On()){case Ve:return 2;case vs:return 8;case _s:case Jn:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var tp=!1,da=null,ha=null,fa=null,Ol=new Map,Rl=new Map,ma=[],g5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g1(i,r){switch(i){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(r.pointerId)}}function Ll(i,r,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},r!==null&&(r=Qs(r),r!==null&&f1(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function x5(i,r,l,h,p){switch(r){case"focusin":return da=Ll(da,i,r,l,h,p),!0;case"dragenter":return ha=Ll(ha,i,r,l,h,p),!0;case"mouseover":return fa=Ll(fa,i,r,l,h,p),!0;case"pointerover":var y=p.pointerId;return Ol.set(y,Ll(Ol.get(y)||null,i,r,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Rl.set(y,Ll(Rl.get(y)||null,i,r,l,h,p)),!0}return!1}function x1(i){var r=ni(i.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){i.blockedOn=r,xe(i.priority,function(){m1(l)});return}}else if(r===31){if(r=d(l),r!==null){i.blockedOn=r,xe(i.priority,function(){m1(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Jm(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Jh=h,l.target.dispatchEvent(h),Jh=null}else return r=Qs(l),r!==null&&f1(r),i.blockedOn=l,!1;r.shift()}return!0}function y1(i,r,l){nd(i)&&l.delete(r)}function y5(){tp=!1,da!==null&&nd(da)&&(da=null),ha!==null&&nd(ha)&&(ha=null),fa!==null&&nd(fa)&&(fa=null),Ol.forEach(y1),Rl.forEach(y1)}function id(i,r){i.blockedOn===r&&(i.blockedOn=null,tp||(tp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,y5)))}var ad=null;function b1(i){ad!==i&&(ad=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ad===i&&(ad=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],p=i[r+2];if(typeof h!="function"){if(ep(h||l)===null)continue;break}var y=Qs(l);y!==null&&(i.splice(r,3),r-=3,Jf(y,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function uo(i){function r(P){return id(P,i)}da!==null&&id(da,i),ha!==null&&id(ha,i),fa!==null&&id(fa,i),Ol.forEach(r),Rl.forEach(r);for(var l=0;l<ma.length;l++){var h=ma[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ma.length&&(l=ma[0],l.blockedOn===null);)x1(l),l.blockedOn===null&&ma.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],y=l[h+1],_=p[Ze]||null;if(typeof y=="function")_||b1(l);else if(_){var M=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[Ze]||null)M=_.formAction;else if(ep(p)!==null)continue}else M=_.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),b1(l)}}}function v1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function sp(i){this._internalRoot=i}rd.prototype.render=sp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(n(409));var l=r.current,h=Ys();d1(l,h,i,r,null,null)},rd.prototype.unmount=sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;d1(i.current,2,null,i,null,null),Fu(),r[Be]=null}};function rd(i){this._internalRoot=i}rd.prototype.unstable_scheduleHydration=function(i){if(i){var r=ce();i={blockedOn:null,target:i,priority:r};for(var l=0;l<ma.length&&r!==0&&r<ma[l].priority;l++);ma.splice(l,0,i),l===0&&x1(i)}};var _1=e.version;if(_1!=="19.2.3")throw Error(n(527,_1,"19.2.3"));G.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var b5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{bn=od.inject(b5),Wt=od}catch{}}return Pl.createRoot=function(i,r){if(!a(i))throw Error(n(299));var l=!1,h="",p=Tb,y=Db,_=Cb;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=c1(i,1,!1,null,null,l,h,null,p,y,_,v1),i[Be]=r.current,Pm(i),new sp(r)},Pl.hydrateRoot=function(i,r,l){if(!a(i))throw Error(n(299));var h=!1,p="",y=Tb,_=Db,M=Cb,P=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),r=c1(i,1,!0,r,l??null,h,p,P,y,_,M,v1),r.context=u1(null),l=r.current,h=Ys(),h=$(h),p=Ji(h),p.callback=null,ea(l,p,h),l=h,r.current.lanes=l,pe(r,l),Hn(r),i[Be]=r.current,Pm(i),new rd(r)},Pl.version="19.2.3",Pl}var A1;function A5(){if(A1)return ap.exports;A1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ap.exports=C5(),ap.exports}var E5=A5();const O5=Iw(E5);var $w=Gw();function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},xc.apply(this,arguments)}var va;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(va||(va={}));const E1="popstate";function R5(t){t===void 0&&(t={});function e(n,a){let{pathname:o,search:c,hash:d}=n.location;return Zp("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:Wd(a)}return z5(e,s,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L5(){return Math.random().toString(36).substr(2,8)}function O1(t,e){return{usr:t.state,key:t.key,idx:e}}function Zp(t,e,s,n){return s===void 0&&(s=null),xc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zo(e):e,{state:s,key:e&&e.key||n||L5()})}function Wd(t){let{pathname:e="/",search:s="",hash:n=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function zo(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function z5(t,e,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,c=a.history,d=va.Pop,f=null,m=g();m==null&&(m=0,c.replaceState(xc({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function x(){d=va.Pop;let j=g(),T=j==null?null:j-m;m=j,f&&f({action:d,location:S.location,delta:T})}function b(j,T){d=va.Push;let k=Zp(S.location,j,T);m=g()+1;let A=O1(k,m),C=S.createHref(k);try{c.pushState(A,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(C)}o&&f&&f({action:d,location:S.location,delta:1})}function v(j,T){d=va.Replace;let k=Zp(S.location,j,T);m=g();let A=O1(k,m),C=S.createHref(k);c.replaceState(A,"",C),o&&f&&f({action:d,location:S.location,delta:0})}function w(j){let T=a.location.origin!=="null"?a.location.origin:a.location.href,k=typeof j=="string"?j:Wd(j);return k=k.replace(/ $/,"%20"),zt(T,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,T)}let S={get action(){return d},get location(){return t(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(E1,x),f=j,()=>{a.removeEventListener(E1,x),f=null}},createHref(j){return e(a,j)},createURL:w,encodeLocation(j){let T=w(j);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:v,go(j){return c.go(j)}};return S}var R1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R1||(R1={}));function P5(t,e,s){return s===void 0&&(s="/"),B5(t,e,s)}function B5(t,e,s,n){let a=typeof e=="string"?zo(e):e,o=Do(a.pathname||"/",s);if(o==null)return null;let c=Xw(t);V5(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=K5(o);d=$5(c[f],m)}return d}function Xw(t,e,s,n){e===void 0&&(e=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(o,c,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(zt(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let m=Ta([n,f.relativePath]),g=s.concat(f);o.children&&o.children.length>0&&(zt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Xw(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:q5(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let f of Kw(o.path))a(o,c,f)}),e}function Kw(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let c=Kw(n.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function V5(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:G5(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const F5=/^:[\w-]+$/,H5=3,U5=2,Y5=1,W5=10,I5=-2,L1=t=>t==="*";function q5(t,e){let s=t.split("/"),n=s.length;return s.some(L1)&&(n+=I5),e&&(n+=U5),s.filter(a=>!L1(a)).reduce((a,o)=>a+(F5.test(o)?H5:o===""?Y5:W5),n)}function G5(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function $5(t,e,s){let{routesMeta:n}=t,a={},o="/",c=[];for(let d=0;d<n.length;++d){let f=n[d],m=d===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=Qp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:Ta([o,x.pathname]),pathnameBase:tD(Ta([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=Ta([o,x.pathnameBase]))}return c}function Qp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=X5(t.path,t.caseSensitive,t.end),a=e.match(s);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((m,g,x)=>{let{paramName:b,isOptional:v}=g;if(b==="*"){let S=d[x]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[x];return v&&!w?m[b]=void 0:m[b]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function X5(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),Kg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function K5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Do(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}const Z5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q5=t=>Z5.test(t);function J5(t,e){e===void 0&&(e="/");let{pathname:s,search:n="",hash:a=""}=typeof t=="string"?zo(t):t,o;if(s)if(Q5(s))o=s;else{if(s.includes("//")){let c=s;s=s.replace(/\/\/+/g,"/"),Kg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+s))}s.startsWith("/")?o=z1(s.substring(1),"/"):o=z1(s,e)}else o=e;return{pathname:o,search:sD(n),hash:nD(a)}}function z1(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function cp(t,e,s,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eD(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Zw(t,e){let s=eD(t);return e?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Qw(t,e,s,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=zo(t):(a=xc({},t),zt(!a.pathname||!a.pathname.includes("?"),cp("?","pathname","search",a)),zt(!a.pathname||!a.pathname.includes("#"),cp("#","pathname","hash",a)),zt(!a.search||!a.search.includes("#"),cp("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=s;else{let x=e.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}d=x>=0?e[x]:"/"}let f=J5(a,d),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const Ta=t=>t.join("/").replace(/\/\/+/g,"/"),tD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jw=["post","put","patch","delete"];new Set(Jw);const aD=["get",...Jw];new Set(aD);function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},yc.apply(this,arguments)}const xh=N.createContext(null),eS=N.createContext(null),za=N.createContext(null),yh=N.createContext(null),kr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),tS=N.createContext(null);function rD(t,e){let{relative:s}=e===void 0?{}:e;zc()||zt(!1);let{basename:n,navigator:a}=N.useContext(za),{hash:o,pathname:c,search:d}=bh(t,{relative:s}),f=c;return n!=="/"&&(f=c==="/"?n:Ta([n,c])),a.createHref({pathname:f,search:d,hash:o})}function zc(){return N.useContext(yh)!=null}function Po(){return zc()||zt(!1),N.useContext(yh).location}function sS(t){N.useContext(za).static||N.useLayoutEffect(t)}function oD(){let{isDataRoute:t}=N.useContext(kr);return t?vD():lD()}function lD(){zc()||zt(!1);let t=N.useContext(xh),{basename:e,future:s,navigator:n}=N.useContext(za),{matches:a}=N.useContext(kr),{pathname:o}=Po(),c=JSON.stringify(Zw(a,s.v7_relativeSplatPath)),d=N.useRef(!1);return sS(()=>{d.current=!0}),N.useCallback(function(m,g){if(g===void 0&&(g={}),!d.current)return;if(typeof m=="number"){n.go(m);return}let x=Qw(m,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ta([e,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[e,n,c,o,t])}function bh(t,e){let{relative:s}=e===void 0?{}:e,{future:n}=N.useContext(za),{matches:a}=N.useContext(kr),{pathname:o}=Po(),c=JSON.stringify(Zw(a,n.v7_relativeSplatPath));return N.useMemo(()=>Qw(t,JSON.parse(c),o,s==="path"),[t,c,o,s])}function cD(t,e){return uD(t,e)}function uD(t,e,s,n){zc()||zt(!1);let{navigator:a}=N.useContext(za),{matches:o}=N.useContext(kr),c=o[o.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=Po(),g;if(e){var x;let j=typeof e=="string"?zo(e):e;f==="/"||(x=j.pathname)!=null&&x.startsWith(f)||zt(!1),g=j}else g=m;let b=g.pathname||"/",v=b;if(f!=="/"){let j=f.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=P5(t,{pathname:v}),S=pD(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Ta([f,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:Ta([f,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,s,n);return e&&S?N.createElement(yh.Provider,{value:{location:yc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:va.Pop}},S):S}function dD(){let t=bD(),e=iD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),s?N.createElement("pre",{style:a},s):null,null)}const hD=N.createElement(dD,null);class fD extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?N.createElement(kr.Provider,{value:this.props.routeContext},N.createElement(tS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mD(t){let{routeContext:e,match:s,children:n}=t,a=N.useContext(xh);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(kr.Provider,{value:e},n)}function pD(t,e,s,n){var a;if(e===void 0&&(e=[]),s===void 0&&(s=null),n===void 0&&(n=null),t==null){var o;if(!s)return null;if(s.errors)t=s.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let c=t,d=(a=s)==null?void 0:a.errors;if(d!=null){let g=c.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);g>=0||zt(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(s&&n&&n.v7_partialHydration)for(let g=0;g<c.length;g++){let x=c[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=g),x.route.id){let{loaderData:b,errors:v}=s,w=x.route.loader&&b[x.route.id]===void 0&&(!v||v[x.route.id]===void 0);if(x.route.lazy||w){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,x,b)=>{let v,w=!1,S=null,j=null;s&&(v=d&&x.route.id?d[x.route.id]:void 0,S=x.route.errorElement||hD,f&&(m<0&&b===0?(_D("route-fallback"),w=!0,j=null):m===b&&(w=!0,j=x.route.hydrateFallbackElement||null)));let T=e.concat(c.slice(0,b+1)),k=()=>{let A;return v?A=S:w?A=j:x.route.Component?A=N.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=g,N.createElement(mD,{match:x,routeContext:{outlet:g,matches:T,isDataRoute:s!=null},children:A})};return s&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?N.createElement(fD,{location:s.location,revalidation:s.revalidation,component:S,error:v,children:k(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):k()},null)}var nS=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(nS||{}),iS=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(iS||{});function gD(t){let e=N.useContext(xh);return e||zt(!1),e}function xD(t){let e=N.useContext(eS);return e||zt(!1),e}function yD(t){let e=N.useContext(kr);return e||zt(!1),e}function aS(t){let e=yD(),s=e.matches[e.matches.length-1];return s.route.id||zt(!1),s.route.id}function bD(){var t;let e=N.useContext(tS),s=xD(),n=aS();return e!==void 0?e:(t=s.errors)==null?void 0:t[n]}function vD(){let{router:t}=gD(nS.UseNavigateStable),e=aS(iS.UseNavigateStable),s=N.useRef(!1);return sS(()=>{s.current=!0}),N.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,yc({fromRouteId:e},o)))},[t,e])}const P1={};function _D(t,e,s){P1[t]||(P1[t]=!0)}function wD(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function hr(t){zt(!1)}function SD(t){let{basename:e="/",children:s=null,location:n,navigationType:a=va.Pop,navigator:o,static:c=!1,future:d}=t;zc()&&zt(!1);let f=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:f,navigator:o,static:c,future:yc({v7_relativeSplatPath:!1},d)}),[f,d,o,c]);typeof n=="string"&&(n=zo(n));let{pathname:g="/",search:x="",hash:b="",state:v=null,key:w="default"}=n,S=N.useMemo(()=>{let j=Do(g,f);return j==null?null:{location:{pathname:j,search:x,hash:b,state:v,key:w},navigationType:a}},[f,g,x,b,v,w,a]);return S==null?null:N.createElement(za.Provider,{value:m},N.createElement(yh.Provider,{children:s,value:S}))}function jD(t){let{children:e,location:s}=t;return cD(Jp(e),s)}new Promise(()=>{});function Jp(t,e){e===void 0&&(e=[]);let s=[];return N.Children.forEach(t,(n,a)=>{if(!N.isValidElement(n))return;let o=[...e,a];if(n.type===N.Fragment){s.push.apply(s,Jp(n.props.children,o));return}n.type!==hr&&zt(!1),!n.props.index||!n.props.children||zt(!1);let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Jp(n.props.children,o)),s.push(c)}),s}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Id.apply(this,arguments)}function rS(t,e){if(t==null)return{};var s={},n=Object.keys(t),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(s[a]=t[a]);return s}function ND(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kD(t,e){return t.button===0&&(!e||e==="_self")&&!ND(t)}const MD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],DD="6";try{window.__reactRouterVersion=DD}catch{}const CD=N.createContext({isTransitioning:!1}),AD="startTransition",B1=k5[AD];function ED(t){let{basename:e,children:s,future:n,window:a}=t,o=N.useRef();o.current==null&&(o.current=R5({window:a,v5Compat:!0}));let c=o.current,[d,f]=N.useState({action:c.action,location:c.location}),{v7_startTransition:m}=n||{},g=N.useCallback(x=>{m&&B1?B1(()=>f(x)):f(x)},[f,m]);return N.useLayoutEffect(()=>c.listen(g),[c,g]),N.useEffect(()=>wD(n),[n]),N.createElement(SD,{basename:e,children:s,location:d.location,navigationType:d.action,navigator:c,future:n})}const OD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fr=N.forwardRef(function(e,s){let{onClick:n,relative:a,reloadDocument:o,replace:c,state:d,target:f,to:m,preventScrollReset:g,viewTransition:x}=e,b=rS(e,MD),{basename:v}=N.useContext(za),w,S=!1;if(typeof m=="string"&&RD.test(m)&&(w=m,OD))try{let A=new URL(window.location.href),C=m.startsWith("//")?new URL(A.protocol+m):new URL(m),O=Do(C.pathname,v);C.origin===A.origin&&O!=null?m=O+C.search+C.hash:S=!0}catch{}let j=rD(m,{relative:a}),T=PD(m,{replace:c,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:x});function k(A){n&&n(A),A.defaultPrevented||T(A)}return N.createElement("a",Id({},b,{href:w||j,onClick:S||o?n:k,ref:s,target:f}))}),LD=N.forwardRef(function(e,s){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:c=!1,style:d,to:f,viewTransition:m,children:g}=e,x=rS(e,TD),b=bh(f,{relative:x.relative}),v=Po(),w=N.useContext(eS),{navigator:S,basename:j}=N.useContext(za),T=w!=null&&BD(b)&&m===!0,k=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,A=v.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(A=A.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&j&&(C=Do(C,j)||C);const O=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let R=A===k||!c&&A.startsWith(k)&&A.charAt(O)==="/",E=C!=null&&(C===k||!c&&C.startsWith(k)&&C.charAt(k.length)==="/"),z={isActive:R,isPending:E,isTransitioning:T},U=R?n:void 0,K;typeof o=="function"?K=o(z):K=[o,R?"active":null,E?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Z=typeof d=="function"?d(z):d;return N.createElement(fr,Id({},x,{"aria-current":U,className:K,ref:s,style:Z,to:f,viewTransition:m}),typeof g=="function"?g(z):g)});var eg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eg||(eg={}));var V1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V1||(V1={}));function zD(t){let e=N.useContext(xh);return e||zt(!1),e}function PD(t,e){let{target:s,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:d}=e===void 0?{}:e,f=oD(),m=Po(),g=bh(t,{relative:c});return N.useCallback(x=>{if(kD(x,s)){x.preventDefault();let b=n!==void 0?n:Wd(m)===Wd(g);f(t,{replace:b,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[m,f,g,n,a,s,t,o,c,d])}function BD(t,e){e===void 0&&(e={});let s=N.useContext(CD);s==null&&zt(!1);let{basename:n}=zD(eg.useViewTransitionState),a=bh(t,{relative:e.relative});if(!s.isTransitioning)return!1;let o=Do(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=Do(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Qp(a.pathname,c)!=null||Qp(a.pathname,o)!=null}const VD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oS=(...t)=>t.filter((e,s,n)=>!!e&&n.indexOf(e)===s).join(" ");var FD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HD=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:c,...d},f)=>N.createElement("svg",{ref:f,...FD,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:oS("lucide",a),...d},[...c.map(([m,g])=>N.createElement(m,g)),...Array.isArray(o)?o:[o]]));const De=(t,e)=>{const s=N.forwardRef(({className:n,...a},o)=>N.createElement(HD,{ref:o,iconNode:e,className:oS(`lucide-${VD(t)}`,n),...a}));return s.displayName=`${t}`,s};const bc=De("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const Zg=De("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);const Qg=De("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const tg=De("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const lS=De("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const up=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const sg=De("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const cS=De("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const F1=De("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const H1=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const vh=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const U1=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Y1=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const UD=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const uS=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const YD=De("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const W1=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const I1=De("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const WD=De("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);const ng=De("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const dS=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const hS=De("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const ID=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Jg=De("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const qd=De("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const q1=De("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const qD=De("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const ig=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const GD=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const $D=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const XD=De("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const fS=De("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const KD=De("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const ZD=De("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const mS=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const QD=De("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const ex=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ag=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const JD=De("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const pS=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const gS=De("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);const tx=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const G1=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const eC=De("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);const $1=De("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const rg=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const oc=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const og=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Bo=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Oi=De("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function dp(t){return u.jsx("svg",{viewBox:"0 0 741 741",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:u.jsx("path",{d:"m0-71v71h741v-142h-741zm0 882.5v70.5h741v-141h-741zm355.5-782.94c-3.3 0.83-8.48 2.92-11.5 4.62-3.02 1.71-6.85 4.12-8.5 5.36-1.65 1.23-4.89 4.66-7.2 7.6-2.31 2.95-5.52 8.06-7.13 11.36-1.61 3.3-5.03 13.2-7.6 22-2.57 8.8-5.52 18.7-6.55 22-1.03 3.3-4.63 15.9-8.01 28-3.37 12.1-6.97 24.7-7.98 28-1.02 3.3-3.5 11.63-5.51 18.5-2.01 6.88-6.14 19.93-9.18 29-3.04 9.08-8.34 22.35-11.76 29.5-3.43 7.15-8.26 16.15-10.75 20-2.48 3.85-7.22 10.38-10.53 14.5-3.31 4.13-9.12 10.22-12.91 13.55-3.79 3.32-8.69 7.4-10.89 9.06-2.2 1.65-7.6 5.29-12 8.09-4.4 2.79-18.35 10.37-31 16.84-12.65 6.47-25.7 13.66-29 15.97-3.3 2.32-7.61 6.19-9.58 8.6-1.98 2.41-4.74 6.42-6.14 8.89-1.41 2.48-3.38 6.98-4.4 10-1.29 3.85-1.83 8.35-1.81 15 0.03 7.34 0.58 11.09 2.42 16.5 1.39 4.06 4.31 9.5 6.95 12.97 2.51 3.28 7.09 8 10.19 10.5 3.09 2.49 13.44 8.52 23 13.4 9.55 4.88 21.19 10.92 25.87 13.43 4.68 2.51 11.87 6.81 16 9.55 4.12 2.75 10.65 7.55 14.5 10.67 3.85 3.12 9.93 8.82 13.5 12.66 3.57 3.84 9.4 11.22 12.95 16.4 3.55 5.18 8.58 13.7 11.17 18.92 2.59 5.23 5.69 11.98 6.9 15 1.2 3.03 3.67 9.78 5.49 15 1.82 5.23 5.56 16.7 8.31 25.5 2.76 8.8 7.55 24.78 10.65 35.5 3.11 10.73 7.84 26.93 10.51 36 2.68 9.08 6.93 23.81 9.45 32.75 2.51 8.94 5.64 18.39 6.95 21 1.31 2.61 4.09 7 6.19 9.75 2.09 2.75 5.63 6.67 7.87 8.72 2.23 2.04 6.54 5.05 9.56 6.69 3.02 1.64 8.43 3.73 12 4.66 4.88 1.26 8.62 1.53 15 1.06 6.56-0.49 10.1-1.36 15.5-3.85 3.85-1.77 9.25-4.88 12-6.92 2.75-2.03 6.56-5.65 8.47-8.03 1.91-2.38 4.98-7.25 6.82-10.83 1.84-3.57 4.02-8.97 4.84-12 0.82-3.02 2.79-10 4.36-15.5 1.58-5.5 5.36-18.55 8.4-29 3.05-10.45 8.5-29.12 12.12-41.5 3.61-12.37 7.45-25.54 8.53-29.25 1.08-3.71 4.71-14.51 8.07-24 3.36-9.49 8.51-22.2 11.45-28.25 2.93-6.05 7.22-13.92 9.53-17.5 2.3-3.57 6.76-9.65 9.91-13.5 3.15-3.85 8.94-10.04 12.86-13.75 3.93-3.71 10.4-9.04 14.39-11.84 3.99-2.8 11.3-7.48 16.25-10.4 4.95-2.92 17.77-9.76 28.5-15.19 10.73-5.44 21.52-11.27 24-12.96 2.48-1.69 6.71-5.5 9.41-8.47 2.7-2.96 6.38-8.54 8.18-12.39 1.8-3.85 3.75-10.04 4.34-13.75 0.73-4.63 0.76-8.94 0.07-13.75-0.55-3.85-1.92-9.59-3.05-12.75-1.12-3.16-4.05-8.56-6.5-12-2.45-3.44-6.81-8.02-9.7-10.17-2.89-2.16-16.05-9.52-29.25-16.35-13.2-6.84-28.09-15.08-33.1-18.33-5-3.24-11.08-7.21-13.5-8.81-2.42-1.59-8.67-7.22-13.9-12.5-5.23-5.27-12.25-13.64-15.6-18.59-3.36-4.95-8.02-12.6-10.35-17-2.34-4.4-5.36-10.7-6.71-14-1.36-3.3-4.63-11.85-7.28-19-2.66-7.15-6.72-19.75-9.03-28-2.32-8.25-5.29-18.37-6.6-22.5-1.31-4.12-5.28-17.62-8.81-30-3.53-12.37-8.1-28.12-10.15-35-2.06-6.87-4.52-15.42-5.48-19-0.96-3.57-3.15-9.87-4.87-14-1.72-4.12-5.34-10.42-8.03-14-3.25-4.3-7.22-8.01-11.75-10.97-3.76-2.46-9.32-5.31-12.34-6.33-3.02-1.03-9.1-2.04-13.5-2.26-5.13-0.26-10.16 0.14-14 1.12z"})})}async function Me(t,e="GET",s){const n=t.startsWith("/")?t.slice(1):t,a={method:e,headers:{Accept:"application/json","Content-Type":"application/json"}};s&&(e==="POST"||e==="DELETE")&&(a.body=JSON.stringify(s));const o=await fetch(n,a);if(!o.ok)throw new Error(`${t} -> ${o.status}`);return o.json()}const ge={schedule:()=>Me("/api/schedule"),scheduleTodayWithHistory:()=>Me("/api/schedule/today_with_history"),status:()=>Me("/api/status"),health:()=>Me("/api/health"),version:()=>Me("/api/version"),horizon:()=>Me("/api/forecast/horizon"),config:()=>Me("/api/config"),configSave:t=>Me("/api/config/save","POST",t),configReset:()=>Me("/api/config/reset","POST"),setTheme:t=>Me("/api/theme","POST",t),haAverage:()=>Me("/api/ha/average"),haWaterToday:()=>Me("/api/ha/water_today"),haTest:t=>Me("/api/ha/test","POST",t),haEntities:()=>Me("/api/ha/entities"),haServices:()=>Me("/api/ha/services"),haEntityState:t=>Me(`/api/ha/entity/${t}`),learningStatus:()=>Me("/api/learning/status"),learningHistory:()=>Me("/api/learning/history"),learningDailyMetrics:()=>Me("/api/learning/daily_metrics"),learningRun:()=>Me("/api/learning/run","POST"),learningLoops:()=>Me("/api/learning/loops"),theme:()=>Me("/api/themes"),runPlanner:()=>Me("/api/run_planner","POST"),loadServerPlan:()=>Me("/api/db/current_schedule"),pushToDb:()=>Me("/api/db/push_current","POST"),resetToOptimal:()=>Me("/api/schedule/save","POST"),simulate:async t=>{const e=await fetch("api/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Simulation failed");return e.json()},getAdvice:async()=>{const t=await fetch("api/analyst/advice");if(!t.ok)throw new Error("Failed to fetch advice");return t.json()},analystRun:()=>Me("/api/analyst/run"),debug:()=>Me("/api/debug"),debugLogs:()=>Me("/api/debug/logs"),historySoc:(t="today")=>Me(`/api/history/soc?date=${t}`),forecastEval:()=>Me("/api/forecast/eval"),forecastDay:t=>Me(t?`/api/forecast/day?date=${t}`:"/api/forecast/day"),forecastRunEval:(t=7)=>Me("/api/forecast/run_eval","POST",{days_back:t}),forecastRunForward:(t=48)=>Me("/api/forecast/run_forward","POST",{horizon_hours:t}),schedulerStatus:()=>Me("/api/scheduler/status"),aurora:{dashboard:()=>Me("/api/aurora/dashboard"),briefing:t=>Me("/api/aurora/briefing","POST",t),toggleReflex:t=>Me("/api/aurora/config/toggle_reflex","POST",{enabled:t})},performanceData:(t=7)=>Me(`/api/performance/data?days=${t}`),executor:{status:()=>Me("/api/executor/status"),run:()=>Me("/api/executor/run","POST"),pause:()=>Me("/api/executor/pause","POST"),resume:()=>Me("/api/executor/resume","POST"),quickAction:{get:()=>Me("/api/executor/quick-action"),set:(t,e)=>Me("/api/executor/quick-action","POST",{type:t,duration_minutes:e}),clear:()=>Me("/api/executor/quick-action","DELETE")}},waterBoost:{status:()=>Me("/api/water/boost"),start:t=>Me("/api/water/boost","POST",{duration_minutes:t}),cancel:()=>Me("/api/water/boost","DELETE")},energyToday:()=>Me("/api/energy/today")},hp={socValue:t=>t.current_soc?.value,pvDays:t=>t.pv_forecast_days??t.pv_days_schedule??null,wxDays:t=>t.weather_forecast_days??null};function xS(){const[t,e]=N.useState("dark"),[s,n]=N.useState(!0),a=f=>f==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":f,o=f=>{const m=document.documentElement;f==="dark"?m.classList.add("dark"):m.classList.remove("dark")};N.useEffect(()=>{(async()=>{try{const g=(await ge.config())?.ui?.theme_mode;if(g&&["light","dark","system"].includes(g))e(g),o(a(g));else{const x=localStorage.getItem("darkstar-theme");x&&["light","dark","system"].includes(x)?(e(x),o(a(x))):(e("dark"),o("dark"))}}catch{const g=localStorage.getItem("darkstar-theme")||"dark";e(g),o(a(g))}finally{n(!1)}})()},[]),N.useEffect(()=>{if(t!=="system")return;const f=window.matchMedia("(prefers-color-scheme: dark)"),m=g=>{o(g.matches?"dark":"light")};return f.addEventListener("change",m),()=>f.removeEventListener("change",m)},[t]);const c=async()=>{const f=t==="dark"?"light":"dark";e(f),o(f),localStorage.setItem("darkstar-theme",f);try{await ge.configSave({ui:{theme_mode:f}})}catch(m){console.warn("[ThemeToggle] Failed to save theme to backend:",m)}};if(s)return u.jsx("div",{className:"h-12 w-12 rounded-2xl border border-line/70 bg-surface/80 flex items-center justify-center",children:u.jsx("div",{className:"h-5 w-5 rounded-full bg-muted/30 animate-pulse"})});const d=a(t);return u.jsxs("button",{type:"button",onClick:c,className:"group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface/80 hover:bg-surface2 transition",title:`Switch to ${d==="dark"?"light":"dark"} mode`,children:[d==="dark"?u.jsx(tx,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}):u.jsx($D,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}),u.jsx("span",{className:"absolute -right-2 top-1 rounded-full bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:d==="dark"?"Light mode":"Dark mode"})]})}const Bl=({to:t,icon:e,label:s,onClick:n})=>{const a="group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface/80 hover:bg-surface2 transition",o="ring-2 ring-accent/50",c=u.jsxs(u.Fragment,{children:[u.jsx(e,{className:"h-5 w-5 text-muted group-hover:text-text"}),u.jsx("span",{className:"absolute -right-2 top-1 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:s})]});return t?u.jsx(LD,{to:t,className:({isActive:d})=>`${a} ${d?o:""}`,title:s,children:c}):u.jsx("button",{onClick:n,className:a,title:s,children:c})};function tC(){const{pathname:t}=Po(),[e,s]=N.useState(!1),[n,a]=N.useState(null),[o,c]=N.useState("...");N.useEffect(()=>{const f=async()=>{try{await ge.status(),a(!0)}catch{a(!1)}};f();const m=setInterval(f,3e4);return()=>clearInterval(m)},[]),N.useEffect(()=>{ge.version().then(f=>c(f.version||"dev")).catch(()=>c("dev"))},[]);const d=()=>s(!1);return u.jsxs(u.Fragment,{children:[u.jsx("aside",{className:"hidden lg:block fixed left-6 top-6 bottom-6 z-50",children:u.jsxs("div",{className:"h-full w-16 rounded-2xl bg-surface shadow-float border border-line/60 flex flex-col items-center gap-3 p-2",children:[u.jsxs(fr,{to:"/",className:"mt-1 mb-1 flex items-center justify-center group relative",children:[u.jsx("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-surface2 border border-line/60 overflow-hidden",children:u.jsx(dp,{className:"h-8 w-8 text-accent"})}),u.jsxs("span",{className:"absolute left-14 top-1/2 -translate-y-1/2 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-50 pointer-events-none",children:["darkstar v",o]})]}),u.jsx(Bl,{to:"/",icon:qd,label:"Dash"}),u.jsx(Bl,{to:"/executor",icon:ng,label:"Executor"}),u.jsx(Bl,{to:"/aurora",icon:sg,label:"Aurora"}),u.jsx(Bl,{to:"/debug",icon:F1,label:"Debug"}),u.jsx("div",{className:"mt-auto w-8 h-px bg-line/70"}),u.jsxs("div",{className:"py-2 flex flex-col items-center gap-2",children:[u.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-all duration-500 ${n===!0?"bg-good shadow-[0_0_8px_rgba(31,178,86,0.5)]":n===!1?"bg-bad":"bg-slate-700"}`,title:n===!0?"System Online":n===!1?"System Offline":"Connecting..."}),u.jsxs("span",{className:"text-[10px] text-muted/30 font-mono select-none tracking-widest whitespace-nowrap opacity-50 hover:opacity-100 transition",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:["darkstar v",o]})]}),u.jsx(xS,{}),u.jsx(Bl,{to:"/settings",icon:ag,label:"Settings"})]})}),u.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-surface/95 border-b border-line/60 flex items-center justify-between px-4 py-2",children:[u.jsx("button",{type:"button","aria-label":"Open navigation",className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-line/70 bg-surface2 text-muted hover:border-accent hover:text-accent",onClick:()=>s(!0),children:u.jsx(GD,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[u.jsx(dp,{className:"h-5 w-5 text-accent"}),u.jsxs("span",{className:"font-mono",children:["v",o]})]}),u.jsx("div",{className:"w-10"})]}),e&&u.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 bg-[rgba(4,6,10,0.92)] backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-line/60",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-surface2 border border-line/60",children:u.jsx(dp,{className:"h-5 w-5 text-accent"})}),u.jsxs("span",{className:"text-muted font-mono",children:["darkstar v",o]})]}),u.jsx("button",{type:"button","aria-label":"Close navigation",className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-line/70 bg-surface text-muted hover:border-accent hover:text-accent",onClick:d,children:u.jsx(Bo,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3",onClick:d,children:[u.jsxs(fr,{to:"/",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(qd,{className:`h-6 w-6 ${t==="/"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Dash"})]}),u.jsxs(fr,{to:"/executor",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/executor"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(ng,{className:`h-6 w-6 ${t==="/executor"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Executor"})]}),u.jsxs(fr,{to:"/aurora",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/aurora"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(sg,{className:`h-6 w-6 ${t==="/aurora"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Aurora"})]}),u.jsxs(fr,{to:"/debug",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/debug"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(F1,{className:`h-6 w-6 ${t==="/debug"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Debug"})]}),u.jsxs(fr,{to:"/settings",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/settings"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(ag,{className:`h-6 w-6 ${t==="/settings"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Settings"})]})]})]})]})}class sC extends N.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("[ErrorBoundary] Caught error:",e),console.error("[ErrorBoundary] Component stack:",s.componentStack)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-md w-full bg-surface border border-line rounded-2xl p-8 shadow-float text-center",children:[u.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center",children:u.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h1",{className:"text-lg font-semibold text-text mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-sm text-muted mb-4",children:"The application encountered an unexpected error."}),this.state.error&&u.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:u.jsx("code",{className:"text-xs text-red-400 break-all",children:this.state.error.message})}),u.jsx("button",{onClick:this.handleReload,className:"px-6 py-2.5 rounded-full bg-accent text-canvas font-medium text-sm hover:bg-accent2 transition-colors",children:"Reload Page"}),u.jsx("p",{className:"mt-4 text-xs text-muted/60",children:"If this keeps happening, check the browser console for details."})]})}):this.props.children}}const nC={card:"rounded-xl2 bg-surface shadow-float border border-line/60"};function Ee({children:t,className:e=""}){return u.jsx("div",{className:`${nC.card} ${e}`,children:t})}function Pc(t){return t+.5|0}const _a=(t,e,s)=>Math.max(Math.min(t,s),e);function Ql(t){return _a(Pc(t*2.55),0,255)}function Da(t){return _a(Pc(t*255),0,255)}function Mi(t){return _a(Pc(t/2.55)/100,0,1)}function X1(t){return _a(Pc(t*100),0,100)}const un={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lg=[..."0123456789ABCDEF"],iC=t=>lg[t&15],aC=t=>lg[(t&240)>>4]+lg[t&15],ld=t=>(t&240)>>4===(t&15),rC=t=>ld(t.r)&&ld(t.g)&&ld(t.b)&&ld(t.a);function oC(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&un[t[1]]*17,g:255&un[t[2]]*17,b:255&un[t[3]]*17,a:e===5?un[t[4]]*17:255}:(e===7||e===9)&&(s={r:un[t[1]]<<4|un[t[2]],g:un[t[3]]<<4|un[t[4]],b:un[t[5]]<<4|un[t[6]],a:e===9?un[t[7]]<<4|un[t[8]]:255})),s}const lC=(t,e)=>t<255?e(t):"";function cC(t){var e=rC(t)?iC:aC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+lC(t.a,e):void 0}const uC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yS(t,e,s){const n=e*Math.min(s,1-s),a=(o,c=(o+t/30)%12)=>s-n*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function dC(t,e,s){const n=(a,o=(a+t/60)%6)=>s-s*e*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function hC(t,e,s){const n=yS(t,1,.5);let a;for(e+s>1&&(a=1/(e+s),e*=a,s*=a),a=0;a<3;a++)n[a]*=1-e-s,n[a]+=e;return n}function fC(t,e,s,n,a){return t===a?(e-s)/n+(e<s?6:0):e===a?(s-t)/n+2:(t-e)/n+4}function sx(t){const s=t.r/255,n=t.g/255,a=t.b/255,o=Math.max(s,n,a),c=Math.min(s,n,a),d=(o+c)/2;let f,m,g;return o!==c&&(g=o-c,m=d>.5?g/(2-o-c):g/(o+c),f=fC(s,n,a,g,o),f=f*60+.5),[f|0,m||0,d]}function nx(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(Da)}function ix(t,e,s){return nx(yS,t,e,s)}function mC(t,e,s){return nx(hC,t,e,s)}function pC(t,e,s){return nx(dC,t,e,s)}function bS(t){return(t%360+360)%360}function gC(t){const e=uC.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Ql(+e[5]):Da(+e[5]));const a=bS(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?n=mC(a,o,c):e[1]==="hsv"?n=pC(a,o,c):n=ix(a,o,c),{r:n[0],g:n[1],b:n[2],a:s}}function xC(t,e){var s=sx(t);s[0]=bS(s[0]+e),s=ix(s),t.r=s[0],t.g=s[1],t.b=s[2]}function yC(t){if(!t)return;const e=sx(t),s=e[0],n=X1(e[1]),a=X1(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${a}%, ${Mi(t.a)})`:`hsl(${s}, ${n}%, ${a}%)`}const K1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Z1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function bC(){const t={},e=Object.keys(Z1),s=Object.keys(K1);let n,a,o,c,d;for(n=0;n<e.length;n++){for(c=d=e[n],a=0;a<s.length;a++)o=s[a],d=d.replace(o,K1[o]);o=parseInt(Z1[c],16),t[d]=[o>>16&255,o>>8&255,o&255]}return t}let cd;function vC(t){cd||(cd=bC(),cd.transparent=[0,0,0,0]);const e=cd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const _C=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wC(t){const e=_C.exec(t);let s=255,n,a,o;if(e){if(e[7]!==n){const c=+e[7];s=e[8]?Ql(c):_a(c*255,0,255)}return n=+e[1],a=+e[3],o=+e[5],n=255&(e[2]?Ql(n):_a(n,0,255)),a=255&(e[4]?Ql(a):_a(a,0,255)),o=255&(e[6]?Ql(o):_a(o,0,255)),{r:n,g:a,b:o,a:s}}}function SC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Mi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const fp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ho=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function jC(t,e,s){const n=ho(Mi(t.r)),a=ho(Mi(t.g)),o=ho(Mi(t.b));return{r:Da(fp(n+s*(ho(Mi(e.r))-n))),g:Da(fp(a+s*(ho(Mi(e.g))-a))),b:Da(fp(o+s*(ho(Mi(e.b))-o))),a:t.a+s*(e.a-t.a)}}function ud(t,e,s){if(t){let n=sx(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=ix(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function vS(t,e){return t&&Object.assign(e||{},t)}function Q1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Da(t[3]))):(e=vS(t,{r:0,g:0,b:0,a:1}),e.a=Da(e.a)),e}function NC(t){return t.charAt(0)==="r"?wC(t):gC(t)}class vc{constructor(e){if(e instanceof vc)return e;const s=typeof e;let n;s==="object"?n=Q1(e):s==="string"&&(n=oC(e)||vC(e)||NC(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=vS(this._rgb);return e&&(e.a=Mi(e.a)),e}set rgb(e){this._rgb=Q1(e)}rgbString(){return this._valid?SC(this._rgb):void 0}hexString(){return this._valid?cC(this._rgb):void 0}hslString(){return this._valid?yC(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,a=e.rgb;let o;const c=s===o?.5:s,d=2*c-1,f=n.a-a.a,m=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;o=1-m,n.r=255&m*n.r+o*a.r+.5,n.g=255&m*n.g+o*a.g+.5,n.b=255&m*n.b+o*a.b+.5,n.a=c*n.a+(1-c)*a.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=jC(this._rgb,e._rgb,s)),this}clone(){return new vc(this.rgb)}alpha(e){return this._rgb.a=Da(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Pc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ud(this._rgb,2,e),this}darken(e){return ud(this._rgb,2,-e),this}saturate(e){return ud(this._rgb,1,e),this}desaturate(e){return ud(this._rgb,1,-e),this}rotate(e){return xC(this._rgb,e),this}}function wi(){}const kC=(()=>{let t=0;return()=>t++})();function Ue(t){return t==null}function Tt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Lt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ws(t,e){return Lt(t)?t:e}function Oe(t,e){return typeof t>"u"?e:t}const MC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,_S=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function gt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function ct(t,e,s,n){let a,o,c;if(Tt(t))for(o=t.length,a=0;a<o;a++)e.call(s,t[a],a);else if(qe(t))for(c=Object.keys(t),o=c.length,a=0;a<o;a++)e.call(s,t[c[a]],c[a])}function Gd(t,e){let s,n,a,o;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(a=t[s],o=e[s],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function $d(t){if(Tt(t))return t.map($d);if(qe(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let a=0;for(;a<n;++a)e[s[a]]=$d(t[s[a]]);return e}return t}function wS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function TC(t,e,s,n){if(!wS(t))return;const a=e[t],o=s[t];qe(a)&&qe(o)?_c(a,o,n):e[t]=$d(o)}function _c(t,e,s){const n=Tt(e)?e:[e],a=n.length;if(!qe(t))return t;s=s||{};const o=s.merger||TC;let c;for(let d=0;d<a;++d){if(c=n[d],!qe(c))continue;const f=Object.keys(c);for(let m=0,g=f.length;m<g;++m)o(f[m],t,c,s)}return t}function lc(t,e){return _c(t,e,{merger:DC})}function DC(t,e,s){if(!wS(t))return;const n=e[t],a=s[t];qe(n)&&qe(a)?lc(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=$d(a))}const J1={"":t=>t,x:t=>t.x,y:t=>t.y};function CC(t){const e=t.split("."),s=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function AC(t){const e=CC(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function Ea(t,e){return(J1[e]||(J1[e]=AC(e)))(t)}function ax(t){return t.charAt(0).toUpperCase()+t.slice(1)}const wc=t=>typeof t<"u",Oa=t=>typeof t=="function",e_=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function EC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const tt=Math.PI,_t=2*tt,OC=_t+tt,Xd=Number.POSITIVE_INFINITY,RC=tt/180,Ut=tt/2,rr=tt/4,t_=tt*2/3,wa=Math.log10,In=Math.sign;function cc(t,e,s){return Math.abs(t-e)<s}function s_(t){const e=Math.round(t);t=cc(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(wa(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function LC(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((a,o)=>a-o).pop(),e}function zC(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Co(t){return!zC(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function PC(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function SS(t,e,s){let n,a,o;for(n=0,a=t.length;n<a;n++)o=t[n][s],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function kn(t){return t*(tt/180)}function rx(t){return t*(180/tt)}function n_(t){if(!Lt(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function jS(t,e){const s=e.x-t.x,n=e.y-t.y,a=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*tt&&(o+=_t),{angle:o,distance:a}}function cg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function BC(t,e){return(t-e+OC)%_t-tt}function ps(t){return(t%_t+_t)%_t}function Sc(t,e,s,n){const a=ps(t),o=ps(e),c=ps(s),d=ps(o-a),f=ps(c-a),m=ps(a-o),g=ps(a-c);return a===o||a===c||n&&o===c||d>f&&m<g}function ss(t,e,s){return Math.max(e,Math.min(s,t))}function VC(t){return ss(t,-32768,32767)}function Ti(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function ox(t,e,s){s=s||(c=>t[c]<e);let n=t.length-1,a=0,o;for(;n-a>1;)o=a+n>>1,s(o)?a=o:n=o;return{lo:a,hi:n}}const Di=(t,e,s,n)=>ox(t,s,n?a=>{const o=t[a][e];return o<s||o===s&&t[a+1][e]===s}:a=>t[a][e]<s),FC=(t,e,s)=>ox(t,s,n=>t[n][e]>=s);function HC(t,e,s){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>s;)a--;return n>0||a<t.length?t.slice(n,a):t}const NS=["push","pop","shift","splice","unshift"];function UC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),NS.forEach(s=>{const n="_onData"+ax(s),a=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return t._chartjs.listeners.forEach(d=>{typeof d[n]=="function"&&d[n](...o)}),c}})})}function i_(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(NS.forEach(o=>{delete t[o]}),delete t._chartjs)}function kS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const MS=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function TS(t,e){let s=[],n=!1;return function(...a){s=a,n||(n=!0,MS.call(window,()=>{n=!1,t.apply(e,s)}))}}function YC(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const lx=t=>t==="start"?"left":t==="end"?"right":"center",fs=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,WC=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function DS(t,e,s){const n=e.length;let a=0,o=n;if(t._sorted){const{iScale:c,vScale:d,_parsed:f}=t,m=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,g=c.axis,{min:x,max:b,minDefined:v,maxDefined:w}=c.getUserBounds();if(v){if(a=Math.min(Di(f,g,x).lo,s?n:Di(e,g,c.getPixelForValue(x)).lo),m){const S=f.slice(0,a+1).reverse().findIndex(j=>!Ue(j[d.axis]));a-=Math.max(0,S)}a=ss(a,0,n-1)}if(w){let S=Math.max(Di(f,c.axis,b,!0).hi+1,s?0:Di(e,g,c.getPixelForValue(b),!0).hi+1);if(m){const j=f.slice(S-1).findIndex(T=>!Ue(T[d.axis]));S+=Math.max(0,j)}o=ss(S,a,n)-a}else o=n-a}return{start:a,count:o}}function CS(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=a,!0;const o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,a),o}const dd=t=>t===0||t===1,a_=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*_t/s)),r_=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*_t/s)+1,uc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ut)+1,easeOutSine:t=>Math.sin(t*Ut),easeInOutSine:t=>-.5*(Math.cos(tt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>dd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>dd(t)?t:a_(t,.075,.3),easeOutElastic:t=>dd(t)?t:r_(t,.075,.3),easeInOutElastic(t){return dd(t)?t:t<.5?.5*a_(t*2,.1125,.45):.5+.5*r_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-uc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?uc.easeInBounce(t*2)*.5:uc.easeOutBounce(t*2-1)*.5+.5};function cx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function o_(t){return cx(t)?t:new vc(t)}function mp(t){return cx(t)?t:new vc(t).saturate(.5).darken(.1).hexString()}const IC=["x","y","borderWidth","radius","tension"],qC=["color","borderColor","backgroundColor"];function GC(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:qC},numbers:{type:"number",properties:IC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $C(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const l_=new Map;function XC(t,e){e=e||{};const s=t+JSON.stringify(e);let n=l_.get(s);return n||(n=new Intl.NumberFormat(t,e),l_.set(s,n)),n}function Bc(t,e,s){return XC(e,s).format(t)}const AS={values(t){return Tt(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let a,o=t;if(s.length>1){const m=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=KC(t,s)}const c=wa(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),Bc(t,n,f)},logarithmic(t,e,s){if(t===0)return"0";const n=s[e].significand||t/Math.pow(10,Math.floor(wa(t)));return[1,2,3,5,10,15].includes(n)||e>.8*s.length?AS.numeric.call(this,t,e,s):""}};function KC(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var _h={formatters:AS};function ZC(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_h.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const jr=Object.create(null),ug=Object.create(null);function dc(t,e){if(!e)return t;const s=e.split(".");for(let n=0,a=s.length;n<a;++n){const o=s[n];t=t[o]||(t[o]=Object.create(null))}return t}function pp(t,e,s){return typeof e=="string"?_c(dc(t,e),s):_c(dc(t,""),e)}class QC{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>mp(a.backgroundColor),this.hoverBorderColor=(n,a)=>mp(a.borderColor),this.hoverColor=(n,a)=>mp(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return pp(this,e,s)}get(e){return dc(this,e)}describe(e,s){return pp(ug,e,s)}override(e,s){return pp(jr,e,s)}route(e,s,n,a){const o=dc(this,e),c=dc(this,n),d="_"+s;Object.defineProperties(o,{[d]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const f=this[d],m=c[a];return qe(f)?Object.assign({},m,f):Oe(f,m)},set(f){this[d]=f}}})}apply(e){e.forEach(s=>s(this))}}var Dt=new QC({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[GC,$C,ZC]);function JC(t){return!t||Ue(t.size)||Ue(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Kd(t,e,s,n,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,s.push(a)),o>n&&(n=o),n}function eA(t,e,s,n){n=n||{};let a=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},o=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let c=0;const d=s.length;let f,m,g,x,b;for(f=0;f<d;f++)if(x=s[f],x!=null&&!Tt(x))c=Kd(t,a,o,c,x);else if(Tt(x))for(m=0,g=x.length;m<g;m++)b=x[m],b!=null&&!Tt(b)&&(c=Kd(t,a,o,c,b));t.restore();const v=o.length/2;if(v>s.length){for(f=0;f<v;f++)delete a[o[f]];o.splice(0,v)}return c}function or(t,e,s){const n=t.currentDevicePixelRatio,a=s!==0?Math.max(s/2,.5):0;return Math.round((e-a)*n)/n+a}function c_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function dg(t,e,s,n){ES(t,e,s,n,null)}function ES(t,e,s,n,a){let o,c,d,f,m,g,x,b;const v=e.pointStyle,w=e.rotation,S=e.radius;let j=(w||0)*RC;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(j),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:a?t.ellipse(s,n,a/2,S,0,0,_t):t.arc(s,n,S,0,_t),t.closePath();break;case"triangle":g=a?a/2:S,t.moveTo(s+Math.sin(j)*g,n-Math.cos(j)*S),j+=t_,t.lineTo(s+Math.sin(j)*g,n-Math.cos(j)*S),j+=t_,t.lineTo(s+Math.sin(j)*g,n-Math.cos(j)*S),t.closePath();break;case"rectRounded":m=S*.516,f=S-m,c=Math.cos(j+rr)*f,x=Math.cos(j+rr)*(a?a/2-m:f),d=Math.sin(j+rr)*f,b=Math.sin(j+rr)*(a?a/2-m:f),t.arc(s-x,n-d,m,j-tt,j-Ut),t.arc(s+b,n-c,m,j-Ut,j),t.arc(s+x,n+d,m,j,j+Ut),t.arc(s-b,n+c,m,j+Ut,j+tt),t.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*S,g=a?a/2:f,t.rect(s-g,n-f,2*g,2*f);break}j+=rr;case"rectRot":x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,d=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(s-x,n-d),t.lineTo(s+b,n-c),t.lineTo(s+x,n+d),t.lineTo(s-b,n+c),t.closePath();break;case"crossRot":j+=rr;case"cross":x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,d=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(s-x,n-d),t.lineTo(s+x,n+d),t.moveTo(s+b,n-c),t.lineTo(s-b,n+c);break;case"star":x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,d=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(s-x,n-d),t.lineTo(s+x,n+d),t.moveTo(s+b,n-c),t.lineTo(s-b,n+c),j+=rr,x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,d=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(s-x,n-d),t.lineTo(s+x,n+d),t.moveTo(s+b,n-c),t.lineTo(s-b,n+c);break;case"line":c=a?a/2:Math.cos(j)*S,d=Math.sin(j)*S,t.moveTo(s-c,n-d),t.lineTo(s+c,n+d);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(j)*(a?a/2:S),n+Math.sin(j)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ci(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function wh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Sh(t){t.restore()}function tA(t,e,s,n,a){if(!e)return t.lineTo(s.x,s.y);if(a==="middle"){const o=(e.x+s.x)/2;t.lineTo(o,e.y),t.lineTo(o,s.y)}else a==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function sA(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function nA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ue(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function iA(t,e,s,n,a){if(a.strikethrough||a.underline){const o=t.measureText(n),c=e-o.actualBoundingBoxLeft,d=e+o.actualBoundingBoxRight,f=s-o.actualBoundingBoxAscent,m=s+o.actualBoundingBoxDescent,g=a.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(c,g),t.lineTo(d,g),t.stroke()}}function aA(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Nr(t,e,s,n,a,o={}){const c=Tt(e)?e:[e],d=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=a.string,nA(t,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&aA(t,o.backdrop),d&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Ue(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,s,n,o.maxWidth)),t.fillText(m,s,n,o.maxWidth),iA(t,s,n,m,o),n+=Number(a.lineHeight);t.restore()}function jc(t,e){const{x:s,y:n,w:a,h:o,radius:c}=e;t.arc(s+c.topLeft,n+c.topLeft,c.topLeft,1.5*tt,tt,!0),t.lineTo(s,n+o-c.bottomLeft),t.arc(s+c.bottomLeft,n+o-c.bottomLeft,c.bottomLeft,tt,Ut,!0),t.lineTo(s+a-c.bottomRight,n+o),t.arc(s+a-c.bottomRight,n+o-c.bottomRight,c.bottomRight,Ut,0,!0),t.lineTo(s+a,n+c.topRight),t.arc(s+a-c.topRight,n+c.topRight,c.topRight,0,-Ut,!0),t.lineTo(s+c.topLeft,n)}const rA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,oA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lA(t,e){const s=(""+t).match(rA);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const cA=t=>+t||0;function ux(t,e){const s={},n=qe(e),a=n?Object.keys(e):e,o=qe(t)?n?c=>Oe(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of a)s[c]=cA(o(c));return s}function OS(t){return ux(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vr(t){return ux(t,["topLeft","topRight","bottomLeft","bottomRight"])}function bs(t){const e=OS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qt(t,e){t=t||{},e=e||Dt.font;let s=Oe(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Oe(t.style,e.style);n&&!(""+n).match(oA)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Oe(t.family,e.family),lineHeight:lA(Oe(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Oe(t.weight,e.weight),string:""};return a.string=JC(a),a}function Jl(t,e,s,n){let a,o,c;for(a=0,o=t.length;a<o;++a)if(c=t[a],c!==void 0&&c!==void 0)return c}function uA(t,e,s){const{min:n,max:a}=t,o=_S(e,(a-n)/2),c=(d,f)=>s&&d===0?0:d+f;return{min:c(n,-Math.abs(o)),max:c(a,o)}}function Pa(t,e){return Object.assign(Object.create(t),e)}function dx(t,e=[""],s,n,a=()=>t[0]){const o=s||t;typeof n>"u"&&(n=PS("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:n,_getTarget:a,override:d=>dx([d,...t],e,o,n)};return new Proxy(c,{deleteProperty(d,f){return delete d[f],delete d._keys,delete t[0][f],!0},get(d,f){return LS(d,f,()=>yA(f,e,t,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,f){return d_(d).includes(f)},ownKeys(d){return d_(d)},set(d,f,m){const g=d._storage||(d._storage=a());return d[f]=g[f]=m,delete d._keys,!0}})}function Ao(t,e,s,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:RS(t,n),setContext:o=>Ao(t,o,s,n),override:o=>Ao(t.override(o),e,s,n)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,d){return LS(o,c,()=>hA(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,d){return t[c]=d,delete o[c],!0}})}function RS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:s,indexable:n,isScriptable:Oa(s)?s:()=>s,isIndexable:Oa(n)?n:()=>n}}const dA=(t,e)=>t?t+ax(e):e,hx=(t,e)=>qe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function LS(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function hA(t,e,s){const{_proxy:n,_context:a,_subProxy:o,_descriptors:c}=t;let d=n[e];return Oa(d)&&c.isScriptable(e)&&(d=fA(e,d,t,s)),Tt(d)&&d.length&&(d=mA(e,d,t,c.isIndexable)),hx(e,d)&&(d=Ao(d,a,o&&o[e],c)),d}function fA(t,e,s,n){const{_proxy:a,_context:o,_subProxy:c,_stack:d}=s;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let f=e(o,c||n);return d.delete(t),hx(t,f)&&(f=fx(a._scopes,a,t,f)),f}function mA(t,e,s,n){const{_proxy:a,_context:o,_subProxy:c,_descriptors:d}=s;if(typeof o.index<"u"&&n(t))return e[o.index%e.length];if(qe(e[0])){const f=e,m=a._scopes.filter(g=>g!==f);e=[];for(const g of f){const x=fx(m,a,t,g);e.push(Ao(x,o,c&&c[t],d))}}return e}function zS(t,e,s){return Oa(t)?t(e,s):t}const pA=(t,e)=>t===!0?e:typeof t=="string"?Ea(e,t):void 0;function gA(t,e,s,n,a){for(const o of e){const c=pA(s,o);if(c){t.add(c);const d=zS(c._fallback,s,a);if(typeof d<"u"&&d!==s&&d!==n)return d}else if(c===!1&&typeof n<"u"&&s!==n)return null}return!1}function fx(t,e,s,n){const a=e._rootScopes,o=zS(e._fallback,s,n),c=[...t,...a],d=new Set;d.add(n);let f=u_(d,c,s,o||s,n);return f===null||typeof o<"u"&&o!==s&&(f=u_(d,c,o,f,n),f===null)?!1:dx(Array.from(d),[""],a,o,()=>xA(e,s,n))}function u_(t,e,s,n,a){for(;s;)s=gA(t,e,s,n,a);return s}function xA(t,e,s){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Tt(a)&&qe(s)?s:a||{}}function yA(t,e,s,n){let a;for(const o of e)if(a=PS(dA(o,t),s),typeof a<"u")return hx(t,a)?fx(s,n,t,a):a}function PS(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function d_(t){let e=t._keys;return e||(e=t._keys=bA(t._scopes)),e}function bA(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function BS(t,e,s,n){const{iScale:a}=t,{key:o="r"}=this._parsing,c=new Array(n);let d,f,m,g;for(d=0,f=n;d<f;++d)m=d+s,g=e[m],c[d]={r:a.parse(Ea(g,o),m)};return c}const vA=Number.EPSILON||1e-14,Eo=(t,e)=>e<t.length&&!t[e].skip&&t[e],VS=t=>t==="x"?"y":"x";function _A(t,e,s,n){const a=t.skip?e:t,o=e,c=s.skip?e:s,d=cg(o,a),f=cg(c,o);let m=d/(d+f),g=f/(d+f);m=isNaN(m)?0:m,g=isNaN(g)?0:g;const x=n*m,b=n*g;return{previous:{x:o.x-x*(c.x-a.x),y:o.y-x*(c.y-a.y)},next:{x:o.x+b*(c.x-a.x),y:o.y+b*(c.y-a.y)}}}function wA(t,e,s){const n=t.length;let a,o,c,d,f,m=Eo(t,0);for(let g=0;g<n-1;++g)if(f=m,m=Eo(t,g+1),!(!f||!m)){if(cc(e[g],0,vA)){s[g]=s[g+1]=0;continue}a=s[g]/e[g],o=s[g+1]/e[g],d=Math.pow(a,2)+Math.pow(o,2),!(d<=9)&&(c=3/Math.sqrt(d),s[g]=a*c*e[g],s[g+1]=o*c*e[g])}}function SA(t,e,s="x"){const n=VS(s),a=t.length;let o,c,d,f=Eo(t,0);for(let m=0;m<a;++m){if(c=d,d=f,f=Eo(t,m+1),!d)continue;const g=d[s],x=d[n];c&&(o=(g-c[s])/3,d[`cp1${s}`]=g-o,d[`cp1${n}`]=x-o*e[m]),f&&(o=(f[s]-g)/3,d[`cp2${s}`]=g+o,d[`cp2${n}`]=x+o*e[m])}}function jA(t,e="x"){const s=VS(e),n=t.length,a=Array(n).fill(0),o=Array(n);let c,d,f,m=Eo(t,0);for(c=0;c<n;++c)if(d=f,f=m,m=Eo(t,c+1),!!f){if(m){const g=m[e]-f[e];a[c]=g!==0?(m[s]-f[s])/g:0}o[c]=d?m?In(a[c-1])!==In(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}wA(t,a,o),SA(t,o,e)}function hd(t,e,s){return Math.max(Math.min(t,s),e)}function NA(t,e){let s,n,a,o,c,d=Ci(t[0],e);for(s=0,n=t.length;s<n;++s)c=o,o=d,d=s<n-1&&Ci(t[s+1],e),o&&(a=t[s],c&&(a.cp1x=hd(a.cp1x,e.left,e.right),a.cp1y=hd(a.cp1y,e.top,e.bottom)),d&&(a.cp2x=hd(a.cp2x,e.left,e.right),a.cp2y=hd(a.cp2y,e.top,e.bottom)))}function kA(t,e,s,n,a){let o,c,d,f;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")jA(t,a);else{let m=n?t[t.length-1]:t[0];for(o=0,c=t.length;o<c;++o)d=t[o],f=_A(m,d,t[Math.min(o+1,c-(n?0:1))%c],e.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,m=d}e.capBezierPoints&&NA(t,s)}function mx(){return typeof window<"u"&&typeof document<"u"}function px(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Zd(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const jh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function MA(t,e){return jh(t).getPropertyValue(e)}const TA=["top","right","bottom","left"];function _r(t,e,s){const n={};s=s?"-"+s:"";for(let a=0;a<4;a++){const o=TA[a];n[o]=parseFloat(t[e+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const DA=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function CA(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:a,offsetY:o}=n;let c=!1,d,f;if(DA(a,o,t.target))d=a,f=o;else{const m=e.getBoundingClientRect();d=n.clientX-m.left,f=n.clientY-m.top,c=!0}return{x:d,y:f,box:c}}function mr(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,a=jh(s),o=a.boxSizing==="border-box",c=_r(a,"padding"),d=_r(a,"border","width"),{x:f,y:m,box:g}=CA(t,s),x=c.left+(g&&d.left),b=c.top+(g&&d.top);let{width:v,height:w}=e;return o&&(v-=c.width+d.width,w-=c.height+d.height),{x:Math.round((f-x)/v*s.width/n),y:Math.round((m-b)/w*s.height/n)}}function AA(t,e,s){let n,a;if(e===void 0||s===void 0){const o=t&&px(t);if(!o)e=t.clientWidth,s=t.clientHeight;else{const c=o.getBoundingClientRect(),d=jh(o),f=_r(d,"border","width"),m=_r(d,"padding");e=c.width-m.width-f.width,s=c.height-m.height-f.height,n=Zd(d.maxWidth,o,"clientWidth"),a=Zd(d.maxHeight,o,"clientHeight")}}return{width:e,height:s,maxWidth:n||Xd,maxHeight:a||Xd}}const Sa=t=>Math.round(t*10)/10;function EA(t,e,s,n){const a=jh(t),o=_r(a,"margin"),c=Zd(a.maxWidth,t,"clientWidth")||Xd,d=Zd(a.maxHeight,t,"clientHeight")||Xd,f=AA(t,e,s);let{width:m,height:g}=f;if(a.boxSizing==="content-box"){const b=_r(a,"border","width"),v=_r(a,"padding");m-=v.width+b.width,g-=v.height+b.height}return m=Math.max(0,m-o.width),g=Math.max(0,n?m/n:g-o.height),m=Sa(Math.min(m,c,f.maxWidth)),g=Sa(Math.min(g,d,f.maxHeight)),m&&!g&&(g=Sa(m/2)),(e!==void 0||s!==void 0)&&n&&f.height&&g>f.height&&(g=f.height,m=Sa(Math.floor(g*n))),{width:m,height:g}}function h_(t,e,s){const n=e||1,a=Sa(t.height*n),o=Sa(t.width*n);t.height=Sa(t.height),t.width=Sa(t.width);const c=t.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||c.height!==a||c.width!==o?(t.currentDevicePixelRatio=n,c.height=a,c.width=o,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const OA=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};mx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function f_(t,e){const s=MA(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function pr(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function RA(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function LA(t,e,s,n){const a={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},c=pr(t,a,s),d=pr(a,o,s),f=pr(o,e,s),m=pr(c,d,s),g=pr(d,f,s);return pr(m,g,s)}const zA=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},PA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function No(t,e,s){return t?zA(e,s):PA()}function FS(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function HS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function US(t){return t==="angle"?{between:Sc,compare:BC,normalize:ps}:{between:Ti,compare:(e,s)=>e-s,normalize:e=>e}}function m_({start:t,end:e,count:s,loop:n,style:a}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:a}}function BA(t,e,s){const{property:n,start:a,end:o}=s,{between:c,normalize:d}=US(n),f=e.length;let{start:m,end:g,loop:x}=t,b,v;if(x){for(m+=f,g+=f,b=0,v=f;b<v&&c(d(e[m%f][n]),a,o);++b)m--,g--;m%=f,g%=f}return g<m&&(g+=f),{start:m,end:g,loop:x,style:t.style}}function YS(t,e,s){if(!s)return[t];const{property:n,start:a,end:o}=s,c=e.length,{compare:d,between:f,normalize:m}=US(n),{start:g,end:x,loop:b,style:v}=BA(t,e,s),w=[];let S=!1,j=null,T,k,A;const C=()=>f(a,A,T)&&d(a,A)!==0,O=()=>d(o,T)===0||f(o,A,T),R=()=>S||C(),E=()=>!S||O();for(let z=g,U=g;z<=x;++z)k=e[z%c],!k.skip&&(T=m(k[n]),T!==A&&(S=f(T,a,o),j===null&&R()&&(j=d(T,a)===0?z:U),j!==null&&E()&&(w.push(m_({start:j,end:z,loop:b,count:c,style:v})),j=null),U=z,A=T));return j!==null&&w.push(m_({start:j,end:x,loop:b,count:c,style:v})),w}function WS(t,e){const s=[],n=t.segments;for(let a=0;a<n.length;a++){const o=YS(n[a],t.points,e);o.length&&s.push(...o)}return s}function VA(t,e,s,n){let a=0,o=e-1;if(s&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,s&&(o+=a);o>a&&t[o%e].skip;)o--;return o%=e,{start:a,end:o}}function FA(t,e,s,n){const a=t.length,o=[];let c=e,d=t[e],f;for(f=e+1;f<=s;++f){const m=t[f%a];m.skip||m.stop?d.skip||(n=!1,o.push({start:e%a,end:(f-1)%a,loop:n}),e=c=m.stop?f:null):(c=f,d.skip&&(e=f)),d=m}return c!==null&&o.push({start:e%a,end:c%a,loop:n}),o}function HA(t,e){const s=t.points,n=t.options.spanGaps,a=s.length;if(!a)return[];const o=!!t._loop,{start:c,end:d}=VA(s,a,o,n);if(n===!0)return p_(t,[{start:c,end:d,loop:o}],s,e);const f=d<c?d+a:d,m=!!t._fullLoop&&c===0&&d===a-1;return p_(t,FA(s,c,f,m),s,e)}function p_(t,e,s,n){return!n||!n.setContext||!s?e:UA(t,e,s,n)}function UA(t,e,s,n){const a=t._chart.getContext(),o=g_(t.options),{_datasetIndex:c,options:{spanGaps:d}}=t,f=s.length,m=[];let g=o,x=e[0].start,b=x;function v(w,S,j,T){const k=d?-1:1;if(w!==S){for(w+=f;s[w%f].skip;)w-=k;for(;s[S%f].skip;)S+=k;w%f!==S%f&&(m.push({start:w%f,end:S%f,loop:j,style:T}),g=T,x=S%f)}}for(const w of e){x=d?x:w.start;let S=s[x%f],j;for(b=x+1;b<=w.end;b++){const T=s[b%f];j=g_(n.setContext(Pa(a,{type:"segment",p0:S,p1:T,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),YA(j,g)&&v(x,b-1,w.loop,g),S=T,g=j}x<b-1&&v(x,b-1,w.loop,g)}return m}function g_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function YA(t,e){if(!e)return!1;const s=[],n=function(a,o){return cx(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function fd(t,e,s){return t.options.clip?t[s]:e[s]}function WA(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:fd(s,e,"left"),right:fd(s,e,"right"),top:fd(n,e,"top"),bottom:fd(n,e,"bottom")}:e}function IS(t,e){const s=e._clip;if(s.disabled)return!1;const n=WA(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}class IA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,a){const o=s.listeners[a],c=s.duration;o.forEach(d=>d({chart:e,initial:s.initial,numSteps:c,currentStep:Math.min(n-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=MS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const o=n.items;let c=o.length-1,d=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>n.duration&&(n.duration=f._total),f.tick(e),d=!0):(o[c]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,n,e,"progress")),o.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),s+=o.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ji=new IA;const x_="transparent",qA={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=o_(t||x_),a=n.valid&&o_(e||x_);return a&&a.valid?a.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class GA{constructor(e,s,n,a){const o=s[n];a=Jl([e.to,a,o,e.from]);const c=Jl([e.from,o,a]);this._active=!0,this._fn=e.fn||qA[e.type||typeof c],this._easing=uc[e.easing]||uc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const a=this._target[this._prop],o=n-this._start,c=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Jl([e.to,s,a,e.from]),this._from=Jl([e.from,a,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,a=this._prop,o=this._from,c=this._loop,d=this._to;let f;if(this._active=o!==d&&(c||s<n),!this._active){this._target[a]=d,this._notify(!0);return}if(s<0){this._target[a]=o;return}f=s/n%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,d,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][s]()}}class qS{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!qe(e))return;const s=Object.keys(Dt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!qe(o))return;const c={};for(const d of s)c[d]=o[d];(Tt(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!n.has(d))&&n.set(d,c)})})}_animateOptions(e,s){const n=s.options,a=XA(e,n);if(!a)return[];const o=this._createAnimations(a,n);return n.$shared&&$A(e.options.$animations,n).then(()=>{e.options=n},()=>{}),o}_createAnimations(e,s){const n=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(s),d=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,s));continue}const g=s[m];let x=o[m];const b=n.get(m);if(x)if(b&&x.active()){x.update(b,g,d);continue}else x.cancel();if(!b||!b.duration){e[m]=g;continue}o[m]=x=new GA(b,e,m,g),a.push(x)}return a}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return ji.add(this._chart,n),!0}}function $A(t,e){const s=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const o=t[n[a]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function XA(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function y_(t,e){const s=t&&t.options||{},n=s.reverse,a=s.min===void 0?e:0,o=s.max===void 0?e:0;return{start:n?o:a,end:n?a:o}}function KA(t,e,s){if(s===!1)return!1;const n=y_(t,s),a=y_(e,s);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function ZA(t){let e,s,n,a;return qe(t)?(e=t.top,s=t.right,n=t.bottom,a=t.left):e=s=n=a=t,{top:e,right:s,bottom:n,left:a,disabled:t===!1}}function GS(t,e){const s=[],n=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=n.length;a<o;++a)s.push(n[a].index);return s}function b_(t,e,s,n={}){const a=t.keys,o=n.mode==="single";let c,d,f,m;if(e===null)return;let g=!1;for(c=0,d=a.length;c<d;++c){if(f=+a[c],f===s){if(g=!0,n.all)continue;break}m=t.values[f],Lt(m)&&(o||e===0||In(e)===In(m))&&(e+=m)}return!g&&!n.all?0:e}function QA(t,e){const{iScale:s,vScale:n}=e,a=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",c=Object.keys(t),d=new Array(c.length);let f,m,g;for(f=0,m=c.length;f<m;++f)g=c[f],d[f]={[a]:g,[o]:t[g]};return d}function gp(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function JA(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function e3(t){const{min:e,max:s,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}function t3(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function v_(t,e,s,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const o=t[a.index];if(s&&o>0||!s&&o<0)return a.index}return null}function __(t,e){const{chart:s,_cachedMeta:n}=t,a=s._stacks||(s._stacks={}),{iScale:o,vScale:c,index:d}=n,f=o.axis,m=c.axis,g=JA(o,c,n),x=e.length;let b;for(let v=0;v<x;++v){const w=e[v],{[f]:S,[m]:j}=w,T=w._stacks||(w._stacks={});b=T[m]=t3(a,g,S),b[d]=j,b._top=v_(b,c,!0,n.type),b._bottom=v_(b,c,!1,n.type);const k=b._visualValues||(b._visualValues={});k[d]=j}}function xp(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function s3(t,e){return Pa(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function n3(t,e,s){return Pa(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Vl(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const yp=t=>t==="reset"||t==="none",w_=(t,e)=>e?t:Object.assign({},t),i3=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:GS(s,!0),values:null};class Ba{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=gp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),a=(x,b,v,w)=>x==="x"?b:x==="r"?w:v,o=s.xAxisID=Oe(n.xAxisID,xp(e,"x")),c=s.yAxisID=Oe(n.yAxisID,xp(e,"y")),d=s.rAxisID=Oe(n.rAxisID,xp(e,"r")),f=s.indexAxis,m=s.iAxisID=a(f,o,c,d),g=s.vAxisID=a(f,c,o,d);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(d),s.iScale=this.getScaleForId(m),s.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&i_(this._data,this),e._stacked&&Vl(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(qe(s)){const a=this._cachedMeta;this._data=QA(s,a)}else if(n!==s){if(n){i_(n,this);const a=this._cachedMeta;Vl(a),a._parsed=[]}s&&Object.isExtensible(s)&&UC(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const o=s._stacked;s._stacked=gp(s.vScale,s),s.stack!==n.stack&&(a=!0,Vl(s),s.stack=n.stack),this._resyncElements(e),(a||o!==s._stacked)&&(__(this,s._parsed),s._stacked=gp(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:a}=this,{iScale:o,_stacked:c}=n,d=o.axis;let f=e===0&&s===a.length?!0:n._sorted,m=e>0&&n._parsed[e-1],g,x,b;if(this._parsing===!1)n._parsed=a,n._sorted=!0,b=a;else{Tt(a[e])?b=this.parseArrayData(n,a,e,s):qe(a[e])?b=this.parseObjectData(n,a,e,s):b=this.parsePrimitiveData(n,a,e,s);const v=()=>x[d]===null||m&&x[d]<m[d];for(g=0;g<s;++g)n._parsed[g+e]=x=b[g],f&&(v()&&(f=!1),m=x);n._sorted=f}c&&__(this,b)}parsePrimitiveData(e,s,n,a){const{iScale:o,vScale:c}=e,d=o.axis,f=c.axis,m=o.getLabels(),g=o===c,x=new Array(a);let b,v,w;for(b=0,v=a;b<v;++b)w=b+n,x[b]={[d]:g||o.parse(m[w],w),[f]:c.parse(s[w],w)};return x}parseArrayData(e,s,n,a){const{xScale:o,yScale:c}=e,d=new Array(a);let f,m,g,x;for(f=0,m=a;f<m;++f)g=f+n,x=s[g],d[f]={x:o.parse(x[0],g),y:c.parse(x[1],g)};return d}parseObjectData(e,s,n,a){const{xScale:o,yScale:c}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let g,x,b,v;for(g=0,x=a;g<x;++g)b=g+n,v=s[b],m[g]={x:o.parse(Ea(v,d),b),y:c.parse(Ea(v,f),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const a=this.chart,o=this._cachedMeta,c=s[e.axis],d={keys:GS(a,!0),values:s._stacks[e.axis]._visualValues};return b_(d,c,o.index,{mode:n})}updateRangeFromParsed(e,s,n,a){const o=n[s.axis];let c=o===null?NaN:o;const d=a&&n._stacks[s.axis];a&&d&&(a.values=d,c=b_(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,s){const n=this._cachedMeta,a=n._parsed,o=n._sorted&&e===n.iScale,c=a.length,d=this._getOtherScale(e),f=i3(s,n,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=e3(d);let b,v;function w(){v=a[b];const S=v[d.axis];return!Lt(v[e.axis])||g>S||x<S}for(b=0;b<c&&!(!w()&&(this.updateRangeFromParsed(m,e,v,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(m,e,v,f);break}}return m}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let a,o,c;for(a=0,o=s.length;a<o;++a)c=s[a][e.axis],Lt(c)&&n.push(c);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,a=s.vScale,o=this.getParsed(e);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=ZA(Oe(this.options.clip,KA(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,a=n.data||[],o=s.chartArea,c=[],d=this._drawStart||0,f=this._drawCount||a.length-d,m=this.options.drawActiveElementsOnTop;let g;for(n.dataset&&n.dataset.draw(e,o,d,f),g=d;g<d+f;++g){const x=a[g];x.hidden||(x.active&&m?c.push(x):x.draw(e,o))}for(g=0;g<c.length;++g)c[g].draw(e,o)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=n3(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=s3(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const a=s==="active",o=this._cachedDataOpts,c=e+"-"+s,d=o[c],f=this.enableOptionSharing&&wc(n);if(d)return w_(d,f);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),x=a?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),g),v=Object.keys(Dt.elements[e]),w=()=>this.getContext(n,a,s),S=m.resolveNamedOptions(b,v,w,x);return S.$shared&&(S.$shared=f,o[c]=Object.freeze(w_(S,f))),S}_resolveAnimations(e,s,n){const a=this.chart,o=this._cachedDataOpts,c=`animation-${s}`,d=o[c];if(d)return d;let f;if(a.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,s),b=g.getOptionScopes(this.getDataset(),x);f=g.createResolver(b,this.getContext(e,n,s))}const m=new qS(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||yp(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),a=this._sharedOptions,o=this.getSharedOptions(n),c=this.includeOptions(s,o)||o!==a;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:c}}updateElement(e,s,n,a){yp(a)?Object.assign(e,n):this._resolveAnimations(s,a).update(e,n)}updateSharedOptions(e,s,n){e&&!yp(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,a){e.active=a;const o=this.getStyle(s,a);this._resolveAnimations(s,n,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[d,f,m]of this._syncList)this[d](f,m);this._syncList=[];const a=n.length,o=s.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,s,n=!0){const a=this._cachedMeta,o=a.data,c=e+s;let d;const f=m=>{for(m.length+=s,d=m.length-1;d>=c;d--)m[d]=m[d-s]};for(f(o),d=e;d<c;++d)o[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,s),n&&this.updateElements(o,e,s,"reset")}updateElements(e,s,n,a){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,s);n._stacked&&Vl(n,a)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,a]=e;this[s](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function a3(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,o=s.length;a<o;a++)n=n.concat(s[a].controller.getAllParsedValues(t));t._cache.$bar=kS(n.sort((a,o)=>a-o))}return t._cache.$bar}function r3(t){const e=t.iScale,s=a3(e,t.type);let n=e._length,a,o,c,d;const f=()=>{c===32767||c===-32768||(wc(d)&&(n=Math.min(n,Math.abs(c-d)||n)),d=c)};for(a=0,o=s.length;a<o;++a)c=e.getPixelForValue(s[a]),f();for(d=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),f();return n}function o3(t,e,s,n){const a=s.barThickness;let o,c;return Ue(a)?(o=e.min*s.categoryPercentage,c=s.barPercentage):(o=a*n,c=1),{chunk:o/n,ratio:c,start:e.pixels[t]-o/2}}function l3(t,e,s,n){const a=e.pixels,o=a[t];let c=t>0?a[t-1]:null,d=t<a.length-1?a[t+1]:null;const f=s.categoryPercentage;c===null&&(c=o-(d===null?e.end-e.start:d-o)),d===null&&(d=o+o-c);const m=o-(o-Math.min(c,d))/2*f;return{chunk:Math.abs(d-c)/2*f/n,ratio:s.barPercentage,start:m}}function c3(t,e,s,n){const a=s.parse(t[0],n),o=s.parse(t[1],n),c=Math.min(a,o),d=Math.max(a,o);let f=c,m=d;Math.abs(c)>Math.abs(d)&&(f=d,m=c),e[s.axis]=m,e._custom={barStart:f,barEnd:m,start:a,end:o,min:c,max:d}}function $S(t,e,s,n){return Tt(t)?c3(t,e,s,n):e[s.axis]=s.parse(t,n),e}function S_(t,e,s,n){const a=t.iScale,o=t.vScale,c=a.getLabels(),d=a===o,f=[];let m,g,x,b;for(m=s,g=s+n;m<g;++m)b=e[m],x={},x[a.axis]=d||a.parse(c[m],m),f.push($S(b,x,o,m));return f}function bp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function u3(t,e,s){return t!==0?In(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function d3(t){let e,s,n,a,o;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(a="end",o="start"):(a="start",o="end"),{start:s,end:n,reverse:e,top:a,bottom:o}}function h3(t,e,s,n){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:f,top:m,bottom:g}=d3(t);a==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?a=m:(s._bottom||0)===n?a=g:(o[j_(g,c,d,f)]=!0,a=m)),o[j_(a,c,d,f)]=!0,t.borderSkipped=o}function j_(t,e,s,n){return n?(t=f3(t,e,s),t=N_(t,s,e)):t=N_(t,e,s),t}function f3(t,e,s){return t===e?s:t===s?e:t}function N_(t,e,s){return t==="start"?e:t==="end"?s:t}function m3(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class XS extends Ba{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,n,a){return S_(e,s,n,a)}parseArrayData(e,s,n,a){return S_(e,s,n,a)}parseObjectData(e,s,n,a){const{iScale:o,vScale:c}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?d:f,g=c.axis==="x"?d:f,x=[];let b,v,w,S;for(b=n,v=n+a;b<v;++b)S=s[b],w={},w[o.axis]=o.parse(Ea(S,m),b),x.push($S(Ea(S,g),w,c,b));return x}updateRangeFromParsed(e,s,n,a){super.updateRangeFromParsed(e,s,n,a);const o=n._custom;o&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:a}=s,o=this.getParsed(e),c=o._custom,d=bp(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),m=d.isHorizontal(),g=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(s,a);for(let v=s;v<s+n;v++){const w=this.getParsed(v),S=o||Ue(w[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(v),j=this._calculateBarIndexPixels(v,g),T=(w._stacks||{})[d.axis],k={horizontal:m,base:S.base,enableBorderRadius:!T||bp(w._custom)||c===T._top||c===T._bottom,x:m?S.head:j.center,y:m?j.center:S.head,height:m?j.size:Math.abs(S.size),width:m?Math.abs(S.size):j.size};b&&(k.options=x||this.resolveDataElementOptions(v,e[v].active?"active":a));const A=k.options||e[v].options;h3(k,A,T,c),m3(k,A,g.ratio),this.updateElement(e[v],v,k,a)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=n.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(s),f=d&&d[n.axis],m=g=>{const x=g._parsed.find(v=>v[n.axis]===f),b=x&&x[g.vScale.axis];if(Ue(b)||isNaN(b))return!0};for(const g of a)if(!(s!==void 0&&m(g))&&((o===!1||c.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Oe(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const a=this._getStacks(e,n),o=s!==void 0?a.indexOf(s):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,a=[];let o,c;for(o=0,c=s.data.length;o<c;++o)a.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const d=e.barThickness;return{min:d||r3(s),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:a},options:{base:o,minBarLength:c}}=this,d=o||0,f=this.getParsed(e),m=f._custom,g=bp(m);let x=f[s.axis],b=0,v=n?this.applyStack(s,f,n):x,w,S;v!==x&&(b=v-x,v=x),g&&(x=m.barStart,v=m.barEnd-m.barStart,x!==0&&In(x)!==In(m.barEnd)&&(b=0),b+=x);const j=!Ue(o)&&!g?o:b;let T=s.getPixelForValue(j);if(this.chart.getDataVisibility(e)?w=s.getPixelForValue(b+v):w=T,S=w-T,Math.abs(S)<c){S=u3(S,s,d)*c,x===d&&(T-=S/2);const k=s.getPixelForDecimal(0),A=s.getPixelForDecimal(1),C=Math.min(k,A),O=Math.max(k,A);T=Math.max(Math.min(T,O),C),w=T+S,n&&!g&&(f._stacks[s.axis]._visualValues[a]=s.getValueForPixel(w)-s.getValueForPixel(T))}if(T===s.getPixelForValue(d)){const k=In(S)*s.getLineWidthForValue(d)/2;T+=k,S-=k}return{size:S,base:T,head:w,center:w+S/2}}_calculateBarIndexPixels(e,s){const n=s.scale,a=this.options,o=a.skipNull,c=Oe(a.maxBarThickness,1/0);let d,f;const m=this._getAxisCount();if(s.grouped){const g=o?this._getStackCount(e):s.stackCount,x=a.barThickness==="flex"?l3(e,s,a,g*m):o3(e,s,a,g*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Oe(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;d=x.start+x.chunk*w+x.chunk/2,f=Math.min(c,x.chunk*x.ratio)}else d=n.getPixelForValue(this.getParsed(e)[n.axis],e),f=Math.min(c,s.min*s.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,a=n.length;let o=0;for(;o<a;++o)this.getParsed(o)[s.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}class p3 extends Ba{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,n,a){const o=super.parsePrimitiveData(e,s,n,a);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+n).radius;return o}parseArrayData(e,s,n,a){const o=super.parseArrayData(e,s,n,a);for(let c=0;c<o.length;c++){const d=s[n+c];o[c]._custom=Oe(d[2],this.resolveDataElementOptions(c+n).radius)}return o}parseObjectData(e,s,n,a){const o=super.parseObjectData(e,s,n,a);for(let c=0;c<o.length;c++){const d=s[n+c];o[c]._custom=Oe(d&&d.r&&+d.r,this.resolveDataElementOptions(c+n).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let n=e.length-1;n>=0;--n)s=Math.max(s,e[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:o}=s,c=this.getParsed(e),d=a.getLabelForValue(c.x),f=o.getLabelForValue(c.y),m=c._custom;return{label:n[e]||"",value:"("+d+", "+f+(m?", "+m:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,n,a){const o=a==="reset",{iScale:c,vScale:d}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(s,a),g=c.axis,x=d.axis;for(let b=s;b<s+n;b++){const v=e[b],w=!o&&this.getParsed(b),S={},j=S[g]=o?c.getPixelForDecimal(.5):c.getPixelForValue(w[g]),T=S[x]=o?d.getBasePixel():d.getPixelForValue(w[x]);S.skip=isNaN(j)||isNaN(T),m&&(S.options=f||this.resolveDataElementOptions(b,v.active?"active":a),o&&(S.options.radius=0)),this.updateElement(v,b,S,a)}}resolveDataElementOptions(e,s){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,s);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return s!=="active"&&(a.radius=0),a.radius+=Oe(n&&n._custom,o),a}}function g3(t,e,s){let n=1,a=1,o=0,c=0;if(e<_t){const d=t,f=d+e,m=Math.cos(d),g=Math.sin(d),x=Math.cos(f),b=Math.sin(f),v=(A,C,O)=>Sc(A,d,f,!0)?1:Math.max(C,C*s,O,O*s),w=(A,C,O)=>Sc(A,d,f,!0)?-1:Math.min(C,C*s,O,O*s),S=v(0,m,x),j=v(Ut,g,b),T=w(tt,m,x),k=w(tt+Ut,g,b);n=(S-T)/2,a=(j-k)/2,o=-(S+T)/2,c=-(j+k)/2}return{ratioX:n,ratioY:a,offsetX:o,offsetY:c}}class gx extends Ba{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data,{labels:{pointStyle:n,textAlign:a,color:o,useBorderRadius:c,borderRadius:d}}=e.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((f,m)=>{const x=e.getDatasetMeta(0).controller.getStyle(m);return{text:f,fillStyle:x.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(m),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:a,pointStyle:n,borderRadius:c&&(d||x.borderRadius),index:m}}):[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}};constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let o=f=>+n[f];if(qe(n[e])){const{key:f="value"}=this._parsing;o=m=>+Ea(n[m],f)}let c,d;for(c=e,d=e+s;c<d;++c)a._parsed[c]=o(c)}}_getRotation(){return kn(this.options.rotation-90)}_getCircumference(){return kn(this.options.circumference)}_getRotationExtents(){let e=_t,s=-_t;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),s=Math.max(s,o+c)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(n.width,n.height)-c)/2,0),f=Math.min(MC(this.options.cutout,d),1),m=this._getRingWeight(this.index),{circumference:g,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:w,offsetY:S}=g3(x,g,f),j=(n.width-c)/b,T=(n.height-c)/v,k=Math.max(Math.min(j,T)/2,0),A=_S(this.options.radius,k),C=Math.max(A*f,0),O=(A-C)/this._getVisibleDatasetWeightTotal();this.offsetX=w*A,this.offsetY=S*A,a.total=this.calculateTotal(),this.outerRadius=A-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,s){const n=this.options,a=this._cachedMeta,o=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/_t)}updateElements(e,s,n,a){const o=a==="reset",c=this.chart,d=c.chartArea,m=c.options.animation,g=(d.left+d.right)/2,x=(d.top+d.bottom)/2,b=o&&m.animateScale,v=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:S,includeOptions:j}=this._getSharedOptions(s,a);let T=this._getRotation(),k;for(k=0;k<s;++k)T+=this._circumference(k,o);for(k=s;k<s+n;++k){const A=this._circumference(k,o),C=e[k],O={x:g+this.offsetX,y:x+this.offsetY,startAngle:T,endAngle:T+A,circumference:A,outerRadius:w,innerRadius:v};j&&(O.options=S||this.resolveDataElementOptions(k,C.active?"active":a)),T+=A,this.updateElement(C,k,O,a)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,a;for(a=0;a<s.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?_t*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,a=n.data.labels||[],o=Bc(s._parsed[e],n.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let s=0;const n=this.chart;let a,o,c,d,f;if(!e){for(a=0,o=n.data.datasets.length;a<o;++a)if(n.isDatasetVisible(a)){c=n.getDatasetMeta(a),e=c.data,d=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)f=d.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(s=Math.max(s,f.borderWidth||0,f.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,a=e.length;n<a;++n){const o=this.resolveDataElementOptions(n);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class KS extends Ba{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:a=[],_dataset:o}=s,c=this.chart._animationsDisabled;let{start:d,count:f}=DS(s,a,c);this._drawStart=d,this._drawCount=f,CS(s)&&(d=0,f=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=a;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(n,void 0,{animated:!c,options:m},e),this.updateElements(a,d,f,e)}updateElements(e,s,n,a){const o=a==="reset",{iScale:c,vScale:d,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(s,a),b=c.axis,v=d.axis,{spanGaps:w,segment:S}=this.options,j=Co(w)?w:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||a==="none",k=s+n,A=e.length;let C=s>0&&this.getParsed(s-1);for(let O=0;O<A;++O){const R=e[O],E=T?R:{};if(O<s||O>=k){E.skip=!0;continue}const z=this.getParsed(O),U=Ue(z[v]),K=E[b]=c.getPixelForValue(z[b],O),Z=E[v]=o||U?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,z,f):z[v],O);E.skip=isNaN(K)||isNaN(Z)||U,E.stop=O>0&&Math.abs(z[b]-C[b])>j,S&&(E.parsed=z,E.raw=m.data[O]),x&&(E.options=g||this.resolveDataElementOptions(O,R.active?"active":a)),T||this.updateElement(R,O,E,a),C=z}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class ZS extends Ba{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return s.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,a=n.data.labels||[],o=Bc(s._parsed[e].r,n.options.locale);return{label:a[e]||"",value:o}}parseObjectData(e,s,n,a){return BS.bind(this)(e,s,n,a)}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}getMinMax(){const e=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){const e=this.chart,s=e.chartArea,n=e.options,a=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(a/2,0),c=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),d=(o-c)/e.getVisibleDatasetCount();this.outerRadius=o-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(e,s,n,a){const o=a==="reset",c=this.chart,f=c.options.animation,m=this._cachedMeta.rScale,g=m.xCenter,x=m.yCenter,b=m.getIndexAngle(0)-.5*tt;let v=b,w;const S=360/this.countVisibleElements();for(w=0;w<s;++w)v+=this._computeAngle(w,a,S);for(w=s;w<s+n;w++){const j=e[w];let T=v,k=v+this._computeAngle(w,a,S),A=c.getDataVisibility(w)?m.getDistanceFromCenterForValue(this.getParsed(w).r):0;v=k,o&&(f.animateScale&&(A=0),f.animateRotate&&(T=k=b));const C={x:g,y:x,innerRadius:0,outerRadius:A,startAngle:T,endAngle:k,options:this.resolveDataElementOptions(w,j.active?"active":a)};this.updateElement(j,w,C,a)}}countVisibleElements(){const e=this._cachedMeta;let s=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&s++}),s}_computeAngle(e,s,n){return this.chart.getDataVisibility(e)?kn(this.resolveDataElementOptions(e,s).angle||n):0}}class x3 extends gx{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class QS extends Ba{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const s=this._cachedMeta.vScale,n=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(e,s,n,a){return BS.bind(this)(e,s,n,a)}update(e){const s=this._cachedMeta,n=s.dataset,a=s.data||[],o=s.iScale.getLabels();if(n.points=a,e!=="resize"){const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0);const d={_loop:!0,_fullLoop:o.length===a.length,options:c};this.updateElement(n,void 0,d,e)}this.updateElements(a,0,a.length,e)}updateElements(e,s,n,a){const o=this._cachedMeta.rScale,c=a==="reset";for(let d=s;d<s+n;d++){const f=e[d],m=this.resolveDataElementOptions(d,f.active?"active":a),g=o.getPointPositionForValue(d,this.getParsed(d).r),x=c?o.xCenter:g.x,b=c?o.yCenter:g.y,v={x,y:b,angle:g.angle,skip:isNaN(x)||isNaN(b),options:m};this.updateElement(f,d,v,a)}}}class y3 extends Ba{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:o}=s,c=this.getParsed(e),d=a.getLabelForValue(c.x),f=o.getLabelForValue(c.y);return{label:n[e]||"",value:"("+d+", "+f+")"}}update(e){const s=this._cachedMeta,{data:n=[]}=s,a=this.chart._animationsDisabled;let{start:o,count:c}=DS(s,n,a);if(this._drawStart=o,this._drawCount=c,CS(s)&&(o=0,c=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:d,_dataset:f}=s;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!f._decimated,d.points=n;const m=this.resolveDatasetElementOptions(e);m.segment=this.options.segment,this.updateElement(d,void 0,{animated:!a,options:m},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,o,c,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,n,a){const o=a==="reset",{iScale:c,vScale:d,_stacked:f,_dataset:m}=this._cachedMeta,g=this.resolveDataElementOptions(s,a),x=this.getSharedOptions(g),b=this.includeOptions(a,x),v=c.axis,w=d.axis,{spanGaps:S,segment:j}=this.options,T=Co(S)?S:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||a==="none";let A=s>0&&this.getParsed(s-1);for(let C=s;C<s+n;++C){const O=e[C],R=this.getParsed(C),E=k?O:{},z=Ue(R[w]),U=E[v]=c.getPixelForValue(R[v],C),K=E[w]=o||z?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,R,f):R[w],C);E.skip=isNaN(U)||isNaN(K)||z,E.stop=C>0&&Math.abs(R[v]-A[v])>T,j&&(E.parsed=R,E.raw=m.data[C]),b&&(E.options=x||this.resolveDataElementOptions(C,O.active?"active":a)),k||this.updateElement(O,C,E,a),A=R}this.updateSharedOptions(x,a,g)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let d=0;for(let f=s.length-1;f>=0;--f)d=Math.max(d,s[f].size(this.resolveDataElementOptions(f))/2);return d>0&&d}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!s.length)return a;const o=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(a,o,c)/2}}var b3=Object.freeze({__proto__:null,BarController:XS,BubbleController:p3,DoughnutController:gx,LineController:KS,PieController:x3,PolarAreaController:ZS,RadarController:QS,ScatterController:y3});function lr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xx{static override(e){Object.assign(xx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return lr()}parse(){return lr()}format(){return lr()}add(){return lr()}diff(){return lr()}startOf(){return lr()}endOf(){return lr()}}var JS={_date:xx};function v3(t,e,s,n){const{controller:a,data:o,_sorted:c}=t,d=a._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&c&&o.length){const m=d._reversePixels?FC:Di;if(n){if(a._sharedOptions){const g=o[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const b=m(o,e,s-x),v=m(o,e,s+x);return{lo:b.lo,hi:v.hi}}}}else{const g=m(o,e,s);if(f){const{vScale:x}=a._cachedMeta,{_parsed:b}=t,v=b.slice(0,g.lo+1).reverse().findIndex(S=>!Ue(S[x.axis]));g.lo-=Math.max(0,v);const w=b.slice(g.hi).findIndex(S=>!Ue(S[x.axis]));g.hi+=Math.max(0,w)}return g}}return{lo:0,hi:o.length-1}}function Nh(t,e,s,n,a){const o=t.getSortedVisibleDatasetMetas(),c=s[e];for(let d=0,f=o.length;d<f;++d){const{index:m,data:g}=o[d],{lo:x,hi:b}=v3(o[d],e,c,a);for(let v=x;v<=b;++v){const w=g[v];w.skip||n(w,m,v)}}}function _3(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,a){const o=e?Math.abs(n.x-a.x):0,c=s?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function vp(t,e,s,n,a){const o=[];return!a&&!t.isPointInArea(e)||Nh(t,s,e,function(d,f,m){!a&&!Ci(d,t.chartArea,0)||d.inRange(e.x,e.y,n)&&o.push({element:d,datasetIndex:f,index:m})},!0),o}function w3(t,e,s,n){let a=[];function o(c,d,f){const{startAngle:m,endAngle:g}=c.getProps(["startAngle","endAngle"],n),{angle:x}=jS(c,{x:e.x,y:e.y});Sc(x,m,g)&&a.push({element:c,datasetIndex:d,index:f})}return Nh(t,s,e,o),a}function S3(t,e,s,n,a,o){let c=[];const d=_3(s);let f=Number.POSITIVE_INFINITY;function m(g,x,b){const v=g.inRange(e.x,e.y,a);if(n&&!v)return;const w=g.getCenterPoint(a);if(!(!!o||t.isPointInArea(w))&&!v)return;const j=d(e,w);j<f?(c=[{element:g,datasetIndex:x,index:b}],f=j):j===f&&c.push({element:g,datasetIndex:x,index:b})}return Nh(t,s,e,m),c}function _p(t,e,s,n,a,o){return!o&&!t.isPointInArea(e)?[]:s==="r"&&!n?w3(t,e,s,a):S3(t,e,s,n,a,o)}function k_(t,e,s,n,a){const o=[],c=s==="x"?"inXRange":"inYRange";let d=!1;return Nh(t,s,e,(f,m,g)=>{f[c]&&f[c](e[s],a)&&(o.push({element:f,datasetIndex:m,index:g}),d=d||f.inRange(e.x,e.y,a))}),n&&!d?[]:o}var j3={modes:{index(t,e,s,n){const a=mr(e,t),o=s.axis||"x",c=s.includeInvisible||!1,d=s.intersect?vp(t,a,o,n,c):_p(t,a,o,!1,n,c),f=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=d[0].index,x=m.data[g];x&&!x.skip&&f.push({element:x,datasetIndex:m.index,index:g})}),f):[]},dataset(t,e,s,n){const a=mr(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;let d=s.intersect?vp(t,a,o,n,c):_p(t,a,o,!1,n,c);if(d.length>0){const f=d[0].datasetIndex,m=t.getDatasetMeta(f).data;d=[];for(let g=0;g<m.length;++g)d.push({element:m[g],datasetIndex:f,index:g})}return d},point(t,e,s,n){const a=mr(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;return vp(t,a,o,n,c)},nearest(t,e,s,n){const a=mr(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;return _p(t,a,o,s.intersect,n,c)},x(t,e,s,n){const a=mr(e,t);return k_(t,a,"x",s.intersect,n)},y(t,e,s,n){const a=mr(e,t);return k_(t,a,"y",s.intersect,n)}}};const ej=["left","top","right","bottom"];function Fl(t,e){return t.filter(s=>s.pos===e)}function M_(t,e){return t.filter(s=>ej.indexOf(s.pos)===-1&&s.box.axis===e)}function Hl(t,e){return t.sort((s,n)=>{const a=e?n:s,o=e?s:n;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function N3(t){const e=[];let s,n,a,o,c,d;for(s=0,n=(t||[]).length;s<n;++s)a=t[s],{position:o,options:{stack:c,stackWeight:d=1}}=a,e.push({index:s,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:d});return e}function k3(t){const e={};for(const s of t){const{stack:n,pos:a,stackWeight:o}=s;if(!n||!ej.includes(a))continue;const c=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function M3(t,e){const s=k3(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let o,c,d;for(o=0,c=t.length;o<c;++o){d=t[o];const{fullSize:f}=d.box,m=s[d.stack],g=m&&d.stackWeight/m.weight;d.horizontal?(d.width=g?g*n:f&&e.availableWidth,d.height=a):(d.width=n,d.height=g?g*a:f&&e.availableHeight)}return s}function T3(t){const e=N3(t),s=Hl(e.filter(m=>m.box.fullSize),!0),n=Hl(Fl(e,"left"),!0),a=Hl(Fl(e,"right")),o=Hl(Fl(e,"top"),!0),c=Hl(Fl(e,"bottom")),d=M_(e,"x"),f=M_(e,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:a.concat(f).concat(c).concat(d),chartArea:Fl(e,"chartArea"),vertical:n.concat(a).concat(f),horizontal:o.concat(c).concat(d)}}function T_(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function tj(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function D3(t,e,s,n){const{pos:a,box:o}=s,c=t.maxPadding;if(!qe(a)){s.size&&(t[a]-=s.size);const x=n[s.stack]||{size:0,count:1};x.size=Math.max(x.size,s.horizontal?o.height:o.width),s.size=x.size/x.count,t[a]+=s.size}o.getPadding&&tj(c,o.getPadding());const d=Math.max(0,e.outerWidth-T_(c,t,"left","right")),f=Math.max(0,e.outerHeight-T_(c,t,"top","bottom")),m=d!==t.w,g=f!==t.h;return t.w=d,t.h=f,s.horizontal?{same:m,other:g}:{same:g,other:m}}function C3(t){const e=t.maxPadding;function s(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function A3(t,e){const s=e.maxPadding;function n(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],s[c])}),o}return n(t?["left","right"]:["top","bottom"])}function ec(t,e,s,n){const a=[];let o,c,d,f,m,g;for(o=0,c=t.length,m=0;o<c;++o){d=t[o],f=d.box,f.update(d.width||e.w,d.height||e.h,A3(d.horizontal,e));const{same:x,other:b}=D3(e,s,d,n);m|=x&&a.length,g=g||b,f.fullSize||a.push(d)}return m&&ec(a,e,s,n)||g}function md(t,e,s,n,a){t.top=s,t.left=e,t.right=e+n,t.bottom=s+a,t.width=n,t.height=a}function D_(t,e,s,n){const a=s.padding;let{x:o,y:c}=e;for(const d of t){const f=d.box,m=n[d.stack]||{placed:0,weight:1},g=d.stackWeight/m.weight||1;if(d.horizontal){const x=e.w*g,b=m.size||f.height;wc(m.start)&&(c=m.start),f.fullSize?md(f,a.left,c,s.outerWidth-a.right-a.left,b):md(f,e.left+m.placed,c,x,b),m.start=c,m.placed+=x,c=f.bottom}else{const x=e.h*g,b=m.size||f.width;wc(m.start)&&(o=m.start),f.fullSize?md(f,o,a.top,b,s.outerHeight-a.bottom-a.top):md(f,o,e.top+m.placed,b,x),m.start=o,m.placed+=x,o=f.right}}e.x=o,e.y=c}var gs={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const a=bs(t.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(s-a.height,0),d=T3(t.boxes),f=d.vertical,m=d.horizontal;ct(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const g=f.reduce((S,j)=>j.box.options&&j.box.options.display===!1?S:S+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:s,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/g,hBoxMaxHeight:c/2}),b=Object.assign({},a);tj(b,bs(n));const v=Object.assign({maxPadding:b,w:o,h:c,x:a.left,y:a.top},a),w=M3(f.concat(m),x);ec(d.fullSize,v,x,w),ec(f,v,x,w),ec(m,v,x,w)&&ec(f,v,x,w),C3(v),D_(d.leftAndTop,v,x,w),v.x+=v.w,v.y+=v.h,D_(d.rightAndBottom,v,x,w),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},ct(d.chartArea,S=>{const j=S.box;Object.assign(j,t.chartArea),j.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class sj{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,a){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,a?Math.floor(s/a):n)}}isAttached(e){return!0}updateConfig(e){}}class E3 extends sj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ad="$chartjs",O3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},C_=t=>t===null||t==="";function R3(t,e){const s=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Ad]={initial:{height:n,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",C_(a)){const o=f_(t,"width");o!==void 0&&(t.width=o)}if(C_(n))if(t.style.height==="")t.height=t.width/(e||2);else{const o=f_(t,"height");o!==void 0&&(t.height=o)}return t}const nj=OA?{passive:!0}:!1;function L3(t,e,s){t&&t.addEventListener(e,s,nj)}function z3(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,nj)}function P3(t,e){const s=O3[t.type]||t.type,{x:n,y:a}=mr(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Qd(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function B3(t,e,s){const n=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Qd(d.addedNodes,n),c=c&&!Qd(d.removedNodes,n);c&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function V3(t,e,s){const n=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Qd(d.removedNodes,n),c=c&&!Qd(d.addedNodes,n);c&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const Nc=new Map;let A_=0;function ij(){const t=window.devicePixelRatio;t!==A_&&(A_=t,Nc.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function F3(t,e){Nc.size||window.addEventListener("resize",ij),Nc.set(t,e)}function H3(t){Nc.delete(t),Nc.size||window.removeEventListener("resize",ij)}function U3(t,e,s){const n=t.canvas,a=n&&px(n);if(!a)return;const o=TS((d,f)=>{const m=a.clientWidth;s(d,f),m<a.clientWidth&&s()},window),c=new ResizeObserver(d=>{const f=d[0],m=f.contentRect.width,g=f.contentRect.height;m===0&&g===0||o(m,g)});return c.observe(a),F3(t,o),c}function wp(t,e,s){s&&s.disconnect(),e==="resize"&&H3(t)}function Y3(t,e,s){const n=t.canvas,a=TS(o=>{t.ctx!==null&&s(P3(o,t))},t);return L3(n,e,a),a}class W3 extends sj{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(R3(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[Ad])return!1;const n=s[Ad].initial;["height","width"].forEach(o=>{const c=n[o];Ue(c)?s.removeAttribute(o):s.setAttribute(o,c)});const a=n.style||{};return Object.keys(a).forEach(o=>{s.style[o]=a[o]}),s.width=s.width,delete s[Ad],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const a=e.$proxies||(e.$proxies={}),c={attach:B3,detach:V3,resize:U3}[s]||Y3;a[s]=c(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),a=n[s];if(!a)return;({attach:wp,detach:wp,resize:wp}[s]||z3)(e,s,a),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,a){return EA(e,s,n,a)}isAttached(e){const s=e&&px(e);return!!(s&&s.isConnected)}}function I3(t){return!mx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?E3:W3}let Hi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return Co(this.x)&&Co(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const a={};return e.forEach(o=>{a[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),a}};function q3(t,e){const s=t.options.ticks,n=G3(t),a=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?X3(e):[],c=o.length,d=o[0],f=o[c-1],m=[];if(c>a)return K3(e,m,o,c/a),m;const g=$3(o,e,a);if(c>0){let x,b;const v=c>1?Math.round((f-d)/(c-1)):null;for(pd(e,m,g,Ue(v)?0:d-v,d),x=0,b=c-1;x<b;x++)pd(e,m,g,o[x],o[x+1]);return pd(e,m,g,f,Ue(v)?e.length:f+v),m}return pd(e,m,g),m}function G3(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),a=t._maxLength/s;return Math.floor(Math.min(n,a))}function $3(t,e,s){const n=Z3(t),a=e.length/s;if(!n)return Math.max(a,1);const o=LC(n);for(let c=0,d=o.length-1;c<d;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function X3(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function K3(t,e,s,n){let a=0,o=s[0],c;for(n=Math.ceil(n),c=0;c<t.length;c++)c===o&&(e.push(t[c]),a++,o=s[a*n])}function pd(t,e,s,n,a){const o=Oe(n,0),c=Math.min(Oe(a,t.length),t.length);let d=0,f,m,g;for(s=Math.ceil(s),a&&(f=a-n,s=f/Math.floor(f/s)),g=o;g<0;)d++,g=Math.round(o+d*s);for(m=Math.max(o,0);m<c;m++)m===g&&(e.push(t[m]),d++,g=Math.round(o+d*s))}function Z3(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const Q3=t=>t==="left"?"right":t==="right"?"left":t,E_=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,O_=(t,e)=>Math.min(e||t,t);function R_(t,e){const s=[],n=t.length/e,a=t.length;let o=0;for(;o<a;o+=n)s.push(t[Math.floor(o)]);return s}function J3(t,e,s){const n=t.ticks.length,a=Math.min(e,n-1),o=t._startPixel,c=t._endPixel,d=1e-6;let f=t.getPixelForTick(a),m;if(!(s&&(n===1?m=Math.max(f-o,c-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(a-1))/2,f+=a<e?m:-m,f<o-d||f>c+d)))return f}function eE(t,e){ct(t,s=>{const n=s.gc,a=n.length/2;let o;if(a>e){for(o=0;o<a;++o)delete s.data[n[o]];n.splice(0,a)}})}function Ul(t){return t.drawTicks?t.tickLength:0}function L_(t,e){if(!t.display)return 0;const s=Qt(t.font,e),n=bs(t.padding);return(Tt(t.text)?t.text.length:1)*s.lineHeight+n.height}function tE(t,e){return Pa(t,{scale:e,type:"scale"})}function sE(t,e,s){return Pa(t,{tick:s,index:e,type:"tick"})}function nE(t,e,s){let n=lx(t);return(s&&e!=="right"||!s&&e==="right")&&(n=Q3(n)),n}function iE(t,e,s,n){const{top:a,left:o,bottom:c,right:d,chart:f}=t,{chartArea:m,scales:g}=f;let x=0,b,v,w;const S=c-a,j=d-o;if(t.isHorizontal()){if(v=fs(n,o,d),qe(s)){const T=Object.keys(s)[0],k=s[T];w=g[T].getPixelForValue(k)+S-e}else s==="center"?w=(m.bottom+m.top)/2+S-e:w=E_(t,s,e);b=d-o}else{if(qe(s)){const T=Object.keys(s)[0],k=s[T];v=g[T].getPixelForValue(k)-j+e}else s==="center"?v=(m.left+m.right)/2-j+e:v=E_(t,s,e);w=fs(n,c,a),x=s==="left"?-Ut:Ut}return{titleX:v,titleY:w,maxWidth:b,rotation:x}}class Mr extends Hi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:a}=this;return e=Ws(e,Number.POSITIVE_INFINITY),s=Ws(s,Number.NEGATIVE_INFINITY),n=Ws(n,Number.POSITIVE_INFINITY),a=Ws(a,Number.NEGATIVE_INFINITY),{min:Ws(e,n),max:Ws(s,a),minDefined:Lt(e),maxDefined:Lt(s)}}getMinMax(e){let{min:s,max:n,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:s,max:n};const d=this.getMatchingVisibleMetas();for(let f=0,m=d.length;f<m;++f)c=d[f].controller.getMinMax(this,e),a||(s=Math.min(s,c.min)),o||(n=Math.max(n,c.max));return s=o&&s>n?n:s,n=a&&s>n?s:n,{min:Ws(s,Ws(n,s)),max:Ws(n,Ws(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:a,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uA(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?R_(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=q3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,a,o;for(n=0,a=e.length;n<a;n++)o=e[n],o.label=gt(s.callback,[o.value,n,e],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=O_(this.ticks.length,e.ticks.maxTicksLimit),a=s.minRotation||0,o=s.maxRotation;let c=a,d,f,m;if(!this._isVisible()||!s.display||a>=o||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),x=g.widest.width,b=g.highest.height,v=ss(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/n:v/(n-1),x+6>d&&(d=v/(n-(e.offset?.5:1)),f=this.maxHeight-Ul(e.grid)-s.padding-L_(e.title,this.chart.options.font),m=Math.sqrt(x*x+b*b),c=rx(Math.min(Math.asin(ss((g.highest.height+6)/d,-1,1)),Math.asin(ss(f/m,-1,1))-Math.asin(ss(b/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:a,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const f=L_(a,s.options.font);if(d?(e.width=this.maxWidth,e.height=Ul(o)+f):(e.height=this.maxHeight,e.width=Ul(o)+f),n.display&&this.ticks.length){const{first:m,last:g,widest:x,highest:b}=this._getLabelSizes(),v=n.padding*2,w=kn(this.labelRotation),S=Math.cos(w),j=Math.sin(w);if(d){const T=n.mirror?0:j*x.width+S*b.height;e.height=Math.min(this.maxHeight,e.height+T+v)}else{const T=n.mirror?0:S*x.width+j*b.height;e.width=Math.min(this.maxWidth,e.width+T+v)}this._calculatePadding(m,g,j,S)}}this._handleMargins(),d?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,a){const{ticks:{align:o,padding:c},position:d}=this.options,f=this.labelRotation!==0,m=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,v=0;f?m?(b=a*e.width,v=n*s.height):(b=n*e.height,v=a*s.width):o==="start"?v=s.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,v=s.width/2),this.paddingLeft=Math.max((b-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((v-x+c)*this.width/(this.width-x),0)}else{let g=s.height/2,x=e.height/2;o==="start"?(g=0,x=e.height):o==="end"&&(g=s.height,x=0),this.paddingTop=g+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)Ue(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=R_(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:a,_longestTextCache:o}=this,c=[],d=[],f=Math.floor(s/O_(s,n));let m=0,g=0,x,b,v,w,S,j,T,k,A,C,O;for(x=0;x<s;x+=f){if(w=e[x].label,S=this._resolveTickFontOptions(x),a.font=j=S.string,T=o[j]=o[j]||{data:{},gc:[]},k=S.lineHeight,A=C=0,!Ue(w)&&!Tt(w))A=Kd(a,T.data,T.gc,A,w),C=k;else if(Tt(w))for(b=0,v=w.length;b<v;++b)O=w[b],!Ue(O)&&!Tt(O)&&(A=Kd(a,T.data,T.gc,A,O),C+=k);c.push(A),d.push(C),m=Math.max(A,m),g=Math.max(C,g)}eE(o,s);const R=c.indexOf(m),E=d.indexOf(g),z=U=>({width:c[U]||0,height:d[U]||0});return{first:z(0),last:z(s-1),widest:z(R),highest:z(E),widths:c,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return VC(this._alignToPixels?or(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=sE(this.getContext(),e,n))}return this.$context||(this.$context=tE(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=kn(this.labelRotation),n=Math.abs(Math.cos(s)),a=Math.abs(Math.sin(s)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,d=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*n>d*a?d/n:f/a:f*a<d*n?f/n:d/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,a=this.options,{grid:o,position:c,border:d}=a,f=o.offset,m=this.isHorizontal(),x=this.ticks.length+(f?1:0),b=Ul(o),v=[],w=d.setContext(this.getContext()),S=w.display?w.width:0,j=S/2,T=function(F){return or(n,F,S)};let k,A,C,O,R,E,z,U,K,Z,re,Se;if(c==="top")k=T(this.bottom),E=this.bottom-b,U=k-j,Z=T(e.top)+j,Se=e.bottom;else if(c==="bottom")k=T(this.top),Z=e.top,Se=T(e.bottom)-j,E=k+j,U=this.top+b;else if(c==="left")k=T(this.right),R=this.right-b,z=k-j,K=T(e.left)+j,re=e.right;else if(c==="right")k=T(this.left),K=e.left,re=T(e.right)-j,R=k+j,z=this.left+b;else if(s==="x"){if(c==="center")k=T((e.top+e.bottom)/2+.5);else if(qe(c)){const F=Object.keys(c)[0],G=c[F];k=T(this.chart.scales[F].getPixelForValue(G))}Z=e.top,Se=e.bottom,E=k+j,U=E+b}else if(s==="y"){if(c==="center")k=T((e.left+e.right)/2);else if(qe(c)){const F=Object.keys(c)[0],G=c[F];k=T(this.chart.scales[F].getPixelForValue(G))}R=k-j,z=R-b,K=e.left,re=e.right}const fe=Oe(a.ticks.maxTicksLimit,x),_e=Math.max(1,Math.ceil(x/fe));for(A=0;A<x;A+=_e){const F=this.getContext(A),G=o.setContext(F),ae=d.setContext(F),ie=G.lineWidth,de=G.color,D=ae.dash||[],H=ae.dashOffset,te=G.tickWidth,L=G.tickColor,se=G.tickBorderDash||[],oe=G.tickBorderDashOffset;C=J3(this,A,f),C!==void 0&&(O=or(n,C,ie),m?R=z=K=re=O:E=U=Z=Se=O,v.push({tx1:R,ty1:E,tx2:z,ty2:U,x1:K,y1:Z,x2:re,y2:Se,width:ie,color:de,borderDash:D,borderDashOffset:H,tickWidth:te,tickColor:L,tickBorderDash:se,tickBorderDashOffset:oe}))}return this._ticksLength=x,this._borderValue=k,v}_computeLabelItems(e){const s=this.axis,n=this.options,{position:a,ticks:o}=n,c=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:m,padding:g,mirror:x}=o,b=Ul(n.grid),v=b+g,w=x?-g:v,S=-kn(this.labelRotation),j=[];let T,k,A,C,O,R,E,z,U,K,Z,re,Se="middle";if(a==="top")R=this.bottom-w,E=this._getXAxisLabelAlignment();else if(a==="bottom")R=this.top+w,E=this._getXAxisLabelAlignment();else if(a==="left"){const _e=this._getYAxisLabelAlignment(b);E=_e.textAlign,O=_e.x}else if(a==="right"){const _e=this._getYAxisLabelAlignment(b);E=_e.textAlign,O=_e.x}else if(s==="x"){if(a==="center")R=(e.top+e.bottom)/2+v;else if(qe(a)){const _e=Object.keys(a)[0],F=a[_e];R=this.chart.scales[_e].getPixelForValue(F)+v}E=this._getXAxisLabelAlignment()}else if(s==="y"){if(a==="center")O=(e.left+e.right)/2-v;else if(qe(a)){const _e=Object.keys(a)[0],F=a[_e];O=this.chart.scales[_e].getPixelForValue(F)}E=this._getYAxisLabelAlignment(b).textAlign}s==="y"&&(f==="start"?Se="top":f==="end"&&(Se="bottom"));const fe=this._getLabelSizes();for(T=0,k=d.length;T<k;++T){A=d[T],C=A.label;const _e=o.setContext(this.getContext(T));z=this.getPixelForTick(T)+o.labelOffset,U=this._resolveTickFontOptions(T),K=U.lineHeight,Z=Tt(C)?C.length:1;const F=Z/2,G=_e.color,ae=_e.textStrokeColor,ie=_e.textStrokeWidth;let de=E;c?(O=z,E==="inner"&&(T===k-1?de=this.options.reverse?"left":"right":T===0?de=this.options.reverse?"right":"left":de="center"),a==="top"?m==="near"||S!==0?re=-Z*K+K/2:m==="center"?re=-fe.highest.height/2-F*K+K:re=-fe.highest.height+K/2:m==="near"||S!==0?re=K/2:m==="center"?re=fe.highest.height/2-F*K:re=fe.highest.height-Z*K,x&&(re*=-1),S!==0&&!_e.showLabelBackdrop&&(O+=K/2*Math.sin(S))):(R=z,re=(1-Z)*K/2);let D;if(_e.showLabelBackdrop){const H=bs(_e.backdropPadding),te=fe.heights[T],L=fe.widths[T];let se=re-H.top,oe=0-H.left;switch(Se){case"middle":se-=te/2;break;case"bottom":se-=te;break}switch(E){case"center":oe-=L/2;break;case"right":oe-=L;break;case"inner":T===k-1?oe-=L:T>0&&(oe-=L/2);break}D={left:oe,top:se,width:L+H.width,height:te+H.height,color:_e.backdropColor}}j.push({label:C,font:U,textOffset:re,options:{rotation:S,color:G,strokeColor:ae,strokeWidth:ie,textAlign:de,textBaseline:Se,translation:[O,R],backdrop:D}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-kn(this.labelRotation))return e==="top"?"left":"right";let a="center";return s.align==="start"?a="left":s.align==="end"?a="right":s.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),d=e+o,f=c.widest.width;let m,g;return s==="left"?a?(g=this.right+o,n==="near"?m="left":n==="center"?(m="center",g+=f/2):(m="right",g+=f)):(g=this.right-d,n==="near"?m="right":n==="center"?(m="center",g-=f/2):(m="left",g=this.left)):s==="right"?a?(g=this.left+o,n==="near"?m="right":n==="center"?(m="center",g-=f/2):(m="left",g-=f)):(g=this.left+d,n==="near"?m="left":n==="center"?(m="center",g+=f/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:a,width:o,height:c}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,a,o,c),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?s.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const d=(f,m,g)=>{!g.width||!g.color||(n.save(),n.lineWidth=g.width,n.strokeStyle=g.color,n.setLineDash(g.borderDash||[]),n.lineDashOffset=g.borderDashOffset,n.beginPath(),n.moveTo(f.x,f.y),n.lineTo(m.x,m.y),n.stroke(),n.restore())};if(s.display)for(o=0,c=a.length;o<c;++o){const f=a[o];s.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),s.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:a}}=this,o=n.setContext(this.getContext()),c=n.display?o.width:0;if(!c)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,g,x,b;this.isHorizontal()?(m=or(e,this.left,c)-c/2,g=or(e,this.right,d)+d/2,x=b=f):(x=or(e,this.top,c)-c/2,b=or(e,this.bottom,d)+d/2,m=g=f),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(m,x),s.lineTo(g,b),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&wh(n,a);const o=this.getLabelItems(e);for(const c of o){const d=c.options,f=c.font,m=c.label,g=c.textOffset;Nr(n,m,0,g,f,d)}a&&Sh(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:a}}=this;if(!n.display)return;const o=Qt(n.font),c=bs(n.padding),d=n.align;let f=o.lineHeight/2;s==="bottom"||s==="center"||qe(s)?(f+=c.bottom,Tt(n.text)&&(f+=o.lineHeight*(n.text.length-1))):f+=c.top;const{titleX:m,titleY:g,maxWidth:x,rotation:b}=iE(this,f,s,d);Nr(e,n.text,0,0,o,{color:n.color,maxWidth:x,rotation:b,textAlign:nE(d,s,a),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Oe(e.grid&&e.grid.z,-1),a=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Mr.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let o,c;for(o=0,c=s.length;o<c;++o){const d=s[o];d[n]===this.id&&(!e||d.type===e)&&a.push(d)}return a}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Qt(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gd{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;oE(s)&&(n=this.register(s));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,aE(e,c,n),this.override&&Dt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,a=this.scope;n in s&&delete s[n],a&&n in Dt[a]&&(delete Dt[a][n],this.override&&delete jr[n])}}function aE(t,e,s){const n=_c(Object.create(null),[s?Dt.get(s):{},Dt.get(e),t.defaults]);Dt.set(e,n),t.defaultRoutes&&rE(e,t.defaultRoutes),t.descriptors&&Dt.describe(e,t.descriptors)}function rE(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),a=n.pop(),o=[t].concat(n).join("."),c=e[s].split("."),d=c.pop(),f=c.join(".");Dt.route(o,a,f,d)})}function oE(t){return"id"in t&&"defaults"in t}class lE{constructor(){this.controllers=new gd(Ba,"datasets",!0),this.elements=new gd(Hi,"elements"),this.plugins=new gd(Object,"plugins"),this.scales=new gd(Mr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(a=>{const o=n||this._getRegistryForType(a);n||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):ct(a,c=>{const d=n||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,s,n){const a=ax(e);gt(n["before"+a],[],n),s[e](n),gt(n["after"+a],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const a=s.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Yn=new lE;class cE{constructor(){this._init=void 0}notify(e,s,n,a){if(s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,s,n);return s==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,s,n,a){a=a||{};for(const o of e){const c=o.plugin,d=c[n],f=[s,a,o.options];if(gt(d,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){Ue(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,a=Oe(n.options&&n.options.plugins,{}),o=uE(n);return a===!1&&!s?[]:hE(e,o,a,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,a=(o,c)=>o.filter(d=>!c.some(f=>d.plugin.id===f.plugin.id));this._notify(a(s,n),e,"stop"),this._notify(a(n,s),e,"start")}}function uE(t){const e={},s=[],n=Object.keys(Yn.plugins.items);for(let o=0;o<n.length;o++)s.push(Yn.getPlugin(n[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];s.indexOf(c)===-1&&(s.push(c),e[c.id]=!0)}return{plugins:s,localIds:e}}function dE(t,e){return!e&&t===!1?null:t===!0?{}:t}function hE(t,{plugins:e,localIds:s},n,a){const o=[],c=t.getContext();for(const d of e){const f=d.id,m=dE(n[f],a);m!==null&&o.push({plugin:d,options:fE(t.config,{plugin:d,local:s[f]},m,c)})}return o}function fE(t,{plugin:e,local:s},n,a){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(n,o);return s&&e.defaults&&c.push(e.defaults),t.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hg(t,e){const s=Dt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function mE(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function pE(t,e){return t===e?"_index_":"_value_"}function z_(t){if(t==="x"||t==="y"||t==="r")return t}function gE(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function fg(t,...e){if(z_(t))return t;for(const s of e){const n=s.axis||gE(s.position)||t.length>1&&z_(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function P_(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function xE(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return P_(t,"x",s[0])||P_(t,"y",s[0])}return{}}function yE(t,e){const s=jr[t.type]||{scales:{}},n=e.scales||{},a=hg(t.type,e),o=Object.create(null);return Object.keys(n).forEach(c=>{const d=n[c];if(!qe(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=fg(c,d,xE(c,t),Dt.scales[d.type]),m=pE(f,a),g=s.scales||{};o[c]=lc(Object.create(null),[{axis:f},d,g[f],g[m]])}),t.data.datasets.forEach(c=>{const d=c.type||t.type,f=c.indexAxis||hg(d,e),g=(jr[d]||{}).scales||{};Object.keys(g).forEach(x=>{const b=mE(x,f),v=c[b+"AxisID"]||b;o[v]=o[v]||Object.create(null),lc(o[v],[{axis:b},n[v],g[x]])})}),Object.keys(o).forEach(c=>{const d=o[c];lc(d,[Dt.scales[d.type],Dt.scale])}),o}function aj(t){const e=t.options||(t.options={});e.plugins=Oe(e.plugins,{}),e.scales=yE(t,e)}function rj(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function bE(t){return t=t||{},t.data=rj(t.data),aj(t),t}const B_=new Map,oj=new Set;function xd(t,e){let s=B_.get(t);return s||(s=e(),B_.set(t,s),oj.add(s)),s}const Yl=(t,e,s)=>{const n=Ea(e,s);n!==void 0&&t.add(n)};class vE{constructor(e){this._config=bE(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=rj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),aj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return xd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return xd(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return xd(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return xd(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let a=n.get(e);return(!a||s)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,s,n){const{options:a,type:o}=this,c=this._cachedScopes(e,n),d=c.get(s);if(d)return d;const f=new Set;s.forEach(g=>{e&&(f.add(e),g.forEach(x=>Yl(f,e,x))),g.forEach(x=>Yl(f,a,x)),g.forEach(x=>Yl(f,jr[o]||{},x)),g.forEach(x=>Yl(f,Dt,x)),g.forEach(x=>Yl(f,ug,x))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),oj.has(s)&&c.set(s,m),m}chartOptionScopes(){const{options:e,type:s}=this;return[e,jr[s]||{},Dt.datasets[s]||{},{type:s},Dt,ug]}resolveNamedOptions(e,s,n,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=V_(this._resolverCache,e,a);let f=c;if(wE(c,s)){o.$shared=!1,n=Oa(n)?n():n;const m=this.createResolver(e,n,d);f=Ao(c,n,m)}for(const m of s)o[m]=f[m];return o}createResolver(e,s,n=[""],a){const{resolver:o}=V_(this._resolverCache,e,n);return qe(s)?Ao(o,s,void 0,a):o}}function V_(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=s.join();let o=n.get(a);return o||(o={resolver:dx(e,s),subPrefixes:s.filter(d=>!d.toLowerCase().includes("hover"))},n.set(a,o)),o}const _E=t=>qe(t)&&Object.getOwnPropertyNames(t).some(e=>Oa(t[e]));function wE(t,e){const{isScriptable:s,isIndexable:n}=RS(t);for(const a of e){const o=s(a),c=n(a),d=(c||o)&&t[a];if(o&&(Oa(d)||_E(d))||c&&Tt(d))return!0}return!1}var SE="4.5.1";const jE=["top","bottom","left","right","chartArea"];function F_(t,e){return t==="top"||t==="bottom"||jE.indexOf(t)===-1&&e==="x"}function H_(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function U_(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),gt(s&&s.onComplete,[t],e)}function NE(t){const e=t.chart,s=e.options.animation;gt(s&&s.onProgress,[t],e)}function lj(t){return mx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ed={},Y_=t=>{const e=lj(t);return Object.values(Ed).filter(s=>s.canvas===e).pop()};function kE(t,e,s){const n=Object.keys(t);for(const a of n){const o=+a;if(o>=e){const c=t[a];delete t[a],(s>0||o>e)&&(t[o+s]=c)}}}function ME(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}let Cn=class{static defaults=Dt;static instances=Ed;static overrides=jr;static registry=Yn;static version=SE;static getChart=Y_;static register(...e){Yn.add(...e),W_()}static unregister(...e){Yn.remove(...e),W_()}constructor(e,s){const n=this.config=new vE(s),a=lj(e),o=Y_(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||I3(a)),this.platform.updateConfig(n);const d=this.platform.acquireContext(a,c.aspectRatio),f=d&&d.canvas,m=f&&f.height,g=f&&f.width;if(this.id=kC(),this.ctx=d,this.canvas=f,this.width=g,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=YC(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],Ed[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ji.listen(this,"complete",U_),ji.listen(this,"progress",NE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:a,_aspectRatio:o}=this;return Ue(e)?s&&o?o:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Yn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():h_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return c_(this.canvas,this.ctx),this}stop(){return ji.stop(this),this}resize(e,s){ji.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,a=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,s,o),d=n.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,h_(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),gt(n.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ct(s,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,a=Object.keys(n).reduce((c,d)=>(c[d]=!1,c),{});let o=[];s&&(o=o.concat(Object.keys(s).map(c=>{const d=s[c],f=fg(c,d),m=f==="r",g=f==="x";return{options:d,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),ct(o,c=>{const d=c.options,f=d.id,m=fg(f,d),g=Oe(d.type,c.dtype);(d.position===void 0||F_(d.position,m)!==F_(c.dposition))&&(d.position=c.dposition),a[f]=!0;let x=null;if(f in n&&n[f].type===g)x=n[f];else{const b=Yn.getScale(g);x=new b({id:f,type:g,ctx:this.ctx,chart:this}),n[x.id]=x}x.init(d,e)}),ct(a,(c,d)=>{c||delete n[d]}),ct(n,c=>{gs.configure(this,c,c.options),gs.addBox(this,c)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((a,o)=>a.index-o.index),n>s){for(let a=s;a<n;++a)this._destroyDatasetMeta(a);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(H_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,a)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=s.length;n<a;n++){const o=s[n];let c=this.getDatasetMeta(n);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(n),c=this.getDatasetMeta(n)),c.type=d,c.indexAxis=o.indexAxis||hg(d,this.options),c.order=o.order||0,c.index=n,c.label=""+o.label,c.visible=this.isDatasetVisible(n),c.controller)c.controller.updateIndex(n),c.controller.linkScales();else{const f=Yn.getController(d),{datasetElementType:m,dataElementType:g}=Dt.datasets[d];Object.assign(f,{dataElementType:Yn.getElement(g),datasetElementType:m&&Yn.getElement(m)}),c.controller=new f(this,n),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){ct(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:x}=this.getDatasetMeta(m),b=!a&&o.indexOf(x)===-1;x.buildOrUpdateElements(b),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=n.layout.autoPadding?c:0,this._updateLayout(c),a||ct(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(H_("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){ct(this.scales,e=>{gs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!e_(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:o}of s){const c=n==="_removeElements"?-o:o;kE(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(e.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),a=n(0);for(let o=1;o<s;o++)if(!e_(a,n(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gs.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ct(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Oa(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ji.has(this)?this.attached&&!ji.running(this)&&ji.start(this):(this.draw(),U_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let a,o;for(a=0,o=s.length;a<o;++a){const c=s[a];(!e||c.visible)&&n.push(c)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=IS(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&wh(s,a),e.controller.draw(),a&&Sh(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Ci(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,a){const o=j3.modes[s];return typeof o=="function"?o(this,e,n,a):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let a=n.filter(o=>o&&o._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Pa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const a=n?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);wc(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),c.update(o,{visible:n}),this.update(d=>d.datasetIndex===e?a:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),ji.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),c_(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Ed[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(o,c)=>{s.addEventListener(this,o,c),e[o]=c},a=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};ct(this.options.events,o=>n(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(f,m)=>{s.addEventListener(this,f,m),e[f]=m},a=(f,m)=>{e[f]&&(s.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const d=()=>{a("attach",d),this.attached=!0,this.resize(),n("resize",o),n("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),n("attach",d)},s.isAttached(this.canvas)?d():c()}unbindEvents(){ct(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},ct(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const a=n?"set":"remove";let o,c,d,f;for(s==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=e.length;d<f;++d){c=e[d];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!Gd(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const a=this.options.hover,o=(f,m)=>f.filter(g=>!m.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),c=o(s,e),d=n?e:o(e,s);c.length&&this.updateHoverStyle(c,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const o=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(o||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:a=[],options:o}=this,c=s,d=this._getActiveElements(e,a,n,c),f=EC(e),m=ME(e,this._lastEvent,n,f);n&&(this._lastEvent=null,gt(o.onHover,[e,d,this],this),f&&gt(o.onClick,[e,d,this],this));const g=!Gd(d,a);return(g||s)&&(this._active=d,this._updateHoverStyles(d,a,s)),this._lastEvent=m,g}_getActiveElements(e,s,n,a){if(e.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function W_(){return ct(Cn.instances,t=>t._plugins.invalidate())}function TE(t,e,s){const{startAngle:n,x:a,y:o,outerRadius:c,innerRadius:d,options:f}=e,{borderWidth:m,borderJoinStyle:g}=f,x=Math.min(m/c,ps(n-s));if(t.beginPath(),t.arc(a,o,c-m/2,n+x/2,s-x/2),d>0){const b=Math.min(m/d,ps(n-s));t.arc(a,o,d+m/2,s-b/2,n+b/2,!0)}else{const b=Math.min(m/2,c*ps(n-s));if(g==="round")t.arc(a,o,b,s-tt/2,n+tt/2,!0);else if(g==="bevel"){const v=2*b*b,w=-v*Math.cos(s+tt/2)+a,S=-v*Math.sin(s+tt/2)+o,j=v*Math.cos(n+tt/2)+a,T=v*Math.sin(n+tt/2)+o;t.lineTo(w,S),t.lineTo(j,T)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function DE(t,e,s){const{startAngle:n,pixelMargin:a,x:o,y:c,outerRadius:d,innerRadius:f}=e;let m=a/d;t.beginPath(),t.arc(o,c,d,n-m,s+m),f>a?(m=a/f,t.arc(o,c,f,s+m,n-m,!0)):t.arc(o,c,a,s+Ut,n-Ut),t.closePath(),t.clip()}function CE(t){return ux(t,["outerStart","outerEnd","innerStart","innerEnd"])}function AE(t,e,s,n){const a=CE(t.options.borderRadius),o=(s-e)/2,c=Math.min(o,n*e/2),d=f=>{const m=(s-Math.min(o,f))*n/2;return ss(f,0,Math.min(o,m))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:ss(a.innerStart,0,c),innerEnd:ss(a.innerEnd,0,c)}}function fo(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function Jd(t,e,s,n,a,o){const{x:c,y:d,startAngle:f,pixelMargin:m,innerRadius:g}=e,x=Math.max(e.outerRadius+n+s-m,0),b=g>0?g+n+s+m:0;let v=0;const w=a-f;if(n){const _e=g>0?g-n:0,F=x>0?x-n:0,G=(_e+F)/2,ae=G!==0?w*G/(G+n):w;v=(w-ae)/2}const S=Math.max(.001,w*x-s/tt)/x,j=(w-S)/2,T=f+j+v,k=a-j-v,{outerStart:A,outerEnd:C,innerStart:O,innerEnd:R}=AE(e,b,x,k-T),E=x-A,z=x-C,U=T+A/E,K=k-C/z,Z=b+O,re=b+R,Se=T+O/Z,fe=k-R/re;if(t.beginPath(),o){const _e=(U+K)/2;if(t.arc(c,d,x,U,_e),t.arc(c,d,x,_e,K),C>0){const ie=fo(z,K,c,d);t.arc(ie.x,ie.y,C,K,k+Ut)}const F=fo(re,k,c,d);if(t.lineTo(F.x,F.y),R>0){const ie=fo(re,fe,c,d);t.arc(ie.x,ie.y,R,k+Ut,fe+Math.PI)}const G=(k-R/b+(T+O/b))/2;if(t.arc(c,d,b,k-R/b,G,!0),t.arc(c,d,b,G,T+O/b,!0),O>0){const ie=fo(Z,Se,c,d);t.arc(ie.x,ie.y,O,Se+Math.PI,T-Ut)}const ae=fo(E,T,c,d);if(t.lineTo(ae.x,ae.y),A>0){const ie=fo(E,U,c,d);t.arc(ie.x,ie.y,A,T-Ut,U)}}else{t.moveTo(c,d);const _e=Math.cos(U)*x+c,F=Math.sin(U)*x+d;t.lineTo(_e,F);const G=Math.cos(K)*x+c,ae=Math.sin(K)*x+d;t.lineTo(G,ae)}t.closePath()}function EE(t,e,s,n,a){const{fullCircles:o,startAngle:c,circumference:d}=e;let f=e.endAngle;if(o){Jd(t,e,s,n,f,a);for(let m=0;m<o;++m)t.fill();isNaN(d)||(f=c+(d%_t||_t))}return Jd(t,e,s,n,f,a),t.fill(),f}function OE(t,e,s,n,a){const{fullCircles:o,startAngle:c,circumference:d,options:f}=e,{borderWidth:m,borderJoinStyle:g,borderDash:x,borderDashOffset:b,borderRadius:v}=f,w=f.borderAlign==="inner";if(!m)return;t.setLineDash(x||[]),t.lineDashOffset=b,w?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let S=e.endAngle;if(o){Jd(t,e,s,n,S,a);for(let j=0;j<o;++j)t.stroke();isNaN(d)||(S=c+(d%_t||_t))}w&&DE(t,e,S),f.selfJoin&&S-c>=tt&&v===0&&g!=="miter"&&TE(t,e,S),o||(Jd(t,e,s,n,S,a),t.stroke())}class RE extends Hi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,n){const a=this.getProps(["x","y"],n),{angle:o,distance:c}=jS(a,{x:e,y:s}),{startAngle:d,endAngle:f,innerRadius:m,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),b=(this.options.spacing+this.options.borderWidth)/2,v=Oe(x,f-d),w=Sc(o,d,f)&&d!==f,S=v>=_t||w,j=Ti(c,m+b,g+b);return S&&j}getCenterPoint(e){const{x:s,y:n,startAngle:a,endAngle:o,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:m}=this.options,g=(a+o)/2,x=(c+d+m+f)/2;return{x:s+Math.cos(g)*x,y:n+Math.sin(g)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:n}=this,a=(s.offset||0)/4,o=(s.spacing||0)/2,c=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=n>_t?Math.floor(n/_t):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*a,Math.sin(d)*a);const f=1-Math.sin(Math.min(tt,n||0)),m=a*f;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,EE(e,this,m,o,c),OE(e,this,m,o,c),e.restore()}}function cj(t,e,s=e){t.lineCap=Oe(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Oe(s.borderDash,e.borderDash)),t.lineDashOffset=Oe(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Oe(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Oe(s.borderWidth,e.borderWidth),t.strokeStyle=Oe(s.borderColor,e.borderColor)}function LE(t,e,s){t.lineTo(s.x,s.y)}function zE(t){return t.stepped?tA:t.tension||t.cubicInterpolationMode==="monotone"?sA:LE}function uj(t,e,s={}){const n=t.length,{start:a=0,end:o=n-1}=s,{start:c,end:d}=e,f=Math.max(a,c),m=Math.min(o,d),g=a<c&&o<c||a>d&&o>d;return{count:n,start:f,loop:e.loop,ilen:m<f&&!g?n+m-f:m-f}}function PE(t,e,s,n){const{points:a,options:o}=e,{count:c,start:d,loop:f,ilen:m}=uj(a,s,n),g=zE(o);let{move:x=!0,reverse:b}=n||{},v,w,S;for(v=0;v<=m;++v)w=a[(d+(b?m-v:v))%c],!w.skip&&(x?(t.moveTo(w.x,w.y),x=!1):g(t,S,w,b,o.stepped),S=w);return f&&(w=a[(d+(b?m:0))%c],g(t,S,w,b,o.stepped)),!!f}function BE(t,e,s,n){const a=e.points,{count:o,start:c,ilen:d}=uj(a,s,n),{move:f=!0,reverse:m}=n||{};let g=0,x=0,b,v,w,S,j,T;const k=C=>(c+(m?d-C:C))%o,A=()=>{S!==j&&(t.lineTo(g,j),t.lineTo(g,S),t.lineTo(g,T))};for(f&&(v=a[k(0)],t.moveTo(v.x,v.y)),b=0;b<=d;++b){if(v=a[k(b)],v.skip)continue;const C=v.x,O=v.y,R=C|0;R===w?(O<S?S=O:O>j&&(j=O),g=(x*g+C)/++x):(A(),t.lineTo(C,O),w=R,x=0,S=j=O),T=O}A()}function mg(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?BE:PE}function VE(t){return t.stepped?RA:t.tension||t.cubicInterpolationMode==="monotone"?LA:pr}function FE(t,e,s,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,s,n)&&a.closePath()),cj(t,e.options),t.stroke(a)}function HE(t,e,s,n){const{segments:a,options:o}=e,c=mg(e);for(const d of a)cj(t,o,d.style),t.beginPath(),c(t,e,d,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const UE=typeof Path2D=="function";function YE(t,e,s,n){UE&&!e.options.segment?FE(t,e,s,n):HE(t,e,s,n)}class Ui extends Hi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;kA(this._points,n,e,a,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HA(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,a=e[s],o=this.points,c=WS(this,{property:s,start:a,end:a});if(!c.length)return;const d=[],f=VE(n);let m,g;for(m=0,g=c.length;m<g;++m){const{start:x,end:b}=c[m],v=o[x],w=o[b];if(v===w){d.push(v);continue}const S=Math.abs((a-v[s])/(w[s]-v[s])),j=f(v,w,S,n.stepped);j[s]=e[s],d.push(j)}return d.length===1?d[0]:d}pathSegment(e,s,n){return mg(this)(e,this,s,n)}path(e,s,n){const a=this.segments,o=mg(this);let c=this._loop;s=s||0,n=n||this.points.length-s;for(const d of a)c&=o(e,this,d,{start:s,end:s+n-1});return!!c}draw(e,s,n,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),YE(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function I_(t,e,s,n){const a=t.options,{[s]:o}=t.getProps([s],n);return Math.abs(e-o)<a.radius+a.hitRadius}class Vo extends Hi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,n){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],n);return Math.pow(e-o,2)+Math.pow(s-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,s){return I_(this,e,"x",s)}inYRange(e,s){return I_(this,e,"y",s)}getCenterPoint(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const n=s&&e.borderWidth||0;return(s+n)*2}draw(e,s){const n=this.options;this.skip||n.radius<.1||!Ci(this,s,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,dg(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function dj(t,e){const{x:s,y:n,base:a,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let d,f,m,g,x;return t.horizontal?(x=c/2,d=Math.min(s,a),f=Math.max(s,a),m=n-x,g=n+x):(x=o/2,d=s-x,f=s+x,m=Math.min(n,a),g=Math.max(n,a)),{left:d,top:m,right:f,bottom:g}}function ja(t,e,s,n){return t?0:ss(e,s,n)}function WE(t,e,s){const n=t.options.borderWidth,a=t.borderSkipped,o=OS(n);return{t:ja(a.top,o.top,0,s),r:ja(a.right,o.right,0,e),b:ja(a.bottom,o.bottom,0,s),l:ja(a.left,o.left,0,e)}}function IE(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=vr(a),c=Math.min(e,s),d=t.borderSkipped,f=n||qe(a);return{topLeft:ja(!f||d.top||d.left,o.topLeft,0,c),topRight:ja(!f||d.top||d.right,o.topRight,0,c),bottomLeft:ja(!f||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:ja(!f||d.bottom||d.right,o.bottomRight,0,c)}}function qE(t){const e=dj(t),s=e.right-e.left,n=e.bottom-e.top,a=WE(t,s/2,n/2),o=IE(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:s-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Sp(t,e,s,n){const a=e===null,o=s===null,d=t&&!(a&&o)&&dj(t,n);return d&&(a||Ti(e,d.left,d.right))&&(o||Ti(s,d.top,d.bottom))}function GE(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function $E(t,e){t.rect(e.x,e.y,e.w,e.h)}function jp(t,e,s={}){const n=t.x!==s.x?-e:0,a=t.y!==s.y?-e:0,o=(t.x+t.w!==s.x+s.w?e:0)-n,c=(t.y+t.h!==s.y+s.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+o,h:t.h+c,radius:t.radius}}class yx extends Hi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:a}}=this,{inner:o,outer:c}=qE(this),d=GE(c.radius)?jc:$E;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),d(e,jp(c,s,o)),e.clip(),d(e,jp(o,-s,c)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),d(e,jp(o,s)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,s,n){return Sp(this,e,s,n)}inXRange(e,s){return Sp(this,e,null,s)}inYRange(e,s){return Sp(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(s+a)/2:s,y:o?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var XE=Object.freeze({__proto__:null,ArcElement:RE,BarElement:yx,LineElement:Ui,PointElement:Vo});const pg=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],q_=pg.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function hj(t){return pg[t%pg.length]}function fj(t){return q_[t%q_.length]}function KE(t,e){return t.borderColor=hj(e),t.backgroundColor=fj(e),++e}function ZE(t,e){return t.backgroundColor=t.data.map(()=>hj(e++)),e}function QE(t,e){return t.backgroundColor=t.data.map(()=>fj(e++)),e}function JE(t){let e=0;return(s,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof gx?e=ZE(s,e):a instanceof ZS?e=QE(s,e):a&&(e=KE(s,e))}}function G_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function e4(t){return t&&(t.borderColor||t.backgroundColor)}function t4(){return Dt.borderColor!=="rgba(0,0,0,0.1)"||Dt.backgroundColor!=="rgba(0,0,0,0.1)"}var s4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,s){if(!s.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:o}=a,c=G_(n)||e4(a)||o&&G_(o)||t4();if(!s.forceOverride&&c)return;const d=JE(t);n.forEach(d)}};function n4(t,e,s,n,a){const o=a.samples||n;if(o>=s)return t.slice(e,e+s);const c=[],d=(s-2)/(o-2);let f=0;const m=e+s-1;let g=e,x,b,v,w,S;for(c[f++]=t[g],x=0;x<o-2;x++){let j=0,T=0,k;const A=Math.floor((x+1)*d)+1+e,C=Math.min(Math.floor((x+2)*d)+1,s)+e,O=C-A;for(k=A;k<C;k++)j+=t[k].x,T+=t[k].y;j/=O,T/=O;const R=Math.floor(x*d)+1+e,E=Math.min(Math.floor((x+1)*d)+1,s)+e,{x:z,y:U}=t[g];for(v=w=-1,k=R;k<E;k++)w=.5*Math.abs((z-j)*(t[k].y-U)-(z-t[k].x)*(T-U)),w>v&&(v=w,b=t[k],S=k);c[f++]=b,g=S}return c[f++]=t[m],c}function i4(t,e,s,n){let a=0,o=0,c,d,f,m,g,x,b,v,w,S;const j=[],T=e+s-1,k=t[e].x,C=t[T].x-k;for(c=e;c<e+s;++c){d=t[c],f=(d.x-k)/C*n,m=d.y;const O=f|0;if(O===g)m<w?(w=m,x=c):m>S&&(S=m,b=c),a=(o*a+d.x)/++o;else{const R=c-1;if(!Ue(x)&&!Ue(b)){const E=Math.min(x,b),z=Math.max(x,b);E!==v&&E!==R&&j.push({...t[E],x:a}),z!==v&&z!==R&&j.push({...t[z],x:a})}c>0&&R!==v&&j.push(t[R]),j.push(d),g=O,o=0,w=S=m,x=b=v=c}}return j}function mj(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function $_(t){t.data.datasets.forEach(e=>{mj(e)})}function a4(t,e){const s=e.length;let n=0,a;const{iScale:o}=t,{min:c,max:d,minDefined:f,maxDefined:m}=o.getUserBounds();return f&&(n=ss(Di(e,o.axis,c).lo,0,s-1)),m?a=ss(Di(e,o.axis,d).hi+1,n,s)-n:a=s-n,{start:n,count:a}}var r4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,s)=>{if(!s.enabled){$_(t);return}const n=t.width;t.data.datasets.forEach((a,o)=>{const{_data:c,indexAxis:d}=a,f=t.getDatasetMeta(o),m=c||a.data;if(Jl([d,t.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const g=t.scales[f.xAxisID];if(g.type!=="linear"&&g.type!=="time"||t.options.parsing)return;let{start:x,count:b}=a4(f,m);const v=s.threshold||4*n;if(b<=v){mj(a);return}Ue(c)&&(a._data=m,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(s.algorithm){case"lttb":w=n4(m,x,b,n,s);break;case"min-max":w=i4(m,x,b,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}a._decimated=w})},destroy(t){$_(t)}};function o4(t,e,s){const n=t.segments,a=t.points,o=e.points,c=[];for(const d of n){let{start:f,end:m}=d;m=kh(f,m,a);const g=gg(s,a[f],a[m],d.loop);if(!e.segments){c.push({source:d,target:g,start:a[f],end:a[m]});continue}const x=WS(e,g);for(const b of x){const v=gg(s,o[b.start],o[b.end],b.loop),w=YS(d,a,v);for(const S of w)c.push({source:S,target:b,start:{[s]:X_(g,v,"start",Math.max)},end:{[s]:X_(g,v,"end",Math.min)}})}}return c}function gg(t,e,s,n){if(n)return;let a=e[t],o=s[t];return t==="angle"&&(a=ps(a),o=ps(o)),{property:t,start:a,end:o}}function l4(t,e){const{x:s=null,y:n=null}=t||{},a=e.points,o=[];return e.segments.forEach(({start:c,end:d})=>{d=kh(c,d,a);const f=a[c],m=a[d];n!==null?(o.push({x:f.x,y:n}),o.push({x:m.x,y:n})):s!==null&&(o.push({x:s,y:f.y}),o.push({x:s,y:m.y}))}),o}function kh(t,e,s){for(;e>t;e--){const n=s[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function X_(t,e,s,n){return t&&e?n(t[s],e[s]):t?t[s]:e?e[s]:0}function pj(t,e){let s=[],n=!1;return Tt(t)?(n=!0,s=t):s=l4(t,e),s.length?new Ui({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function K_(t){return t&&t.fill!==!1}function c4(t,e,s){let a=t[e].fill;const o=[e];let c;if(!s)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!Lt(a))return a;if(c=t[a],!c)return!1;if(c.visible)return a;o.push(a),a=c.fill}return!1}function u4(t,e,s){const n=m4(t);if(qe(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Lt(a)&&Math.floor(a)===a?d4(n[0],e,a,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function d4(t,e,s,n){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=n?!1:s}function h4(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:qe(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function f4(t,e,s){let n;return t==="start"?n=s:t==="end"?n=e.options.reverse?e.min:e.max:qe(t)?n=t.value:n=e.getBaseValue(),n}function m4(t){const e=t.options,s=e.fill;let n=Oe(s&&s.target,s);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function p4(t){const{scale:e,index:s,line:n}=t,a=[],o=n.segments,c=n.points,d=g4(e,s);d.push(pj({x:null,y:e.bottom},n));for(let f=0;f<o.length;f++){const m=o[f];for(let g=m.start;g<=m.end;g++)x4(a,c[g],d)}return new Ui({points:a,options:{}})}function g4(t,e){const s=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const o=n[a];if(o.index===e)break;o.hidden||s.unshift(o.dataset)}return s}function x4(t,e,s){const n=[];for(let a=0;a<s.length;a++){const o=s[a],{first:c,last:d,point:f}=y4(o,e,"x");if(!(!f||c&&d)){if(c)n.unshift(f);else if(t.push(f),!d)break}}t.push(...n)}function y4(t,e,s){const n=t.interpolate(e,s);if(!n)return{};const a=n[s],o=t.segments,c=t.points;let d=!1,f=!1;for(let m=0;m<o.length;m++){const g=o[m],x=c[g.start][s],b=c[g.end][s];if(Ti(a,x,b)){d=a===x,f=a===b;break}}return{first:d,last:f,point:n}}class gj{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,n){const{x:a,y:o,radius:c}=this;return s=s||{start:0,end:_t},e.arc(a,o,c,s.end,s.start,!0),!n.bounds}interpolate(e){const{x:s,y:n,radius:a}=this,o=e.angle;return{x:s+Math.cos(o)*a,y:n+Math.sin(o)*a,angle:o}}}function b4(t){const{chart:e,fill:s,line:n}=t;if(Lt(s))return v4(e,s);if(s==="stack")return p4(t);if(s==="shape")return!0;const a=_4(t);return a instanceof gj?a:pj(a,n)}function v4(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function _4(t){return(t.scale||{}).getPointPositionForValue?S4(t):w4(t)}function w4(t){const{scale:e={},fill:s}=t,n=h4(s,e);if(Lt(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function S4(t){const{scale:e,fill:s}=t,n=e.options,a=e.getLabels().length,o=n.reverse?e.max:e.min,c=f4(s,e,o),d=[];if(n.grid.circular){const f=e.getPointPositionForValue(0,o);return new gj({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(c)})}for(let f=0;f<a;++f)d.push(e.getPointPositionForValue(f,c));return d}function Np(t,e,s){const n=b4(e),{chart:a,index:o,line:c,scale:d,axis:f}=e,m=c.options,g=m.fill,x=m.backgroundColor,{above:b=x,below:v=x}=g||{},w=a.getDatasetMeta(o),S=IS(a,w);n&&c.points.length&&(wh(t,s),j4(t,{line:c,target:n,above:b,below:v,area:s,scale:d,axis:f,clip:S}),Sh(t))}function j4(t,e){const{line:s,target:n,above:a,below:o,area:c,scale:d,clip:f}=e,m=s._loop?"angle":e.axis;t.save();let g=o;o!==a&&(m==="x"?(Z_(t,n,c.top),kp(t,{line:s,target:n,color:a,scale:d,property:m,clip:f}),t.restore(),t.save(),Z_(t,n,c.bottom)):m==="y"&&(Q_(t,n,c.left),kp(t,{line:s,target:n,color:o,scale:d,property:m,clip:f}),t.restore(),t.save(),Q_(t,n,c.right),g=a)),kp(t,{line:s,target:n,color:g,scale:d,property:m,clip:f}),t.restore()}function Z_(t,e,s){const{segments:n,points:a}=e;let o=!0,c=!1;t.beginPath();for(const d of n){const{start:f,end:m}=d,g=a[f],x=a[kh(f,m,a)];o?(t.moveTo(g.x,g.y),o=!1):(t.lineTo(g.x,s),t.lineTo(g.x,g.y)),c=!!e.pathSegment(t,d,{move:c}),c?t.closePath():t.lineTo(x.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function Q_(t,e,s){const{segments:n,points:a}=e;let o=!0,c=!1;t.beginPath();for(const d of n){const{start:f,end:m}=d,g=a[f],x=a[kh(f,m,a)];o?(t.moveTo(g.x,g.y),o=!1):(t.lineTo(s,g.y),t.lineTo(g.x,g.y)),c=!!e.pathSegment(t,d,{move:c}),c?t.closePath():t.lineTo(s,x.y)}t.lineTo(s,e.first().y),t.closePath(),t.clip()}function kp(t,e){const{line:s,target:n,property:a,color:o,scale:c,clip:d}=e,f=o4(s,n,a);for(const{source:m,target:g,start:x,end:b}of f){const{style:{backgroundColor:v=o}={}}=m,w=n!==!0;t.save(),t.fillStyle=v,N4(t,c,d,w&&gg(a,x,b)),t.beginPath();const S=!!s.pathSegment(t,m);let j;if(w){S?t.closePath():J_(t,n,b,a);const T=!!n.pathSegment(t,g,{move:S,reverse:!0});j=S&&T,j||J_(t,n,x,a)}t.closePath(),t.fill(j?"evenodd":"nonzero"),t.restore()}}function N4(t,e,s,n){const a=e.chart.chartArea,{property:o,start:c,end:d}=n||{};if(o==="x"||o==="y"){let f,m,g,x;o==="x"?(f=c,m=a.top,g=d,x=a.bottom):(f=a.left,m=c,g=a.right,x=d),t.beginPath(),s&&(f=Math.max(f,s.left),g=Math.min(g,s.right),m=Math.max(m,s.top),x=Math.min(x,s.bottom)),t.rect(f,m,g-f,x-m),t.clip()}}function J_(t,e,s,n){const a=e.interpolate(s,n);a&&t.lineTo(a.x,a.y)}var Mh={id:"filler",afterDatasetsUpdate(t,e,s){const n=(t.data.datasets||[]).length,a=[];let o,c,d,f;for(c=0;c<n;++c)o=t.getDatasetMeta(c),d=o.dataset,f=null,d&&d.options&&d instanceof Ui&&(f={visible:t.isDatasetVisible(c),index:c,fill:u4(d,c,n),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:d}),o.$filler=f,a.push(f);for(c=0;c<n;++c)f=a[c],!(!f||f.fill===!1)&&(f.fill=c4(a,c,s.propagate))},beforeDraw(t,e,s){const n=s.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let c=a.length-1;c>=0;--c){const d=a[c].$filler;d&&(d.line.updateControlPoints(o,d.axis),n&&d.fill&&Np(t.ctx,d,o))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const o=n[a].$filler;K_(o)&&Np(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,s){const n=e.meta.$filler;!K_(n)||s.drawTime!=="beforeDatasetDraw"||Np(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const e2=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},k4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class t2 extends Hi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=gt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Qt(n.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=e2(n,o);let m,g;s.font=a.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(c,o,d,f)+10):(g=this.maxHeight,m=this._fitCols(c,a,d,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,a){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],g=a+d;let x=e;o.textAlign="left",o.textBaseline="middle";let b=-1,v=-g;return this.legendItems.forEach((w,S)=>{const j=n+s/2+o.measureText(w.text).width;(S===0||m[m.length-1]+j+2*d>c)&&(x+=g,m[m.length-(S>0?0:1)]=0,v+=g,b++),f[S]={left:0,top:v,row:b,width:j,height:a},m[m.length-1]+=j+d}),x}_fitCols(e,s,n,a){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],g=c-e;let x=d,b=0,v=0,w=0,S=0;return this.legendItems.forEach((j,T)=>{const{itemWidth:k,itemHeight:A}=M4(n,s,o,j,a);T>0&&v+A+2*d>g&&(x+=b+d,m.push({width:b,height:v}),w+=b+d,S++,b=v=0),f[T]={left:w,top:v,col:S,width:k,height:A},b=Math.max(b,k),v+=A+d}),x+=b,m.push({width:b,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:a},rtl:o}}=this,c=No(o,this.left,this.width);if(this.isHorizontal()){let d=0,f=fs(n,this.left+a,this.right-this.lineWidths[d]);for(const m of s)d!==m.row&&(d=m.row,f=fs(n,this.left+a,this.right-this.lineWidths[d])),m.top+=this.top+e+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let d=0,f=fs(n,this.top+e+a,this.bottom-this.columnSizes[d].height);for(const m of s)m.col!==d&&(d=m.col,f=fs(n,this.top+e+a,this.bottom-this.columnSizes[d].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;wh(e,this),this._draw(),Sh(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:a}=this,{align:o,labels:c}=e,d=Dt.color,f=No(e.rtl,this.left,this.width),m=Qt(c.font),{padding:g}=c,x=m.size,b=x/2;let v;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:w,boxHeight:S,itemHeight:j}=e2(c,x),T=function(R,E,z){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;a.save();const U=Oe(z.lineWidth,1);if(a.fillStyle=Oe(z.fillStyle,d),a.lineCap=Oe(z.lineCap,"butt"),a.lineDashOffset=Oe(z.lineDashOffset,0),a.lineJoin=Oe(z.lineJoin,"miter"),a.lineWidth=U,a.strokeStyle=Oe(z.strokeStyle,d),a.setLineDash(Oe(z.lineDash,[])),c.usePointStyle){const K={radius:S*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:U},Z=f.xPlus(R,w/2),re=E+b;ES(a,K,Z,re,c.pointStyleWidth&&w)}else{const K=E+Math.max((x-S)/2,0),Z=f.leftForLtr(R,w),re=vr(z.borderRadius);a.beginPath(),Object.values(re).some(Se=>Se!==0)?jc(a,{x:Z,y:K,w,h:S,radius:re}):a.rect(Z,K,w,S),a.fill(),U!==0&&a.stroke()}a.restore()},k=function(R,E,z){Nr(a,z.text,R,E+j/2,m,{strikethrough:z.hidden,textAlign:f.textAlign(z.textAlign)})},A=this.isHorizontal(),C=this._computeTitleHeight();A?v={x:fs(o,this.left+g,this.right-n[0]),y:this.top+g+C,line:0}:v={x:this.left+g,y:fs(o,this.top+C+g,this.bottom-s[0].height),line:0},FS(this.ctx,e.textDirection);const O=j+g;this.legendItems.forEach((R,E)=>{a.strokeStyle=R.fontColor,a.fillStyle=R.fontColor;const z=a.measureText(R.text).width,U=f.textAlign(R.textAlign||(R.textAlign=c.textAlign)),K=w+b+z;let Z=v.x,re=v.y;f.setWidth(this.width),A?E>0&&Z+K+g>this.right&&(re=v.y+=O,v.line++,Z=v.x=fs(o,this.left+g,this.right-n[v.line])):E>0&&re+O>this.bottom&&(Z=v.x=Z+s[v.line].width+g,v.line++,re=v.y=fs(o,this.top+C+g,this.bottom-s[v.line].height));const Se=f.x(Z);if(T(Se,re,R),Z=WC(U,Z+w+b,A?Z+K:this.right,e.rtl),k(f.x(Z),re,R),A)v.x+=K+g;else if(typeof R.text!="string"){const fe=m.lineHeight;v.y+=xj(R,fe)+g}else v.y+=O}),HS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=Qt(s.font),a=bs(s.padding);if(!s.display)return;const o=No(e.rtl,this.left,this.width),c=this.ctx,d=s.position,f=n.size/2,m=a.top+f;let g,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+m,x=fs(e.align,x,this.right-b);else{const w=this.columnSizes.reduce((S,j)=>Math.max(S,j.height),0);g=m+fs(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const v=fs(d,x,x+b);c.textAlign=o.textAlign(lx(d)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=n.string,Nr(c,s.text,v,g,n)}_computeTitleHeight(){const e=this.options.title,s=Qt(e.font),n=bs(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,a,o;if(Ti(e,this.left,this.right)&&Ti(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(a=o[n],Ti(e,a.left,a.left+a.width)&&Ti(s,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!C4(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=k4(a,n);a&&!o&&gt(s.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!o&&gt(s.onHover,[e,n,this],this)}else n&&gt(s.onClick,[e,n,this],this)}}function M4(t,e,s,n,a){const o=T4(n,t,e,s),c=D4(a,n,e.lineHeight);return{itemWidth:o,itemHeight:c}}function T4(t,e,s,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+s.size/2+n.measureText(a).width}function D4(t,e,s){let n=t;return typeof e.text!="string"&&(n=xj(e,s)),n}function xj(t,e){const s=t.text?t.text.length:0;return e*s}function C4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Fo={id:"legend",_element:t2,start(t,e,s){const n=t.legend=new t2({ctx:t.ctx,options:s,chart:t});gs.configure(t,n,s),gs.addBox(t,n)},stop(t){gs.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;gs.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,a=s.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:a,color:o,useBorderRadius:c,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(s?0:void 0),g=bs(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:n||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(d||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class bx extends Hi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const a=Tt(n.text)?n.text.length:1;this._padding=bs(n.padding);const o=a*Qt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:a,right:o,options:c}=this,d=c.align;let f=0,m,g,x;return this.isHorizontal()?(g=fs(d,n,o),x=s+e,m=o-n):(c.position==="left"?(g=n+e,x=fs(d,a,s),f=tt*-.5):(g=o-e,x=fs(d,s,a),f=tt*.5),m=a-s),{titleX:g,titleY:x,maxWidth:m,rotation:f}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=Qt(s.font),o=n.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:f,rotation:m}=this._drawArgs(o);Nr(e,s.text,0,0,n,{color:s.color,maxWidth:f,rotation:m,textAlign:lx(s.align),textBaseline:"middle",translation:[c,d]})}}function A4(t,e){const s=new bx({ctx:t.ctx,options:e,chart:t});gs.configure(t,s,e),gs.addBox(t,s),t.titleBlock=s}var Th={id:"title",_element:bx,start(t,e,s){A4(t,s)},stop(t){const e=t.titleBlock;gs.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;gs.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yd=new WeakMap;var E4={id:"subtitle",start(t,e,s){const n=new bx({ctx:t.ctx,options:s,chart:t});gs.configure(t,n,s),gs.addBox(t,n),yd.set(t,n)},stop(t){gs.removeBox(t,yd.get(t)),yd.delete(t)},beforeUpdate(t,e,s){const n=yd.get(t);gs.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tc={average(t){if(!t.length)return!1;let e,s,n=new Set,a=0,o=0;for(e=0,s=t.length;e<s;++e){const d=t[e].element;if(d&&d.hasValue()){const f=d.tooltipPosition();n.add(f.x),a+=f.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((d,f)=>d+f)/n.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,a=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=t.length;o<c;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),g=cg(e,m);g<a&&(a=g,d=f)}}if(d){const f=d.tooltipPosition();s=f.x,n=f.y}return{x:s,y:n}}};function Un(t,e){return e&&(Tt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ni(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function O4(t,e){const{element:s,datasetIndex:n,index:a}=e,o=t.getDatasetMeta(n).controller,{label:c,value:d}=o.getLabelAndValue(a);return{chart:t,label:c,parsed:o.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:n,element:s}}function s2(t,e){const s=t.chart.ctx,{body:n,footer:a,title:o}=t,{boxWidth:c,boxHeight:d}=e,f=Qt(e.bodyFont),m=Qt(e.titleFont),g=Qt(e.footerFont),x=o.length,b=a.length,v=n.length,w=bs(e.padding);let S=w.height,j=0,T=n.reduce((C,O)=>C+O.before.length+O.lines.length+O.after.length,0);if(T+=t.beforeBody.length+t.afterBody.length,x&&(S+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),T){const C=e.displayColors?Math.max(d,f.lineHeight):f.lineHeight;S+=v*C+(T-v)*f.lineHeight+(T-1)*e.bodySpacing}b&&(S+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let k=0;const A=function(C){j=Math.max(j,s.measureText(C).width+k)};return s.save(),s.font=m.string,ct(t.title,A),s.font=f.string,ct(t.beforeBody.concat(t.afterBody),A),k=e.displayColors?c+2+e.boxPadding:0,ct(n,C=>{ct(C.before,A),ct(C.lines,A),ct(C.after,A)}),k=0,s.font=g.string,ct(t.footer,A),s.restore(),j+=w.width,{width:j,height:S}}function R4(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function L4(t,e,s,n){const{x:a,width:o}=n,c=s.caretSize+s.caretPadding;if(t==="left"&&a+o+c>e.width||t==="right"&&a-o-c<0)return!0}function z4(t,e,s,n){const{x:a,width:o}=s,{width:c,chartArea:{left:d,right:f}}=t;let m="center";return n==="center"?m=a<=(d+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),L4(m,t,e,s)&&(m="center"),m}function n2(t,e,s){const n=s.yAlign||e.yAlign||R4(t,s);return{xAlign:s.xAlign||e.xAlign||z4(t,e,s,n),yAlign:n}}function P4(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function B4(t,e,s){let{y:n,height:a}=t;return e==="top"?n+=s:e==="bottom"?n-=a+s:n-=a/2,n}function i2(t,e,s,n){const{caretSize:a,caretPadding:o,cornerRadius:c}=t,{xAlign:d,yAlign:f}=s,m=a+o,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:v}=vr(c);let w=P4(e,d);const S=B4(e,f,m);return f==="center"?d==="left"?w+=m:d==="right"&&(w-=m):d==="left"?w-=Math.max(g,b)+a:d==="right"&&(w+=Math.max(x,v)+a),{x:ss(w,0,n.width-e.width),y:ss(S,0,n.height-e.height)}}function bd(t,e,s){const n=bs(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function a2(t){return Un([],Ni(t))}function V4(t,e,s){return Pa(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function r2(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const yj={beforeTitle:wi,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:wi,beforeBody:wi,beforeLabel:wi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Ue(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:wi,afterBody:wi,beforeFooter:wi,footer:wi,afterFooter:wi};function As(t,e,s,n){const a=t[e].call(s,n);return typeof a>"u"?yj[e].call(s,n):a}let o2=class extends Hi{static positioners=tc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&s.options.animation&&n.animations,o=new qS(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=V4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,a=As(n,"beforeTitle",this,e),o=As(n,"title",this,e),c=As(n,"afterTitle",this,e);let d=[];return d=Un(d,Ni(a)),d=Un(d,Ni(o)),d=Un(d,Ni(c)),d}getBeforeBody(e,s){return a2(As(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,a=[];return ct(e,o=>{const c={before:[],lines:[],after:[]},d=r2(n,o);Un(c.before,Ni(As(d,"beforeLabel",this,o))),Un(c.lines,As(d,"label",this,o)),Un(c.after,Ni(As(d,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,s){return a2(As(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,a=As(n,"beforeFooter",this,e),o=As(n,"footer",this,e),c=As(n,"afterFooter",this,e);let d=[];return d=Un(d,Ni(a)),d=Un(d,Ni(o)),d=Un(d,Ni(c)),d}_createItems(e){const s=this._active,n=this.chart.data,a=[],o=[],c=[];let d=[],f,m;for(f=0,m=s.length;f<m;++f)d.push(O4(this.chart,s[f]));return e.filter&&(d=d.filter((g,x,b)=>e.filter(g,x,b,n))),e.itemSort&&(d=d.sort((g,x)=>e.itemSort(g,x,n))),ct(d,g=>{const x=r2(e.callbacks,g);a.push(As(x,"labelColor",this,g)),o.push(As(x,"labelPointStyle",this,g)),c.push(As(x,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(e,s){const n=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=tc[n.position].call(this,a,this._eventPosition);c=this._createItems(n),this.title=this.getTitle(c,n),this.beforeBody=this.getBeforeBody(c,n),this.body=this.getBody(c,n),this.afterBody=this.getAfterBody(c,n),this.footer=this.getFooter(c,n);const f=this._size=s2(this,n),m=Object.assign({},d,f),g=n2(this.chart,n,m),x=i2(n,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:x.x,y:x.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,a){const o=this.getCaretPosition(e,n,a);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(e,s,n){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:d}=n,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:x}=vr(d),{x:b,y:v}=e,{width:w,height:S}=s;let j,T,k,A,C,O;return o==="center"?(C=v+S/2,a==="left"?(j=b,T=j-c,A=C+c,O=C-c):(j=b+w,T=j+c,A=C-c,O=C+c),k=j):(a==="left"?T=b+Math.max(f,g)+c:a==="right"?T=b+w-Math.max(m,x)-c:T=this.caretX,o==="top"?(A=v,C=A-c,j=T-c,k=T+c):(A=v+S,C=A+c,j=T+c,k=T-c),O=A),{x1:j,x2:T,x3:k,y1:A,y2:C,y3:O}}drawTitle(e,s,n){const a=this.title,o=a.length;let c,d,f;if(o){const m=No(n.rtl,this.x,this.width);for(e.x=bd(this,n.titleAlign,n),s.textAlign=m.textAlign(n.titleAlign),s.textBaseline="middle",c=Qt(n.titleFont),d=n.titleSpacing,s.fillStyle=n.titleColor,s.font=c.string,f=0;f<o;++f)s.fillText(a[f],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+d,f+1===o&&(e.y+=n.titleMarginBottom-d)}}_drawColorBox(e,s,n,a,o){const c=this.labelColors[n],d=this.labelPointStyles[n],{boxHeight:f,boxWidth:m}=o,g=Qt(o.bodyFont),x=bd(this,"left",o),b=a.x(x),v=f<g.lineHeight?(g.lineHeight-f)/2:0,w=s.y+v;if(o.usePointStyle){const S={radius:Math.min(m,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},j=a.leftForLtr(b,m)+m/2,T=w+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,dg(e,S,j,T),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,dg(e,S,j,T)}else{e.lineWidth=qe(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const S=a.leftForLtr(b,m),j=a.leftForLtr(a.xPlus(b,1),m-2),T=vr(c.borderRadius);Object.values(T).some(k=>k!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,jc(e,{x:S,y:w,w:m,h:f,radius:T}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),jc(e,{x:j,y:w+1,w:m-2,h:f-2,radius:T}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,w,m,f),e.strokeRect(S,w,m,f),e.fillStyle=c.backgroundColor,e.fillRect(j,w+1,m-2,f-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:f,boxWidth:m,boxPadding:g}=n,x=Qt(n.bodyFont);let b=x.lineHeight,v=0;const w=No(n.rtl,this.x,this.width),S=function(z){s.fillText(z,w.x(e.x+v),e.y+b/2),e.y+=b+o},j=w.textAlign(c);let T,k,A,C,O,R,E;for(s.textAlign=c,s.textBaseline="middle",s.font=x.string,e.x=bd(this,j,n),s.fillStyle=n.bodyColor,ct(this.beforeBody,S),v=d&&j!=="right"?c==="center"?m/2+g:m+2+g:0,C=0,R=a.length;C<R;++C){for(T=a[C],k=this.labelTextColors[C],s.fillStyle=k,ct(T.before,S),A=T.lines,d&&A.length&&(this._drawColorBox(s,e,C,w,n),b=Math.max(x.lineHeight,f)),O=0,E=A.length;O<E;++O)S(A[O]),b=x.lineHeight;ct(T.after,S)}v=0,b=x.lineHeight,ct(this.afterBody,S),e.y-=o}drawFooter(e,s,n){const a=this.footer,o=a.length;let c,d;if(o){const f=No(n.rtl,this.x,this.width);for(e.x=bd(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=f.textAlign(n.footerAlign),s.textBaseline="middle",c=Qt(n.footerFont),s.fillStyle=n.footerColor,s.font=c.string,d=0;d<o;++d)s.fillText(a[d],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+n.footerSpacing}}drawBackground(e,s,n,a){const{xAlign:o,yAlign:c}=this,{x:d,y:f}=e,{width:m,height:g}=n,{topLeft:x,topRight:b,bottomLeft:v,bottomRight:w}=vr(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(d+x,f),c==="top"&&this.drawCaret(e,s,n,a),s.lineTo(d+m-b,f),s.quadraticCurveTo(d+m,f,d+m,f+b),c==="center"&&o==="right"&&this.drawCaret(e,s,n,a),s.lineTo(d+m,f+g-w),s.quadraticCurveTo(d+m,f+g,d+m-w,f+g),c==="bottom"&&this.drawCaret(e,s,n,a),s.lineTo(d+v,f+g),s.quadraticCurveTo(d,f+g,d,f+g-v),c==="center"&&o==="left"&&this.drawCaret(e,s,n,a),s.lineTo(d,f+x),s.quadraticCurveTo(d,f,d+x,f),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,a=n&&n.x,o=n&&n.y;if(a||o){const c=tc[e.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=s2(this,e),f=Object.assign({},c,this._size),m=n2(s,e,f),g=i2(e,f,m,s);(a._to!==g.x||o._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const c=bs(s.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&d&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,a,s),FS(e,s.textDirection),o.y+=c.top,this.drawTitle(o,e,s),this.drawBody(o,e,s),this.drawFooter(o,e,s),HS(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,a=e.map(({datasetIndex:d,index:f})=>{const m=this.chart.getDatasetMeta(d);if(!m)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:m.data[f],index:f}}),o=!Gd(n,a),c=this._positionChanged(a,s);(o||c)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,s,n),d=this._positionChanged(c,e),f=s||!Gd(c,o)||d;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),f}_getActiveElements(e,s,n,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return s.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,n);return o.reverse&&c.reverse(),c}_positionChanged(e,s){const{caretX:n,caretY:a,options:o}=this,c=tc[o.position].call(this,e,s);return c!==!1&&(n!==c.x||a!==c.y)}};var Ho={id:"tooltip",_element:o2,positioners:tc,afterInit(t,e,s){s&&(t.tooltip=new o2({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},F4=Object.freeze({__proto__:null,Colors:s4,Decimation:r4,Filler:Mh,Legend:Fo,SubTitle:E4,Title:Th,Tooltip:Ho});const H4=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function U4(t,e,s,n){const a=t.indexOf(e);if(a===-1)return H4(t,e,s,n);const o=t.lastIndexOf(e);return a!==o?s:a}const Y4=(t,e)=>t===null?null:ss(Math.round(t),0,e);function l2(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Vc extends Mr{static id="category";static defaults={ticks:{callback:l2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:a,label:o}of s)n[a]===o&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Ue(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:U4(n,e,Oe(s,e),this._addedLabels),Y4(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,a=[];let o=this.getLabels();o=e===0&&s===o.length-1?o:o.slice(e,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let c=e;c<=s;c++)a.push({value:c});return a}getLabelForValue(e){return l2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function W4(t,e){const s=[],{bounds:a,step:o,min:c,max:d,precision:f,count:m,maxTicks:g,maxDigits:x,includeBounds:b}=t,v=o||1,w=g-1,{min:S,max:j}=e,T=!Ue(c),k=!Ue(d),A=!Ue(m),C=(j-S)/(x+1);let O=s_((j-S)/w/v)*v,R,E,z,U;if(O<1e-14&&!T&&!k)return[{value:S},{value:j}];U=Math.ceil(j/O)-Math.floor(S/O),U>w&&(O=s_(U*O/w/v)*v),Ue(f)||(R=Math.pow(10,f),O=Math.ceil(O*R)/R),a==="ticks"?(E=Math.floor(S/O)*O,z=Math.ceil(j/O)*O):(E=S,z=j),T&&k&&o&&PC((d-c)/o,O/1e3)?(U=Math.round(Math.min((d-c)/O,g)),O=(d-c)/U,E=c,z=d):A?(E=T?c:E,z=k?d:z,U=m-1,O=(z-E)/U):(U=(z-E)/O,cc(U,Math.round(U),O/1e3)?U=Math.round(U):U=Math.ceil(U));const K=Math.max(n_(O),n_(E));R=Math.pow(10,Ue(f)?K:f),E=Math.round(E*R)/R,z=Math.round(z*R)/R;let Z=0;for(T&&(b&&E!==c?(s.push({value:c}),E<c&&Z++,cc(Math.round((E+Z*O)*R)/R,c,c2(c,C,t))&&Z++):E<c&&Z++);Z<U;++Z){const re=Math.round((E+Z*O)*R)/R;if(k&&re>d)break;s.push({value:re})}return k&&b&&z!==d?s.length&&cc(s[s.length-1].value,d,c2(d,C,t))?s[s.length-1].value=d:s.push({value:d}):(!k||z===d)&&s.push({value:z}),s}function c2(t,e,{horizontal:s,minRotation:n}){const a=kn(n),o=(s?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class eh extends Mr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Ue(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=s?a:f,d=f=>o=n?o:f;if(e){const f=In(a),m=In(o);f<0&&m<0?d(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);d(o+f),e||c(a-f)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),s=s||11),s&&(a=Math.min(s,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,c=W4(a,o);return e.bounds==="ticks"&&SS(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-s)/Math.max(e.length-1,1)/2;s-=a,n+=a}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return Bc(e,this.chart.options.locale,this.options.ticks.format)}}class Fc extends eh{static id="linear";static defaults={ticks:{callback:_h.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Lt(e)?e:0,this.max=Lt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=kn(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const kc=t=>Math.floor(wa(t)),cr=(t,e)=>Math.pow(10,kc(t)+e);function u2(t){return t/Math.pow(10,kc(t))===1}function d2(t,e,s){const n=Math.pow(10,s),a=Math.floor(t/n);return Math.ceil(e/n)-a}function I4(t,e){const s=e-t;let n=kc(s);for(;d2(t,e,n)>10;)n++;for(;d2(t,e,n)<10;)n--;return Math.min(n,kc(t))}function q4(t,{min:e,max:s}){e=Ws(t.min,e);const n=[],a=kc(e);let o=I4(e,s),c=o<0?Math.pow(10,Math.abs(o)):1;const d=Math.pow(10,o),f=a>o?Math.pow(10,a):0,m=Math.round((e-f)*c)/c,g=Math.floor((e-f)/d/10)*d*10;let x=Math.floor((m-g)/Math.pow(10,o)),b=Ws(t.min,Math.round((f+g+x*Math.pow(10,o))*c)/c);for(;b<s;)n.push({value:b,major:u2(b),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(o++,x=2,c=o>=0?1:c),b=Math.round((f+g+x*Math.pow(10,o))*c)/c;const v=Ws(t.max,b);return n.push({value:v,major:u2(v),significand:x}),n}class G4 extends Mr{static id="logarithmic";static defaults={ticks:{callback:_h.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const n=eh.prototype.parse.apply(this,[e,s]);if(n===0){this._zero=!0;return}return Lt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Lt(e)?Math.max(0,e):null,this.max=Lt(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Lt(this._userMin)&&(this.min=e===cr(this.min,0)?cr(this.min,-1):cr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let n=this.min,a=this.max;const o=d=>n=e?n:d,c=d=>a=s?a:d;n===a&&(n<=0?(o(1),c(10)):(o(cr(n,-1)),c(cr(a,1)))),n<=0&&o(cr(a,-1)),a<=0&&c(cr(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},n=q4(s,this);return e.bounds==="ticks"&&SS(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Bc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=wa(e),this._valueRange=wa(this.max)-wa(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(wa(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}function xg(t){const e=t.ticks;if(e.display&&t.display){const s=bs(e.backdropPadding);return Oe(e.font&&e.font.size,Dt.font.size)+s.height}return 0}function $4(t,e,s){return s=Tt(s)?s:[s],{w:eA(t,e.string,s),h:s.length*e.lineHeight}}function h2(t,e,s,n,a){return t===n||t===a?{start:e-s/2,end:e+s/2}:t<n||t>a?{start:e-s,end:e}:{start:e,end:e+s}}function X4(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),n=[],a=[],o=t._pointLabels.length,c=t.options.pointLabels,d=c.centerPointLabels?tt/o:0;for(let f=0;f<o;f++){const m=c.setContext(t.getPointLabelContext(f));a[f]=m.padding;const g=t.getPointPosition(f,t.drawingArea+a[f],d),x=Qt(m.font),b=$4(t.ctx,x,t._pointLabels[f]);n[f]=b;const v=ps(t.getIndexAngle(f)+d),w=Math.round(rx(v)),S=h2(w,g.x,b.w,0,180),j=h2(w,g.y,b.h,90,270);K4(s,e,v,S,j)}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=J4(t,n,a)}function K4(t,e,s,n,a){const o=Math.abs(Math.sin(s)),c=Math.abs(Math.cos(s));let d=0,f=0;n.start<e.l?(d=(e.l-n.start)/o,t.l=Math.min(t.l,e.l-d)):n.end>e.r&&(d=(n.end-e.r)/o,t.r=Math.max(t.r,e.r+d)),a.start<e.t?(f=(e.t-a.start)/c,t.t=Math.min(t.t,e.t-f)):a.end>e.b&&(f=(a.end-e.b)/c,t.b=Math.max(t.b,e.b+f))}function Z4(t,e,s){const n=t.drawingArea,{extra:a,additionalAngle:o,padding:c,size:d}=s,f=t.getPointPosition(e,n+a+c,o),m=Math.round(rx(ps(f.angle+Ut))),g=sO(f.y,d.h,m),x=eO(m),b=tO(f.x,d.w,x);return{visible:!0,x:f.x,y:g,textAlign:x,left:b,top:g,right:b+d.w,bottom:g+d.h}}function Q4(t,e){if(!e)return!0;const{left:s,top:n,right:a,bottom:o}=t;return!(Ci({x:s,y:n},e)||Ci({x:s,y:o},e)||Ci({x:a,y:n},e)||Ci({x:a,y:o},e))}function J4(t,e,s){const n=[],a=t._pointLabels.length,o=t.options,{centerPointLabels:c,display:d}=o.pointLabels,f={extra:xg(o)/2,additionalAngle:c?tt/a:0};let m;for(let g=0;g<a;g++){f.padding=s[g],f.size=e[g];const x=Z4(t,g,f);n.push(x),d==="auto"&&(x.visible=Q4(x,m),x.visible&&(m=x))}return n}function eO(t){return t===0||t===180?"center":t<180?"left":"right"}function tO(t,e,s){return s==="right"?t-=e:s==="center"&&(t-=e/2),t}function sO(t,e,s){return s===90||s===270?t-=e/2:(s>270||s<90)&&(t-=e),t}function nO(t,e,s){const{left:n,top:a,right:o,bottom:c}=s,{backdropColor:d}=e;if(!Ue(d)){const f=vr(e.borderRadius),m=bs(e.backdropPadding);t.fillStyle=d;const g=n-m.left,x=a-m.top,b=o-n+m.width,v=c-a+m.height;Object.values(f).some(w=>w!==0)?(t.beginPath(),jc(t,{x:g,y:x,w:b,h:v,radius:f}),t.fill()):t.fillRect(g,x,b,v)}}function iO(t,e){const{ctx:s,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const o=t._pointLabelItems[a];if(!o.visible)continue;const c=n.setContext(t.getPointLabelContext(a));nO(s,c,o);const d=Qt(c.font),{x:f,y:m,textAlign:g}=o;Nr(s,t._pointLabels[a],f,m+d.lineHeight/2,d,{color:c.color,textAlign:g,textBaseline:"middle"})}}function bj(t,e,s,n){const{ctx:a}=t;if(s)a.arc(t.xCenter,t.yCenter,e,0,_t);else{let o=t.getPointPosition(0,e);a.moveTo(o.x,o.y);for(let c=1;c<n;c++)o=t.getPointPosition(c,e),a.lineTo(o.x,o.y)}}function aO(t,e,s,n,a){const o=t.ctx,c=e.circular,{color:d,lineWidth:f}=e;!c&&!n||!d||!f||s<0||(o.save(),o.strokeStyle=d,o.lineWidth=f,o.setLineDash(a.dash||[]),o.lineDashOffset=a.dashOffset,o.beginPath(),bj(t,s,c,n),o.closePath(),o.stroke(),o.restore())}function rO(t,e,s){return Pa(t,{label:s,index:e,type:"pointLabel"})}class vj extends eh{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_h.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=bs(xg(this.options)/2),s=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=Lt(e)&&!isNaN(e)?e:0,this.max=Lt(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xg(this.options))}generateTickLabels(e){eh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,n)=>{const a=gt(this.options.pointLabels.callback,[s,n],this);return a||a===0?a:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?X4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,n,a){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,n,a))}getIndexAngle(e){const s=_t/(this._pointLabels.length||1),n=this.options.startAngle||0;return ps(e*s+kn(n))}getDistanceFromCenterForValue(e){if(Ue(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(Ue(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const n=s[e];return rO(this.getContext(),e,n)}}getPointPosition(e,s,n=0){const a=this.getIndexAngle(e)-Ut+n;return{x:Math.cos(a)*s+this.xCenter,y:Math.sin(a)*s+this.yCenter,angle:a}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:n,right:a,bottom:o}=this._pointLabelItems[e];return{left:s,top:n,right:a,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),bj(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:n,grid:a,border:o}=s,c=this._pointLabels.length;let d,f,m;if(s.pointLabels.display&&iO(this,c),a.display&&this.ticks.forEach((g,x)=>{if(x!==0||x===0&&this.min<0){f=this.getDistanceFromCenterForValue(g.value);const b=this.getContext(x),v=a.setContext(b),w=o.setContext(b);aO(this,v,f,c,w)}}),n.display){for(e.save(),d=c-1;d>=0;d--){const g=n.setContext(this.getPointLabelContext(d)),{color:x,lineWidth:b}=g;!b||!x||(e.lineWidth=b,e.strokeStyle=x,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,f=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),m=this.getPointPosition(d,f),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(m.x,m.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let o,c;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((d,f)=>{if(f===0&&this.min>=0&&!s.reverse)return;const m=n.setContext(this.getContext(f)),g=Qt(m.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),m.showLabelBackdrop){e.font=g.string,c=e.measureText(d.label).width,e.fillStyle=m.backdropColor;const x=bs(m.backdropPadding);e.fillRect(-c/2-x.left,-o-g.size/2-x.top,c+x.width,g.size+x.height)}Nr(e,d.label,0,-o,g,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),e.restore()}drawTitle(){}}const Dh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Os=Object.keys(Dh);function f2(t,e){return t-e}function m2(t,e){if(Ue(e))return null;const s=t._adapter,{parser:n,round:a,isoWeekday:o}=t._parseOpts;let c=e;return typeof n=="function"&&(c=n(c)),Lt(c)||(c=typeof n=="string"?s.parse(c,n):s.parse(c)),c===null?null:(a&&(c=a==="week"&&(Co(o)||o===!0)?s.startOf(c,"isoWeek",o):s.startOf(c,a)),+c)}function p2(t,e,s,n){const a=Os.length;for(let o=Os.indexOf(t);o<a-1;++o){const c=Dh[Os[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-e)/(d*c.size))<=n)return Os[o]}return Os[a-1]}function oO(t,e,s,n,a){for(let o=Os.length-1;o>=Os.indexOf(s);o--){const c=Os[o];if(Dh[c].common&&t._adapter.diff(a,n,c)>=e-1)return c}return Os[s?Os.indexOf(s):0]}function lO(t){for(let e=Os.indexOf(t)+1,s=Os.length;e<s;++e)if(Dh[Os[e]].common)return Os[e]}function g2(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:a}=ox(s,e),o=s[n]>=e?s[n]:s[a];t[o]=!0}}function cO(t,e,s,n){const a=t._adapter,o=+a.startOf(e[0].value,n),c=e[e.length-1].value;let d,f;for(d=o;d<=c;d=+a.add(d,1,n))f=s[d],f>=0&&(e[f].major=!0);return e}function x2(t,e,s){const n=[],a={},o=e.length;let c,d;for(c=0;c<o;++c)d=e[c],a[d]=c,n.push({value:d,major:!1});return o===0||!s?n:cO(t,n,a,s)}class th extends Mr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),a=this._adapter=new JS._date(e.adapters.date);a.init(s),lc(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:m2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!d&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!d)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Lt(a)&&!isNaN(a)?a:+s.startOf(Date.now(),n),o=Lt(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,d=HC(a,o,c);return this._unit=s.unit||(n.autoSkip?p2(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):oO(this,d.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:lO(this._unit),this.initOffsets(a),e.reverse&&d.reverse(),x2(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?s=1-a:s=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?n=o:n=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;s=ss(s,0,c),n=ss(n,0,c),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,a=this.options,o=a.time,c=o.unit||p2(o.minUnit,s,n,this._getLabelCapacity(s)),d=Oe(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Co(f)||f===!0,g={};let x=s,b,v;if(m&&(x=+e.startOf(x,"isoWeek",f)),x=+e.startOf(x,m?"day":c),e.diff(n,s,c)>1e5*d)throw new Error(s+" and "+n+" are too far apart with stepSize of "+d+" "+c);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=x,v=0;b<n;b=+e.add(b,d,c),v++)g2(g,b,w);return(b===n||a.bounds==="ticks"||v===1)&&g2(g,b,w),Object.keys(g).sort(f2).map(S=>+S)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const a=this.options.time.displayFormats,o=this._unit,c=s||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,s,n,a){const o=this.options,c=o.ticks.callback;if(c)return gt(c,[e,s,n],this);const d=o.time.displayFormats,f=this._unit,m=this._majorUnit,g=f&&d[f],x=m&&d[m],b=n[s],v=m&&x&&b&&b.major;return this._adapter.format(e,a||(v?x:g))}generateTickLabels(e){let s,n,a;for(s=0,n=e.length;s<n;++s)a=e[s],a.label=this._tickFormatFunction(a.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,a=kn(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(a),c=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:n*o+d*c,h:n*c+d*o}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,a=n[s.unit]||n.millisecond,o=this._tickFormatFunction(e,0,x2(this,[e],this._majorUnit),a),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,n=a.length;s<n;++s)e=e.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const a=this.getLabels();for(s=0,n=a.length;s<n;++s)e.push(m2(this,a[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return kS(e.sort(f2))}}function vd(t,e,s){let n=0,a=t.length-1,o,c,d,f;s?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=Di(t,"pos",e)),{pos:o,time:d}=t[n],{pos:c,time:f}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=Di(t,"time",e)),{time:o,pos:d}=t[n],{time:c,pos:f}=t[a]);const m=c-o;return m?d+(f-d)*(e-o)/m:d}class uO extends th{static id="timeseries";static defaults=th.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=vd(s,this.min),this._tableRange=vd(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,a=[],o=[];let c,d,f,m,g;for(c=0,d=e.length;c<d;++c)m=e[c],m>=s&&m<=n&&a.push(m);if(a.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(c=0,d=a.length;c<d;++c)g=a[c+1],f=a[c-1],m=a[c],Math.round((g+f)/2)!==m&&o.push({time:m,pos:c/(d-1)});return o}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(vd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return vd(this._table,n*this._tableRange+this._minPos,!0)}}var dO=Object.freeze({__proto__:null,CategoryScale:Vc,LinearScale:Fc,LogarithmicScale:G4,RadialLinearScale:vj,TimeScale:th,TimeSeriesScale:uO});const hO=[b3,XE,F4,dO];Cn.register(...hO);const Na={labels:Array.from({length:24},(t,e)=>`${String(e).padStart(2,"0")}:00`),load:Array.from({length:24},()=>+(Math.random()*2.2+.6).toFixed(2)),pv:Array.from({length:24},(t,e)=>+(Math.max(0,Math.sin((e-6)/4))*2.4).toFixed(2)),price:Array.from({length:24},()=>+(Math.random()*3.2+.8).toFixed(2))},_j="Europe/Stockholm";function vx(t){return new Date(t)}function sh(t,e=_j){return new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:e}).format(t)}function _x(t,e=new Date){return sh(vx(t))===sh(e)}function nh(t,e=new Date){const s=new Date(e);return s.setDate(s.getDate()+1),sh(vx(t))===sh(s)}function Mp(t){const e=vx(t);return new Intl.DateTimeFormat("sv-SE",{hour:"2-digit",minute:"2-digit",timeZone:_j}).format(e)}function fO(t,e,s=new Date){return t.filter(a=>e==="today"?_x(a.start_time,s):nh(a.start_time,s))}const mO={maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!1,labels:{color:"#e6e9ef",boxWidth:10,font:{size:12},filter:()=>!1}},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(30, 30, 46, 0.95)",titleColor:"#e6e9ef",bodyColor:"#a6b0bf",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:12,displayColors:!0,caretPadding:8,yAlign:"bottom",callbacks:{title:function(t){return t[0].label},label:function(t){const e=t.dataset.label||"",s=t.parsed.y;if(s==null)return"";let n=s.toFixed(2),a="";return e.includes("SEK/kWh")?(n=s.toFixed(2),a=" SEK/kWh"):e.includes("kW")?(n=s.toFixed(1),a=" kW"):e.includes("kWh")?(n=s.toFixed(2),a=" kWh"):e.includes("%")&&(n=s.toFixed(1),a="%"),`${e}: ${n}${a}`}}}},scales:{x:{grid:{color:"rgba(255,255,255,0.06)"},ticks:{color:"#a6b0bf",maxRotation:0,autoSkip:!1,callback:function(t,e,s){const n=this?.getLabelForValue?this.getLabelForValue(t):s[e]?.label;if(typeof n!="string")return"";const a=n.split(":");if(a.length<2)return"";const[o,c]=a;return c==="00"?o:""}}},y:{position:"right",min:0,max:8,title:{display:!1,text:"SEK/kWh",color:"#a6b0bf"},grid:{color:"rgba(255,255,255,0.06)"},ticks:{color:"#a6b0bf",display:!1}},y1:{position:"left",min:0,max:9,title:{display:!1,text:"kW",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1}},y2:{position:"left",min:0,max:9,title:{display:!1,text:"kWh",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1},display:!1},y3:{position:"right",min:0,max:100,title:{display:!0,text:"%",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf"},display:!1},y4:{position:"left",min:0,max:1.5,title:{display:!1,text:"kW (PV)",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1}}}},xo=(t,e={})=>{const s=(a,o)=>{const c=`palette = ${a}`;return e[c]||o},n={labels:t.labels,datasets:[{type:"line",label:"Import Price (SEK/kWh)",data:t.price,borderColor:s(4,"#2196F3"),backgroundColor:e["palette = 4"]?`${s(4,"#2196F3")}20`:"rgba(33,150,243,0.1)",yAxisID:"y",tension:0,stepped:"after",pointRadius:0},{type:"line",label:"PV Forecast (kW)",data:t.pv,borderColor:s(2,"#4CAF50"),backgroundColor:e["palette = 2"]?`${s(2,"#4CAF50")}30`:"rgba(76,175,80,0.15)",fill:!0,yAxisID:"y4",tension:.35,pointRadius:0},{type:"bar",label:"Load (kW)",data:t.load,backgroundColor:`${s(3,"#FF9800")}80`,borderRadius:0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Charge (kW)",data:t.charge??t.labels.map(()=>null),backgroundColor:`${s(4,"#2196F3")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Discharge (kW)",data:t.discharge??t.labels.map(()=>null),backgroundColor:`${s(1,"#F44336")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Export (kWh)",data:t.export??t.labels.map(()=>null),backgroundColor:`${s(2,"#4CAF50")}80`,hidden:!0,yAxisID:"y2",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Water Heating (kW)",data:t.water??t.labels.map(()=>null),backgroundColor:`${s(5,"#FF5722")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"line",label:"SoC Target (%)",data:t.socTarget??t.labels.map(()=>null),borderColor:s(13,"#9C27B0"),yAxisID:"y3",pointRadius:0,tension:0,stepped:"after",hidden:!0},{type:"line",label:"SoC Projected (%)",data:t.socProjected??t.labels.map(()=>null),borderColor:s(14,"#FFEB3B"),yAxisID:"y3",pointRadius:0,hidden:!0},{type:"line",label:"SoC Actual (%)",data:t.socActual??t.labels.map(()=>null),borderColor:s(15,"#80CBC4"),yAxisID:"y3",pointRadius:0,hidden:!0}]};return t.hasNoData&&(n.plugins={...n.plugins||{},tooltip:{enabled:!0,external:!0,callbacks:{title:()=>t.day==="tomorrow"?"No Price Data":"No Data",label:()=>t.day==="tomorrow"?"Schedule data not available yet. Check back later for prices.":"No schedule data available."}}}),{...n,nowIndex:t.nowIndex??null}};xo({labels:Na.labels,price:Na.price,pv:Na.pv,load:Na.load},{});function wj({day:t="today",range:e="48h",refreshToken:s=0,slotsOverride:n,useHistoryForToday:a=!1,showDayToggle:o=!1}){const[c,d]=N.useState(!1),[f,m]=N.useState(t||"today"),[g,x]=N.useState(e),b=N.useRef(null),v=N.useRef(null),[w,S]=N.useState({}),[j,T]=N.useState(""),[k,A]=N.useState({price:!0,pv:!0,load:!0,charge:!1,discharge:!1,export:!1,water:!1,socTarget:!1,socProjected:!1,socActual:!0}),[C,O]=N.useState(!1);N.useEffect(()=>{ge.config().then(U=>{const K=U?.dashboard?.overlay_defaults;if(K&&typeof K=="string"){const Z=K.split(",").map(fe=>fe.trim().toLowerCase()),re=Z.includes("socactual")||Z.includes("soc_actual"),Se={price:!Z.includes("price_off"),pv:!Z.includes("pv_off"),load:!Z.includes("load_off"),charge:Z.includes("charge"),discharge:Z.includes("discharge"),export:Z.includes("export"),water:Z.includes("water"),socTarget:Z.includes("soctarget")||Z.includes("soc_target"),socProjected:Z.includes("socprojected")||Z.includes("soc_projected"),socActual:re?!0:k.socActual};A(Se)}}).catch(U=>console.error("Failed to load overlay defaults:",U))},[]);const[R,E]=N.useState(null);N.useEffect(()=>{ge.theme().then(U=>{const K=U.themes.find(Z=>Z.name===U.current);if(K){const Z={};K.palette.forEach((re,Se)=>{Z[`palette = ${Se}`]=re}),Z.background=K.background,Z.foreground=K.foreground,S(Z),T(U.current)}}).catch(U=>console.error("Failed to load theme colors:",U))},[]),N.useEffect(()=>{if(!b.current||Object.keys(w).length===0)return;const U={type:"bar",data:xo({labels:Na.labels,price:Na.price,pv:Na.pv,load:Na.load},w),options:mO};return v.current=new Cn(b.current,U),()=>{v.current&&(v.current.destroy(),v.current=null)}},[w]);const z=U=>{if(!U)return!1;const K=U;return!(K._destroyed||K._plugins===void 0&&K.$plugins===void 0)};return N.useEffect(()=>{x(e)},[e]),N.useEffect(()=>{const U=v.current;if(!z(U)||Object.keys(w).length===0)return;const K=re=>{if(!z(v.current))return;const Se=pO(re,f,g,w);if(!Se)return;d(Se.hasNoData??!1);const fe=Se.datasets;fe[0]&&(fe[0].hidden=!k.price),fe[1]&&(fe[1].hidden=!k.pv),fe[2]&&(fe[2].hidden=!k.load),fe[3]&&(fe[3].hidden=!k.charge),fe[4]&&(fe[4].hidden=!k.discharge),fe[5]&&(fe[5].hidden=!k.export),fe[6]&&(fe[6].hidden=!k.water),fe[7]&&(fe[7].hidden=!k.socTarget),fe[8]&&(fe[8].hidden=!k.socProjected),fe[9]&&(fe[9].hidden=!k.socActual);const _e=Se;if(f==="today"&&typeof _e.nowIndex=="number"&&_e.nowIndex>=0&&Se.labels.length>1){const F=_e.nowIndex,G=Se.labels.length-1;E(F/G)}else E(null);try{if(!z(v.current))return;v.current&&(v.current.data=Se,v.current.update())}catch(F){console.error("Chart update failed, skipping frame:",F)}};if(n&&n.length){K(n);return}(a&&g==="day"&&f==="today"?ge.scheduleTodayWithHistory().then(re=>({schedule:re.slots})):ge.schedule()).then(re=>{K(re.schedule??[])}).catch(re=>{console.error("Failed to load schedule:",re),d(!0),E(null)})},[f,k,w,g,s,n,a]),u.jsxs(Ee,{className:"p-4 md:p-6 h-[380px]",children:[u.jsxs("div",{className:"flex items-baseline justify-between pb-2",children:[u.jsx("div",{className:"text-sm text-muted",children:"Schedule Overview"}),o&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${g==="day"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>x("day"),children:"24h"}),u.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${g==="48h"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>x("48h"),children:"48h"})]}),u.jsx("button",{className:"rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide border border-line/60 text-muted hover:border-accent hover:text-accent transition",onClick:()=>O(U=>!U),children:"Overlays"})]})]}),C&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-[11px]",children:[["Price","price"],["PV","pv"],["Load","load"],["Charge","charge"],["Discharge","discharge"],["Export","export"],["Water","water"],["SoC Target","socTarget"],["SoC Projected","socProjected"],["SoC Actual","socActual"]].map(([U,K])=>u.jsx("button",{onClick:Z=>{Z.preventDefault(),A(re=>({...re,[K]:!re[K]}))},className:`rounded-pill px-3 py-1 border ${k[K]?"bg-accent text-canvas border-accent":"border-line/60 text-muted hover:border-accent"}`,children:U},K))}),u.jsxs("div",{className:"h-[310px] relative mt-1",children:[c&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-surface/90 rounded-lg",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg font-semibold text-accent mb-2",children:"No Price Data"}),u.jsx("div",{className:"text-sm text-muted",children:"Schedule data not available yet. Check back later for prices."})]})}),!c&&f==="today"&&R!==null&&u.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:u.jsx("div",{className:"absolute top-2 bottom-6 border-l-2 border-accent/80",style:{left:`${R*100}%`}})}),u.jsx("canvas",{ref:b,style:{display:c?"none":"block"}})]})]})}function pO(t,e,s,n={}){const a=s==="day"?fO(t,e):t.filter(k=>_x(k.start_time)||nh(k.start_time));if(s==="day"){if(!a.length){const D=Array.from({length:24},(te,L)=>`${String(L).padStart(2,"0")}:00`),H=Array(24).fill(null);return xo({labels:D,price:H.slice(),pv:H.slice(),load:H.slice(),charge:H.slice(),discharge:H.slice(),export:H.slice(),water:H.slice(),socTarget:H.slice(),socProjected:H.slice(),socActual:H.slice(),hasNoData:!0,day:e},n)}const k=[...a].sort((D,H)=>{const te=new Date(D.start_time).getTime(),L=new Date(H.start_time).getTime();return te-L});let A=15;if(k.length>=2){const D=new Date(k[0].start_time).getTime(),H=new Date(k[1].start_time).getTime(),te=Math.max(1,Math.round((H-D)/6e4));(te===15||te===30||te===60)&&(A=te)}const C=new Date;e==="today"||C.setDate(C.getDate()+1),C.setHours(0,0,0,0);const O=A*60*1e3,R=Math.round(1440/A),E=new Map;for(const D of k){const H=new Date(D.start_time).getTime();E.set(H,D)}const z=[],U=[],K=[],Z=[],re=[],Se=[],fe=[],_e=[],F=[],G=[],ae=[];let ie=null;const de=new Date;for(let D=0;D<R;D++){const H=new Date(C.getTime()+D*O),te=new Date(H.getTime()+O),L=E.get(H.getTime());if(z.push(Mp(H.toISOString())),L){const se=L.is_executed===!0,oe=L;U.push(L.import_price_sek_kwh??null),K.push(se&&oe.actual_pv_kwh!=null?oe.actual_pv_kwh:L.pv_forecast_kwh??null),Z.push(se&&oe.actual_load_kwh!=null?oe.actual_load_kwh:L.load_forecast_kwh??null),re.push(se&&oe.actual_charge_kw!=null?oe.actual_charge_kw:L.battery_charge_kw??L.charge_kw??null),Se.push(L.battery_discharge_kw??L.discharge_kw??null),fe.push(se&&oe.actual_export_kw!=null?oe.actual_export_kw:L.export_kwh??null),_e.push(L.water_heating_kw??null),F.push(L.soc_target_percent??null),G.push(L.projected_soc_percent??null),ae.push(oe.soc_actual_percent!=null?oe.soc_actual_percent:null)}else U.push(null),K.push(null),Z.push(null),re.push(null),Se.push(null),fe.push(null),_e.push(null),F.push(null),G.push(null),ae.push(null);e==="today"&&de>=H&&de<te&&(ie=D)}return xo({labels:z,price:U,pv:K,load:Z,charge:re,discharge:Se,export:fe,water:_e,socTarget:F,socProjected:G,socActual:ae,nowIndex:ie},n)}if(s==="48h"){if(!a.length){console.log("[buildLiveData] No slots found for 48h range, creating fallback");const D=Array.from({length:48},(H,te)=>{const L=te%24;return`${String(L).padStart(2,"0")}:00`});return{labels:D,price:Array(D.length).fill(null),pv:Array(D.length).fill(null),load:Array(D.length).fill(null),charge:Array(D.length).fill(null),discharge:Array(D.length).fill(null),export:Array(D.length).fill(null),water:Array(D.length).fill(null),socTarget:Array(D.length).fill(null),socProjected:Array(D.length).fill(null),hasNoData:!0,day:e}}const k=[...a].sort((D,H)=>{const te=new Date(D.start_time).getTime(),L=new Date(H.start_time).getTime();return te-L});let A=15;if(k.length>=2){const D=new Date(k[0].start_time).getTime(),H=new Date(k[1].start_time).getTime(),te=Math.max(1,Math.round((H-D)/6e4));(te===15||te===30||te===60)&&(A=te)}const C=new Date;C.setHours(0,0,0,0);const O=A*60*1e3,R=Math.round(2880/A),E=new Map;for(const D of k){const H=new Date(D.start_time).getTime();E.set(H,D)}const z=[],U=[],K=[],Z=[],re=[],Se=[],fe=[],_e=[],F=[],G=[],ae=[];let ie=null;const de=new Date;for(let D=0;D<R;D++){const H=new Date(C.getTime()+D*O),te=new Date(H.getTime()+O),L=E.get(H.getTime());if(z.push(Mp(H.toISOString())),L){const se=L.is_executed===!0,oe=L;U.push(L.import_price_sek_kwh??null),K.push(se&&oe.actual_pv_kwh!=null?oe.actual_pv_kwh:L.pv_forecast_kwh??null),Z.push(se&&oe.actual_load_kwh!=null?oe.actual_load_kwh:L.load_forecast_kwh??null),re.push(se&&oe.actual_charge_kw!=null?oe.actual_charge_kw:L.battery_charge_kw??L.charge_kw??null),Se.push(L.battery_discharge_kw??L.discharge_kw??null),fe.push(se&&oe.actual_export_kw!=null?oe.actual_export_kw:L.export_kwh??null),_e.push(L.water_heating_kw??null),F.push(L.soc_target_percent??null),G.push(L.projected_soc_percent??null),ae.push(oe.soc_actual_percent!=null?oe.soc_actual_percent:null)}else U.push(null),K.push(null),Z.push(null),re.push(null),Se.push(null),fe.push(null),_e.push(null),F.push(null),G.push(null),ae.push(null);de>=H&&de<te&&(ie=D)}return xo({labels:z,price:U,pv:K,load:Z,charge:re,discharge:Se,export:fe,water:_e,socTarget:F,socProjected:G,socActual:ae,nowIndex:ie},n)}const o=[...a].sort((k,A)=>{const C=new Date(k.start_time).getTime(),O=new Date(A.start_time).getTime();return C-O}),c=o.map(k=>k.import_price_sek_kwh??null),d=o.map(k=>k.pv_forecast_kwh??null),f=o.map(k=>k.load_forecast_kwh??null),m=o.map(k=>k.battery_charge_kw??k.charge_kw??null),g=o.map(k=>k.battery_discharge_kw??k.discharge_kw??null),x=o.map(k=>k.export_kwh??null),b=o.map(k=>k.water_heating_kw??null),v=o.map(k=>k.soc_target_percent??null),w=o.map(k=>k.projected_soc_percent??null),S=o.map(k=>k.soc_actual_percent??null),j=o.map(k=>Mp(k.start_time));let T=null;if(e==="today"){const k=new Date;for(let A=0;A<o.length;A++){const C=new Date(o[A].start_time||""),O=new Date(C.getTime()+1800*1e3);if(k>=C&&k<O){T=A;break}}}return xo({labels:j,price:c,pv:d,load:f,charge:m,discharge:g,export:x,water:b,socTarget:v,socProjected:w,socActual:S,nowIndex:T},n)}const _d=[3,7,14,21,28],Wl=[30,60,120];function gO({onDataRefresh:t,onPlanSourceChange:e,onVacationModeChange:s}){const[n,a]=N.useState("idle"),[o,c]=N.useState(!1),[d,f]=N.useState(null),[m,g]=N.useState(1),[x,b]=N.useState(!1),[v,w]=N.useState(null),[S,j]=N.useState(1),[T,k]=N.useState(!1),[A,C]=N.useState(null),[O,R]=N.useState(0),[E,z]=N.useState(null),[U,K]=N.useState(null),Z=N.useRef(null),re=N.useCallback(async()=>{try{const[ie,de,D]=await Promise.all([ge.executor.status(),ge.waterBoost.status(),ge.config()]);if(ie.paused?(c(!0),f(ie.paused.paused_minutes||null)):(c(!1),f(null)),de.water_boost){const te=new Date(de.water_boost.expires_at);k(!0),C(te);const L=new Date,se=Math.max(0,Math.floor((te.getTime()-L.getTime())/1e3));R(se)}else k(!1),C(null),R(0);const H=D.water_heating?.vacation_mode;H?.enabled?(b(!0),w(H.end_date||null)):(b(!1),w(null))}catch(ie){console.error("Failed to fetch quick action status:",ie)}},[]);N.useEffect(()=>{re();const ie=setInterval(re,6e4);return()=>clearInterval(ie)},[re]),N.useEffect(()=>{if(Z.current&&(clearInterval(Z.current),Z.current=null),!(!T||!A))return Z.current=setInterval(()=>{const ie=new Date,de=Math.floor((A.getTime()-ie.getTime())/1e3);de<=0?(k(!1),C(null),R(0),Z.current&&(clearInterval(Z.current),Z.current=null)):R(de)},1e3),()=>{Z.current&&(clearInterval(Z.current),Z.current=null)}},[T,A]);const Se=async()=>{a("planning"),z(null);try{await ge.runPlanner(),a("executing"),await ge.executor.run(),a("done"),e&&e("local"),t&&setTimeout(t,500),setTimeout(()=>a("idle"),2e3)}catch(ie){z({type:"error",message:ie instanceof Error?ie.message:"Failed"}),a("idle")}},fe=async()=>{z(null),K("pause");try{o?(await ge.executor.resume(),c(!1),f(null),z({type:"success",message:"Executor resumed"})):(await ge.executor.pause(),c(!0),z({type:"success",message:"Executor paused - idle mode"})),setTimeout(()=>z(null),3e3)}catch(ie){z({type:"error",message:ie instanceof Error?ie.message:"Failed"})}finally{K(null)}},_e=async()=>{z(null),K("vacation");try{if(x)await ge.configSave({water_heating:{vacation_mode:{enabled:!1,end_date:null}}}),b(!1),w(null),z({type:"success",message:"Vacation mode disabled"});else{const ie=_d[m],de=new Date;de.setDate(de.getDate()+ie);const D=de.toISOString().split("T")[0];await ge.configSave({water_heating:{vacation_mode:{enabled:!0,end_date:D}}}),b(!0),w(D),z({type:"success",message:`Vacation mode active until ${D}`})}window.dispatchEvent(new Event("config-updated")),s?.(!x),setTimeout(()=>z(null),3e3)}catch(ie){z({type:"error",message:ie instanceof Error?ie.message:"Failed"})}finally{K(null)}},F=async()=>{z(null),K("boost");try{if(T)(await ge.waterBoost.cancel()).success&&(k(!1),C(null),R(0),z({type:"success",message:"Water boost cancelled"}));else{const ie=Wl[S],de=await ge.waterBoost.start(ie);if(de.success&&de.expires_at){const D=new Date(de.expires_at);k(!0),C(D),R(ie*60),z({type:"success",message:`Water boost started (${ie}min)`})}}setTimeout(()=>z(null),3e3)}catch(ie){z({type:"error",message:ie instanceof Error?ie.message:"Failed"})}finally{K(null)}},G=()=>{switch(n){case"planning":return"Planning...";case"executing":return"Executing...";case"done":return"Done ";default:return"Run Planner"}},ae=ie=>{const de=Math.floor(ie/60),D=ie%60;return`${de}:${D.toString().padStart(2,"0")}`};return u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{className:`flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary
                        ${n!=="idle"?"bg-accent text-[#100f0e] cursor-wait":"bg-accent hover:bg-accent2 text-[#100f0e]"}`,onClick:Se,disabled:n!=="idle",title:"Run planner and execute",children:[u.jsx(QD,{className:`h-4 w-4 ${n!=="idle"?"animate-pulse":""}`}),u.jsx("span",{children:G()})]}),u.jsx("button",{className:`flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition
                        ${o?"bg-bad/80 text-white ring-2 ring-bad shadow-[0_0_20px_rgba(241,81,50,0.5)] animate-pulse":"bg-good hover:bg-good/80 text-white btn-glow-green"} ${U==="pause"?"opacity-60 cursor-wait":""}`,onClick:fe,disabled:U==="pause",title:o?"Resume executor":"Pause executor (idle mode)",children:o?u.jsxs(u.Fragment,{children:[u.jsx(fS,{className:"h-4 w-4"}),u.jsx("span",{children:"RESUME"}),d!==null&&u.jsxs("span",{className:"text-[9px] opacity-80",children:["(",Math.round(d),"m)"]})]}):u.jsxs(u.Fragment,{children:[u.jsx(XD,{className:"h-4 w-4"}),u.jsx("span",{children:"Pause"})]})}),u.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${x?"bg-amber-500/30 border border-amber-500/50 ring-2 ring-amber-400/50 shadow-[0_0_15px_rgba(245,158,11,0.4)]":"bg-surface2 border border-line/50"} ${U==="vacation"?"opacity-60":""}`,children:[!x&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>g(ie=>Math.max(0,ie-1)),className:"px-0.5 hover:text-accent",disabled:m===0||U==="vacation",children:u.jsx(U1,{className:"h-3 w-3"})}),u.jsxs("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:[_d[m],"d"]}),u.jsx("button",{onClick:()=>g(ie=>Math.min(_d.length-1,ie+1)),className:"px-0.5 hover:text-accent",disabled:m===_d.length-1||U==="vacation",children:u.jsx(Y1,{className:"h-3 w-3"})})]}),u.jsxs("button",{onClick:_e,disabled:U==="vacation",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${x?"bg-amber-500/50 text-amber-100":"bg-amber-500/20 hover:bg-amber-500/30 text-amber-300/80 hover:text-amber-300"}`,children:[u.jsx(eC,{className:"h-3.5 w-3.5"}),x?u.jsx("span",{className:"truncate",children:v?` ${v.slice(5)}`:"ON"}):u.jsx("span",{children:"Vacation"})]})]}),u.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${T?"bg-red-500/30 border border-red-500/50 ring-2 ring-red-400/50 shadow-[0_0_15px_rgba(239,68,68,0.4)]":"bg-surface2 border border-line/50"} ${U==="boost"?"opacity-60":""}`,children:[!T&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>j(ie=>Math.max(0,ie-1)),className:"px-0.5 hover:text-accent",disabled:S===0||U==="boost",children:u.jsx(U1,{className:"h-3 w-3"})}),u.jsx("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:Wl[S]===120?"2h":Wl[S]===60?"1h":"30m"}),u.jsx("button",{onClick:()=>j(ie=>Math.min(Wl.length-1,ie+1)),className:"px-0.5 hover:text-accent",disabled:S===Wl.length-1||U==="boost",children:u.jsx(Y1,{className:"h-3 w-3"})})]}),u.jsxs("button",{onClick:F,disabled:U==="boost",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${T?"bg-red-500/50 text-red-100":"bg-red-500/20 hover:bg-red-500/30 text-red-300/80 hover:text-red-300"}`,children:[u.jsx(Jg,{className:`h-3.5 w-3.5 ${T?"animate-pulse":""}`}),T?u.jsx("span",{className:"font-mono",children:ae(O)}):u.jsx("span",{children:"Boost"})]})]})]}),E&&u.jsx("div",{className:`absolute -bottom-8 left-0 right-0 text-center text-[10px] py-1 px-2 rounded-md transition-opacity animate-in fade-in slide-in-from-bottom-1 duration-300 ${E.type==="success"?"text-green-400":"text-red-400"}`,children:E.message})]})}const Sj=N.createContext({});function xO(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const wx=N.createContext(null),jj=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function yO(t=!0){const e=N.useContext(wx);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:a}=e,o=N.useId();N.useEffect(()=>{t&&a(o)},[t]);const c=N.useCallback(()=>t&&n&&n(o),[o,n,t]);return!s&&n?[!1,c]:[!0]}const Sx=typeof window<"u",bO=Sx?N.useLayoutEffect:N.useEffect,Is=t=>t;let Nj=Is;function jx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Oo=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n},Ri=t=>t*1e3,Li=t=>t/1e3,vO={useManualTiming:!1};function _O(t){let e=new Set,s=new Set,n=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,g=!1,x=!1)=>{const v=x&&n?e:s;return g&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{s.delete(m),o.delete(m)},process:m=>{if(c=m,n){a=!0;return}n=!0,[e,s]=[s,e],e.forEach(d),e.clear(),n=!1,a&&(a=!1,f.process(m))}};return f}const wd=["read","resolveKeyframes","update","preRender","render","postRender"],wO=40;function kj(t,e){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,c=wd.reduce((T,k)=>(T[k]=_O(o),T),{}),{read:d,resolveKeyframes:f,update:m,preRender:g,render:x,postRender:b}=c,v=()=>{const T=performance.now();s=!1,a.delta=n?1e3/60:Math.max(Math.min(T-a.timestamp,wO),1),a.timestamp=T,a.isProcessing=!0,d.process(a),f.process(a),m.process(a),g.process(a),x.process(a),b.process(a),a.isProcessing=!1,s&&e&&(n=!1,t(v))},w=()=>{s=!0,n=!0,a.isProcessing||t(v)};return{schedule:wd.reduce((T,k)=>{const A=c[k];return T[k]=(C,O=!1,R=!1)=>(s||w(),A.schedule(C,O,R)),T},{}),cancel:T=>{for(let k=0;k<wd.length;k++)c[wd[k]].cancel(T)},state:a,steps:c}}const{schedule:wt,cancel:Ra,state:cs,steps:Tp}=kj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Is,!0),Mj=N.createContext({strict:!1}),y2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ro={};for(const t in y2)Ro[t]={isEnabled:e=>y2[t].some(s=>!!e[s])};function SO(t){for(const e in t)Ro[e]={...Ro[e],...t[e]}}const jO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ih(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jO.has(t)}let Tj=t=>!ih(t);function NO(t){t&&(Tj=e=>e.startsWith("on")?!ih(e):t(e))}try{NO(require("@emotion/is-prop-valid").default)}catch{}function kO(t,e,s){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(Tj(a)||s===!0&&ih(a)||!e&&!ih(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function MO(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...n)=>t(...n);return new Proxy(s,{get:(n,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Ch=N.createContext({});function Mc(t){return typeof t=="string"||Array.isArray(t)}function Ah(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Nx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kx=["initial",...Nx];function Eh(t){return Ah(t.animate)||kx.some(e=>Mc(t[e]))}function Dj(t){return!!(Eh(t)||t.variants)}function TO(t,e){if(Eh(t)){const{initial:s,animate:n}=t;return{initial:s===!1||Mc(s)?s:void 0,animate:Mc(n)?n:void 0}}return t.inherit!==!1?e:{}}function DO(t){const{initial:e,animate:s}=TO(t,N.useContext(Ch));return N.useMemo(()=>({initial:e,animate:s}),[b2(e),b2(s)])}function b2(t){return Array.isArray(t)?t.join(" "):t}const CO=Symbol.for("motionComponentSymbol");function yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AO(t,e,s){return N.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):yo(s)&&(s.current=n))},[e])}const Mx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EO="framerAppearId",Cj="data-"+Mx(EO),{schedule:Tx}=kj(queueMicrotask,!1),Aj=N.createContext({});function OO(t,e,s,n,a){var o,c;const{visualElement:d}=N.useContext(Ch),f=N.useContext(Mj),m=N.useContext(wx),g=N.useContext(jj).reducedMotion,x=N.useRef(null);n=n||f.renderer,!x.current&&n&&(x.current=n(t,{visualState:e,parent:d,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const b=x.current,v=N.useContext(Aj);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&RO(x.current,s,a,v);const w=N.useRef(!1);N.useInsertionEffect(()=>{b&&w.current&&b.update(s,m)});const S=s[Cj],j=N.useRef(!!S&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,S))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,S)));return bO(()=>{b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),Tx.render(b.render),j.current&&b.animationState&&b.animationState.animateChanges())}),N.useEffect(()=>{b&&(!j.current&&b.animationState&&b.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)===null||T===void 0||T.call(window,S)}),j.current=!1))}),b}function RO(t,e,s,n){const{layoutId:a,layout:o,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Ej(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||d&&yo(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,layoutScroll:f,layoutRoot:m})}function Ej(t){if(t)return t.options.allowProjection!==!1?t.projection:Ej(t.parent)}function LO({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:n,Component:a}){var o,c;t&&SO(t);function d(m,g){let x;const b={...N.useContext(jj),...m,layoutId:zO(m)},{isStatic:v}=b,w=DO(m),S=n(m,v);if(!v&&Sx){PO();const j=BO(b);x=j.MeasureLayout,w.visualElement=OO(a,S,b,e,j.ProjectionNode)}return u.jsxs(Ch.Provider,{value:w,children:[x&&w.visualElement?u.jsx(x,{visualElement:w.visualElement,...b}):null,s(a,m,AO(S,w.visualElement,g),S,v,w.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(c=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&c!==void 0?c:""})`}`;const f=N.forwardRef(d);return f[CO]=a,f}function zO({layoutId:t}){const e=N.useContext(Sj).id;return e&&t!==void 0?e+"-"+t:t}function PO(t,e){N.useContext(Mj).strict}function BO(t){const{drag:e,layout:s}=Ro;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e?.isEnabled(t)||s?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const VO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dx(t){return typeof t!="string"||t.includes("-")?!1:!!(VO.indexOf(t)>-1||/[A-Z]/u.test(t))}function v2(t){const e=[{},{}];return t?.values.forEach((s,n)=>{e[0][n]=s.get(),e[1][n]=s.getVelocity()}),e}function Cx(t,e,s,n){if(typeof e=="function"){const[a,o]=v2(n);e=e(s!==void 0?s:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=v2(n);e=e(s!==void 0?s:t.custom,a,o)}return e}const yg=t=>Array.isArray(t),FO=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),HO=t=>yg(t)?t[t.length-1]||0:t,xs=t=>!!(t&&t.getVelocity);function Od(t){const e=xs(t)?t.get():t;return FO(e)?e.toValue():e}function UO({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},n,a,o){const c={latestValues:YO(n,a,o,t),renderState:e()};return s&&(c.onMount=d=>s({props:n,current:d,...c}),c.onUpdate=d=>s(d)),c}const Oj=t=>(e,s)=>{const n=N.useContext(Ch),a=N.useContext(wx),o=()=>UO(t,e,n,a);return s?o():xO(o)};function YO(t,e,s,n){const a={},o=n(t,{});for(const b in o)a[b]=Od(o[b]);let{initial:c,animate:d}=t;const f=Eh(t),m=Dj(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=s?s.initial===!1:!1;g=g||c===!1;const x=g?d:c;if(x&&typeof x!="boolean"&&!Ah(x)){const b=Array.isArray(x)?x:[x];for(let v=0;v<b.length;v++){const w=Cx(t,b[v]);if(w){const{transitionEnd:S,transition:j,...T}=w;for(const k in T){let A=T[k];if(Array.isArray(A)){const C=g?A.length-1:0;A=A[C]}A!==null&&(a[k]=A)}for(const k in S)a[k]=S[k]}}}return a}const Uo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tr=new Set(Uo),Rj=t=>e=>typeof e=="string"&&e.startsWith(t),Lj=Rj("--"),WO=Rj("var(--"),Ax=t=>WO(t)?IO.test(t.split("/*")[0].trim()):!1,IO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Bi=(t,e,s)=>s>e?e:s<t?t:s,Yo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tc={...Yo,transform:t=>Bi(0,1,t)},Sd={...Yo,default:1},Hc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ba=Hc("deg"),qn=Hc("%"),Te=Hc("px"),qO=Hc("vh"),GO=Hc("vw"),_2={...qn,parse:t=>qn.parse(t)/100,transform:t=>qn.transform(t*100)},$O={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},XO={rotate:ba,rotateX:ba,rotateY:ba,rotateZ:ba,scale:Sd,scaleX:Sd,scaleY:Sd,scaleZ:Sd,skew:ba,skewX:ba,skewY:ba,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Tc,originX:_2,originY:_2,originZ:Te},w2={...Yo,transform:Math.round},Ex={...$O,...XO,zIndex:w2,size:Te,fillOpacity:Tc,strokeOpacity:Tc,numOctaves:w2},KO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZO=Uo.length;function QO(t,e,s){let n="",a=!0;for(let o=0;o<ZO;o++){const c=Uo[o],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||s){const m=zj(d,Ex[c]);if(!f){a=!1;const g=KO[c]||c;n+=`${g}(${m}) `}s&&(e[c]=m)}}return n=n.trim(),s?n=s(e,a?"":n):a&&(n="none"),n}function Ox(t,e,s){const{style:n,vars:a,transformOrigin:o}=t;let c=!1,d=!1;for(const f in e){const m=e[f];if(Tr.has(f)){c=!0;continue}else if(Lj(f)){a[f]=m;continue}else{const g=zj(m,Ex[f]);f.startsWith("origin")?(d=!0,o[f]=g):n[f]=g}}if(e.transform||(c||s?n.transform=QO(e,t.transform,s):n.transform&&(n.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:g=0}=o;n.transformOrigin=`${f} ${m} ${g}`}}const JO={offset:"stroke-dashoffset",array:"stroke-dasharray"},eR={offset:"strokeDashoffset",array:"strokeDasharray"};function tR(t,e,s=1,n=0,a=!0){t.pathLength=1;const o=a?JO:eR;t[o.offset]=Te.transform(-n);const c=Te.transform(e),d=Te.transform(s);t[o.array]=`${c} ${d}`}function S2(t,e,s){return typeof t=="string"?t:Te.transform(e+s*t)}function sR(t,e,s){const n=S2(e,t.x,t.width),a=S2(s,t.y,t.height);return`${n} ${a}`}function Rx(t,{attrX:e,attrY:s,attrScale:n,originX:a,originY:o,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...m},g,x){if(Ox(t,m,x),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:v,dimensions:w}=t;b.transform&&(w&&(v.transform=b.transform),delete b.transform),w&&(a!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=sR(w,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(b.x=e),s!==void 0&&(b.y=s),n!==void 0&&(b.scale=n),c!==void 0&&tR(b,c,d,f,!1)}const Lx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Pj=()=>({...Lx(),attrs:{}}),zx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Bj(t,{style:e,vars:s},n,a){Object.assign(t.style,e,a&&a.getProjectionStyles(n));for(const o in s)t.style.setProperty(o,s[o])}const Vj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fj(t,e,s,n){Bj(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(Vj.has(a)?a:Mx(a),e.attrs[a])}const ah={};function nR(t){Object.assign(ah,t)}function Hj(t,{layout:e,layoutId:s}){return Tr.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!ah[t]||t==="opacity")}function Px(t,e,s){var n;const{style:a}=t,o={};for(const c in a)(xs(a[c])||e.style&&xs(e.style[c])||Hj(c,t)||((n=s?.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(o[c]=a[c]);return o}function Uj(t,e,s){const n=Px(t,e,s);for(const a in t)if(xs(t[a])||xs(e[a])){const o=Uo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[o]=t[a]}return n}function iR(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const j2=["x","y","width","height","cx","cy","r"],aR={useVisualState:Oj({scrapeMotionValuesFromProps:Uj,createRenderState:Pj,onUpdate:({props:t,prevProps:e,current:s,renderState:n,latestValues:a})=>{if(!s)return;let o=!!t.drag;if(!o){for(const d in a)if(Tr.has(d)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let d=0;d<j2.length;d++){const f=j2[d];t[f]!==e[f]&&(c=!0)}c&&wt.read(()=>{iR(s,n),wt.render(()=>{Rx(n,a,zx(s.tagName),t.transformTemplate),Fj(s,n)})})}})},rR={useVisualState:Oj({scrapeMotionValuesFromProps:Px,createRenderState:Lx})};function Yj(t,e,s){for(const n in e)!xs(e[n])&&!Hj(n,s)&&(t[n]=e[n])}function oR({transformTemplate:t},e){return N.useMemo(()=>{const s=Lx();return Ox(s,e,t),Object.assign({},s.vars,s.style)},[e])}function lR(t,e){const s=t.style||{},n={};return Yj(n,s,t),Object.assign(n,oR(t,e)),n}function cR(t,e){const s={},n=lR(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}function uR(t,e,s,n){const a=N.useMemo(()=>{const o=Pj();return Rx(o,e,zx(n),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Yj(o,t.style,t),a.style={...o,...a.style}}return a}function dR(t=!1){return(s,n,a,{latestValues:o},c)=>{const f=(Dx(s)?uR:cR)(n,o,c,s),m=kO(n,typeof s=="string",t),g=s!==N.Fragment?{...m,...f,ref:a}:{},{children:x}=n,b=N.useMemo(()=>xs(x)?x.get():x,[x]);return N.createElement(s,{...g,children:b})}}function hR(t,e){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Dx(n)?aR:rR,preloadedFeatures:t,useRender:dR(a),createVisualElement:e,Component:n};return LO(c)}}function Wj(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}function Oh(t,e,s){const n=t.getProps();return Cx(n,e,s!==void 0?s:n.custom,t)}const fR=jx(()=>window.ScrollTimeline!==void 0);class mR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=s}attachTimeline(e,s){const n=this.animations.map(a=>{if(fR()&&a.attachTimeline)return a.attachTimeline(e);if(typeof s=="function")return s(a)});return()=>{n.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class pR extends mR{then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function Bx(t,e){return t?t[e]||t.default||t:void 0}const bg=2e4;function Ij(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<bg;)e+=s,n=t.next(e);return e>=bg?1/0:e}function Vx(t){return typeof t=="function"}function N2(t,e){t.timeline=e,t.onfinish=null}const Fx=t=>Array.isArray(t)&&typeof t[0]=="number",gR={linearEasing:void 0};function xR(t,e){const s=jx(t);return()=>{var n;return(n=gR[e])!==null&&n!==void 0?n:s()}}const rh=xR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qj=(t,e,s=10)=>{let n="";const a=Math.max(Math.round(e/s),2);for(let o=0;o<a;o++)n+=t(Oo(0,a-1,o))+", ";return`linear(${n.substring(0,n.length-2)})`};function Gj(t){return!!(typeof t=="function"&&rh()||!t||typeof t=="string"&&(t in vg||rh())||Fx(t)||Array.isArray(t)&&t.every(Gj))}const sc=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,vg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sc([0,.65,.55,1]),circOut:sc([.55,0,1,.45]),backIn:sc([.31,.01,.66,-.59]),backOut:sc([.33,1.53,.69,.99])};function $j(t,e){if(t)return typeof t=="function"&&rh()?qj(t,e):Fx(t)?sc(t):Array.isArray(t)?t.map(s=>$j(s,e)||vg.easeOut):vg[t]}const jn={x:!1,y:!1};function Xj(){return jn.x||jn.y}function yR(t,e,s){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Kj(t,e){const s=yR(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[s,a,()=>n.abort()]}function k2(t){return e=>{e.pointerType==="touch"||Xj()||t(e)}}function bR(t,e,s={}){const[n,a,o]=Kj(t,s),c=k2(d=>{const{target:f}=d,m=e(d);if(typeof m!="function"||!f)return;const g=k2(x=>{m(x),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,a)});return n.forEach(d=>{d.addEventListener("pointerenter",c,a)}),o}const Zj=(t,e)=>e?t===e?!0:Zj(t,e.parentElement):!1,Hx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _R(t){return vR.has(t.tagName)||t.tabIndex!==-1}const nc=new WeakSet;function M2(t){return e=>{e.key==="Enter"&&t(e)}}function Dp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wR=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=M2(()=>{if(nc.has(s))return;Dp(s,"down");const a=M2(()=>{Dp(s,"up")}),o=()=>Dp(s,"cancel");s.addEventListener("keyup",a,e),s.addEventListener("blur",o,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function T2(t){return Hx(t)&&!Xj()}function SR(t,e,s={}){const[n,a,o]=Kj(t,s),c=d=>{const f=d.currentTarget;if(!T2(d)||nc.has(f))return;nc.add(f);const m=e(d),g=(v,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!T2(v)||!nc.has(f))&&(nc.delete(f),typeof m=="function"&&m(v,{success:w}))},x=v=>{g(v,s.useGlobalTarget||Zj(f,v.target))},b=v=>{g(v,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",b,a)};return n.forEach(d=>{!_R(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(s.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d.addEventListener("focus",m=>wR(m,a),a)}),o}function jR(t){return t==="x"||t==="y"?jn[t]?null:(jn[t]=!0,()=>{jn[t]=!1}):jn.x||jn.y?null:(jn.x=jn.y=!0,()=>{jn.x=jn.y=!1})}const Qj=new Set(["width","height","top","left","right","bottom",...Uo]);let Rd;function NR(){Rd=void 0}const Gn={now:()=>(Rd===void 0&&Gn.set(cs.isProcessing||vO.useManualTiming?cs.timestamp:performance.now()),Rd),set:t=>{Rd=t,queueMicrotask(NR)}};function Ux(t,e){t.indexOf(e)===-1&&t.push(e)}function Yx(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class Wx{constructor(){this.subscriptions=[]}add(e){return Ux(this.subscriptions,e),()=>Yx(this.subscriptions,e)}notify(e,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,n);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Jj(t,e){return e?t*(1e3/e):0}const D2=30,kR=t=>!isNaN(parseFloat(t));class MR{constructor(e,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const o=Gn.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Wx);const n=this.events[e].add(s);return e==="change"?()=>{n(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>D2)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,D2);return Jj(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dc(t,e){return new MR(t,e)}function TR(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Dc(s))}function DR(t,e){const s=Oh(t,e);let{transitionEnd:n={},transition:a={},...o}=s||{};o={...o,...n};for(const c in o){const d=HO(o[c]);TR(t,c,d)}}function CR(t){return!!(xs(t)&&t.add)}function _g(t,e){const s=t.getValue("willChange");if(CR(s))return s.add(e)}function eN(t){return t.props[Cj]}const tN=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,AR=1e-7,ER=12;function OR(t,e,s,n,a){let o,c,d=0;do c=e+(s-e)/2,o=tN(c,n,a)-t,o>0?s=c:e=c;while(Math.abs(o)>AR&&++d<ER);return c}function Uc(t,e,s,n){if(t===e&&s===n)return Is;const a=o=>OR(o,0,1,t,s);return o=>o===0||o===1?o:tN(a(o),e,n)}const sN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nN=t=>e=>1-t(1-e),iN=Uc(.33,1.53,.69,.99),Ix=nN(iN),aN=sN(Ix),rN=t=>(t*=2)<1?.5*Ix(t):.5*(2-Math.pow(2,-10*(t-1))),qx=t=>1-Math.sin(Math.acos(t)),oN=nN(qx),lN=sN(qx),cN=t=>/^0[^.\s]+$/u.test(t);function RR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cN(t):!0}const hc=t=>Math.round(t*1e5)/1e5,Gx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LR(t){return t==null}const zR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$x=(t,e)=>s=>!!(typeof s=="string"&&zR.test(s)&&s.startsWith(t)||e&&!LR(s)&&Object.prototype.hasOwnProperty.call(s,e)),uN=(t,e,s)=>n=>{if(typeof n!="string")return n;const[a,o,c,d]=n.match(Gx);return{[t]:parseFloat(a),[e]:parseFloat(o),[s]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},PR=t=>Bi(0,255,t),Cp={...Yo,transform:t=>Math.round(PR(t))},yr={test:$x("rgb","red"),parse:uN("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+Cp.transform(t)+", "+Cp.transform(e)+", "+Cp.transform(s)+", "+hc(Tc.transform(n))+")"};function BR(t){let e="",s="",n="",a="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,s+=s,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const wg={test:$x("#"),parse:BR,transform:yr.transform},bo={test:$x("hsl","hue"),parse:uN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+qn.transform(hc(e))+", "+qn.transform(hc(s))+", "+hc(Tc.transform(n))+")"},ms={test:t=>yr.test(t)||wg.test(t)||bo.test(t),parse:t=>yr.test(t)?yr.parse(t):bo.test(t)?bo.parse(t):wg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yr.transform(t):bo.transform(t)},VR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FR(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Gx))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(VR))===null||s===void 0?void 0:s.length)||0)>0}const dN="number",hN="color",HR="var",UR="var(",C2="${}",YR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cc(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},a=[];let o=0;const d=e.replace(YR,f=>(ms.test(f)?(n.color.push(o),a.push(hN),s.push(ms.parse(f))):f.startsWith(UR)?(n.var.push(o),a.push(HR),s.push(f)):(n.number.push(o),a.push(dN),s.push(parseFloat(f))),++o,C2)).split(C2);return{values:s,split:d,indexes:n,types:a}}function fN(t){return Cc(t).values}function mN(t){const{split:e,types:s}=Cc(t),n=e.length;return a=>{let o="";for(let c=0;c<n;c++)if(o+=e[c],a[c]!==void 0){const d=s[c];d===dN?o+=hc(a[c]):d===hN?o+=ms.transform(a[c]):o+=a[c]}return o}}const WR=t=>typeof t=="number"?0:t;function IR(t){const e=fN(t);return mN(t)(e.map(WR))}const La={test:FR,parse:fN,createTransformer:mN,getAnimatableNone:IR},qR=new Set(["brightness","contrast","saturate","opacity"]);function GR(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(Gx)||[];if(!n)return t;const a=s.replace(n,"");let o=qR.has(e)?1:0;return n!==s&&(o*=100),e+"("+o+a+")"}const $R=/\b([a-z-]*)\(.*?\)/gu,Sg={...La,getAnimatableNone:t=>{const e=t.match($R);return e?e.map(GR).join(" "):t}},XR={...Ex,color:ms,backgroundColor:ms,outlineColor:ms,fill:ms,stroke:ms,borderColor:ms,borderTopColor:ms,borderRightColor:ms,borderBottomColor:ms,borderLeftColor:ms,filter:Sg,WebkitFilter:Sg},Xx=t=>XR[t];function pN(t,e){let s=Xx(t);return s!==Sg&&(s=La),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const KR=new Set(["auto","none","0"]);function ZR(t,e,s){let n=0,a;for(;n<t.length&&!a;){const o=t[n];typeof o=="string"&&!KR.has(o)&&Cc(o).values.length&&(a=t[n]),n++}if(a&&s)for(const o of e)t[o]=pN(s,a)}const A2=t=>t===Yo||t===Te,E2=(t,e)=>parseFloat(t.split(", ")[e]),O2=(t,e)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return E2(a[1],e);{const o=n.match(/^matrix\((.+)\)$/u);return o?E2(o[1],t):0}},QR=new Set(["x","y","z"]),JR=Uo.filter(t=>!QR.has(t));function e6(t){const e=[];return JR.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const Lo={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:O2(4,13),y:O2(5,14)};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const wr=new Set;let jg=!1,Ng=!1;function gN(){if(Ng){const t=Array.from(wr).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const a=e6(n);a.length&&(s.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=s.get(n);a&&a.forEach(([o,c])=>{var d;(d=n.getValue(o))===null||d===void 0||d.set(c)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ng=!1,jg=!1,wr.forEach(t=>t.complete()),wr.clear()}function xN(){wr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ng=!0)})}function t6(){xN(),gN()}class Kx{constructor(e,s,n,a,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(wr.add(this),jg||(jg=!0,wt.read(xN),wt.resolveKeyframes(gN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=a?.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(n&&s){const f=n.readValue(s,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),a&&c===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),wr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,wr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const yN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),s6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function n6(t){const e=s6.exec(t);if(!e)return[,];const[,s,n,a]=e;return[`--${s??n}`,a]}function bN(t,e,s=1){const[n,a]=n6(t);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const c=o.trim();return yN(c)?parseFloat(c):c}return Ax(a)?bN(a,e,s+1):a}const vN=t=>e=>e.test(t),i6={test:t=>t==="auto",parse:t=>t},_N=[Yo,Te,qn,ba,GO,qO,i6],R2=t=>_N.find(vN(t));class wN extends Kx{constructor(e,s,n,a,o){super(e,s,n,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Ax(m))){const g=bN(m,s.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Qj.has(n)||e.length!==2)return;const[a,o]=e,c=R2(a),d=R2(o);if(c!==d)if(A2(c)&&A2(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let a=0;a<e.length;a++)RR(e[a])&&n.push(a);n.length&&ZR(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var e;const{element:s,name:n,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const o=s.getValue(n);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,d=a[c];a[c]=Lo[n](s.measureViewportBox(),window.getComputedStyle(s.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{s.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const L2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(La.test(t)||t==="0")&&!t.startsWith("url("));function a6(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function r6(t,e,s,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=L2(a,e),d=L2(o,e);return!c||!d?!1:a6(t)||(s==="spring"||Vx(s))&&n}const o6=t=>t!==null;function Rh(t,{repeat:e,repeatType:s="loop"},n){const a=t.filter(o6),o=e&&s!=="loop"&&e%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}const l6=40;class SN{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gn.now(),this.options={autoplay:e,delay:s,type:n,repeat:a,repeatDelay:o,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>l6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&t6(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=Gn.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:o,delay:c,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!r6(e,n,a,o))if(c)this.options.duration=0;else{f&&f(Rh(e,this.options,s)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,s);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...g},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ct=(t,e,s)=>t+(e-t)*s;function Ap(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function c6({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let a=0,o=0,c=0;if(!e)a=o=c=s;else{const d=s<.5?s*(1+e):s+e-s*e,f=2*s-d;a=Ap(f,d,t+1/3),o=Ap(f,d,t),c=Ap(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:n}}function oh(t,e){return s=>s>0?e:t}const Ep=(t,e,s)=>{const n=t*t,a=s*(e*e-n)+n;return a<0?0:Math.sqrt(a)},u6=[wg,yr,bo],d6=t=>u6.find(e=>e.test(t));function z2(t){const e=d6(t);if(!e)return!1;let s=e.parse(t);return e===bo&&(s=c6(s)),s}const P2=(t,e)=>{const s=z2(t),n=z2(e);if(!s||!n)return oh(t,e);const a={...s};return o=>(a.red=Ep(s.red,n.red,o),a.green=Ep(s.green,n.green,o),a.blue=Ep(s.blue,n.blue,o),a.alpha=Ct(s.alpha,n.alpha,o),yr.transform(a))},h6=(t,e)=>s=>e(t(s)),Yc=(...t)=>t.reduce(h6),kg=new Set(["none","hidden"]);function f6(t,e){return kg.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function m6(t,e){return s=>Ct(t,e,s)}function Zx(t){return typeof t=="number"?m6:typeof t=="string"?Ax(t)?oh:ms.test(t)?P2:x6:Array.isArray(t)?jN:typeof t=="object"?ms.test(t)?P2:p6:oh}function jN(t,e){const s=[...t],n=s.length,a=t.map((o,c)=>Zx(o)(o,e[c]));return o=>{for(let c=0;c<n;c++)s[c]=a[c](o);return s}}function p6(t,e){const s={...t,...e},n={};for(const a in s)t[a]!==void 0&&e[a]!==void 0&&(n[a]=Zx(t[a])(t[a],e[a]));return a=>{for(const o in n)s[o]=n[o](a);return s}}function g6(t,e){var s;const n=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],d=t.indexes[c][a[c]],f=(s=t.values[d])!==null&&s!==void 0?s:0;n[o]=f,a[c]++}return n}const x6=(t,e)=>{const s=La.createTransformer(e),n=Cc(t),a=Cc(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?kg.has(t)&&!a.values.length||kg.has(e)&&!n.values.length?f6(t,e):Yc(jN(g6(n,a),a.values),s):oh(t,e)};function NN(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Ct(t,e,s):Zx(t)(t,e)}const y6=5;function kN(t,e,s){const n=Math.max(e-y6,0);return Jj(s-t(n),e-n)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Op=.001;function b6({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:s=Rt.velocity,mass:n=Rt.mass}){let a,o,c=1-e;c=Bi(Rt.minDamping,Rt.maxDamping,c),t=Bi(Rt.minDuration,Rt.maxDuration,Li(t)),c<1?(a=m=>{const g=m*c,x=g*t,b=g-s,v=Mg(m,c),w=Math.exp(-x);return Op-b/v*w},o=m=>{const x=m*c*t,b=x*s+s,v=Math.pow(c,2)*Math.pow(m,2)*t,w=Math.exp(-x),S=Mg(Math.pow(m,2),c);return(-a(m)+Op>0?-1:1)*((b-v)*w)/S}):(a=m=>{const g=Math.exp(-m*t),x=(m-s)*t+1;return-Op+g*x},o=m=>{const g=Math.exp(-m*t),x=(s-m)*(t*t);return g*x});const d=5/t,f=_6(a,o,d);if(t=Ri(t),isNaN(f))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const m=Math.pow(f,2)*n;return{stiffness:m,damping:c*2*Math.sqrt(n*m),duration:t}}}const v6=12;function _6(t,e,s){let n=s;for(let a=1;a<v6;a++)n=n-t(n)/e(n);return n}function Mg(t,e){return t*Math.sqrt(1-e*e)}const w6=["duration","bounce"],S6=["stiffness","damping","mass"];function B2(t,e){return e.some(s=>t[s]!==void 0)}function j6(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!B2(t,S6)&&B2(t,w6))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),a=n*n,o=2*Bi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:o}}else{const s=b6(t);e={...e,...s,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function MN(t=Rt.visualDuration,e=Rt.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=s;const o=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],d={done:!1,value:o},{stiffness:f,damping:m,mass:g,duration:x,velocity:b,isResolvedFromDuration:v}=j6({...s,velocity:-Li(s.velocity||0)}),w=b||0,S=m/(2*Math.sqrt(f*g)),j=c-o,T=Li(Math.sqrt(f/g)),k=Math.abs(j)<5;n||(n=k?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=k?Rt.restDelta.granular:Rt.restDelta.default);let A;if(S<1){const O=Mg(T,S);A=R=>{const E=Math.exp(-S*T*R);return c-E*((w+S*T*j)/O*Math.sin(O*R)+j*Math.cos(O*R))}}else if(S===1)A=O=>c-Math.exp(-T*O)*(j+(w+T*j)*O);else{const O=T*Math.sqrt(S*S-1);A=R=>{const E=Math.exp(-S*T*R),z=Math.min(O*R,300);return c-E*((w+S*T*j)*Math.sinh(z)+O*j*Math.cosh(z))/O}}const C={calculatedDuration:v&&x||null,next:O=>{const R=A(O);if(v)d.done=O>=x;else{let E=0;S<1&&(E=O===0?Ri(w):kN(A,O,R));const z=Math.abs(E)<=n,U=Math.abs(c-R)<=a;d.done=z&&U}return d.value=d.done?c:R,d},toString:()=>{const O=Math.min(Ij(C),bg),R=qj(E=>C.next(O*E).value,O,30);return O+"ms "+R}};return C}function V2({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:g}){const x=t[0],b={done:!1,value:x},v=z=>d!==void 0&&z<d||f!==void 0&&z>f,w=z=>d===void 0?f:f===void 0||Math.abs(d-z)<Math.abs(f-z)?d:f;let S=s*e;const j=x+S,T=c===void 0?j:c(j);T!==j&&(S=T-x);const k=z=>-S*Math.exp(-z/n),A=z=>T+k(z),C=z=>{const U=k(z),K=A(z);b.done=Math.abs(U)<=m,b.value=b.done?T:K};let O,R;const E=z=>{v(b.value)&&(O=z,R=MN({keyframes:[b.value,w(b.value)],velocity:kN(A,z,b.value),damping:a,stiffness:o,restDelta:m,restSpeed:g}))};return E(0),{calculatedDuration:null,next:z=>{let U=!1;return!R&&O===void 0&&(U=!0,C(z),E(z)),O!==void 0&&z>=O?R.next(z-O):(!U&&C(z),b)}}}const N6=Uc(.42,0,1,1),k6=Uc(0,0,.58,1),TN=Uc(.42,0,.58,1),M6=t=>Array.isArray(t)&&typeof t[0]!="number",T6={linear:Is,easeIn:N6,easeInOut:TN,easeOut:k6,circIn:qx,circInOut:lN,circOut:oN,backIn:Ix,backInOut:aN,backOut:iN,anticipate:rN},F2=t=>{if(Fx(t)){Nj(t.length===4);const[e,s,n,a]=t;return Uc(e,s,n,a)}else if(typeof t=="string")return T6[t];return t};function D6(t,e,s){const n=[],a=s||NN,o=t.length-1;for(let c=0;c<o;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Is:e;d=Yc(f,d)}n.push(d)}return n}function C6(t,e,{clamp:s=!0,ease:n,mixer:a}={}){const o=t.length;if(Nj(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=D6(e,n,a),f=d.length,m=g=>{if(c&&g<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const b=Oo(t[x],t[x+1],g);return d[x](b)};return s?g=>m(Bi(t[0],t[o-1],g)):m}function A6(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const a=Oo(0,e,n);t.push(Ct(s,1,a))}}function E6(t){const e=[0];return A6(e,t.length-1),e}function O6(t,e){return t.map(s=>s*e)}function R6(t,e){return t.map(()=>e||TN).splice(0,t.length-1)}function lh({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const a=M6(n)?n.map(F2):F2(n),o={done:!1,value:e[0]},c=O6(s&&s.length===e.length?s:E6(e),t),d=C6(c,e,{ease:Array.isArray(a)?a:R6(e,a)});return{calculatedDuration:t,next:f=>(o.value=d(f),o.done=f>=t,o)}}const L6=t=>{const e=({timestamp:s})=>t(s);return{start:()=>wt.update(e,!0),stop:()=>Ra(e),now:()=>cs.isProcessing?cs.timestamp:Gn.now()}},z6={decay:V2,inertia:V2,tween:lh,keyframes:lh,spring:MN},P6=t=>t/100;class Qx extends SN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:s,motionValue:n,element:a,keyframes:o}=this.options,c=a?.KeyframeResolver||Kx,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new c(o,d,s,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=this.options,d=Vx(s)?s:z6[s]||lh;let f,m;d!==lh&&typeof e[0]!="number"&&(f=Yc(P6,NN(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});o==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Ij(g));const{calculatedDuration:x}=g,b=x+a,v=b*(n+1)-a;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:x,resolvedDuration:b,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:n}=this;if(!n){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:g,resolvedDuration:x}=n;if(this.startTime===null)return o.next(0);const{delay:b,repeat:v,repeatType:w,repeatDelay:S,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const T=this.currentTime-b*(this.speed>=0?1:-1),k=this.speed>=0?T<0:T>g;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let A=this.currentTime,C=o;if(v){const z=Math.min(this.currentTime,g)/x;let U=Math.floor(z),K=z%1;!K&&z>=1&&(K=1),K===1&&U--,U=Math.min(U,v+1),U%2&&(w==="reverse"?(K=1-K,S&&(K-=S/x)):w==="mirror"&&(C=c)),A=Bi(0,1,K)*x}const O=k?{done:!1,value:f[0]}:C.next(A);d&&(O.value=d(O.value));let{done:R}=O;!k&&m!==null&&(R=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return E&&a!==void 0&&(O.value=Rh(f,this.options,a)),j&&j(O.value),E&&this.finish(),O}get duration(){const{resolved:e}=this;return e?Li(e.calculatedDuration):0}get time(){return Li(this.currentTime)}set time(e){e=Ri(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Li(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=L6,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),s&&s();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const B6=new Set(["opacity","clipPath","filter","transform"]);function V6(t,e,s,{delay:n=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:d="easeInOut",times:f}={}){const m={[e]:s};f&&(m.offset=f);const g=$j(d,a);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:n,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const F6=jx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ch=10,H6=2e4;function U6(t){return Vx(t.type)||t.type==="spring"||!Gj(t.ease)}function Y6(t,e){const s=new Qx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const a=[];let o=0;for(;!n.done&&o<H6;)n=s.sample(o),a.push(n.value),o+=ch;return{times:void 0,keyframes:a,duration:o-ch,ease:"linear"}}const DN={anticipate:rN,backInOut:aN,circInOut:lN};function W6(t){return t in DN}class H2 extends SN{constructor(e){super(e);const{name:s,motionValue:n,element:a,keyframes:o}=this.options;this.resolver=new wN(o,(c,d)=>this.onKeyframesResolved(c,d),s,n,a),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:n=300,times:a,ease:o,type:c,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof o=="string"&&rh()&&W6(o)&&(o=DN[o]),U6(this.options)){const{onComplete:x,onUpdate:b,motionValue:v,element:w,...S}=this.options,j=Y6(e,S);e=j.keyframes,e.length===1&&(e[1]=e[0]),n=j.duration,a=j.times,o=j.ease,c="keyframes"}const g=V6(d.owner.current,f,e,{...this.options,duration:n,times:a,ease:o});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(N2(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:x}=this.options;d.set(Rh(e,this.options,s)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:n,times:a,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return Li(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return Li(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=Ri(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return Is;const{animation:n}=s;N2(n,e)}return Is}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:n,duration:a,type:o,ease:c,times:d}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:x,element:b,...v}=this.options,w=new Qx({...v,keyframes:n,duration:a,type:o,ease:c,times:d,isGenerator:!0}),S=Ri(this.time);m.setWithVelocity(w.sample(S-ch).value,w.sample(S).value,ch)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:n,repeatDelay:a,repeatType:o,damping:c,type:d}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=s.owner.getProps();return F6()&&n&&B6.has(n)&&!f&&!m&&!a&&o!=="mirror"&&c!==0&&d!=="inertia"}}const I6={type:"spring",stiffness:500,damping:25,restSpeed:10},q6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),G6={type:"keyframes",duration:.8},$6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X6=(t,{keyframes:e})=>e.length>2?G6:Tr.has(t)?t.startsWith("scale")?q6(e[1]):I6:$6;function K6({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:d,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const Jx=(t,e,s,n={},a,o)=>c=>{const d=Bx(n,t)||{},f=d.delay||n.delay||0;let{elapsed:m=0}=n;m=m-Ri(f);let g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:a};K6(d)||(g={...g,...X6(t,g)}),g.duration&&(g.duration=Ri(g.duration)),g.repeatDelay&&(g.repeatDelay=Ri(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const b=Rh(g.keyframes,d);if(b!==void 0)return wt.update(()=>{g.onUpdate(b),g.onComplete()}),new pR([])}return!o&&H2.supports(g)?new H2(g):new Qx(g)};function Z6({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function CN(t,e,{delay:s=0,transitionOverride:n,type:a}={}){var o;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...f}=e;n&&(c=n);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const x in f){const b=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),v=f[x];if(v===void 0||g&&Z6(g,x))continue;const w={delay:s,...Bx(c||{},x)};let S=!1;if(window.MotionHandoffAnimation){const T=eN(t);if(T){const k=window.MotionHandoffAnimation(T,x,wt);k!==null&&(w.startTime=k,S=!0)}}_g(t,x),b.start(Jx(x,b,v,t.shouldReduceMotion&&Qj.has(x)?{type:!1}:w,t,S));const j=b.animation;j&&m.push(j)}return d&&Promise.all(m).then(()=>{wt.update(()=>{d&&DR(t,d)})}),m}function Tg(t,e,s={}){var n;const a=Oh(t,e,s.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(o=s.transitionOverride);const c=a?()=>Promise.all(CN(t,a,s)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:b}=o;return Q6(t,e,g+m,x,b,s)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,g]=f==="beforeChildren"?[c,d]:[d,c];return m().then(()=>g())}else return Promise.all([c(),d(s.delay)])}function Q6(t,e,s=0,n=0,a=1,o){const c=[],d=(t.variantChildren.size-1)*n,f=a===1?(m=0)=>m*n:(m=0)=>d-m*n;return Array.from(t.variantChildren).sort(J6).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(Tg(m,e,{...o,delay:s+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function J6(t,e){return t.sortNodePosition(e)}function eL(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(o=>Tg(t,o,s));n=Promise.all(a)}else if(typeof e=="string")n=Tg(t,e,s);else{const a=typeof e=="function"?Oh(t,e,s.custom):e;n=Promise.all(CN(t,a,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}const tL=kx.length;function AN(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?AN(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<tL;s++){const n=kx[s],a=t.props[n];(Mc(a)||a===!1)&&(e[n]=a)}return e}const sL=[...Nx].reverse(),nL=Nx.length;function iL(t){return e=>Promise.all(e.map(({animation:s,options:n})=>eL(t,s,n)))}function aL(t){let e=iL(t),s=U2(),n=!0;const a=f=>(m,g)=>{var x;const b=Oh(t,g,f==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(b){const{transition:v,transitionEnd:w,...S}=b;m={...m,...S,...w}}return m};function o(f){e=f(t)}function c(f){const{props:m}=t,g=AN(t.parent)||{},x=[],b=new Set;let v={},w=1/0;for(let j=0;j<nL;j++){const T=sL[j],k=s[T],A=m[T]!==void 0?m[T]:g[T],C=Mc(A),O=T===f?k.isActive:null;O===!1&&(w=j);let R=A===g[T]&&A!==m[T]&&C;if(R&&n&&t.manuallyAnimateOnMount&&(R=!1),k.protectedKeys={...v},!k.isActive&&O===null||!A&&!k.prevProp||Ah(A)||typeof A=="boolean")continue;const E=rL(k.prevProp,A);let z=E||T===f&&k.isActive&&!R&&C||j>w&&C,U=!1;const K=Array.isArray(A)?A:[A];let Z=K.reduce(a(T),{});O===!1&&(Z={});const{prevResolvedValues:re={}}=k,Se={...re,...Z},fe=G=>{z=!0,b.has(G)&&(U=!0,b.delete(G)),k.needsAnimating[G]=!0;const ae=t.getValue(G);ae&&(ae.liveStyle=!1)};for(const G in Se){const ae=Z[G],ie=re[G];if(v.hasOwnProperty(G))continue;let de=!1;yg(ae)&&yg(ie)?de=!Wj(ae,ie):de=ae!==ie,de?ae!=null?fe(G):b.add(G):ae!==void 0&&b.has(G)?fe(G):k.protectedKeys[G]=!0}k.prevProp=A,k.prevResolvedValues=Z,k.isActive&&(v={...v,...Z}),n&&t.blockInitialAnimation&&(z=!1),z&&(!(R&&E)||U)&&x.push(...K.map(G=>({animation:G,options:{type:T}})))}if(b.size){const j={};b.forEach(T=>{const k=t.getBaseTarget(T),A=t.getValue(T);A&&(A.liveStyle=!0),j[T]=k??null}),x.push({animation:j})}let S=!!x.length;return n&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(x):Promise.resolve()}function d(f,m){var g;if(s[f].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(b=>{var v;return(v=b.animationState)===null||v===void 0?void 0:v.setActive(f,m)}),s[f].isActive=m;const x=c(f);for(const b in s)s[b].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>s,reset:()=>{s=U2(),n=!0}}}function rL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Wj(e,t):!1}function ur(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U2(){return{animate:ur(!0),whileInView:ur(),whileHover:ur(),whileTap:ur(),whileDrag:ur(),whileFocus:ur(),exit:ur()}}class Va{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oL extends Va{constructor(e){super(e),e.animationState||(e.animationState=aL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ah(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let lL=0;class cL extends Va{constructor(){super(...arguments),this.id=lL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uL={animation:{Feature:oL},exit:{Feature:cL}};function Ac(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function Wc(t){return{point:{x:t.pageX,y:t.pageY}}}const dL=t=>e=>Hx(e)&&t(e,Wc(e));function fc(t,e,s,n){return Ac(t,e,dL(s),n)}const Y2=(t,e)=>Math.abs(t-e);function hL(t,e){const s=Y2(t.x,e.x),n=Y2(t.y,e.y);return Math.sqrt(s**2+n**2)}class EN{constructor(e,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Lp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=hL(x.offset,{x:0,y:0})>=3;if(!b&&!v)return;const{point:w}=x,{timestamp:S}=cs;this.history.push({...w,timestamp:S});const{onStart:j,onMove:T}=this.handlers;b||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Rp(b,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Lp(x.type==="pointercancel"?this.lastMoveEventInfo:Rp(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,j),w&&w(x,j)},!Hx(e))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const c=Wc(e),d=Rp(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=cs;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=s;g&&g(e,Lp(d,this.history)),this.removeListeners=Yc(fc(this.contextWindow,"pointermove",this.handlePointerMove),fc(this.contextWindow,"pointerup",this.handlePointerUp),fc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ra(this.updatePoint)}}function Rp(t,e){return e?{point:e(t.point)}:t}function W2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lp({point:t},e){return{point:t,delta:W2(t,ON(e)),offset:W2(t,fL(e)),velocity:mL(e,.1)}}function fL(t){return t[0]}function ON(t){return t[t.length-1]}function mL(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const a=ON(t);for(;s>=0&&(n=t[s],!(a.timestamp-n.timestamp>Ri(e)));)s--;if(!n)return{x:0,y:0};const o=Li(a.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-n.x)/o,y:(a.y-n.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const RN=1e-4,pL=1-RN,gL=1+RN,LN=.01,xL=0-LN,yL=0+LN;function qs(t){return t.max-t.min}function bL(t,e,s){return Math.abs(t-e)<=s}function I2(t,e,s,n=.5){t.origin=n,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=qs(s)/qs(e),t.translate=Ct(s.min,s.max,t.origin)-t.originPoint,(t.scale>=pL&&t.scale<=gL||isNaN(t.scale))&&(t.scale=1),(t.translate>=xL&&t.translate<=yL||isNaN(t.translate))&&(t.translate=0)}function mc(t,e,s,n){I2(t.x,e.x,s.x,n?n.originX:void 0),I2(t.y,e.y,s.y,n?n.originY:void 0)}function q2(t,e,s){t.min=s.min+e.min,t.max=t.min+qs(e)}function vL(t,e,s){q2(t.x,e.x,s.x),q2(t.y,e.y,s.y)}function G2(t,e,s){t.min=e.min-s.min,t.max=t.min+qs(e)}function pc(t,e,s){G2(t.x,e.x,s.x),G2(t.y,e.y,s.y)}function _L(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?Ct(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?Ct(s,t,n.max):Math.min(t,s)),t}function $2(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function wL(t,{top:e,left:s,bottom:n,right:a}){return{x:$2(t.x,s,a),y:$2(t.y,e,n)}}function X2(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function SL(t,e){return{x:X2(t.x,e.x),y:X2(t.y,e.y)}}function jL(t,e){let s=.5;const n=qs(t),a=qs(e);return a>n?s=Oo(e.min,e.max-n,t.min):n>a&&(s=Oo(t.min,t.max-a,e.min)),Bi(0,1,s)}function NL(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Dg=.35;function kL(t=Dg){return t===!1?t=0:t===!0&&(t=Dg),{x:K2(t,"left","right"),y:K2(t,"top","bottom")}}function K2(t,e,s){return{min:Z2(t,e),max:Z2(t,s)}}function Z2(t,e){return typeof t=="number"?t:t[e]||0}const Q2=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:Q2(),y:Q2()}),J2=()=>({min:0,max:0}),Ft=()=>({x:J2(),y:J2()});function fn(t){return[t("x"),t("y")]}function zN({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function ML({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TL(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function zp(t){return t===void 0||t===1}function Cg({scale:t,scaleX:e,scaleY:s}){return!zp(t)||!zp(e)||!zp(s)}function gr(t){return Cg(t)||PN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function PN(t){return ew(t.x)||ew(t.y)}function ew(t){return t&&t!=="0%"}function uh(t,e,s){const n=t-s,a=e*n;return s+a}function tw(t,e,s,n,a){return a!==void 0&&(t=uh(t,a,n)),uh(t,s,n)+e}function Ag(t,e=0,s=1,n,a){t.min=tw(t.min,e,s,n,a),t.max=tw(t.max,e,s,n,a)}function BN(t,{x:e,y:s}){Ag(t.x,e.translate,e.scale,e.originPoint),Ag(t.y,s.translate,s.scale,s.originPoint)}const sw=.999999999999,nw=1.0000000000001;function DL(t,e,s,n=!1){const a=s.length;if(!a)return;e.x=e.y=1;let o,c;for(let d=0;d<a;d++){o=s[d],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&wo(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,BN(t,c)),n&&gr(o.latestValues)&&wo(t,o.latestValues))}e.x<nw&&e.x>sw&&(e.x=1),e.y<nw&&e.y>sw&&(e.y=1)}function _o(t,e){t.min=t.min+e,t.max=t.max+e}function iw(t,e,s,n,a=.5){const o=Ct(t.min,t.max,a);Ag(t,e,s,o,n)}function wo(t,e){iw(t.x,e.x,e.scaleX,e.scale,e.originX),iw(t.y,e.y,e.scaleY,e.scale,e.originY)}function VN(t,e){return zN(TL(t.getBoundingClientRect(),e))}function CL(t,e,s){const n=VN(t,s),{scroll:a}=e;return a&&(_o(n.x,a.offset.x),_o(n.y,a.offset.y)),n}const FN=({current:t})=>t?t.ownerDocument.defaultView:null,AL=new WeakMap;class EL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Wc(g).point)},o=(g,x)=>{const{drag:b,dragPropagation:v,onDragStart:w}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jR(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fn(j=>{let T=this.getAxisMotionValue(j).get()||0;if(qn.test(T)){const{projection:k}=this.visualElement;if(k&&k.layout){const A=k.layout.layoutBox[j];A&&(T=qs(A)*(parseFloat(T)/100))}}this.originPoint[j]=T}),w&&wt.postRender(()=>w(g,x)),_g(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,x)=>{const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=x;if(v&&this.currentDirection===null){this.currentDirection=OL(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),S&&S(g,x)},d=(g,x)=>this.stop(g,x),f=()=>fn(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new EN(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:FN(this.visualElement)})}stop(e,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&wt.postRender(()=>o(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:a}=this.getProps();if(!n||!jd(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=_L(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;s&&yo(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=wL(a.layoutBox,s):this.constraints=!1,this.elastic=kL(n),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&fn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=NL(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!yo(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=CL(n,a.root,this.visualElement.getTransformPagePoint());let c=SL(a.layout.layoutBox,o);if(s){const d=s(ML(c));this.hasMutatedConstraints=!!d,d&&(c=zN(d))}return c}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=fn(g=>{if(!jd(g,s,this.currentDirection))return;let x=f&&f[g]||{};c&&(x={min:0,max:0});const b=a?200:1e6,v=a?40:1e7,w={type:"inertia",velocity:n?e[g]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(g,w)});return Promise.all(m).then(d)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return _g(this.visualElement,e),n.start(Jx(e,n,0,s,this.visualElement,!1))}stopAnimation(){fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fn(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){fn(s=>{const{drag:n}=this.getProps();if(!jd(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[s];o.set(e[s]-Ct(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!yo(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=jL({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),fn(c=>{if(!jd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Ct(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;AL.set(this.visualElement,this);const e=this.visualElement.current,s=fc(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();yo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),wt.read(n);const c=Ac(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(fn(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=f[g].translate,x.set(x.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),s(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=Dg,dragMomentum:d=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function jd(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function OL(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class RL extends Va{constructor(e){super(e),this.removeGroupControls=Is,this.removeListeners=Is,this.controls=new EL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Is}unmount(){this.removeGroupControls(),this.removeListeners()}}const aw=t=>(e,s)=>{t&&wt.postRender(()=>t(e,s))};class LL extends Va{constructor(){super(...arguments),this.removePointerDownListener=Is}onPointerDown(e){this.session=new EN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:aw(e),onStart:aw(s),onMove:n,onEnd:(o,c)=>{delete this.session,a&&wt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=fc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ld={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Il={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const s=rw(t,e.target.x),n=rw(t,e.target.y);return`${s}% ${n}%`}},zL={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,a=La.parse(t);if(a.length>5)return n;const o=La.createTransformer(t),c=typeof a[0]!="number"?1:0,d=s.x.scale*e.x,f=s.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const m=Ct(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),o(a)}};class PL extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:o}=e;nR(BL),o&&(s.group&&s.group.add(o),n&&n.register&&a&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ld.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:a,isPresent:o}=this.props,c=n.projection;return c&&(c.isPresent=o,a||e.layoutDependency!==s||s===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||wt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HN(t){const[e,s]=yO(),n=N.useContext(Sj);return u.jsx(PL,{...t,layoutGroup:n,switchLayoutGroup:N.useContext(Aj),isPresent:e,safeToRemove:s})}const BL={borderRadius:{...Il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Il,borderTopRightRadius:Il,borderBottomLeftRadius:Il,borderBottomRightRadius:Il,boxShadow:zL};function VL(t,e,s){const n=xs(t)?t:Dc(t);return n.start(Jx("",n,e,s)),n.animation}function FL(t){return t instanceof SVGElement&&t.tagName!=="svg"}const HL=(t,e)=>t.depth-e.depth;class UL{constructor(){this.children=[],this.isDirty=!1}add(e){Ux(this.children,e),this.isDirty=!0}remove(e){Yx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HL),this.isDirty=!1,this.children.forEach(e)}}function YL(t,e){const s=Gn.now(),n=({timestamp:a})=>{const o=a-s;o>=e&&(Ra(n),t(o-e))};return wt.read(n,!0),()=>Ra(n)}const UN=["TopLeft","TopRight","BottomLeft","BottomRight"],WL=UN.length,ow=t=>typeof t=="string"?parseFloat(t):t,lw=t=>typeof t=="number"||Te.test(t);function IL(t,e,s,n,a,o){a?(t.opacity=Ct(0,s.opacity!==void 0?s.opacity:1,qL(n)),t.opacityExit=Ct(e.opacity!==void 0?e.opacity:1,0,GL(n))):o&&(t.opacity=Ct(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let c=0;c<WL;c++){const d=`border${UN[c]}Radius`;let f=cw(e,d),m=cw(s,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||lw(f)===lw(m)?(t[d]=Math.max(Ct(ow(f),ow(m),n),0),(qn.test(m)||qn.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||s.rotate)&&(t.rotate=Ct(e.rotate||0,s.rotate||0,n))}function cw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qL=YN(0,.5,oN),GL=YN(.5,.95,Is);function YN(t,e,s){return n=>n<t?0:n>e?1:s(Oo(t,e,n))}function uw(t,e){t.min=e.min,t.max=e.max}function dn(t,e){uw(t.x,e.x),uw(t.y,e.y)}function dw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hw(t,e,s,n,a){return t-=e,t=uh(t,1/s,n),a!==void 0&&(t=uh(t,1/a,n)),t}function $L(t,e=0,s=1,n=.5,a,o=t,c=t){if(qn.test(e)&&(e=parseFloat(e),e=Ct(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Ct(o.min,o.max,n);t===o&&(d-=e),t.min=hw(t.min,e,s,d,a),t.max=hw(t.max,e,s,d,a)}function fw(t,e,[s,n,a],o,c){$L(t,e[s],e[n],e[a],e.scale,o,c)}const XL=["x","scaleX","originX"],KL=["y","scaleY","originY"];function mw(t,e,s,n){fw(t.x,e,XL,s?s.x:void 0,n?n.x:void 0),fw(t.y,e,KL,s?s.y:void 0,n?n.y:void 0)}function pw(t){return t.translate===0&&t.scale===1}function WN(t){return pw(t.x)&&pw(t.y)}function gw(t,e){return t.min===e.min&&t.max===e.max}function ZL(t,e){return gw(t.x,e.x)&&gw(t.y,e.y)}function xw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function IN(t,e){return xw(t.x,e.x)&&xw(t.y,e.y)}function yw(t){return qs(t.x)/qs(t.y)}function bw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QL{constructor(){this.members=[]}add(e){Ux(this.members,e),e.scheduleRender()}remove(e){if(Yx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JL(t,e,s){let n="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=s?.z||0;if((a||o||c)&&(n=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:m,rotate:g,rotateX:x,rotateY:b,skewX:v,skewY:w}=s;m&&(n=`perspective(${m}px) ${n}`),g&&(n+=`rotate(${g}deg) `),x&&(n+=`rotateX(${x}deg) `),b&&(n+=`rotateY(${b}deg) `),v&&(n+=`skewX(${v}deg) `),w&&(n+=`skewY(${w}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(n+=`scale(${d}, ${f})`),n||"none"}const xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ic=typeof window<"u"&&window.MotionDebug!==void 0,Pp=["","X","Y","Z"],e8={visibility:"hidden"},vw=1e3;let t8=0;function Bp(t,e,s,n){const{latestValues:a}=e;a[t]&&(s[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function qN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=eN(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",wt,!(a||o))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&qN(n)}function GN({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=t8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ic&&(xr.totalNodes=xr.resolvedTargetDeltas=xr.recalculatedProjection=0),this.nodes.forEach(i8),this.nodes.forEach(c8),this.nodes.forEach(u8),this.nodes.forEach(a8),ic&&window.MotionDebug.record(xr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new UL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Wx),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FL(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=YL(b,250),Ld.hasAnimatedSinceResize&&(Ld.hasAnimatedSinceResize=!1,this.nodes.forEach(ww))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||p8,{onLayoutAnimationStart:j,onLayoutAnimationComplete:T}=g.getProps(),k=!this.targetLayout||!IN(this.targetLayout,w)||v,A=!b&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||b&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,A);const C={...Bx(S,"layout"),onPlay:j,onComplete:T};(g.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else b||ww(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d8),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_w);return}this.isUpdating||this.nodes.forEach(o8),this.isUpdating=!1,this.nodes.forEach(l8),this.nodes.forEach(s8),this.nodes.forEach(n8),this.clearAllSnapshots();const d=Gn.now();cs.delta=Bi(0,1e3/60,d-cs.timestamp),cs.timestamp=d,cs.isProcessing=!0,Tp.update.process(cs),Tp.preRender.process(cs),Tp.render.process(cs),cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r8),this.sharedNodes.forEach(h8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const f=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!WN(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(d||gr(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),g8(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return Ft();const f=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(x8))){const{scroll:g}=this.root;g&&(_o(f.x,g.offset.x),_o(f.y,g.offset.y))}return f}removeElementScroll(c){var d;const f=Ft();if(dn(f,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:x,options:b}=g;g!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&dn(f,c),_o(f.x,x.offset.x),_o(f.y,x.offset.y))}return f}applyTransform(c,d=!1){const f=Ft();dn(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&wo(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),gr(g.latestValues)&&wo(f,g.latestValues)}return gr(this.latestValues)&&wo(f,this.latestValues),f}removeTransform(c){const d=Ft();dn(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!gr(m.latestValues))continue;Cg(m.latestValues)&&m.updateSnapshot();const g=Ft(),x=m.measurePageBox();dn(g,x),mw(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return gr(this.latestValues)&&mw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=cs.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),pc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),BN(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),pc(this.relativeTargetOrigin,this.target,v.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ic&&xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cg(this.parent.latestValues)||PN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===cs.timestamp&&(m=!1),m)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;dn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;DL(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Ft());const{target:w}=d;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dw(this.prevProjectionDelta.x,this.projectionDelta.x),dw(this.prevProjectionDelta.y,this.projectionDelta.y)),mc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!bw(this.projectionDelta.x,this.prevProjectionDelta.x)||!bw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ic&&xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},x=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Ft(),v=f?f.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,j=this.getStack(),T=!j||j.members.length<=1,k=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(m8));this.animationProgress=0;let A;this.mixTargetDelta=C=>{const O=C/1e3;Sw(x.x,c.x,O),Sw(x.y,c.y,O),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f8(this.relativeTarget,this.relativeTargetOrigin,b,O),A&&ZL(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Ft()),dn(A,this.relativeTarget)),S&&(this.animationValues=g,IL(g,m,this.latestValues,O,k,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Ld.hasAnimatedSinceResize=!0,this.currentAnimation=VL(0,vw,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:g}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&$N(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Ft();const x=qs(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const b=qs(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}dn(d,f),wo(d,g),mc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new QL),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Bp("z",c,m,this.animationValues);for(let g=0;g<Pp.length;g++)Bp(`rotate${Pp[g]}`,c,m,this.animationValues),Bp(`skew${Pp[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return e8;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Od(c?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Od(c?.pointerEvents)||""),this.hasProjected&&!gr(this.latestValues)&&(S.transform=g?g({},""):"none",this.hasProjected=!1),S}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=JL(this.projectionDeltaWithTransform,this.treeScale,b),g&&(m.transform=g(b,m.transform));const{x:v,y:w}=this.projectionDelta;m.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,x.animationValues?m.opacity=x===this?(f=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const S in ah){if(b[S]===void 0)continue;const{correct:j,applyTo:T}=ah[S],k=m.transform==="none"?b[S]:j(b[S],x);if(T){const A=T.length;for(let C=0;C<A;C++)m[T[C]]=k}else m[S]=k}return this.options.layoutId&&(m.pointerEvents=x===this?Od(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(_w),this.root.sharedNodes.clear()}}}function s8(t){t.updateLayout()}function n8(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:o}=t.options,c=s.source!==t.layout.source;o==="size"?fn(x=>{const b=c?s.measuredBox[x]:s.layoutBox[x],v=qs(b);b.min=n[x].min,b.max=b.min+v}):$N(o,s.layoutBox,n)&&fn(x=>{const b=c?s.measuredBox[x]:s.layoutBox[x],v=qs(n[x]);b.max=b.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+v)});const d=vo();mc(d,n,s.layoutBox);const f=vo();c?mc(f,t.applyTransform(a,!0),s.measuredBox):mc(f,n,s.layoutBox);const m=!WN(d);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:v}=x;if(b&&v){const w=Ft();pc(w,s.layoutBox,b.layoutBox);const S=Ft();pc(S,n,v.layoutBox),IN(w,S)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function i8(t){ic&&xr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r8(t){t.clearSnapshot()}function _w(t){t.clearMeasurements()}function o8(t){t.isLayoutDirty=!1}function l8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ww(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function c8(t){t.resolveTargetDelta()}function u8(t){t.calcProjection()}function d8(t){t.resetSkewAndRotation()}function h8(t){t.removeLeadSnapshot()}function Sw(t,e,s){t.translate=Ct(e.translate,0,s),t.scale=Ct(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function jw(t,e,s,n){t.min=Ct(e.min,s.min,n),t.max=Ct(e.max,s.max,n)}function f8(t,e,s,n){jw(t.x,e.x,s.x,n),jw(t.y,e.y,s.y,n)}function m8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const p8={duration:.45,ease:[.4,0,.1,1]},Nw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kw=Nw("applewebkit/")&&!Nw("chrome/")?Math.round:Is;function Mw(t){t.min=kw(t.min),t.max=kw(t.max)}function g8(t){Mw(t.x),Mw(t.y)}function $N(t,e,s){return t==="position"||t==="preserve-aspect"&&!bL(yw(e),yw(s),.2)}function x8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const y8=GN({attachResizeListener:(t,e)=>Ac(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vp={current:void 0},XN=GN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vp.current){const t=new y8({});t.mount(window),t.setOptions({layoutScroll:!0}),Vp.current=t}return Vp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),b8={pan:{Feature:LL},drag:{Feature:RL,ProjectionNode:XN,MeasureLayout:HN}};function Tw(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,o=n[a];o&&wt.postRender(()=>o(e,Wc(e)))}class v8 extends Va{mount(){const{current:e}=this.node;e&&(this.unmount=bR(e,s=>(Tw(this.node,s,"Start"),n=>Tw(this.node,n,"End"))))}unmount(){}}class _8 extends Va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(Ac(this.node.current,"focus",()=>this.onFocus()),Ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Dw(t,e,s){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),o=n[a];o&&wt.postRender(()=>o(e,Wc(e)))}class w8 extends Va{mount(){const{current:e}=this.node;e&&(this.unmount=SR(e,s=>(Dw(this.node,s,"Start"),(n,{success:a})=>Dw(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Eg=new WeakMap,Fp=new WeakMap,S8=t=>{const e=Eg.get(t.target);e&&e(t)},j8=t=>{t.forEach(S8)};function N8({root:t,...e}){const s=t||document;Fp.has(s)||Fp.set(s,{});const n=Fp.get(s),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(j8,{root:t,...e})),n[a]}function k8(t,e,s){const n=N8(e);return Eg.set(t,s),n.observe(t),()=>{Eg.delete(t),n.unobserve(t)}}const M8={some:0,all:1};class T8 extends Va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:o}=e,c={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:M8[a]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),b=m?g:x;b&&b(f)};return k8(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(D8(e,s))&&this.startObserver()}unmount(){}}function D8({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const C8={inView:{Feature:T8},tap:{Feature:w8},focus:{Feature:_8},hover:{Feature:v8}},A8={layout:{ProjectionNode:XN,MeasureLayout:HN}},Og={current:null},KN={current:!1};function E8(){if(KN.current=!0,!!Sx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Og.current=t.matches;t.addListener(e),e()}else Og.current=!1}const O8=[..._N,ms,La],R8=t=>O8.find(vN(t)),Cw=new WeakMap;function L8(t,e,s){for(const n in e){const a=e[n],o=s[n];if(xs(a))t.addValue(n,a);else if(xs(o))t.addValue(n,Dc(a,{owner:t}));else if(o!==a)if(t.hasValue(n)){const c=t.getValue(n);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(n);t.addValue(n,Dc(c!==void 0?c:a,{owner:t}))}}for(const n in s)e[n]===void 0&&t.removeValue(n);return e}const Aw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class z8{scrapeMotionValuesFromProps(e,s,n){return{}}constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Gn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,wt.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=s.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Eh(s),this.isVariantNode=Dj(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in b){const w=b[v];f[v]!==void 0&&xs(w)&&w.set(f[v],!1)}}mount(e){this.current=e,Cw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),KN.current||E8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Og.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Cw.delete(this.current),this.projection&&this.projection.unmount(),Ra(this.notifyUpdate),Ra(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Tr.has(e),a=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&wt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ro){const s=Ro[e];if(!s)continue;const{isEnabled:n,Feature:a}=s;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Aw.length;n++){const a=Aw[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=L8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const n=this.values.get(e);s!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=Dc(s===null?void 0:s,{owner:this}),this.addValue(e,n)),n}readValue(e,s){var n;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(yN(a)||cN(a))?a=parseFloat(a):!R8(a)&&La.test(s)&&(a=pN(e,s)),this.setBaseTarget(e,xs(a)?a.get():a)),xs(a)?a.get():a}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=Cx(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);c&&(a=c[e])}if(n&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!xs(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Wx),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class ZN extends z8{constructor(){super(...arguments),this.KeyframeResolver=wN}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xs(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function P8(t){return window.getComputedStyle(t)}class B8 extends ZN{constructor(){super(...arguments),this.type="html",this.renderInstance=Bj}readValueFromInstance(e,s){if(Tr.has(s)){const n=Xx(s);return n&&n.default||0}else{const n=P8(e),a=(Lj(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return VN(e,s)}build(e,s,n){Ox(e,s,n.transformTemplate)}scrapeMotionValuesFromProps(e,s,n){return Px(e,s,n)}}class V8 extends ZN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Tr.has(s)){const n=Xx(s);return n&&n.default||0}return s=Vj.has(s)?s:Mx(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,n){return Uj(e,s,n)}build(e,s,n){Rx(e,s,this.isSVGTag,n.transformTemplate)}renderInstance(e,s,n,a){Fj(e,s,n,a)}mount(e){this.isSVGTag=zx(e.tagName),super.mount(e)}}const F8=(t,e)=>Dx(t)?new V8(e):new B8(e,{allowProjection:t!==N.Fragment}),H8=hR({...uL,...C8,...b8,...A8},F8),ga=MO(H8);function U8(){const[t,e]=N.useState(null),[s,n]=N.useState(!1),[a,o]=N.useState(!1),[c,d]=N.useState(null),[f,m]=N.useState(!0),[g,x]=N.useState(null),b=async()=>{if(c){n(!0),o(!1);try{const j=await ge.getAdvice();j.status==="disabled"?(d(!1),e(null)):e(j.advice??null)}catch(j){console.error(j),o(!0)}finally{n(!1)}}},v=async()=>{n(!0),o(!1);try{const j=await ge.analystRun();x(j)}catch(j){console.error("Failed to fetch analyst summary:",j),o(!0)}finally{n(!1)}};N.useEffect(()=>{ge.config().then(j=>{const T=j.advisor||{},k=T.enable_llm!==!1,A=T.auto_fetch!==!1;d(k),m(A),k&&A&&b(),k||v()}).catch(j=>{console.error("Failed to load advisor config:",j),d(!1)})},[]);const w=!!c&&!s,S=async()=>{const j=!f;m(j);try{await ge.configSave({advisor:{auto_fetch:j}}),j&&c&&!t&&b()}catch(T){console.error("Failed to update advisor auto_fetch setting:",T)}};return u.jsxs(Ee,{className:"h-full p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[u.jsx(pS,{className:"h-4 w-4 text-accent"}),u.jsx("span",{children:"Aurora Advisor"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[c&&u.jsx("button",{onClick:S,className:`rounded-pill px-2 py-1 text-[10px] font-medium transition ${f?"bg-accent text-canvas border border-accent":"bg-surface border border-line/60 text-muted hover:border-accent hover:text-accent"}`,title:f?"Disable auto-fetch (advisor runs only on manual request)":"Enable auto-fetch when the plan changes",children:""}),c!==null&&u.jsx("button",{onClick:b,disabled:!w,className:"text-[10px] text-muted hover:text-text transition-colors p-1 disabled:opacity-40",title:c?"Fetch latest advice":"Enable LLM advice in Settings",children:u.jsx(mS,{className:`h-4 w-4 ${s?"animate-spin":""}`})})]})]}),u.jsxs("div",{className:"text-[11px] text-text leading-relaxed",children:[c===!1&&u.jsxs(u.Fragment,{children:[s&&u.jsx("span",{className:"animate-pulse",children:"Analyzing schedule (offline)"}),!s&&a&&u.jsx("span",{className:"text-red-400",children:"Unable to analyze schedule. Check backend logs for details."}),!s&&!a&&g&&g.recommendations&&u.jsx("div",{className:"space-y-2",children:Object.entries(g.recommendations).slice(0,3).map(([j,T])=>{const k=T??{},A=k.label||j,C=k.best_grid_window||{},O=k.best_solar_window||{},R=U=>U&&U.length>=16?U.slice(11,16):"",E=C.start&&C.end?`${R(C.start)}${R(C.end)} (${C.avg_price?.toFixed?.(2)??""} SEK/kWh)`:null,z=O.start&&O.end?`${R(O.start)}${R(O.end)} (${O.avg_pv_surplus?.toFixed?.(2)??""} kW surplus)`:null;return u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("div",{className:"font-medium",children:A}),u.jsxs("div",{className:"flex flex-wrap gap-3 text-[10px] text-muted",children:[E&&u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(Oi,{className:"h-3 w-3 text-accent"}),u.jsxs("span",{children:["Grid: ",E]})]}),z&&u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(gS,{className:"h-3 w-3 text-accent"}),u.jsxs("span",{children:["Solar: ",z]})]})]})]},j)})}),!s&&!a&&(!g||!g.recommendations)&&u.jsx("span",{className:"text-muted",children:"No appliance recommendations available. Configure appliances in Settings to see suggested run windows."})]}),c===!0&&u.jsxs(u.Fragment,{children:[s&&u.jsx("span",{className:"animate-pulse",children:"Analyzing schedule..."}),!s&&a&&u.jsx("span",{className:"text-red-400",children:"Unable to fetch advice. Check AI settings or try again."}),!s&&!a&&!t&&!f&&u.jsx("span",{className:"text-muted",children:"Click the refresh icon to analyze your current schedule."}),!s&&!a&&t&&u.jsx("span",{children:t})]}),c===null&&!s&&!a&&u.jsx("span",{className:"text-muted",children:"Loading advisor settings"})]})]})}const Ew=({value:t,total:e,colorClass:s})=>{const n=e>0?Math.min(100,t/e*100):0;return u.jsx("div",{className:"h-1.5 w-full bg-surface2 rounded-full overflow-hidden flex",children:u.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${s}`,style:{width:`${n}%`}})})};function Y8({netCost:t,importKwh:e,exportKwh:s}){const n=(t??0)<=0;return u.jsxs(Ee,{className:"p-4 flex flex-col justify-between h-full relative overflow-hidden group",children:[u.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${n?"bg-emerald-500":"bg-red-500"}`}),u.jsxs("div",{className:"flex items-center gap-2 mb-3 relative z-10",children:[u.jsx("div",{className:`p-1.5 rounded-lg ${n?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:u.jsx(dS,{className:"h-4 w-4"})}),u.jsx("span",{className:"text-sm font-medium text-text",children:"Grid & Financial"})]}),u.jsxs("div",{className:"mb-4 relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-0.5",children:"Net Daily Cost"}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:`text-2xl font-bold ${n?"text-emerald-400":"text-red-400"}`,children:t!=null?Math.abs(t).toFixed(2):""}),u.jsx("span",{className:"text-xs text-muted",children:"kr"}),t!==null&&u.jsx("span",{className:`text-[10px] ml-2 px-1.5 py-0.5 rounded ${n?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:t>0?"COST":"EARNING"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto relative z-10",children:[u.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-red-300 mb-1",children:[u.jsx(Zg,{className:"h-3 w-3"}),u.jsx("span",{className:"text-[10px]",children:"Import"})]}),u.jsxs("div",{className:"text-lg font-semibold text-text",children:[e?.toFixed(1)??""," ",u.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]}),u.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-300 mb-1",children:[u.jsx(Qg,{className:"h-3 w-3"}),u.jsx("span",{className:"text-[10px]",children:"Export"})]}),u.jsxs("div",{className:"text-lg font-semibold text-text",children:[s?.toFixed(1)??""," ",u.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function W8({pvActual:t,pvForecast:e,loadActual:s,loadAvg:n,waterKwh:a}){return u.jsxs(Ee,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.01]"}),u.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[u.jsx("div",{className:"p-1.5 rounded-lg bg-amber-500/10 text-amber-400",children:u.jsx(Oi,{className:"h-4 w-4"})}),u.jsx("span",{className:"text-sm font-medium text-text",children:"Energy Resources"})]}),u.jsxs("div",{className:"space-y-4 relative z-10",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-amber-300",children:[u.jsx(tx,{className:"h-3 w-3"}),u.jsx("span",{children:"Solar Production"})]}),u.jsxs("div",{className:"text-[10px] text-muted",children:[u.jsx("span",{className:"text-text font-medium",children:t?.toFixed(1)??""}),u.jsx("span",{className:"mx-1",children:"/"}),e?.toFixed(1)??""," kWh"]})]}),u.jsx(Ew,{value:t??0,total:e??1,colorClass:"bg-amber-400"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-purple-300",children:[u.jsx(bc,{className:"h-3 w-3"}),u.jsx("span",{children:"House Load"})]}),u.jsxs("div",{className:"text-[10px] text-muted",children:[u.jsx("span",{className:"text-text font-medium",children:s?.toFixed(1)??""}),u.jsx("span",{className:"mx-1",children:"/"}),n?.toFixed(1)??""," kWh"]})]}),u.jsx(Ew,{value:s??0,total:n??1,colorClass:"bg-purple-400"})]}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-line/30",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-sky-300",children:[u.jsx(hS,{className:"h-3 w-3"}),u.jsx("span",{children:"Water Heating"})]}),u.jsxs("div",{className:"text-sm font-medium text-text",children:[a?.toFixed(1)??""," ",u.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function I8({soc:t,socTarget:e,sIndex:s,cycles:n,riskLabel:a}){return u.jsxs(Ee,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-blue-500/[0.01]"}),u.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[u.jsx("div",{className:"p-1.5 rounded-lg bg-blue-500/10 text-blue-400",children:u.jsx(qd,{className:"h-4 w-4"})}),u.jsx("span",{className:"text-sm font-medium text-text",children:"Battery & Strategy"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:[u.jsxs("div",{className:"col-span-2 flex items-center gap-3 p-3 rounded-xl bg-surface2/30 border border-line/30",children:[u.jsx(lS,{className:`h-8 w-8 ${(t??0)>50?"text-emerald-400":(t??0)>20?"text-amber-400":"text-red-400"}`}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-2xl font-bold text-text",children:[t?.toFixed(0)??"","%"]}),u.jsx("div",{className:"text-[10px] text-muted",children:e!=null?`Targeting ${e.toFixed(0)}%`:"Current SoC"})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"S-Index"}),u.jsx("div",{className:"text-lg font-semibold text-text",children:s?`x${s.toFixed(2)}`:""}),u.jsx("div",{className:"text-[10px] text-blue-300/80",children:"Strategy Factor"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"Cycles"}),u.jsx("div",{className:"text-lg font-semibold text-text",children:n?.toFixed(1)??""}),u.jsx("div",{className:"text-[10px] text-muted",children:a||"Daily usage"})]})]})]})}function q8({comfortLevel:t,setComfortLevel:e,riskAppetite:s,setRiskAppetite:n,vacationMode:a,onWaterBoost:o,onBatteryTopUp:c}){return u.jsxs(Ee,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[u.jsx("div",{className:"absolute left-[19px] top-6 bottom-6 w-[1px] bg-line/30 z-0"}),u.jsxs("div",{className:"space-y-3 relative z-10",children:[u.jsxs("div",{className:"bg-surface2/30 rounded-xl p-3 border border-line/50 relative overflow-hidden group",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-blue-500/50 to-purple-500/50"}),u.jsxs("div",{className:"flex justify-between items-baseline mb-2 pl-3",children:[u.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[u.jsx("span",{children:"Market Strategy"}),u.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-colors ${s>3?"bg-purple-400 shadow-[0_0_5px_rgba(192,132,252,0.8)]":s<2?"bg-emerald-400":"bg-blue-400"}`})]}),u.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[s]||"Unknown"})]}),u.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(d=>{const f={1:"bg-emerald-500/20 text-emerald-300 border-emerald-500/40 shadow-[0_0_10px_rgba(16,185,129,0.2)]",2:"bg-teal-500/20 text-teal-300 border-teal-500/40 shadow-[0_0_10px_rgba(20,184,166,0.2)]",3:"bg-blue-500/20 text-blue-300 border-blue-500/40 shadow-[0_0_10px_rgba(59,130,246,0.2)]",4:"bg-amber-500/20 text-amber-300 border-amber-500/40 shadow-[0_0_10px_rgba(245,158,11,0.2)]",5:"bg-purple-500/20 text-purple-300 border-purple-500/40 shadow-[0_0_10px_rgba(168,85,247,0.2)]"},m=s===d;return u.jsx("button",{onClick:()=>n(d),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${f[d]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:d},d)})})]}),u.jsxs("div",{className:"bg-surface2/30 rounded-xl p-3 border border-line/50 relative overflow-hidden",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500/50 to-red-500/50"}),u.jsxs("div",{className:"flex justify-between items-center mb-2 pl-3",children:[u.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[u.jsx("span",{children:"Water Comfort"}),a&&u.jsx("span",{className:"text-[9px] text-amber-300 bg-amber-500/20 px-1.5 rounded animate-pulse",children:"Vacation"})]}),u.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Economy",2:"Balanced",3:"Neutral",4:"Priority",5:"Maximum"}[t]||"Unknown"})]}),u.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(d=>{const f={1:"bg-emerald-500/20 text-emerald-300 border-emerald-500/40 shadow-[0_0_10px_rgba(16,185,129,0.2)]",2:"bg-teal-500/20 text-teal-300 border-teal-500/40 shadow-[0_0_10px_rgba(20,184,166,0.2)]",3:"bg-blue-500/20 text-blue-300 border-blue-500/40 shadow-[0_0_10px_rgba(59,130,246,0.2)]",4:"bg-amber-500/20 text-amber-300 border-amber-500/40 shadow-[0_0_10px_rgba(245,158,11,0.2)]",5:"bg-red-500/20 text-red-300 border-red-500/40 shadow-[0_0_10px_rgba(239,68,68,0.2)]"},m=t===d;return u.jsx("button",{onClick:()=>e(d),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${f[d]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:d},d)})})]}),u.jsxs("div",{className:"bg-surface2/30 rounded-xl p-2 border border-line/50 flex gap-2 relative",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-line/50"}),u.jsxs("button",{onClick:o,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group ml-3",children:[u.jsx("div",{className:"p-1 rounded-full bg-orange-500/10 text-orange-400 group-hover:bg-orange-500/20 transition-colors",children:u.jsx(Jg,{className:"h-3.5 w-3.5"})}),u.jsx("span",{className:"text-[10px] font-medium text-text",children:"Boost Water (1h)"})]}),u.jsxs("button",{onClick:c,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group",children:[u.jsx("div",{className:"p-1 rounded-full bg-emerald-500/10 text-emerald-400 group-hover:bg-emerald-500/20 transition-colors",children:u.jsx(tg,{className:"h-3.5 w-3.5"})}),u.jsx("span",{className:"text-[10px] font-medium text-text",children:"Top Up 50%"})]})]})]})]})}const Xn=Object.create(null);Xn.open="0";Xn.close="1";Xn.ping="2";Xn.pong="3";Xn.message="4";Xn.upgrade="5";Xn.noop="6";const zd=Object.create(null);Object.keys(Xn).forEach(t=>{zd[Xn[t]]=t});const Rg={type:"error",data:"parser error"},QN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",JN=typeof ArrayBuffer=="function",ek=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,e0=({type:t,data:e},s,n)=>QN&&e instanceof Blob?s?n(e):Ow(e,n):JN&&(e instanceof ArrayBuffer||ek(e))?s?n(e):Ow(new Blob([e]),n):n(Xn[t]+(e||"")),Ow=(t,e)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];e("b"+(n||""))},s.readAsDataURL(t)};function Rw(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Hp;function G8(t,e){if(QN&&t.data instanceof Blob)return t.data.arrayBuffer().then(Rw).then(e);if(JN&&(t.data instanceof ArrayBuffer||ek(t.data)))return e(Rw(t.data));e0(t,!1,s=>{Hp||(Hp=new TextEncoder),e(Hp.encode(s))})}const Lw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ac=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Lw.length;t++)ac[Lw.charCodeAt(t)]=t;const $8=t=>{let e=t.length*.75,s=t.length,n,a=0,o,c,d,f;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const m=new ArrayBuffer(e),g=new Uint8Array(m);for(n=0;n<s;n+=4)o=ac[t.charCodeAt(n)],c=ac[t.charCodeAt(n+1)],d=ac[t.charCodeAt(n+2)],f=ac[t.charCodeAt(n+3)],g[a++]=o<<2|c>>4,g[a++]=(c&15)<<4|d>>2,g[a++]=(d&3)<<6|f&63;return m},X8=typeof ArrayBuffer=="function",t0=(t,e)=>{if(typeof t!="string")return{type:"message",data:tk(t,e)};const s=t.charAt(0);return s==="b"?{type:"message",data:K8(t.substring(1),e)}:zd[s]?t.length>1?{type:zd[s],data:t.substring(1)}:{type:zd[s]}:Rg},K8=(t,e)=>{if(X8){const s=$8(t);return tk(s,e)}else return{base64:!0,data:t}},tk=(t,e)=>e==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,sk="",Z8=(t,e)=>{const s=t.length,n=new Array(s);let a=0;t.forEach((o,c)=>{e0(o,!1,d=>{n[c]=d,++a===s&&e(n.join(sk))})})},Q8=(t,e)=>{const s=t.split(sk),n=[];for(let a=0;a<s.length;a++){const o=t0(s[a],e);if(n.push(o),o.type==="error")break}return n};function J8(){return new TransformStream({transform(t,e){G8(t,s=>{const n=s.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(s)})}})}let Up;function Nd(t){return t.reduce((e,s)=>e+s.length,0)}function kd(t,e){if(t[0].length===e)return t.shift();const s=new Uint8Array(e);let n=0;for(let a=0;a<e;a++)s[a]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),s}function ez(t,e){Up||(Up=new TextDecoder);const s=[];let n=0,a=-1,o=!1;return new TransformStream({transform(c,d){for(s.push(c);;){if(n===0){if(Nd(s)<1)break;const f=kd(s,1);o=(f[0]&128)===128,a=f[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(Nd(s)<2)break;const f=kd(s,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),n=3}else if(n===2){if(Nd(s)<8)break;const f=kd(s,8),m=new DataView(f.buffer,f.byteOffset,f.length),g=m.getUint32(0);if(g>Math.pow(2,21)-1){d.enqueue(Rg);break}a=g*Math.pow(2,32)+m.getUint32(4),n=3}else{if(Nd(s)<a)break;const f=kd(s,a);d.enqueue(t0(o?f:Up.decode(f),e)),n=0}if(a===0||a>t){d.enqueue(Rg);break}}}})}const nk=4;function Kt(t){if(t)return tz(t)}function tz(t){for(var e in Kt.prototype)t[e]=Kt.prototype[e];return t}Kt.prototype.on=Kt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Kt.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this};Kt.prototype.off=Kt.prototype.removeListener=Kt.prototype.removeAllListeners=Kt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<s.length;a++)if(n=s[a],n===e||n.fn===e){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+t],this};Kt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,a=s.length;n<a;++n)s[n].apply(this,e)}return this};Kt.prototype.emitReserved=Kt.prototype.emit;Kt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Kt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Lh=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,s)=>s(e,0),mn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),sz="arraybuffer";function ik(t,...e){return e.reduce((s,n)=>(t.hasOwnProperty(n)&&(s[n]=t[n]),s),{})}const nz=mn.setTimeout,iz=mn.clearTimeout;function zh(t,e){e.useNativeTimers?(t.setTimeoutFn=nz.bind(mn),t.clearTimeoutFn=iz.bind(mn)):(t.setTimeoutFn=mn.setTimeout.bind(mn),t.clearTimeoutFn=mn.clearTimeout.bind(mn))}const az=1.33;function rz(t){return typeof t=="string"?oz(t):Math.ceil((t.byteLength||t.size)*az)}function oz(t){let e=0,s=0;for(let n=0,a=t.length;n<a;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}function ak(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function lz(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}function cz(t){let e={},s=t.split("&");for(let n=0,a=s.length;n<a;n++){let o=s[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class uz extends Error{constructor(e,s,n){super(e),this.description=s,this.context=n,this.type="TransportError"}}class s0 extends Kt{constructor(e){super(),this.writable=!1,zh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,s,n){return super.emitReserved("error",new uz(e,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const s=t0(e,this.socket.binaryType);this.onPacket(s)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,s={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const s=lz(e);return s.length?"?"+s:""}}class dz extends s0{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const s=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Q8(e,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Z8(e,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=ak()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(e,s)}}let rk=!1;try{rk=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hz=rk;function fz(){}class mz extends dz{constructor(e){if(super(e),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,s){const n=this.request({method:"POST",data:e});n.on("success",s),n.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=e}}class $n extends Kt{constructor(e,s,n){super(),this.createRequest=e,zh(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const s=ik(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=$n.requestsCount++,$n.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fz,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete $n.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}$n.requestsCount=0;$n.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",zw);else if(typeof addEventListener=="function"){const t="onpagehide"in mn?"pagehide":"unload";addEventListener(t,zw,!1)}}function zw(){for(let t in $n.requests)$n.requests.hasOwnProperty(t)&&$n.requests[t].abort()}const pz=(function(){const t=ok({xdomain:!1});return t&&t.responseType!==null})();class gz extends mz{constructor(e){super(e);const s=e&&e.forceBase64;this.supportsBinary=pz&&!s}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new $n(ok,this.uri(),e)}}function ok(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||hz))return new XMLHttpRequest}catch{}if(!e)try{return new mn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const lk=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xz extends s0{get name(){return"websocket"}doOpen(){const e=this.uri(),s=this.opts.protocols,n=lk?{}:ik(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,s,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],a=s===e.length-1;e0(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}a&&Lh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=ak()),this.supportsBinary||(s.b64=1),this.createUri(e,s)}}const Yp=mn.WebSocket||mn.MozWebSocket;class yz extends xz{createSocket(e,s,n){return lk?new Yp(e,s,n):s?new Yp(e,s):new Yp(e)}doWrite(e,s){this.ws.send(s)}}class bz extends s0{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const s=ez(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(s).getReader(),a=J8();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const o=()=>{n.read().then(({done:d,value:f})=>{d||(this.onPacket(f),o())}).catch(d=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],a=s===e.length-1;this._writer.write(n).then(()=>{a&&Lh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const vz={websocket:yz,webtransport:bz,polling:gz},_z=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,wz=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Lg(t){if(t.length>8e3)throw"URI too long";const e=t,s=t.indexOf("["),n=t.indexOf("]");s!=-1&&n!=-1&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let a=_z.exec(t||""),o={},c=14;for(;c--;)o[wz[c]]=a[c]||"";return s!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Sz(o,o.path),o.queryKey=jz(o,o.query),o}function Sz(t,e){const s=/\/{2,9}/g,n=e.replace(s,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function jz(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,o){a&&(s[a]=o)}),s}const zg=typeof addEventListener=="function"&&typeof removeEventListener=="function",Pd=[];zg&&addEventListener("offline",()=>{Pd.forEach(t=>t())},!1);class Ca extends Kt{constructor(e,s){if(super(),this.binaryType=sz,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(s=e,e=null),e){const n=Lg(e);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=Lg(s.host).host);zh(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=cz(this.opts.query)),zg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Pd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const s=Object.assign({},this.opts.query);s.EIO=nk,s.transport=e,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ca.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(e);s.open(),this.setTransport(s)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Ca.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=e.data,this._onError(s);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(s+=rz(a)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Lh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,s,n){return this._sendPacket("message",e,s,n),this}send(e,s,n){return this._sendPacket("message",e,s,n),this}_sendPacket(e,s,n,a){if(typeof s=="function"&&(a=s,s=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:s,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),e()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Ca.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Pd.indexOf(this._offlineEventListener);n!==-1&&Pd.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,s),this.writeBuffer=[],this._prevBufferLen=0}}}Ca.protocol=nk;class Nz extends Ca{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let s=this.createTransport(e),n=!1;Ca.priorWebsocketSuccess=!1;const a=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",x=>{if(!n)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Ca.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(g(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=s.name,this.emitReserved("upgradeError",b)}}))};function o(){n||(n=!0,g(),s.close(),s=null)}const c=x=>{const b=new Error("probe error: "+x);b.transport=s.name,o(),this.emitReserved("upgradeError",b)};function d(){c("transport closed")}function f(){c("socket closed")}function m(x){s&&x.name!==s.name&&o()}const g=()=>{s.removeListener("open",a),s.removeListener("error",c),s.removeListener("close",d),this.off("close",f),this.off("upgrading",m)};s.once("open",a),s.once("error",c),s.once("close",d),this.once("close",f),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const s=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&s.push(e[n]);return s}}let kz=class extends Nz{constructor(e,s={}){const n=typeof e=="object"?e:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>vz[a]).filter(a=>!!a)),super(e,n)}};function Mz(t,e="",s){let n=t;s=s||typeof location<"u"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s<"u"?t=s.protocol+"//"+t:t="https://"+t),n=Lg(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(s&&s.port===n.port?"":":"+n.port),n}const Tz=typeof ArrayBuffer=="function",Dz=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ck=Object.prototype.toString,Cz=typeof Blob=="function"||typeof Blob<"u"&&ck.call(Blob)==="[object BlobConstructor]",Az=typeof File=="function"||typeof File<"u"&&ck.call(File)==="[object FileConstructor]";function n0(t){return Tz&&(t instanceof ArrayBuffer||Dz(t))||Cz&&t instanceof Blob||Az&&t instanceof File}function Bd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,n=t.length;s<n;s++)if(Bd(t[s]))return!0;return!1}if(n0(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Bd(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&Bd(t[s]))return!0;return!1}function Ez(t){const e=[],s=t.data,n=t;return n.data=Pg(s,e),n.attachments=e.length,{packet:n,buffers:e}}function Pg(t,e){if(!t)return t;if(n0(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=Pg(t[n],e);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=Pg(t[n],e));return s}return t}function Oz(t,e){return t.data=Bg(t.data,e),delete t.attachments,t}function Bg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=Bg(t[s],e);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=Bg(t[s],e));return t}const uk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Rz=5;var Pe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Pe||(Pe={}));class Lz{constructor(e){this.replacer=e}encode(e){return(e.type===Pe.EVENT||e.type===Pe.ACK)&&Bd(e)?this.encodeAsBinary({type:e.type===Pe.EVENT?Pe.BINARY_EVENT:Pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let s=""+e.type;return(e.type===Pe.BINARY_EVENT||e.type===Pe.BINARY_ACK)&&(s+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(s+=e.nsp+","),e.id!=null&&(s+=e.id),e.data!=null&&(s+=JSON.stringify(e.data,this.replacer)),s}encodeAsBinary(e){const s=Ez(e),n=this.encodeAsString(s.packet),a=s.buffers;return a.unshift(n),a}}class i0 extends Kt{constructor(e){super(),this.reviver=e}add(e){let s;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(e);const n=s.type===Pe.BINARY_EVENT;n||s.type===Pe.BINARY_ACK?(s.type=n?Pe.EVENT:Pe.ACK,this.reconstructor=new zz(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(n0(e)||e.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(e),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let s=0;const n={type:Number(e.charAt(0))};if(Pe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Pe.BINARY_EVENT||n.type===Pe.BINARY_ACK){const o=s+1;for(;e.charAt(++s)!=="-"&&s!=e.length;);const c=e.substring(o,s);if(c!=Number(c)||e.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(e.charAt(s+1)==="/"){const o=s+1;for(;++s&&!(e.charAt(s)===","||s===e.length););n.nsp=e.substring(o,s)}else n.nsp="/";const a=e.charAt(s+1);if(a!==""&&Number(a)==a){const o=s+1;for(;++s;){const c=e.charAt(s);if(c==null||Number(c)!=c){--s;break}if(s===e.length)break}n.id=Number(e.substring(o,s+1))}if(e.charAt(++s)){const o=this.tryParse(e.substr(s));if(i0.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,s){switch(e){case Pe.CONNECT:return dh(s);case Pe.DISCONNECT:return s===void 0;case Pe.CONNECT_ERROR:return typeof s=="string"||dh(s);case Pe.EVENT:case Pe.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&uk.indexOf(s[0])===-1);case Pe.ACK:case Pe.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class zz{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const s=Oz(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Pz(t){return typeof t=="string"}const Bz=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function Vz(t){return t===void 0||Bz(t)}function dh(t){return Object.prototype.toString.call(t)==="[object Object]"}function Fz(t,e){switch(t){case Pe.CONNECT:return e===void 0||dh(e);case Pe.DISCONNECT:return e===void 0;case Pe.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&uk.indexOf(e[0])===-1);case Pe.ACK:return Array.isArray(e);case Pe.CONNECT_ERROR:return typeof e=="string"||dh(e);default:return!1}}function Hz(t){return Pz(t.nsp)&&Vz(t.id)&&Fz(t.type,t.data)}const Uz=Object.freeze(Object.defineProperty({__proto__:null,Decoder:i0,Encoder:Lz,get PacketType(){return Pe},isPacketValid:Hz,protocol:Rz},Symbol.toStringTag,{value:"Module"}));function Nn(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const Yz=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class dk extends Kt{constructor(e,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Nn(e,"open",this.onopen.bind(this)),Nn(e,"packet",this.onpacket.bind(this)),Nn(e,"error",this.onerror.bind(this)),Nn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...s){var n,a,o;if(Yz.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const c={type:Pe.EVENT,data:s};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const g=this.ids++,x=s.pop();this._registerAckCallback(g,x),c.id=g}const d=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,f=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!d||(f?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(e,s){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[e]=s;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===e&&this.sendBuffer.splice(d,1);s.call(this,new Error("operation has timed out"))},a),c=(...d)=>{this.io.clearTimeoutFn(o),s.apply(this,d)};c.withError=!0,this.acks[e]=c}emitWithAck(e,...s){return new Promise((n,a)=>{const o=(c,d)=>c?a(c):n(d);o.withError=!0,s.push(o),this.emit(e,...s)})}_addToQueue(e){let s;typeof e[e.length-1]=="function"&&(s=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...o)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(a)):(this._queue.shift(),s&&s(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!e||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pe.EVENT:case Pe.BINARY_EVENT:this.onevent(e);break;case Pe.ACK:case Pe.BINARY_ACK:this.onack(e);break;case Pe.DISCONNECT:this.ondisconnect();break;case Pe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const s=e.data||[];e.id!=null&&s.push(this.ack(e.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const s=this;let n=!1;return function(...a){n||(n=!0,s.packet({type:Pe.ACK,id:e,data:a}))}}onack(e){const s=this.acks[e.id];typeof s=="function"&&(delete this.acks[e.id],s.withError&&e.data.unshift(null),s.apply(this,e.data))}onconnect(e,s){this.id=e,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,e.data)}}}function Wo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Wo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-s:t+s}return Math.min(t,this.max)|0};Wo.prototype.reset=function(){this.attempts=0};Wo.prototype.setMin=function(t){this.ms=t};Wo.prototype.setMax=function(t){this.max=t};Wo.prototype.setJitter=function(t){this.jitter=t};class Vg extends Kt{constructor(e,s){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(s=e,e=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,zh(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Wo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=e;const a=s.parser||Uz;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var s;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(s=this.backoff)===null||s===void 0||s.setMin(e),this)}randomizationFactor(e){var s;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(s=this.backoff)===null||s===void 0||s.setJitter(e),this)}reconnectionDelayMax(e){var s;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(s=this.backoff)===null||s===void 0||s.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new kz(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Nn(s,"open",function(){n.onopen(),e&&e()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),e?e(d):this.maybeReconnectOnOpen()},c=Nn(s,"error",o);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),s.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Nn(e,"ping",this.onping.bind(this)),Nn(e,"data",this.ondata.bind(this)),Nn(e,"error",this.onerror.bind(this)),Nn(e,"close",this.onclose.bind(this)),Nn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(s){this.onclose("parse error",s)}}ondecoded(e){Lh(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,s){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new dk(this,e,s),this.nsps[e]=n),n}_destroy(e){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(e){const s=this.encoder.encode(e);for(let n=0;n<s.length;n++)this.engine.write(s[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ql={};function Vd(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const s=Mz(t,e.path||"/socket.io"),n=s.source,a=s.id,o=s.path,c=ql[a]&&o in ql[a].nsps,d=e.forceNew||e["force new connection"]||e.multiplex===!1||c;let f;return d?f=new Vg(n,e):(ql[a]||(ql[a]=new Vg(n,e)),f=ql[a]),s.query&&!e.query&&(e.query=s.queryKey),f.socket(s.path,e)}Object.assign(Vd,{Manager:Vg,Socket:dk,io:Vd,connect:Vd});let mo=null;const Wz=()=>(mo||(mo=Vd({path:"/socket.io",autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),mo.on("connect",()=>{console.log(" Connected to Darkstar WebSocket")}),mo.on("disconnect",t=>{console.warn(" Disconnected from Darkstar WebSocket:",t)}),mo.on("connect_error",t=>{console.error(" WebSocket connection error:",t)})),mo),So=(t,e)=>{N.useEffect(()=>{const s=Wz();return s.on(t,e),()=>{s.off(t,e)}},[t,e])};function Pw(t){if(!t)return"";const e=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${e}-${s}-${n} ${a}:${o}`}function Iz(){const[t,e]=N.useState(null),[s,n]=N.useState(null),[a,o]=N.useState(null),[c,d]=N.useState(null),[f,m]=N.useState(null),[g,x]=N.useState("local"),[b,v]=N.useState(null),[w,S]=N.useState(null),[j,T]=N.useState(null),[k,A]=N.useState(null),[C,O]=N.useState(null),[R,E]=N.useState(3),[z,U]=N.useState(!1),[K,Z]=N.useState(!1),[re,Se]=N.useState(null),[fe,_e]=N.useState(3),[F,G]=N.useState(null),[ae,ie]=N.useState(null),[de,D]=N.useState(null),[H,te]=N.useState(!1),[L,se]=N.useState(null),[oe,Ce]=N.useState(!1),[pt,it]=N.useState(null),[ns,Ss]=N.useState(0),[us,is]=N.useState(null),[xt,$s]=N.useState(null),[Xs,En]=N.useState(!1),[js,yn]=N.useState(null),[Rs,be]=N.useState(null),[Ke,Yt]=N.useState(null),[yt,On]=N.useState(null),[Ve,vs]=N.useState(null),[_s,Jn]=N.useState(null);So("live_metrics",pe=>{pe.soc!==void 0&&e(pe.soc)}),So("plan_updated",()=>{console.log(" Plan updated! Refreshing data..."),Ks()}),So("executor_status",pe=>{vs({shadow_mode:pe.shadow_mode??!1,paused:pe.paused??null})}),So("ha_entity_change",pe=>{if(pe.entity_id===re){const $e=pe.state==="on";Z($e)}}),N.useEffect(()=>{const pe=async()=>{try{const $e=await ge.config();if($e.ok){const Pt=(await $e.json()).water_heating?.vacation_mode;U(Pt?.enabled||!1)}}catch($e){console.log("Failed to reload vacation mode:",$e)}};return window.addEventListener("config-updated",pe),()=>window.removeEventListener("config-updated",pe)},[]);const Rn=N.useCallback(pe=>{x(pe)},[]),Fa=N.useCallback(pe=>{if(te(!0),se(null),!pe||pe.length===0){D([]),te(!1);return}ge.scheduleTodayWithHistory().then($e=>{const Nt=$e.slots??[],Pt=new Map;Nt.forEach($=>{$.start_time&&Pt.set(String($.start_time),$)});const zn=pe.map($=>{const Q=$.start_time,ce=Q?Pt.get(String(Q)):void 0;if(!ce)return $;const xe=ce,ne={...$};return xe.soc_actual_percent!=null&&(ne.soc_actual_percent=xe.soc_actual_percent),xe.is_executed===!0&&(ne.is_executed=!0),ne});D(zn)}).catch($e=>{console.error("Failed to merge history into server schedule:",$e),D(pe??[]),se("Failed to merge execution history; showing DB plan only.")}).finally(()=>{te(!1)})},[]),Ks=N.useCallback(async()=>{Ce(!0);let pe=!1;try{const[$e,Nt,Pt,zn,$,Q,ce,xe,ne,me,Ze]=await Promise.allSettled([ge.status(),ge.horizon(),ge.config(),ge.haAverage(),ge.schedule(),ge.haWaterToday(),ge.learningStatus(),ge.schedulerStatus(),ge.scheduleTodayWithHistory(),ge.executor.status(),ge.energyToday()]);if($e.status==="fulfilled"){const he=$e.value;e(hp.socValue(he)??null);const Ye=he.local??{},rt=he.db&&"planned_at"in he.db?he.db:null,zs=Ye?.planned_at||Ye?.planner_version?{plannedAt:Ye.planned_at,version:Ye.planner_version,sIndex:Ye.s_index}:null,vn=rt?.planned_at||rt?.planner_version?{plannedAt:rt.planned_at,version:rt.planner_version,sIndex:rt.s_index}:null;o(zs),d(vn),m(zs||vn||null)}else pe=!0,console.error("Failed to load status for Dashboard:",$e.reason);if(Nt.status==="fulfilled"){const he=Nt.value;n({pvDays:hp.pvDays(he)??void 0,weatherDays:hp.wxDays(he)??void 0})}else pe=!0,console.error("Failed to load horizon for Dashboard:",Nt.reason);if(Pt.status==="fulfilled"){const he=Pt.value;he.system?.battery?.capacity_kwh&&v(he.system.battery.capacity_kwh);const Ye=he.arbitrage||{};if(ie({enabled:Ye.enable_export,mode:Ye.enable_peak_only_export?"peak_only":"passive"}),he.automation){const rt=he.automation;$s({enable_scheduler:rt.enable_scheduler,write_to_mariadb:rt.write_to_mariadb,external_executor_mode:rt.external_executor_mode,every_minutes:rt.schedule?.every_minutes??null})}else $s(null);he.water_heating&&(typeof he.water_heating.comfort_level=="number"&&E(he.water_heating.comfort_level),typeof he.water_heating.vacation_mode?.enabled=="boolean"&&U(he.water_heating.vacation_mode.enabled)),he.input_sensors?.vacation_mode&&(Se(he.input_sensors.vacation_mode),ge.haEntityState(he.input_sensors.vacation_mode).then(rt=>{const zs=rt.state==="on";Z(zs)}).catch(()=>{Z(!1)}))}else pe=!0,console.error("Failed to load config for Dashboard:",Pt.reason);if(zn.status==="fulfilled"){const he=zn.value;T({kw:he.average_load_kw,dailyKwh:he.daily_kwh})}else pe=!0,console.error("Failed to load HA average for Dashboard:",zn.reason);if($.status==="fulfilled"){const he=$.value,Ye=he.schedule??[];be(Ye);const rt=new Date().toISOString().split("T")[0],vn=(he.schedule?.filter(Qs=>Qs.start_time?.startsWith(rt))||[]).reduce((Qs,Pn)=>Qs+(Pn.pv_forecast_kwh||0),0);S(vn),he.meta?.last_error?On({message:he.meta.last_error,at:he.meta.last_error_at||""}):On(null);const Cr=new Date,ni=Ye.find(Qs=>{const Pn=new Date(Qs.start_time||""),qi=new Date(Pn.getTime()+1800*1e3);return Cr>=Pn&&Cr<qi});ni?.soc_target_percent!==void 0&&A(ni.soc_target_percent)}else pe=!0,console.error("Failed to load schedule for Dashboard:",$.reason);if(Q.status==="fulfilled"){const he=Q.value;O({kwh:he.water_kwh_today,source:he.source})}else pe=!0,console.error("Failed to load water data for Dashboard:",Q.reason);if(ce.status==="fulfilled"){const he=ce.value,Ye=he.metrics?.total_slots&&he.metrics.total_slots>0,rt=he.metrics?.completed_learning_runs&&he.metrics.completed_learning_runs>0;G({enabled:he.enabled,status:Ye?rt?"learning":"ready":"gathering",samples:he.metrics?.total_slots})}else pe=!0,console.error("Failed to load learning status for Dashboard:",ce.reason);if(xe.status==="fulfilled"){const he=xe.value;yn({last_run_at:he.last_run_at??null,last_run_status:he.last_run_status??null,next_run_at:he.next_run_at??null})}else console.error("Failed to load scheduler status for Dashboard:",xe.reason);if(ne.status==="fulfilled"){const Ye=ne.value.slots??[];Yt(Ye)}else console.error("Failed to load schedule history for Dashboard:",ne.reason);let Be=0;if(ne.status==="fulfilled"&&ne.value.slots){const he=new Date;he.setHours(0,0,0,0),ne.value.slots.filter(rt=>new Date(rt.start_time)>=he).forEach(rt=>{Be+=rt.pv_forecast_kwh??0})}if(me.status==="fulfilled"){const he=me.value;vs({shadow_mode:he.shadow_mode??!1,paused:he.paused??null})}else console.error("Failed to load executor status for Dashboard:",me.reason);if(Ze.status==="fulfilled"){const he=Ze.value;Jn({gridImport:he.grid_import_kwh,gridExport:he.grid_export_kwh,batteryCycles:he.battery_cycles,pvProduction:he.pv_production_kwh,pvForecast:Math.round(Be*10)/10,loadConsumption:he.load_consumption_kwh,netCost:he.net_cost_kr})}else console.error("Failed to load energy today for Dashboard:",Ze.reason);it(new Date)}catch($e){console.error("Error fetching dashboard data:",$e),pe=!0}finally{Ce(!1),is(pe?"Some dashboard data failed to load.":null),Ss($e=>$e+1)}},[]);N.useEffect(()=>{let pe=null;g==="server"?pe=c:pe=a,m(pe)},[g,a,c]),N.useEffect(()=>{Ks()},[Ks]);const bn=async()=>{if(Xs)return;const $e=!(xt?.enable_scheduler??!1);En(!0);try{await ge.configSave({automation:{enable_scheduler:$e}}),$s(Nt=>({enable_scheduler:$e,write_to_mariadb:Nt?.write_to_mariadb,external_executor_mode:Nt?.external_executor_mode,every_minutes:Nt?.every_minutes??null}))}catch(Nt){console.error("Failed to toggle planner automation:",Nt)}finally{En(!1)}},[Wt,At]=N.useState(!1),[It,ds]=N.useState(null),$o=async()=>{At(!0),ds(null);try{const pe=await ge.loadServerPlan();Fa(pe.schedule??[]),Rn("server"),ds({type:"success",message:"Plan loaded from DB"})}catch(pe){ds({type:"error",message:pe instanceof Error?pe.message:"Load failed"})}finally{At(!1),setTimeout(()=>ds(null),3e3)}},Xc=async()=>{At(!0),ds(null);try{await ge.pushToDb(),ds({type:"success",message:"Plan pushed to DB"}),Ks()}catch(pe){ds({type:"error",message:pe instanceof Error?pe.message:"Push failed"})}finally{At(!1),setTimeout(()=>ds(null),3e3)}};let Ls;if(g==="server"&&de&&de.length>0)Ls=de;else if(g==="local"&&Rs&&Rs.length>0){const pe=Rs.filter($e=>_x($e.start_time)||nh($e.start_time));if(Ke&&Ke.length>0){const $e=pe.filter(Nt=>nh(Nt.start_time));Ls=[...Ke,...$e]}else Ls=pe}const ei=new Date;let ti=g==="server"?"Server Plan":"Local Plan";f?.plannedAt&&(ti=`Generated ${new Date(f.plannedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`);let Zs="";if(Ls){const pe=Ls.find($e=>{const Nt=new Date($e.start_time),Pt=new Date(Nt.getTime()+1800*1e3);return ei>=Nt&&ei<Pt});if(pe){const $e=new Date(new Date(pe.start_time).getTime()+18e5),Nt=Math.max(0,Math.floor(($e.getTime()-ei.getTime())/6e4));let Pt="Idle";(pe.charge_kw||0)>.1?Pt=`Charge ${pe.charge_kw?.toFixed(1)}kW`:(pe.discharge_kw||0)>.1?Pt=`Discharge ${pe.discharge_kw?.toFixed(1)}kW`:(pe.export_kwh||0)>.1?Pt=`Export ${pe.export_kwh?.toFixed(1)}kWh`:(pe.water_heating_kw||0)>.1&&(Pt="Heat Water"),Zs=`  Next: ${Pt} (${Nt}m)`}}const Ii=`${ti}${Zs}`,Ln=js?.last_run_at||a?.plannedAt||c?.plannedAt,Ha=Ln?new Date(Ln):null,Ua=xt?.every_minutes&&xt.every_minutes>0?xt.every_minutes:null;let si=null;return js?.next_run_at?si=new Date(js.next_run_at):xt?.enable_scheduler&&Ha&&Ua&&(si=new Date(Ha.getTime()+Ua*60*1e3)),u.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-6 sm:px-6 lg:pt-10 space-y-6",children:[yt&&u.jsx(ga.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-error p-4",children:u.jsxs("div",{className:"flex items-start justify-between gap-4 w-full",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 font-semibold text-sm mb-1",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Planner Error"})]}),u.jsx("div",{className:"opacity-80 text-xs",children:yt.message}),yt.at&&u.jsx("div",{className:"opacity-60 text-[10px] mt-1",children:new Date(yt.at).toLocaleString()})]}),u.jsx("button",{onClick:()=>On(null),className:"opacity-60 hover:opacity-100 text-xs px-2 py-1",title:"Dismiss",children:""})]})}),Ve?.shadow_mode&&u.jsxs(ga.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-purple px-4 py-3",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-medium",children:"Shadow Mode Active"}),u.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Actions logged but not executed on Home Assistant"})]}),Ve?.paused&&u.jsxs(ga.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-medium",children:"Executor Paused (Idle Mode)"}),Ve.paused.paused_minutes!==void 0&&u.jsxs("span",{className:"opacity-70 text-xs ml-2",children:[" Paused for ",Ve.paused.paused_minutes," minutes"]})]}),(z||K)&&u.jsxs(ga.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-medium",children:"Vacation Mode Active"}),u.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Water heating is disabled"})]}),u.jsx(ga.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:u.jsx(wj,{useHistoryForToday:g==="local",refreshToken:ns,slotsOverride:Ls,range:"48h",showDayToggle:!0})}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-stretch",children:[u.jsxs(ga.div,{className:"h-full flex flex-col gap-4",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:[u.jsxs(Ee,{className:"p-3 flex items-center justify-between shrink-0",children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:Ii}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"text-[10px] text-muted",children:pt&&`Synced ${pt.toLocaleTimeString()}`}),us&&u.jsx("div",{className:"text-[10px] text-amber-400",children:us}),u.jsx("button",{onClick:()=>Ks(),disabled:oe,className:`rounded-pill px-2 py-1 text-[10px] font-medium transition ${oe?"bg-surface border border-line/60 text-muted cursor-not-allowed":"bg-surface border border-line/60 text-muted hover:border-accent hover:text-accent"}`,title:"Manual sync",children:u.jsx("span",{className:oe?"inline-block animate-spin":"",children:oe?"":""})})]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:u.jsx(U8,{})})]}),u.jsx(ga.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:u.jsx(q8,{comfortLevel:R,setComfortLevel:async pe=>{E(pe),await ge.configSave({water_heating:{comfort_level:pe}})},riskAppetite:fe,setRiskAppetite:async pe=>{_e(pe),await ge.configSave({s_index:{risk_appetite:pe}})},vacationMode:z,onWaterBoost:async()=>{try{await ge.waterBoost.start(60),Ks()}catch(pe){console.error("Boost failed",pe)}},onBatteryTopUp:async()=>{try{await ge.executor.quickAction.set("force_charge",60),Ks()}catch(pe){console.error("Top Up failed",pe)}}})}),u.jsx(ga.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:u.jsxs("div",{className:"flex h-full flex-col gap-6",children:[u.jsx(Ee,{className:"flex-1 p-4 md:p-5",children:u.jsx(gO,{onDataRefresh:Ks,onPlanSourceChange:Rn,onServerScheduleLoaded:Fa,onVacationModeChange:pe=>U(pe)})}),u.jsxs(Ee,{className:"flex-1 p-4 md:p-5",children:[u.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[u.jsx("div",{className:"text-sm text-muted",children:"Planner Automation"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted",children:[u.jsx("span",{className:`inline-flex h-2.5 w-2.5 rounded-full ${xt?.enable_scheduler?"bg-emerald-400 shadow-[0_0_0_2px_rgba(16,185,129,0.4)]":"bg-line"}`}),u.jsx("span",{children:xt?.enable_scheduler?"Active":"Disabled"})]}),u.jsx("button",{type:"button",onClick:bn,disabled:Xs,className:"rounded-pill px-3 py-1 text-[10px] font-semibold border border-line/60 text-muted hover:border-accent hover:text-accent disabled:opacity-50 transition",children:xt?.enable_scheduler?"Disable":"Enable"})]})]}),u.jsx("div",{className:"text-[11px] text-muted",children:xt?.enable_scheduler?"Planner will auto-run on the configured schedule.":"Auto-planner is off. Use Quick Actions to run manually."}),u.jsxs("div",{className:"mt-2 space-y-1 text-[10px] text-muted",children:[u.jsxs("div",{children:["Last plan run: ",Pw(Ha)]}),u.jsxs("div",{children:["Next expected run:"," ",xt?.enable_scheduler?Pw(si):""]}),u.jsxs("div",{children:["DB sync: ",xt?.write_to_mariadb?"enabled":"disabled"]})]})]}),xt?.external_executor_mode&&u.jsxs(Ee,{className:"flex-1 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[u.jsx("div",{className:"text-sm text-muted",children:"DB Sync"}),u.jsx("div",{className:`text-[10px] ${It?.type==="success"?"text-green-400":"text-red-400"}`,children:It?.message})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[u.jsxs("button",{type:"button",onClick:$o,disabled:Wt,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Pull plan from MariaDB current_schedule table",children:[u.jsx(Zg,{className:"h-4 w-4"}),u.jsx("span",{children:"Load from DB"})]}),u.jsxs("button",{type:"button",onClick:Xc,disabled:Wt,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Push local schedule.json to MariaDB",children:[u.jsx(Qg,{className:"h-4 w-4"}),u.jsx("span",{children:"Push to DB"})]})]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[u.jsx(Y8,{netCost:_s?.netCost??null,importKwh:_s?.gridImport??null,exportKwh:_s?.gridExport??null}),u.jsx(W8,{pvActual:_s?.pvProduction??null,pvForecast:_s?.pvForecast??null,loadActual:_s?.loadConsumption??null,loadAvg:j?.dailyKwh??null,waterKwh:C?.kwh??null}),u.jsx(I8,{soc:t,socTarget:k,sIndex:f?.sIndex?.effective_load_margin??null,cycles:_s?.batteryCycles??null,riskLabel:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[fe]})]})]})}function qz(){const[t,e]=N.useState([]),[s,n]=N.useState(!1),[a,o]=N.useState(null),[c,d]=N.useState("all"),[f,m]=N.useState("all"),[g,x]=N.useState(null),[b,v]=N.useState(null),[w,S]=N.useState("today"),j=N.useRef(null),T=N.useRef(null);N.useEffect(()=>{n(!0),o(null),ge.debugLogs().then(O=>e(O.logs??[])).catch(O=>{console.error("Failed to fetch debug logs:",O),o("Failed to load logs")}).finally(()=>n(!1))},[]),N.useEffect(()=>{(()=>{v(null);let O="today";if(w==="yesterday"){const R=new Date;R.setDate(R.getDate()-1),O=R.toISOString().slice(0,10)}ge.historySoc(O).then(R=>x(R)).catch(R=>{console.error("Failed to fetch historic SoC:",R),v("Failed to load SoC history")})})()},[w]);const k=t.filter(C=>{if(c==="all")return!0;const O=(C.level||"").toUpperCase();return c==="error"?O==="ERROR"||O==="CRITICAL":O==="WARN"||O==="WARNING"||O==="ERROR"||O==="CRITICAL"}).filter(C=>{if(f==="all")return!0;const O=new Date(C.timestamp).getTime();if(Number.isNaN(O))return!0;const E=Date.now()-O,z=3600*1e3;return f==="1h"?E<=z:f==="6h"?E<=6*z:f==="24h"?E<=24*z:!0}),A=t.filter(C=>{const O=(C.level||"").toUpperCase();return O==="ERROR"||O==="CRITICAL"});return N.useEffect(()=>{if(!j.current)return;const C=g?.slots??[];if(!C.length){T.current&&(T.current.destroy(),T.current=null);return}const O=C.map(U=>{const K=new Date(U.timestamp);return Number.isNaN(K.getTime())?"":K.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}),R=C.map(U=>U.soc_percent??0),E={labels:O,datasets:[{type:"line",label:"SoC (%)",data:R,borderColor:"rgba(129, 200, 253, 0.9)",backgroundColor:"rgba(129, 200, 253, 0.15)",pointRadius:0,tension:.25}]},z={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:U=>`SoC: ${U.parsed.y?.toFixed(1)??"--"}%`}}},scales:{x:{ticks:{color:"#a6b0bf",maxRotation:0},grid:{display:!1}},y:{ticks:{color:"#a6b0bf",stepSize:10},grid:{color:"rgba(255,255,255,0.06)"},beginAtZero:!0,suggestedMax:100}}};if(T.current){T.current.data=E,T.current.options=z,T.current.update();return}return T.current=new Cn(j.current,{type:"line",data:E,options:z}),()=>{T.current&&(T.current.destroy(),T.current=null)}},[g]),u.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-8 sm:px-6 lg:pt-12",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"text-sm text-muted",children:"Debug & Diagnostics"}),u.jsx("div",{className:"text-[13px] text-muted/80",children:"Logs and SoC history to understand what the planner has been doing recently."})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[u.jsxs(Ee,{className:"p-5 lg:col-span-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-sm text-muted",children:"Logs"}),u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[u.jsx("button",{className:"rounded-pill border border-line/60 px-3 py-1 hover:border-accent disabled:opacity-40",onClick:()=>{n(!0),o(null),ge.debugLogs().then(C=>e(C.logs??[])).catch(C=>{console.error("Failed to refresh debug logs:",C),o("Failed to refresh logs")}).finally(()=>n(!1))},disabled:s,children:s?"Refreshing":"Refresh"}),u.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:f,onChange:C=>m(C.target.value),children:[u.jsx("option",{value:"all",children:"All time"}),u.jsx("option",{value:"1h",children:"Last 1 hour"}),u.jsx("option",{value:"6h",children:"Last 6 hours"}),u.jsx("option",{value:"24h",children:"Last 24 hours"})]}),u.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:c,onChange:C=>d(C.target.value),children:[u.jsx("option",{value:"all",children:"All levels"}),u.jsx("option",{value:"warn_error",children:"Warn + Error"}),u.jsx("option",{value:"error",children:"Errors only"})]})]})]}),a&&u.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:a}),u.jsxs("div",{className:"h-64 overflow-auto rounded-xl2 border border-line/60 bg-surface2/40 text-[11px] font-mono text-muted/90",children:[k.length===0&&!s&&!a&&u.jsx("div",{className:"px-3 py-2 text-muted/70",children:"No logs captured yet."}),k.map((C,O)=>u.jsxs("div",{className:"px-3 py-1.5 border-b border-line/20 last:border-b-0",children:[u.jsx("span",{className:"text-muted/60 mr-2",children:new Date(C.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),u.jsx("span",{className:"mr-2 rounded-full px-1.5 py-0.5 text-[10px] uppercase tracking-wide border border-line/50",children:C.level}),u.jsx("span",{className:"text-muted/70 mr-2",children:C.logger}),u.jsx("span",{children:C.message})]},`${C.timestamp}-${O}`))]})]}),u.jsxs(Ee,{className:"p-5 lg:col-span-1",children:[u.jsx("div",{className:"text-sm text-muted mb-3",children:"Recent events"}),u.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"Quick view of recent errors and warnings from the log stream."}),u.jsxs("div",{className:"space-y-2 text-[12px] text-muted/90",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:"Total log entries"}),u.jsx("span",{className:"tabular-nums",children:t.length})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:"Error/critical entries"}),u.jsx("span",{className:"tabular-nums",children:A.length})]}),u.jsx("div",{className:"mt-3 text-[11px] text-muted/70 uppercase tracking-wide",children:"Last errors"}),u.jsxs("div",{className:"space-y-1.5 max-h-40 overflow-auto",children:[A.slice(-5).map((C,O)=>u.jsxs("div",{className:"rounded-md bg-rose-500/5 border border-rose-500/40 px-2 py-1.5",children:[u.jsxs("div",{className:"text-[10px] text-rose-200/80 mb-0.5",children:[new Date(C.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})," "," ",C.logger]}),u.jsx("div",{className:"text-[11px] text-rose-50/90 line-clamp-2",children:C.message})]},`${C.timestamp}-err-${O}`)),A.length===0&&u.jsx("div",{className:"text-[11px] text-muted/70",children:"No error-level entries yet."})]})]})]})]}),u.jsx("div",{className:"grid gap-6 mt-6 lg:grid-cols-3",children:u.jsxs(Ee,{className:"p-5 lg:col-span-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-sm text-muted",children:"Historical SoC"}),u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[u.jsx("span",{className:"text-muted/70",children:"Range"}),u.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:w,onChange:C=>S(C.target.value),children:[u.jsx("option",{value:"today",children:"Today"}),u.jsx("option",{value:"yesterday",children:"Yesterday"})]})]})]}),u.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"SoC (%) over the selected day from the learning database. Use this to correlate planner behaviour with actual SoC movement."}),b&&u.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:b}),u.jsx("div",{className:"h-48",children:u.jsx("canvas",{ref:j,className:"w-full h-full"})})]})})]})}function Gz({value:t,onChange:e}){const s=N.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t%360;return x<0&&(x+=360),x},[t]),[n,a]=N.useState(!1),o=x=>{const b=Math.round(x),v=[0,45,90,135,180,225,270,315];let w=b,S=1/0;for(const j of v){const T=Math.abs(b-j);T<S&&T<=7&&(S=T,w=j)}return w},c=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let k=Math.atan2(S,-j)*180/Math.PI;k<0&&(k+=360);const A=o(k);e(A)},d=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}c(x)},f=x=>{n&&c(x)},m=x=>{if(n){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},g=`rotate(${s} 24 24)`;return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:d,onPointerMove:f,onPointerUp:m,"aria-label":"Solar azimuth dial",role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":Math.round(s),children:u.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[u.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/60",strokeWidth:"2"}),u.jsx("g",{children:Array.from({length:12}).map((x,b)=>{const v=b*30,w=v%90===0,S=!w&&v%45===0,j=21,T=w?16:S?18:19,k=(v-90)*Math.PI/180,A=24+j*Math.cos(k),C=24+j*Math.sin(k),O=24+T*Math.cos(k),R=24+T*Math.sin(k),E=w||S?"stroke-line/80":"stroke-line/40",z=w?1.6:1;return u.jsx("line",{x1:A,y1:C,x2:O,y2:R,className:E,strokeWidth:z},v)})}),u.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"N"}),u.jsx("text",{x:"24",y:"45",textAnchor:"middle",className:"fill-muted text-[8px]",children:"S"}),u.jsx("text",{x:"43",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"E"}),u.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"W"}),u.jsxs("g",{transform:g,children:[u.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),u.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[u.jsxs("div",{className:"font-medium text-text",children:[Math.round(s),""]}),u.jsx("div",{children:"0 = North  90 = East  180 = South  270 = West"})]})]})}function $z({value:t,onChange:e}){const s=N.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t;return x<0&&(x=0),x>90&&(x=90),x},[t]),[n,a]=N.useState(!1),o=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let k=Math.atan2(S,-j)*180/Math.PI;k<0&&(k+=360),(k<270||k>360)&&(k>=0&&k<=135?k=360:k=270);let A=360-k;A<0&&(A=0),A>90&&(A=90);const C=Math.round(A/5)*5;e(C)},c=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}o(x)},d=x=>{n&&o(x)},f=x=>{if(n){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},g=`rotate(${N.useMemo(()=>360-s,[s])} 24 24)`;return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:c,onPointerMove:d,onPointerUp:f,"aria-label":"Solar tilt dial",role:"slider","aria-valuemin":0,"aria-valuemax":90,"aria-valuenow":Math.round(s),children:u.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[u.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/40",strokeWidth:"2"}),u.jsx("path",{d:"M3 24 A21 21 0 0 1 24 3",className:"fill-none stroke-accent/70",strokeWidth:"2.2"}),u.jsx("g",{children:Array.from({length:7}).map((x,b)=>{const v=b*15,w=360-v,S=21,j=v%30===0?18:19,T=(w-90)*Math.PI/180,k=24+S*Math.cos(T),A=24+S*Math.sin(T),C=24+j*Math.cos(T),O=24+j*Math.sin(T),R=v===0||v===90?"stroke-line/80":"stroke-line/60",E=v===0||v===90?1.6:1.2;return u.jsx("line",{x1:k,y1:A,x2:C,y2:O,className:R,strokeWidth:E},v)})}),u.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"0"}),u.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"90"}),u.jsxs("g",{transform:g,children:[u.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),u.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[u.jsxs("div",{className:"font-medium text-text",children:[Math.round(s),""]}),u.jsx("div",{children:"Drag along the arc: 0 = flat  90 = vertical panel"})]})]})}function Xz({entities:t,value:e,onChange:s,placeholder:n="Select entity...",disabled:a=!1,loading:o=!1}){const[c,d]=N.useState(!1),[f,m]=N.useState(""),[g,x]=N.useState(0),b=N.useRef(null),v=N.useRef(null),w=N.useRef(null),S=t.find(R=>R.entity_id===e),j=N.useMemo(()=>{if(!f.trim())return t;const R=f.toLowerCase();return t.filter(E=>E.entity_id.toLowerCase().includes(R)||E.friendly_name.toLowerCase().includes(R))},[t,f]),T=N.useMemo(()=>{const R={};return j.forEach(E=>{const z=E.domain||E.entity_id.split(".")[0];R[z]||(R[z]=[]),R[z].push(E)}),R},[j]),k=N.useMemo(()=>{const R=[];return Object.values(T).forEach(E=>R.push(...E)),R},[T]);N.useEffect(()=>{x(0)},[j.length]),N.useEffect(()=>{const R=E=>{b.current&&!b.current.contains(E.target)&&(d(!1),m(""))};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),N.useEffect(()=>{if(c&&w.current){const R=w.current.querySelector('[data-highlighted="true"]');R&&R.scrollIntoView({block:"nearest"})}},[g,c]);const A=R=>{s(R.entity_id),d(!1),m("")},C=R=>{if(!c){(R.key==="Enter"||R.key===" "||R.key==="ArrowDown")&&(R.preventDefault(),d(!0));return}switch(R.key){case"ArrowDown":R.preventDefault(),x(E=>Math.min(E+1,k.length-1));break;case"ArrowUp":R.preventDefault(),x(E=>Math.max(E-1,0));break;case"Enter":R.preventDefault(),k[g]&&A(k[g]);break;case"Escape":R.preventDefault(),d(!1),m("");break}},O=R=>{R.stopPropagation(),s(""),d(!1),m("")};return u.jsxs("div",{ref:b,className:"relative",children:[u.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(d(!c),c||setTimeout(()=>v.current?.focus(),0))},onKeyDown:C,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[u.jsx("span",{className:S?"text-text":"text-muted",children:o?"Loading...":S?.friendly_name||S?.entity_id||n}),u.jsxs("div",{className:"flex items-center gap-1",children:[e&&!a&&u.jsx("button",{type:"button",onClick:O,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:u.jsx(Bo,{className:"h-3.5 w-3.5"})}),u.jsx(vh,{className:`h-4 w-4 text-muted transition-transform ${c?"rotate-180":""}`})]})]}),c&&u.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[u.jsx("div",{className:"p-2 border-b border-line",children:u.jsxs("div",{className:"relative",children:[u.jsx(ex,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),u.jsx("input",{ref:v,type:"text",value:f,onChange:R=>m(R.target.value),onKeyDown:C,placeholder:"Search entities...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),u.jsx("div",{ref:w,className:"max-h-[240px] overflow-y-auto p-1",children:j.length===0?u.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No entities found"}):Object.entries(T).map(([R,E])=>u.jsxs("div",{className:"mb-1",children:[u.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:R}),E.map(z=>{const K=k.findIndex(re=>re.entity_id===z.entity_id)===g,Z=z.entity_id===e;return u.jsxs("button",{type:"button","data-highlighted":K,onClick:()=>A(z),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${K?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${Z?"font-medium":""}
                                                `,children:[u.jsx("div",{className:"truncate",children:z.friendly_name||z.entity_id}),u.jsx("div",{className:"text-[10px] text-muted truncate",children:z.entity_id})]},z.entity_id)})]},R))})]})]})}function Kz({value:t,onChange:e,placeholder:s="Select service (e.g. notify.mobile_app)...",disabled:n=!1}){const[a,o]=N.useState(!1),[c,d]=N.useState(""),[f,m]=N.useState([]),[g,x]=N.useState(!1),[b,v]=N.useState(0),w=N.useRef(null),S=N.useRef(null),j=N.useRef(null);N.useEffect(()=>{a&&f.length===0&&!g&&(x(!0),ge.haServices().then(E=>{m(E.services||[])}).catch(E=>{console.error("Failed to fetch HA services:",E)}).finally(()=>{x(!1)}))},[a,f.length,g]);const T=N.useMemo(()=>{if(!c.trim())return f;const E=c.toLowerCase();return f.filter(z=>z.toLowerCase().includes(E))},[f,c]),k=N.useMemo(()=>{const E={};return T.forEach(z=>{const U=z.split(".")[0]||"other";E[U]||(E[U]=[]),E[U].push(z)}),E},[T]),A=N.useMemo(()=>{const E=[];return Object.values(k).forEach(z=>E.push(...z)),E},[k]);N.useEffect(()=>{v(0)},[T.length]),N.useEffect(()=>{const E=z=>{w.current&&!w.current.contains(z.target)&&(o(!1),d(""))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),N.useEffect(()=>{if(a&&j.current){const E=j.current.querySelector('[data-highlighted="true"]');E&&E.scrollIntoView({block:"nearest"})}},[b,a]);const C=E=>{e(E),o(!1),d("")},O=E=>{if(!a){(E.key==="Enter"||E.key===" "||E.key==="ArrowDown")&&(E.preventDefault(),o(!0));return}switch(E.key){case"ArrowDown":E.preventDefault(),v(z=>Math.min(z+1,A.length-1));break;case"ArrowUp":E.preventDefault(),v(z=>Math.max(z-1,0));break;case"Enter":E.preventDefault(),A[b]&&C(A[b]);break;case"Escape":E.preventDefault(),o(!1),d("");break}},R=E=>{E.stopPropagation(),e(""),o(!1),d("")};return u.jsxs("div",{ref:w,className:"relative",children:[u.jsxs("button",{type:"button",disabled:n,onClick:()=>{n||(o(!a),a||setTimeout(()=>S.current?.focus(),0))},onKeyDown:O,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[u.jsx("span",{className:t?"text-text":"text-muted",children:g&&f.length===0?"Loading services...":t||s}),u.jsxs("div",{className:"flex items-center gap-1",children:[t&&!n&&u.jsx("button",{type:"button",onClick:R,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:u.jsx(Bo,{className:"h-3.5 w-3.5"})}),u.jsx(vh,{className:`h-4 w-4 text-muted transition-transform ${a?"rotate-180":""}`})]})]}),a&&u.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[u.jsx("div",{className:"p-2 border-b border-line",children:u.jsxs("div",{className:"relative",children:[u.jsx(ex,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),u.jsx("input",{ref:S,type:"text",value:c,onChange:E=>d(E.target.value),onKeyDown:O,placeholder:"Search services...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),u.jsx("div",{ref:j,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:g&&f.length===0?u.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted animate-pulse",children:"Loading from Home Assistant..."}):T.length===0?u.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No services found"}):Object.entries(k).map(([E,z])=>u.jsxs("div",{className:"mb-1",children:[u.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:E}),z.map(U=>{const Z=A.indexOf(U)===b,re=U===t;return u.jsx("button",{type:"button","data-highlighted":Z,onClick:()=>C(U),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${Z?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${re?"font-medium":""}
                                                `,children:u.jsx("div",{className:"truncate",children:U})},U)})]},E))})]})]})}function xa({text:t,className:e=""}){const[s,n]=N.useState(!1);return t?u.jsxs("div",{className:`relative inline-block ${e}`,children:[u.jsx("button",{type:"button",className:"ml-1.5 text-muted/60 hover:text-accent transition-colors",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onFocus:()=>n(!0),onBlur:()=>n(!1),children:u.jsx(YD,{className:"w-3.5 h-3.5"})}),s&&u.jsxs("div",{className:"absolute z-50 w-64 p-2.5 text-xs bg-surface2 border border-line rounded-lg shadow-lg left-0 bottom-full mb-1.5",children:[u.jsx("div",{className:"text-muted leading-relaxed",children:t}),u.jsx("div",{className:"absolute w-2 h-2 bg-surface2 border-r border-b border-line transform rotate-45 left-3 -bottom-1"})]})]}):null}const Zz="IANA timezone for all schedule calculations",ya={timezone:Zz,"advisor.enable_llm":"Enable LLM-powered advice on Dashboard","advisor.model":"OpenRouter model identifier (requires API key in secrets.yaml)","advisor.personality":"Advice style: concise | friendly | technical","advisor.auto_fetch":"Automatically fetch advice when Dashboard loads","system.has_solar":"Enable PV forecasting & solar-related features","system.has_battery":"Enable battery control & grid arbitrage","system.has_water_heater":"Enable water heating optimization","system.grid.max_power_kw":"HARD limit: max grid import (cannot be exceeded)","system.inverter.max_power_kw":"Maximum inverter AC power output","system.location.latitude":"Decimal degrees, positive north (for PV forecasting)","system.location.longitude":"Decimal degrees, positive east (for PV forecasting)","system.solar_array.azimuth":"Panel direction: 0=North, 90=East, 180=South, 270=West","system.solar_array.kwp":"Total DC peak power of PV array in kilowatts","system.solar_array.tilt":"Panel angle from horizontal: 0=flat, 90=vertical","battery.max_soc_percent":"Planner target ceiling (BMS still enforces absolute limit)","battery_economics.battery_cycle_cost_kwh":"Degradation cost applied per kWh cycled through the battery","charging_strategy.charge_threshold_percentile":"Bottom X% of daily prices are considered 'cheap'","charging_strategy.cheap_price_tolerance_sek":"Extends 'cheap' window to prices within this tolerance","charging_strategy.price_smoothing_sek_kwh":"Groups slots slightly above cheapest into charge window","charging_strategy.block_consolidation_tolerance_sek":"Price tolerance for merging adjacent charge blocks","charging_strategy.consolidation_max_gap_slots":"Max gap (in 15-min slots) to bridge when consolidating","strategic_charging.price_threshold_sek":"[NOT IMPLEMENTED] Floor price for opportunistic charging","strategic_charging.target_soc_percent":"SoC target for cheap window expansion (used in windows.py)","water_heating.power_kw":"Power consumption of the water heater","water_heating.min_hours_per_day":"Minimum run-time per day","water_heating.min_kwh_per_day":"Optional; defaults to power * hours when unset","water_heating.max_blocks_per_day":"Prefer single block, up to two if needed","water_heating.defer_up_to_hours":"Allow deferring into early tomorrow up to N hours if cheaper","water_heating.plan_days_ahead":"Plan at most today + 1 day (tomorrow) within 48h horizon","water_heating.max_hours_between_heating":"Max gap between heating sessions (0 = no constraint)","water_heating.comfort_level":"1-5 (EconomyMaximum) - controls gap penalty","water_heating.min_spacing_hours":"Min gap between starts to avoid efficiency loss","water_heating.spacing_penalty_sek":"Soft penalty for frequent starts","water_heating.vacation_mode.enabled":"Master switch (HA entity can override when ON)","water_heating.vacation_mode.anti_legionella_temp_c":"Target temperature for safety cycle","water_heating.vacation_mode.anti_legionella_interval_days":"Run cycle every N days","water_heating.vacation_mode.anti_legionella_duration_hours":"Duration at power_kw (e.g., 3h * 3kW = 9kWh)","s_index.mode":"Options: probabilistic | dynamic","s_index.static_factor":"Used when mode=static","s_index.base_factor":"Starting point for dynamic calculationsWfz","s_index.max_factor":"Upper bound clamp for dynamic mode","s_index.pv_deficit_weight":"Weight for PV/load deficit contribution","s_index.temp_weight":"Weight for temperature adjustment","s_index.temp_baseline_c":"Baseline temperature (no adjustment)","s_index.temp_cold_c":"Temperature where adjustment reaches 100%","s_index.s_index_horizon_days":"Number of days ahead to evaluate (integer)","s_index.risk_appetite":"1-5 scale (1=safe, 3=neutral, 5=gambler)","export.enable_export":"[NOT IMPLEMENTED] Master switch for grid export","manual_planning.charge_target_percent":"Cap for manual charge slots","manual_planning.export_target_percent":"Floor target when manually scheduling export","debug.enable_planner_debug":"Enable verbose planner logging","debug.sample_size":"Sample size for debug output charts","automation.enable_scheduler":"Enable automatic schedule regeneration","automation.write_to_mariadb":"Write telemetry to MariaDB (requires secrets.yaml)","automation.external_executor_mode":"Use external executor instead of built-in","automation.schedule.every_minutes":"How often to regenerate schedule","automation.schedule.jitter_minutes":"Random delay to avoid thundering herd","automation.ml_training.enabled":"Enable automatic ML model retraining","automation.ml_training.run_days":"Days of week to train (0=Mon, 6=Sun)","automation.ml_training.run_time":"Time of day to run training (HH:MM)","learning.default_battery_cost_sek_per_kwh":"Conservative default until dynamic cost is recorded","nordpool.price_area":"Nordpool bidding zone (SE1-SE4, NO1-NO5, DK1-DK2, FI, etc.)","nordpool.currency":"Price currency","nordpool.resolution_minutes":"Slot resolution (15, 30, or 60)","pricing.vat_percent":"VAT percentage on electricity","pricing.grid_transfer_fee_sek":"Grid operator transfer fee per kWh","pricing.energy_tax_sek":"Energy tax per kWh","pricing.subscription_fee_sek_per_month":"[FUTURE] Fixed monthly grid subscription (for cost analysis)","forecasting.active_forecast_version":"Forecast engine: aurora (ML) | legacy","forecasting.pv_confidence_percent":"PV forecast scaling (100 = trust forecast fully)","forecasting.load_safety_margin_percent":"Load forecast scaling (>100 = expect more load)","grid.import_limit_kw":"Soft limit for effekttariff (breached with high penalty)","kepler.ramping_cost_sek_per_kw":"Penalty for power changes between slots (reduces sawtooth)","input_sensors.alarm_state":"Alarm panel for occupancy detection (ML feature)","input_sensors.vacation_mode":"Vacation mode toggle (reduces load forecasts)","input_sensors.battery_soc":"Current battery state of charge (%)","input_sensors.pv_power":"Current PV production (W or kW)","input_sensors.load_power":"Current load consumption (W or kW)","input_sensors.total_battery_charge":"Cumulative battery charge (kWh)","input_sensors.total_battery_discharge":"Cumulative battery discharge (kWh)","input_sensors.total_grid_export":"Cumulative grid export (kWh)","input_sensors.total_grid_import":"Cumulative grid import (kWh)","input_sensors.total_load_consumption":"Cumulative load (kWh)","input_sensors.total_pv_production":"Cumulative PV production (kWh)","input_sensors.water_heater_consumption":"Water heater daily energy (kWh)","input_sensors.today_grid_import":"Today's grid import (kWh)","input_sensors.today_grid_export":"Today's grid export (kWh)","input_sensors.today_battery_charge":"Today's battery charge (kWh)","input_sensors.today_pv_production":"Today's PV production (kWh)","input_sensors.today_load_consumption":"Today's load consumption (kWh)","input_sensors.today_net_cost":"Today's net electricity cost","executor.enabled":"Enable executor control loop","executor.shadow_mode":"Log actions but don't execute (for testing)","executor.interval_seconds":"How often to run (default: 5 minutes)","executor.pause_reminder_minutes":"Notify if paused longer than this","executor.history_retention_days":"Keep execution history for N days","executor.automation_toggle_entity":"Master enable/disable switch","executor.manual_override_entity":"Manual override active flag","executor.soc_target_entity":"SoC target input_number","executor.inverter.work_mode_entity":"Inverter mode selector","executor.inverter.work_mode_export":"Value for export mode","executor.inverter.work_mode_zero_export":"Value for zero-export mode","executor.inverter.grid_charging_entity":"Enable/disable grid charging","executor.inverter.max_charging_current_entity":"Max charge current (A)","executor.inverter.max_discharging_current_entity":"Max discharge current (A)","executor.controller.battery_capacity_kwh":"Battery capacity in kWh (for current calculations)","executor.controller.system_voltage_v":"Nominal battery voltage","executor.controller.worst_case_voltage_v":"Minimum voltage for conservative calculations","executor.controller.inverter_ac_limit_kw":"Max AC power output of inverter","executor.controller.charge_efficiency":"Charging efficiency (0-1)","executor.controller.max_charge_a":"Maximum charging current (A)","executor.controller.min_charge_a":"Minimum meaningful charge current (A)","executor.controller.round_step_a":"Round current commands to nearest X amps","executor.controller.write_threshold_a":"Only write if change exceeds X amps","executor.water_heater.target_entity":"HA entity to control","executor.water_heater.temp_off":"Idle mode (legionella-safe minimum)","executor.water_heater.temp_normal":"Scheduled heating target (used by planner)","executor.water_heater.temp_boost":"Manual boost button (Dashboard/Executor)","executor.water_heater.temp_max":"PV dump target + safety limit (never exceeded)","executor.notifications.service":"HA notify service to use","executor.notifications.on_charge_start":"Notify when grid charging starts","executor.notifications.on_charge_stop":"Notify when grid charging stops","executor.notifications.on_export_start":"Notify when export/discharge starts","executor.notifications.on_export_stop":"Notify when export/discharge stops","executor.notifications.on_water_heat_start":"Notify when water heating starts","executor.notifications.on_water_heat_stop":"Notify when water heating stops","executor.notifications.on_soc_target_change":"Notify when SoC target changes","executor.notifications.on_override_activated":"Notify when manual override triggers","executor.notifications.on_error":"Notify on executor errors","dashboard.auto_refresh_enabled":"Auto-refresh dashboard schedule display","dashboard.overlay_defaults":"Default chart overlays","ui.theme":"Color theme name","ui.theme_accent_index":"Accent color index (0-based)","appliances.dishwasher.label":"Display name in UI","appliances.dishwasher.duration_hours":"Typical run duration"};function Fg({value:t,onChange:e,options:s,placeholder:n="Select...",disabled:a=!1,className:o="",searchable:c=!1}){const[d,f]=N.useState(!1),[m,g]=N.useState(""),[x,b]=N.useState(0),v=N.useRef(null),w=N.useRef(null),S=N.useRef(null),j=s.find(R=>R.value===t),T=N.useMemo(()=>{if(!m.trim())return s;const R=m.toLowerCase();return s.filter(E=>E.label.toLowerCase().includes(R)||E.value.toLowerCase().includes(R)||E.group?.toLowerCase().includes(R))},[s,m]),k=N.useMemo(()=>{const R={},E=[];return T.forEach(z=>{z.group?(R[z.group]||(R[z.group]=[]),R[z.group].push(z)):E.push(z)}),{groups:R,noGroup:E}},[T]),A=N.useMemo(()=>[...k.noGroup,...Object.values(k.groups).flat()],[k]);N.useEffect(()=>{b(0)},[T.length,d]),N.useEffect(()=>{const R=E=>{v.current&&!v.current.contains(E.target)&&(f(!1),g(""))};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),N.useEffect(()=>{if(d&&S.current){const R=S.current.querySelector(`[data-index="${x}"]`);R&&R.scrollIntoView({block:"nearest"})}},[x,d]);const C=R=>{e(R),f(!1),g("")},O=R=>{if(!a){if(!d){(R.key==="Enter"||R.key===" "||R.key==="ArrowDown")&&(R.preventDefault(),f(!0));return}switch(R.key){case"ArrowDown":R.preventDefault(),b(E=>Math.min(E+1,A.length-1));break;case"ArrowUp":R.preventDefault(),b(E=>Math.max(E-1,0));break;case"Enter":R.preventDefault(),A[x]&&C(A[x].value);break;case"Escape":R.preventDefault(),f(!1),g("");break;case"Tab":f(!1);break}}};return u.jsxs("div",{ref:v,className:`relative ${o}`,children:[u.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(f(!d),!d&&c&&setTimeout(()=>w.current?.focus(),0))},onKeyDown:O,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[u.jsx("span",{className:j?"text-text":"text-muted",children:j?.label||n}),u.jsx(vh,{className:`h-4 w-4 text-muted transition-transform ${d?"rotate-180":""}`})]}),d&&u.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[180px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float animate-in fade-in zoom-in-95 duration-100",children:[c&&u.jsx("div",{className:"p-2 border-b border-line",children:u.jsxs("div",{className:"relative",children:[u.jsx(ex,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),u.jsx("input",{ref:w,type:"text",value:m,onChange:R=>g(R.target.value),placeholder:"Search...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40",onKeyDown:O})]})}),u.jsx("div",{ref:S,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:A.length===0?u.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No options found"}):u.jsxs(u.Fragment,{children:[k.noGroup.map((R,E)=>{const z=j?.value===R.value,U=A[x]?.value===R.value;return u.jsxs("div",{"data-index":x,className:`
                                                flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                ${U?"bg-accent/20 text-text":"text-text"}
                                                ${z?"font-medium":""}
                                            `,onClick:()=>C(R.value),onMouseEnter:()=>b(A.findIndex(K=>K.value===R.value)),children:[u.jsx("span",{children:R.label}),z&&u.jsx(H1,{className:"h-3.5 w-3.5 text-accent"})]},R.value)}),Object.entries(k.groups).map(([R,E])=>u.jsxs("div",{className:"mt-1 first:mt-0",children:[u.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:R}),E.map(z=>{const U=j?.value===z.value,K=A.findIndex(re=>re.value===z.value),Z=K===x;return u.jsxs("div",{"data-index":K,className:`
                                                        flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                        ${Z?"bg-accent/20 text-text":"text-text"}
                                                        ${U?"font-medium":""}
                                                    `,onClick:()=>C(z.value),onMouseEnter:()=>b(K),children:[u.jsx("span",{children:z.label}),U&&u.jsx(H1,{className:"h-3.5 w-3.5 text-accent"})]},z.value)})]},R))]})})]})]})}function hk({open:t,onOpenChange:e,title:s,children:n,footer:a,size:o="md",className:c=""}){const d=N.useRef(null);if(N.useEffect(()=>{const g=x=>{t&&x.key==="Escape"&&e(!1)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[t,e]),N.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),!t)return null;const f={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl"},m=u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[u.jsx("div",{ref:d,className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:g=>{g.target===d.current&&e(!1)}}),u.jsxs("div",{className:`
                    relative w-full ${f[o]} 
                    bg-surface rounded-ds-lg border border-line shadow-2xl 
                    animate-in zoom-in-95 fade-in duration-200
                    flex flex-col max-h-[90vh]
                    ${c}
                `,role:"dialog","aria-modal":"true",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-line shrink-0",children:[u.jsx("div",{className:"text-lg font-semibold text-text",children:s}),u.jsx("button",{onClick:()=>e(!1),className:"p-1 rounded-md text-muted hover:text-text hover:bg-surface2 transition-colors",children:u.jsx(Bo,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"px-6 py-4 overflow-y-auto scrollbar-thin",children:n}),a&&u.jsx("div",{className:"px-6 py-4 border-t border-line bg-surface2/30 flex justify-end gap-3 shrink-0 rounded-b-ds-lg",children:a})]})]});return $w.createPortal(m,document.body)}function rc({checked:t,onCheckedChange:e,disabled:s=!1,className:n=""}){return u.jsx("div",{className:`toggle ${t?"active":""} ${n} ${s?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!s&&e(!t),children:u.jsx("div",{className:"toggle-knob"})})}const fk=N.createContext(void 0);function Qz({children:t}){const[e,s]=N.useState([]),n=N.useCallback(o=>{s(c=>c.filter(d=>d.id!==o))},[]),a=N.useCallback(({message:o,description:c,variant:d})=>{const f=Math.random().toString(36).substring(2,9);s(m=>[...m,{id:f,message:o,description:c,variant:d}]),setTimeout(()=>{n(f)},5e3)},[n]);return u.jsxs(fk.Provider,{value:{toast:a,dismiss:n},children:[t,$w.createPortal(u.jsx("div",{className:"fixed bottom-0 right-0 z-[100] p-6 space-y-4 max-w-sm w-full pointer-events-none",children:e.map(o=>u.jsxs("div",{className:`
                                pointer-events-auto
                                flex gap-3 p-4 rounded-ds-lg shadow-2xl border
                                animate-in slide-in-from-right-full duration-300
                                ${Jz(o.variant)}
                            `,children:[u.jsx("div",{className:"shrink-0 mt-0.5",children:eP(o.variant)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-semibold text-sm",children:o.message}),o.description&&u.jsx("div",{className:"text-xs opacity-90 mt-1",children:o.description})]}),u.jsx("button",{onClick:()=>n(o.id),className:"shrink-0 -mt-1 -mr-1 p-1 rounded hover:bg-black/10 transition-colors",children:u.jsx(Bo,{className:"h-4 w-4"})})]},o.id))}),document.body)]})}function mk(){const t=N.useContext(fk);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t}function Jz(t){switch(t){case"success":return"bg-surface2 border-good text-text";case"error":return"bg-bad text-white border-bad";case"warning":return"bg-warn text-black border-warn";case"info":return"bg-surface2 border-line text-text"}}function eP(t){switch(t){case"success":return u.jsx(uS,{className:"h-5 w-5 text-good"});case"error":return u.jsx(UD,{className:"h-5 w-5 text-white"});case"warning":return u.jsx(oc,{className:"h-5 w-5 text-black"});case"info":return u.jsx(ig,{className:"h-5 w-5 text-accent"})}}const tP=[{id:"system",label:"System"},{id:"parameters",label:"Parameters"},{id:"ui",label:"UI"},{id:"advanced",label:"Advanced"}],Hg=[{title:"System Profile",description:"Core hardware toggles and high-level system preferences.",fields:[{key:"system.has_solar",label:"Solar panels installed",helper:"Enable PV forecasting and solar optimization",path:["system","has_solar"],type:"boolean"},{key:"system.has_battery",label:"Home battery installed",helper:"Enable battery control and grid arbitrage",path:["system","has_battery"],type:"boolean"},{key:"system.has_water_heater",label:"Smart water heater",helper:"Enable water heating optimization",path:["system","has_water_heater"],type:"boolean"},{key:"export.enable_export",label:"Enable grid export",helper:"[EXPERIMENTAL] Master switch for grid export",path:["export","enable_export"],type:"boolean"}]},{title:"Location & Solar Array",description:"Geolocation and PV array parameters used by the forecasting engine.",fields:[{key:"system.location.latitude",label:"Latitude",helper:"Decimal degrees, positive north. Example: 55.4932",path:["system","location","latitude"],type:"number"},{key:"system.location.longitude",label:"Longitude",helper:"Decimal degrees, positive east. Example: 13.1112",path:["system","location","longitude"],type:"number"},{key:"system.solar_array.azimuth",label:"Solar azimuth ()",helper:"Panel direction: 0 = North, 90 = East, 180 = South, 270 = West.",path:["system","solar_array","azimuth"],type:"number"},{key:"system.solar_array.tilt",label:"Solar tilt ()",helper:"Angle from horizontal. 0 = flat, 90 = vertical.",path:["system","solar_array","tilt"],type:"number"},{key:"system.solar_array.kwp",label:"Solar capacity (kWp)",helper:"Total DC peak power of the PV array.",path:["system","solar_array","kwp"],type:"number"}]},{title:"Battery Specifications",description:"Capacity, max power, and SoC limits define safe operating bands.",fields:[{key:"battery.capacity_kwh",label:"Battery capacity (kWh)",path:["battery","capacity_kwh"],type:"number"},{key:"battery.max_charge_power_kw",label:"Max charge power (kW)",path:["battery","max_charge_power_kw"],type:"number"},{key:"battery.max_discharge_power_kw",label:"Max discharge power (kW)",path:["battery","max_discharge_power_kw"],type:"number"},{key:"battery.min_soc_percent",label:"Min SoC (%)",path:["battery","min_soc_percent"],type:"number"},{key:"battery.max_soc_percent",label:"Max SoC (%)",path:["battery","max_soc_percent"],type:"number"},{key:"system.grid.max_power_kw",label:"HARD Grid max power (kW)",helper:"Absolute limit from your grid fuse/connection.",path:["system","grid","max_power_kw"],type:"number"},{key:"grid.import_limit_kw",label:"Soft import limit (kW)",helper:"Threshold for peak power penalties (effekttariff).",path:["grid","import_limit_kw"],type:"number"}]},{title:"Pricing & Timezone",description:"Nordpool zone and local timezone for planner calculations.",fields:[{key:"nordpool.price_area",label:"Nordpool Price Area",helper:"e.g. SE4, NO1, DK2",path:["nordpool","price_area"],type:"text"},{key:"pricing.vat_percent",label:"VAT (%)",path:["pricing","vat_percent"],type:"number"},{key:"pricing.grid_transfer_fee_sek",label:"Grid transfer fee (SEK/kWh)",path:["pricing","grid_transfer_fee_sek"],type:"number"},{key:"pricing.energy_tax_sek",label:"Energy tax (SEK/kWh)",path:["pricing","energy_tax_sek"],type:"number"},{key:"timezone",label:"Timezone",helper:"e.g. Europe/Stockholm",path:["timezone"],type:"text"}]},{title:"Notifications",description:"Configure automated notifications via Home Assistant.",fields:[{key:"executor.notifications.service",label:"HA Notify Service",helper:"e.g. notify.mobile_app_iphone",path:["executor","notifications","service"],type:"service"},{key:"executor.notifications.on_charge_start",label:"On charge start",path:["executor","notifications","on_charge_start"],type:"boolean"},{key:"executor.notifications.on_charge_stop",label:"On charge stop",path:["executor","notifications","on_charge_stop"],type:"boolean"},{key:"executor.notifications.on_discharge_start",label:"On discharge start",path:["executor","notifications","on_discharge_start"],type:"boolean"},{key:"executor.notifications.on_discharge_stop",label:"On discharge stop",path:["executor","notifications","on_discharge_stop"],type:"boolean"},{key:"executor.notifications.on_water_heating_start",label:"On water heating start",path:["executor","notifications","on_water_heat_start"],type:"boolean"},{key:"executor.notifications.on_water_heating_stop",label:"On water heating stop",path:["executor","notifications","on_water_heat_stop"],type:"boolean"},{key:"executor.notifications.on_soc_target_change",label:"On SoC target change",path:["executor","notifications","on_soc_target_change"],type:"boolean"},{key:"executor.notifications.on_override_activated",label:"On override activated",path:["executor","notifications","on_override_activated"],type:"boolean"},{key:"executor.notifications.on_error",label:"On error",path:["executor","notifications","on_error"],type:"boolean"}]},{title:" Home Assistant Connection ",isHA:!0,description:"Connection parameters for your Home Assistant instance.",fields:[{key:"home_assistant.url",label:"HA URL",helper:"e.g. http://homeassistant.local:8123",path:["home_assistant","url"],type:"text"},{key:"home_assistant.token",label:"Long-Lived Access Token",path:["home_assistant","token"],type:"text"}]},{title:"Required HA Entities",isHA:!0,description:"Core sensors and switches required for battery control.",fields:[{key:"input_sensors.battery_soc",label:"Battery SoC (%)",path:["input_sensors","battery_soc"],type:"entity"},{key:"input_sensors.pv_power",label:"PV Power (W/kW)",path:["input_sensors","pv_power"],type:"entity"},{key:"input_sensors.load_power",label:"Load Power (W/kW)",path:["input_sensors","load_power"],type:"entity"},{key:"executor.inverter.work_mode_entity",label:"Work Mode Selector",path:["executor","inverter","work_mode_entity"],type:"entity"},{key:"executor.inverter.grid_charging_entity",label:"Grid Charging Switch",path:["executor","inverter","grid_charging_entity"],type:"entity"},{key:"executor.inverter.max_charging_current_entity",label:"Max Charge Current",path:["executor","inverter","max_charging_current_entity"],type:"entity"},{key:"executor.inverter.max_discharging_current_entity",label:"Max Discharge Current",path:["executor","inverter","max_discharging_current_entity"],type:"entity"}]},{title:"Optional HA Entities",isHA:!0,description:"Optional sensors for better forecasting and dashboard metrics.",fields:[{key:"executor.automation_toggle_entity",label:"Automation Toggle",path:["executor","automation_toggle_entity"],type:"entity"},{key:"executor.manual_override_entity",label:"Manual Override Toggle",path:["executor","manual_override_entity"],type:"entity"},{key:"executor.soc_target_entity",label:"Target SoC Feedback",path:["executor","soc_target_entity"],type:"entity"},{key:"executor.water_heater.target_entity",label:"Water Heater Setpoint",path:["executor","water_heater","target_entity"],type:"entity"},{key:"input_sensors.vacation_mode",label:"Vacation Mode Toggle",path:["input_sensors","vacation_mode"],type:"entity"},{key:"input_sensors.alarm_state",label:"Alarm Control Panel",path:["input_sensors","alarm_state"],type:"entity"},{key:"input_sensors.water_heater_consumption",label:"Water Heater Daily Energy",path:["input_sensors","water_heater_consumption"],type:"entity"},{key:"input_sensors.today_net_cost",label:"Today's Net Cost",path:["input_sensors","today_net_cost"],type:"entity"},{key:"input_sensors.total_battery_charge",label:"Total Battery Charge (kWh)",path:["input_sensors","total_battery_charge"],type:"entity"},{key:"input_sensors.total_battery_discharge",label:"Total Battery Discharge (kWh)",path:["input_sensors","total_battery_discharge"],type:"entity"},{key:"input_sensors.total_grid_export",label:"Total Grid Export (kWh)",path:["input_sensors.total_grid_export"],type:"entity"},{key:"input_sensors.total_grid_import",label:"Total Grid Import (kWh)",path:["input_sensors.total_grid_import"],type:"entity"},{key:"input_sensors.total_load_consumption",label:"Total Load Consumption (kWh)",path:["input_sensors.total_load_consumption"],type:"entity"},{key:"input_sensors.total_pv_production",label:"Total PV Production (kWh)",path:["input_sensors.total_pv_production"],type:"entity"}]}],pk=[{title:"Charging Strategy",description:"Price smoothing, consolidation tolerances, and gap settings that govern charge windows.",fields:[{key:"charging_strategy.price_smoothing_sek_kwh",label:"Price smoothing (SEK/kWh)",path:["charging_strategy","price_smoothing_sek_kwh"],type:"number"},{key:"charging_strategy.block_consolidation_tolerance_sek",label:"Consolidation tolerance (SEK)",path:["charging_strategy","block_consolidation_tolerance_sek"],type:"number"},{key:"charging_strategy.consolidation_max_gap_slots",label:"Max gap slots",path:["charging_strategy","consolidation_max_gap_slots"],type:"number"},{key:"charging_strategy.charge_threshold_percentile",label:"Charge threshold (percentile)",path:["charging_strategy","charge_threshold_percentile"],type:"number"},{key:"charging_strategy.cheap_price_tolerance_sek",label:"Cheap price tolerance (SEK)",path:["charging_strategy","cheap_price_tolerance_sek"],type:"number"}]},{title:"Arbitrage & Export",description:"Export thresholds, peak-only export, and future guard buffers.",fields:[{key:"arbitrage.export_percentile_threshold",label:"Export percentile threshold",path:["arbitrage","export_percentile_threshold"],type:"number"},{key:"arbitrage.enable_peak_only_export",label:"Enable peak-only export",path:["arbitrage","enable_peak_only_export"],type:"boolean",helper:"Override to only export when we hit the percentile threshold."},{key:"arbitrage.export_future_price_guard",label:"Future price guard",path:["arbitrage","export_future_price_guard"],type:"boolean"},{key:"arbitrage.future_price_guard_buffer_sek",label:"Future guard buffer (SEK)",path:["arbitrage","future_price_guard_buffer_sek"],type:"number"},{key:"arbitrage.export_profit_margin_sek",label:"Export profit margin (SEK)",path:["arbitrage","export_profit_margin_sek"],type:"number"}]},{title:"Water Heating",description:"Quota, deferral, and sizing controls for the water heater scheduler.",fields:[{key:"water_heating.power_kw",label:"Water heater power (kW)",path:["water_heating","power_kw"],type:"number"},{key:"water_heating.defer_up_to_hours",label:"Max defer hours",path:["water_heating","defer_up_to_hours"],type:"number"},{key:"water_heating.max_blocks_per_day",label:"Max blocks per day",path:["water_heating","max_blocks_per_day"],type:"number"},{key:"water_heating.min_kwh_per_day",label:"Min kWh/day",path:["water_heating","min_kwh_per_day"],type:"number"},{key:"water_heating.min_spacing_hours",label:"Min spacing (hours)",path:["water_heating","min_spacing_hours"],type:"number",helper:"Minimum gap between heating sessions to avoid efficiency loss."},{key:"water_heating.spacing_penalty_sek",label:"Spacing penalty (SEK)",path:["water_heating","spacing_penalty_sek"],type:"number",helper:"Penalty applied when heating sessions are too close."},{key:"water_heating.schedule_future_only",label:"Schedule future only",path:["water_heating","schedule_future_only"],type:"boolean"}]},{title:"Learning Parameter Limits",description:"Limits that keep learning adjustments conservative.",fields:[{key:"learning.min_sample_threshold",label:"Min sample threshold",path:["learning","min_sample_threshold"],type:"number"},{key:"learning.min_improvement_threshold",label:"Min improvement (%)",path:["learning","min_improvement_threshold"],type:"number"},{key:"learning.max_daily_param_change.battery_use_margin_sek",label:"Battery margin change (SEK)",path:["learning","max_daily_param_change","battery_use_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.export_profit_margin_sek",label:"Export margin change (SEK)",path:["learning","max_daily_param_change","export_profit_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.future_price_guard_buffer_sek",label:"Future guard buffer change (SEK)",path:["learning","max_daily_param_change","future_price_guard_buffer_sek"],type:"number"},{key:"learning.max_daily_param_change.load_safety_margin_percent",label:"Load safety change (%)",path:["learning","max_daily_param_change","load_safety_margin_percent"],type:"number"},{key:"learning.max_daily_param_change.pv_confidence_percent",label:"PV confidence change (%)",path:["learning","max_daily_param_change","pv_confidence_percent"],type:"number"},{key:"learning.max_daily_param_change.s_index_base_factor",label:"S-index base change",path:["learning","max_daily_param_change","s_index_base_factor"],type:"number"},{key:"learning.max_daily_param_change.s_index_pv_deficit_weight",label:"S-index PV weight change",path:["learning","max_daily_param_change","s_index_pv_deficit_weight"],type:"number"},{key:"learning.max_daily_param_change.s_index_temp_weight",label:"S-index temp weight change",path:["learning","max_daily_param_change","s_index_temp_weight"],type:"number"}]},{title:"S-Index Safety",description:"Seasonal index parameters for reserve calculations.",fields:[{key:"s_index.temp_cold_c",label:"Cold temp (C)",path:["s_index","temp_cold_c"],type:"number"},{key:"s_index.s_index_horizon_days",label:"S-Index Horizon (days)",path:["s_index","s_index_horizon_days"],type:"select",options:[{label:"1 Day",value:"1"},{label:"2 Days",value:"2"},{label:"3 Days",value:"3"},{label:"4 Days",value:"4"},{label:"5 Days",value:"5"},{label:"6 Days",value:"6"},{label:"7 Days",value:"7"}]}]}],a0=Hg.flatMap(t=>t.fields),sP=a0.reduce((t,e)=>(t[e.key]=e,t),{}),r0=pk.flatMap(t=>t.fields),nP=r0.reduce((t,e)=>(t[e.key]=e,t),{}),gk=[{title:"Dashboard Defaults",description:"Overlay defaults and refresh cadence for the planner dashboard.",fields:[{key:"dashboard.auto_refresh_enabled",label:"Auto refresh",helper:"Enable automatic refresh of the dashboard schedule.",path:["dashboard","auto_refresh_enabled"],type:"boolean"}]},{title:"AI Advisor",description:"Control the Smart Advisor LLM settings.",fields:[{key:"advisor.enable_llm",label:"Enable LLM advice",path:["advisor","enable_llm"],type:"boolean"},{key:"advisor.auto_fetch",label:"Auto-fetch advice on dashboard load",path:["advisor","auto_fetch"],type:"boolean"},{key:"advisor.personality",label:"Advisor personality",path:["advisor","personality"],type:"select",options:[{label:"Concise (Money focus)",value:"concise"},{label:"Friendly (Emoji style)",value:"friendly"},{label:"Technical (Data heavy)",value:"technical"}]}]}],xk=[{title:"Experimental Features",description:"Toggle advanced and experimental modes.",fields:[{key:"automation.external_executor_mode",label:"External Executor Mode",helper:"When enabled, Darkstar expects an external system to execute the plan.",path:["automation","external_executor_mode"],type:"boolean"},{key:"automation.write_to_mariadb",label:"Log to MariaDB",helper:"Requires MariaDB credentials in secrets.yaml",path:["automation","write_to_mariadb"],type:"boolean"}]},{title:"Danger Zone",description:"Sensitive actions. Proceed with caution.",fields:[]}],o0=gk.flatMap(t=>t.fields),iP=o0.reduce((t,e)=>(t[e.key]=e,t),{}),l0=xk.flatMap(t=>t.fields),aP=l0.reduce((t,e)=>(t[e.key]=e,t),{});function Vi(t,e){return e.reduce((s,n)=>s&&typeof s=="object"?s[n]:void 0,t)}function Ph(t,e,s){let n=t;e.forEach((a,o)=>{if(o===e.length-1){n[a]=s;return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]})}function Md(t){const e={};return a0.forEach(s=>{const n=t?Vi(t,s.path):void 0;s.type==="boolean"?e[s.key]=n===!0?"true":"false":e[s.key]=n!=null?String(n):""}),e}function Td(t){const e={};return r0.forEach(s=>{const n=t?Vi(t,s.path):void 0;s.type==="boolean"?e[s.key]=n===!0?"true":"false":s.type==="array"&&Array.isArray(n)?e[s.key]=n.join(", "):e[s.key]=n!=null?String(n):""}),e}function rP(t,e){const s=e.trim();if(t.type==="number"){if(s==="")return null;const n=Number(s);return Number.isNaN(n)?void 0:n}return t.type==="boolean"?s==="true":s}function oP(t,e){const s=e.trim();if(t.type==="number"){if(s==="")return null;const n=Number(s);return Number.isNaN(n)?void 0:n}return t.type==="boolean"?s==="true":t.type==="array"?s?s.split(",").map(o=>o.trim()).filter(Boolean).map(o=>Number(o)).filter(o=>!Number.isNaN(o)):[]:s}function lP(t,e){const s={};return a0.forEach(n=>{const a=e[n.key]??"",o=rP(n,a);if(o===void 0||n.type==="number"&&o===null)return;const c=Vi(t,n.path);o!==c&&Ph(s,n.path,o)}),s}function cP(t,e){const s={};return r0.forEach(n=>{const a=e[n.key]??"",o=oP(n,a);if(o===void 0)return;const c=Vi(t,n.path);(()=>{if(n.type==="array"){if(!Array.isArray(o)||!Array.isArray(c)||o.length!==c.length)return!1;for(let f=0;f<o.length;f+=1)if(o[f]!==c[f])return!1;return!0}return o===c})()||Ph(s,n.path,o)}),s}function Wp(t){const e={};return o0.forEach(s=>{const n=t?Vi(t,s.path):void 0;s.type==="boolean"?e[s.key]=n===!0?"true":"false":e[s.key]=n!=null?String(n):""}),t?.dashboard?.overlay_defaults!==void 0&&(e["dashboard.overlay_defaults"]=String(t.dashboard.overlay_defaults)),e}function Ip(t){const e={};return l0.forEach(s=>{const n=t?Vi(t,s.path):void 0;e[s.key]=n===!0?"true":"false"}),e}function uP(t,e){const s=e.trim();return t.type==="boolean"?s===""?null:s==="true"?!0:s==="false"?!1:void 0:s}function dP(t,e){const s=e.trim();return t.type==="boolean"?s===""?null:s==="true"?!0:s==="false"?!1:void 0:s}function hP(t,e){const s={};o0.forEach(a=>{const o=e[a.key]??"",c=uP(a,o);if(c===void 0||a.type==="boolean"&&c===null)return;const d=Vi(t,a.path);c!==d&&Ph(s,a.path,c)});const n=e["dashboard.overlay_defaults"];if(n!==void 0){const a=Vi(t,["dashboard","overlay_defaults"]);n!==a&&(s.dashboard||(s.dashboard={}),s.dashboard.overlay_defaults=n)}return s}function fP(t,e){const s={};return l0.forEach(n=>{const a=e[n.key]??"",o=dP(n,a);if(o===void 0||n.type==="boolean"&&o===null)return;const c=Vi(t,n.path);o!==c&&Ph(s,n.path,o)}),s}function mP(){const{toast:t}=mk(),[e,s]=N.useState("system"),[n,a]=N.useState(null),[o,c]=N.useState(()=>Md(null)),[d,f]=N.useState(()=>Td(null)),[m,g]=N.useState(()=>Wp(null)),[x,b]=N.useState(()=>Ip(null)),[v,w]=N.useState({}),[S,j]=N.useState({}),[T,k]=N.useState({}),[A,C]=N.useState({}),[O,R]=N.useState(!0),[E,z]=N.useState(null),[U,K]=N.useState(!1),[Z,re]=N.useState(!1),[Se,fe]=N.useState(!1),[_e,F]=N.useState(!1),[G,ae]=N.useState(null),[ie,de]=N.useState(null),[D,H]=N.useState(null),[te,L]=N.useState(null),[se,oe]=N.useState([]),[Ce,pt]=N.useState(null),[it,ns]=N.useState(null),[Ss,us]=N.useState(!0),[is,xt]=N.useState(null),[$s,Xs]=N.useState(!1),[En,js]=N.useState(null),[yn,Rs]=N.useState(!1),[be,Ke]=N.useState(!1),[Yt,yt]=N.useState(null),[On,Ve]=N.useState([]),[vs,_s]=N.useState(!1),[Jn,Rn]=N.useState(null),Fa=async()=>{_s(!0);try{const $=await ge.haEntities();Ve($.entities||[])}catch($){console.error("Failed to load HA entities",$)}finally{_s(!1)}},Ks=async()=>{Rn("Testing...");try{const $=o["home_assistant.url"],Q=o["home_assistant.token"],ce=await ge.haTest({url:$,token:Q});ce.success?(Rn("Success: Connected!"),Fa()):Rn(`Error: ${ce.message}`)}catch($){Rn(`Error: ${$.message}`)}},bn=async()=>{R(!0),z(null);try{const $=await ge.config();a($),c(Md($)),f(Td($)),g(Wp($)),b(Ip($));const Q=$?.ui?.theme_accent_index;ns(typeof Q=="number"?Q:null)}catch($){z($?.message||"Failed to load configuration")}finally{R(!1)}},Wt=async()=>{us(!0),xt(null);try{const $=await ge.theme();oe($.themes),pt($.current??null),ns($.accent_index??null)}catch($){xt($?.message||"Failed to load themes")}finally{us(!1)}};N.useEffect(()=>{bn(),Wt(),Fa()},[]);const At=($,Q)=>{const ce=sP[$];if(ce&&(c(xe=>({...xe,[$]:Q})),ae(null),ce.type==="number")){const xe=Q.trim();w(ne=>{const me={...ne};xe===""?me[$]="Required":Number.isNaN(Number(xe))?me[$]="Must be a number":$.includes("percent")&&(Number(xe)<0||Number(xe)>100)?me[$]="Must be between 0 and 100":$.includes("power_kw")&&Number(xe)<0?me[$]="Must be positive":$.includes("capacity_kwh")&&Number(xe)<=0?me[$]="Must be greater than 0":$==="nordpool.resolution_minutes"&&![15,30,60].includes(Number(xe))?me[$]="Must be 15, 30, or 60":delete me[$];const Ze="battery.min_soc_percent",Be="battery.max_soc_percent",he=$===Ze?xe:(o[Ze]??"").trim(),Ye=$===Be?xe:(o[Be]??"").trim(),rt=Number(he),zs=Number(Ye);return!Number.isNaN(rt)&&!Number.isNaN(zs)&&(rt>=zs?(me[Ze]="Min SoC must be less than max SoC",me[Be]="Max SoC must be greater than min SoC"):(me[Ze]&&me[Ze].startsWith("Min SoC")&&delete me[Ze],me[Be]&&me[Be].startsWith("Max SoC")&&delete me[Be])),me})}},It=($,Q)=>{const ce=nP[$];if(ce&&(f(xe=>({...xe,[$]:Q})),de(null),ce.type==="number")){const xe=Q.trim();j(ne=>{const me={...ne};return xe===""?me[$]="Required":Number.isNaN(Number(xe))?me[$]="Must be a number":$.includes("percent")&&(Number(xe)<0||Number(xe)>100)?me[$]="Must be between 0 and 100":$.includes("sek")&&Number(xe)<0||$.includes("power_kw")&&Number(xe)<0?me[$]="Must be positive":$.includes("kwh")&&Number(xe)<=0?me[$]="Must be greater than 0":delete me[$],me})}},ds=($,Q)=>{const ce=iP[$];if(!(!ce&&$!=="dashboard.overlay_defaults")&&(g(xe=>({...xe,[$]:Q})),H(null),$!=="dashboard.overlay_defaults"&&ce.type==="boolean")){const xe=Q.trim();k(ne=>{const me={...ne};return xe===""?me[$]="Required":xe!=="true"&&xe!=="false"?me[$]="Invalid value":delete me[$],me})}},$o=($,Q)=>{const ce=aP[$];if(ce&&(b(xe=>({...xe,[$]:Q})),L(null),ce.type==="boolean")){const xe=Q.trim();C(ne=>{const me={...ne};return xe===""?me[$]="Required":xe!=="true"&&xe!=="false"?me[$]="Invalid value":delete me[$],me})}},Ls=Object.values(v).filter(Boolean).length>0,ti=Object.values(S).filter(Boolean).length>0,Zs=async()=>{if(!n)return;if(Ls){ae("Fix validation errors before saving.");return}const $=lP(n,o);if(!Object.keys($).length){ae("No changes detected.");return}K(!0),ae(null);try{const Q=await ge.configSave($);if(Q.status!=="success"){const xe={};Q.errors?.forEach(ne=>{ne.field&&(xe[ne.field]=ne.message||"Invalid value")}),Object.keys(xe).length?(w(ne=>({...ne,...xe})),ae("Fix highlighted fields before saving.")):ae(Q.errors&&Q.errors[0]?.message?Q.errors[0].message:"Save failed.");return}const ce=await ge.config();a(ce),c(Md(ce)),f(Td(ce)),w({}),w({}),ae("System settings saved."),t({message:"System settings saved",variant:"success"})}catch(Q){const ce=Q instanceof Error?Q.message:"Unknown error";ae(`Save failed: ${ce}`),t({message:`Save failed: ${ce}`,variant:"error"})}finally{K(!1)}},Ii=async()=>{if(!n)return;if(ti){de("Fix validation errors before saving.");return}const $=cP(n,d);if(!Object.keys($).length){de("No changes detected.");return}re(!0),de(null);try{const Q=await ge.configSave($);if(Q.status!=="success"){const xe={};Q.errors?.forEach(ne=>{ne.field&&(xe[ne.field]=ne.message||"Invalid value")}),Object.keys(xe).length?(j(ne=>({...ne,...xe})),de("Fix highlighted fields before saving.")):de(Q.errors&&Q.errors[0]?.message?Q.errors[0].message:"Save failed.");return}const ce=await ge.config();a(ce),c(Md(ce)),f(Td(ce)),j({}),j({}),de("Parameters saved."),t({message:"Parameters saved",variant:"success"})}catch(Q){const ce=Q instanceof Error?Q.message:"Unknown error";de(`Save failed: ${ce}`),t({message:`Save failed: ${ce}`,variant:"error"})}finally{re(!1)}},Ln=async()=>{if(!n)return;if(Object.values(T).filter(Boolean).length>0){H("Fix validation errors before saving.");return}const Q=hP(n,m);if(!Object.keys(Q).length){H("No changes detected.");return}fe(!0),H(null);try{const ce=await ge.configSave(Q);if(ce.status!=="success"){const ne={};ce.errors?.forEach(me=>{me.field&&(ne[me.field]=me.message||"Invalid value")}),Object.keys(ne).length?(k(me=>({...me,...ne})),H("Fix highlighted fields before saving.")):H(ce.errors&&ce.errors[0]?.message?ce.errors[0].message:"Save failed.");return}const xe=await ge.config();a(xe),g(Wp(xe)),k({}),k({}),H("UI preferences saved."),t({message:"UI preferences saved",variant:"success"})}catch(ce){const xe=ce instanceof Error?ce.message:"Unknown error";H(`Save failed: ${xe}`),t({message:`Save failed: ${xe}`,variant:"error"})}finally{fe(!1)}},Ha=async()=>{if(!n)return;if(Object.values(A).filter(Boolean).length>0){L("Fix validation errors before saving.");return}const Q=fP(n,x);if(!Object.keys(Q).length){L("No changes detected.");return}F(!0),L(null);try{const ce=await ge.configSave(Q);if(ce.status!=="success"){const ne={};ce.errors?.forEach(me=>{me.field&&(ne[me.field]=me.message||"Invalid value")}),Object.keys(ne).length?(C(me=>({...me,...ne})),L("Fix highlighted fields before saving.")):L(ce.errors&&ce.errors[0]?.message?ce.errors[0].message:"Save failed.");return}const xe=await ge.config();a(xe),b(Ip(xe)),C({}),C({}),L("Advanced settings saved."),t({message:"Advanced settings saved",variant:"success"})}catch(ce){const xe=ce instanceof Error?ce.message:"Unknown error";L(`Save failed: ${xe}`),t({message:`Save failed: ${xe}`,variant:"error"})}finally{F(!1)}},Ua=async()=>{if(!Ce){js("Select a theme before applying.");return}Xs(!0),js(null);try{await ge.setTheme({theme:Ce,accent_index:it??void 0}),await Wt(),await bn(),js("Theme applied successfully."),t({message:"Theme applied successfully",variant:"success"})}catch($){js($?.message||"Failed to apply theme"),t({message:"Failed to apply theme",variant:"error"})}finally{Xs(!1)}},si=$=>{const Q=$.trim();if(Q===""){ns(null);return}const ce=Number(Q);Number.isNaN(ce)||ns(Math.max(0,Math.min(15,ce)))},pe=async()=>{Rs(!0),yt(null);try{await ge.configReset(),w({}),j({}),k({}),C({}),await bn(),await Wt(),yt("All settings have been reset to default values."),yt("All settings have been reset to default values."),Ke(!1),t({message:"Settings reset complete",variant:"success"})}catch($){const Q=$ instanceof Error?$.message:"Unknown error";t({message:`Reset failed: ${Q}`,variant:"error"})}finally{Rs(!1)}},$e=()=>O?u.jsx(Ee,{className:"p-6 text-sm text-muted",children:"Loading system configuration"}):E?u.jsx(Ee,{className:"p-6 text-sm text-red-400",children:E}):u.jsxs("div",{className:"space-y-4",children:[Hg.map(($,Q)=>{const ce=Q>0?Hg[Q-1]:null,xe=$.isHA&&ce&&!ce.isHA;return u.jsxs("div",{children:[xe&&u.jsxs("div",{className:"py-8 flex items-center gap-4",children:[u.jsx("div",{className:"h-px flex-1 bg-line/30"}),u.jsx("span",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-muted whitespace-nowrap",children:"Home Assistant Integration"}),u.jsx("div",{className:"h-px flex-1 bg-line/30"})]}),u.jsxs(Ee,{className:"p-6",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:$.title}),u.jsx("p",{className:"text-xs text-muted mt-1",children:$.description})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"System"})]}),u.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:$.fields.map(ne=>{const me=ne.key==="system.solar_array.azimuth",Ze=ne.key==="system.solar_array.tilt";if(me){const Be=o[ne.key],he=Be&&Be.trim()!==""?Number(Be):null;return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ne.label,u.jsx(xa,{text:ya[ne.key]||ne.helper})]}),u.jsx(Gz,{value:typeof he=="number"&&!Number.isNaN(he)?he:null,onChange:Ye=>At(ne.key,String(Math.round(Ye)))}),u.jsx("input",{type:"number",inputMode:"decimal",value:o[ne.key]??"",onChange:Ye=>At(ne.key,Ye.target.value),className:"mt-2 w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"}),ne.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ne.helper}),v[ne.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:v[ne.key]})]},ne.key)}if(Ze){const Be=o[ne.key],he=Be&&Be.trim()!==""?Number(Be):null;return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ne.label,u.jsx(xa,{text:ya[ne.key]||ne.helper})]}),u.jsx($z,{value:typeof he=="number"&&!Number.isNaN(he)?he:null,onChange:Ye=>At(ne.key,String(Math.round(Ye)))}),u.jsx("input",{type:"number",inputMode:"decimal",value:o[ne.key]??"",onChange:Ye=>At(ne.key,Ye.target.value),className:"mt-2 w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"}),ne.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ne.helper}),v[ne.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:v[ne.key]})]},ne.key)}return ne.type==="entity"?u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ne.label,u.jsx(xa,{text:ya[ne.key]||ne.helper})]}),u.jsx(Xz,{entities:On,value:o[ne.key]??"",onChange:Be=>At(ne.key,Be),loading:vs,placeholder:"Select entity..."}),ne.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ne.helper})]},ne.key):ne.type==="service"?u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ne.label,u.jsx(xa,{text:ya[ne.key]||ne.helper})]}),u.jsx(Kz,{value:o[ne.key]??"",onChange:Be=>At(ne.key,Be),placeholder:"Select notification service..."}),ne.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ne.helper})]},ne.key):ne.type==="boolean"?u.jsxs("div",{className:"flex flex-col justify-center",children:[u.jsxs("div",{className:"flex items-center gap-3 h-full",children:[u.jsx(rc,{checked:o[ne.key]==="true",onCheckedChange:Be=>At(ne.key,Be?"true":"false")}),u.jsx("span",{className:"font-semibold text-sm",children:ne.label})]}),ne.helper&&u.jsx("p",{className:"text-[11px] text-muted ml-6 mt-1",children:ne.helper})]},ne.key):u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ne.label,u.jsx(xa,{text:ya[ne.key]||ne.helper})]}),u.jsx("input",{type:ne.type==="number"?"number":"text",inputMode:ne.type==="number"?"decimal":void 0,value:o[ne.key]??"",onChange:Be=>At(ne.key,Be.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"}),ne.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ne.helper}),v[ne.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:v[ne.key]})]},ne.key)})}),$.title==="Home Assistant Connection"&&u.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:Ks,className:"rounded-xl px-4 py-2 text-[11px] font-semibold bg-neutral hover:bg-neutral/80 text-white transition",children:Jn&&Jn.startsWith("Testing")?"Testing...":"Test Connection"}),Jn&&u.jsx("span",{className:`text-xs ${Jn.startsWith("Success")?"text-green-400":"text-red-400"}`,children:Jn})]})]})]},$.title)}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{disabled:U||O,onClick:Zs,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:U?"Saving":"Save System Settings"}),G&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${G.startsWith("Failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:G})]})]}),Nt=()=>O?u.jsx(Ee,{className:"p-6 text-sm text-muted",children:"Loading parameter configuration"}):E?u.jsx(Ee,{className:"p-6 text-sm text-red-400",children:E}):u.jsxs("div",{className:"space-y-4",children:[pk.map($=>u.jsxs(Ee,{className:"p-6",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:$.title}),u.jsx("p",{className:"text-xs text-muted mt-1",children:$.description})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Parameters"})]}),u.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:$.fields.map(Q=>u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5",children:[Q.label,u.jsx(xa,{text:ya[Q.key]||Q.helper})]}),Q.type==="select"?u.jsx(Fg,{value:d[Q.key]??"",onChange:ce=>It(Q.key,ce),options:Q.options||[],placeholder:"Select..."}):Q.type==="boolean"?u.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[u.jsx(rc,{checked:d[Q.key]==="true",onCheckedChange:ce=>It(Q.key,ce?"true":"false")}),u.jsx("span",{className:"text-sm font-semibold",children:"Enabled"})]}):u.jsx("input",{type:Q.type==="number"?"number":"text",inputMode:Q.type==="number"?"decimal":void 0,value:d[Q.key]??"",onChange:ce=>It(Q.key,ce.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"}),Q.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:Q.helper}),S[Q.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:S[Q.key]})]},Q.key))})]},$.title)),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{disabled:Z||O,onClick:Ii,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:Z?"Saving & Re-planning":"Save & Re-plan"}),ie&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${ie.startsWith("Failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:ie})]})]}),Pt=()=>O?u.jsx(Ee,{className:"p-6 text-sm text-muted",children:"Loading UI configuration"}):E?u.jsx(Ee,{className:"p-6 text-sm text-red-400",children:E}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs(Ee,{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:"Theme & Appearance"}),u.jsx("p",{className:"text-xs text-muted mt-1",children:"Select a theme for the app and adjust the accent color."})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"UI"})]}),Ss?u.jsx("p",{className:"text-sm text-muted",children:"Loading themes"}):is?u.jsx("p",{className:"text-sm text-red-400",children:is}):u.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:se.map($=>{const Q=Ce===$.name;return u.jsxs("button",{type:"button",onClick:()=>pt($.name),className:`group flex flex-col gap-2 rounded-xl border p-3 text-left transition ${Q?"border-accent shadow-sm":"border-line/50 hover:border-white/40"}`,children:[u.jsx("div",{className:"text-sm font-semibold",children:$.name}),u.jsx("div",{className:"flex h-6 overflow-hidden rounded-sm border border-line/40",children:$.palette.slice(0,4).map(ce=>u.jsx("span",{className:"flex-1",style:{backgroundColor:ce}},`${$.name}-${ce}`))}),u.jsx("div",{className:"text-[10px] uppercase text-muted tracking-wide",children:Q?"Selected":"Select"})]},$.name)})}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:"Accent index"}),u.jsx("input",{type:"number",min:0,max:15,value:it??"",onChange:$=>si($.target.value),className:"h-10 w-20 rounded-lg border border-line/50 bg-surface2 px-3 text-sm focus:border-accent focus:outline-none"}),u.jsx("button",{disabled:$s||Ss,onClick:Ua,className:"rounded-pill bg-accent px-4 py-2 text-sm font-semibold text-[#100f0e] shadow-sm transition hover:bg-accent2 disabled:opacity-50",children:$s?"Applying":"Apply theme"}),En&&u.jsx("p",{className:`text-sm ${En.startsWith("Failed")?"text-red-400":"text-muted"}`,children:En})]})]}),gk.map($=>u.jsxs(Ee,{className:"p-6",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:$.title}),u.jsx("p",{className:"text-xs text-muted mt-1",children:$.description})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"UI"})]}),u.jsxs("div",{className:"space-y-4",children:[$.title==="Dashboard Defaults"&&u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:"Overlay defaults"}),u.jsx("p",{className:"text-[11px] text-muted mb-3",children:"Select which overlays are enabled by default on the dashboard."}),u.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3",children:(()=>{const Q=m["dashboard.overlay_defaults"]||"",ce=[...new Set(Q.split(",").map(me=>me.trim().toLowerCase()))],xe=!ce.includes("load_off"),ne=(me,Ze)=>{const Be=[...new Set(Q.split(",").map(Ye=>Ye.trim().toLowerCase()))];let he;Ze?he=Be.filter(Ye=>Ye!==me.toLowerCase()):he=[...Be,me.toLowerCase()],ds("dashboard.overlay_defaults",he.join(", "))};return u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>ne("load_off",!xe),className:`rounded-pill px-3 py-1 border text-[11px] transition ${xe?"bg-accent text-[#100f0e] border-accent":"border-line/60 text-muted hover:border-accent"}`,children:"Load"}),[["Charge","charge"],["Discharge","discharge"],["Export","export"],["Water","water"],["SoC Target","socTarget"],["SoC Projected","socProjected"]].map(([me,Ze])=>{const Be=ce.includes(Ze.toLowerCase());return u.jsx("button",{type:"button",onClick:()=>{const he=[...new Set(Q.split(",").map(rt=>rt.trim().toLowerCase()))];let Ye;Be?Ye=he.filter(rt=>rt!==Ze.toLowerCase()):Ye=[...he,Ze.toLowerCase()],ds("dashboard.overlay_defaults",Ye.join(", "))},className:`rounded-pill px-3 py-1 border text-[11px] transition ${Be?"bg-accent text-[#100f0e] border-accent":"border-line/60 text-muted hover:border-accent"}`,children:me},Ze)})]})})()})]})}),u.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:$.fields.map(Q=>u.jsxs("div",{className:"space-y-1",children:[Q.type==="boolean"?u.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[u.jsx(rc,{checked:m[Q.key]==="true",onCheckedChange:ce=>ds(Q.key,ce?"true":"false")}),u.jsx("span",{className:"text-sm font-semibold",children:Q.label})]}):Q.type==="select"?u.jsxs(u.Fragment,{children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[Q.label,u.jsx(xa,{text:ya[Q.key]||Q.helper})]}),u.jsx(Fg,{value:m[Q.key]??"",onChange:ce=>ds(Q.key,ce),options:Q.options||[],placeholder:"Select..."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[Q.label,u.jsx(xa,{text:ya[Q.key]||Q.helper})]}),u.jsx("input",{type:"text",value:m[Q.key]??"",onChange:ce=>ds(Q.key,ce.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"})]}),Q.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:Q.helper}),T[Q.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:T[Q.key]})]},Q.key))})]})]},$.title)),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{disabled:Se||O,onClick:Ln,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:Se?"Saving":"Save UI Preferences"}),D&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${D.startsWith("Failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:D})]})]}),zn=()=>O?u.jsx(Ee,{className:"p-6 text-sm text-muted",children:"Loading advanced configuration"}):E?u.jsx(Ee,{className:"p-6 text-sm text-red-400",children:E}):u.jsxs("div",{className:"space-y-4",children:[xk.filter($=>$.title!=="Danger Zone").map($=>u.jsxs(Ee,{className:"p-6",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:$.title}),u.jsx("p",{className:"text-xs text-muted mt-1",children:$.description})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Advanced"})]}),u.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:$.fields.map(Q=>u.jsxs("div",{className:"space-y-1",children:[Q.type==="boolean"&&u.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[u.jsx(rc,{checked:x[Q.key]==="true",onCheckedChange:ce=>$o(Q.key,ce?"true":"false")}),u.jsx("span",{className:"text-sm font-semibold",children:Q.label})]}),Q.helper&&u.jsx("p",{className:"text-[11px] text-muted ml-6",children:Q.helper}),A[Q.key]&&u.jsx("p",{className:"text-[11px] text-red-400 ml-6",children:A[Q.key]})]},Q.key))})]},$.title)),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{disabled:_e||O,onClick:Ha,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:_e?"Saving":"Save Advanced Settings"}),te&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${te.startsWith("Failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:te})]}),u.jsx("div",{className:"py-8",children:u.jsx("div",{className:"h-px bg-line/20"})}),u.jsxs(Ee,{className:"border-red-500/30 bg-red-500/5 p-6",children:[u.jsx("div",{className:"flex items-center justify-between gap-4",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-bold text-red-400",children:"Danger Zone"}),u.jsx("p",{className:"text-xs text-red-400/70 mt-1",children:"Irreversible actions that affect your entire system configuration."})]})}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{type:"button",onClick:()=>Ke(!0),className:"rounded-lg bg-[#EE3B47] px-4 py-2 text-xs font-bold uppercase tracking-wider text-white transition hover:bg-[#D6323D]",children:"Reset all settings to defaults"})})]})]});return u.jsxs(u.Fragment,{children:[u.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-8 sm:px-6 lg:pt-12 space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-semibold",children:"Settings"}),u.jsx("p",{className:"text-sm text-muted",children:"System, parameters, and UI preferences collected into one modern surface."})]})}),u.jsx("div",{className:"flex flex-wrap gap-2",children:tP.map($=>{const Q=e===$.id;return u.jsx("button",{onClick:()=>s($.id),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${Q?"bg-accent text-[#0F1216] shadow-sm":"bg-surface border border-line/50 text-muted"}`,children:$.label},$.id)})}),Yt&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${Yt.startsWith("Reset failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:Yt}),e==="system"?$e():e==="parameters"?Nt():e==="ui"?Pt():zn()]}),u.jsx(hk,{open:be,onOpenChange:Ke,title:u.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[u.jsx(oc,{className:"h-5 w-5"}),u.jsx("span",{children:"Danger Connection Reset"})]}),children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"rounded-md bg-red-500/10 p-4 border border-red-500/20",children:u.jsx("p",{className:"text-sm font-medium text-red-300",children:"Are you absolute sure? This action cannot be undone."})}),u.jsx("p",{className:"text-sm text-muted",children:"This will reset all system configuration, parameters, and UI preferences to their default values. The application will reload after resetting."}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>Ke(!1),className:"rounded-lg bg-surface px-4 py-2 text-sm font-semibold text-muted hover:text-text transition",children:"Cancel"}),u.jsx("button",{type:"button",onClick:pe,disabled:yn,className:"rounded-lg bg-red-500 px-4 py-2 text-sm font-bold text-white shadow-lg transition hover:bg-red-600 disabled:opacity-50",children:yn?"Resetting...":"Yes, reset everything"})]})]})})]})}const yk="label";function Bw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function pP(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function bk(t,e){t.labels=e}function vk(t,e,s=yk){const n=[];t.datasets=e.map(a=>{const o=t.datasets.find(c=>c[s]===a[s]);return!o||!a.data||n.includes(o)?{...a}:(n.push(o),Object.assign(o,a),o)})}function gP(t,e=yk){const s={labels:[],datasets:[]};return bk(s,t.labels),vk(s,t.datasets,e),s}function xP(t,e){const{height:s=150,width:n=300,redraw:a=!1,datasetIdKey:o,type:c,data:d,options:f,plugins:m=[],fallbackContent:g,updateMode:x,...b}=t,v=N.useRef(null),w=N.useRef(null),S=()=>{v.current&&(w.current=new Cn(v.current,{type:c,data:gP(d,o),options:f&&{...f},plugins:m}),Bw(e,w.current))},j=()=>{Bw(e,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!a&&w.current&&f&&pP(w.current,f)},[a,f]),N.useEffect(()=>{!a&&w.current&&bk(w.current.config.data,d.labels)},[a,d.labels]),N.useEffect(()=>{!a&&w.current&&d.datasets&&vk(w.current.config.data,d.datasets,o)},[a,d.datasets]),N.useEffect(()=>{w.current&&(a?(j(),setTimeout(S)):w.current.update(x))},[a,f,d.labels,d.datasets,x]),N.useEffect(()=>{w.current&&(j(),setTimeout(S))},[c]),N.useEffect(()=>(S(),()=>j()),[]),u.jsx("canvas",{ref:v,role:"img",height:s,width:n,...b,children:g})}const yP=N.forwardRef(xP);function c0(t,e){return Cn.register(e),N.forwardRef((s,n)=>u.jsx(yP,{...s,ref:n,type:t}))}const u0=c0("line",KS),bP=c0("bar",XS),vP=c0("radar",QS);Cn.register(Vc,Fc,Vo,Ui,yx,Ho,Fo);function _P({slots:t,mode:e,highlightIndex:s}){if(!t||t.length===0)return u.jsx("div",{className:"text-[11px] text-muted px-4 py-6",children:"No forecast data available for the next 48 hours."});const n=t.map(x=>new Date(x.slot_start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),a=e==="load",o=t.map(x=>a?x.base.load_kwh:x.base.pv_kwh),c=t.map(x=>a?x.final.load_kwh:x.final.pv_kwh),d=t.map(x=>a?x.correction.load_kwh:x.correction.pv_kwh),f=d.map((x,b)=>{const v=x>=0?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)";return typeof s=="number"&&b===s?x>=0?"rgba(34, 197, 94, 0.9)":"rgba(239, 68, 68, 0.9)":v}),m={labels:n,datasets:[{type:"line",label:a?"Base load (kWh)":"Base solar (kWh)",data:o,borderColor:"rgba(148, 163, 184, 0.9)",backgroundColor:x=>{const b=x.chart,{ctx:v,chartArea:w}=b;if(!w)return"rgba(56, 189, 248, 0.18)";const S=v.createLinearGradient(0,w.bottom,0,w.top);return S.addColorStop(0,"rgba(15, 23, 42, 0.0)"),S.addColorStop(.5,"rgba(56, 189, 248, 0.12)"),S.addColorStop(1,"rgba(56, 189, 248, 0.25)"),S},borderWidth:1.5,tension:.4,pointRadius:0,fill:"origin"},{type:"line",label:a?"Final load (kWh)":"Final solar (kWh)",data:c,borderColor:"rgba(59, 130, 246, 0.98)",backgroundColor:"rgba(59, 130, 246, 0.3)",borderWidth:2,borderDash:[4,3],tension:.4,pointRadius:0},{type:"bar",label:a?"Load correction (kWh)":"Solar correction (kWh)",data:d,backgroundColor:f,borderColor:f,borderWidth:0,yAxisID:"y"}]},g={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{color:"#e5e7eb",font:{size:10}}},tooltip:{backgroundColor:"#020617",borderColor:"#4b5563",borderWidth:1,titleColor:"#e5e7eb",bodyColor:"#e5e7eb",padding:8,callbacks:{label(x){const b=x.dataset.label||"",v=x.parsed.y;return`${b}: ${typeof v=="number"?v.toFixed(2):v}`}}}},scales:{x:{ticks:{color:"#9ca3af",maxRotation:0,autoSkip:!0,maxTicksLimit:12,font:{size:9}},grid:{display:!1}},y:{ticks:{color:"#9ca3af",font:{size:9}},grid:{display:!1}}}};return u.jsx("div",{className:"w-full h-60 transition-opacity duration-300",children:u.jsx(u0,{data:m,options:g},e)})}Cn.register(vj,Vo,Ui,Mh,Ho,Fo);function wP({weatherVolatility:t,riskFactor:e,forecastAccuracy:s,priceSpread:n,forecastBias:a}){const o=Math.min(100,t.cloud*100),c=Math.min(100,t.temp*100),d=Math.max(0,Math.min(100,(e-1)*25)),f=s,m=n!=null?Math.max(0,Math.min(100,n/2.5*100)):50,g=a!=null?Math.max(0,Math.min(100,(a+2)/4*100)):50,x=["Cloud Vol.","Temp Vol.","Aggression","Accuracy","Spread","Bias"],b=["#38bdf8","#f472b6","#fbbf24","#34d399","#a78bfa","#fb923c"],v={labels:x,datasets:[{label:"Current Context",data:[o,c,d,f,m,g],backgroundColor:"rgba(56, 189, 248, 0.15)",borderColor:"rgba(56, 189, 248, 0.5)",borderWidth:2,pointBackgroundColor:b,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:b,pointRadius:4}]},w={scales:{r:{angleLines:{color:"rgba(255, 255, 255, 0.1)"},grid:{color:"rgba(255, 255, 255, 0.1)"},pointLabels:{display:!1},ticks:{display:!1,backdropColor:"transparent"},suggestedMin:0,suggestedMax:100}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e293b",titleColor:"#f8fafc",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},maintainAspectRatio:!1},S=x.slice(0,3),j=x.slice(3);return u.jsxs("div",{className:"relative w-full h-full min-h-[200px]",children:[u.jsx("div",{className:"absolute inset-0 overflow-hidden",children:u.jsx(vP,{data:v,options:w})}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between px-3 pb-2 z-10",children:[u.jsx("div",{className:"flex flex-col gap-1",children:S.map((T,k)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[k]}}),u.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:T})]},T))}),u.jsx("div",{className:"flex flex-col gap-1",children:j.map((T,k)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[k+3]}}),u.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:T})]},T))})]})]})}function SP({events:t}){const e=N.useMemo(()=>[...t].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),[t]),s=a=>{const o=(a.type+" "+a.message).toLowerCase();if(o.includes("charge")||o.includes("charging"))return u.jsx(Oi,{className:"h-4 w-4 text-amber-400"});if(o.includes("export")||o.includes("discharging"))return u.jsx(og,{className:"h-4 w-4 text-emerald-400"});if(o.includes("defensive")||o.includes("safety")||o.includes("hold"))return u.jsx(JD,{className:"h-4 w-4 text-blue-400"});if(o.includes("idle")||o.includes("wait"))return u.jsx(WD,{className:"h-4 w-4 text-slate-400"});if(o.includes("weather"))return u.jsx(I1,{className:"h-4 w-4 text-sky-400"});if(o.includes("learning")||o.includes("tune"))return u.jsx(q1,{className:"h-4 w-4 text-purple-400"});if(o.includes("price")||o.includes("cost"))return u.jsx(rg,{className:"h-4 w-4 text-emerald-400"});switch(a.type){case"STRATEGY_CHANGE":return u.jsx(cS,{className:"h-4 w-4 text-purple-400"});case"WEATHER_ADJUSTMENT":return u.jsx(I1,{className:"h-4 w-4 text-blue-400"});case"PRICE_VOLATILITY":return u.jsx(Oi,{className:"h-4 w-4 text-amber-400"});case"LEARNING_EVENT":return u.jsx(q1,{className:"h-4 w-4 text-emerald-400"});default:return u.jsx(ig,{className:"h-4 w-4 text-slate-400"})}},n=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return t.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-muted text-xs",children:[u.jsx(ig,{className:"h-6 w-6 mb-2 opacity-50"}),"No activity recorded yet."]}):u.jsxs("div",{className:"relative space-y-4 pl-2",children:[u.jsx("div",{className:"absolute left-[19px] top-2 bottom-2 w-[1px] bg-line/50"}),e.map((a,o)=>u.jsxs("div",{className:"relative flex gap-3 items-start group",children:[u.jsx("div",{className:"relative z-10 flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-surface border border-line/60 group-hover:border-accent/50 transition-colors",children:s(a)}),u.jsxs("div",{className:"flex-1 pt-1.5 min-w-0",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsx("p",{className:"text-xs font-medium text-text truncate",children:a.type.replace("_"," ")}),u.jsx("span",{className:"text-[10px] text-muted shrink-0 font-mono",children:n(a.timestamp)})]}),u.jsx("p",{className:"text-[11px] text-muted mt-0.5 leading-relaxed break-words",children:a.message}),a.details&&Object.keys(a.details).length>0&&u.jsx("div",{className:"mt-1.5",children:u.jsxs("details",{className:"group/details",children:[u.jsxs("summary",{className:"cursor-pointer text-[10px] text-accent/80 hover:text-accent select-none list-none flex items-center gap-1",children:[u.jsx("span",{children:"Details"}),u.jsx("span",{className:"opacity-50 group-open/details:rotate-180 transition-transform",children:""})]}),u.jsx("pre",{className:"mt-1 p-2 rounded bg-surface2/50 text-[10px] text-muted overflow-x-auto font-mono",children:JSON.stringify(a.details,null,2)})]})})]})]},o))]})}function jP({metrics:t,perfData:e}){let s=0,n=0;e?.cost_series&&e.cost_series.forEach(b=>{s+=b.planned,n+=b.realized});const a=n-s,o=a<=0?`Saved ${Math.abs(a).toFixed(1)} SEK`:`Overspent ${a.toFixed(1)} SEK`,c=a<=0,d=t?.mae_pv_aurora?.toFixed(2)??"N/A",f=t?.mae_load_aurora?.toFixed(2)??"N/A",m=t?.max_price_spread,g=m!=null?`${m.toFixed(2)} SEK`:"N/A",x=m!=null&&m>0;return u.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:[u.jsxs(Ee,{className:"p-4 flex items-center justify-between relative overflow-hidden group",children:[u.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${c?"bg-emerald-500":"bg-rose-500"}`}),u.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u.jsx("div",{className:`p-2 rounded-full ${c?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:u.jsx(dS,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"7-Day Cost Drift"}),u.jsx("div",{className:`text-lg font-semibold ${c?"text-emerald-400":"text-rose-400"}`,children:o})]})]}),u.jsxs("div",{className:"text-right relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted",children:"vs Plan"}),c?u.jsx($1,{className:"h-4 w-4 text-emerald-500 ml-auto"}):u.jsx(rg,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),u.jsxs(Ee,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[u.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${x?"bg-emerald-500":"bg-rose-500"}`}),u.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u.jsx("div",{className:`p-2 rounded-full ${x?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:u.jsx(bc,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Max Price Spread"}),u.jsx("div",{className:`text-lg font-semibold ${x?"text-emerald-400":"text-rose-400"}`,children:g})]})]}),u.jsxs("div",{className:"text-right relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted",children:"Arbitrage"}),x?u.jsx(rg,{className:"h-4 w-4 text-emerald-500 ml-auto"}):u.jsx($1,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),u.jsxs(Ee,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.02]"}),u.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u.jsx("div",{className:"p-2 rounded-full bg-amber-500/10 text-amber-400",children:u.jsx(Oi,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"PV Forecast Error"}),u.jsxs("div",{className:"text-lg font-semibold text-text",children:[d," ",u.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),u.jsxs("div",{className:"text-right relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),u.jsx(G1,{className:"h-4 w-4 text-amber-500/50 ml-auto"})]})]}),u.jsxs(Ee,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-blue-500/[0.02]"}),u.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-400",children:u.jsx(bc,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Load Forecast Error"}),u.jsxs("div",{className:"text-lg font-semibold text-text",children:[f," ",u.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),u.jsxs("div",{className:"text-right relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),u.jsx(G1,{className:"h-4 w-4 text-blue-500/50 ml-auto"})]})]})]})}Cn.register(Vc,Fc,Vo,Ui,Th,Ho,Fo,Mh);function NP({title:t,slots:e,color:s}){const a={labels:e.map(c=>new Date(c.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),datasets:[{label:"Actual",data:e.map(c=>c.actual??null),borderColor:"#94a3b8",backgroundColor:"#94a3b8",borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p90",data:e.map(c=>c.p90),borderColor:`${s}40`,borderWidth:1,backgroundColor:`${s}33`,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:"+1"},{label:"p10 (Risk)",data:e.map(c=>c.p10),borderColor:`${s}80`,borderWidth:1.5,borderDash:[4,4],backgroundColor:"transparent",pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p50 (Forecast)",data:e.map(c=>c.p50),borderColor:s,backgroundColor:s,borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{color:"#cbd5e1",font:{size:11},boxWidth:8,usePointStyle:!0}},title:{display:!!t,text:t,color:"#e2e8f0",font:{size:13,weight:"normal"},align:"start",padding:{bottom:10}},tooltip:{mode:"index",intersect:!1,backgroundColor:"#1e293b",titleColor:"#e2e8f0",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},scales:{x:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8",maxRotation:0,autoSkip:!0,maxTicksLimit:8}},y:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8"},min:0}},interaction:{mode:"nearest",axis:"x",intersect:!1},layout:{padding:{bottom:0,left:10,right:10}}};return u.jsx("div",{className:"w-full h-[250px]",children:u.jsx(u0,{data:a,options:o})})}var _k;function ue(){return _k.apply(null,arguments)}function kP(t){_k=t}function Tn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Sr(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function st(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(st(t,e))return!1;return!0}function Es(t){return t===void 0}function Fi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Ic(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function wk(t,e){var s=[],n,a=t.length;for(n=0;n<a;++n)s.push(e(t[n],n));return s}function ka(t,e){for(var s in e)st(e,s)&&(t[s]=e[s]);return st(e,"toString")&&(t.toString=e.toString),st(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Zn(t,e,s,n){return Ik(t,e,s,n,!0).utc()}function MP(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ze(t){return t._pf==null&&(t._pf=MP()),t._pf}var Ug;Array.prototype.some?Ug=Array.prototype.some:Ug=function(t){var e=Object(this),s=e.length>>>0,n;for(n=0;n<s;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function h0(t){var e=null,s=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=ze(t),s=Ug.call(e.parsedDateParts,function(a){return a!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&s),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function Bh(t){var e=Zn(NaN);return t!=null?ka(ze(e),t):ze(e).userInvalidated=!0,e}var Vw=ue.momentProperties=[],qp=!1;function f0(t,e){var s,n,a,o=Vw.length;if(Es(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Es(e._i)||(t._i=e._i),Es(e._f)||(t._f=e._f),Es(e._l)||(t._l=e._l),Es(e._strict)||(t._strict=e._strict),Es(e._tzm)||(t._tzm=e._tzm),Es(e._isUTC)||(t._isUTC=e._isUTC),Es(e._offset)||(t._offset=e._offset),Es(e._pf)||(t._pf=ze(e)),Es(e._locale)||(t._locale=e._locale),o>0)for(s=0;s<o;s++)n=Vw[s],a=e[n],Es(a)||(t[n]=a);return t}function qc(t){f0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),qp===!1&&(qp=!0,ue.updateOffset(this),qp=!1)}function Dn(t){return t instanceof qc||t!=null&&t._isAMomentObject!=null}function Sk(t){ue.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function gn(t,e){var s=!0;return ka(function(){if(ue.deprecationHandler!=null&&ue.deprecationHandler(null,t),s){var n=[],a,o,c,d=arguments.length;for(o=0;o<d;o++){if(a="",typeof arguments[o]=="object"){a+=`
[`+o+"] ";for(c in arguments[0])st(arguments[0],c)&&(a+=c+": "+arguments[0][c]+", ");a=a.slice(0,-2)}else a=arguments[o];n.push(a)}Sk(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),s=!1}return e.apply(this,arguments)},e)}var Fw={};function jk(t,e){ue.deprecationHandler!=null&&ue.deprecationHandler(t,e),Fw[t]||(Sk(e),Fw[t]=!0)}ue.suppressDeprecationWarnings=!1;ue.deprecationHandler=null;function Qn(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function TP(t){var e,s;for(s in t)st(t,s)&&(e=t[s],Qn(e)?this[s]=e:this["_"+s]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Yg(t,e){var s=ka({},t),n;for(n in e)st(e,n)&&(Sr(t[n])&&Sr(e[n])?(s[n]={},ka(s[n],t[n]),ka(s[n],e[n])):e[n]!=null?s[n]=e[n]:delete s[n]);for(n in t)st(t,n)&&!st(e,n)&&Sr(t[n])&&(s[n]=ka({},s[n]));return s}function m0(t){t!=null&&this.set(t)}var Wg;Object.keys?Wg=Object.keys:Wg=function(t){var e,s=[];for(e in t)st(t,e)&&s.push(e);return s};var DP={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function CP(t,e,s){var n=this._calendar[t]||this._calendar.sameElse;return Qn(n)?n.call(e,s):n}function Kn(t,e,s){var n=""+Math.abs(t),a=e-n.length,o=t>=0;return(o?s?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var p0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Dd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Gp={},ko={};function Ne(t,e,s,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),t&&(ko[t]=a),e&&(ko[e[0]]=function(){return Kn(a.apply(this,arguments),e[1],e[2])}),s&&(ko[s]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function AP(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function EP(t){var e=t.match(p0),s,n;for(s=0,n=e.length;s<n;s++)ko[e[s]]?e[s]=ko[e[s]]:e[s]=AP(e[s]);return function(a){var o="",c;for(c=0;c<n;c++)o+=Qn(e[c])?e[c].call(a,t):e[c];return o}}function Fd(t,e){return t.isValid()?(e=Nk(e,t.localeData()),Gp[e]=Gp[e]||EP(e),Gp[e](t)):t.localeData().invalidDate()}function Nk(t,e){var s=5;function n(a){return e.longDateFormat(a)||a}for(Dd.lastIndex=0;s>=0&&Dd.test(t);)t=t.replace(Dd,n),Dd.lastIndex=0,s-=1;return t}var OP={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function RP(t){var e=this._longDateFormat[t],s=this._longDateFormat[t.toUpperCase()];return e||!s?e:(this._longDateFormat[t]=s.match(p0).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var LP="Invalid date";function zP(){return this._invalidDate}var PP="%d",BP=/\d{1,2}/;function VP(t){return this._ordinal.replace("%d",t)}var FP={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function HP(t,e,s,n){var a=this._relativeTime[s];return Qn(a)?a(t,e,s,n):a.replace(/%d/i,t)}function UP(t,e){var s=this._relativeTime[t>0?"future":"past"];return Qn(s)?s(e):s.replace(/%s/i,e)}var Hw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function xn(t){return typeof t=="string"?Hw[t]||Hw[t.toLowerCase()]:void 0}function g0(t){var e={},s,n;for(n in t)st(t,n)&&(s=xn(n),s&&(e[s]=t[n]));return e}var YP={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function WP(t){var e=[],s;for(s in t)st(t,s)&&e.push({unit:s,priority:YP[s]});return e.sort(function(n,a){return n.priority-a.priority}),e}var kk=/\d/,Gs=/\d\d/,Mk=/\d{3}/,x0=/\d{4}/,Vh=/[+-]?\d{6}/,jt=/\d\d?/,Tk=/\d\d\d\d?/,Dk=/\d\d\d\d\d\d?/,Fh=/\d{1,3}/,y0=/\d{1,4}/,Hh=/[+-]?\d{1,6}/,Io=/\d+/,Uh=/[+-]?\d+/,IP=/Z|[+-]\d\d:?\d\d/gi,Yh=/Z|[+-]\d\d(?::?\d\d)?/gi,qP=/[+-]?\d+(\.\d{1,3})?/,Gc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,qo=/^[1-9]\d?/,b0=/^([1-9]\d|\d)/,hh;hh={};function ye(t,e,s){hh[t]=Qn(e)?e:function(n,a){return n&&s?s:e}}function GP(t,e){return st(hh,t)?hh[t](e._strict,e._locale):new RegExp($P(t))}function $P(t){return zi(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,s,n,a,o){return s||n||a||o}))}function zi(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function pn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ge(t){var e=+t,s=0;return e!==0&&isFinite(e)&&(s=pn(e)),s}var Ig={};function ft(t,e){var s,n=e,a;for(typeof t=="string"&&(t=[t]),Fi(e)&&(n=function(o,c){c[e]=Ge(o)}),a=t.length,s=0;s<a;s++)Ig[t[s]]=n}function $c(t,e){ft(t,function(s,n,a,o){a._w=a._w||{},e(s,a._w,a,o)})}function XP(t,e,s){e!=null&&st(Ig,t)&&Ig[t](e,s._a,s,t)}function Wh(t){return t%4===0&&t%100!==0||t%400===0}var ys=0,Ai=1,Wn=2,Jt=3,Mn=4,Ei=5,br=6,KP=7,ZP=8;Ne("Y",0,0,function(){var t=this.year();return t<=9999?Kn(t,4):"+"+t});Ne(0,["YY",2],0,function(){return this.year()%100});Ne(0,["YYYY",4],0,"year");Ne(0,["YYYYY",5],0,"year");Ne(0,["YYYYYY",6,!0],0,"year");ye("Y",Uh);ye("YY",jt,Gs);ye("YYYY",y0,x0);ye("YYYYY",Hh,Vh);ye("YYYYYY",Hh,Vh);ft(["YYYYY","YYYYYY"],ys);ft("YYYY",function(t,e){e[ys]=t.length===2?ue.parseTwoDigitYear(t):Ge(t)});ft("YY",function(t,e){e[ys]=ue.parseTwoDigitYear(t)});ft("Y",function(t,e){e[ys]=parseInt(t,10)});function gc(t){return Wh(t)?366:365}ue.parseTwoDigitYear=function(t){return Ge(t)+(Ge(t)>68?1900:2e3)};var Ck=Go("FullYear",!0);function QP(){return Wh(this.year())}function Go(t,e){return function(s){return s!=null?(Ak(this,t,s),ue.updateOffset(this,e),this):Ec(this,t)}}function Ec(t,e){if(!t.isValid())return NaN;var s=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?s.getUTCMilliseconds():s.getMilliseconds();case"Seconds":return n?s.getUTCSeconds():s.getSeconds();case"Minutes":return n?s.getUTCMinutes():s.getMinutes();case"Hours":return n?s.getUTCHours():s.getHours();case"Date":return n?s.getUTCDate():s.getDate();case"Day":return n?s.getUTCDay():s.getDay();case"Month":return n?s.getUTCMonth():s.getMonth();case"FullYear":return n?s.getUTCFullYear():s.getFullYear();default:return NaN}}function Ak(t,e,s){var n,a,o,c,d;if(!(!t.isValid()||isNaN(s))){switch(n=t._d,a=t._isUTC,e){case"Milliseconds":return void(a?n.setUTCMilliseconds(s):n.setMilliseconds(s));case"Seconds":return void(a?n.setUTCSeconds(s):n.setSeconds(s));case"Minutes":return void(a?n.setUTCMinutes(s):n.setMinutes(s));case"Hours":return void(a?n.setUTCHours(s):n.setHours(s));case"Date":return void(a?n.setUTCDate(s):n.setDate(s));case"FullYear":break;default:return}o=s,c=t.month(),d=t.date(),d=d===29&&c===1&&!Wh(o)?28:d,a?n.setUTCFullYear(o,c,d):n.setFullYear(o,c,d)}}function JP(t){return t=xn(t),Qn(this[t])?this[t]():this}function eB(t,e){if(typeof t=="object"){t=g0(t);var s=WP(t),n,a=s.length;for(n=0;n<a;n++)this[s[n].unit](t[s[n].unit])}else if(t=xn(t),Qn(this[t]))return this[t](e);return this}function tB(t,e){return(t%e+e)%e}var Ht;Array.prototype.indexOf?Ht=Array.prototype.indexOf:Ht=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function v0(t,e){if(isNaN(t)||isNaN(e))return NaN;var s=tB(e,12);return t+=(e-s)/12,s===1?Wh(t)?29:28:31-s%7%2}Ne("M",["MM",2],"Mo",function(){return this.month()+1});Ne("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ne("MMMM",0,0,function(t){return this.localeData().months(this,t)});ye("M",jt,qo);ye("MM",jt,Gs);ye("MMM",function(t,e){return e.monthsShortRegex(t)});ye("MMMM",function(t,e){return e.monthsRegex(t)});ft(["M","MM"],function(t,e){e[Ai]=Ge(t)-1});ft(["MMM","MMMM"],function(t,e,s,n){var a=s._locale.monthsParse(t,n,s._strict);a!=null?e[Ai]=a:ze(s).invalidMonth=t});var sB="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ek="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ok=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nB=Gc,iB=Gc;function aB(t,e){return t?Tn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ok).test(e)?"format":"standalone"][t.month()]:Tn(this._months)?this._months:this._months.standalone}function rB(t,e){return t?Tn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ok.test(e)?"format":"standalone"][t.month()]:Tn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function oB(t,e,s){var n,a,o,c=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=Zn([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return s?e==="MMM"?(a=Ht.call(this._shortMonthsParse,c),a!==-1?a:null):(a=Ht.call(this._longMonthsParse,c),a!==-1?a:null):e==="MMM"?(a=Ht.call(this._shortMonthsParse,c),a!==-1?a:(a=Ht.call(this._longMonthsParse,c),a!==-1?a:null)):(a=Ht.call(this._longMonthsParse,c),a!==-1?a:(a=Ht.call(this._shortMonthsParse,c),a!==-1?a:null))}function lB(t,e,s){var n,a,o;if(this._monthsParseExact)return oB.call(this,t,e,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=Zn([2e3,n]),s&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!s&&!this._monthsParse[n]&&(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),s&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(s&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!s&&this._monthsParse[n].test(t))return n}}function Rk(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ge(e);else if(e=t.localeData().monthsParse(e),!Fi(e))return t}var s=e,n=t.date();return n=n<29?n:Math.min(n,v0(t.year(),s)),t._isUTC?t._d.setUTCMonth(s,n):t._d.setMonth(s,n),t}function Lk(t){return t!=null?(Rk(this,t),ue.updateOffset(this,!0),this):Ec(this,"Month")}function cB(){return v0(this.year(),this.month())}function uB(t){return this._monthsParseExact?(st(this,"_monthsRegex")||zk.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(st(this,"_monthsShortRegex")||(this._monthsShortRegex=nB),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function dB(t){return this._monthsParseExact?(st(this,"_monthsRegex")||zk.call(this),t?this._monthsStrictRegex:this._monthsRegex):(st(this,"_monthsRegex")||(this._monthsRegex=iB),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function zk(){function t(f,m){return m.length-f.length}var e=[],s=[],n=[],a,o,c,d;for(a=0;a<12;a++)o=Zn([2e3,a]),c=zi(this.monthsShort(o,"")),d=zi(this.months(o,"")),e.push(c),s.push(d),n.push(d),n.push(c);e.sort(t),s.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function hB(t,e,s,n,a,o,c){var d;return t<100&&t>=0?(d=new Date(t+400,e,s,n,a,o,c),isFinite(d.getFullYear())&&d.setFullYear(t)):d=new Date(t,e,s,n,a,o,c),d}function Oc(t){var e,s;return t<100&&t>=0?(s=Array.prototype.slice.call(arguments),s[0]=t+400,e=new Date(Date.UTC.apply(null,s)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function fh(t,e,s){var n=7+e-s,a=(7+Oc(t,0,n).getUTCDay()-e)%7;return-a+n-1}function Pk(t,e,s,n,a){var o=(7+s-n)%7,c=fh(t,n,a),d=1+7*(e-1)+o+c,f,m;return d<=0?(f=t-1,m=gc(f)+d):d>gc(t)?(f=t+1,m=d-gc(t)):(f=t,m=d),{year:f,dayOfYear:m}}function Rc(t,e,s){var n=fh(t.year(),e,s),a=Math.floor((t.dayOfYear()-n-1)/7)+1,o,c;return a<1?(c=t.year()-1,o=a+Pi(c,e,s)):a>Pi(t.year(),e,s)?(o=a-Pi(t.year(),e,s),c=t.year()+1):(c=t.year(),o=a),{week:o,year:c}}function Pi(t,e,s){var n=fh(t,e,s),a=fh(t+1,e,s);return(gc(t)-n+a)/7}Ne("w",["ww",2],"wo","week");Ne("W",["WW",2],"Wo","isoWeek");ye("w",jt,qo);ye("ww",jt,Gs);ye("W",jt,qo);ye("WW",jt,Gs);$c(["w","ww","W","WW"],function(t,e,s,n){e[n.substr(0,1)]=Ge(t)});function fB(t){return Rc(t,this._week.dow,this._week.doy).week}var mB={dow:0,doy:6};function pB(){return this._week.dow}function gB(){return this._week.doy}function xB(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function yB(t){var e=Rc(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ne("d",0,"do","day");Ne("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ne("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ne("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ne("e",0,0,"weekday");Ne("E",0,0,"isoWeekday");ye("d",jt);ye("e",jt);ye("E",jt);ye("dd",function(t,e){return e.weekdaysMinRegex(t)});ye("ddd",function(t,e){return e.weekdaysShortRegex(t)});ye("dddd",function(t,e){return e.weekdaysRegex(t)});$c(["dd","ddd","dddd"],function(t,e,s,n){var a=s._locale.weekdaysParse(t,n,s._strict);a!=null?e.d=a:ze(s).invalidWeekday=t});$c(["d","e","E"],function(t,e,s,n){e[n]=Ge(t)});function bB(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function vB(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function _0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var _B="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bk="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wB="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),SB=Gc,jB=Gc,NB=Gc;function kB(t,e){var s=Tn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?_0(s,this._week.dow):t?s[t.day()]:s}function MB(t){return t===!0?_0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function TB(t){return t===!0?_0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function DB(t,e,s){var n,a,o,c=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=Zn([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return s?e==="dddd"?(a=Ht.call(this._weekdaysParse,c),a!==-1?a:null):e==="ddd"?(a=Ht.call(this._shortWeekdaysParse,c),a!==-1?a:null):(a=Ht.call(this._minWeekdaysParse,c),a!==-1?a:null):e==="dddd"?(a=Ht.call(this._weekdaysParse,c),a!==-1||(a=Ht.call(this._shortWeekdaysParse,c),a!==-1)?a:(a=Ht.call(this._minWeekdaysParse,c),a!==-1?a:null)):e==="ddd"?(a=Ht.call(this._shortWeekdaysParse,c),a!==-1||(a=Ht.call(this._weekdaysParse,c),a!==-1)?a:(a=Ht.call(this._minWeekdaysParse,c),a!==-1?a:null)):(a=Ht.call(this._minWeekdaysParse,c),a!==-1||(a=Ht.call(this._weekdaysParse,c),a!==-1)?a:(a=Ht.call(this._shortWeekdaysParse,c),a!==-1?a:null))}function CB(t,e,s){var n,a,o;if(this._weekdaysParseExact)return DB.call(this,t,e,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=Zn([2e3,1]).day(n),s&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),s&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(s&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(s&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!s&&this._weekdaysParse[n].test(t))return n}}function AB(t){if(!this.isValid())return t!=null?this:NaN;var e=Ec(this,"Day");return t!=null?(t=bB(t,this.localeData()),this.add(t-e,"d")):e}function EB(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function OB(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=vB(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function RB(t){return this._weekdaysParseExact?(st(this,"_weekdaysRegex")||w0.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(st(this,"_weekdaysRegex")||(this._weekdaysRegex=SB),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function LB(t){return this._weekdaysParseExact?(st(this,"_weekdaysRegex")||w0.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(st(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jB),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function zB(t){return this._weekdaysParseExact?(st(this,"_weekdaysRegex")||w0.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(st(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=NB),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function w0(){function t(g,x){return x.length-g.length}var e=[],s=[],n=[],a=[],o,c,d,f,m;for(o=0;o<7;o++)c=Zn([2e3,1]).day(o),d=zi(this.weekdaysMin(c,"")),f=zi(this.weekdaysShort(c,"")),m=zi(this.weekdays(c,"")),e.push(d),s.push(f),n.push(m),a.push(d),a.push(f),a.push(m);e.sort(t),s.sort(t),n.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function S0(){return this.hours()%12||12}function PB(){return this.hours()||24}Ne("H",["HH",2],0,"hour");Ne("h",["hh",2],0,S0);Ne("k",["kk",2],0,PB);Ne("hmm",0,0,function(){return""+S0.apply(this)+Kn(this.minutes(),2)});Ne("hmmss",0,0,function(){return""+S0.apply(this)+Kn(this.minutes(),2)+Kn(this.seconds(),2)});Ne("Hmm",0,0,function(){return""+this.hours()+Kn(this.minutes(),2)});Ne("Hmmss",0,0,function(){return""+this.hours()+Kn(this.minutes(),2)+Kn(this.seconds(),2)});function Vk(t,e){Ne(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Vk("a",!0);Vk("A",!1);function Fk(t,e){return e._meridiemParse}ye("a",Fk);ye("A",Fk);ye("H",jt,b0);ye("h",jt,qo);ye("k",jt,qo);ye("HH",jt,Gs);ye("hh",jt,Gs);ye("kk",jt,Gs);ye("hmm",Tk);ye("hmmss",Dk);ye("Hmm",Tk);ye("Hmmss",Dk);ft(["H","HH"],Jt);ft(["k","kk"],function(t,e,s){var n=Ge(t);e[Jt]=n===24?0:n});ft(["a","A"],function(t,e,s){s._isPm=s._locale.isPM(t),s._meridiem=t});ft(["h","hh"],function(t,e,s){e[Jt]=Ge(t),ze(s).bigHour=!0});ft("hmm",function(t,e,s){var n=t.length-2;e[Jt]=Ge(t.substr(0,n)),e[Mn]=Ge(t.substr(n)),ze(s).bigHour=!0});ft("hmmss",function(t,e,s){var n=t.length-4,a=t.length-2;e[Jt]=Ge(t.substr(0,n)),e[Mn]=Ge(t.substr(n,2)),e[Ei]=Ge(t.substr(a)),ze(s).bigHour=!0});ft("Hmm",function(t,e,s){var n=t.length-2;e[Jt]=Ge(t.substr(0,n)),e[Mn]=Ge(t.substr(n))});ft("Hmmss",function(t,e,s){var n=t.length-4,a=t.length-2;e[Jt]=Ge(t.substr(0,n)),e[Mn]=Ge(t.substr(n,2)),e[Ei]=Ge(t.substr(a))});function BB(t){return(t+"").toLowerCase().charAt(0)==="p"}var VB=/[ap]\.?m?\.?/i,FB=Go("Hours",!0);function HB(t,e,s){return t>11?s?"pm":"PM":s?"am":"AM"}var Hk={calendar:DP,longDateFormat:OP,invalidDate:LP,ordinal:PP,dayOfMonthOrdinalParse:BP,relativeTime:FP,months:sB,monthsShort:Ek,week:mB,weekdays:_B,weekdaysMin:wB,weekdaysShort:Bk,meridiemParse:VB},Mt={},Gl={},Lc;function UB(t,e){var s,n=Math.min(t.length,e.length);for(s=0;s<n;s+=1)if(t[s]!==e[s])return s;return n}function Uw(t){return t&&t.toLowerCase().replace("_","-")}function YB(t){for(var e=0,s,n,a,o;e<t.length;){for(o=Uw(t[e]).split("-"),s=o.length,n=Uw(t[e+1]),n=n?n.split("-"):null;s>0;){if(a=Ih(o.slice(0,s).join("-")),a)return a;if(n&&n.length>=s&&UB(o,n)>=s-1)break;s--}e++}return Lc}function WB(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Ih(t){var e=null,s;if(Mt[t]===void 0&&typeof Yd<"u"&&Yd&&Yd.exports&&WB(t))try{e=Lc._abbr,s=require,s("./locale/"+t),Aa(e)}catch{Mt[t]=null}return Mt[t]}function Aa(t,e){var s;return t&&(Es(e)?s=Yi(t):s=j0(t,e),s?Lc=s:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Lc._abbr}function j0(t,e){if(e!==null){var s,n=Hk;if(e.abbr=t,Mt[t]!=null)jk("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Mt[t]._config;else if(e.parentLocale!=null)if(Mt[e.parentLocale]!=null)n=Mt[e.parentLocale]._config;else if(s=Ih(e.parentLocale),s!=null)n=s._config;else return Gl[e.parentLocale]||(Gl[e.parentLocale]=[]),Gl[e.parentLocale].push({name:t,config:e}),null;return Mt[t]=new m0(Yg(n,e)),Gl[t]&&Gl[t].forEach(function(a){j0(a.name,a.config)}),Aa(t),Mt[t]}else return delete Mt[t],null}function IB(t,e){if(e!=null){var s,n,a=Hk;Mt[t]!=null&&Mt[t].parentLocale!=null?Mt[t].set(Yg(Mt[t]._config,e)):(n=Ih(t),n!=null&&(a=n._config),e=Yg(a,e),n==null&&(e.abbr=t),s=new m0(e),s.parentLocale=Mt[t],Mt[t]=s),Aa(t)}else Mt[t]!=null&&(Mt[t].parentLocale!=null?(Mt[t]=Mt[t].parentLocale,t===Aa()&&Aa(t)):Mt[t]!=null&&delete Mt[t]);return Mt[t]}function Yi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Lc;if(!Tn(t)){if(e=Ih(t),e)return e;t=[t]}return YB(t)}function qB(){return Wg(Mt)}function N0(t){var e,s=t._a;return s&&ze(t).overflow===-2&&(e=s[Ai]<0||s[Ai]>11?Ai:s[Wn]<1||s[Wn]>v0(s[ys],s[Ai])?Wn:s[Jt]<0||s[Jt]>24||s[Jt]===24&&(s[Mn]!==0||s[Ei]!==0||s[br]!==0)?Jt:s[Mn]<0||s[Mn]>59?Mn:s[Ei]<0||s[Ei]>59?Ei:s[br]<0||s[br]>999?br:-1,ze(t)._overflowDayOfYear&&(e<ys||e>Wn)&&(e=Wn),ze(t)._overflowWeeks&&e===-1&&(e=KP),ze(t)._overflowWeekday&&e===-1&&(e=ZP),ze(t).overflow=e),t}var GB=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$B=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,XB=/Z|[+-]\d\d(?::?\d\d)?/,Cd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],$p=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],KB=/^\/?Date\((-?\d+)/i,ZB=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,QB={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Uk(t){var e,s,n=t._i,a=GB.exec(n)||$B.exec(n),o,c,d,f,m=Cd.length,g=$p.length;if(a){for(ze(t).iso=!0,e=0,s=m;e<s;e++)if(Cd[e][1].exec(a[1])){c=Cd[e][0],o=Cd[e][2]!==!1;break}if(c==null){t._isValid=!1;return}if(a[3]){for(e=0,s=g;e<s;e++)if($p[e][1].exec(a[3])){d=(a[2]||" ")+$p[e][0];break}if(d==null){t._isValid=!1;return}}if(!o&&d!=null){t._isValid=!1;return}if(a[4])if(XB.exec(a[4]))f="Z";else{t._isValid=!1;return}t._f=c+(d||"")+(f||""),M0(t)}else t._isValid=!1}function JB(t,e,s,n,a,o){var c=[e9(t),Ek.indexOf(e),parseInt(s,10),parseInt(n,10),parseInt(a,10)];return o&&c.push(parseInt(o,10)),c}function e9(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function t9(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function s9(t,e,s){if(t){var n=Bk.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(n!==a)return ze(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function n9(t,e,s){if(t)return QB[t];if(e)return 0;var n=parseInt(s,10),a=n%100,o=(n-a)/100;return o*60+a}function Yk(t){var e=ZB.exec(t9(t._i)),s;if(e){if(s=JB(e[4],e[3],e[2],e[5],e[6],e[7]),!s9(e[1],s,t))return;t._a=s,t._tzm=n9(e[8],e[9],e[10]),t._d=Oc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ze(t).rfc2822=!0}else t._isValid=!1}function i9(t){var e=KB.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Uk(t),t._isValid===!1)delete t._isValid;else return;if(Yk(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ue.createFromInputFallback(t)}ue.createFromInputFallback=gn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function go(t,e,s){return t??e??s}function a9(t){var e=new Date(ue.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function k0(t){var e,s,n=[],a,o,c;if(!t._d){for(a=a9(t),t._w&&t._a[Wn]==null&&t._a[Ai]==null&&r9(t),t._dayOfYear!=null&&(c=go(t._a[ys],a[ys]),(t._dayOfYear>gc(c)||t._dayOfYear===0)&&(ze(t)._overflowDayOfYear=!0),s=Oc(c,0,t._dayOfYear),t._a[Ai]=s.getUTCMonth(),t._a[Wn]=s.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=a[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Jt]===24&&t._a[Mn]===0&&t._a[Ei]===0&&t._a[br]===0&&(t._nextDay=!0,t._a[Jt]=0),t._d=(t._useUTC?Oc:hB).apply(null,n),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Jt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(ze(t).weekdayMismatch=!0)}}function r9(t){var e,s,n,a,o,c,d,f,m;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,c=4,s=go(e.GG,t._a[ys],Rc(St(),1,4).year),n=go(e.W,1),a=go(e.E,1),(a<1||a>7)&&(f=!0)):(o=t._locale._week.dow,c=t._locale._week.doy,m=Rc(St(),o,c),s=go(e.gg,t._a[ys],m.year),n=go(e.w,m.week),e.d!=null?(a=e.d,(a<0||a>6)&&(f=!0)):e.e!=null?(a=e.e+o,(e.e<0||e.e>6)&&(f=!0)):a=o),n<1||n>Pi(s,o,c)?ze(t)._overflowWeeks=!0:f!=null?ze(t)._overflowWeekday=!0:(d=Pk(s,n,a,o,c),t._a[ys]=d.year,t._dayOfYear=d.dayOfYear)}ue.ISO_8601=function(){};ue.RFC_2822=function(){};function M0(t){if(t._f===ue.ISO_8601){Uk(t);return}if(t._f===ue.RFC_2822){Yk(t);return}t._a=[],ze(t).empty=!0;var e=""+t._i,s,n,a,o,c,d=e.length,f=0,m,g;for(a=Nk(t._f,t._locale).match(p0)||[],g=a.length,s=0;s<g;s++)o=a[s],n=(e.match(GP(o,t))||[])[0],n&&(c=e.substr(0,e.indexOf(n)),c.length>0&&ze(t).unusedInput.push(c),e=e.slice(e.indexOf(n)+n.length),f+=n.length),ko[o]?(n?ze(t).empty=!1:ze(t).unusedTokens.push(o),XP(o,n,t)):t._strict&&!n&&ze(t).unusedTokens.push(o);ze(t).charsLeftOver=d-f,e.length>0&&ze(t).unusedInput.push(e),t._a[Jt]<=12&&ze(t).bigHour===!0&&t._a[Jt]>0&&(ze(t).bigHour=void 0),ze(t).parsedDateParts=t._a.slice(0),ze(t).meridiem=t._meridiem,t._a[Jt]=o9(t._locale,t._a[Jt],t._meridiem),m=ze(t).era,m!==null&&(t._a[ys]=t._locale.erasConvertYear(m,t._a[ys])),k0(t),N0(t)}function o9(t,e,s){var n;return s==null?e:t.meridiemHour!=null?t.meridiemHour(e,s):(t.isPM!=null&&(n=t.isPM(s),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function l9(t){var e,s,n,a,o,c,d=!1,f=t._f.length;if(f===0){ze(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<f;a++)o=0,c=!1,e=f0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[a],M0(e),h0(e)&&(c=!0),o+=ze(e).charsLeftOver,o+=ze(e).unusedTokens.length*10,ze(e).score=o,d?o<n&&(n=o,s=e):(n==null||o<n||c)&&(n=o,s=e,c&&(d=!0));ka(t,s||e)}function c9(t){if(!t._d){var e=g0(t._i),s=e.day===void 0?e.date:e.day;t._a=wk([e.year,e.month,s,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),k0(t)}}function u9(t){var e=new qc(N0(Wk(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Wk(t){var e=t._i,s=t._f;return t._locale=t._locale||Yi(t._l),e===null||s===void 0&&e===""?Bh({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Dn(e)?new qc(N0(e)):(Ic(e)?t._d=e:Tn(s)?l9(t):s?M0(t):d9(t),h0(t)||(t._d=null),t))}function d9(t){var e=t._i;Es(e)?t._d=new Date(ue.now()):Ic(e)?t._d=new Date(e.valueOf()):typeof e=="string"?i9(t):Tn(e)?(t._a=wk(e.slice(0),function(s){return parseInt(s,10)}),k0(t)):Sr(e)?c9(t):Fi(e)?t._d=new Date(e):ue.createFromInputFallback(t)}function Ik(t,e,s,n,a){var o={};return(e===!0||e===!1)&&(n=e,e=void 0),(s===!0||s===!1)&&(n=s,s=void 0),(Sr(t)&&d0(t)||Tn(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=s,o._i=t,o._f=e,o._strict=n,u9(o)}function St(t,e,s,n){return Ik(t,e,s,n,!1)}var h9=gn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=St.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Bh()}),f9=gn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=St.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Bh()});function qk(t,e){var s,n;if(e.length===1&&Tn(e[0])&&(e=e[0]),!e.length)return St();for(s=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](s))&&(s=e[n]);return s}function m9(){var t=[].slice.call(arguments,0);return qk("isBefore",t)}function p9(){var t=[].slice.call(arguments,0);return qk("isAfter",t)}var g9=function(){return Date.now?Date.now():+new Date},$l=["year","quarter","month","week","day","hour","minute","second","millisecond"];function x9(t){var e,s=!1,n,a=$l.length;for(e in t)if(st(t,e)&&!(Ht.call($l,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<a;++n)if(t[$l[n]]){if(s)return!1;parseFloat(t[$l[n]])!==Ge(t[$l[n]])&&(s=!0)}return!0}function y9(){return this._isValid}function b9(){return An(NaN)}function qh(t){var e=g0(t),s=e.year||0,n=e.quarter||0,a=e.month||0,o=e.week||e.isoWeek||0,c=e.day||0,d=e.hour||0,f=e.minute||0,m=e.second||0,g=e.millisecond||0;this._isValid=x9(e),this._milliseconds=+g+m*1e3+f*6e4+d*1e3*60*60,this._days=+c+o*7,this._months=+a+n*3+s*12,this._data={},this._locale=Yi(),this._bubble()}function Hd(t){return t instanceof qh}function qg(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function v9(t,e,s){var n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0,c;for(c=0;c<n;c++)Ge(t[c])!==Ge(e[c])&&o++;return o+a}function Gk(t,e){Ne(t,0,0,function(){var s=this.utcOffset(),n="+";return s<0&&(s=-s,n="-"),n+Kn(~~(s/60),2)+e+Kn(~~s%60,2)})}Gk("Z",":");Gk("ZZ","");ye("Z",Yh);ye("ZZ",Yh);ft(["Z","ZZ"],function(t,e,s){s._useUTC=!0,s._tzm=T0(Yh,t)});var _9=/([\+\-]|\d\d)/gi;function T0(t,e){var s=(e||"").match(t),n,a,o;return s===null?null:(n=s[s.length-1]||[],a=(n+"").match(_9)||["-",0,0],o=+(a[1]*60)+Ge(a[2]),o===0?0:a[0]==="+"?o:-o)}function D0(t,e){var s,n;return e._isUTC?(s=e.clone(),n=(Dn(t)||Ic(t)?t.valueOf():St(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+n),ue.updateOffset(s,!1),s):St(t).local()}function Gg(t){return-Math.round(t._d.getTimezoneOffset())}ue.updateOffset=function(){};function w9(t,e,s){var n=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=T0(Yh,t),t===null)return this}else Math.abs(t)<16&&!s&&(t=t*60);return!this._isUTC&&e&&(a=Gg(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==t&&(!e||this._changeInProgress?Kk(this,An(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ue.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Gg(this)}function S9(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function j9(t){return this.utcOffset(0,t)}function N9(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Gg(this),"m")),this}function k9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=T0(IP,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function M9(t){return this.isValid()?(t=t?St(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function T9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function D9(){if(!Es(this._isDSTShifted))return this._isDSTShifted;var t={},e;return f0(t,this),t=Wk(t),t._a?(e=t._isUTC?Zn(t._a):St(t._a),this._isDSTShifted=this.isValid()&&v9(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function C9(){return this.isValid()?!this._isUTC:!1}function A9(){return this.isValid()?this._isUTC:!1}function $k(){return this.isValid()?this._isUTC&&this._offset===0:!1}var E9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,O9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function An(t,e){var s=t,n=null,a,o,c;return Hd(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:Fi(t)||!isNaN(+t)?(s={},e?s[e]=+t:s.milliseconds=+t):(n=E9.exec(t))?(a=n[1]==="-"?-1:1,s={y:0,d:Ge(n[Wn])*a,h:Ge(n[Jt])*a,m:Ge(n[Mn])*a,s:Ge(n[Ei])*a,ms:Ge(qg(n[br]*1e3))*a}):(n=O9.exec(t))?(a=n[1]==="-"?-1:1,s={y:dr(n[2],a),M:dr(n[3],a),w:dr(n[4],a),d:dr(n[5],a),h:dr(n[6],a),m:dr(n[7],a),s:dr(n[8],a)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(c=R9(St(s.from),St(s.to)),s={},s.ms=c.milliseconds,s.M=c.months),o=new qh(s),Hd(t)&&st(t,"_locale")&&(o._locale=t._locale),Hd(t)&&st(t,"_isValid")&&(o._isValid=t._isValid),o}An.fn=qh.prototype;An.invalid=b9;function dr(t,e){var s=t&&parseFloat(t.replace(",","."));return(isNaN(s)?0:s)*e}function Yw(t,e){var s={};return s.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(s.months,"M").isAfter(e)&&--s.months,s.milliseconds=+e-+t.clone().add(s.months,"M"),s}function R9(t,e){var s;return t.isValid()&&e.isValid()?(e=D0(e,t),t.isBefore(e)?s=Yw(t,e):(s=Yw(e,t),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function Xk(t,e){return function(s,n){var a,o;return n!==null&&!isNaN(+n)&&(jk(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=s,s=n,n=o),a=An(s,n),Kk(this,a,t),this}}function Kk(t,e,s,n){var a=e._milliseconds,o=qg(e._days),c=qg(e._months);t.isValid()&&(n=n??!0,c&&Rk(t,Ec(t,"Month")+c*s),o&&Ak(t,"Date",Ec(t,"Date")+o*s),a&&t._d.setTime(t._d.valueOf()+a*s),n&&ue.updateOffset(t,o||c))}var L9=Xk(1,"add"),z9=Xk(-1,"subtract");function Zk(t){return typeof t=="string"||t instanceof String}function P9(t){return Dn(t)||Ic(t)||Zk(t)||Fi(t)||V9(t)||B9(t)||t===null||t===void 0}function B9(t){var e=Sr(t)&&!d0(t),s=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,o,c=n.length;for(a=0;a<c;a+=1)o=n[a],s=s||st(t,o);return e&&s}function V9(t){var e=Tn(t),s=!1;return e&&(s=t.filter(function(n){return!Fi(n)&&Zk(t)}).length===0),e&&s}function F9(t){var e=Sr(t)&&!d0(t),s=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,o;for(a=0;a<n.length;a+=1)o=n[a],s=s||st(t,o);return e&&s}function H9(t,e){var s=t.diff(e,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function U9(t,e){arguments.length===1&&(arguments[0]?P9(arguments[0])?(t=arguments[0],e=void 0):F9(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var s=t||St(),n=D0(s,this).startOf("day"),a=ue.calendarFormat(this,n)||"sameElse",o=e&&(Qn(e[a])?e[a].call(this,s):e[a]);return this.format(o||this.localeData().calendar(a,this,St(s)))}function Y9(){return new qc(this)}function W9(t,e){var s=Dn(t)?t:St(t);return this.isValid()&&s.isValid()?(e=xn(e)||"millisecond",e==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(e).valueOf()):!1}function I9(t,e){var s=Dn(t)?t:St(t);return this.isValid()&&s.isValid()?(e=xn(e)||"millisecond",e==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(e).valueOf()<s.valueOf()):!1}function q9(t,e,s,n){var a=Dn(t)?t:St(t),o=Dn(e)?e:St(e);return this.isValid()&&a.isValid()&&o.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,s):!this.isBefore(a,s))&&(n[1]===")"?this.isBefore(o,s):!this.isAfter(o,s))):!1}function G9(t,e){var s=Dn(t)?t:St(t),n;return this.isValid()&&s.isValid()?(e=xn(e)||"millisecond",e==="millisecond"?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function $9(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function X9(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function K9(t,e,s){var n,a,o;if(!this.isValid())return NaN;if(n=D0(t,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,e=xn(e),e){case"year":o=Ud(this,n)/12;break;case"month":o=Ud(this,n);break;case"quarter":o=Ud(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-a)/864e5;break;case"week":o=(this-n-a)/6048e5;break;default:o=this-n}return s?o:pn(o)}function Ud(t,e){if(t.date()<e.date())return-Ud(e,t);var s=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(s,"months"),a,o;return e-n<0?(a=t.clone().add(s-1,"months"),o=(e-n)/(n-a)):(a=t.clone().add(s+1,"months"),o=(e-n)/(a-n)),-(s+o)||0}ue.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ue.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Z9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Q9(t){if(!this.isValid())return null;var e=t!==!0,s=e?this.clone().utc():this;return s.year()<0||s.year()>9999?Fd(s,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Qn(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Fd(s,"Z")):Fd(s,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function J9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",s,n,a,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),s="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(s+n+a+o)}function eV(t){t||(t=this.isUtc()?ue.defaultFormatUtc:ue.defaultFormat);var e=Fd(this,t);return this.localeData().postformat(e)}function tV(t,e){return this.isValid()&&(Dn(t)&&t.isValid()||St(t).isValid())?An({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function sV(t){return this.from(St(),t)}function nV(t,e){return this.isValid()&&(Dn(t)&&t.isValid()||St(t).isValid())?An({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function iV(t){return this.to(St(),t)}function Qk(t){var e;return t===void 0?this._locale._abbr:(e=Yi(t),e!=null&&(this._locale=e),this)}var Jk=gn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function eM(){return this._locale}var mh=1e3,Mo=60*mh,ph=60*Mo,tM=(365*400+97)*24*ph;function To(t,e){return(t%e+e)%e}function sM(t,e,s){return t<100&&t>=0?new Date(t+400,e,s)-tM:new Date(t,e,s).valueOf()}function nM(t,e,s){return t<100&&t>=0?Date.UTC(t+400,e,s)-tM:Date.UTC(t,e,s)}function aV(t){var e,s;if(t=xn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?nM:sM,t){case"year":e=s(this.year(),0,1);break;case"quarter":e=s(this.year(),this.month()-this.month()%3,1);break;case"month":e=s(this.year(),this.month(),1);break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=s(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=To(e+(this._isUTC?0:this.utcOffset()*Mo),ph);break;case"minute":e=this._d.valueOf(),e-=To(e,Mo);break;case"second":e=this._d.valueOf(),e-=To(e,mh);break}return this._d.setTime(e),ue.updateOffset(this,!0),this}function rV(t){var e,s;if(t=xn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?nM:sM,t){case"year":e=s(this.year()+1,0,1)-1;break;case"quarter":e=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=s(this.year(),this.month()+1,1)-1;break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ph-To(e+(this._isUTC?0:this.utcOffset()*Mo),ph)-1;break;case"minute":e=this._d.valueOf(),e+=Mo-To(e,Mo)-1;break;case"second":e=this._d.valueOf(),e+=mh-To(e,mh)-1;break}return this._d.setTime(e),ue.updateOffset(this,!0),this}function oV(){return this._d.valueOf()-(this._offset||0)*6e4}function lV(){return Math.floor(this.valueOf()/1e3)}function cV(){return new Date(this.valueOf())}function uV(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function dV(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function hV(){return this.isValid()?this.toISOString():null}function fV(){return h0(this)}function mV(){return ka({},ze(this))}function pV(){return ze(this).overflow}function gV(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ne("N",0,0,"eraAbbr");Ne("NN",0,0,"eraAbbr");Ne("NNN",0,0,"eraAbbr");Ne("NNNN",0,0,"eraName");Ne("NNNNN",0,0,"eraNarrow");Ne("y",["y",1],"yo","eraYear");Ne("y",["yy",2],0,"eraYear");Ne("y",["yyy",3],0,"eraYear");Ne("y",["yyyy",4],0,"eraYear");ye("N",C0);ye("NN",C0);ye("NNN",C0);ye("NNNN",MV);ye("NNNNN",TV);ft(["N","NN","NNN","NNNN","NNNNN"],function(t,e,s,n){var a=s._locale.erasParse(t,n,s._strict);a?ze(s).era=a:ze(s).invalidEra=t});ye("y",Io);ye("yy",Io);ye("yyy",Io);ye("yyyy",Io);ye("yo",DV);ft(["y","yy","yyy","yyyy"],ys);ft(["yo"],function(t,e,s,n){var a;s._locale._eraYearOrdinalRegex&&(a=t.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?e[ys]=s._locale.eraYearOrdinalParse(t,a):e[ys]=parseInt(t,10)});function xV(t,e){var s,n,a,o=this._eras||Yi("en")._eras;for(s=0,n=o.length;s<n;++s)switch(typeof o[s].since==="string"&&(a=ue(o[s].since).startOf("day"),o[s].since=a.valueOf()),typeof o[s].until){case"undefined":o[s].until=1/0;break;case"string":a=ue(o[s].until).startOf("day").valueOf(),o[s].until=a.valueOf();break}return o}function yV(t,e,s){var n,a,o=this.eras(),c,d,f;for(t=t.toUpperCase(),n=0,a=o.length;n<a;++n)if(c=o[n].name.toUpperCase(),d=o[n].abbr.toUpperCase(),f=o[n].narrow.toUpperCase(),s)switch(e){case"N":case"NN":case"NNN":if(d===t)return o[n];break;case"NNNN":if(c===t)return o[n];break;case"NNNNN":if(f===t)return o[n];break}else if([c,d,f].indexOf(t)>=0)return o[n]}function bV(t,e){var s=t.since<=t.until?1:-1;return e===void 0?ue(t.since).year():ue(t.since).year()+(e-t.offset)*s}function vV(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].name;return""}function _V(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].narrow;return""}function wV(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].abbr;return""}function SV(){var t,e,s,n,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(s=a[t].since<=a[t].until?1:-1,n=this.clone().startOf("day").valueOf(),a[t].since<=n&&n<=a[t].until||a[t].until<=n&&n<=a[t].since)return(this.year()-ue(a[t].since).year())*s+a[t].offset;return this.year()}function jV(t){return st(this,"_erasNameRegex")||A0.call(this),t?this._erasNameRegex:this._erasRegex}function NV(t){return st(this,"_erasAbbrRegex")||A0.call(this),t?this._erasAbbrRegex:this._erasRegex}function kV(t){return st(this,"_erasNarrowRegex")||A0.call(this),t?this._erasNarrowRegex:this._erasRegex}function C0(t,e){return e.erasAbbrRegex(t)}function MV(t,e){return e.erasNameRegex(t)}function TV(t,e){return e.erasNarrowRegex(t)}function DV(t,e){return e._eraYearOrdinalRegex||Io}function A0(){var t=[],e=[],s=[],n=[],a,o,c,d,f,m=this.eras();for(a=0,o=m.length;a<o;++a)c=zi(m[a].name),d=zi(m[a].abbr),f=zi(m[a].narrow),e.push(c),t.push(d),s.push(f),n.push(c),n.push(d),n.push(f);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}Ne(0,["gg",2],0,function(){return this.weekYear()%100});Ne(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Gh(t,e){Ne(0,[t,t.length],0,e)}Gh("gggg","weekYear");Gh("ggggg","weekYear");Gh("GGGG","isoWeekYear");Gh("GGGGG","isoWeekYear");ye("G",Uh);ye("g",Uh);ye("GG",jt,Gs);ye("gg",jt,Gs);ye("GGGG",y0,x0);ye("gggg",y0,x0);ye("GGGGG",Hh,Vh);ye("ggggg",Hh,Vh);$c(["gggg","ggggg","GGGG","GGGGG"],function(t,e,s,n){e[n.substr(0,2)]=Ge(t)});$c(["gg","GG"],function(t,e,s,n){e[n]=ue.parseTwoDigitYear(t)});function CV(t){return iM.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function AV(t){return iM.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function EV(){return Pi(this.year(),1,4)}function OV(){return Pi(this.isoWeekYear(),1,4)}function RV(){var t=this.localeData()._week;return Pi(this.year(),t.dow,t.doy)}function LV(){var t=this.localeData()._week;return Pi(this.weekYear(),t.dow,t.doy)}function iM(t,e,s,n,a){var o;return t==null?Rc(this,n,a).year:(o=Pi(t,n,a),e>o&&(e=o),zV.call(this,t,e,s,n,a))}function zV(t,e,s,n,a){var o=Pk(t,e,s,n,a),c=Oc(o.year,0,o.dayOfYear);return this.year(c.getUTCFullYear()),this.month(c.getUTCMonth()),this.date(c.getUTCDate()),this}Ne("Q",0,"Qo","quarter");ye("Q",kk);ft("Q",function(t,e){e[Ai]=(Ge(t)-1)*3});function PV(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ne("D",["DD",2],"Do","date");ye("D",jt,qo);ye("DD",jt,Gs);ye("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ft(["D","DD"],Wn);ft("Do",function(t,e){e[Wn]=Ge(t.match(jt)[0])});var aM=Go("Date",!0);Ne("DDD",["DDDD",3],"DDDo","dayOfYear");ye("DDD",Fh);ye("DDDD",Mk);ft(["DDD","DDDD"],function(t,e,s){s._dayOfYear=Ge(t)});function BV(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ne("m",["mm",2],0,"minute");ye("m",jt,b0);ye("mm",jt,Gs);ft(["m","mm"],Mn);var VV=Go("Minutes",!1);Ne("s",["ss",2],0,"second");ye("s",jt,b0);ye("ss",jt,Gs);ft(["s","ss"],Ei);var FV=Go("Seconds",!1);Ne("S",0,0,function(){return~~(this.millisecond()/100)});Ne(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ne(0,["SSS",3],0,"millisecond");Ne(0,["SSSS",4],0,function(){return this.millisecond()*10});Ne(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ne(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ne(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ne(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ne(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ye("S",Fh,kk);ye("SS",Fh,Gs);ye("SSS",Fh,Mk);var Ma,rM;for(Ma="SSSS";Ma.length<=9;Ma+="S")ye(Ma,Io);function HV(t,e){e[br]=Ge(("0."+t)*1e3)}for(Ma="S";Ma.length<=9;Ma+="S")ft(Ma,HV);rM=Go("Milliseconds",!1);Ne("z",0,0,"zoneAbbr");Ne("zz",0,0,"zoneName");function UV(){return this._isUTC?"UTC":""}function YV(){return this._isUTC?"Coordinated Universal Time":""}var le=qc.prototype;le.add=L9;le.calendar=U9;le.clone=Y9;le.diff=K9;le.endOf=rV;le.format=eV;le.from=tV;le.fromNow=sV;le.to=nV;le.toNow=iV;le.get=JP;le.invalidAt=pV;le.isAfter=W9;le.isBefore=I9;le.isBetween=q9;le.isSame=G9;le.isSameOrAfter=$9;le.isSameOrBefore=X9;le.isValid=fV;le.lang=Jk;le.locale=Qk;le.localeData=eM;le.max=f9;le.min=h9;le.parsingFlags=mV;le.set=eB;le.startOf=aV;le.subtract=z9;le.toArray=uV;le.toObject=dV;le.toDate=cV;le.toISOString=Q9;le.inspect=J9;typeof Symbol<"u"&&Symbol.for!=null&&(le[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});le.toJSON=hV;le.toString=Z9;le.unix=lV;le.valueOf=oV;le.creationData=gV;le.eraName=vV;le.eraNarrow=_V;le.eraAbbr=wV;le.eraYear=SV;le.year=Ck;le.isLeapYear=QP;le.weekYear=CV;le.isoWeekYear=AV;le.quarter=le.quarters=PV;le.month=Lk;le.daysInMonth=cB;le.week=le.weeks=xB;le.isoWeek=le.isoWeeks=yB;le.weeksInYear=RV;le.weeksInWeekYear=LV;le.isoWeeksInYear=EV;le.isoWeeksInISOWeekYear=OV;le.date=aM;le.day=le.days=AB;le.weekday=EB;le.isoWeekday=OB;le.dayOfYear=BV;le.hour=le.hours=FB;le.minute=le.minutes=VV;le.second=le.seconds=FV;le.millisecond=le.milliseconds=rM;le.utcOffset=w9;le.utc=j9;le.local=N9;le.parseZone=k9;le.hasAlignedHourOffset=M9;le.isDST=T9;le.isLocal=C9;le.isUtcOffset=A9;le.isUtc=$k;le.isUTC=$k;le.zoneAbbr=UV;le.zoneName=YV;le.dates=gn("dates accessor is deprecated. Use date instead.",aM);le.months=gn("months accessor is deprecated. Use month instead",Lk);le.years=gn("years accessor is deprecated. Use year instead",Ck);le.zone=gn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",S9);le.isDSTShifted=gn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",D9);function WV(t){return St(t*1e3)}function IV(){return St.apply(null,arguments).parseZone()}function oM(t){return t}var nt=m0.prototype;nt.calendar=CP;nt.longDateFormat=RP;nt.invalidDate=zP;nt.ordinal=VP;nt.preparse=oM;nt.postformat=oM;nt.relativeTime=HP;nt.pastFuture=UP;nt.set=TP;nt.eras=xV;nt.erasParse=yV;nt.erasConvertYear=bV;nt.erasAbbrRegex=NV;nt.erasNameRegex=jV;nt.erasNarrowRegex=kV;nt.months=aB;nt.monthsShort=rB;nt.monthsParse=lB;nt.monthsRegex=dB;nt.monthsShortRegex=uB;nt.week=fB;nt.firstDayOfYear=gB;nt.firstDayOfWeek=pB;nt.weekdays=kB;nt.weekdaysMin=TB;nt.weekdaysShort=MB;nt.weekdaysParse=CB;nt.weekdaysRegex=RB;nt.weekdaysShortRegex=LB;nt.weekdaysMinRegex=zB;nt.isPM=BB;nt.meridiem=HB;function gh(t,e,s,n){var a=Yi(),o=Zn().set(n,e);return a[s](o,t)}function lM(t,e,s){if(Fi(t)&&(e=t,t=void 0),t=t||"",e!=null)return gh(t,e,s,"month");var n,a=[];for(n=0;n<12;n++)a[n]=gh(t,n,s,"month");return a}function E0(t,e,s,n){typeof t=="boolean"?(Fi(e)&&(s=e,e=void 0),e=e||""):(e=t,s=e,t=!1,Fi(e)&&(s=e,e=void 0),e=e||"");var a=Yi(),o=t?a._week.dow:0,c,d=[];if(s!=null)return gh(e,(s+o)%7,n,"day");for(c=0;c<7;c++)d[c]=gh(e,(c+o)%7,n,"day");return d}function qV(t,e){return lM(t,e,"months")}function GV(t,e){return lM(t,e,"monthsShort")}function $V(t,e,s){return E0(t,e,s,"weekdays")}function XV(t,e,s){return E0(t,e,s,"weekdaysShort")}function KV(t,e,s){return E0(t,e,s,"weekdaysMin")}Aa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,s=Ge(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+s}});ue.lang=gn("moment.lang is deprecated. Use moment.locale instead.",Aa);ue.langData=gn("moment.langData is deprecated. Use moment.localeData instead.",Yi);var Si=Math.abs;function ZV(){var t=this._data;return this._milliseconds=Si(this._milliseconds),this._days=Si(this._days),this._months=Si(this._months),t.milliseconds=Si(t.milliseconds),t.seconds=Si(t.seconds),t.minutes=Si(t.minutes),t.hours=Si(t.hours),t.months=Si(t.months),t.years=Si(t.years),this}function cM(t,e,s,n){var a=An(e,s);return t._milliseconds+=n*a._milliseconds,t._days+=n*a._days,t._months+=n*a._months,t._bubble()}function QV(t,e){return cM(this,t,e,1)}function JV(t,e){return cM(this,t,e,-1)}function Ww(t){return t<0?Math.floor(t):Math.ceil(t)}function e7(){var t=this._milliseconds,e=this._days,s=this._months,n=this._data,a,o,c,d,f;return t>=0&&e>=0&&s>=0||t<=0&&e<=0&&s<=0||(t+=Ww($g(s)+e)*864e5,e=0,s=0),n.milliseconds=t%1e3,a=pn(t/1e3),n.seconds=a%60,o=pn(a/60),n.minutes=o%60,c=pn(o/60),n.hours=c%24,e+=pn(c/24),f=pn(uM(e)),s+=f,e-=Ww($g(f)),d=pn(s/12),s%=12,n.days=e,n.months=s,n.years=d,this}function uM(t){return t*4800/146097}function $g(t){return t*146097/4800}function t7(t){if(!this.isValid())return NaN;var e,s,n=this._milliseconds;if(t=xn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,s=this._months+uM(e),t){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(e=this._days+Math.round($g(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function Wi(t){return function(){return this.as(t)}}var dM=Wi("ms"),s7=Wi("s"),n7=Wi("m"),i7=Wi("h"),a7=Wi("d"),r7=Wi("w"),o7=Wi("M"),l7=Wi("Q"),c7=Wi("y"),u7=dM;function d7(){return An(this)}function h7(t){return t=xn(t),this.isValid()?this[t+"s"]():NaN}function Dr(t){return function(){return this.isValid()?this._data[t]:NaN}}var f7=Dr("milliseconds"),m7=Dr("seconds"),p7=Dr("minutes"),g7=Dr("hours"),x7=Dr("days"),y7=Dr("months"),b7=Dr("years");function v7(){return pn(this.days()/7)}var ki=Math.round,jo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function _7(t,e,s,n,a){return a.relativeTime(e||1,!!s,t,n)}function w7(t,e,s,n){var a=An(t).abs(),o=ki(a.as("s")),c=ki(a.as("m")),d=ki(a.as("h")),f=ki(a.as("d")),m=ki(a.as("M")),g=ki(a.as("w")),x=ki(a.as("y")),b=o<=s.ss&&["s",o]||o<s.s&&["ss",o]||c<=1&&["m"]||c<s.m&&["mm",c]||d<=1&&["h"]||d<s.h&&["hh",d]||f<=1&&["d"]||f<s.d&&["dd",f];return s.w!=null&&(b=b||g<=1&&["w"]||g<s.w&&["ww",g]),b=b||m<=1&&["M"]||m<s.M&&["MM",m]||x<=1&&["y"]||["yy",x],b[2]=e,b[3]=+t>0,b[4]=n,_7.apply(null,b)}function S7(t){return t===void 0?ki:typeof t=="function"?(ki=t,!0):!1}function j7(t,e){return jo[t]===void 0?!1:e===void 0?jo[t]:(jo[t]=e,t==="s"&&(jo.ss=e-1),!0)}function N7(t,e){if(!this.isValid())return this.localeData().invalidDate();var s=!1,n=jo,a,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(s=t),typeof e=="object"&&(n=Object.assign({},jo,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),a=this.localeData(),o=w7(this,!s,n,a),s&&(o=a.pastFuture(+this,o)),a.postformat(o)}var Xp=Math.abs;function po(t){return(t>0)-(t<0)||+t}function $h(){if(!this.isValid())return this.localeData().invalidDate();var t=Xp(this._milliseconds)/1e3,e=Xp(this._days),s=Xp(this._months),n,a,o,c,d=this.asSeconds(),f,m,g,x;return d?(n=pn(t/60),a=pn(n/60),t%=60,n%=60,o=pn(s/12),s%=12,c=t?t.toFixed(3).replace(/\.?0+$/,""):"",f=d<0?"-":"",m=po(this._months)!==po(d)?"-":"",g=po(this._days)!==po(d)?"-":"",x=po(this._milliseconds)!==po(d)?"-":"",f+"P"+(o?m+o+"Y":"")+(s?m+s+"M":"")+(e?g+e+"D":"")+(a||n||t?"T":"")+(a?x+a+"H":"")+(n?x+n+"M":"")+(t?x+c+"S":"")):"P0D"}var Qe=qh.prototype;Qe.isValid=y9;Qe.abs=ZV;Qe.add=QV;Qe.subtract=JV;Qe.as=t7;Qe.asMilliseconds=dM;Qe.asSeconds=s7;Qe.asMinutes=n7;Qe.asHours=i7;Qe.asDays=a7;Qe.asWeeks=r7;Qe.asMonths=o7;Qe.asQuarters=l7;Qe.asYears=c7;Qe.valueOf=u7;Qe._bubble=e7;Qe.clone=d7;Qe.get=h7;Qe.milliseconds=f7;Qe.seconds=m7;Qe.minutes=p7;Qe.hours=g7;Qe.days=x7;Qe.weeks=v7;Qe.months=y7;Qe.years=b7;Qe.humanize=N7;Qe.toISOString=$h;Qe.toString=$h;Qe.toJSON=$h;Qe.locale=Qk;Qe.localeData=eM;Qe.toIsoString=gn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$h);Qe.lang=Jk;Ne("X",0,0,"unix");Ne("x",0,0,"valueOf");ye("x",Uh);ye("X",qP);ft("X",function(t,e,s){s._d=new Date(parseFloat(t)*1e3)});ft("x",function(t,e,s){s._d=new Date(Ge(t))});ue.version="2.30.1";kP(St);ue.fn=le;ue.min=m9;ue.max=p9;ue.now=g9;ue.utc=Zn;ue.unix=WV;ue.months=qV;ue.isDate=Ic;ue.locale=Aa;ue.invalid=Bh;ue.duration=An;ue.isMoment=Dn;ue.weekdays=$V;ue.parseZone=IV;ue.localeData=Yi;ue.isDuration=Hd;ue.monthsShort=GV;ue.weekdaysMin=KV;ue.defineLocale=j0;ue.updateLocale=IB;ue.locales=qB;ue.weekdaysShort=XV;ue.normalizeUnits=xn;ue.relativeTimeRounding=S7;ue.relativeTimeThreshold=j7;ue.calendarFormat=H9;ue.prototype=le;ue.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const k7={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};JS._date.override(typeof ue=="function"?{_id:"moment",formats:function(){return k7},parse:function(t,e){return typeof t=="string"&&typeof e=="string"?t=ue(t,e):t instanceof ue||(t=ue(t)),t.isValid()?t.valueOf():null},format:function(t,e){return ue(t).format(e)},add:function(t,e,s){return ue(t).add(e,s).valueOf()},diff:function(t,e,s){return ue(t).diff(ue(e),s)},startOf:function(t,e,s){return t=ue(t),e==="isoWeek"?(s=Math.trunc(Math.min(Math.max(0,s),6)),t.isoWeekday(s).startOf("day").valueOf()):t.startOf(e).valueOf()},endOf:function(t,e){return ue(t).endOf(e).valueOf()}}:{});Cn.register(Vc,Fc,Vo,Ui,yx,Th,Ho,Fo,th);function M7(){const[t,e]=N.useState(null),[s,n]=N.useState(null),[a,o]=N.useState(""),[c,d]=N.useState(null),[f,m]=N.useState(!1),[g,x]=N.useState(!1),[b,v]=N.useState(3),[w,S]=N.useState(!1),[j,T]=N.useState(!1),[k,A]=N.useState("load"),[C,O]=N.useState("forecast"),[R,E]=N.useState(""),z=N.useRef(null),[U,K]=N.useState(!1),[Z,re]=N.useState(!1),[Se,fe]=N.useState(!1),[_e,F]=N.useState(!1),[G,ae]=N.useState(!1),[ie,de]=N.useState(!1),[D,H]=N.useState(null),[te,L]=N.useState(!0),se=async()=>{m(!0);try{const be=await ge.aurora.dashboard();e(be);const Ke=be.state?.risk_profile?.risk_appetite;typeof Ke=="number"&&v(Ke),K(!!be.state?.auto_tune_enabled),fe(!!be.state?.reflex_enabled),ae(be.state?.risk_profile?.mode==="probabilistic")}catch(be){console.error("Failed to load Aurora dashboard:",be)}finally{m(!1)}};N.useEffect(()=>{se(),(async()=>{try{const Ke=await ge.schedulerStatus();n(Ke)}catch(Ke){console.error("Failed to load scheduler status:",Ke)}})()},[]),N.useEffect(()=>{(async()=>{try{const Ke=await ge.performanceData(7);H(Ke)}catch(Ke){console.error("Failed to load performance data:",Ke)}finally{L(!1)}})()},[]);const oe=async()=>{if(t){x(!0);try{const be=await ge.aurora.briefing(t);o(be.briefing),d(new Date().toISOString())}catch(be){console.error("Failed to fetch Aurora briefing:",be),o("Failed to fetch Aurora briefing.")}finally{x(!1)}}},Ce=async be=>{v(be),S(!0);try{await ge.configSave({s_index:{risk_appetite:be}}),z.current!==null&&window.clearTimeout(z.current),E("Saved."),z.current=window.setTimeout(()=>{E(""),z.current=null},2e3)}catch(Ke){console.error("Failed to save risk level (risk_appetite):",Ke),E("Failed to save.")}finally{S(!1)}},pt=async()=>{const be=!U;K(be),re(!0);try{await ge.configSave({learning:{auto_tune_enabled:be}})}catch(Ke){console.error("Failed to toggle auto-tune:",Ke),K(!be)}finally{re(!1)}},it=async()=>{const be=!Se;fe(be),F(!0);try{await ge.aurora.toggleReflex(be)}catch(Ke){console.error("Failed to toggle reflex:",Ke),fe(!be)}finally{F(!1)}},ns=async()=>{const be=!G;ae(be),de(!0);try{await ge.configSave({s_index:{mode:be?"probabilistic":"dynamic"}})}catch(Ke){console.error("Failed to toggle probabilistic mode:",Ke),ae(!be)}finally{de(!1)}};N.useMemo(()=>{const be=t?.state?.risk_profile?.persona;return be||"Unknown"},[t]);const Ss=t?.identity?.graduation?.label??"infant";t?.identity?.graduation?.runs;const us=t?.state?.weather_volatility,is=us?.overall??0,xt=is<.3?"bg-emerald-400/90":is<.7?"bg-sky-400/90":"bg-amber-400/90",$s=is<.3?"from-emerald-900/60 via-surface to-surface":is<.7?"from-sky-900/60 via-surface to-surface":"from-amber-900/60 via-surface to-surface",Xs=t?.horizon?.slots??[],En=t?.horizon?.end??new Date().toISOString(),js=t?.history?.strategy_events??[],yn=N.useMemo(()=>D?{datasets:[{label:"Planned",data:D.soc_series.map(be=>({x:be.time,y:be.planned})),borderColor:"#94a3b8",borderDash:[5,5],borderWidth:1.5,pointRadius:0,tension:.4},{label:"Actual",data:D.soc_series.map(be=>({x:be.time,y:be.actual})),borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.1)",borderWidth:1.5,pointRadius:0,fill:!0,tension:.4}]}:null,[D]),Rs=N.useMemo(()=>D?{labels:D.cost_series.map(be=>be.date.slice(5)),datasets:[{label:"Plan",data:D.cost_series.map(be=>be.planned),backgroundColor:"#94a3b8",borderRadius:2},{label:"Real",data:D.cost_series.map(be=>be.realized),backgroundColor:D.cost_series.map(be=>be.realized<=be.planned?"#34d399":"#f87171"),borderRadius:2}]}:null,[D]);return u.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[u.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Aurora Command Center",u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-surface2 border border-line/50 text-[10px] text-muted uppercase tracking-wider",children:Ss})]}),u.jsx("p",{className:"text-[11px] text-muted",children:"The Mastermind. Observing context, managing risk, and learning from reality."})]})}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[u.jsx(Ee,{className:`lg:col-span-6 p-4 md:p-5 bg-gradient-to-br ${$s} relative overflow-hidden`,children:u.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative flex items-center justify-center",children:[u.jsx("div",{className:`absolute h-16 w-16 rounded-full ${xt} opacity-30 animate-pulse`}),u.jsx("div",{className:"relative flex items-center justify-center w-14 h-14 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:u.jsx(sg,{className:"h-8 w-8 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),u.jsx("div",{className:"text-lg font-medium text-text",children:is>.6?"Defensive Mode":is>.3?"Cautious Mode":"Optimal Mode"}),u.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2",children:[u.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${is>.6?"bg-amber-400":"bg-emerald-400"}`}),is>.6?"High Volatility Detected":"Conditions Stable"]})]})]}),u.jsxs("div",{className:"flex-1 bg-surface/40 rounded-xl p-3 border border-white/5 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-text font-medium",children:[u.jsx(pS,{className:"h-3 w-3 text-accent"}),"Daily Briefing"]}),u.jsx("button",{onClick:oe,disabled:!t||g,className:"text-[10px] text-muted hover:text-accent disabled:opacity-50 transition-colors",children:g?"Thinking...":"Refresh"})]}),u.jsx("div",{className:"text-[11px] leading-relaxed text-muted/90 font-mono",children:a||"Aurora is analyzing current market and weather conditions..."})]})]})}),u.jsxs(Ee,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col justify-center",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-muted tracking-wider",children:"Risk Appetite"}),u.jsxs("div",{className:"flex items-center gap-2",children:[t?.state?.risk_profile?.raw_factor!=null&&(t.state.risk_profile.raw_factor??0)>0&&u.jsxs("span",{className:"text-[9px] text-muted/60",title:"Calculated based on risk",children:["Calc: ",(t.state.risk_profile.raw_factor??0).toFixed(2)]}),u.jsxs("span",{className:"text-[9px] text-muted",title:"Proected factor for next run",children:["Applied: ",(t?.state?.risk_profile?.current_factor??1).toFixed(2)]})]})]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx("div",{className:"grid grid-cols-5 gap-1 p-1 bg-surface2/50 rounded-lg border border-line/30",children:[1,2,3,4,5].map(be=>{const Ke=b===be;let Yt="bg-surface border-line text-text shadow-sm";return Ke&&(be===1?Yt="bg-emerald-500/20 border-emerald-500/50 text-emerald-100 shadow-[0_0_10px_rgba(16,185,129,0.2)]":be===2?Yt="bg-teal-500/20 border-teal-500/50 text-teal-100":be===3?Yt="bg-blue-500/20 border-blue-500/50 text-blue-100":be===4?Yt="bg-amber-500/20 border-amber-500/50 text-amber-100":be===5&&(Yt="bg-red-500/20 border-red-500/50 text-red-100 shadow-[0_0_10px_rgba(239,68,68,0.2)]")),u.jsx("button",{onClick:()=>Ce(be),className:`
                       relative flex items-center justify-center h-9 rounded-md text-[10px] font-medium transition-all duration-200
                       border border-transparent
                       ${Ke?Yt:"text-muted hover:bg-surface/50 hover:text-text"}
                     `,children:be},be)})}),u.jsxs("div",{className:"text-center h-8 flex flex-col justify-center",children:[u.jsx("span",{className:`text-[11px] font-medium transition-colors duration-300 ${b===1?"text-emerald-400":b===2?"text-teal-400":b===3?"text-blue-400":b===4?"text-amber-400":"text-red-400"}`,children:{1:"Safety First",2:"Conservative",3:"Neutral (Balanced)",4:"Aggressive",5:"Gambler"}[b]}),u.jsx("span",{className:"text-[9px] text-muted/70",children:{1:"Covers Worst Case (p90)",2:"Covers High Load (p75)",3:"Trusts the Mean (p50)",4:"Expects Lower Load",5:"Bets on Sun/Empty"}[b]})]})]}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30 flex flex-col items-center gap-2",children:[u.jsx("button",{onClick:async()=>{T(!0);try{await Ce(b),await ge.runPlanner(),await se()}finally{T(!1)}},disabled:j,className:`flex items-center gap-2 px-3 py-1.5 rounded-full bg-surface hover:bg-surface2 border border-line/50 text-[10px] transition-colors ${j?"opacity-70 cursor-not-allowed text-muted":"text-muted hover:text-text"}`,title:"Run Strategy Engine to update forecast based on new risk",children:j?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),u.jsx("span",{children:"Re-planning..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Oi,{className:"h-3 w-3 text-accent"}),u.jsx("span",{children:"Apply & Re-Plan"})]})}),j&&u.jsx("span",{className:"text-[9px] text-muted/70 animate-pulse",children:"Regenerating schedule with new risk level..."})]})]}),u.jsxs(Ee,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Oi,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Auto-Tuner"}),u.jsx("span",{className:"text-[9px] text-muted",children:"Allow Aurora to act"})]}),u.jsx("button",{onClick:pt,disabled:Z,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${U?"bg-accent":"bg-surface2"}`,children:u.jsx("span",{className:`${U?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Aurora Reflex"}),u.jsx("span",{className:"text-[9px] text-muted",children:"Long-term auto-tuning"})]}),u.jsx("button",{onClick:it,disabled:_e,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${Se?"bg-accent":"bg-surface2"}`,children:u.jsx("span",{className:`${Se?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Probabilistic"}),u.jsx("span",{className:"text-[9px] text-muted",children:"Use p10/p90 confidence bands"})]}),u.jsx("button",{onClick:ns,disabled:ie,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${G?"bg-accent":"bg-surface2"}`,children:u.jsx("span",{className:`${G?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),u.jsx("div",{className:"mt-auto pt-2 text-center text-[10px] text-muted",children:"More controls coming soon."})]})]}),u.jsx(jP,{metrics:t?.metrics,perfData:D}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-12 lg:h-[450px]",children:[u.jsxs(Ee,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[u.jsx("div",{className:"mb-4 flex items-center justify-between shrink-0",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bc,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Context Radar"})]})}),u.jsx("div",{className:"flex-1 min-h-0 relative",children:u.jsx(wP,{weatherVolatility:{cloud:us?.cloud_volatility??0,temp:us?.temp_volatility??0,overall:is},riskFactor:b??3,forecastAccuracy:t?.metrics?.mae_pv_aurora!=null?Math.max(0,100-t.metrics.mae_pv_aurora*20):85,priceSpread:t?.metrics?.max_price_spread,forecastBias:t?.metrics?.forecast_bias})})]}),u.jsxs(Ee,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(cS,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Activity Log"})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("span",{className:"text-[10px] text-muted",children:[js.length," events"]}),s?.ml_training_last_run_at&&u.jsxs("span",{className:"text-[9px] text-muted/70",title:"Last ML Training Run",children:["ML Train:"," ",new Date(s.ml_training_last_run_at).toLocaleString("sv-SE",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]})]}),u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto pr-2 custom-scrollbar",children:u.jsx(SP,{events:js})})]}),u.jsxs(Ee,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col h-full min-h-0 overflow-hidden",children:[u.jsxs("div",{className:"mb-4 shrink-0",children:[u.jsx("div",{className:"text-xs font-medium text-text",children:"Cost Reality"}),u.jsx("div",{className:"text-[11px] text-muted",children:"Daily financial outcome"})]}),u.jsx("div",{className:"flex-1 min-h-0",children:Rs&&u.jsx(bP,{data:Rs,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:10}}},y:{grid:{color:"#334155"},ticks:{color:"#94a3b8"}}},plugins:{legend:{labels:{color:"#e2e8f0",font:{size:10}}}}}})})]})]}),u.jsx("div",{className:"grid gap-4 lg:grid-cols-12",children:u.jsxs(Ee,{className:"lg:col-span-12 p-4 flex flex-col h-[350px] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-text",children:C==="forecast"?"Forecast Horizon (48h)":"SoC Tunnel"}),u.jsxs("div",{className:"text-[11px] text-muted",children:[C==="forecast"?G?`Probabilistic View (${k.toUpperCase()})`:`Decomposition View (${k.toUpperCase()})`:"Plan vs Reality",C==="forecast"&&u.jsxs(u.Fragment,{children:["  ",new Date().toISOString().slice(0,10)," -"," ",new Date(En).toISOString().slice(0,10)]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px] mr-2",children:[u.jsx("button",{className:`px-3 py-0.5 rounded-full ${C==="forecast"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>O("forecast"),children:"Forecast"}),u.jsx("button",{className:`px-3 py-0.5 rounded-full ${C==="soc"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>O("soc"),children:"SoC"})]}),C==="forecast"&&u.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px]",children:[u.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${k==="load"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>A("load"),children:u.jsx(Oi,{className:"h-3 w-3"})}),u.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${k==="pv"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>A("pv"),children:u.jsx(gS,{className:"h-3 w-3"})})]})]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:f?u.jsx("div",{className:"text-[11px] text-muted",children:"Loading..."}):C==="soc"?u.jsx("div",{className:"h-full w-full",children:yn&&u.jsx(u0,{data:yn,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",time:{unit:"hour",displayFormats:{hour:"HH:mm"}},grid:{color:"#334155",display:!1},ticks:{color:"#94a3b8",maxTicksLimit:6}},y:{min:0,max:100,grid:{color:"#334155"},ticks:{color:"#94a3b8",display:!1}}},plugins:{legend:{display:!1}}}})}):G?u.jsx("div",{className:"h-full w-full",children:u.jsx(NP,{title:"",color:k==="load"?"#f97316":"#22c55e",slots:(()=>{const be=t?.horizon?.history_series?.[k==="load"?"load":"pv"]||[],Ke=Xs.map(Ve=>k==="load"?{time:Ve.slot_start,p10:Ve.probabilistic?.load_p10??null,p50:Ve.final.load_kwh,p90:Ve.probabilistic?.load_p90??null,actual:null}:{time:Ve.slot_start,p10:Ve.probabilistic?.pv_p10??null,p50:Ve.final.pv_kwh,p90:Ve.probabilistic?.pv_p90??null,actual:null}),Yt=new Map;be.forEach(Ve=>{Yt.set(Ve.slot_start,{time:Ve.slot_start,p10:Ve.p10??null,p50:Ve.forecast??null,p90:Ve.p90??null,actual:Ve.actual})}),Ke.forEach(Ve=>{const vs=Yt.get(Ve.time);vs?Yt.set(Ve.time,{...vs,p10:Ve.p10,p50:Ve.p50,p90:Ve.p90}):Yt.set(Ve.time,Ve)});const yt=new Date().getTime(),On=1440*60*1e3;return Array.from(Yt.values()).sort((Ve,vs)=>new Date(Ve.time).getTime()-new Date(vs.time).getTime()).filter(Ve=>{const vs=new Date(Ve.time).getTime();return vs>=yt-On&&vs<=yt+On})})()})}):u.jsx(_P,{slots:Xs,mode:k})})]})})]})}function Xl({data:t,colorClass:e="bg-accent",height:s=32,bars:n=12}){const a=N.useMemo(()=>{if(!t||t.length===0)return Array(n).fill(.2);const o=t.slice(-n),c=Math.max(...o,1),d=Math.min(...o,0),f=c-d||1;return o.map(m=>.1+.9*((m-d)/f))},[t,n]);return u.jsx("div",{className:"mini-bars",style:{height:s},children:a.map((o,c)=>u.jsx("div",{className:`mini-bar ${e}`,style:{height:`${Math.round(o*100)}%`}},c))})}const hn={status:async()=>{const t=await fetch("api/executor/status");if(!t.ok)throw new Error(`Status failed: ${t.status}`);return t.json()},toggle:async t=>{const e=await fetch("api/executor/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Toggle failed: ${e.status}`);return e.json()},run:async()=>{const t=await fetch("api/executor/run",{method:"POST"});if(!t.ok)throw new Error(`Run failed: ${t.status}`);return t.json()},history:async(t=20)=>{const e=await fetch(`api/executor/history?limit=${t}`);if(!e.ok)throw new Error(`History failed: ${e.status}`);return e.json()},stats:async(t=7)=>{const e=await fetch(`api/executor/stats?days=${t}`);if(!e.ok)throw new Error(`Stats failed: ${e.status}`);return e.json()},live:async()=>{const t=await fetch("api/executor/live");if(!t.ok)throw new Error(`Live failed: ${t.status}`);return t.json()},notifications:{get:async()=>{const t=await fetch("api/executor/notifications");if(!t.ok)throw new Error(`Notifications failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Notifications update failed: ${e.status}`);return e.json()},test:async()=>{const t=await fetch("api/executor/notifications/test",{method:"POST"}),e=await t.json();if(!t.ok)throw new Error(e.error||`Test failed: ${t.status}`);return e}},config:{get:async()=>{const t=await fetch("api/executor/config");if(!t.ok)throw new Error(`Config get failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Config update failed: ${e.status}`);return e.json()}},quickAction:{get:async()=>{const t=await fetch("api/executor/quick-action");if(!t.ok)throw new Error(`Quick action get failed: ${t.status}`);return t.json()},set:async(t,e)=>{const s=await fetch("api/executor/quick-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,duration_minutes:e})});if(!s.ok)throw new Error(`Quick action set failed: ${s.status}`);return s.json()},clear:async()=>{const t=await fetch("api/executor/quick-action",{method:"DELETE"});if(!t.ok)throw new Error(`Quick action clear failed: ${t.status}`);return t.json()}}};function Kp({enabled:t,onChange:e,disabled:s=!1,size:n="md"}){const a=n==="sm"?"h-5 w-9":"h-6 w-11",o=n==="sm"?"h-3 w-3":"h-4 w-4",c=n==="sm"?t?"translate-x-5":"translate-x-1":t?"translate-x-6":"translate-x-1";return u.jsx("button",{type:"button",role:"switch","aria-checked":t,disabled:s,onClick:()=>e(!t),className:`relative inline-flex items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${a} ${t?"bg-accent":"bg-surface2"} ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:u.jsx("span",{className:`inline-block transform rounded-full bg-white transition-transform ${o} ${c}`})})}Cn.register(Vc,Fc,Vo,Ui,Th,Ho,Fo,Mh);function T7(){const[t,e]=N.useState(null),[s,n]=N.useState(null),[a,o]=N.useState([]),[c,d]=N.useState(null),[f,m]=N.useState({soc:[],pv:[],load:[],import:[],export:[],labels:[]}),[g,x]=N.useState(!0),[b,v]=N.useState(!1),[w,S]=N.useState(!1),[j,T]=N.useState(null),[k,A]=N.useState(!1),[C,O]=N.useState(null),[R,E]=N.useState(!1),[z,U]=N.useState(!1),[K,Z]=N.useState(null),[re,Se]=N.useState(null),fe=N.useCallback(async()=>{try{const[L,se,oe]=await Promise.all([hn.status(),hn.stats(7),hn.history(20)]);e(L),n(se),o(oe.records),T(null)}catch(L){T(L.message||"Failed to load executor data")}finally{x(!1)}},[]);So("live_metrics",L=>{d(se=>{const oe={...se||{}};return L.soc!==void 0&&(oe.soc={value:`${L.soc.toFixed(0)}%`,numeric:L.soc,unit:"%"}),L.pv_kw!==void 0&&(oe.pv_power={value:`${L.pv_kw.toFixed(1)} kW`,numeric:L.pv_kw*1e3,unit:"W"}),L.load_kw!==void 0&&(oe.load_power={value:`${L.load_kw.toFixed(1)} kW`,numeric:L.load_kw*1e3,unit:"W"}),L.grid_import_kw!==void 0&&(oe.grid_import={value:`${L.grid_import_kw.toFixed(2)} kW`,numeric:L.grid_import_kw*1e3,unit:"W"}),L.grid_export_kw!==void 0&&(oe.grid_export={value:`${L.grid_export_kw.toFixed(2)} kW`,numeric:L.grid_export_kw*1e3,unit:"W"}),L.work_mode&&(oe.work_mode={value:L.work_mode}),oe}),m(se=>{const Ce=[...se.labels,""],pt=[...se.soc,L.soc??se.soc[se.soc.length-1]??0],it=[...se.pv,L.pv_kw??se.pv[se.pv.length-1]??0],ns=[...se.load,L.load_kw??se.load[se.load.length-1]??0],Ss=[...se.import,L.grid_import_kw??se.import[se.import.length-1]??0],us=[...se.export,L.grid_export_kw??se.export[se.export.length-1]??0];return Ce.length>20&&(Ce.shift(),pt.shift(),it.shift(),ns.shift(),Ss.shift(),us.shift()),{labels:Ce,soc:pt,pv:it,load:ns,import:Ss,export:us}})}),So("executor_status",L=>{e(L)}),N.useEffect(()=>{x(!0),fe();const L=setInterval(fe,3e4);return()=>clearInterval(L)},[fe]),N.useEffect(()=>{(async()=>{try{const se=await hn.live();d(se)}catch{}})()},[]),N.useEffect(()=>{(async()=>{try{const se=await hn.notifications.get();O(se)}catch{}})()},[]);const _e=async(L,se)=>{if(C){E(!0);try{await hn.notifications.update({[L]:se}),O(oe=>oe?{...oe,[L]:se}:null)}catch(oe){T(oe.message)}finally{E(!1)}}},F=async L=>{v(!0);try{await hn.toggle({enabled:L}),await fe()}catch(se){T(se.message)}finally{v(!1)}},G=async()=>{U(!0),Z(null);try{const L=await hn.notifications.test();Z({success:!0,message:L.message||"Test sent!"})}catch(L){Z({success:!1,message:L.message})}finally{U(!1)}},ae=async L=>{v(!0);try{await hn.toggle({shadow_mode:L}),await fe()}catch(se){T(se.message)}finally{v(!1)}},ie=async()=>{S(!0);try{await hn.run(),await fe()}catch(L){T(L.message)}finally{S(!1)}},de=L=>{if(!L)return"";try{return new Date(L).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"})}catch{return L}},D=L=>{if(!L)return"";try{return new Date(L).toLocaleString("sv-SE",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return L}},H=t?.enabled?t?.shadow_mode?"from-amber-900/60 via-surface to-surface":"from-emerald-900/60 via-surface to-surface":"from-slate-800/60 via-surface to-surface",te=t?.enabled?t?.shadow_mode?"bg-amber-400/90":"bg-emerald-400/90":"bg-slate-500/90";return g?u.jsx("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:u.jsxs("div",{className:"animate-pulse space-y-4",children:[u.jsx("div",{className:"h-10 bg-surface2 rounded w-48"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsx("div",{className:"h-64 bg-surface2 rounded"}),u.jsx("div",{className:"h-64 bg-surface2 rounded lg:col-span-2"})]})]})}):u.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[u.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Executor Control Center",u.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[10px] uppercase tracking-wider ${t?.enabled?t?.shadow_mode?"bg-amber-500/20 border-amber-500/50 text-amber-300":"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":"bg-slate-500/20 border-slate-500/50 text-slate-400"}`,children:t?.enabled?t?.shadow_mode?"Shadow":"Active":"Disabled"})]}),u.jsx("p",{className:"text-[11px] text-muted",children:"Native execution engine  controls inverter and water heater based on the schedule."})]})}),j&&u.jsxs("div",{className:"rounded-xl p-3 bg-red-500/10 border border-red-500/30 flex items-center gap-3",children:[u.jsx(oc,{className:"h-4 w-4 text-red-400"}),u.jsx("span",{className:"text-red-300 text-[11px] flex-1",children:j}),u.jsx("button",{onClick:()=>T(null),className:"text-red-400 hover:text-red-300 text-lg",children:""})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[u.jsxs(Ee,{className:`lg:col-span-5 p-4 md:p-5 bg-gradient-to-br ${H} relative overflow-hidden`,children:[u.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[u.jsxs("div",{className:"relative flex items-center justify-center shrink-0",children:[u.jsx("div",{className:`absolute h-14 w-14 rounded-full ${te} opacity-30 animate-pulse`}),u.jsx("div",{className:"relative flex items-center justify-center w-12 h-12 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:u.jsx(ng,{className:"h-6 w-6 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),u.jsx("div",{className:"text-lg font-medium text-text",children:t?.enabled?t?.shadow_mode?"Shadow Mode":"Executing":"Standby"}),u.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2 mt-1",children:[u.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${t?.last_run_status==="success"?"bg-emerald-400":t?.last_run_status==="error"?"bg-red-400":"bg-slate-400"}`}),t?.last_run_status==="success"?"Last run successful":t?.last_run_status==="error"?"Last run failed":"No runs yet"]})]})]}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10 grid grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Last Run"}),u.jsx("div",{className:"text-sm font-mono text-text",children:de(t?.last_run_at)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Next Run"}),u.jsx("div",{className:"text-sm font-mono text-text",children:de(t?.next_run_at)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Version"}),u.jsx("div",{className:"text-sm font-mono text-text",children:t?.version||""})]})]}),t?.override_active&&u.jsx("div",{className:"mt-3 p-2 rounded-lg bg-amber-500/20 border border-amber-500/30",children:u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-amber-300",children:[u.jsx(oc,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"font-medium",children:"Override Active:"}),u.jsx("span",{children:t.override_type})]})})]}),u.jsxs(Ee,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ag,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),u.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Executor Enabled"}),u.jsx("span",{className:"text-[9px] text-muted",children:"Execute actions on Home Assistant"})]}),u.jsx(Kp,{enabled:t?.enabled??!1,onChange:F,disabled:b,size:"sm"})]}),u.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"text-[11px] font-medium text-text flex items-center gap-1.5",children:["Shadow Mode",u.jsx(ID,{className:"h-3 w-3 text-muted"})]}),u.jsx("span",{className:"text-[9px] text-muted",children:"Log only, don't execute actions"})]}),u.jsx(Kp,{enabled:t?.shadow_mode??!1,onChange:ae,disabled:b,size:"sm"})]}),u.jsxs("button",{onClick:()=>A(!0),className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2 hover:bg-surface2 transition-colors w-full",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(up,{className:"h-4 w-4 text-muted"}),u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Notifications"})]}),C&&Object.entries(C).some(([L,se])=>L.startsWith("on_")&&se===!0)&&u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute inset-0 rounded-full bg-accent/50 blur-sm animate-pulse"}),u.jsx("span",{className:"relative h-2.5 w-2.5 rounded-full bg-accent block ring-2 ring-accent/30"})]})]}),u.jsx("div",{className:"mt-auto pt-4",children:u.jsx("button",{onClick:ie,disabled:w,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-surface hover:bg-surface2 border border-line/50 text-[11px] font-medium transition-all ${w?"opacity-70 cursor-not-allowed text-muted":"text-text hover:border-accent/50"}`,children:w?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-3.5 w-3.5 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),u.jsx("span",{children:"Running..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(fS,{className:"h-3.5 w-3.5 text-accent"}),u.jsx("span",{children:"Run Now"})]})})})]}),u.jsxs(Ee,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(qd,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"7-Day Stats"})]}),s&&u.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[u.jsxs("div",{className:"p-3 rounded-lg bg-surface2/30 border border-line/30",children:[u.jsx("div",{className:"text-xl font-bold text-text",children:s.total_executions}),u.jsx("div",{className:"text-[10px] text-muted",children:"Total Runs"})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[u.jsxs("div",{className:"text-xl font-bold text-emerald-400",children:[s.success_rate,"%"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Success Rate"})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[u.jsx("div",{className:"text-xl font-bold text-amber-400",children:s.override_count}),u.jsx("div",{className:"text-[10px] text-muted",children:"Overrides"})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[u.jsx("div",{className:"text-xl font-bold text-red-400",children:s.failed}),u.jsx("div",{className:"text-[10px] text-muted",children:"Failed"})]})]})]}),u.jsxs(Ee,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Oi,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Quick Actions"})]}),t?.quick_action&&u.jsx("div",{className:"mb-3 p-3 rounded-lg bg-accent/10 border border-accent/30",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-[11px] font-medium text-accent capitalize",children:[t.quick_action.type.replace("_"," ")," Active"]}),u.jsxs("div",{className:"text-[10px] text-muted",children:[t.quick_action.remaining_minutes.toFixed(0)," min remaining"]})]}),u.jsx("button",{onClick:async()=>{try{await hn.quickAction.clear(),fe()}catch(L){console.error(L)}},className:"text-[10px] px-2 py-1 rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",children:"Cancel"})]})}),u.jsx("div",{className:"space-y-2 flex-1",children:[{type:"force_charge",label:"Force Charge",icon:tg,labelClass:"text-emerald-400",btnClass:"bg-emerald-500/10 border-emerald-500/20 text-emerald-400 hover:bg-emerald-500/20"},{type:"force_export",label:"Force Export",icon:og,labelClass:"text-amber-400",btnClass:"bg-amber-500/10 border-amber-500/20 text-amber-400 hover:bg-amber-500/20"},{type:"force_heat",label:"Force Heat",icon:Jg,labelClass:"text-orange-400",btnClass:"bg-orange-500/10 border-orange-500/20 text-orange-400 hover:bg-orange-500/20"},{type:"force_stop",label:"Stop All",icon:ZD,labelClass:"text-red-400",btnClass:"bg-red-500/10 border-red-500/20 text-red-400 hover:bg-red-500/20"}].map(L=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:`text-[11px] ${L.labelClass} w-20 font-medium flex items-center gap-1`,children:[u.jsx(L.icon,{className:"h-3 w-3"}),L.label]}),u.jsx("div",{className:"flex gap-1 flex-1",children:[15,30,60].map(se=>u.jsxs("button",{onClick:async()=>{try{await hn.quickAction.set(L.type,se),fe()}catch(oe){alert("Failed: "+oe.message)}},disabled:t?.quick_action?.type===L.type,className:`flex-1 px-2 py-1.5 text-[10px] rounded-lg border transition-all ${t?.quick_action?.type===L.type?"bg-accent/20 border-accent/40 text-accent":L.btnClass}`,children:[se,"m"]},se))})]},L.type))}),u.jsx("div",{className:"mt-3 text-[9px] text-muted/60 text-center",children:"Overrides schedule for selected duration"})]})]}),u.jsxs(Ee,{className:"p-4 md:p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bc,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Live System"}),u.jsx("span",{className:"text-[9px] text-muted/70",children:"(every 10s)"})]}),c?.work_mode&&u.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${c.work_mode.value.includes("Export")?"bg-emerald-500/20 border-emerald-500/30 text-emerald-300":"bg-blue-500/20 border-blue-500/30 text-blue-300"}`,children:c.work_mode.value})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[u.jsxs("div",{className:"metric-card-border metric-card-border-battery p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx(Xl,{data:f.soc,colorClass:"bg-good"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(lS,{className:`h-6 w-6 ${(c?.soc?.numeric??0)>50?"text-good":(c?.soc?.numeric??0)>20?"text-warn":"text-bad"}`}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-good",children:[c?.soc?.numeric?.toFixed(0)??"","%"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Battery SoC"})]})]})]}),u.jsxs("div",{className:"metric-card-border metric-card-border-solar p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx(Xl,{data:f.pv,colorClass:"bg-accent"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(tx,{className:`h-6 w-6 ${(c?.pv_power?.numeric??0)>500?"text-accent":"text-accent/40"}`}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-accent",children:[c?.pv_power?.numeric?(c.pv_power.numeric/1e3).toFixed(1):""," kW"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"PV Power"})]})]})]}),u.jsxs("div",{className:"metric-card-border metric-card-border-house p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx(Xl,{data:f.load,colorClass:"bg-house"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(KD,{className:"h-6 w-6 text-house"}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-house",children:[c?.load_power?.numeric?(c.load_power.numeric/1e3).toFixed(1):""," kW"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Load"})]})]})]}),u.jsxs("div",{className:"metric-card-border metric-card-border-grid p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx(Xl,{data:f.import,colorClass:(c?.grid_import?.numeric??0)>100?"bg-bad":"bg-grid"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(Zg,{className:`h-6 w-6 ${(c?.grid_import?.numeric??0)>100?"text-bad":"text-grid"}`}),u.jsxs("div",{children:[u.jsxs("div",{className:`text-lg font-bold ${(c?.grid_import?.numeric??0)>100?"text-bad":"text-text"}`,children:[c?.grid_import?.numeric?(c.grid_import.numeric/1e3).toFixed(2):""," kW"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Grid Import"})]})]})]}),u.jsxs("div",{className:"metric-card-border metric-card-border-bad p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx(Xl,{data:f.export,colorClass:"bg-bad"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(Qg,{className:"h-6 w-6 text-bad"}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-bad",children:[c?.grid_export?.numeric?(c.grid_export.numeric/1e3).toFixed(2):""," kW"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Grid Export"})]})]})]})]})]}),u.jsxs(Ee,{className:"p-4 md:p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qD,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Execution History"}),u.jsxs("span",{className:"text-[10px] text-muted",children:["(",a.length," records)"]})]}),u.jsxs("button",{onClick:fe,className:"flex items-center gap-1.5 text-[10px] text-muted hover:text-accent transition px-2 py-1 rounded-lg hover:bg-surface2",children:[u.jsx(mS,{className:"h-3 w-3"}),"Refresh"]})]}),a.length===0?u.jsxs("div",{className:"text-center py-12 text-muted",children:[u.jsx(W1,{className:"h-10 w-10 mx-auto opacity-20 mb-3"}),u.jsx("p",{className:"text-[11px]",children:"No execution history yet."}),u.jsx("p",{className:"text-[10px] mt-1 text-muted/70",children:"Run the executor to see results here."})]}):u.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[t?.next_run_at&&u.jsxs("div",{className:"p-3 rounded-xl border-2 border-dashed border-line/30 bg-surface2/10 opacity-70",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(W1,{className:"h-4 w-4 text-muted animate-pulse"}),u.jsxs("span",{className:"text-[11px] text-muted font-mono",children:["Next: ",de(t.next_run_at)]})]}),u.jsx("span",{className:"text-[9px] text-muted/70 bg-surface2/50 px-2 py-0.5 rounded-full",children:"Scheduled"})]}),t.current_slot_plan&&u.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 text-[10px]",children:[t.current_slot_plan.charge_kw>0&&u.jsxs("div",{className:"flex items-center gap-1 text-emerald-400",children:[u.jsx(tg,{className:"h-3 w-3"}),u.jsxs("span",{children:[t.current_slot_plan.charge_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.export_kw>0&&u.jsxs("div",{className:"flex items-center gap-1 text-amber-400",children:[u.jsx(og,{className:"h-3 w-3"}),u.jsxs("span",{children:[t.current_slot_plan.export_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.water_kw>0&&u.jsxs("div",{className:"flex items-center gap-1 text-sky-400",children:[u.jsx(hS,{className:"h-3 w-3"}),u.jsxs("span",{children:[t.current_slot_plan.water_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.soc_target>0&&u.jsx("div",{className:"flex items-center gap-1 text-muted",children:u.jsxs("span",{children:["SoC",t.current_slot_plan.soc_target,"%"]})}),!t.current_slot_plan.charge_kw&&!t.current_slot_plan.export_kw&&!t.current_slot_plan.water_kw&&u.jsx("div",{className:"text-muted/60 col-span-4",children:"Idle / Self-consumption"})]})]}),a.map(L=>{const se=re===L.id;return u.jsxs("div",{className:`rounded-xl border transition-all ${L.success?"bg-surface2/30 border-line/40 hover:border-line/60":"bg-red-500/10 border-red-500/30 hover:border-red-500/50"}`,children:[u.jsxs("div",{className:"p-3 cursor-pointer flex items-center justify-between",onClick:()=>Se(se?null:L.id),children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vh,{className:`h-3 w-3 text-muted transition-transform ${se?"rotate-180":""}`}),L.success?u.jsx(uS,{className:"h-4 w-4 text-emerald-400"}):u.jsx(oc,{className:"h-4 w-4 text-red-400"}),u.jsx("span",{className:"text-[11px] text-text font-mono",children:D(L.executed_at)}),L.commanded_charge_current_a&&L.commanded_charge_current_a>0&&u.jsx("span",{className:"text-[9px] text-emerald-400 bg-emerald-500/20 px-1.5 py-0.5 rounded",children:" Charge"}),L.commanded_work_mode==="Export First"&&u.jsx("span",{className:"text-[9px] text-amber-400 bg-amber-500/20 px-1.5 py-0.5 rounded",children:" Export"}),L.commanded_water_temp&&L.commanded_water_temp>50&&u.jsx("span",{className:"text-[9px] text-orange-400 bg-orange-500/20 px-1.5 py-0.5 rounded",children:" Heat"}),(!L.commanded_charge_current_a||L.commanded_charge_current_a===0)&&L.commanded_work_mode!=="Export First"&&(!L.commanded_water_temp||L.commanded_water_temp<=50)&&u.jsx("span",{className:"text-[9px] text-muted/60 bg-surface2/50 px-1.5 py-0.5 rounded",children:" Idle"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[L.override_active?u.jsx("span",{className:"text-[9px] text-amber-400 bg-amber-500/20 px-2 py-0.5 rounded-full border border-amber-500/30",children:L.override_type}):null,L.duration_ms&&u.jsxs("span",{className:"text-[9px] text-muted font-mono",children:[L.duration_ms,"ms"]})]})]}),se&&u.jsxs("div",{className:"px-3 pb-3 border-t border-line/20",children:[u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Planned (from Schedule)"}),u.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Charge"}),u.jsxs("span",{className:L.planned_charge_kw?"text-emerald-400":"text-muted/40",children:[L.planned_charge_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Export"}),u.jsxs("span",{className:L.planned_export_kw?"text-amber-400":"text-muted/40",children:[L.planned_export_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Water"}),u.jsxs("span",{className:L.planned_water_kw?"text-orange-400":"text-muted/40",children:[L.planned_water_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"SoC Target"}),u.jsxs("span",{className:"text-text",children:[L.planned_soc_target??"","%"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"SoC Projected"}),u.jsxs("span",{className:"text-text",children:[L.planned_soc_projected??"","%"]})]})]})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Commanded (What We Set)"}),u.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Work Mode"}),u.jsx("span",{className:"text-text font-medium",children:L.commanded_work_mode??""})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Grid Charging"}),u.jsx("span",{className:L.commanded_grid_charging?"text-emerald-400":"text-muted/40",children:L.commanded_grid_charging?"ON":"OFF"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Charge I"}),u.jsxs("span",{className:L.commanded_charge_current_a?"text-emerald-400":"text-muted/40",children:[L.commanded_charge_current_a??""," A"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Discharge I"}),u.jsxs("span",{className:L.commanded_discharge_current_a?"text-amber-400":"text-muted/40",children:[L.commanded_discharge_current_a??""," A"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"SoC Target"}),u.jsxs("span",{className:"text-text",children:[L.commanded_soc_target??"","%"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Water Temp"}),u.jsxs("span",{className:L.commanded_water_temp&&L.commanded_water_temp>50?"text-orange-400":"text-muted/40",children:[L.commanded_water_temp??"","C"]})]})]})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"State Before Execution"}),u.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2 text-[10px]",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"SoC"}),u.jsxs("span",{className:"text-text",children:[L.before_soc_percent?.toFixed(0)??"","%"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Work Mode"}),u.jsx("span",{className:"text-text",children:L.before_work_mode??""})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"PV Power"}),u.jsxs("span",{className:"text-yellow-400",children:[L.before_pv_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Load"}),u.jsxs("span",{className:"text-sky-400",children:[L.before_load_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Water Temp"}),u.jsxs("span",{className:"text-text",children:[L.before_water_temp??"","C"]})]})]})]}),L.error_message&&u.jsx("div",{className:"mt-2 text-[10px] text-red-400 bg-red-500/10 rounded-lg p-2",children:L.error_message}),L.override_reason&&u.jsxs("div",{className:"mt-2 text-[10px] text-amber-300/80 bg-amber-500/10 rounded-lg p-2",children:["Override: ",L.override_reason]})]})]},L.id)})]})]}),k&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>A(!1),children:u.jsxs("div",{className:"bg-surface border border-line rounded-2xl p-5 w-full max-w-md shadow-2xl",onClick:L=>L.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(up,{className:"h-5 w-5 text-accent"}),u.jsx("span",{className:"text-sm font-medium text-text",children:"Notification Settings"})]}),u.jsx("button",{onClick:()=>A(!1),className:"text-muted hover:text-text transition p-1",children:u.jsx(Bo,{className:"h-5 w-5"})})]}),C&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"p-2 rounded-lg bg-surface2/30 border border-line/30 mb-3",children:[u.jsx("div",{className:"text-[10px] text-muted mb-1",children:"HA Notify Service"}),u.jsx("div",{className:"text-[11px] text-text font-mono",children:C.service||"Not configured"})]}),[{key:"on_charge_start",label:"Charge Started",desc:"When grid charging begins"},{key:"on_charge_stop",label:"Charge Stopped",desc:"When grid charging ends"},{key:"on_export_start",label:"Export Started",desc:"When battery export begins"},{key:"on_export_stop",label:"Export Stopped",desc:"When battery export ends"},{key:"on_water_heat_start",label:"Water Heating Started",desc:"When water heater activates"},{key:"on_water_heat_stop",label:"Water Heating Stopped",desc:"When water heater deactivates"},{key:"on_soc_target_change",label:"SoC Target Changed",desc:"When battery target changes"},{key:"on_override_activated",label:"Override Activated",desc:"When emergency override triggers"},{key:"on_error",label:"Errors",desc:"When execution fails"}].map(L=>u.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:L.label}),u.jsx("span",{className:"text-[9px] text-muted",children:L.desc})]}),u.jsx(Kp,{enabled:C[L.key],onChange:se=>_e(L.key,se),disabled:R,size:"sm"})]},L.key))]}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30",children:[u.jsx("button",{onClick:G,disabled:z,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border text-[11px] font-medium transition-all ${z?"bg-surface2/50 border-line/30 text-muted cursor-not-allowed":"bg-accent/10 border-accent/30 text-accent hover:bg-accent/20"}`,children:z?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),"Sending..."]}):u.jsxs(u.Fragment,{children:[u.jsx(up,{className:"h-3.5 w-3.5"}),"Send Test Notification"]})}),K&&u.jsx("div",{className:`mt-2 text-center text-[10px] ${K.success?"text-emerald-400":"text-red-400"}`,children:K.message}),u.jsx("div",{className:"mt-2 text-center text-[9px] text-muted/70",children:"Changes are saved automatically"})]})]})})]})}function Kl({variant:t="info",children:e,className:s=""}){return u.jsx("div",{className:`banner banner-${t} ${s}`,children:e})}function Zl({variant:t="muted",children:e,className:s=""}){return u.jsx("span",{className:`badge badge-${t} ${s}`,children:e})}function D7(){const{toast:t}=mk(),[e,s]=N.useState(!1),[n,a]=N.useState(65),[o,c]=N.useState(!1),[d,f]=N.useState(!1),[m,g]=N.useState("");return u.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-10 space-y-12",children:[u.jsxs("header",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold text-text",children:"Darkstar Design System"}),u.jsx("p",{className:"text-muted text-lg mt-2",children:"Visual reference & component showcase"})]}),u.jsx(xS,{})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Color Palette"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{name:"Accent",var:"--color-accent",hex:"#FFCE59"},{name:"Good",var:"--color-good",hex:"#1FB256"},{name:"Warn",var:"--color-warn",hex:"#F59E0B"},{name:"Bad",var:"--color-bad",hex:"#F15132"},{name:"Water",var:"--color-water",hex:"#4EA8DE"},{name:"House",var:"--color-house",hex:"#A855F7"},{name:"Peak",var:"--color-peak",hex:"#EC4899"},{name:"Night",var:"--color-night",hex:"#06B6D4"},{name:"Grid",var:"--color-grid",hex:"#64748B"},{name:"Neutral",var:"--color-neutral",hex:"#989FA5"},{name:"AI",var:"--color-ai",hex:"#8B5CF6"}].map(x=>u.jsxs("div",{className:"rounded-ds-md overflow-hidden shadow-float bg-surface",children:[u.jsx("div",{className:"h-16",style:{backgroundColor:`rgb(var(${x.var}))`}}),u.jsxs("div",{className:"p-2",children:[u.jsx("div",{className:"text-sm font-medium text-text",children:x.name}),u.jsx("div",{className:"text-xs text-muted font-mono",children:x.hex})]})]},x.name))}),u.jsx("h3",{className:"text-lg font-medium text-text mt-6 mb-3",children:"Surface Colors"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{name:"Canvas",var:"--color-canvas"},{name:"Surface",var:"--color-surface"},{name:"Surface2",var:"--color-surface2"},{name:"Line",var:"--color-line"}].map(x=>u.jsx("div",{className:"h-20 rounded-ds-md border border-line flex items-center justify-center",style:{backgroundColor:`rgb(var(${x.var}))`},children:u.jsx("span",{className:"text-sm font-medium text-text",children:x.name})},x.name))})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Typography"}),u.jsxs("div",{className:"space-y-3 bg-surface p-6 rounded-ds-lg",children:[u.jsx("div",{className:"text-4xl",children:"text-4xl (28px)  Page Titles"}),u.jsx("div",{className:"text-3xl",children:"text-3xl (24px)  Section Headers"}),u.jsx("div",{className:"text-2xl",children:"text-2xl (18px)  Subsections"}),u.jsx("div",{className:"text-xl",children:"text-xl (16px)  Large Body"}),u.jsx("div",{className:"text-lg",children:"text-lg (14px)  Body Text"}),u.jsx("div",{className:"text-md",children:"text-md (13px)  Secondary"}),u.jsx("div",{className:"text-base",children:"text-base (12px)  Small Body"}),u.jsx("div",{className:"text-sm",children:"text-sm (11px)  Labels"}),u.jsx("div",{className:"text-xs",children:"text-xs (10px)  Micro"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Buttons"}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[u.jsx("button",{className:"btn btn-primary",children:"Primary"}),u.jsx("button",{className:"btn btn-secondary",children:"Secondary"}),u.jsx("button",{className:"btn btn-danger",children:"Danger"}),u.jsx("button",{className:"btn btn-ghost",children:"Ghost"}),u.jsx("button",{className:"btn btn-primary btn-pill",children:"Pill Primary"}),u.jsx("button",{className:"btn btn-ghost btn-pill",children:"Pill Ghost"})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center mt-4",children:[u.jsx("button",{className:"btn btn-primary",disabled:!0,children:"Disabled Primary"}),u.jsx("button",{className:"btn btn-secondary",disabled:!0,children:"Disabled Secondary"}),u.jsx("button",{className:"btn btn-ghost",disabled:!0,children:"Disabled Ghost"})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("p",{className:"text-sm text-muted mb-2",children:"Dynamic color (using CSS custom property):"}),u.jsx("button",{className:"btn btn-pill btn-dynamic",style:{"--btn-bg":"rgb(var(--color-water))","--btn-text":"#fff"},children:"Custom Water Color"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Banners / Alerts"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Kl,{variant:"info",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Info Banner  Neutral information message"})]}),u.jsxs(Kl,{variant:"success",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Success Banner  Action completed successfully"})]}),u.jsxs(Kl,{variant:"warning",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Warning Banner  Requires attention"})]}),u.jsxs(Kl,{variant:"error",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Error Banner  Critical issue detected"})]}),u.jsxs(Kl,{variant:"purple",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Purple Banner  Special mode (shadow mode)"})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Badges"}),u.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[u.jsx(Zl,{variant:"accent",children:"Accent"}),u.jsx(Zl,{variant:"good",children:"Good"}),u.jsx(Zl,{variant:"warn",children:"Warning"}),u.jsx(Zl,{variant:"bad",children:"Error"}),u.jsx(Zl,{variant:"muted",children:"Muted"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Form Elements"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-muted mb-2",children:"Text Input"}),u.jsx("input",{type:"text",className:"input",placeholder:"Enter value..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-muted mb-2",children:"Number Input"}),u.jsx("input",{type:"number",className:"input",placeholder:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-muted mb-2",children:"Toggle Switch"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(rc,{checked:e,onCheckedChange:s}),u.jsx("span",{className:"text-sm text-text",children:e?"On":"Off"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Loading States"}),u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-muted mb-2",children:"Spinner"}),u.jsx("div",{className:"spinner"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm text-muted mb-2",children:"Skeleton"}),u.jsx("div",{className:"skeleton h-8 w-full"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-sm text-muted mb-2",children:["Progress Bar (",n,"%)"]}),u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-bar-fill",style:{width:`${n}%`}})}),u.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:x=>a(Number(x.target.value)),className:"slider mt-2"})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Data Visualization"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[u.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Solar)"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"mini-bars",children:[40,55,75,90,100,85,70,45].map((x,b)=>u.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-accent))"}},b))}),u.jsx("span",{className:"font-mono font-bold text-accent",children:"4.2kW"})]})]}),u.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[u.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Battery)"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"mini-bars",children:[60,65,70,75,80,82,85,85].map((x,b)=>u.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-good))"}},b))}),u.jsx("span",{className:"font-mono font-bold text-good",children:"85%"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Chart.js  Live Example"}),u.jsx("p",{className:"text-muted text-sm mb-4",children:"This is the actual ChartCard component used throughout Darkstar."}),u.jsx("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:u.jsx(wj,{day:"today",showDayToggle:!1})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Power Flow Visualization"}),u.jsx("p",{className:"text-muted text-sm mb-4",children:"Animated energy flow between sources and loads (inspired by power-flow-card-plus)."}),u.jsx("div",{className:"bg-surface rounded-ds-lg p-8 shadow-float",children:u.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full max-w-lg mx-auto",children:[u.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-accent))",strokeWidth:3,fill:"none"},children:u.jsx("path",{d:"M100,50 L200,150"})}),u.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-good))",strokeWidth:3,fill:"none",animationDelay:"0.25s"},children:u.jsx("path",{d:"M200,150 L200,250"})}),u.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-house))",strokeWidth:3,fill:"none",animationDelay:"0.5s"},children:u.jsx("path",{d:"M200,150 L300,150"})}),u.jsx("g",{style:{stroke:"rgb(var(--color-grid))",strokeWidth:3,fill:"none",strokeDasharray:"5 5"},children:u.jsx("path",{d:"M100,250 L200,150"})}),u.jsxs("g",{transform:"translate(100, 50)",children:[u.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-accent))",strokeWidth:"3",className:"animate-glow"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-accent))",fontSize:"24",children:""}),u.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"4.2 kW"}),u.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Solar"})]}),u.jsxs("g",{transform:"translate(200, 150)",children:[u.jsx("circle",{r:"40",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-house))",strokeWidth:"3"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-house))",fontSize:"24",children:""}),u.jsx("text",{y:"-50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"3.1 kW"})]}),u.jsxs("g",{transform:"translate(200, 250)",children:[u.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-good))",strokeWidth:"3"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-good))",fontSize:"24",children:""}),u.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"85%"}),u.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"+0.6 kW"})]}),u.jsxs("g",{transform:"translate(100, 250)",children:[u.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-grid))",strokeWidth:"3"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-grid))",fontSize:"24",children:""}),u.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0 W"}),u.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Grid"})]}),u.jsxs("g",{transform:"translate(300, 150)",children:[u.jsx("circle",{r:"30",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-water))",strokeWidth:"3"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-water))",fontSize:"20",children:""}),u.jsx("text",{y:"50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0.5 kW"}),u.jsx("text",{y:"65",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Water"})]})]})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Animation Examples"}),u.jsx("p",{className:"text-muted text-sm mb-4",children:"CSS animations available in the design system."}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-pulse"}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Pulse"}),u.jsx("code",{className:"text-xs text-muted",children:".animate-pulse"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-good animate-bounce"}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Bounce"}),u.jsx("code",{className:"text-xs text-muted",children:".animate-bounce"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-glow"}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Glow"}),u.jsx("code",{className:"text-xs text-muted",children:".animate-glow"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("div",{className:"spinner mx-auto mb-3",style:{width:"3rem",height:"3rem",borderWidth:"4px"}}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Spinner"}),u.jsx("code",{className:"text-xs text-muted",children:".spinner"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Skeleton Loading"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"skeleton h-4 w-3/4"}),u.jsx("div",{className:"skeleton h-4 w-1/2"}),u.jsx("div",{className:"skeleton h-4 w-full"})]}),u.jsx("code",{className:"text-xs text-muted mt-2 block",children:".skeleton"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Mini Bar Animation"}),u.jsx("div",{className:"mini-bars",children:[40,60,80,100,80,60,40,20].map((x,b)=>u.jsx("div",{className:"mini-bar animate-pulse",style:{height:`${x}%`,background:"rgb(var(--color-accent))",animationDelay:`${b*.1}s`}},b))}),u.jsx("code",{className:"text-xs text-muted mt-2 block",children:".mini-bars"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("button",{className:"btn btn-primary animate-glow mb-2",children:"Glowing Button"}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Button Glow"}),u.jsx("code",{className:"text-xs text-muted",children:".btn + .animate-glow"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Animated Progress"}),u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-bar-fill",style:{width:"75%",animation:"skeleton-shimmer 1.5s infinite",background:"linear-gradient(90deg, rgb(var(--color-accent)), rgb(var(--color-accent2)), rgb(var(--color-accent)))",backgroundSize:"200% 100%"}})}),u.jsx("code",{className:"text-xs text-muted mt-2 block",children:".progress-bar"})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Metric Cards"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{border:"solar",label:"Solar",value:"4.2 kW",sub:"+12% today"},{border:"battery",label:"Battery",value:"78%",sub:"Target: 85%"},{border:"house",label:"House Load",value:"1.8 kW",sub:"Avg: 2.1 kW"},{border:"water",label:"Water",value:"2.4 kWh",sub:"Today"},{border:"grid",label:"Grid",value:"-0.5 kW",sub:"Exporting"},{border:"bad",label:"Error",value:"3",sub:"Issues detected"}].map(x=>u.jsxs("div",{className:`metric-card-border metric-card-border-${x.border} bg-surface p-4`,children:[u.jsx("div",{className:"text-xs text-muted uppercase tracking-wider",children:x.label}),u.jsx("div",{className:"text-2xl font-bold text-text mt-1",children:x.value}),u.jsx("div",{className:"text-xs text-muted mt-1",children:x.sub})]},x.border))})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Border Radius"}),u.jsx("div",{className:"flex gap-4 items-end",children:[{name:"sm",size:"8px"},{name:"md",size:"12px"},{name:"lg",size:"16px"},{name:"xl",size:"20px"},{name:"pill",size:"9999px"}].map(x=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`w-16 h-16 bg-accent rounded-ds-${x.name}`}),u.jsx("div",{className:"text-xs text-muted mt-2",children:x.name}),u.jsx("div",{className:"text-xs text-muted",children:x.size})]},x.name))})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Spacing Scale (4px grid)"}),u.jsx("div",{className:"flex gap-4 items-end flex-wrap",children:[1,2,3,4,5,6,8,10,12].map(x=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-accent",style:{width:`var(--space-${x})`,height:`var(--space-${x})`,minWidth:"4px",minHeight:"4px"}}),u.jsxs("div",{className:"text-xs text-muted mt-2",children:["ds-",x]})]},x))})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Dark / Light Mode Comparison"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#0f1216"},children:[u.jsx("div",{className:"px-4 py-3",style:{background:"#14191f"},children:u.jsx("span",{className:"text-sm font-semibold",style:{color:"#e6e9ef"},children:" Dark Mode  Glow Buttons"})}),u.jsxs("div",{className:"p-4 space-y-2",style:{background:"#14191f"},children:[u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[u.jsx("span",{style:{color:"#FFCE59"},children:" Solar"}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#FFCE59"},children:"4.2kW"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[u.jsx("span",{style:{color:"#1FB256"},children:" Battery"}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#1FB256"},children:"85%"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[u.jsx("span",{style:{color:"#A855F7"},children:" House"}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"1.8kW"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[u.jsx("span",{style:{color:"#4EA8DE"},children:" Water"}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"58C"})]}),u.jsxs("div",{className:"flex gap-2 pt-3",children:[u.jsx("button",{style:{background:"#FFCE59",color:"#1a1d23",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 16px rgba(255, 206, 89, 0.4), 0 0 32px rgba(255, 206, 89, 0.2)"},children:" Boost"}),u.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 12px rgba(152, 159, 165, 0.3)"},children:" Vacation"})]})]})]}),u.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#DFDFDF"},children:[u.jsx("div",{className:"px-4 py-3",style:{background:"#EFEFEF"},children:u.jsx("span",{className:"text-sm font-semibold",style:{color:"#2D2D2D"},children:" Light Mode  Flat Buttons (TE Style)"})}),u.jsxs("div",{className:"p-4 space-y-2",style:{background:"#EFEFEF"},children:[u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[u.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",u.jsx("b",{style:{color:"#b38b00"},children:"Solar"})]}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"4.2kW"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[u.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",u.jsx("b",{style:{color:"#1FB256"},children:"Battery"})]}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"85%"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[u.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",u.jsx("b",{style:{color:"#A855F7"},children:"House"})]}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"1.8kW"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[u.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",u.jsx("b",{style:{color:"#4EA8DE"},children:"Water"})]}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"58C"})]}),u.jsxs("div",{className:"flex gap-2 pt-3",children:[u.jsx("button",{style:{background:"#FFCE59",color:"#2D2D2D",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Boost"}),u.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Vacation"})]})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Future Components (Inspiration)"}),u.jsx("p",{className:"text-muted text-sm mb-6",children:"These components are not yet implemented but can be added as needed."}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Card"}),u.jsx("p",{className:"text-xs text-muted",children:"Container with shadow, padding, and rounded corners for grouping content."}),u.jsx("div",{className:"mt-3 p-3 bg-surface2 rounded-ds-md",children:u.jsx("div",{className:"text-xs text-text",children:"Card content goes here..."})})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Select (Dropdown)"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Custom searchable dropdown."}),u.jsx(Fg,{options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Delete",value:"3",group:"Danger"}],value:"1",onChange:()=>{}})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tabs"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation between views."}),u.jsxs("div",{className:"flex gap-1 bg-surface2 p-1 rounded-ds-md",children:[u.jsx("div",{className:"px-3 py-1.5 text-xs font-medium bg-accent text-black rounded",children:"Active"}),u.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 2"}),u.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 3"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Avatars"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"User profile images or initials."}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-xs font-bold text-black",children:"JD"}),u.jsx("div",{className:"w-8 h-8 rounded-full bg-water flex items-center justify-center text-xs font-bold text-white",children:"AB"}),u.jsx("div",{className:"w-8 h-8 rounded-full bg-house flex items-center justify-center text-xs font-bold text-white",children:"?"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tooltip"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Hover for more info."}),u.jsx("span",{className:"tooltip px-3 py-1.5 bg-surface2 rounded text-xs text-text cursor-help","data-tooltip":"This is a tooltip!",children:"Hover me"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Data Table"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Tabular data display."}),u.jsxs("div",{className:"text-xs",children:[u.jsxs("div",{className:"flex gap-2 py-1 border-b border-line text-muted font-medium",children:[u.jsx("span",{className:"flex-1",children:"Name"}),u.jsx("span",{className:"w-16 text-right",children:"Value"})]}),u.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[u.jsx("span",{className:"flex-1",children:"Solar"}),u.jsx("span",{className:"w-16 text-right text-accent",children:"4.2kW"})]}),u.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[u.jsx("span",{className:"flex-1",children:"Battery"}),u.jsx("span",{className:"w-16 text-right text-good",children:"85%"})]})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Gauge / Dial"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Circular progress indicator."}),u.jsxs("div",{className:"w-16 h-16 rounded-full border-4 border-surface2 relative",children:[u.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-accent border-r-accent",style:{transform:"rotate(45deg)"}}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-text",children:"75%"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Notification Badge"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Alert indicator on icons."}),u.jsxs("div",{className:"relative inline-block",children:[u.jsx("div",{className:"w-10 h-10 bg-surface2 rounded-lg flex items-center justify-center text-lg",children:""}),u.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-bad rounded-full flex items-center justify-center text-[10px] font-bold text-white",children:"3"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Stepper"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Multi-step progress."}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"1"}),u.jsx("div",{className:"flex-1 h-0.5 bg-accent"}),u.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"2"}),u.jsx("div",{className:"flex-1 h-0.5 bg-surface2"}),u.jsx("div",{className:"w-6 h-6 rounded-full bg-surface2 flex items-center justify-center text-[10px] font-bold text-muted",children:"3"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" More Future Components"}),u.jsx("p",{className:"text-muted text-sm mb-6",children:"Additional component patterns for future implementation."}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Modal / Dialog"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Overlay for confirmations & forms."}),u.jsx("button",{className:"btn btn-primary text-xs",onClick:()=>f(!0),children:"Open Modal"}),u.jsx(hk,{open:d,onOpenChange:f,title:"Example Modal",footer:u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn btn-ghost",onClick:()=>f(!1),children:"Cancel"}),u.jsx("button",{className:"btn btn-primary",onClick:()=>f(!1),children:"Confirm"})]}),children:u.jsx("p",{className:"text-text",children:"This is a reusable modal component using React Portal."})})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Accordion"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Expandable content sections."}),u.jsxs("div",{className:"bg-surface2 rounded-ds-md overflow-hidden",children:[u.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-text flex justify-between items-center cursor-pointer",onClick:()=>c(!o),children:[u.jsx("span",{children:"Click to expand"}),u.jsx("span",{children:o?"":"+"})]}),o&&u.jsx("div",{className:"px-3 py-2 text-xs text-muted border-t border-line",children:"Hidden content revealed!"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Search Input"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"With autocomplete dropdown."}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:"input pr-8",placeholder:"Search entities...",value:m,onChange:x=>g(x.target.value)}),u.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted",children:""})]}),m&&u.jsxs("div",{className:"mt-1 bg-surface2 rounded-ds-md p-1 shadow-lg",children:[u.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.solar_power"}),u.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.battery_soc"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Date Picker"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Calendar date selection."}),u.jsxs("div",{className:"bg-surface2 rounded-ds-md p-2 w-48",children:[u.jsx("div",{className:"text-xs font-medium text-text text-center mb-2",children:"December 2024"}),u.jsxs("div",{className:"grid grid-cols-7 gap-1 text-[10px] text-center",children:[["M","T","W","T","F","S","S"].map((x,b)=>u.jsx("div",{className:"text-muted",children:x},b)),[...Array(31)].map((x,b)=>u.jsx("div",{className:`py-1 rounded cursor-pointer ${b===30?"bg-accent text-black font-bold":"text-text hover:bg-accent/20"}`,children:b+1},b))]})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Toast Notification"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Temporary status messages."}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{className:"btn btn-secondary w-full text-xs",onClick:()=>t({variant:"success",message:"Success!",description:"Action completed successfully."}),children:"Trigger Success Toast"}),u.jsx("button",{className:"btn btn-ghost w-full text-xs border border-bad/50 text-bad hover:bg-bad/10",onClick:()=>t({variant:"error",message:"Error!",description:"Something went wrong."}),children:"Trigger Error Toast"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Breadcrumbs"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation path trail."}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Home"}),u.jsx("span",{className:"text-muted",children:"/"}),u.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Settings"}),u.jsx("span",{className:"text-muted",children:"/"}),u.jsx("span",{className:"text-text font-medium",children:"Entities"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float col-span-full lg:col-span-2",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Timeline / Activity Log"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Chronological event display."}),u.jsx("div",{className:"space-y-3",children:[{time:"14:32",event:"Battery charging started",color:"good"},{time:"14:15",event:"Solar production peaked at 4.2kW",color:"accent"},{time:"13:45",event:"Grid export enabled",color:"water"}].map((x,b)=>u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 bg-${x.color}`}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-mono text-muted",children:x.time}),u.jsx("div",{className:"text-xs text-text",children:x.event})]})]},b))})]})]})]}),d&&u.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:u.jsxs("div",{className:"modal",onClick:x=>x.stopPropagation(),children:[u.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Modal Title"}),u.jsx("p",{className:"text-sm text-muted mb-4",children:"This is a sample modal dialog. It uses the design system's modal classes."}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{className:"btn btn-ghost",onClick:()=>f(!1),children:"Cancel"}),u.jsx("button",{className:"btn btn-primary",onClick:()=>f(!1),children:"Confirm"})]})]})}),u.jsxs("footer",{className:"text-center text-muted text-sm pt-8 border-t border-line",children:[u.jsxs("p",{children:["SSOT: ",u.jsx("code",{className:"bg-surface2 px-2 py-1 rounded text-xs",children:"frontend/src/index.css"})]}),u.jsx("p",{className:"mt-2",children:"Toggle dark/light mode using the switch in the header."})]})]})}function C7({health:t,onDismiss:e}){if(!t||t.healthy)return null;const s=t.issues.filter(a=>a.severity==="critical"),n=t.issues.filter(a=>a.severity==="warning");return u.jsxs("div",{className:"system-alert-container",children:[s.length>0&&u.jsxs("div",{className:"system-alert system-alert--critical",children:[u.jsx("div",{className:"system-alert__icon",children:""}),u.jsxs("div",{className:"system-alert__content",children:[u.jsxs("div",{className:"system-alert__title",children:["System Error",s.length>1?"s":""," Detected"]}),u.jsx("ul",{className:"system-alert__list",children:s.map((a,o)=>u.jsxs("li",{className:"system-alert__item",children:[u.jsx("strong",{children:a.message}),a.entity_id&&u.jsx("code",{className:"system-alert__entity",children:a.entity_id}),u.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]}),e&&u.jsx("button",{className:"system-alert__dismiss",onClick:e,title:"Dismiss (will reappear on next check)",children:""})]}),n.length>0&&u.jsxs("div",{className:"system-alert system-alert--warning",children:[u.jsx("div",{className:"system-alert__icon",children:""}),u.jsxs("div",{className:"system-alert__content",children:[u.jsxs("div",{className:"system-alert__title",children:["Warning",n.length>1?"s":""]}),u.jsx("ul",{className:"system-alert__list",children:n.map((a,o)=>u.jsxs("li",{className:"system-alert__item",children:[u.jsx("strong",{children:a.message}),u.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]})]})]})}function A7(){const[t,e]=N.useState(!1),[s,n]=N.useState(null);return N.useEffect(()=>{let a=!1,o=0;const c=async()=>{try{const[,f]=await Promise.all([ge.status(),ge.health()]);if(a)return;o=0,e(!1),n(f)}catch{if(a)return;o+=1,o>=3&&(e(!0),n(null))}};c();const d=window.setInterval(c,6e4);return()=>{a=!0,window.clearInterval(d)}},[]),u.jsx(sC,{children:u.jsx(Qz,{children:u.jsxs(ED,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[u.jsx(tC,{}),u.jsxs("div",{className:"lg:pl-[96px]",children:[s&&!s.healthy&&u.jsx(C7,{health:s}),t&&!s&&u.jsx("div",{className:"bg-amber-900/80 border-b border-amber-500/60 text-amber-100 text-[11px] px-4 py-2 flex items-center justify-between",children:u.jsx("span",{children:"Backend appears offline or degraded. Some data may be stale or unavailable."})}),u.jsxs(jD,{children:[u.jsx(hr,{path:"/",element:u.jsx(Iz,{})}),u.jsx(hr,{path:"/executor",element:u.jsx(T7,{})}),u.jsx(hr,{path:"/aurora",element:u.jsx(M7,{})}),u.jsx(hr,{path:"/debug",element:u.jsx(qz,{})}),u.jsx(hr,{path:"/settings",element:u.jsx(mP,{})}),u.jsx(hr,{path:"/design-system",element:u.jsx(D7,{})})]})]})]})})})}O5.createRoot(document.getElementById("root")).render(u.jsx(qw.StrictMode,{children:u.jsx(A7,{})}))});export default E7();
