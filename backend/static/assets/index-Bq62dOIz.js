var SD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var YH=SD((KH,_h)=>{function jD(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Ex(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pp={exports:{}},cc={};var X1;function ND(){if(X1)return cc;X1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:t,type:s,key:l,ref:a!==void 0?a:null,props:o}}return cc.Fragment=e,cc.jsx=n,cc.jsxs=n,cc}var $1;function kD(){return $1||($1=1,Pp.exports=ND()),Pp.exports}var d=kD(),zp={exports:{}},Le={};var K1;function TD(){if(K1)return Le;K1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function k(F,Z,ie){this.props=F,this.context=Z,this.refs=j,this.updater=ie||w}k.prototype.isReactComponent={},k.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=k.prototype;function E(F,Z,ie){this.props=F,this.context=Z,this.refs=j,this.updater=ie||w}var O=E.prototype=new C;O.constructor=E,S(O,k.prototype),O.isPureReactComponent=!0;var R=Array.isArray;function A(){}var L={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function U(F,Z,ie){var z=ie.ref;return{$$typeof:t,type:F,key:Z,ref:z!==void 0?z:null,props:ie}}function $(F,Z){return U(F.type,Z,F.props)}function ee(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function re(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ie){return Z[ie]})}var de=/\/+/g;function fe(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?re(""+F.key):Z.toString(36)}function be(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(A,A):(F.status="pending",F.then(function(Z){F.status==="pending"&&(F.status="fulfilled",F.value=Z)},function(Z){F.status==="pending"&&(F.status="rejected",F.reason=Z)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function W(F,Z,ie,z,J){var ae=typeof F;(ae==="undefined"||ae==="boolean")&&(F=null);var pe=!1;if(F===null)pe=!0;else switch(ae){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(F.$$typeof){case t:case e:pe=!0;break;case p:return pe=F._init,W(pe(F._payload),Z,ie,z,J)}}if(pe)return J=J(F),pe=z===""?"."+fe(F,0):z,R(J)?(ie="",pe!=null&&(ie=pe.replace(de,"$&/")+"/"),W(J,Z,ie,"",function(ut){return ut})):J!=null&&(ee(J)&&(J=$(J,ie+(J.key==null||F&&F.key===J.key?"":(""+J.key).replace(de,"$&/")+"/")+pe)),Z.push(J)),1;pe=0;var je=z===""?".":z+":";if(R(F))for(var ke=0;ke<F.length;ke++)z=F[ke],ae=je+fe(z,ke),pe+=W(z,Z,ie,ae,J);else if(ke=v(F),typeof ke=="function")for(F=ke.call(F),ke=0;!(z=F.next()).done;)z=z.value,ae=je+fe(z,ke++),pe+=W(z,Z,ie,ae,J);else if(ae==="object"){if(typeof F.then=="function")return W(be(F),Z,ie,z,J);throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Q(F,Z,ie){if(F==null)return F;var z=[],J=0;return W(F,z,"","",function(ae){return Z.call(ie,ae,J++)}),z}function ue(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(ie){(F._status===0||F._status===-1)&&(F._status=1,F._result=ie)},function(ie){(F._status===0||F._status===-1)&&(F._status=2,F._result=ie)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var oe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},xe={map:Q,forEach:function(F,Z,ie){Q(F,function(){Z.apply(this,arguments)},ie)},count:function(F){var Z=0;return Q(F,function(){Z++}),Z},toArray:function(F){return Q(F,function(Z){return Z})||[]},only:function(F){if(!ee(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Le.Activity=x,Le.Children=xe,Le.Component=k,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=E,Le.StrictMode=s,Le.Suspense=h,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Le.__COMPILER_RUNTIME={__proto__:null,c:function(F){return L.H.useMemoCache(F)}},Le.cache=function(F){return function(){return F.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(F,Z,ie){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var z=S({},F.props),J=F.key;if(Z!=null)for(ae in Z.key!==void 0&&(J=""+Z.key),Z)!P.call(Z,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Z.ref===void 0||(z[ae]=Z[ae]);var ae=arguments.length-2;if(ae===1)z.children=ie;else if(1<ae){for(var pe=Array(ae),je=0;je<ae;je++)pe[je]=arguments[je+2];z.children=pe}return U(F.type,J,z)},Le.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Le.createElement=function(F,Z,ie){var z,J={},ae=null;if(Z!=null)for(z in Z.key!==void 0&&(ae=""+Z.key),Z)P.call(Z,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(J[z]=Z[z]);var pe=arguments.length-2;if(pe===1)J.children=ie;else if(1<pe){for(var je=Array(pe),ke=0;ke<pe;ke++)je[ke]=arguments[ke+2];J.children=je}if(F&&F.defaultProps)for(z in pe=F.defaultProps,pe)J[z]===void 0&&(J[z]=pe[z]);return U(F,ae,J)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(F){return{$$typeof:u,render:F}},Le.isValidElement=ee,Le.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ue}},Le.memo=function(F,Z){return{$$typeof:m,type:F,compare:Z===void 0?null:Z}},Le.startTransition=function(F){var Z=L.T,ie={};L.T=ie;try{var z=F(),J=L.S;J!==null&&J(ie,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(A,oe)}catch(ae){oe(ae)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),L.T=Z}},Le.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Le.use=function(F){return L.H.use(F)},Le.useActionState=function(F,Z,ie){return L.H.useActionState(F,Z,ie)},Le.useCallback=function(F,Z){return L.H.useCallback(F,Z)},Le.useContext=function(F){return L.H.useContext(F)},Le.useDebugValue=function(){},Le.useDeferredValue=function(F,Z){return L.H.useDeferredValue(F,Z)},Le.useEffect=function(F,Z){return L.H.useEffect(F,Z)},Le.useEffectEvent=function(F){return L.H.useEffectEvent(F)},Le.useId=function(){return L.H.useId()},Le.useImperativeHandle=function(F,Z,ie){return L.H.useImperativeHandle(F,Z,ie)},Le.useInsertionEffect=function(F,Z){return L.H.useInsertionEffect(F,Z)},Le.useLayoutEffect=function(F,Z){return L.H.useLayoutEffect(F,Z)},Le.useMemo=function(F,Z){return L.H.useMemo(F,Z)},Le.useOptimistic=function(F,Z){return L.H.useOptimistic(F,Z)},Le.useReducer=function(F,Z,ie){return L.H.useReducer(F,Z,ie)},Le.useRef=function(F){return L.H.useRef(F)},Le.useState=function(F){return L.H.useState(F)},Le.useSyncExternalStore=function(F,Z,ie){return L.H.useSyncExternalStore(F,Z,ie)},Le.useTransition=function(){return L.H.useTransition()},Le.version="19.2.3",Le}var Z1;function Ax(){return Z1||(Z1=1,zp.exports=TD()),zp.exports}var N=Ax();const RS=Ex(N),MD=jD({__proto__:null,default:RS},[N]);var Bp={exports:{}},uc={},Vp={exports:{}},Fp={};var Q1;function CD(){return Q1||(Q1=1,(function(t){function e(W,Q){var ue=W.length;W.push(Q);e:for(;0<ue;){var oe=ue-1>>>1,xe=W[oe];if(0<a(xe,Q))W[oe]=Q,W[ue]=xe,ue=oe;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var Q=W[0],ue=W.pop();if(ue!==Q){W[0]=ue;e:for(var oe=0,xe=W.length,F=xe>>>1;oe<F;){var Z=2*(oe+1)-1,ie=W[Z],z=Z+1,J=W[z];if(0>a(ie,ue))z<xe&&0>a(J,ie)?(W[oe]=J,W[z]=ue,oe=z):(W[oe]=ie,W[Z]=ue,oe=Z);else if(z<xe&&0>a(J,ue))W[oe]=J,W[z]=ue,oe=z;else break e}}return Q}function a(W,Q){var ue=W.sortIndex-Q.sortIndex;return ue!==0?ue:W.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],p=1,x=null,b=3,v=!1,w=!1,S=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(W){for(var Q=n(m);Q!==null;){if(Q.callback===null)s(m);else if(Q.startTime<=W)s(m),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=n(m)}}function R(W){if(S=!1,O(W),!w)if(n(h)!==null)w=!0,A||(A=!0,re());else{var Q=n(m);Q!==null&&be(R,Q.startTime-W)}}var A=!1,L=-1,P=5,U=-1;function $(){return j?!0:!(t.unstable_now()-U<P)}function ee(){if(j=!1,A){var W=t.unstable_now();U=W;var Q=!0;try{e:{w=!1,S&&(S=!1,C(L),L=-1),v=!0;var ue=b;try{t:{for(O(W),x=n(h);x!==null&&!(x.expirationTime>W&&$());){var oe=x.callback;if(typeof oe=="function"){x.callback=null,b=x.priorityLevel;var xe=oe(x.expirationTime<=W);if(W=t.unstable_now(),typeof xe=="function"){x.callback=xe,O(W),Q=!0;break t}x===n(h)&&s(h),O(W)}else s(h);x=n(h)}if(x!==null)Q=!0;else{var F=n(m);F!==null&&be(R,F.startTime-W),Q=!1}}break e}finally{x=null,b=ue,v=!1}Q=void 0}}finally{Q?re():A=!1}}}var re;if(typeof E=="function")re=function(){E(ee)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=ee,re=function(){fe.postMessage(null)}}else re=function(){k(ee,0)};function be(W,Q){L=k(function(){W(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var ue=b;b=Q;try{return W()}finally{b=ue}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ue=b;b=W;try{return Q()}finally{b=ue}},t.unstable_scheduleCallback=function(W,Q,ue){var oe=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?oe+ue:oe):ue=oe,W){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ue+xe,W={id:p++,callback:Q,priorityLevel:W,startTime:ue,expirationTime:xe,sortIndex:-1},ue>oe?(W.sortIndex=ue,e(m,W),n(h)===null&&W===n(m)&&(S?(C(L),L=-1):S=!0,be(R,ue-oe))):(W.sortIndex=xe,e(h,W),w||v||(w=!0,A||(A=!0,re()))),W},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(W){var Q=b;return function(){var ue=b;b=Q;try{return W.apply(this,arguments)}finally{b=ue}}}})(Fp)),Fp}var J1;function DD(){return J1||(J1=1,Vp.exports=CD()),Vp.exports}var Hp={exports:{}},jn={};var e_;function ED(){if(e_)return jn;e_=1;var t=Ax();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,m,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:h,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,jn.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,p)},jn.flushSync=function(h){var m=l.T,p=s.p;try{if(l.T=null,s.p=2,h)return h()}finally{l.T=m,s.p=p,s.d.f()}},jn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},jn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},jn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,x=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:v}):p==="script"&&s.d.X(h,{crossOrigin:x,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},jn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},jn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,x=u(p,m.crossOrigin);s.d.L(h,p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},jn.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=u(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},jn.requestFormReset=function(h){s.d.r(h)},jn.unstable_batchedUpdates=function(h,m){return h(m)},jn.useFormState=function(h,m,p){return l.H.useFormState(h,m,p)},jn.useFormStatus=function(){return l.H.useHostTransitionStatus()},jn.version="19.2.3",jn}var t_;function LS(){if(t_)return Hp.exports;t_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hp.exports=ED(),Hp.exports}var n_;function AD(){if(n_)return uc;n_=1;var t=DD(),e=Ax(),n=LS();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var r=i,c=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(c=r.return),i=r.return;while(i)}return r.tag===3?c:null}function l(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function u(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=o(i),r===null)throw Error(s(188));return r!==i?null:i}for(var c=i,f=r;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return h(g),i;if(y===f)return h(g),r;y=y.sibling}throw Error(s(188))}if(c.return!==f.return)c=g,f=y;else{for(var _=!1,M=g.child;M;){if(M===c){_=!0,c=g,f=y;break}if(M===f){_=!0,f=g,c=y;break}M=M.sibling}if(!_){for(M=y.child;M;){if(M===c){_=!0,c=y,f=g;break}if(M===f){_=!0,f=y,c=g;break}M=M.sibling}if(!_)throw Error(s(189))}}if(c.alternate!==f)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var de=Symbol.for("react.client.reference");function fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===de?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case E:return i.displayName||"Context";case C:return(i._context.displayName||"Context")+".Consumer";case O:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return r=i.displayName||null,r!==null?r:fe(i.type)||"Memo";case P:r=i._payload,i=i._init;try{return fe(i(r))}catch{}}return null}var be=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},oe=[],xe=-1;function F(i){return{current:i}}function Z(i){0>xe||(i.current=oe[xe],oe[xe]=null,xe--)}function ie(i,r){xe++,oe[xe]=i.current,i.current=r}var z=F(null),J=F(null),ae=F(null),pe=F(null);function je(i,r){switch(ie(ae,r),ie(J,i),ie(z,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?x1(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=x1(r),i=y1(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(z),ie(z,i)}function ke(){Z(z),Z(J),Z(ae)}function ut(i){i.memoizedState!==null&&ie(pe,i);var r=z.current,c=y1(r,i.type);r!==c&&(ie(J,i),ie(z,c))}function dn(i){J.current===i&&(Z(z),Z(J)),pe.current===i&&(Z(pe),ac._currentValue=ue)}var ge,Qe;function dt(i){if(ge===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);ge=r&&r[1]||"",Qe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+i+Qe}var Rn=!1;function Pt(i,r){if(!i||Rn)return"";Rn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(K){var G=K}Reflect.construct(i,[],se)}else{try{se.call()}catch(K){G=K}i.call(se.prototype)}}else{try{throw Error()}catch(K){G=K}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),_=y[0],M=y[1];if(_&&M){var V=_.split(`
`),q=M.split(`
`);for(g=f=0;f<V.length&&!V[f].includes("DetermineComponentFrameRoot");)f++;for(;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;if(f===V.length||g===q.length)for(f=V.length-1,g=q.length-1;1<=f&&0<=g&&V[f]!==q[g];)g--;for(;1<=f&&0<=g;f--,g--)if(V[f]!==q[g]){if(f!==1||g!==1)do if(f--,g--,0>g||V[f]!==q[g]){var te=`
`+V[f].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=f&&0<=g);break}}}finally{Rn=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?dt(c):""}function Be(i,r){switch(i.tag){case 26:case 27:case 5:return dt(i.type);case 16:return dt("Lazy");case 13:return i.child!==r&&r!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return Pt(i.type,!1);case 11:return Pt(i.type.render,!1);case 1:return Pt(i.type,!0);case 31:return dt("Activity");default:return""}}function Jt(i){try{var r="",c=null;do r+=Be(i,c),c=i,i=i.return;while(i);return r}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var aa=Object.prototype.hasOwnProperty,Os=t.unstable_scheduleCallback,en=t.unstable_cancelCallback,ls=t.unstable_shouldYield,pl=t.unstable_requestPaint,on=t.unstable_now,ra=t.unstable_getCurrentPriorityLevel,sr=t.unstable_ImmediatePriority,Ln=t.unstable_UserBlockingPriority,pi=t.unstable_NormalPriority,$r=t.unstable_LowPriority,cs=t.unstable_IdlePriority,Gs=t.log,oa=t.unstable_setDisableYieldValue,Xs=null,hn=null;function Gn(i){if(typeof Gs=="function"&&oa(i),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(Xs,i)}catch{}}var tn=Math.clz32?Math.clz32:me,Kr=Math.log,$s=Math.LN2;function me(i){return i>>>=0,i===0?32:31-(Kr(i)/$s|0)|0}var Ve=256,ht=262144,Dt=4194304;function fn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ln(i,r,c){var f=i.pendingLanes;if(f===0)return 0;var g=0,y=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var M=f&134217727;return M!==0?(f=M&~y,f!==0?g=fn(f):(_&=M,_!==0?g=fn(_):c||(c=M&~i,c!==0&&(g=fn(c))))):(M=f&~y,M!==0?g=fn(M):_!==0?g=fn(_):c||(c=f&~i,c!==0&&(g=fn(c)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,c=r&-r,y>=c||y===32&&(c&4194048)!==0)?r:g}function mn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function us(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var i=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),i}function la(i){for(var r=[],c=0;31>c;c++)r.push(i);return r}function Ne(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $n(i,r,c,f,g,y){var _=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var M=i.entanglements,V=i.expirationTimes,q=i.hiddenUpdates;for(c=_&~c;0<c;){var te=31-tn(c),se=1<<te;M[te]=0,V[te]=-1;var G=q[te];if(G!==null)for(q[te]=null,te=0;te<G.length;te++){var K=G[te];K!==null&&(K.lane&=-536870913)}c&=~se}f!==0&&zt(i,f,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(_&~r))}function zt(i,r,c){i.pendingLanes|=r,i.suspendedLanes&=~r;var f=31-tn(r);i.entangledLanes|=r,i.entanglements[f]=i.entanglements[f]|1073741824|c&261930}function Ks(i,r){var c=i.entangledLanes|=r;for(i=i.entanglements;c;){var f=31-tn(c),g=1<<f;g&r|i[f]&r&&(i[f]|=r),c&=~g}}function Zr(i,r){var c=r&-r;return c=(c&42)!==0?1:gi(c),(c&(i.suspendedLanes|r))!==0?0:c}function gi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function xi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ku(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:H1(i.type))}function gl(i,r){var c=Q.p;try{return Q.p=i,r()}finally{Q.p=c}}var Zs=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Zs,pn="__reactProps$"+Zs,yi="__reactContainer$"+Zs,Qr="__reactEvents$"+Zs,xl="__reactListeners$"+Zs,bi="__reactHandles$"+Zs,ca="__reactResources$"+Zs,Rs="__reactMarker$"+Zs;function ua(i){delete i[Wt],delete i[pn],delete i[Qr],delete i[xl],delete i[bi]}function Qs(i){var r=i[Wt];if(r)return r;for(var c=i.parentNode;c;){if(r=c[yi]||c[Wt]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(i=N1(i);i!==null;){if(c=i[Wt])return c;i=N1(i)}return r}i=c,c=i.parentNode}return null}function da(i){if(i=i[Wt]||i[yi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ir(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ls(i){var r=i[ca];return r||(r=i[ca]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function rt(i){i[Rs]=!0}var vi=new Set,Ps={};function gn(i,r){ds(i,r),ds(i+"Capture",r)}function ds(i,r){for(Ps[i]=r,i=0;i<r.length;i++)vi.add(r[i])}var hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fs={},yl={};function Tu(i){return aa.call(yl,i)?!0:aa.call(fs,i)?!1:hs.test(i)?yl[i]=!0:(fs[i]=!0,!1)}function _i(i,r,c){if(Tu(r))if(c===null)i.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+c)}}function wn(i,r,c){if(c===null)i.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+c)}}function Pn(i,r,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(r,c,""+f)}}function Sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Jr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bl(i,r,c){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var g=f.get,y=f.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(_){c=""+_,y.call(this,_)}}),Object.defineProperty(i,r,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ar(i){if(!i._valueTracker){var r=Jr(i)?"checked":"value";i._valueTracker=bl(i,r,""+i[r])}}function rr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var c=r.getValue(),f="";return i&&(f=Jr(i)?i.checked?"true":"false":i.value),i=f,i!==c?(r.setValue(i),!0):!1}function Kn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Af=/[\n"\\]/g;function An(i){return i.replace(Af,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function or(i,r,c,f,g,y,_,M){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Sn(r)):i.value!==""+Sn(r)&&(i.value=""+Sn(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?_l(i,_,Sn(r)):c!=null?_l(i,_,Sn(c)):f!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Sn(M):i.removeAttribute("name")}function vl(i,r,c,f,g,y,_,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){ar(i);return}c=c!=null?""+Sn(c):"",r=r!=null?""+Sn(r):c,M||r===i.value||(i.value=r),i.defaultValue=r}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=M?i.checked:!!f,i.defaultChecked=!!f,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),ar(i)}function _l(i,r,c){r==="number"&&Kn(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function ha(i,r,c,f){if(i=i.options,r){r={};for(var g=0;g<c.length;g++)r["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=r.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&f&&(i[c].defaultSelected=!0)}else{for(c=""+Sn(c),r=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function T(i,r,c){if(r!=null&&(r=""+Sn(r),r!==i.value&&(i.value=r),c==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=c!=null?""+Sn(c):""}function D(i,r,c,f){if(r==null){if(f!=null){if(c!=null)throw Error(s(92));if(be(f)){if(1<f.length)throw Error(s(93));f=f[0]}c=f}c==null&&(c=""),r=c}c=Sn(r),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f),ar(i)}function B(i,r){if(r){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=r;return}}i.textContent=r}var X=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function le(i,r,c){var f=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":f?i.setProperty(r,c):typeof c!="number"||c===0||X.has(r)?r==="float"?i.cssFloat=c:i[r]=(""+c).trim():i[r]=c+"px"}function ye(i,r,c){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in r)f=r[g],r.hasOwnProperty(g)&&c[g]!==f&&le(i,g,f)}else for(var y in r)r.hasOwnProperty(y)&&le(i,y,r[y])}function Fe(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qt(i){return nn.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Gt(){}var Of=null;function Rf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var eo=null,to=null;function gy(i){var r=da(i);if(r&&(i=r.stateNode)){var c=i[pn]||null;e:switch(i=r.stateNode,r.type){case"input":if(or(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var f=c[r];if(f!==i&&f.form===i.form){var g=f[pn]||null;if(!g)throw Error(s(90));or(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<c.length;r++)f=c[r],f.form===i.form&&rr(f)}break e;case"textarea":T(i,c.value,c.defaultValue);break e;case"select":r=c.value,r!=null&&ha(i,!!c.multiple,r,!1)}}}var Lf=!1;function xy(i,r,c){if(Lf)return i(r,c);Lf=!0;try{var f=i(r);return f}finally{if(Lf=!1,(eo!==null||to!==null)&&(md(),eo&&(r=eo,i=to,to=eo=null,gy(r),i)))for(r=0;r<i.length;r++)gy(i[r])}}function wl(i,r){var c=i.stateNode;if(c===null)return null;var f=c[pn]||null;if(f===null)return null;c=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(s(231,r,typeof c));return c}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=!1;if(wi)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Pf=!1}var fa=null,zf=null,Mu=null;function yy(){if(Mu)return Mu;var i,r=zf,c=r.length,f,g="value"in fa?fa.value:fa.textContent,y=g.length;for(i=0;i<c&&r[i]===g[i];i++);var _=c-i;for(f=1;f<=_&&r[c-f]===g[y-f];f++);return Mu=g.slice(i,1<f?1-f:void 0)}function Cu(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Du(){return!0}function by(){return!1}function zn(i){function r(c,f,g,y,_){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(c=i[M],this[M]=c?c(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Du:by,this.isPropagationStopped=by,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),r}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=zn(lr),jl=x({},lr,{view:0,detail:0}),_M=zn(jl),Bf,Vf,Nl,Au=x({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Nl&&(Nl&&i.type==="mousemove"?(Bf=i.screenX-Nl.screenX,Vf=i.screenY-Nl.screenY):Vf=Bf=0,Nl=i),Bf)},movementY:function(i){return"movementY"in i?i.movementY:Vf}}),vy=zn(Au),wM=x({},Au,{dataTransfer:0}),SM=zn(wM),jM=x({},jl,{relatedTarget:0}),Ff=zn(jM),NM=x({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),kM=zn(NM),TM=x({},lr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),MM=zn(TM),CM=x({},lr,{data:0}),_y=zn(CM),DM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OM(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=AM[i])?!!r[i]:!1}function Hf(){return OM}var RM=x({},jl,{key:function(i){if(i.key){var r=DM[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Cu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?EM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(i){return i.type==="keypress"?Cu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Cu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),LM=zn(RM),PM=x({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=zn(PM),zM=x({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),BM=zn(zM),VM=x({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),FM=zn(VM),HM=x({},Au,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),UM=zn(HM),YM=x({},lr,{newState:0,oldState:0}),WM=zn(YM),IM=[9,13,27,32],Uf=wi&&"CompositionEvent"in window,kl=null;wi&&"documentMode"in document&&(kl=document.documentMode);var qM=wi&&"TextEvent"in window&&!kl,Sy=wi&&(!Uf||kl&&8<kl&&11>=kl),jy=" ",Ny=!1;function ky(i,r){switch(i){case"keyup":return IM.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var no=!1;function GM(i,r){switch(i){case"compositionend":return Ty(r);case"keypress":return r.which!==32?null:(Ny=!0,jy);case"textInput":return i=r.data,i===jy&&Ny?null:i;default:return null}}function XM(i,r){if(no)return i==="compositionend"||!Uf&&ky(i,r)?(i=yy(),Mu=zf=fa=null,no=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Sy&&r.locale!=="ko"?null:r.data;default:return null}}var $M={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!$M[i.type]:r==="textarea"}function Cy(i,r,c,f){eo?to?to.push(f):to=[f]:eo=f,r=_d(r,"onChange"),0<r.length&&(c=new Eu("onChange","change",null,c,f),i.push({event:c,listeners:r}))}var Tl=null,Ml=null;function KM(i){d1(i,0)}function Ou(i){var r=ir(i);if(rr(r))return i}function Dy(i,r){if(i==="change")return r}var Ey=!1;if(wi){var Yf;if(wi){var Wf="oninput"in document;if(!Wf){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),Wf=typeof Ay.oninput=="function"}Yf=Wf}else Yf=!1;Ey=Yf&&(!document.documentMode||9<document.documentMode)}function Oy(){Tl&&(Tl.detachEvent("onpropertychange",Ry),Ml=Tl=null)}function Ry(i){if(i.propertyName==="value"&&Ou(Ml)){var r=[];Cy(r,Ml,i,Rf(i)),xy(KM,r)}}function ZM(i,r,c){i==="focusin"?(Oy(),Tl=r,Ml=c,Tl.attachEvent("onpropertychange",Ry)):i==="focusout"&&Oy()}function QM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ou(Ml)}function JM(i,r){if(i==="click")return Ou(r)}function eC(i,r){if(i==="input"||i==="change")return Ou(r)}function tC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Zn=typeof Object.is=="function"?Object.is:tC;function Cl(i,r){if(Zn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var c=Object.keys(i),f=Object.keys(r);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!aa.call(r,g)||!Zn(i[g],r[g]))return!1}return!0}function Ly(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Py(i,r){var c=Ly(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=r&&f>=r)return{node:c,offset:r-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ly(c)}}function zy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?zy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function By(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Kn(i.document);r instanceof i.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)i=r.contentWindow;else break;r=Kn(i.document)}return r}function If(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var nC=wi&&"documentMode"in document&&11>=document.documentMode,so=null,qf=null,Dl=null,Gf=!1;function Vy(i,r,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gf||so==null||so!==Kn(f)||(f=so,"selectionStart"in f&&If(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Dl&&Cl(Dl,f)||(Dl=f,f=_d(qf,"onSelect"),0<f.length&&(r=new Eu("onSelect","select",null,r,c),i.push({event:r,listeners:f}),r.target=so)))}function cr(i,r){var c={};return c[i.toLowerCase()]=r.toLowerCase(),c["Webkit"+i]="webkit"+r,c["Moz"+i]="moz"+r,c}var io={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},Xf={},Fy={};wi&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ur(i){if(Xf[i])return Xf[i];if(!io[i])return i;var r=io[i],c;for(c in r)if(r.hasOwnProperty(c)&&c in Fy)return Xf[i]=r[c];return i}var Hy=ur("animationend"),Uy=ur("animationiteration"),Yy=ur("animationstart"),sC=ur("transitionrun"),iC=ur("transitionstart"),aC=ur("transitioncancel"),Wy=ur("transitionend"),Iy=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function zs(i,r){Iy.set(i,r),gn(r,[i])}var Ru=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ms=[],ao=0,Kf=0;function Lu(){for(var i=ao,r=Kf=ao=0;r<i;){var c=ms[r];ms[r++]=null;var f=ms[r];ms[r++]=null;var g=ms[r];ms[r++]=null;var y=ms[r];if(ms[r++]=null,f!==null&&g!==null){var _=f.pending;_===null?g.next=g:(g.next=_.next,_.next=g),f.pending=g}y!==0&&qy(c,g,y)}}function Pu(i,r,c,f){ms[ao++]=i,ms[ao++]=r,ms[ao++]=c,ms[ao++]=f,Kf|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Zf(i,r,c,f){return Pu(i,r,c,f),zu(i)}function dr(i,r){return Pu(i,null,null,r),zu(i)}function qy(i,r,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var g=!1,y=i.return;y!==null;)y.childLanes|=c,f=y.alternate,f!==null&&(f.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&r!==null&&(g=31-tn(c),i=y.hiddenUpdates,f=i[g],f===null?i[g]=[r]:f.push(r),r.lane=c|536870912),y):null}function zu(i){if(50<Ql)throw Ql=0,rp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ro={};function rC(i,r,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,r,c,f){return new rC(i,r,c,f)}function Qf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Si(i,r){var c=i.alternate;return c===null?(c=Qn(i.tag,r,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=r,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,r=i.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Gy(i,r){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,r=c.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Bu(i,r,c,f,g,y){var _=0;if(f=i,typeof i=="function")Qf(i)&&(_=1);else if(typeof i=="string")_=dD(i,c,z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case U:return i=Qn(31,c,r,g),i.elementType=U,i.lanes=y,i;case S:return hr(c.children,g,y,r);case j:_=8,g|=24;break;case k:return i=Qn(12,c,r,g|2),i.elementType=k,i.lanes=y,i;case R:return i=Qn(13,c,r,g),i.elementType=R,i.lanes=y,i;case A:return i=Qn(19,c,r,g),i.elementType=A,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:_=10;break e;case C:_=9;break e;case O:_=11;break e;case L:_=14;break e;case P:_=16,f=null;break e}_=29,c=Error(s(130,i===null?"null":typeof i,"")),f=null}return r=Qn(_,c,r,g),r.elementType=i,r.type=f,r.lanes=y,r}function hr(i,r,c,f){return i=Qn(7,i,f,r),i.lanes=c,i}function Jf(i,r,c){return i=Qn(6,i,null,r),i.lanes=c,i}function Xy(i){var r=Qn(18,null,null,0);return r.stateNode=i,r}function em(i,r,c){return r=Qn(4,i.children!==null?i.children:[],i.key,r),r.lanes=c,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var $y=new WeakMap;function ps(i,r){if(typeof i=="object"&&i!==null){var c=$y.get(i);return c!==void 0?c:(r={value:i,source:r,stack:Jt(r)},$y.set(i,r),r)}return{value:i,source:r,stack:Jt(r)}}var oo=[],lo=0,Vu=null,El=0,gs=[],xs=0,ma=null,Js=1,ei="";function ji(i,r){oo[lo++]=El,oo[lo++]=Vu,Vu=i,El=r}function Ky(i,r,c){gs[xs++]=Js,gs[xs++]=ei,gs[xs++]=ma,ma=i;var f=Js;i=ei;var g=32-tn(f)-1;f&=~(1<<g),c+=1;var y=32-tn(r)+g;if(30<y){var _=g-g%5;y=(f&(1<<_)-1).toString(32),f>>=_,g-=_,Js=1<<32-tn(r)+g|c<<g|f,ei=y+i}else Js=1<<y|c<<g|f,ei=i}function tm(i){i.return!==null&&(ji(i,1),Ky(i,1,0))}function nm(i){for(;i===Vu;)Vu=oo[--lo],oo[lo]=null,El=oo[--lo],oo[lo]=null;for(;i===ma;)ma=gs[--xs],gs[xs]=null,ei=gs[--xs],gs[xs]=null,Js=gs[--xs],gs[xs]=null}function Zy(i,r){gs[xs++]=Js,gs[xs++]=ei,gs[xs++]=ma,Js=r.id,ei=r.overflow,ma=i}var xn=null,yt=null,Je=!1,pa=null,ys=!1,sm=Error(s(519));function ga(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(ps(r,i)),sm}function Qy(i){var r=i.stateNode,c=i.type,f=i.memoizedProps;switch(r[Wt]=i,r[pn]=f,c){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(c=0;c<ec.length;c++)Ie(ec[c],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),vl(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),D(r,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||f.suppressHydrationWarning===!0||p1(r.textContent,c)?(f.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),f.onScroll!=null&&Ie("scroll",r),f.onScrollEnd!=null&&Ie("scrollend",r),f.onClick!=null&&(r.onclick=Gt),r=!0):r=!1,r||ga(i,!0)}function Jy(i){for(xn=i.return;xn;)switch(xn.tag){case 5:case 31:case 13:ys=!1;return;case 27:case 3:ys=!0;return;default:xn=xn.return}}function co(i){if(i!==xn)return!1;if(!Je)return Jy(i),Je=!0,!1;var r=i.tag,c;if((c=r!==3&&r!==27)&&((c=r===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||_p(i.type,i.memoizedProps)),c=!c),c&&yt&&ga(i),Jy(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));yt=j1(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));yt=j1(i)}else r===27?(r=yt,Da(i.type)?(i=kp,kp=null,yt=i):yt=r):yt=xn?vs(i.stateNode.nextSibling):null;return!0}function fr(){yt=xn=null,Je=!1}function im(){var i=pa;return i!==null&&(Hn===null?Hn=i:Hn.push.apply(Hn,i),pa=null),i}function Al(i){pa===null?pa=[i]:pa.push(i)}var am=F(null),mr=null,Ni=null;function xa(i,r,c){ie(am,r._currentValue),r._currentValue=c}function ki(i){i._currentValue=am.current,Z(am)}function rm(i,r,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),i===c)break;i=i.return}}function om(i,r,c,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var _=g.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=g;for(var V=0;V<r.length;V++)if(M.context===r[V]){y.lanes|=c,M=y.alternate,M!==null&&(M.lanes|=c),rm(y.return,c,i),f||(_=null);break e}y=M.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(s(341));_.lanes|=c,y=_.alternate,y!==null&&(y.lanes|=c),rm(_,c,i),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===i){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function uo(i,r,c,f){i=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var M=g.type;Zn(g.pendingProps.value,_.value)||(i!==null?i.push(M):i=[M])}}else if(g===pe.current){if(_=g.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(ac):i=[ac])}g=g.return}i!==null&&om(r,i,c,f),r.flags|=262144}function Fu(i){for(i=i.firstContext;i!==null;){if(!Zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pr(i){mr=i,Ni=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function yn(i){return eb(mr,i)}function Hu(i,r){return mr===null&&pr(i),eb(i,r)}function eb(i,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},Ni===null){if(i===null)throw Error(s(308));Ni=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ni=Ni.next=r;return c}var oC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){r.aborted=!0,i.forEach(function(c){return c()})}},lC=t.unstable_scheduleCallback,cC=t.unstable_NormalPriority,Xt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new oC,data:new Map,refCount:0}}function Ol(i){i.refCount--,i.refCount===0&&lC(cC,function(){i.controller.abort()})}var Rl=null,cm=0,ho=0,fo=null;function uC(i,r){if(Rl===null){var c=Rl=[];cm=0,ho=hp(),fo={status:"pending",value:void 0,then:function(f){c.push(f)}}}return cm++,r.then(tb,tb),r}function tb(){if(--cm===0&&Rl!==null){fo!==null&&(fo.status="fulfilled");var i=Rl;Rl=null,ho=0,fo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function dC(i,r){var c=[],f={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return i.then(function(){f.status="fulfilled",f.value=r;for(var g=0;g<c.length;g++)(0,c[g])(r)},function(g){for(f.status="rejected",f.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),f}var nb=W.S;W.S=function(i,r){Vv=on(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&uC(i,r),nb!==null&&nb(i,r)};var gr=F(null);function um(){var i=gr.current;return i!==null?i:xt.pooledCache}function Uu(i,r){r===null?ie(gr,gr.current):ie(gr,r.pool)}function sb(){var i=um();return i===null?null:{parent:Xt._currentValue,pool:i}}var mo=Error(s(460)),dm=Error(s(474)),Yu=Error(s(542)),Wu={then:function(){}};function ib(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ab(i,r,c){switch(c=i[c],c===void 0?i.push(r):c!==r&&(r.then(Gt,Gt),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,ob(i),i;default:if(typeof r.status=="string")r.then(Gt,Gt);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(f){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=f}},function(f){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,ob(i),i}throw yr=r,mo}}function xr(i){try{var r=i._init;return r(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(yr=c,mo):c}}var yr=null;function rb(){if(yr===null)throw Error(s(459));var i=yr;return yr=null,i}function ob(i){if(i===mo||i===Yu)throw Error(s(483))}var po=null,Ll=0;function Iu(i){var r=Ll;return Ll+=1,po===null&&(po=[]),ab(po,i,r)}function Pl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function qu(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function lb(i){function r(Y,H){if(i){var I=Y.deletions;I===null?(Y.deletions=[H],Y.flags|=16):I.push(H)}}function c(Y,H){if(!i)return null;for(;H!==null;)r(Y,H),H=H.sibling;return null}function f(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function g(Y,H){return Y=Si(Y,H),Y.index=0,Y.sibling=null,Y}function y(Y,H,I){return Y.index=I,i?(I=Y.alternate,I!==null?(I=I.index,I<H?(Y.flags|=67108866,H):I):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function _(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function M(Y,H,I,ne){return H===null||H.tag!==6?(H=Jf(I,Y.mode,ne),H.return=Y,H):(H=g(H,I),H.return=Y,H)}function V(Y,H,I,ne){var Te=I.type;return Te===S?te(Y,H,I.props.children,ne,I.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===P&&xr(Te)===H.type)?(H=g(H,I.props),Pl(H,I),H.return=Y,H):(H=Bu(I.type,I.key,I.props,null,Y.mode,ne),Pl(H,I),H.return=Y,H)}function q(Y,H,I,ne){return H===null||H.tag!==4||H.stateNode.containerInfo!==I.containerInfo||H.stateNode.implementation!==I.implementation?(H=em(I,Y.mode,ne),H.return=Y,H):(H=g(H,I.children||[]),H.return=Y,H)}function te(Y,H,I,ne,Te){return H===null||H.tag!==7?(H=hr(I,Y.mode,ne,Te),H.return=Y,H):(H=g(H,I),H.return=Y,H)}function se(Y,H,I){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Jf(""+H,Y.mode,I),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return I=Bu(H.type,H.key,H.props,null,Y.mode,I),Pl(I,H),I.return=Y,I;case w:return H=em(H,Y.mode,I),H.return=Y,H;case P:return H=xr(H),se(Y,H,I)}if(be(H)||re(H))return H=hr(H,Y.mode,I,null),H.return=Y,H;if(typeof H.then=="function")return se(Y,Iu(H),I);if(H.$$typeof===E)return se(Y,Hu(Y,H),I);qu(Y,H)}return null}function G(Y,H,I,ne){var Te=H!==null?H.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return Te!==null?null:M(Y,H,""+I,ne);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case v:return I.key===Te?V(Y,H,I,ne):null;case w:return I.key===Te?q(Y,H,I,ne):null;case P:return I=xr(I),G(Y,H,I,ne)}if(be(I)||re(I))return Te!==null?null:te(Y,H,I,ne,null);if(typeof I.then=="function")return G(Y,H,Iu(I),ne);if(I.$$typeof===E)return G(Y,H,Hu(Y,I),ne);qu(Y,I)}return null}function K(Y,H,I,ne,Te){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Y=Y.get(I)||null,M(H,Y,""+ne,Te);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:return Y=Y.get(ne.key===null?I:ne.key)||null,V(H,Y,ne,Te);case w:return Y=Y.get(ne.key===null?I:ne.key)||null,q(H,Y,ne,Te);case P:return ne=xr(ne),K(Y,H,I,ne,Te)}if(be(ne)||re(ne))return Y=Y.get(I)||null,te(H,Y,ne,Te,null);if(typeof ne.then=="function")return K(Y,H,I,Iu(ne),Te);if(ne.$$typeof===E)return K(Y,H,I,Hu(H,ne),Te);qu(H,ne)}return null}function _e(Y,H,I,ne){for(var Te=null,tt=null,Se=H,He=H=0,$e=null;Se!==null&&He<I.length;He++){Se.index>He?($e=Se,Se=null):$e=Se.sibling;var nt=G(Y,Se,I[He],ne);if(nt===null){Se===null&&(Se=$e);break}i&&Se&&nt.alternate===null&&r(Y,Se),H=y(nt,H,He),tt===null?Te=nt:tt.sibling=nt,tt=nt,Se=$e}if(He===I.length)return c(Y,Se),Je&&ji(Y,He),Te;if(Se===null){for(;He<I.length;He++)Se=se(Y,I[He],ne),Se!==null&&(H=y(Se,H,He),tt===null?Te=Se:tt.sibling=Se,tt=Se);return Je&&ji(Y,He),Te}for(Se=f(Se);He<I.length;He++)$e=K(Se,Y,He,I[He],ne),$e!==null&&(i&&$e.alternate!==null&&Se.delete($e.key===null?He:$e.key),H=y($e,H,He),tt===null?Te=$e:tt.sibling=$e,tt=$e);return i&&Se.forEach(function(La){return r(Y,La)}),Je&&ji(Y,He),Te}function De(Y,H,I,ne){if(I==null)throw Error(s(151));for(var Te=null,tt=null,Se=H,He=H=0,$e=null,nt=I.next();Se!==null&&!nt.done;He++,nt=I.next()){Se.index>He?($e=Se,Se=null):$e=Se.sibling;var La=G(Y,Se,nt.value,ne);if(La===null){Se===null&&(Se=$e);break}i&&Se&&La.alternate===null&&r(Y,Se),H=y(La,H,He),tt===null?Te=La:tt.sibling=La,tt=La,Se=$e}if(nt.done)return c(Y,Se),Je&&ji(Y,He),Te;if(Se===null){for(;!nt.done;He++,nt=I.next())nt=se(Y,nt.value,ne),nt!==null&&(H=y(nt,H,He),tt===null?Te=nt:tt.sibling=nt,tt=nt);return Je&&ji(Y,He),Te}for(Se=f(Se);!nt.done;He++,nt=I.next())nt=K(Se,Y,He,nt.value,ne),nt!==null&&(i&&nt.alternate!==null&&Se.delete(nt.key===null?He:nt.key),H=y(nt,H,He),tt===null?Te=nt:tt.sibling=nt,tt=nt);return i&&Se.forEach(function(wD){return r(Y,wD)}),Je&&ji(Y,He),Te}function pt(Y,H,I,ne){if(typeof I=="object"&&I!==null&&I.type===S&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case v:e:{for(var Te=I.key;H!==null;){if(H.key===Te){if(Te=I.type,Te===S){if(H.tag===7){c(Y,H.sibling),ne=g(H,I.props.children),ne.return=Y,Y=ne;break e}}else if(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===P&&xr(Te)===H.type){c(Y,H.sibling),ne=g(H,I.props),Pl(ne,I),ne.return=Y,Y=ne;break e}c(Y,H);break}else r(Y,H);H=H.sibling}I.type===S?(ne=hr(I.props.children,Y.mode,ne,I.key),ne.return=Y,Y=ne):(ne=Bu(I.type,I.key,I.props,null,Y.mode,ne),Pl(ne,I),ne.return=Y,Y=ne)}return _(Y);case w:e:{for(Te=I.key;H!==null;){if(H.key===Te)if(H.tag===4&&H.stateNode.containerInfo===I.containerInfo&&H.stateNode.implementation===I.implementation){c(Y,H.sibling),ne=g(H,I.children||[]),ne.return=Y,Y=ne;break e}else{c(Y,H);break}else r(Y,H);H=H.sibling}ne=em(I,Y.mode,ne),ne.return=Y,Y=ne}return _(Y);case P:return I=xr(I),pt(Y,H,I,ne)}if(be(I))return _e(Y,H,I,ne);if(re(I)){if(Te=re(I),typeof Te!="function")throw Error(s(150));return I=Te.call(I),De(Y,H,I,ne)}if(typeof I.then=="function")return pt(Y,H,Iu(I),ne);if(I.$$typeof===E)return pt(Y,H,Hu(Y,I),ne);qu(Y,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,H!==null&&H.tag===6?(c(Y,H.sibling),ne=g(H,I),ne.return=Y,Y=ne):(c(Y,H),ne=Jf(I,Y.mode,ne),ne.return=Y,Y=ne),_(Y)):c(Y,H)}return function(Y,H,I,ne){try{Ll=0;var Te=pt(Y,H,I,ne);return po=null,Te}catch(Se){if(Se===mo||Se===Yu)throw Se;var tt=Qn(29,Se,null,Y.mode);return tt.lanes=ne,tt.return=Y,tt}}}var br=lb(!0),cb=lb(!1),ya=!1;function hm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ba(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function va(i,r,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(ot&2)!==0){var g=f.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),f.pending=r,r=zu(i),qy(i,null,c),r}return Pu(i,f,r,c),zu(i)}function zl(i,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194048)!==0)){var f=r.lanes;f&=i.pendingLanes,c|=f,r.lanes=c,Ks(i,c)}}function mm(i,r){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var _={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=_:y=y.next=_,c=c.next}while(c!==null);y===null?g=y=r:y=y.next=r}else g=y=r;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=r:i.next=r,c.lastBaseUpdate=r}var pm=!1;function Bl(){if(pm){var i=fo;if(i!==null)throw i}}function Vl(i,r,c,f){pm=!1;var g=i.updateQueue;ya=!1;var y=g.firstBaseUpdate,_=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var V=M,q=V.next;V.next=null,_===null?y=q:_.next=q,_=V;var te=i.alternate;te!==null&&(te=te.updateQueue,M=te.lastBaseUpdate,M!==_&&(M===null?te.firstBaseUpdate=q:M.next=q,te.lastBaseUpdate=V))}if(y!==null){var se=g.baseState;_=0,te=q=V=null,M=y;do{var G=M.lane&-536870913,K=G!==M.lane;if(K?(Xe&G)===G:(f&G)===G){G!==0&&G===ho&&(pm=!0),te!==null&&(te=te.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var _e=i,De=M;G=r;var pt=c;switch(De.tag){case 1:if(_e=De.payload,typeof _e=="function"){se=_e.call(pt,se,G);break e}se=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=De.payload,G=typeof _e=="function"?_e.call(pt,se,G):_e,G==null)break e;se=x({},se,G);break e;case 2:ya=!0}}G=M.callback,G!==null&&(i.flags|=64,K&&(i.flags|=8192),K=g.callbacks,K===null?g.callbacks=[G]:K.push(G))}else K={lane:G,tag:M.tag,payload:M.payload,callback:M.callback,next:null},te===null?(q=te=K,V=se):te=te.next=K,_|=G;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;K=M,M=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);te===null&&(V=se),g.baseState=V,g.firstBaseUpdate=q,g.lastBaseUpdate=te,y===null&&(g.shared.lanes=0),Na|=_,i.lanes=_,i.memoizedState=se}}function ub(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function db(i,r){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)ub(c[i],r)}var go=F(null),Gu=F(0);function hb(i,r){i=Li,ie(Gu,i),ie(go,r),Li=i|r.baseLanes}function gm(){ie(Gu,Li),ie(go,go.current)}function xm(){Li=Gu.current,Z(go),Z(Gu)}var Jn=F(null),bs=null;function _a(i){var r=i.alternate;ie(Bt,Bt.current&1),ie(Jn,i),bs===null&&(r===null||go.current!==null||r.memoizedState!==null)&&(bs=i)}function ym(i){ie(Bt,Bt.current),ie(Jn,i),bs===null&&(bs=i)}function fb(i){i.tag===22?(ie(Bt,Bt.current),ie(Jn,i),bs===null&&(bs=i)):wa()}function wa(){ie(Bt,Bt.current),ie(Jn,Jn.current)}function es(i){Z(Jn),bs===i&&(bs=null),Z(Bt)}var Bt=F(0);function Xu(i){for(var r=i;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||jp(c)||Np(c)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ti=0,ze=null,ft=null,$t=null,$u=!1,xo=!1,vr=!1,Ku=0,Fl=0,yo=null,hC=0;function Et(){throw Error(s(321))}function bm(i,r){if(r===null)return!1;for(var c=0;c<r.length&&c<i.length;c++)if(!Zn(i[c],r[c]))return!1;return!0}function vm(i,r,c,f,g,y){return Ti=y,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?Kb:Lm,vr=!1,y=c(f,g),vr=!1,xo&&(y=pb(r,c,f,g)),mb(i),y}function mb(i){W.H=Yl;var r=ft!==null&&ft.next!==null;if(Ti=0,$t=ft=ze=null,$u=!1,Fl=0,yo=null,r)throw Error(s(300));i===null||Kt||(i=i.dependencies,i!==null&&Fu(i)&&(Kt=!0))}function pb(i,r,c,f){ze=i;var g=0;do{if(xo&&(yo=null),Fl=0,xo=!1,25<=g)throw Error(s(301));if(g+=1,$t=ft=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=Zb,y=r(c,f)}while(xo);return y}function fC(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Hl(r):r,i=i.useState()[0],(ft!==null?ft.memoizedState:null)!==i&&(ze.flags|=1024),r}function _m(){var i=Ku!==0;return Ku=0,i}function wm(i,r,c){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~c}function Sm(i){if($u){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$u=!1}Ti=0,$t=ft=ze=null,xo=!1,Fl=Ku=0,yo=null}function On(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ze.memoizedState=$t=i:$t=$t.next=i,$t}function Vt(){if(ft===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=ft.next;var r=$t===null?ze.memoizedState:$t.next;if(r!==null)$t=r,ft=i;else{if(i===null)throw ze.alternate===null?Error(s(467)):Error(s(310));ft=i,i={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},$t===null?ze.memoizedState=$t=i:$t=$t.next=i}return $t}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(i){var r=Fl;return Fl+=1,yo===null&&(yo=[]),i=ab(yo,i,r),r=ze,($t===null?r.memoizedState:$t.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Kb:Lm),i}function Qu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hl(i);if(i.$$typeof===E)return yn(i)}throw Error(s(438,String(i)))}function jm(i){var r=null,c=ze.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var f=ze.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=Zu(),ze.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(i),f=0;f<i;f++)c[f]=$;return r.index++,c}function Mi(i,r){return typeof r=="function"?r(i):r}function Ju(i){var r=Vt();return Nm(r,ft,i)}function Nm(i,r,c){var f=i.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=c;var g=i.baseQueue,y=f.pending;if(y!==null){if(g!==null){var _=g.next;g.next=y.next,y.next=_}r.baseQueue=g=y,f.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{r=g.next;var M=_=null,V=null,q=r,te=!1;do{var se=q.lane&-536870913;if(se!==q.lane?(Xe&se)===se:(Ti&se)===se){var G=q.revertLane;if(G===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),se===ho&&(te=!0);else if((Ti&G)===G){q=q.next,G===ho&&(te=!0);continue}else se={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(M=V=se,_=y):V=V.next=se,ze.lanes|=G,Na|=G;se=q.action,vr&&c(y,se),y=q.hasEagerState?q.eagerState:c(y,se)}else G={lane:se,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(M=V=G,_=y):V=V.next=G,ze.lanes|=se,Na|=se;q=q.next}while(q!==null&&q!==r);if(V===null?_=y:V.next=M,!Zn(y,i.memoizedState)&&(Kt=!0,te&&(c=fo,c!==null)))throw c;i.memoizedState=y,i.baseState=_,i.baseQueue=V,f.lastRenderedState=y}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function km(i){var r=Vt(),c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=i;var f=c.dispatch,g=c.pending,y=r.memoizedState;if(g!==null){c.pending=null;var _=g=g.next;do y=i(y,_.action),_=_.next;while(_!==g);Zn(y,r.memoizedState)||(Kt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),c.lastRenderedState=y}return[y,f]}function gb(i,r,c){var f=ze,g=Vt(),y=Je;if(y){if(c===void 0)throw Error(s(407));c=c()}else c=r();var _=!Zn((ft||g).memoizedState,c);if(_&&(g.memoizedState=c,Kt=!0),g=g.queue,Cm(bb.bind(null,f,g,i),[i]),g.getSnapshot!==r||_||$t!==null&&$t.memoizedState.tag&1){if(f.flags|=2048,bo(9,{destroy:void 0},yb.bind(null,f,g,c,r),null),xt===null)throw Error(s(349));y||(Ti&127)!==0||xb(f,r,c)}return c}function xb(i,r,c){i.flags|=16384,i={getSnapshot:r,value:c},r=ze.updateQueue,r===null?(r=Zu(),ze.updateQueue=r,r.stores=[i]):(c=r.stores,c===null?r.stores=[i]:c.push(i))}function yb(i,r,c,f){r.value=c,r.getSnapshot=f,vb(r)&&_b(i)}function bb(i,r,c){return c(function(){vb(r)&&_b(i)})}function vb(i){var r=i.getSnapshot;i=i.value;try{var c=r();return!Zn(i,c)}catch{return!0}}function _b(i){var r=dr(i,2);r!==null&&Un(r,i,2)}function Tm(i){var r=On();if(typeof i=="function"){var c=i;if(i=c(),vr){Gn(!0);try{c()}finally{Gn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:i},r}function wb(i,r,c,f){return i.baseState=c,Nm(i,ft,typeof f=="function"?f:Mi)}function mC(i,r,c,f,g){if(nd(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};W.T!==null?c(!0):y.isTransition=!1,f(y),c=r.pending,c===null?(y.next=r.pending=y,Sb(r,y)):(y.next=c.next,r.pending=c.next=y)}}function Sb(i,r){var c=r.action,f=r.payload,g=i.state;if(r.isTransition){var y=W.T,_={};W.T=_;try{var M=c(g,f),V=W.S;V!==null&&V(_,M),jb(i,r,M)}catch(q){Mm(i,r,q)}finally{y!==null&&_.types!==null&&(y.types=_.types),W.T=y}}else try{y=c(g,f),jb(i,r,y)}catch(q){Mm(i,r,q)}}function jb(i,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Nb(i,r,f)},function(f){return Mm(i,r,f)}):Nb(i,r,c)}function Nb(i,r,c){r.status="fulfilled",r.value=c,kb(r),i.state=c,r=i.pending,r!==null&&(c=r.next,c===r?i.pending=null:(c=c.next,r.next=c,Sb(i,c)))}function Mm(i,r,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=c,kb(r),r=r.next;while(r!==f)}i.action=null}function kb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Tb(i,r){return r}function Mb(i,r){if(Je){var c=xt.formState;if(c!==null){e:{var f=ze;if(Je){if(yt){t:{for(var g=yt,y=ys;g.nodeType!==8;){if(!y){g=null;break t}if(g=vs(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){yt=vs(g.nextSibling),f=g.data==="F!";break e}}ga(f)}f=!1}f&&(r=c[0])}}return c=On(),c.memoizedState=c.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tb,lastRenderedState:r},c.queue=f,c=Gb.bind(null,ze,f),f.dispatch=c,f=Tm(!1),y=Rm.bind(null,ze,!1,f.queue),f=On(),g={state:r,dispatch:null,action:i,pending:null},f.queue=g,c=mC.bind(null,ze,g,y,c),g.dispatch=c,f.memoizedState=i,[r,c,!1]}function Cb(i){var r=Vt();return Db(r,ft,i)}function Db(i,r,c){if(r=Nm(i,r,Tb)[0],i=Ju(Mi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=Hl(r)}catch(_){throw _===mo?Yu:_}else f=r;r=Vt();var g=r.queue,y=g.dispatch;return c!==r.memoizedState&&(ze.flags|=2048,bo(9,{destroy:void 0},pC.bind(null,g,c),null)),[f,y,i]}function pC(i,r){i.action=r}function Eb(i){var r=Vt(),c=ft;if(c!==null)return Db(r,c,i);Vt(),r=r.memoizedState,c=Vt();var f=c.queue.dispatch;return c.memoizedState=i,[r,f,!1]}function bo(i,r,c,f){return i={tag:i,create:c,deps:f,inst:r,next:null},r=ze.updateQueue,r===null&&(r=Zu(),ze.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,r.lastEffect=i),i}function Ab(){return Vt().memoizedState}function ed(i,r,c,f){var g=On();ze.flags|=i,g.memoizedState=bo(1|r,{destroy:void 0},c,f===void 0?null:f)}function td(i,r,c,f){var g=Vt();f=f===void 0?null:f;var y=g.memoizedState.inst;ft!==null&&f!==null&&bm(f,ft.memoizedState.deps)?g.memoizedState=bo(r,y,c,f):(ze.flags|=i,g.memoizedState=bo(1|r,y,c,f))}function Ob(i,r){ed(8390656,8,i,r)}function Cm(i,r){td(2048,8,i,r)}function gC(i){ze.flags|=4;var r=ze.updateQueue;if(r===null)r=Zu(),ze.updateQueue=r,r.events=[i];else{var c=r.events;c===null?r.events=[i]:c.push(i)}}function Rb(i){var r=Vt().memoizedState;return gC({ref:r,nextImpl:i}),function(){if((ot&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Lb(i,r){return td(4,2,i,r)}function Pb(i,r){return td(4,4,i,r)}function zb(i,r){if(typeof r=="function"){i=i();var c=r(i);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Bb(i,r,c){c=c!=null?c.concat([i]):null,td(4,4,zb.bind(null,r,i),c)}function Dm(){}function Vb(i,r){var c=Vt();r=r===void 0?null:r;var f=c.memoizedState;return r!==null&&bm(r,f[1])?f[0]:(c.memoizedState=[i,r],i)}function Fb(i,r){var c=Vt();r=r===void 0?null:r;var f=c.memoizedState;if(r!==null&&bm(r,f[1]))return f[0];if(f=i(),vr){Gn(!0);try{i()}finally{Gn(!1)}}return c.memoizedState=[f,r],f}function Em(i,r,c){return c===void 0||(Ti&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=r:(i.memoizedState=c,i=Hv(),ze.lanes|=i,Na|=i,c)}function Hb(i,r,c,f){return Zn(c,r)?c:go.current!==null?(i=Em(i,c,f),Zn(i,r)||(Kt=!0),i):(Ti&42)===0||(Ti&1073741824)!==0&&(Xe&261930)===0?(Kt=!0,i.memoizedState=c):(i=Hv(),ze.lanes|=i,Na|=i,r)}function Ub(i,r,c,f,g){var y=Q.p;Q.p=y!==0&&8>y?y:8;var _=W.T,M={};W.T=M,Rm(i,!1,r,c);try{var V=g(),q=W.S;if(q!==null&&q(M,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=dC(V,f);Ul(i,r,te,ss(i))}else Ul(i,r,f,ss(i))}catch(se){Ul(i,r,{then:function(){},status:"rejected",reason:se},ss())}finally{Q.p=y,_!==null&&M.types!==null&&(_.types=M.types),W.T=_}}function xC(){}function Am(i,r,c,f){if(i.tag!==5)throw Error(s(476));var g=Yb(i).queue;Ub(i,g,r,ue,c===null?xC:function(){return Wb(i),c(f)})}function Yb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ue},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:c},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Wb(i){var r=Yb(i);r.next===null&&(r=i.alternate.memoizedState),Ul(i,r.next.queue,{},ss())}function Om(){return yn(ac)}function Ib(){return Vt().memoizedState}function qb(){return Vt().memoizedState}function yC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var c=ss();i=ba(c);var f=va(r,i,c);f!==null&&(Un(f,r,c),zl(f,r,c)),r={cache:lm()},i.payload=r;return}r=r.return}}function bC(i,r,c){var f=ss();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},nd(i)?Xb(r,c):(c=Zf(i,r,c,f),c!==null&&(Un(c,i,f),$b(c,r,f)))}function Gb(i,r,c){var f=ss();Ul(i,r,c,f)}function Ul(i,r,c,f){var g={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(nd(i))Xb(r,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,M=y(_,c);if(g.hasEagerState=!0,g.eagerState=M,Zn(M,_))return Pu(i,r,g,0),xt===null&&Lu(),!1}catch{}if(c=Zf(i,r,g,f),c!==null)return Un(c,i,f),$b(c,r,f),!0}return!1}function Rm(i,r,c,f){if(f={lane:2,revertLane:hp(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},nd(i)){if(r)throw Error(s(479))}else r=Zf(i,c,f,2),r!==null&&Un(r,i,2)}function nd(i){var r=i.alternate;return i===ze||r!==null&&r===ze}function Xb(i,r){xo=$u=!0;var c=i.pending;c===null?r.next=r:(r.next=c.next,c.next=r),i.pending=r}function $b(i,r,c){if((c&4194048)!==0){var f=r.lanes;f&=i.pendingLanes,c|=f,r.lanes=c,Ks(i,c)}}var Yl={readContext:yn,use:Qu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Yl.useEffectEvent=Et;var Kb={readContext:yn,use:Qu,useCallback:function(i,r){return On().memoizedState=[i,r===void 0?null:r],i},useContext:yn,useEffect:Ob,useImperativeHandle:function(i,r,c){c=c!=null?c.concat([i]):null,ed(4194308,4,zb.bind(null,r,i),c)},useLayoutEffect:function(i,r){return ed(4194308,4,i,r)},useInsertionEffect:function(i,r){ed(4,2,i,r)},useMemo:function(i,r){var c=On();r=r===void 0?null:r;var f=i();if(vr){Gn(!0);try{i()}finally{Gn(!1)}}return c.memoizedState=[f,r],f},useReducer:function(i,r,c){var f=On();if(c!==void 0){var g=c(r);if(vr){Gn(!0);try{c(r)}finally{Gn(!1)}}}else g=r;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=bC.bind(null,ze,i),[f.memoizedState,i]},useRef:function(i){var r=On();return i={current:i},r.memoizedState=i},useState:function(i){i=Tm(i);var r=i.queue,c=Gb.bind(null,ze,r);return r.dispatch=c,[i.memoizedState,c]},useDebugValue:Dm,useDeferredValue:function(i,r){var c=On();return Em(c,i,r)},useTransition:function(){var i=Tm(!1);return i=Ub.bind(null,ze,i.queue,!0,!1),On().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,c){var f=ze,g=On();if(Je){if(c===void 0)throw Error(s(407));c=c()}else{if(c=r(),xt===null)throw Error(s(349));(Xe&127)!==0||xb(f,r,c)}g.memoizedState=c;var y={value:c,getSnapshot:r};return g.queue=y,Ob(bb.bind(null,f,y,i),[i]),f.flags|=2048,bo(9,{destroy:void 0},yb.bind(null,f,y,c,r),null),c},useId:function(){var i=On(),r=xt.identifierPrefix;if(Je){var c=ei,f=Js;c=(f&~(1<<32-tn(f)-1)).toString(32)+c,r="_"+r+"R_"+c,c=Ku++,0<c&&(r+="H"+c.toString(32)),r+="_"}else c=hC++,r="_"+r+"r_"+c.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Om,useFormState:Mb,useActionState:Mb,useOptimistic:function(i){var r=On();r.memoizedState=r.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=Rm.bind(null,ze,!0,c),c.dispatch=r,[i,r]},useMemoCache:jm,useCacheRefresh:function(){return On().memoizedState=yC.bind(null,ze)},useEffectEvent:function(i){var r=On(),c={impl:i};return r.memoizedState=c,function(){if((ot&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},Lm={readContext:yn,use:Qu,useCallback:Vb,useContext:yn,useEffect:Cm,useImperativeHandle:Bb,useInsertionEffect:Lb,useLayoutEffect:Pb,useMemo:Fb,useReducer:Ju,useRef:Ab,useState:function(){return Ju(Mi)},useDebugValue:Dm,useDeferredValue:function(i,r){var c=Vt();return Hb(c,ft.memoizedState,i,r)},useTransition:function(){var i=Ju(Mi)[0],r=Vt().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:gb,useId:Ib,useHostTransitionStatus:Om,useFormState:Cb,useActionState:Cb,useOptimistic:function(i,r){var c=Vt();return wb(c,ft,i,r)},useMemoCache:jm,useCacheRefresh:qb};Lm.useEffectEvent=Rb;var Zb={readContext:yn,use:Qu,useCallback:Vb,useContext:yn,useEffect:Cm,useImperativeHandle:Bb,useInsertionEffect:Lb,useLayoutEffect:Pb,useMemo:Fb,useReducer:km,useRef:Ab,useState:function(){return km(Mi)},useDebugValue:Dm,useDeferredValue:function(i,r){var c=Vt();return ft===null?Em(c,i,r):Hb(c,ft.memoizedState,i,r)},useTransition:function(){var i=km(Mi)[0],r=Vt().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:gb,useId:Ib,useHostTransitionStatus:Om,useFormState:Eb,useActionState:Eb,useOptimistic:function(i,r){var c=Vt();return ft!==null?wb(c,ft,i,r):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:jm,useCacheRefresh:qb};Zb.useEffectEvent=Rb;function Pm(i,r,c,f){r=i.memoizedState,c=c(f,r),c=c==null?r:x({},r,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var zm={enqueueSetState:function(i,r,c){i=i._reactInternals;var f=ss(),g=ba(f);g.payload=r,c!=null&&(g.callback=c),r=va(i,g,f),r!==null&&(Un(r,i,f),zl(r,i,f))},enqueueReplaceState:function(i,r,c){i=i._reactInternals;var f=ss(),g=ba(f);g.tag=1,g.payload=r,c!=null&&(g.callback=c),r=va(i,g,f),r!==null&&(Un(r,i,f),zl(r,i,f))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var c=ss(),f=ba(c);f.tag=2,r!=null&&(f.callback=r),r=va(i,f,c),r!==null&&(Un(r,i,c),zl(r,i,c))}};function Qb(i,r,c,f,g,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,_):r.prototype&&r.prototype.isPureReactComponent?!Cl(c,f)||!Cl(g,y):!0}function Jb(i,r,c,f){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,f),r.state!==i&&zm.enqueueReplaceState(r,r.state,null)}function _r(i,r){var c=r;if("ref"in r){c={};for(var f in r)f!=="ref"&&(c[f]=r[f])}if(i=i.defaultProps){c===r&&(c=x({},c));for(var g in i)c[g]===void 0&&(c[g]=i[g])}return c}function ev(i){Ru(i)}function tv(i){console.error(i)}function nv(i){Ru(i)}function sd(i,r){try{var c=i.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function sv(i,r,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Bm(i,r,c){return c=ba(c),c.tag=3,c.payload={element:null},c.callback=function(){sd(i,r)},c}function iv(i){return i=ba(i),i.tag=3,i}function av(i,r,c,f){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=f.value;i.payload=function(){return g(y)},i.callback=function(){sv(r,c,f)}}var _=c.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){sv(r,c,f),typeof g!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function vC(i,r,c,f,g){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=c.alternate,r!==null&&uo(r,c,g,!0),c=Jn.current,c!==null){switch(c.tag){case 31:case 13:return bs===null?pd():c.alternate===null&&At===0&&(At=3),c.flags&=-257,c.flags|=65536,c.lanes=g,f===Wu?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([f]):r.add(f),cp(i,f,g)),!1;case 22:return c.flags|=65536,f===Wu?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([f]):c.add(f)),cp(i,f,g)),!1}throw Error(s(435,c.tag))}return cp(i,f,g),pd(),!1}if(Je)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,f!==sm&&(i=Error(s(422),{cause:f}),Al(ps(i,c)))):(f!==sm&&(r=Error(s(423),{cause:f}),Al(ps(r,c))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=ps(f,c),g=Bm(i.stateNode,f,g),mm(i,g),At!==4&&(At=2)),!1;var y=Error(s(520),{cause:f});if(y=ps(y,c),Zl===null?Zl=[y]:Zl.push(y),At!==4&&(At=2),r===null)return!0;f=ps(f,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,i=g&-g,c.lanes|=i,i=Bm(c.stateNode,f,i),mm(c,i),!1;case 1:if(r=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ka===null||!ka.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=iv(g),av(g,i,c,f),mm(c,g),!1}c=c.return}while(c!==null);return!1}var Vm=Error(s(461)),Kt=!1;function bn(i,r,c,f){r.child=i===null?cb(r,null,c,f):br(r,i.child,c,f)}function rv(i,r,c,f,g){c=c.render;var y=r.ref;if("ref"in f){var _={};for(var M in f)M!=="ref"&&(_[M]=f[M])}else _=f;return pr(r),f=vm(i,r,c,_,y,g),M=_m(),i!==null&&!Kt?(wm(i,r,g),Ci(i,r,g)):(Je&&M&&tm(r),r.flags|=1,bn(i,r,f,g),r.child)}function ov(i,r,c,f,g){if(i===null){var y=c.type;return typeof y=="function"&&!Qf(y)&&y.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=y,lv(i,r,y,f,g)):(i=Bu(c.type,null,f,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!Gm(i,g)){var _=y.memoizedProps;if(c=c.compare,c=c!==null?c:Cl,c(_,f)&&i.ref===r.ref)return Ci(i,r,g)}return r.flags|=1,i=Si(y,f),i.ref=r.ref,i.return=r,r.child=i}function lv(i,r,c,f,g){if(i!==null){var y=i.memoizedProps;if(Cl(y,f)&&i.ref===r.ref)if(Kt=!1,r.pendingProps=f=y,Gm(i,g))(i.flags&131072)!==0&&(Kt=!0);else return r.lanes=i.lanes,Ci(i,r,g)}return Fm(i,r,c,f,g)}function cv(i,r,c,f){var g=f.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;f=g&~y}else f=0,r.child=null;return uv(i,r,y,c,f)}if((c&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Uu(r,y!==null?y.cachePool:null),y!==null?hb(r,y):gm(),fb(r);else return f=r.lanes=536870912,uv(i,r,y!==null?y.baseLanes|c:c,c,f)}else y!==null?(Uu(r,y.cachePool),hb(r,y),wa(),r.memoizedState=null):(i!==null&&Uu(r,null),gm(),wa());return bn(i,r,g,c),r.child}function Wl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function uv(i,r,c,f,g){var y=um();return y=y===null?null:{parent:Xt._currentValue,pool:y},r.memoizedState={baseLanes:c,cachePool:y},i!==null&&Uu(r,null),gm(),fb(r),i!==null&&uo(i,r,f,!0),r.childLanes=g,null}function id(i,r){return r=rd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function dv(i,r,c){return br(r,i.child,null,c),i=id(r,r.pendingProps),i.flags|=2,es(r),r.memoizedState=null,i}function _C(i,r,c){var f=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Je){if(f.mode==="hidden")return i=id(r,f),r.lanes=536870912,Wl(null,i);if(ym(r),(i=yt)?(i=S1(i,ys),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ma!==null?{id:Js,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},c=Xy(i),c.return=r,r.child=c,xn=r,yt=null)):i=null,i===null)throw ga(r);return r.lanes=536870912,null}return id(r,f)}var y=i.memoizedState;if(y!==null){var _=y.dehydrated;if(ym(r),g)if(r.flags&256)r.flags&=-257,r=dv(i,r,c);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Kt||uo(i,r,c,!1),g=(c&i.childLanes)!==0,Kt||g){if(f=xt,f!==null&&(_=Zr(f,c),_!==0&&_!==y.retryLane))throw y.retryLane=_,dr(i,_),Un(f,i,_),Vm;pd(),r=dv(i,r,c)}else i=y.treeContext,yt=vs(_.nextSibling),xn=r,Je=!0,pa=null,ys=!1,i!==null&&Zy(r,i),r=id(r,f),r.flags|=4096;return r}return i=Si(i.child,{mode:f.mode,children:f.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ad(i,r){var c=r.ref;if(c===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(i===null||i.ref!==c)&&(r.flags|=4194816)}}function Fm(i,r,c,f,g){return pr(r),c=vm(i,r,c,f,void 0,g),f=_m(),i!==null&&!Kt?(wm(i,r,g),Ci(i,r,g)):(Je&&f&&tm(r),r.flags|=1,bn(i,r,c,g),r.child)}function hv(i,r,c,f,g,y){return pr(r),r.updateQueue=null,c=pb(r,f,c,g),mb(i),f=_m(),i!==null&&!Kt?(wm(i,r,y),Ci(i,r,y)):(Je&&f&&tm(r),r.flags|=1,bn(i,r,c,y),r.child)}function fv(i,r,c,f,g){if(pr(r),r.stateNode===null){var y=ro,_=c.contextType;typeof _=="object"&&_!==null&&(y=yn(_)),y=new c(f,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=zm,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=f,y.state=r.memoizedState,y.refs={},hm(r),_=c.contextType,y.context=typeof _=="object"&&_!==null?yn(_):ro,y.state=r.memoizedState,_=c.getDerivedStateFromProps,typeof _=="function"&&(Pm(r,c,_,f),y.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&zm.enqueueReplaceState(y,y.state,null),Vl(r,f,y,g),Bl(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(i===null){y=r.stateNode;var M=r.memoizedProps,V=_r(c,M);y.props=V;var q=y.context,te=c.contextType;_=ro,typeof te=="object"&&te!==null&&(_=yn(te));var se=c.getDerivedStateFromProps;te=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||q!==_)&&Jb(r,y,f,_),ya=!1;var G=r.memoizedState;y.state=G,Vl(r,f,y,g),Bl(),q=r.memoizedState,M||G!==q||ya?(typeof se=="function"&&(Pm(r,c,se,f),q=r.memoizedState),(V=ya||Qb(r,c,V,f,G,q,_))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=q),y.props=f,y.state=q,y.context=_,f=V):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{y=r.stateNode,fm(i,r),_=r.memoizedProps,te=_r(c,_),y.props=te,se=r.pendingProps,G=y.context,q=c.contextType,V=ro,typeof q=="object"&&q!==null&&(V=yn(q)),M=c.getDerivedStateFromProps,(q=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==se||G!==V)&&Jb(r,y,f,V),ya=!1,G=r.memoizedState,y.state=G,Vl(r,f,y,g),Bl();var K=r.memoizedState;_!==se||G!==K||ya||i!==null&&i.dependencies!==null&&Fu(i.dependencies)?(typeof M=="function"&&(Pm(r,c,M,f),K=r.memoizedState),(te=ya||Qb(r,c,te,f,G,K,V)||i!==null&&i.dependencies!==null&&Fu(i.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,K,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,K,V)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=K),y.props=f,y.state=K,y.context=V,f=te):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),f=!1)}return y=f,ad(i,r),f=(r.flags&128)!==0,y||f?(y=r.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&f?(r.child=br(r,i.child,null,g),r.child=br(r,null,c,g)):bn(i,r,c,g),r.memoizedState=y.state,i=r.child):i=Ci(i,r,g),i}function mv(i,r,c,f){return fr(),r.flags|=256,bn(i,r,c,f),r.child}var Hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(i){return{baseLanes:i,cachePool:sb()}}function Ym(i,r,c){return i=i!==null?i.childLanes&~c:0,r&&(i|=ns),i}function pv(i,r,c){var f=r.pendingProps,g=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=i!==null&&i.memoizedState===null?!1:(Bt.current&2)!==0),_&&(g=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Je){if(g?_a(r):wa(),(i=yt)?(i=S1(i,ys),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ma!==null?{id:Js,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},c=Xy(i),c.return=r,r.child=c,xn=r,yt=null)):i=null,i===null)throw ga(r);return Np(i)?r.lanes=32:r.lanes=536870912,null}var M=f.children;return f=f.fallback,g?(wa(),g=r.mode,M=rd({mode:"hidden",children:M},g),f=hr(f,g,c,null),M.return=r,f.return=r,M.sibling=f,r.child=M,f=r.child,f.memoizedState=Um(c),f.childLanes=Ym(i,_,c),r.memoizedState=Hm,Wl(null,f)):(_a(r),Wm(r,M))}var V=i.memoizedState;if(V!==null&&(M=V.dehydrated,M!==null)){if(y)r.flags&256?(_a(r),r.flags&=-257,r=Im(i,r,c)):r.memoizedState!==null?(wa(),r.child=i.child,r.flags|=128,r=null):(wa(),M=f.fallback,g=r.mode,f=rd({mode:"visible",children:f.children},g),M=hr(M,g,c,null),M.flags|=2,f.return=r,M.return=r,f.sibling=M,r.child=f,br(r,i.child,null,c),f=r.child,f.memoizedState=Um(c),f.childLanes=Ym(i,_,c),r.memoizedState=Hm,r=Wl(null,f));else if(_a(r),Np(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var q=_.dgst;_=q,f=Error(s(419)),f.stack="",f.digest=_,Al({value:f,source:null,stack:null}),r=Im(i,r,c)}else if(Kt||uo(i,r,c,!1),_=(c&i.childLanes)!==0,Kt||_){if(_=xt,_!==null&&(f=Zr(_,c),f!==0&&f!==V.retryLane))throw V.retryLane=f,dr(i,f),Un(_,i,f),Vm;jp(M)||pd(),r=Im(i,r,c)}else jp(M)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,yt=vs(M.nextSibling),xn=r,Je=!0,pa=null,ys=!1,i!==null&&Zy(r,i),r=Wm(r,f.children),r.flags|=4096);return r}return g?(wa(),M=f.fallback,g=r.mode,V=i.child,q=V.sibling,f=Si(V,{mode:"hidden",children:f.children}),f.subtreeFlags=V.subtreeFlags&65011712,q!==null?M=Si(q,M):(M=hr(M,g,c,null),M.flags|=2),M.return=r,f.return=r,f.sibling=M,r.child=f,Wl(null,f),f=r.child,M=i.child.memoizedState,M===null?M=Um(c):(g=M.cachePool,g!==null?(V=Xt._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=sb(),M={baseLanes:M.baseLanes|c,cachePool:g}),f.memoizedState=M,f.childLanes=Ym(i,_,c),r.memoizedState=Hm,Wl(i.child,f)):(_a(r),c=i.child,i=c.sibling,c=Si(c,{mode:"visible",children:f.children}),c.return=r,c.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=c,r.memoizedState=null,c)}function Wm(i,r){return r=rd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function rd(i,r){return i=Qn(22,i,null,r),i.lanes=0,i}function Im(i,r,c){return br(r,i.child,null,c),i=Wm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function gv(i,r,c){i.lanes|=r;var f=i.alternate;f!==null&&(f.lanes|=r),rm(i.return,r,c)}function qm(i,r,c,f,g,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=c,_.tailMode=g,_.treeForkCount=y)}function xv(i,r,c){var f=r.pendingProps,g=f.revealOrder,y=f.tail;f=f.children;var _=Bt.current,M=(_&2)!==0;if(M?(_=_&1|2,r.flags|=128):_&=1,ie(Bt,_),bn(i,r,f,c),f=Je?El:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gv(i,c,r);else if(i.tag===19)gv(i,c,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(c=r.child,g=null;c!==null;)i=c.alternate,i!==null&&Xu(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=r.child,r.child=null):(g=c.sibling,c.sibling=null),qm(r,!1,g,c,y,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&Xu(i)===null){r.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}qm(r,!0,c,null,y,f);break;case"together":qm(r,!1,null,null,void 0,f);break;default:r.memoizedState=null}return r.child}function Ci(i,r,c){if(i!==null&&(r.dependencies=i.dependencies),Na|=r.lanes,(c&r.childLanes)===0)if(i!==null){if(uo(i,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,c=Si(i,i.pendingProps),r.child=c,c.return=r;i.sibling!==null;)i=i.sibling,c=c.sibling=Si(i,i.pendingProps),c.return=r;c.sibling=null}return r.child}function Gm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Fu(i)))}function wC(i,r,c){switch(r.tag){case 3:je(r,r.stateNode.containerInfo),xa(r,Xt,i.memoizedState.cache),fr();break;case 27:case 5:ut(r);break;case 4:je(r,r.stateNode.containerInfo);break;case 10:xa(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ym(r),null;break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(_a(r),r.flags|=128,null):(c&r.child.childLanes)!==0?pv(i,r,c):(_a(r),i=Ci(i,r,c),i!==null?i.sibling:null);_a(r);break;case 19:var g=(i.flags&128)!==0;if(f=(c&r.childLanes)!==0,f||(uo(i,r,c,!1),f=(c&r.childLanes)!==0),g){if(f)return xv(i,r,c);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ie(Bt,Bt.current),f)break;return null;case 22:return r.lanes=0,cv(i,r,c,r.pendingProps);case 24:xa(r,Xt,i.memoizedState.cache)}return Ci(i,r,c)}function yv(i,r,c){if(i!==null)if(i.memoizedProps!==r.pendingProps)Kt=!0;else{if(!Gm(i,c)&&(r.flags&128)===0)return Kt=!1,wC(i,r,c);Kt=(i.flags&131072)!==0}else Kt=!1,Je&&(r.flags&1048576)!==0&&Ky(r,El,r.index);switch(r.lanes=0,r.tag){case 16:e:{var f=r.pendingProps;if(i=xr(r.elementType),r.type=i,typeof i=="function")Qf(i)?(f=_r(i,f),r.tag=1,r=fv(null,r,i,f,c)):(r.tag=0,r=Fm(null,r,i,f,c));else{if(i!=null){var g=i.$$typeof;if(g===O){r.tag=11,r=rv(null,r,i,f,c);break e}else if(g===L){r.tag=14,r=ov(null,r,i,f,c);break e}}throw r=fe(i)||i,Error(s(306,r,""))}}return r;case 0:return Fm(i,r,r.type,r.pendingProps,c);case 1:return f=r.type,g=_r(f,r.pendingProps),fv(i,r,f,g,c);case 3:e:{if(je(r,r.stateNode.containerInfo),i===null)throw Error(s(387));f=r.pendingProps;var y=r.memoizedState;g=y.element,fm(i,r),Vl(r,f,null,c);var _=r.memoizedState;if(f=_.cache,xa(r,Xt,f),f!==y.cache&&om(r,[Xt],c,!0),Bl(),f=_.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=mv(i,r,f,c);break e}else if(f!==g){g=ps(Error(s(424)),r),Al(g),r=mv(i,r,f,c);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,yt=vs(i.firstChild),xn=r,Je=!0,pa=null,ys=!0,c=cb(r,null,f,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(fr(),f===g){r=Ci(i,r,c);break e}bn(i,r,f,c)}r=r.child}return r;case 26:return ad(i,r),i===null?(c=C1(r.type,null,r.pendingProps,null))?r.memoizedState=c:Je||(c=r.type,i=r.pendingProps,f=wd(ae.current).createElement(c),f[Wt]=r,f[pn]=i,vn(f,c,i),rt(f),r.stateNode=f):r.memoizedState=C1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ut(r),i===null&&Je&&(f=r.stateNode=k1(r.type,r.pendingProps,ae.current),xn=r,ys=!0,g=yt,Da(r.type)?(kp=g,yt=vs(f.firstChild)):yt=g),bn(i,r,r.pendingProps.children,c),ad(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Je&&((g=f=yt)&&(f=QC(f,r.type,r.pendingProps,ys),f!==null?(r.stateNode=f,xn=r,yt=vs(f.firstChild),ys=!1,g=!0):g=!1),g||ga(r)),ut(r),g=r.type,y=r.pendingProps,_=i!==null?i.memoizedProps:null,f=y.children,_p(g,y)?f=null:_!==null&&_p(g,_)&&(r.flags|=32),r.memoizedState!==null&&(g=vm(i,r,fC,null,null,c),ac._currentValue=g),ad(i,r),bn(i,r,f,c),r.child;case 6:return i===null&&Je&&((i=c=yt)&&(c=JC(c,r.pendingProps,ys),c!==null?(r.stateNode=c,xn=r,yt=null,i=!0):i=!1),i||ga(r)),null;case 13:return pv(i,r,c);case 4:return je(r,r.stateNode.containerInfo),f=r.pendingProps,i===null?r.child=br(r,null,f,c):bn(i,r,f,c),r.child;case 11:return rv(i,r,r.type,r.pendingProps,c);case 7:return bn(i,r,r.pendingProps,c),r.child;case 8:return bn(i,r,r.pendingProps.children,c),r.child;case 12:return bn(i,r,r.pendingProps.children,c),r.child;case 10:return f=r.pendingProps,xa(r,r.type,f.value),bn(i,r,f.children,c),r.child;case 9:return g=r.type._context,f=r.pendingProps.children,pr(r),g=yn(g),f=f(g),r.flags|=1,bn(i,r,f,c),r.child;case 14:return ov(i,r,r.type,r.pendingProps,c);case 15:return lv(i,r,r.type,r.pendingProps,c);case 19:return xv(i,r,c);case 31:return _C(i,r,c);case 22:return cv(i,r,c,r.pendingProps);case 24:return pr(r),f=yn(Xt),i===null?(g=um(),g===null&&(g=xt,y=lm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),r.memoizedState={parent:f,cache:g},hm(r),xa(r,Xt,g)):((i.lanes&c)!==0&&(fm(i,r),Vl(r,null,null,c),Bl()),g=i.memoizedState,y=r.memoizedState,g.parent!==f?(g={parent:f,cache:f},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),xa(r,Xt,f)):(f=y.cache,xa(r,Xt,f),f!==g.cache&&om(r,[Xt],c,!0))),bn(i,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Di(i){i.flags|=4}function Xm(i,r,c,f,g){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(Iv())i.flags|=8192;else throw yr=Wu,dm}else i.flags&=-16777217}function bv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!R1(r))if(Iv())i.flags|=8192;else throw yr=Wu,dm}function od(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Xn():536870912,i.lanes|=r,So|=r)}function Il(i,r){if(!Je)switch(i.tailMode){case"hidden":r=i.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function bt(i){var r=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(r)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=c,r}function SC(i,r,c){var f=r.pendingProps;switch(nm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return bt(r),null;case 3:return c=r.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),ki(Xt),ke(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(co(r)?Di(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,im())),bt(r),null;case 26:var g=r.type,y=r.memoizedState;return i===null?(Di(r),y!==null?(bt(r),bv(r,y)):(bt(r),Xm(r,g,null,f,c))):y?y!==i.memoizedState?(Di(r),bt(r),bv(r,y)):(bt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==f&&Di(r),bt(r),Xm(r,g,i,f,c)),null;case 27:if(dn(r),c=ae.current,g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&Di(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return bt(r),null}i=z.current,co(r)?Qy(r):(i=k1(g,f,c),r.stateNode=i,Di(r))}return bt(r),null;case 5:if(dn(r),g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&Di(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return bt(r),null}if(y=z.current,co(r))Qy(r);else{var _=wd(ae.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?y.multiple=!0:f.size&&(y.size=f.size);break;default:y=typeof f.is=="string"?_.createElement(g,{is:f.is}):_.createElement(g)}}y[Wt]=r,y[pn]=f;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(vn(y,g,f),g){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Di(r)}}return bt(r),Xm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,c),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==f&&Di(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(s(166));if(i=ae.current,co(r)){if(i=r.stateNode,c=r.memoizedProps,f=null,g=xn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[Wt]=r,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||p1(i.nodeValue,c)),i||ga(r,!0)}else i=wd(i).createTextNode(f),i[Wt]=r,r.stateNode=i}return bt(r),null;case 31:if(c=r.memoizedState,i===null||i.memoizedState!==null){if(f=co(r),c!==null){if(i===null){if(!f)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Wt]=r}else fr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),i=!1}else c=im(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return r.flags&256?(es(r),r):(es(r),null);if((r.flags&128)!==0)throw Error(s(558))}return bt(r),null;case 13:if(f=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=co(r),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Wt]=r}else fr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),g=!1}else g=im(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(es(r),r):(es(r),null)}return es(r),(r.flags&128)!==0?(r.lanes=c,r):(c=f!==null,i=i!==null&&i.memoizedState!==null,c&&(f=r.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==g&&(f.flags|=2048)),c!==i&&c&&(r.child.flags|=8192),od(r,r.updateQueue),bt(r),null);case 4:return ke(),i===null&&gp(r.stateNode.containerInfo),bt(r),null;case 10:return ki(r.type),bt(r),null;case 19:if(Z(Bt),f=r.memoizedState,f===null)return bt(r),null;if(g=(r.flags&128)!==0,y=f.rendering,y===null)if(g)Il(f,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Xu(i),y!==null){for(r.flags|=128,Il(f,!1),i=y.updateQueue,r.updateQueue=i,od(r,i),r.subtreeFlags=0,i=c,c=r.child;c!==null;)Gy(c,i),c=c.sibling;return ie(Bt,Bt.current&1|2),Je&&ji(r,f.treeForkCount),r.child}i=i.sibling}f.tail!==null&&on()>hd&&(r.flags|=128,g=!0,Il(f,!1),r.lanes=4194304)}else{if(!g)if(i=Xu(y),i!==null){if(r.flags|=128,g=!0,i=i.updateQueue,r.updateQueue=i,od(r,i),Il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Je)return bt(r),null}else 2*on()-f.renderingStartTime>hd&&c!==536870912&&(r.flags|=128,g=!0,Il(f,!1),r.lanes=4194304);f.isBackwards?(y.sibling=r.child,r.child=y):(i=f.last,i!==null?i.sibling=y:r.child=y,f.last=y)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=on(),i.sibling=null,c=Bt.current,ie(Bt,g?c&1|2:c&1),Je&&ji(r,f.treeForkCount),i):(bt(r),null);case 22:case 23:return es(r),xm(),f=r.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(c&536870912)!==0&&(r.flags&128)===0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),c=r.updateQueue,c!==null&&od(r,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048),i!==null&&Z(gr),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ki(Xt),bt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function jC(i,r){switch(nm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ki(Xt),ke(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return dn(r),null;case 31:if(r.memoizedState!==null){if(es(r),r.alternate===null)throw Error(s(340));fr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(es(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));fr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Z(Bt),null;case 4:return ke(),null;case 10:return ki(r.type),null;case 22:case 23:return es(r),xm(),i!==null&&Z(gr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ki(Xt),null;case 25:return null;default:return null}}function vv(i,r){switch(nm(r),r.tag){case 3:ki(Xt),ke();break;case 26:case 27:case 5:dn(r);break;case 4:ke();break;case 31:r.memoizedState!==null&&es(r);break;case 13:es(r);break;case 19:Z(Bt);break;case 10:ki(r.type);break;case 22:case 23:es(r),xm(),i!==null&&Z(gr);break;case 24:ki(Xt)}}function ql(i,r){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&i)===i){f=void 0;var y=c.create,_=c.inst;f=y(),_.destroy=f}c=c.next}while(c!==g)}}catch(M){ct(r,r.return,M)}}function Sa(i,r,c){try{var f=r.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var y=g.next;f=y;do{if((f.tag&i)===i){var _=f.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,g=r;var V=c,q=M;try{q()}catch(te){ct(g,V,te)}}}f=f.next}while(f!==y)}}catch(te){ct(r,r.return,te)}}function _v(i){var r=i.updateQueue;if(r!==null){var c=i.stateNode;try{db(r,c)}catch(f){ct(i,i.return,f)}}}function wv(i,r,c){c.props=_r(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){ct(i,r,f)}}function Gl(i,r){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(g){ct(i,r,g)}}function ti(i,r){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(g){ct(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){ct(i,r,g)}else c.current=null}function Sv(i){var r=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(g){ct(i,i.return,g)}}function $m(i,r,c){try{var f=i.stateNode;qC(f,i.type,c,r),f[pn]=r}catch(g){ct(i,i.return,g)}}function jv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Da(i.type)||i.tag===4}function Km(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Da(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zm(i,r,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,r):(r=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,r.appendChild(i),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=Gt));else if(f!==4&&(f===27&&Da(i.type)&&(c=i.stateNode,r=null),i=i.child,i!==null))for(Zm(i,r,c),i=i.sibling;i!==null;)Zm(i,r,c),i=i.sibling}function ld(i,r,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?c.insertBefore(i,r):c.appendChild(i);else if(f!==4&&(f===27&&Da(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(ld(i,r,c),i=i.sibling;i!==null;)ld(i,r,c),i=i.sibling}function Nv(i){var r=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);vn(r,f,c),r[Wt]=i,r[pn]=c}catch(y){ct(i,i.return,y)}}var Ei=!1,Zt=!1,Qm=!1,kv=typeof WeakSet=="function"?WeakSet:Set,cn=null;function NC(i,r){if(i=i.containerInfo,bp=Cd,i=By(i),If(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var _=0,M=-1,V=-1,q=0,te=0,se=i,G=null;t:for(;;){for(var K;se!==c||g!==0&&se.nodeType!==3||(M=_+g),se!==y||f!==0&&se.nodeType!==3||(V=_+f),se.nodeType===3&&(_+=se.nodeValue.length),(K=se.firstChild)!==null;)G=se,se=K;for(;;){if(se===i)break t;if(G===c&&++q===g&&(M=_),G===y&&++te===f&&(V=_),(K=se.nextSibling)!==null)break;se=G,G=se.parentNode}se=K}c=M===-1||V===-1?null:{start:M,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(vp={focusedElem:i,selectionRange:c},Cd=!1,cn=r;cn!==null;)if(r=cn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,cn=i;else for(;cn!==null;){switch(r=cn,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)g=i[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=r,g=y.memoizedProps,y=y.memoizedState,f=c.stateNode;try{var _e=_r(c.type,g);i=f.getSnapshotBeforeUpdate(_e,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(De){ct(c,c.return,De)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,c=i.nodeType,c===9)Sp(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,cn=i;break}cn=r.return}}function Tv(i,r,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Oi(i,c),f&4&&ql(5,c);break;case 1:if(Oi(i,c),f&4)if(i=c.stateNode,r===null)try{i.componentDidMount()}catch(_){ct(c,c.return,_)}else{var g=_r(c.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){ct(c,c.return,_)}}f&64&&_v(c),f&512&&Gl(c,c.return);break;case 3:if(Oi(i,c),f&64&&(i=c.updateQueue,i!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{db(i,r)}catch(_){ct(c,c.return,_)}}break;case 27:r===null&&f&4&&Nv(c);case 26:case 5:Oi(i,c),r===null&&f&4&&Sv(c),f&512&&Gl(c,c.return);break;case 12:Oi(i,c);break;case 31:Oi(i,c),f&4&&Dv(i,c);break;case 13:Oi(i,c),f&4&&Ev(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=RC.bind(null,c),eD(i,c))));break;case 22:if(f=c.memoizedState!==null||Ei,!f){r=r!==null&&r.memoizedState!==null||Zt,g=Ei;var y=Zt;Ei=f,(Zt=r)&&!y?Ri(i,c,(c.subtreeFlags&8772)!==0):Oi(i,c),Ei=g,Zt=y}break;case 30:break;default:Oi(i,c)}}function Mv(i){var r=i.alternate;r!==null&&(i.alternate=null,Mv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ua(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var jt=null,Bn=!1;function Ai(i,r,c){for(c=c.child;c!==null;)Cv(i,r,c),c=c.sibling}function Cv(i,r,c){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Xs,c)}catch{}switch(c.tag){case 26:Zt||ti(c,r),Ai(i,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Zt||ti(c,r);var f=jt,g=Bn;Da(c.type)&&(jt=c.stateNode,Bn=!1),Ai(i,r,c),nc(c.stateNode),jt=f,Bn=g;break;case 5:Zt||ti(c,r);case 6:if(f=jt,g=Bn,jt=null,Ai(i,r,c),jt=f,Bn=g,jt!==null)if(Bn)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(c.stateNode)}catch(y){ct(c,r,y)}else try{jt.removeChild(c.stateNode)}catch(y){ct(c,r,y)}break;case 18:jt!==null&&(Bn?(i=jt,_1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Eo(i)):_1(jt,c.stateNode));break;case 4:f=jt,g=Bn,jt=c.stateNode.containerInfo,Bn=!0,Ai(i,r,c),jt=f,Bn=g;break;case 0:case 11:case 14:case 15:Sa(2,c,r),Zt||Sa(4,c,r),Ai(i,r,c);break;case 1:Zt||(ti(c,r),f=c.stateNode,typeof f.componentWillUnmount=="function"&&wv(c,r,f)),Ai(i,r,c);break;case 21:Ai(i,r,c);break;case 22:Zt=(f=Zt)||c.memoizedState!==null,Ai(i,r,c),Zt=f;break;default:Ai(i,r,c)}}function Dv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Eo(i)}catch(c){ct(r,r.return,c)}}}function Ev(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Eo(i)}catch(c){ct(r,r.return,c)}}function kC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new kv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new kv),r;default:throw Error(s(435,i.tag))}}function cd(i,r){var c=kC(i);r.forEach(function(f){if(!c.has(f)){c.add(f);var g=LC.bind(null,i,f);f.then(g,g)}})}function Vn(i,r){var c=r.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f],y=i,_=r,M=_;e:for(;M!==null;){switch(M.tag){case 27:if(Da(M.type)){jt=M.stateNode,Bn=!1;break e}break;case 5:jt=M.stateNode,Bn=!1;break e;case 3:case 4:jt=M.stateNode.containerInfo,Bn=!0;break e}M=M.return}if(jt===null)throw Error(s(160));Cv(y,_,g),jt=null,Bn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Av(r,i),r=r.sibling}var Bs=null;function Av(i,r){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vn(r,i),Fn(i),f&4&&(Sa(3,i,i.return),ql(3,i),Sa(5,i,i.return));break;case 1:Vn(r,i),Fn(i),f&512&&(Zt||c===null||ti(c,c.return)),f&64&&Ei&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var g=Bs;if(Vn(r,i),Fn(i),f&512&&(Zt||c===null||ti(c,c.return)),f&4){var y=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Rs]||y[Wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(f),g.head.insertBefore(y,g.querySelector("head > title"))),vn(y,f,c),y[Wt]=i,rt(y),f=y;break e;case"link":var _=A1("link","href",g).get(f+(c.href||""));if(_){for(var M=0;M<_.length;M++)if(y=_[M],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){_.splice(M,1);break t}}y=g.createElement(f),vn(y,f,c),g.head.appendChild(y);break;case"meta":if(_=A1("meta","content",g).get(f+(c.content||""))){for(M=0;M<_.length;M++)if(y=_[M],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){_.splice(M,1);break t}}y=g.createElement(f),vn(y,f,c),g.head.appendChild(y);break;default:throw Error(s(468,f))}y[Wt]=i,rt(y),f=y}i.stateNode=f}else O1(g,i.type,i.stateNode);else i.stateNode=E1(g,f,i.memoizedProps);else y!==f?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,f===null?O1(g,i.type,i.stateNode):E1(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&$m(i,i.memoizedProps,c.memoizedProps)}break;case 27:Vn(r,i),Fn(i),f&512&&(Zt||c===null||ti(c,c.return)),c!==null&&f&4&&$m(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Vn(r,i),Fn(i),f&512&&(Zt||c===null||ti(c,c.return)),i.flags&32){g=i.stateNode;try{B(g,"")}catch(_e){ct(i,i.return,_e)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,$m(i,g,c!==null?c.memoizedProps:g)),f&1024&&(Qm=!0);break;case 6:if(Vn(r,i),Fn(i),f&4){if(i.stateNode===null)throw Error(s(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(_e){ct(i,i.return,_e)}}break;case 3:if(Nd=null,g=Bs,Bs=Sd(r.containerInfo),Vn(r,i),Bs=g,Fn(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(_e){ct(i,i.return,_e)}Qm&&(Qm=!1,Ov(i));break;case 4:f=Bs,Bs=Sd(i.stateNode.containerInfo),Vn(r,i),Fn(i),Bs=f;break;case 12:Vn(r,i),Fn(i);break;case 31:Vn(r,i),Fn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,cd(i,f)));break;case 13:Vn(r,i),Fn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(dd=on()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,cd(i,f)));break;case 22:g=i.memoizedState!==null;var V=c!==null&&c.memoizedState!==null,q=Ei,te=Zt;if(Ei=q||g,Zt=te||V,Vn(r,i),Zt=te,Ei=q,Fn(i),f&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(c===null||V||Ei||Zt||wr(i)),c=null,r=i;;){if(r.tag===5||r.tag===26){if(c===null){V=c=r;try{if(y=V.stateNode,g)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=V.stateNode;var se=V.memoizedProps.style,G=se!=null&&se.hasOwnProperty("display")?se.display:null;M.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(_e){ct(V,V.return,_e)}}}else if(r.tag===6){if(c===null){V=r;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(_e){ct(V,V.return,_e)}}}else if(r.tag===18){if(c===null){V=r;try{var K=V.stateNode;g?w1(K,!0):w1(V.stateNode,!1)}catch(_e){ct(V,V.return,_e)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,cd(i,c))));break;case 19:Vn(r,i),Fn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,cd(i,f)));break;case 30:break;case 21:break;default:Vn(r,i),Fn(i)}}function Fn(i){var r=i.flags;if(r&2){try{for(var c,f=i.return;f!==null;){if(jv(f)){c=f;break}f=f.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var g=c.stateNode,y=Km(i);ld(i,y,g);break;case 5:var _=c.stateNode;c.flags&32&&(B(_,""),c.flags&=-33);var M=Km(i);ld(i,M,_);break;case 3:case 4:var V=c.stateNode.containerInfo,q=Km(i);Zm(i,q,V);break;default:throw Error(s(161))}}catch(te){ct(i,i.return,te)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Ov(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Ov(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Oi(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Tv(i,r.alternate,r),r=r.sibling}function wr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Sa(4,r,r.return),wr(r);break;case 1:ti(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&wv(r,r.return,c),wr(r);break;case 27:nc(r.stateNode);case 26:case 5:ti(r,r.return),wr(r);break;case 22:r.memoizedState===null&&wr(r);break;case 30:wr(r);break;default:wr(r)}i=i.sibling}}function Ri(i,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,g=i,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:Ri(g,y,c),ql(4,y);break;case 1:if(Ri(g,y,c),f=y,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(q){ct(f,f.return,q)}if(f=y,g=f.updateQueue,g!==null){var M=f.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)ub(V[g],M)}catch(q){ct(f,f.return,q)}}c&&_&64&&_v(y),Gl(y,y.return);break;case 27:Nv(y);case 26:case 5:Ri(g,y,c),c&&f===null&&_&4&&Sv(y),Gl(y,y.return);break;case 12:Ri(g,y,c);break;case 31:Ri(g,y,c),c&&_&4&&Dv(g,y);break;case 13:Ri(g,y,c),c&&_&4&&Ev(g,y);break;case 22:y.memoizedState===null&&Ri(g,y,c),Gl(y,y.return);break;case 30:break;default:Ri(g,y,c)}r=r.sibling}}function Jm(i,r){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Ol(c))}function ep(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ol(i))}function Vs(i,r,c,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rv(i,r,c,f),r=r.sibling}function Rv(i,r,c,f){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Vs(i,r,c,f),g&2048&&ql(9,r);break;case 1:Vs(i,r,c,f);break;case 3:Vs(i,r,c,f),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ol(i)));break;case 12:if(g&2048){Vs(i,r,c,f),i=r.stateNode;try{var y=r.memoizedProps,_=y.id,M=y.onPostCommit;typeof M=="function"&&M(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){ct(r,r.return,V)}}else Vs(i,r,c,f);break;case 31:Vs(i,r,c,f);break;case 13:Vs(i,r,c,f);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?Vs(i,r,c,f):Xl(i,r):y._visibility&2?Vs(i,r,c,f):(y._visibility|=2,vo(i,r,c,f,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Jm(_,r);break;case 24:Vs(i,r,c,f),g&2048&&ep(r.alternate,r);break;default:Vs(i,r,c,f)}}function vo(i,r,c,f,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,_=r,M=c,V=f,q=_.flags;switch(_.tag){case 0:case 11:case 15:vo(y,_,M,V,g),ql(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?vo(y,_,M,V,g):Xl(y,_):(te._visibility|=2,vo(y,_,M,V,g)),g&&q&2048&&Jm(_.alternate,_);break;case 24:vo(y,_,M,V,g),g&&q&2048&&ep(_.alternate,_);break;default:vo(y,_,M,V,g)}r=r.sibling}}function Xl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=i,f=r,g=f.flags;switch(f.tag){case 22:Xl(c,f),g&2048&&Jm(f.alternate,f);break;case 24:Xl(c,f),g&2048&&ep(f.alternate,f);break;default:Xl(c,f)}r=r.sibling}}var $l=8192;function _o(i,r,c){if(i.subtreeFlags&$l)for(i=i.child;i!==null;)Lv(i,r,c),i=i.sibling}function Lv(i,r,c){switch(i.tag){case 26:_o(i,r,c),i.flags&$l&&i.memoizedState!==null&&hD(c,Bs,i.memoizedState,i.memoizedProps);break;case 5:_o(i,r,c);break;case 3:case 4:var f=Bs;Bs=Sd(i.stateNode.containerInfo),_o(i,r,c),Bs=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=$l,$l=16777216,_o(i,r,c),$l=f):_o(i,r,c));break;default:_o(i,r,c)}}function Pv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Kl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var f=r[c];cn=f,Bv(f,i)}Pv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zv(i),i=i.sibling}function zv(i){switch(i.tag){case 0:case 11:case 15:Kl(i),i.flags&2048&&Sa(9,i,i.return);break;case 3:Kl(i);break;case 12:Kl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ud(i)):Kl(i);break;default:Kl(i)}}function ud(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var f=r[c];cn=f,Bv(f,i)}Pv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Sa(8,r,r.return),ud(r);break;case 22:c=r.stateNode,c._visibility&2&&(c._visibility&=-3,ud(r));break;default:ud(r)}i=i.sibling}}function Bv(i,r){for(;cn!==null;){var c=cn;switch(c.tag){case 0:case 11:case 15:Sa(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ol(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,cn=f;else e:for(c=i;cn!==null;){f=cn;var g=f.sibling,y=f.return;if(Mv(f),f===c){cn=null;break e}if(g!==null){g.return=y,cn=g;break e}cn=y}}}var TC={getCacheForType:function(i){var r=yn(Xt),c=r.data.get(i);return c===void 0&&(c=i(),r.data.set(i,c)),c},cacheSignal:function(){return yn(Xt).controller.signal}},MC=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,We=null,Xe=0,lt=0,ts=null,ja=!1,wo=!1,tp=!1,Li=0,At=0,Na=0,Sr=0,np=0,ns=0,So=0,Zl=null,Hn=null,sp=!1,dd=0,Vv=0,hd=1/0,fd=null,ka=null,sn=0,Ta=null,jo=null,Pi=0,ip=0,ap=null,Fv=null,Ql=0,rp=null;function ss(){return(ot&2)!==0&&Xe!==0?Xe&-Xe:W.T!==null?hp():ku()}function Hv(){if(ns===0)if((Xe&536870912)===0||Je){var i=ht;ht<<=1,(ht&3932160)===0&&(ht=262144),ns=i}else ns=536870912;return i=Jn.current,i!==null&&(i.flags|=32),ns}function Un(i,r,c){(i===xt&&(lt===2||lt===9)||i.cancelPendingCommit!==null)&&(No(i,0),Ma(i,Xe,ns,!1)),Ne(i,c),((ot&2)===0||i!==xt)&&(i===xt&&((ot&2)===0&&(Sr|=c),At===4&&Ma(i,Xe,ns,!1)),ni(i))}function Uv(i,r,c){if((ot&6)!==0)throw Error(s(327));var f=!c&&(r&127)===0&&(r&i.expiredLanes)===0||mn(i,r),g=f?EC(i,r):lp(i,r,!0),y=f;do{if(g===0){wo&&!f&&Ma(i,r,0,!1);break}else{if(c=i.current.alternate,y&&!CC(c)){g=lp(i,r,!1),y=!1;continue}if(g===2){if(y=r,i.errorRecoveryDisabledLanes&y)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var M=i;g=Zl;var V=M.current.memoizedState.isDehydrated;if(V&&(No(M,_).flags|=256),_=lp(M,_,!1),_!==2){if(tp&&!V){M.errorRecoveryDisabledLanes|=y,Sr|=y,g=4;break e}y=Hn,Hn=g,y!==null&&(Hn===null?Hn=y:Hn.push.apply(Hn,y))}g=_}if(y=!1,g!==2)continue}}if(g===1){No(i,0),Ma(i,r,0,!0);break}e:{switch(f=i,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ma(f,r,ns,!ja);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=dd+300-on(),10<g)){if(Ma(f,r,ns,!ja),ln(f,0,!0)!==0)break e;Pi=r,f.timeoutHandle=b1(Yv.bind(null,f,c,Hn,fd,sp,r,ns,Sr,So,ja,y,"Throttled",-0,0),g);break e}Yv(f,c,Hn,fd,sp,r,ns,Sr,So,ja,y,null,-0,0)}}break}while(!0);ni(i)}function Yv(i,r,c,f,g,y,_,M,V,q,te,se,G,K){if(i.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gt},Lv(r,y,se);var _e=(y&62914560)===y?dd-on():(y&4194048)===y?Vv-on():0;if(_e=fD(se,_e),_e!==null){Pi=y,i.cancelPendingCommit=_e(Zv.bind(null,i,r,y,c,f,g,_,M,V,te,se,null,G,K)),Ma(i,y,_,!q);return}}Zv(i,r,y,c,f,g,_,M,V)}function CC(i){for(var r=i;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var g=c[f],y=g.getSnapshot;g=g.value;try{if(!Zn(y(),g))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ma(i,r,c,f){r&=~np,r&=~Sr,i.suspendedLanes|=r,i.pingedLanes&=~r,f&&(i.warmLanes|=r),f=i.expirationTimes;for(var g=r;0<g;){var y=31-tn(g),_=1<<y;f[y]=-1,g&=~_}c!==0&&zt(i,c,r)}function md(){return(ot&6)===0?(Jl(0),!1):!0}function op(){if(We!==null){if(lt===0)var i=We.return;else i=We,Ni=mr=null,Sm(i),po=null,Ll=0,i=We;for(;i!==null;)vv(i.alternate,i),i=i.return;We=null}}function No(i,r){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,$C(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Pi=0,op(),xt=i,We=c=Si(i.current,null),Xe=r,lt=0,ts=null,ja=!1,wo=mn(i,r),tp=!1,So=ns=np=Sr=Na=At=0,Hn=Zl=null,sp=!1,(r&8)!==0&&(r|=r&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=r;0<f;){var g=31-tn(f),y=1<<g;r|=i[g],f&=~y}return Li=r,Lu(),c}function Wv(i,r){ze=null,W.H=Yl,r===mo||r===Yu?(r=rb(),lt=3):r===dm?(r=rb(),lt=4):lt=r===Vm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ts=r,We===null&&(At=1,sd(i,ps(r,i.current)))}function Iv(){var i=Jn.current;return i===null?!0:(Xe&4194048)===Xe?bs===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===bs:!1}function qv(){var i=W.H;return W.H=Yl,i===null?Yl:i}function Gv(){var i=W.A;return W.A=TC,i}function pd(){At=4,ja||(Xe&4194048)!==Xe&&Jn.current!==null||(wo=!0),(Na&134217727)===0&&(Sr&134217727)===0||xt===null||Ma(xt,Xe,ns,!1)}function lp(i,r,c){var f=ot;ot|=2;var g=qv(),y=Gv();(xt!==i||Xe!==r)&&(fd=null,No(i,r)),r=!1;var _=At;e:do try{if(lt!==0&&We!==null){var M=We,V=ts;switch(lt){case 8:op(),_=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var q=lt;if(lt=0,ts=null,ko(i,M,V,q),c&&wo){_=0;break e}break;default:q=lt,lt=0,ts=null,ko(i,M,V,q)}}DC(),_=At;break}catch(te){Wv(i,te)}while(!0);return r&&i.shellSuspendCounter++,Ni=mr=null,ot=f,W.H=g,W.A=y,We===null&&(xt=null,Xe=0,Lu()),_}function DC(){for(;We!==null;)Xv(We)}function EC(i,r){var c=ot;ot|=2;var f=qv(),g=Gv();xt!==i||Xe!==r?(fd=null,hd=on()+500,No(i,r)):wo=mn(i,r);e:do try{if(lt!==0&&We!==null){r=We;var y=ts;t:switch(lt){case 1:lt=0,ts=null,ko(i,r,y,1);break;case 2:case 9:if(ib(y)){lt=0,ts=null,$v(r);break}r=function(){lt!==2&&lt!==9||xt!==i||(lt=7),ni(i)},y.then(r,r);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:ib(y)?(lt=0,ts=null,$v(r)):(lt=0,ts=null,ko(i,r,y,7));break;case 5:var _=null;switch(We.tag){case 26:_=We.memoizedState;case 5:case 27:var M=We;if(_?R1(_):M.stateNode.complete){lt=0,ts=null;var V=M.sibling;if(V!==null)We=V;else{var q=M.return;q!==null?(We=q,gd(q)):We=null}break t}}lt=0,ts=null,ko(i,r,y,5);break;case 6:lt=0,ts=null,ko(i,r,y,6);break;case 8:op(),At=6;break e;default:throw Error(s(462))}}AC();break}catch(te){Wv(i,te)}while(!0);return Ni=mr=null,W.H=f,W.A=g,ot=c,We!==null?0:(xt=null,Xe=0,Lu(),At)}function AC(){for(;We!==null&&!ls();)Xv(We)}function Xv(i){var r=yv(i.alternate,i,Li);i.memoizedProps=i.pendingProps,r===null?gd(i):We=r}function $v(i){var r=i,c=r.alternate;switch(r.tag){case 15:case 0:r=hv(c,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=hv(c,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:Sm(r);default:vv(c,r),r=We=Gy(r,Li),r=yv(c,r,Li)}i.memoizedProps=i.pendingProps,r===null?gd(i):We=r}function ko(i,r,c,f){Ni=mr=null,Sm(r),po=null,Ll=0;var g=r.return;try{if(vC(i,g,r,c,Xe)){At=1,sd(i,ps(c,i.current)),We=null;return}}catch(y){if(g!==null)throw We=g,y;At=1,sd(i,ps(c,i.current)),We=null;return}r.flags&32768?(Je||f===1?i=!0:wo||(Xe&536870912)!==0?i=!1:(ja=i=!0,(f===2||f===9||f===3||f===6)&&(f=Jn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Kv(r,i)):gd(r)}function gd(i){var r=i;do{if((r.flags&32768)!==0){Kv(r,ja);return}i=r.return;var c=SC(r.alternate,r,Li);if(c!==null){We=c;return}if(r=r.sibling,r!==null){We=r;return}We=r=i}while(r!==null);At===0&&(At=5)}function Kv(i,r){do{var c=jC(i.alternate,i);if(c!==null){c.flags&=32767,We=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(i=i.sibling,i!==null)){We=i;return}We=i=c}while(i!==null);At=6,We=null}function Zv(i,r,c,f,g,y,_,M,V){i.cancelPendingCommit=null;do xd();while(sn!==0);if((ot&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Kf,$n(i,c,y,_,M,V),i===xt&&(We=xt=null,Xe=0),jo=r,Ta=i,Pi=c,ip=y,ap=g,Fv=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PC(pi,function(){return n1(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=W.T,W.T=null,g=Q.p,Q.p=2,_=ot,ot|=4;try{NC(i,r,c)}finally{ot=_,Q.p=g,W.T=f}}sn=1,Qv(),Jv(),e1()}}function Qv(){if(sn===1){sn=0;var i=Ta,r=jo,c=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var f=Q.p;Q.p=2;var g=ot;ot|=4;try{Av(r,i);var y=vp,_=By(i.containerInfo),M=y.focusedElem,V=y.selectionRange;if(_!==M&&M&&M.ownerDocument&&zy(M.ownerDocument.documentElement,M)){if(V!==null&&If(M)){var q=V.start,te=V.end;if(te===void 0&&(te=q),"selectionStart"in M)M.selectionStart=q,M.selectionEnd=Math.min(te,M.value.length);else{var se=M.ownerDocument||document,G=se&&se.defaultView||window;if(G.getSelection){var K=G.getSelection(),_e=M.textContent.length,De=Math.min(V.start,_e),pt=V.end===void 0?De:Math.min(V.end,_e);!K.extend&&De>pt&&(_=pt,pt=De,De=_);var Y=Py(M,De),H=Py(M,pt);if(Y&&H&&(K.rangeCount!==1||K.anchorNode!==Y.node||K.anchorOffset!==Y.offset||K.focusNode!==H.node||K.focusOffset!==H.offset)){var I=se.createRange();I.setStart(Y.node,Y.offset),K.removeAllRanges(),De>pt?(K.addRange(I),K.extend(H.node,H.offset)):(I.setEnd(H.node,H.offset),K.addRange(I))}}}}for(se=[],K=M;K=K.parentNode;)K.nodeType===1&&se.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<se.length;M++){var ne=se[M];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Cd=!!bp,vp=bp=null}finally{ot=g,Q.p=f,W.T=c}}i.current=r,sn=2}}function Jv(){if(sn===2){sn=0;var i=Ta,r=jo,c=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var f=Q.p;Q.p=2;var g=ot;ot|=4;try{Tv(i,r.alternate,r)}finally{ot=g,Q.p=f,W.T=c}}sn=3}}function e1(){if(sn===4||sn===3){sn=0,pl();var i=Ta,r=jo,c=Pi,f=Fv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,jo=Ta=null,t1(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ka=null),xi(c),r=r.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Xs,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=W.T,g=Q.p,Q.p=2,W.T=null;try{for(var y=i.onRecoverableError,_=0;_<f.length;_++){var M=f[_];y(M.value,{componentStack:M.stack})}}finally{W.T=r,Q.p=g}}(Pi&3)!==0&&xd(),ni(i),g=i.pendingLanes,(c&261930)!==0&&(g&42)!==0?i===rp?Ql++:(Ql=0,rp=i):Ql=0,Jl(0)}}function t1(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ol(r)))}function xd(){return Qv(),Jv(),e1(),n1()}function n1(){if(sn!==5)return!1;var i=Ta,r=ip;ip=0;var c=xi(Pi),f=W.T,g=Q.p;try{Q.p=32>c?32:c,W.T=null,c=ap,ap=null;var y=Ta,_=Pi;if(sn=0,jo=Ta=null,Pi=0,(ot&6)!==0)throw Error(s(331));var M=ot;if(ot|=4,zv(y.current),Rv(y,y.current,_,c),ot=M,Jl(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Xs,y)}catch{}return!0}finally{Q.p=g,W.T=f,t1(i,r)}}function s1(i,r,c){r=ps(c,r),r=Bm(i.stateNode,r,2),i=va(i,r,2),i!==null&&(Ne(i,2),ni(i))}function ct(i,r,c){if(i.tag===3)s1(i,i,c);else for(;r!==null;){if(r.tag===3){s1(r,i,c);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ka===null||!ka.has(f))){i=ps(c,i),c=iv(2),f=va(r,c,2),f!==null&&(av(c,f,r,i),Ne(f,2),ni(f));break}}r=r.return}}function cp(i,r,c){var f=i.pingCache;if(f===null){f=i.pingCache=new MC;var g=new Set;f.set(r,g)}else g=f.get(r),g===void 0&&(g=new Set,f.set(r,g));g.has(c)||(tp=!0,g.add(c),i=OC.bind(null,i,r,c),r.then(i,i))}function OC(i,r,c){var f=i.pingCache;f!==null&&f.delete(r),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,xt===i&&(Xe&c)===c&&(At===4||At===3&&(Xe&62914560)===Xe&&300>on()-dd?(ot&2)===0&&No(i,0):np|=c,So===Xe&&(So=0)),ni(i)}function i1(i,r){r===0&&(r=Xn()),i=dr(i,r),i!==null&&(Ne(i,r),ni(i))}function RC(i){var r=i.memoizedState,c=0;r!==null&&(c=r.retryLane),i1(i,c)}function LC(i,r){var c=0;switch(i.tag){case 31:case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(r),i1(i,c)}function PC(i,r){return Os(i,r)}var yd=null,To=null,up=!1,bd=!1,dp=!1,Ca=0;function ni(i){i!==To&&i.next===null&&(To===null?yd=To=i:To=To.next=i),bd=!0,up||(up=!0,BC())}function Jl(i,r){if(!dp&&bd){dp=!0;do for(var c=!1,f=yd;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var y=0;else{var _=f.suspendedLanes,M=f.pingedLanes;y=(1<<31-tn(42|i)+1)-1,y&=g&~(_&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,l1(f,y))}else y=Xe,y=ln(f,f===xt?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||mn(f,y)||(c=!0,l1(f,y));f=f.next}while(c);dp=!1}}function zC(){a1()}function a1(){bd=up=!1;var i=0;Ca!==0&&XC()&&(i=Ca);for(var r=on(),c=null,f=yd;f!==null;){var g=f.next,y=r1(f,r);y===0?(f.next=null,c===null?yd=g:c.next=g,g===null&&(To=c)):(c=f,(i!==0||(y&3)!==0)&&(bd=!0)),f=g}sn!==0&&sn!==5||Jl(i),Ca!==0&&(Ca=0)}function r1(i,r){for(var c=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var _=31-tn(y),M=1<<_,V=g[_];V===-1?((M&c)===0||(M&f)!==0)&&(g[_]=us(M,r)):V<=r&&(i.expiredLanes|=M),y&=~M}if(r=xt,c=Xe,c=ln(i,i===r?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===r&&(lt===2||lt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&en(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||mn(i,c)){if(r=c&-c,r===i.callbackPriority)return r;switch(f!==null&&en(f),xi(c)){case 2:case 8:c=Ln;break;case 32:c=pi;break;case 268435456:c=cs;break;default:c=pi}return f=o1.bind(null,i),c=Os(c,f),i.callbackPriority=r,i.callbackNode=c,r}return f!==null&&f!==null&&en(f),i.callbackPriority=2,i.callbackNode=null,2}function o1(i,r){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(xd()&&i.callbackNode!==c)return null;var f=Xe;return f=ln(i,i===xt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Uv(i,f,r),r1(i,on()),i.callbackNode!=null&&i.callbackNode===c?o1.bind(null,i):null)}function l1(i,r){if(xd())return null;Uv(i,r,!0)}function BC(){KC(function(){(ot&6)!==0?Os(sr,zC):a1()})}function hp(){if(Ca===0){var i=ho;i===0&&(i=Ve,Ve<<=1,(Ve&261888)===0&&(Ve=256)),Ca=i}return Ca}function c1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qt(""+i)}function u1(i,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,i.id&&c.setAttribute("form",i.id),r.parentNode.insertBefore(c,r),i=new FormData(i),c.parentNode.removeChild(c),i}function VC(i,r,c,f,g){if(r==="submit"&&c&&c.stateNode===g){var y=c1((g[pn]||null).action),_=f.submitter;_&&(r=(r=_[pn]||null)?c1(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var M=new Eu("action","action",null,f,g);i.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ca!==0){var V=_?u1(g,_):new FormData(g);Am(c,{pending:!0,data:V,method:g.method,action:y},null,V)}}else typeof y=="function"&&(M.preventDefault(),V=_?u1(g,_):new FormData(g),Am(c,{pending:!0,data:V,method:g.method,action:y},y,V))},currentTarget:g}]})}}for(var fp=0;fp<$f.length;fp++){var mp=$f[fp],FC=mp.toLowerCase(),HC=mp[0].toUpperCase()+mp.slice(1);zs(FC,"on"+HC)}zs(Hy,"onAnimationEnd"),zs(Uy,"onAnimationIteration"),zs(Yy,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(sC,"onTransitionRun"),zs(iC,"onTransitionStart"),zs(aC,"onTransitionCancel"),zs(Wy,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ec));function d1(i,r){r=(r&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],g=f.event;f=f.listeners;e:{var y=void 0;if(r)for(var _=f.length-1;0<=_;_--){var M=f[_],V=M.instance,q=M.currentTarget;if(M=M.listener,V!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=q;try{y(g)}catch(te){Ru(te)}g.currentTarget=null,y=V}else for(_=0;_<f.length;_++){if(M=f[_],V=M.instance,q=M.currentTarget,M=M.listener,V!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=q;try{y(g)}catch(te){Ru(te)}g.currentTarget=null,y=V}}}}function Ie(i,r){var c=r[Qr];c===void 0&&(c=r[Qr]=new Set);var f=i+"__bubble";c.has(f)||(h1(r,i,2,!1),c.add(f))}function pp(i,r,c){var f=0;r&&(f|=4),h1(c,i,f,r)}var vd="_reactListening"+Math.random().toString(36).slice(2);function gp(i){if(!i[vd]){i[vd]=!0,vi.forEach(function(c){c!=="selectionchange"&&(UC.has(c)||pp(c,!1,i),pp(c,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[vd]||(r[vd]=!0,pp("selectionchange",!1,r))}}function h1(i,r,c,f){switch(H1(r)){case 2:var g=gD;break;case 8:g=xD;break;default:g=Ep}c=g.bind(null,r,c,i),g=void 0,!Pf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(r,c,{capture:!0,passive:g}):i.addEventListener(r,c,!0):g!==void 0?i.addEventListener(r,c,{passive:g}):i.addEventListener(r,c,!1)}function xp(i,r,c,f,g){var y=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var M=f.stateNode.containerInfo;if(M===g)break;if(_===4)for(_=f.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;M!==null;){if(_=Qs(M),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){f=y=_;continue e}M=M.parentNode}}f=f.return}xy(function(){var q=y,te=Rf(c),se=[];e:{var G=Iy.get(i);if(G!==void 0){var K=Eu,_e=i;switch(i){case"keypress":if(Cu(c)===0)break e;case"keydown":case"keyup":K=LM;break;case"focusin":_e="focus",K=Ff;break;case"focusout":_e="blur",K=Ff;break;case"beforeblur":case"afterblur":K=Ff;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=SM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=BM;break;case Hy:case Uy:case Yy:K=kM;break;case Wy:K=FM;break;case"scroll":case"scrollend":K=_M;break;case"wheel":K=UM;break;case"copy":case"cut":case"paste":K=MM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=wy;break;case"toggle":case"beforetoggle":K=WM}var De=(r&4)!==0,pt=!De&&(i==="scroll"||i==="scrollend"),Y=De?G!==null?G+"Capture":null:G;De=[];for(var H=q,I;H!==null;){var ne=H;if(I=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||I===null||Y===null||(ne=wl(H,Y),ne!=null&&De.push(tc(H,ne,I))),pt)break;H=H.return}0<De.length&&(G=new K(G,_e,null,c,te),se.push({event:G,listeners:De}))}}if((r&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",G&&c!==Of&&(_e=c.relatedTarget||c.fromElement)&&(Qs(_e)||_e[yi]))break e;if((K||G)&&(G=te.window===te?te:(G=te.ownerDocument)?G.defaultView||G.parentWindow:window,K?(_e=c.relatedTarget||c.toElement,K=q,_e=_e?Qs(_e):null,_e!==null&&(pt=o(_e),De=_e.tag,_e!==pt||De!==5&&De!==27&&De!==6)&&(_e=null)):(K=null,_e=q),K!==_e)){if(De=vy,ne="onMouseLeave",Y="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(De=wy,ne="onPointerLeave",Y="onPointerEnter",H="pointer"),pt=K==null?G:ir(K),I=_e==null?G:ir(_e),G=new De(ne,H+"leave",K,c,te),G.target=pt,G.relatedTarget=I,ne=null,Qs(te)===q&&(De=new De(Y,H+"enter",_e,c,te),De.target=I,De.relatedTarget=pt,ne=De),pt=ne,K&&_e)t:{for(De=YC,Y=K,H=_e,I=0,ne=Y;ne;ne=De(ne))I++;ne=0;for(var Te=H;Te;Te=De(Te))ne++;for(;0<I-ne;)Y=De(Y),I--;for(;0<ne-I;)H=De(H),ne--;for(;I--;){if(Y===H||H!==null&&Y===H.alternate){De=Y;break t}Y=De(Y),H=De(H)}De=null}else De=null;K!==null&&f1(se,G,K,De,!1),_e!==null&&pt!==null&&f1(se,pt,_e,De,!0)}}e:{if(G=q?ir(q):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var tt=Dy;else if(My(G))if(Ey)tt=eC;else{tt=QM;var Se=ZM}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Fe(q.elementType)&&(tt=Dy):tt=JM;if(tt&&(tt=tt(i,q))){Cy(se,tt,c,te);break e}Se&&Se(i,G,q),i==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&_l(G,"number",G.value)}switch(Se=q?ir(q):window,i){case"focusin":(My(Se)||Se.contentEditable==="true")&&(so=Se,qf=q,Dl=null);break;case"focusout":Dl=qf=so=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,Vy(se,c,te);break;case"selectionchange":if(nC)break;case"keydown":case"keyup":Vy(se,c,te)}var He;if(Uf)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else no?ky(i,c)&&($e="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(Sy&&c.locale!=="ko"&&(no||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&no&&(He=yy()):(fa=te,zf="value"in fa?fa.value:fa.textContent,no=!0)),Se=_d(q,$e),0<Se.length&&($e=new _y($e,i,null,c,te),se.push({event:$e,listeners:Se}),He?$e.data=He:(He=Ty(c),He!==null&&($e.data=He)))),(He=qM?GM(i,c):XM(i,c))&&($e=_d(q,"onBeforeInput"),0<$e.length&&(Se=new _y("onBeforeInput","beforeinput",null,c,te),se.push({event:Se,listeners:$e}),Se.data=He)),VC(se,i,q,c,te)}d1(se,r)})}function tc(i,r,c){return{instance:i,listener:r,currentTarget:c}}function _d(i,r){for(var c=r+"Capture",f=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=wl(i,c),g!=null&&f.unshift(tc(i,g,y)),g=wl(i,r),g!=null&&f.push(tc(i,g,y))),i.tag===3)return f;i=i.return}return[]}function YC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function f1(i,r,c,f,g){for(var y=r._reactName,_=[];c!==null&&c!==f;){var M=c,V=M.alternate,q=M.stateNode;if(M=M.tag,V!==null&&V===f)break;M!==5&&M!==26&&M!==27||q===null||(V=q,g?(q=wl(c,y),q!=null&&_.unshift(tc(c,q,V))):g||(q=wl(c,y),q!=null&&_.push(tc(c,q,V)))),c=c.return}_.length!==0&&i.push({event:r,listeners:_})}var WC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function m1(i){return(typeof i=="string"?i:""+i).replace(WC,`
`).replace(IC,"")}function p1(i,r){return r=m1(r),m1(i)===r}function mt(i,r,c,f,g,y){switch(c){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||B(i,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&B(i,""+f);break;case"className":wn(i,"class",f);break;case"tabIndex":wn(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(i,c,f);break;case"style":ye(i,f,y);break;case"data":if(r!=="object"){wn(i,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=qt(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(r!=="input"&&mt(i,r,"name",g.name,g,null),mt(i,r,"formEncType",g.formEncType,g,null),mt(i,r,"formMethod",g.formMethod,g,null),mt(i,r,"formTarget",g.formTarget,g,null)):(mt(i,r,"encType",g.encType,g,null),mt(i,r,"method",g.method,g,null),mt(i,r,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=qt(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=Gt);break;case"onScroll":f!=null&&Ie("scroll",i);break;case"onScrollEnd":f!=null&&Ie("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=qt(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":Ie("beforetoggle",i),Ie("toggle",i),_i(i,"popover",f);break;case"xlinkActuate":Pn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Pn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Pn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Pn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Pn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Pn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Pn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Pn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Pn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":_i(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=It.get(c)||c,_i(i,c,f))}}function yp(i,r,c,f,g,y){switch(c){case"style":ye(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"children":typeof f=="string"?B(i,f):(typeof f=="number"||typeof f=="bigint")&&B(i,""+f);break;case"onScroll":f!=null&&Ie("scroll",i);break;case"onScrollEnd":f!=null&&Ie("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Gt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ps.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),r=c.slice(2,g?c.length-7:void 0),y=i[pn]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(r,y,g),typeof f=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(r,f,g);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):_i(i,c,f)}}}function vn(i,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",i),Ie("load",i);var f=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var _=c[y];if(_!=null)switch(y){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(i,r,y,_,c,null)}}g&&mt(i,r,"srcSet",c.srcSet,c,null),f&&mt(i,r,"src",c.src,c,null);return;case"input":Ie("invalid",i);var M=y=_=g=null,V=null,q=null;for(f in c)if(c.hasOwnProperty(f)){var te=c[f];if(te!=null)switch(f){case"name":g=te;break;case"type":_=te;break;case"checked":V=te;break;case"defaultChecked":q=te;break;case"value":y=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:mt(i,r,f,te,c,null)}}vl(i,y,M,V,q,_,g,!1);return;case"select":Ie("invalid",i),f=_=y=null;for(g in c)if(c.hasOwnProperty(g)&&(M=c[g],M!=null))switch(g){case"value":y=M;break;case"defaultValue":_=M;break;case"multiple":f=M;default:mt(i,r,g,M,c,null)}r=y,c=_,i.multiple=!!f,r!=null?ha(i,!!f,r,!1):c!=null&&ha(i,!!f,c,!0);return;case"textarea":Ie("invalid",i),y=g=f=null;for(_ in c)if(c.hasOwnProperty(_)&&(M=c[_],M!=null))switch(_){case"value":f=M;break;case"defaultValue":g=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:mt(i,r,_,M,c,null)}D(i,f,g,y);return;case"option":for(V in c)c.hasOwnProperty(V)&&(f=c[V],f!=null)&&(V==="selected"?i.selected=f&&typeof f!="function"&&typeof f!="symbol":mt(i,r,V,f,c,null));return;case"dialog":Ie("beforetoggle",i),Ie("toggle",i),Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":Ie("load",i);break;case"video":case"audio":for(f=0;f<ec.length;f++)Ie(ec[f],i);break;case"image":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"embed":case"source":case"link":Ie("error",i),Ie("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(f=c[q],f!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(i,r,q,f,c,null)}return;default:if(Fe(r)){for(te in c)c.hasOwnProperty(te)&&(f=c[te],f!==void 0&&yp(i,r,te,f,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(f=c[M],f!=null&&mt(i,r,M,f,c,null))}function qC(i,r,c,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,_=null,M=null,V=null,q=null,te=null;for(K in c){var se=c[K];if(c.hasOwnProperty(K)&&se!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":V=se;default:f.hasOwnProperty(K)||mt(i,r,K,null,f,se)}}for(var G in f){var K=f[G];if(se=c[G],f.hasOwnProperty(G)&&(K!=null||se!=null))switch(G){case"type":y=K;break;case"name":g=K;break;case"checked":q=K;break;case"defaultChecked":te=K;break;case"value":_=K;break;case"defaultValue":M=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==se&&mt(i,r,G,K,f,se)}}or(i,_,M,V,q,te,y,g);return;case"select":K=_=M=G=null;for(y in c)if(V=c[y],c.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":K=V;default:f.hasOwnProperty(y)||mt(i,r,y,null,f,V)}for(g in f)if(y=f[g],V=c[g],f.hasOwnProperty(g)&&(y!=null||V!=null))switch(g){case"value":G=y;break;case"defaultValue":M=y;break;case"multiple":_=y;default:y!==V&&mt(i,r,g,y,f,V)}r=M,c=_,f=K,G!=null?ha(i,!!c,G,!1):!!f!=!!c&&(r!=null?ha(i,!!c,r,!0):ha(i,!!c,c?[]:"",!1));return;case"textarea":K=G=null;for(M in c)if(g=c[M],c.hasOwnProperty(M)&&g!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:mt(i,r,M,null,f,g)}for(_ in f)if(g=f[_],y=c[_],f.hasOwnProperty(_)&&(g!=null||y!=null))switch(_){case"value":G=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&mt(i,r,_,g,f,y)}T(i,G,K);return;case"option":for(var _e in c)G=c[_e],c.hasOwnProperty(_e)&&G!=null&&!f.hasOwnProperty(_e)&&(_e==="selected"?i.selected=!1:mt(i,r,_e,null,f,G));for(V in f)G=f[V],K=c[V],f.hasOwnProperty(V)&&G!==K&&(G!=null||K!=null)&&(V==="selected"?i.selected=G&&typeof G!="function"&&typeof G!="symbol":mt(i,r,V,G,f,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in c)G=c[De],c.hasOwnProperty(De)&&G!=null&&!f.hasOwnProperty(De)&&mt(i,r,De,null,f,G);for(q in f)if(G=f[q],K=c[q],f.hasOwnProperty(q)&&G!==K&&(G!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:mt(i,r,q,G,f,K)}return;default:if(Fe(r)){for(var pt in c)G=c[pt],c.hasOwnProperty(pt)&&G!==void 0&&!f.hasOwnProperty(pt)&&yp(i,r,pt,void 0,f,G);for(te in f)G=f[te],K=c[te],!f.hasOwnProperty(te)||G===K||G===void 0&&K===void 0||yp(i,r,te,G,f,K);return}}for(var Y in c)G=c[Y],c.hasOwnProperty(Y)&&G!=null&&!f.hasOwnProperty(Y)&&mt(i,r,Y,null,f,G);for(se in f)G=f[se],K=c[se],!f.hasOwnProperty(se)||G===K||G==null&&K==null||mt(i,r,se,G,f,K)}function g1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var g=c[f],y=g.transferSize,_=g.initiatorType,M=g.duration;if(y&&M&&g1(_)){for(_=0,M=g.responseEnd,f+=1;f<c.length;f++){var V=c[f],q=V.startTime;if(q>M)break;var te=V.transferSize,se=V.initiatorType;te&&g1(se)&&(V=V.responseEnd,_+=te*(V<M?1:(M-q)/(V-q)))}if(--f,r+=8*(y+_)/(g.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var bp=null,vp=null;function wd(i){return i.nodeType===9?i:i.ownerDocument}function x1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y1(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function _p(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var wp=null;function XC(){var i=window.event;return i&&i.type==="popstate"?i===wp?!1:(wp=i,!0):(wp=null,!1)}var b1=typeof setTimeout=="function"?setTimeout:void 0,$C=typeof clearTimeout=="function"?clearTimeout:void 0,v1=typeof Promise=="function"?Promise:void 0,KC=typeof queueMicrotask=="function"?queueMicrotask:typeof v1<"u"?function(i){return v1.resolve(null).then(i).catch(ZC)}:b1;function ZC(i){setTimeout(function(){throw i})}function Da(i){return i==="head"}function _1(i,r){var c=r,f=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(f===0){i.removeChild(g),Eo(r);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")nc(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,nc(c);for(var y=c.firstChild;y;){var _=y.nextSibling,M=y.nodeName;y[Rs]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=_}}else c==="body"&&nc(i.ownerDocument.body);c=g}while(c);Eo(r)}function w1(i,r){var c=i;i=0;do{var f=c.nextSibling;if(c.nodeType===1?r?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(r?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=f}while(c)}function Sp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Sp(c),ua(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function QC(i,r,c,f){for(;i.nodeType===1;){var g=c;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Rs])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=vs(i.nextSibling),i===null)break}return null}function JC(i,r,c){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=vs(i.nextSibling),i===null))return null;return i}function S1(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=vs(i.nextSibling),i===null))return null;return i}function jp(i){return i.data==="$?"||i.data==="$~"}function Np(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function eD(i,r){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||c.readyState!=="loading")r();else{var f=function(){r(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function vs(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var kp=null;function j1(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(r===0)return vs(i.nextSibling);r--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||r++}i=i.nextSibling}return null}function N1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(r===0)return i;r--}else c!=="/$"&&c!=="/&"||r++}i=i.previousSibling}return null}function k1(i,r,c){switch(r=wd(c),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function nc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ua(i)}var _s=new Map,T1=new Set;function Sd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var zi=Q.d;Q.d={f:tD,r:nD,D:sD,C:iD,L:aD,m:rD,X:lD,S:oD,M:cD};function tD(){var i=zi.f(),r=md();return i||r}function nD(i){var r=da(i);r!==null&&r.tag===5&&r.type==="form"?Wb(r):zi.r(i)}var Mo=typeof document>"u"?null:document;function M1(i,r,c){var f=Mo;if(f&&typeof r=="string"&&r){var g=An(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),T1.has(g)||(T1.add(g),i={rel:i,crossOrigin:c,href:r},f.querySelector(g)===null&&(r=f.createElement("link"),vn(r,"link",i),rt(r),f.head.appendChild(r)))}}function sD(i){zi.D(i),M1("dns-prefetch",i,null)}function iD(i,r){zi.C(i,r),M1("preconnect",i,r)}function aD(i,r,c){zi.L(i,r,c);var f=Mo;if(f&&i&&r){var g='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+An(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+An(c.imageSizes)+'"]')):g+='[href="'+An(i)+'"]';var y=g;switch(r){case"style":y=Co(i);break;case"script":y=Do(i)}_s.has(y)||(i=x({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:i,as:r},c),_s.set(y,i),f.querySelector(g)!==null||r==="style"&&f.querySelector(sc(y))||r==="script"&&f.querySelector(ic(y))||(r=f.createElement("link"),vn(r,"link",i),rt(r),f.head.appendChild(r)))}}function rD(i,r){zi.m(i,r);var c=Mo;if(c&&i){var f=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+An(f)+'"][href="'+An(i)+'"]',y=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Do(i)}if(!_s.has(y)&&(i=x({rel:"modulepreload",href:i},r),_s.set(y,i),c.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ic(y)))return}f=c.createElement("link"),vn(f,"link",i),rt(f),c.head.appendChild(f)}}}function oD(i,r,c){zi.S(i,r,c);var f=Mo;if(f&&i){var g=Ls(f).hoistableStyles,y=Co(i);r=r||"default";var _=g.get(y);if(!_){var M={loading:0,preload:null};if(_=f.querySelector(sc(y)))M.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},c),(c=_s.get(y))&&Tp(i,c);var V=_=f.createElement("link");rt(V),vn(V,"link",i),V._p=new Promise(function(q,te){V.onload=q,V.onerror=te}),V.addEventListener("load",function(){M.loading|=1}),V.addEventListener("error",function(){M.loading|=2}),M.loading|=4,jd(_,r,f)}_={type:"stylesheet",instance:_,count:1,state:M},g.set(y,_)}}}function lD(i,r){zi.X(i,r);var c=Mo;if(c&&i){var f=Ls(c).hoistableScripts,g=Do(i),y=f.get(g);y||(y=c.querySelector(ic(g)),y||(i=x({src:i,async:!0},r),(r=_s.get(g))&&Mp(i,r),y=c.createElement("script"),rt(y),vn(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function cD(i,r){zi.M(i,r);var c=Mo;if(c&&i){var f=Ls(c).hoistableScripts,g=Do(i),y=f.get(g);y||(y=c.querySelector(ic(g)),y||(i=x({src:i,async:!0,type:"module"},r),(r=_s.get(g))&&Mp(i,r),y=c.createElement("script"),rt(y),vn(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function C1(i,r,c,f){var g=(g=ae.current)?Sd(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=Co(c.href),c=Ls(g).hoistableStyles,f=c.get(r),f||(f={type:"style",instance:null,count:0,state:null},c.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Co(c.href);var y=Ls(g).hoistableStyles,_=y.get(i);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,_),(y=g.querySelector(sc(i)))&&!y._p&&(_.instance=y,_.state.loading=5),_s.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},_s.set(i,c),y||uD(g,i,c,_.state))),r&&f===null)throw Error(s(528,""));return _}if(r&&f!==null)throw Error(s(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Do(c),c=Ls(g).hoistableScripts,f=c.get(r),f||(f={type:"script",instance:null,count:0,state:null},c.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Co(i){return'href="'+An(i)+'"'}function sc(i){return'link[rel="stylesheet"]['+i+"]"}function D1(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function uD(i,r,c,f){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=i.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),vn(r,"link",c),rt(r),i.head.appendChild(r))}function Do(i){return'[src="'+An(i)+'"]'}function ic(i){return"script[async]"+i}function E1(i,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var f=i.querySelector('style[data-href~="'+An(c.href)+'"]');if(f)return r.instance=f,rt(f),f;var g=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),rt(f),vn(f,"style",g),jd(f,c.precedence,i),r.instance=f;case"stylesheet":g=Co(c.href);var y=i.querySelector(sc(g));if(y)return r.state.loading|=4,r.instance=y,rt(y),y;f=D1(c),(g=_s.get(g))&&Tp(f,g),y=(i.ownerDocument||i).createElement("link"),rt(y);var _=y;return _._p=new Promise(function(M,V){_.onload=M,_.onerror=V}),vn(y,"link",f),r.state.loading|=4,jd(y,c.precedence,i),r.instance=y;case"script":return y=Do(c.src),(g=i.querySelector(ic(y)))?(r.instance=g,rt(g),g):(f=c,(g=_s.get(y))&&(f=x({},c),Mp(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),rt(g),vn(g,"link",f),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,jd(f,c.precedence,i));return r.instance}function jd(i,r,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,y=g,_=0;_<f.length;_++){var M=f[_];if(M.dataset.precedence===r)y=M;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(i,r.firstChild))}function Tp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Mp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Nd=null;function A1(i,r,c){if(Nd===null){var f=new Map,g=Nd=new Map;g.set(c,f)}else g=Nd,f=g.get(c),f||(f=new Map,g.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),g=0;g<c.length;g++){var y=c[g];if(!(y[Rs]||y[Wt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=i+_;var M=f.get(_);M?M.push(y):f.set(_,[y])}}return f}function O1(i,r,c){i=i.ownerDocument||i,i.head.insertBefore(c,r==="title"?i.querySelector("head > title"):null)}function dD(i,r,c){if(c===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function R1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function hD(i,r,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=Co(f.href),y=r.querySelector(sc(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=kd.bind(i),r.then(i,i)),c.state.loading|=4,c.instance=y,rt(y);return}y=r.ownerDocument||r,f=D1(f),(g=_s.get(g))&&Tp(f,g),y=y.createElement("link"),rt(y);var _=y;_._p=new Promise(function(M,V){_.onload=M,_.onerror=V}),vn(y,"link",f),c.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,r),(r=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=kd.bind(i),r.addEventListener("load",c),r.addEventListener("error",c))}}var Cp=0;function fD(i,r){return i.stylesheets&&i.count===0&&Md(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var f=setTimeout(function(){if(i.stylesheets&&Md(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&Cp===0&&(Cp=62500*GC());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Md(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Cp?50:800)+r);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(g)}}:null}function kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Td=null;function Md(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Td=new Map,r.forEach(mD,i),Td=null,kd.call(i))}function mD(i,r){if(!(r.state.loading&4)){var c=Td.get(i);if(c)var f=c.get(null);else{c=new Map,Td.set(i,c);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var _=g[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(c.set(_.dataset.precedence,_),f=_)}f&&c.set(null,f)}g=r.instance,_=g.getAttribute("data-precedence"),y=c.get(_)||f,y===f&&c.set(null,g),c.set(_,g),this.count++,f=kd.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var ac={$$typeof:E,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function pD(i,r,c,f,g,y,_,M,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function L1(i,r,c,f,g,y,_,M,V,q,te,se){return i=new pD(i,r,c,_,V,q,te,se,M),r=1,y===!0&&(r|=24),y=Qn(3,null,null,r),i.current=y,y.stateNode=i,r=lm(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:f,isDehydrated:c,cache:r},hm(y),i}function P1(i){return i?(i=ro,i):ro}function z1(i,r,c,f,g,y){g=P1(g),f.context===null?f.context=g:f.pendingContext=g,f=ba(r),f.payload={element:c},y=y===void 0?null:y,y!==null&&(f.callback=y),c=va(i,f,r),c!==null&&(Un(c,i,r),zl(c,i,r))}function B1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<r?c:r}}function Dp(i,r){B1(i,r),(i=i.alternate)&&B1(i,r)}function V1(i){if(i.tag===13||i.tag===31){var r=dr(i,67108864);r!==null&&Un(r,i,67108864),Dp(i,67108864)}}function F1(i){if(i.tag===13||i.tag===31){var r=ss();r=gi(r);var c=dr(i,r);c!==null&&Un(c,i,r),Dp(i,r)}}var Cd=!0;function gD(i,r,c,f){var g=W.T;W.T=null;var y=Q.p;try{Q.p=2,Ep(i,r,c,f)}finally{Q.p=y,W.T=g}}function xD(i,r,c,f){var g=W.T;W.T=null;var y=Q.p;try{Q.p=8,Ep(i,r,c,f)}finally{Q.p=y,W.T=g}}function Ep(i,r,c,f){if(Cd){var g=Ap(f);if(g===null)xp(i,r,f,Dd,c),U1(i,f);else if(bD(g,i,r,c,f))f.stopPropagation();else if(U1(i,f),r&4&&-1<yD.indexOf(i)){for(;g!==null;){var y=da(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=fn(y.pendingLanes);if(_!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var V=1<<31-tn(_);M.entanglements[1]|=V,_&=~V}ni(y),(ot&6)===0&&(hd=on()+500,Jl(0))}}break;case 31:case 13:M=dr(y,2),M!==null&&Un(M,y,2),md(),Dp(y,2)}if(y=Ap(f),y===null&&xp(i,r,f,Dd,c),y===g)break;g=y}g!==null&&f.stopPropagation()}else xp(i,r,f,null,c)}}function Ap(i){return i=Rf(i),Op(i)}var Dd=null;function Op(i){if(Dd=null,i=Qs(i),i!==null){var r=o(i);if(r===null)i=null;else{var c=r.tag;if(c===13){if(i=l(r),i!==null)return i;i=null}else if(c===31){if(i=u(r),i!==null)return i;i=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Dd=i,null}function H1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ra()){case sr:return 2;case Ln:return 8;case pi:case $r:return 32;case cs:return 268435456;default:return 32}default:return 32}}var Rp=!1,Ea=null,Aa=null,Oa=null,rc=new Map,oc=new Map,Ra=[],yD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U1(i,r){switch(i){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":rc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(r.pointerId)}}function lc(i,r,c,f,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},r!==null&&(r=da(r),r!==null&&V1(r)),i):(i.eventSystemFlags|=f,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function bD(i,r,c,f,g){switch(r){case"focusin":return Ea=lc(Ea,i,r,c,f,g),!0;case"dragenter":return Aa=lc(Aa,i,r,c,f,g),!0;case"mouseover":return Oa=lc(Oa,i,r,c,f,g),!0;case"pointerover":var y=g.pointerId;return rc.set(y,lc(rc.get(y)||null,i,r,c,f,g)),!0;case"gotpointercapture":return y=g.pointerId,oc.set(y,lc(oc.get(y)||null,i,r,c,f,g)),!0}return!1}function Y1(i){var r=Qs(i.target);if(r!==null){var c=o(r);if(c!==null){if(r=c.tag,r===13){if(r=l(c),r!==null){i.blockedOn=r,gl(i.priority,function(){F1(c)});return}}else if(r===31){if(r=u(c),r!==null){i.blockedOn=r,gl(i.priority,function(){F1(c)});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ed(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var c=Ap(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Of=f,c.target.dispatchEvent(f),Of=null}else return r=da(c),r!==null&&V1(r),i.blockedOn=c,!1;r.shift()}return!0}function W1(i,r,c){Ed(i)&&c.delete(r)}function vD(){Rp=!1,Ea!==null&&Ed(Ea)&&(Ea=null),Aa!==null&&Ed(Aa)&&(Aa=null),Oa!==null&&Ed(Oa)&&(Oa=null),rc.forEach(W1),oc.forEach(W1)}function Ad(i,r){i.blockedOn===r&&(i.blockedOn=null,Rp||(Rp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vD)))}var Od=null;function I1(i){Od!==i&&(Od=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Od===i&&(Od=null);for(var r=0;r<i.length;r+=3){var c=i[r],f=i[r+1],g=i[r+2];if(typeof f!="function"){if(Op(f||c)===null)continue;break}var y=da(c);y!==null&&(i.splice(r,3),r-=3,Am(y,{pending:!0,data:g,method:c.method,action:f},f,g))}}))}function Eo(i){function r(V){return Ad(V,i)}Ea!==null&&Ad(Ea,i),Aa!==null&&Ad(Aa,i),Oa!==null&&Ad(Oa,i),rc.forEach(r),oc.forEach(r);for(var c=0;c<Ra.length;c++){var f=Ra[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ra.length&&(c=Ra[0],c.blockedOn===null);)Y1(c),c.blockedOn===null&&Ra.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var g=c[f],y=c[f+1],_=g[pn]||null;if(typeof y=="function")_||I1(c);else if(_){var M=null;if(y&&y.hasAttribute("formAction")){if(g=y,_=y[pn]||null)M=_.formAction;else if(Op(g)!==null)continue}else M=_.action;typeof M=="function"?c[f+1]=M:(c.splice(f,3),f-=3),I1(c)}}}function q1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return g=_})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Lp(i){this._internalRoot=i}Rd.prototype.render=Lp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var c=r.current,f=ss();z1(c,f,i,r,null,null)},Rd.prototype.unmount=Lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;z1(i.current,2,null,i,null,null),md(),r[yi]=null}};function Rd(i){this._internalRoot=i}Rd.prototype.unstable_scheduleHydration=function(i){if(i){var r=ku();i={blockedOn:null,target:i,priority:r};for(var c=0;c<Ra.length&&r!==0&&r<Ra[c].priority;c++);Ra.splice(c,0,i),c===0&&Y1(i)}};var G1=e.version;if(G1!=="19.2.3")throw Error(s(527,G1,"19.2.3"));Q.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var _D={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{Xs=Ld.inject(_D),hn=Ld}catch{}}return uc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var c=!1,f="",g=ev,y=tv,_=nv;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=L1(i,1,!1,null,null,c,f,null,g,y,_,q1),i[yi]=r.current,gp(i),new Lp(r)},uc.hydrateRoot=function(i,r,c){if(!a(i))throw Error(s(299));var f=!1,g="",y=ev,_=tv,M=nv,V=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.formState!==void 0&&(V=c.formState)),r=L1(i,1,!0,r,c??null,f,g,V,y,_,M,q1),r.context=P1(null),c=r.current,f=ss(),f=gi(f),g=ba(f),g.callback=null,va(c,g,f),c=f,r.current.lanes=c,Ne(r,c),ni(r),i[yi]=r.current,gp(i),new Rd(r)},uc.version="19.2.3",uc}var s_;function OD(){if(s_)return Bp.exports;s_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=AD(),Bp.exports}var RD=OD();const LD=Ex(RD);var PS=LS();function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ic.apply(this,arguments)}var za;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(za||(za={}));const i_="popstate";function PD(t){t===void 0&&(t={});function e(s,a){let{pathname:o,search:l,hash:u}=s.location;return Cg("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:wh(a)}return BD(e,n,null,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ox(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zD(){return Math.random().toString(36).substr(2,8)}function a_(t,e){return{usr:t.state,key:t.key,idx:e}}function Cg(t,e,n,s){return n===void 0&&(n=null),Ic({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sl(e):e,{state:n,key:e&&e.key||s||zD()})}function wh(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function BD(t,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,l=a.history,u=za.Pop,h=null,m=p();m==null&&(m=0,l.replaceState(Ic({},l.state,{idx:m}),""));function p(){return(l.state||{idx:null}).idx}function x(){u=za.Pop;let j=p(),k=j==null?null:j-m;m=j,h&&h({action:u,location:S.location,delta:k})}function b(j,k){u=za.Push;let C=Cg(S.location,j,k);m=p()+1;let E=a_(C,m),O=S.createHref(C);try{l.pushState(E,"",O)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(O)}o&&h&&h({action:u,location:S.location,delta:1})}function v(j,k){u=za.Replace;let C=Cg(S.location,j,k);m=p();let E=a_(C,m),O=S.createHref(C);l.replaceState(E,"",O),o&&h&&h({action:u,location:S.location,delta:0})}function w(j){let k=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof j=="string"?j:wh(j);return C=C.replace(/ $/,"%20"),Lt(k,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,k)}let S={get action(){return u},get location(){return t(a,l)},listen(j){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(i_,x),h=j,()=>{a.removeEventListener(i_,x),h=null}},createHref(j){return e(a,j)},createURL:w,encodeLocation(j){let k=w(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:v,go(j){return l.go(j)}};return S}var r_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(r_||(r_={}));function VD(t,e,n){return n===void 0&&(n="/"),FD(t,e,n)}function FD(t,e,n,s){let a=typeof e=="string"?sl(e):e,o=$o(a.pathname||"/",n);if(o==null)return null;let l=zS(t);HD(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let m=QD(o);u=KD(l[h],m)}return u}function zS(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Lt(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let m=Wa([s,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(Lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),zS(o.children,e,p,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:XD(m,o.index),routesMeta:p})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let h of BS(o.path))a(o,l,h)}),e}function BS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let l=BS(s.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),a&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function HD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$D(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const UD=/^:[\w-]+$/,YD=3,WD=2,ID=1,qD=10,GD=-2,o_=t=>t==="*";function XD(t,e){let n=t.split("/"),s=n.length;return n.some(o_)&&(s+=GD),e&&(s+=WD),n.filter(a=>!o_(a)).reduce((a,o)=>a+(UD.test(o)?YD:o===""?ID:qD),s)}function $D(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function KD(t,e,n){let{routesMeta:s}=t,a={},o="/",l=[];for(let u=0;u<s.length;++u){let h=s[u],m=u===s.length-1,p=o==="/"?e:e.slice(o.length)||"/",x=Dg({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),b=h.route;if(!x)return null;Object.assign(a,x.params),l.push({params:a,pathname:Wa([o,x.pathname]),pathnameBase:s5(Wa([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=Wa([o,x.pathnameBase]))}return l}function Dg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=ZD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((m,p,x)=>{let{paramName:b,isOptional:v}=p;if(b==="*"){let S=u[x]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?m[b]=void 0:m[b]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:t}}function ZD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ox(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function QD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ox(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $o(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const JD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e5=t=>JD.test(t);function t5(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?sl(t):t,o;if(n)if(e5(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ox(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?o=l_(n.substring(1),"/"):o=l_(n,e)}else o=e;return{pathname:o,search:i5(s),hash:a5(a)}}function l_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Up(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VS(t,e){let n=n5(t);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function FS(t,e,n,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=sl(t):(a=Ic({},t),Lt(!a.pathname||!a.pathname.includes("?"),Up("?","pathname","search",a)),Lt(!a.pathname||!a.pathname.includes("#"),Up("#","pathname","hash",a)),Lt(!a.search||!a.search.includes("#"),Up("#","search","hash",a)));let o=t===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=n;else{let x=e.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}u=x>=0?e[x]:"/"}let h=t5(a,u),m=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}const Wa=t=>t.join("/").replace(/\/\/+/g,"/"),s5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),i5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HS=["post","put","patch","delete"];new Set(HS);const o5=["get",...HS];new Set(o5);function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qc.apply(this,arguments)}const Kh=N.createContext(null),US=N.createContext(null),Ja=N.createContext(null),Zh=N.createContext(null),Yr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),YS=N.createContext(null);function l5(t,e){let{relative:n}=e===void 0?{}:e;hu()||Lt(!1);let{basename:s,navigator:a}=N.useContext(Ja),{hash:o,pathname:l,search:u}=Qh(t,{relative:n}),h=l;return s!=="/"&&(h=l==="/"?s:Wa([s,l])),a.createHref({pathname:h,search:u,hash:o})}function hu(){return N.useContext(Zh)!=null}function Wr(){return hu()||Lt(!1),N.useContext(Zh).location}function WS(t){N.useContext(Ja).static||N.useLayoutEffect(t)}function IS(){let{isDataRoute:t}=N.useContext(Yr);return t?_5():c5()}function c5(){hu()||Lt(!1);let t=N.useContext(Kh),{basename:e,future:n,navigator:s}=N.useContext(Ja),{matches:a}=N.useContext(Yr),{pathname:o}=Wr(),l=JSON.stringify(VS(a,n.v7_relativeSplatPath)),u=N.useRef(!1);return WS(()=>{u.current=!0}),N.useCallback(function(m,p){if(p===void 0&&(p={}),!u.current)return;if(typeof m=="number"){s.go(m);return}let x=FS(m,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Wa([e,x.pathname])),(p.replace?s.replace:s.push)(x,p.state,p)},[e,s,l,o,t])}function Qh(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=N.useContext(Ja),{matches:a}=N.useContext(Yr),{pathname:o}=Wr(),l=JSON.stringify(VS(a,s.v7_relativeSplatPath));return N.useMemo(()=>FS(t,JSON.parse(l),o,n==="path"),[t,l,o,n])}function u5(t,e){return d5(t,e)}function d5(t,e,n,s){hu()||Lt(!1);let{navigator:a}=N.useContext(Ja),{matches:o}=N.useContext(Yr),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let m=Wr(),p;if(e){var x;let j=typeof e=="string"?sl(e):e;h==="/"||(x=j.pathname)!=null&&x.startsWith(h)||Lt(!1),p=j}else p=m;let b=p.pathname||"/",v=b;if(h!=="/"){let j=h.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=VD(t,{pathname:v}),S=g5(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:Wa([h,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:Wa([h,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,s);return e&&S?N.createElement(Zh.Provider,{value:{location:qc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:za.Pop}},S):S}function h5(){let t=v5(),e=r5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,null)}const f5=N.createElement(h5,null);class m5 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Yr.Provider,{value:this.props.routeContext},N.createElement(YS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p5(t){let{routeContext:e,match:n,children:s}=t,a=N.useContext(Kh);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Yr.Provider,{value:e},s)}function g5(t,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let p=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);p>=0||Lt(!1),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<l.length;p++){let x=l[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=p),x.route.id){let{loaderData:b,errors:v}=n,w=x.route.loader&&b[x.route.id]===void 0&&(!v||v[x.route.id]===void 0);if(x.route.lazy||w){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,x,b)=>{let v,w=!1,S=null,j=null;n&&(v=u&&x.route.id?u[x.route.id]:void 0,S=x.route.errorElement||f5,h&&(m<0&&b===0?(w5("route-fallback"),w=!0,j=null):m===b&&(w=!0,j=x.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,b+1)),C=()=>{let E;return v?E=S:w?E=j:x.route.Component?E=N.createElement(x.route.Component,null):x.route.element?E=x.route.element:E=p,N.createElement(p5,{match:x,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:E})};return n&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?N.createElement(m5,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):C()},null)}var qS=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(qS||{}),GS=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(GS||{});function x5(t){let e=N.useContext(Kh);return e||Lt(!1),e}function y5(t){let e=N.useContext(US);return e||Lt(!1),e}function b5(t){let e=N.useContext(Yr);return e||Lt(!1),e}function XS(t){let e=b5(),n=e.matches[e.matches.length-1];return n.route.id||Lt(!1),n.route.id}function v5(){var t;let e=N.useContext(YS),n=y5(),s=XS();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function _5(){let{router:t}=x5(qS.UseNavigateStable),e=XS(GS.UseNavigateStable),n=N.useRef(!1);return WS(()=>{n.current=!0}),N.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,qc({fromRouteId:e},o)))},[t,e])}const c_={};function w5(t,e,n){c_[t]||(c_[t]=!0)}function S5(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Fi(t){Lt(!1)}function j5(t){let{basename:e="/",children:n=null,location:s,navigationType:a=za.Pop,navigator:o,static:l=!1,future:u}=t;hu()&&Lt(!1);let h=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:h,navigator:o,static:l,future:qc({v7_relativeSplatPath:!1},u)}),[h,u,o,l]);typeof s=="string"&&(s=sl(s));let{pathname:p="/",search:x="",hash:b="",state:v=null,key:w="default"}=s,S=N.useMemo(()=>{let j=$o(p,h);return j==null?null:{location:{pathname:j,search:x,hash:b,state:v,key:w},navigationType:a}},[h,p,x,b,v,w,a]);return S==null?null:N.createElement(Ja.Provider,{value:m},N.createElement(Zh.Provider,{children:n,value:S}))}function N5(t){let{children:e,location:n}=t;return u5(Eg(e),n)}new Promise(()=>{});function Eg(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(s,a)=>{if(!N.isValidElement(s))return;let o=[...e,a];if(s.type===N.Fragment){n.push.apply(n,Eg(s.props.children,o));return}s.type!==Fi&&Lt(!1),!s.props.index||!s.props.children||Lt(!1);let l={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Eg(s.props.children,o)),n.push(l)}),n}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Sh.apply(this,arguments)}function $S(t,e){if(t==null)return{};var n={},s=Object.keys(t),a,o;for(o=0;o<s.length;o++)a=s[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function k5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T5(t,e){return t.button===0&&(!e||e==="_self")&&!k5(t)}function Ag(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function M5(t,e){let n=Ag(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}const C5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],E5="6";try{window.__reactRouterVersion=E5}catch{}const A5=N.createContext({isTransitioning:!1}),O5="startTransition",u_=MD[O5];function R5(t){let{basename:e,children:n,future:s,window:a}=t,o=N.useRef();o.current==null&&(o.current=PD({window:a,v5Compat:!0}));let l=o.current,[u,h]=N.useState({action:l.action,location:l.location}),{v7_startTransition:m}=s||{},p=N.useCallback(x=>{m&&u_?u_(()=>h(x)):h(x)},[h,m]);return N.useLayoutEffect(()=>l.listen(p),[l,p]),N.useEffect(()=>S5(s),[s]),N.createElement(j5,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:s})}const L5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dr=N.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:o,replace:l,state:u,target:h,to:m,preventScrollReset:p,viewTransition:x}=e,b=$S(e,C5),{basename:v}=N.useContext(Ja),w,S=!1;if(typeof m=="string"&&P5.test(m)&&(w=m,L5))try{let E=new URL(window.location.href),O=m.startsWith("//")?new URL(E.protocol+m):new URL(m),R=$o(O.pathname,v);O.origin===E.origin&&R!=null?m=R+O.search+O.hash:S=!0}catch{}let j=l5(m,{relative:a}),k=V5(m,{replace:l,state:u,target:h,preventScrollReset:p,relative:a,viewTransition:x});function C(E){s&&s(E),E.defaultPrevented||k(E)}return N.createElement("a",Sh({},b,{href:w||j,onClick:S||o?s:C,ref:n,target:h}))}),z5=N.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:a=!1,className:o="",end:l=!1,style:u,to:h,viewTransition:m,children:p}=e,x=$S(e,D5),b=Qh(h,{relative:x.relative}),v=Wr(),w=N.useContext(US),{navigator:S,basename:j}=N.useContext(Ja),k=w!=null&&H5(b)&&m===!0,C=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,E=v.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(E=E.toLowerCase(),O=O?O.toLowerCase():null,C=C.toLowerCase()),O&&j&&(O=$o(O,j)||O);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=E===C||!l&&E.startsWith(C)&&E.charAt(R)==="/",L=O!=null&&(O===C||!l&&O.startsWith(C)&&O.charAt(C.length)==="/"),P={isActive:A,isPending:L,isTransitioning:k},U=A?s:void 0,$;typeof o=="function"?$=o(P):$=[o,A?"active":null,L?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ee=typeof u=="function"?u(P):u;return N.createElement(Dr,Sh({},x,{"aria-current":U,className:$,ref:n,style:ee,to:h,viewTransition:m}),typeof p=="function"?p(P):p)});var Og;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Og||(Og={}));var d_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d_||(d_={}));function B5(t){let e=N.useContext(Kh);return e||Lt(!1),e}function V5(t,e){let{target:n,replace:s,state:a,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,h=IS(),m=Wr(),p=Qh(t,{relative:l});return N.useCallback(x=>{if(T5(x,n)){x.preventDefault();let b=s!==void 0?s:wh(m)===wh(p);h(t,{replace:b,state:a,preventScrollReset:o,relative:l,viewTransition:u})}},[m,h,p,s,a,n,t,o,l,u])}function F5(t){let e=N.useRef(Ag(t)),n=N.useRef(!1),s=Wr(),a=N.useMemo(()=>M5(s.search,n.current?null:e.current),[s.search]),o=IS(),l=N.useCallback((u,h)=>{const m=Ag(typeof u=="function"?u(a):u);n.current=!0,o("?"+m,h)},[o,a]);return[a,l]}function H5(t,e){e===void 0&&(e={});let n=N.useContext(A5);n==null&&Lt(!1);let{basename:s}=B5(Og.useViewTransitionState),a=Qh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=$o(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=$o(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Dg(a.pathname,l)!=null||Dg(a.pathname,o)!=null}const U5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KS=(...t)=>t.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");var Y5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const W5=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l,...u},h)=>N.createElement("svg",{ref:h,...Y5,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:KS("lucide",a),...u},[...l.map(([m,p])=>N.createElement(m,p)),...Array.isArray(o)?o:[o]]));const Ce=(t,e)=>{const n=N.forwardRef(({className:s,...a},o)=>N.createElement(W5,{ref:o,iconNode:e,className:KS(`lucide-${U5(t)}`,s),...a}));return n.displayName=`${t}`,n};const Ko=Ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const Rx=Ce("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);const Lx=Ce("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const Gc=Ce("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const Jh=Ce("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const Yp=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Rg=Ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const ZS=Ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const h_=Ce("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const f_=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const ef=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const m_=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const p_=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const I5=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const QS=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const q5=Ce("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const g_=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const x_=Ce("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const G5=Ce("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);const Lg=Ce("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const JS=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Xc=Ce("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const X5=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ej=Ce("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const jh=Ce("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const y_=Ce("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const $5=Ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const tj=Ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Pg=Ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const K5=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Z5=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Q5=Ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const J5=Ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const eE=Ce("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const nj=Ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const tE=Ce("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const nE=Ce("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const sj=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const sE=Ce("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const Px=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Nh=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const iE=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const aE=Ce("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const zx=Ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const ij=Ce("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);const fu=Ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const b_=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const rE=Ce("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);const v_=Ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const zg=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const oh=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Bg=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const il=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Ms=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Wp(t){return d.jsx("svg",{viewBox:"0 0 741 741",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{d:"m0-71v71h741v-142h-741zm0 882.5v70.5h741v-141h-741zm355.5-782.94c-3.3 0.83-8.48 2.92-11.5 4.62-3.02 1.71-6.85 4.12-8.5 5.36-1.65 1.23-4.89 4.66-7.2 7.6-2.31 2.95-5.52 8.06-7.13 11.36-1.61 3.3-5.03 13.2-7.6 22-2.57 8.8-5.52 18.7-6.55 22-1.03 3.3-4.63 15.9-8.01 28-3.37 12.1-6.97 24.7-7.98 28-1.02 3.3-3.5 11.63-5.51 18.5-2.01 6.88-6.14 19.93-9.18 29-3.04 9.08-8.34 22.35-11.76 29.5-3.43 7.15-8.26 16.15-10.75 20-2.48 3.85-7.22 10.38-10.53 14.5-3.31 4.13-9.12 10.22-12.91 13.55-3.79 3.32-8.69 7.4-10.89 9.06-2.2 1.65-7.6 5.29-12 8.09-4.4 2.79-18.35 10.37-31 16.84-12.65 6.47-25.7 13.66-29 15.97-3.3 2.32-7.61 6.19-9.58 8.6-1.98 2.41-4.74 6.42-6.14 8.89-1.41 2.48-3.38 6.98-4.4 10-1.29 3.85-1.83 8.35-1.81 15 0.03 7.34 0.58 11.09 2.42 16.5 1.39 4.06 4.31 9.5 6.95 12.97 2.51 3.28 7.09 8 10.19 10.5 3.09 2.49 13.44 8.52 23 13.4 9.55 4.88 21.19 10.92 25.87 13.43 4.68 2.51 11.87 6.81 16 9.55 4.12 2.75 10.65 7.55 14.5 10.67 3.85 3.12 9.93 8.82 13.5 12.66 3.57 3.84 9.4 11.22 12.95 16.4 3.55 5.18 8.58 13.7 11.17 18.92 2.59 5.23 5.69 11.98 6.9 15 1.2 3.03 3.67 9.78 5.49 15 1.82 5.23 5.56 16.7 8.31 25.5 2.76 8.8 7.55 24.78 10.65 35.5 3.11 10.73 7.84 26.93 10.51 36 2.68 9.08 6.93 23.81 9.45 32.75 2.51 8.94 5.64 18.39 6.95 21 1.31 2.61 4.09 7 6.19 9.75 2.09 2.75 5.63 6.67 7.87 8.72 2.23 2.04 6.54 5.05 9.56 6.69 3.02 1.64 8.43 3.73 12 4.66 4.88 1.26 8.62 1.53 15 1.06 6.56-0.49 10.1-1.36 15.5-3.85 3.85-1.77 9.25-4.88 12-6.92 2.75-2.03 6.56-5.65 8.47-8.03 1.91-2.38 4.98-7.25 6.82-10.83 1.84-3.57 4.02-8.97 4.84-12 0.82-3.02 2.79-10 4.36-15.5 1.58-5.5 5.36-18.55 8.4-29 3.05-10.45 8.5-29.12 12.12-41.5 3.61-12.37 7.45-25.54 8.53-29.25 1.08-3.71 4.71-14.51 8.07-24 3.36-9.49 8.51-22.2 11.45-28.25 2.93-6.05 7.22-13.92 9.53-17.5 2.3-3.57 6.76-9.65 9.91-13.5 3.15-3.85 8.94-10.04 12.86-13.75 3.93-3.71 10.4-9.04 14.39-11.84 3.99-2.8 11.3-7.48 16.25-10.4 4.95-2.92 17.77-9.76 28.5-15.19 10.73-5.44 21.52-11.27 24-12.96 2.48-1.69 6.71-5.5 9.41-8.47 2.7-2.96 6.38-8.54 8.18-12.39 1.8-3.85 3.75-10.04 4.34-13.75 0.73-4.63 0.76-8.94 0.07-13.75-0.55-3.85-1.92-9.59-3.05-12.75-1.12-3.16-4.05-8.56-6.5-12-2.45-3.44-6.81-8.02-9.7-10.17-2.89-2.16-16.05-9.52-29.25-16.35-13.2-6.84-28.09-15.08-33.1-18.33-5-3.24-11.08-7.21-13.5-8.81-2.42-1.59-8.67-7.22-13.9-12.5-5.23-5.27-12.25-13.64-15.6-18.59-3.36-4.95-8.02-12.6-10.35-17-2.34-4.4-5.36-10.7-6.71-14-1.36-3.3-4.63-11.85-7.28-19-2.66-7.15-6.72-19.75-9.03-28-2.32-8.25-5.29-18.37-6.6-22.5-1.31-4.12-5.28-17.62-8.81-30-3.53-12.37-8.1-28.12-10.15-35-2.06-6.87-4.52-15.42-5.48-19-0.96-3.57-3.15-9.87-4.87-14-1.72-4.12-5.34-10.42-8.03-14-3.25-4.3-7.22-8.01-11.75-10.97-3.76-2.46-9.32-5.31-12.34-6.33-3.02-1.03-9.1-2.04-13.5-2.26-5.13-0.26-10.16 0.14-14 1.12z"})})}async function Ee(t,e="GET",n){const s=t.startsWith("/")?t.slice(1):t,a={method:e,headers:{Accept:"application/json","Content-Type":"application/json"}};n&&(e==="POST"||e==="DELETE")&&(a.body=JSON.stringify(n));const o=await fetch(s,a);if(!o.ok)throw new Error(`${t} -> ${o.status}`);return o.json()}const we={schedule:()=>Ee("/api/schedule"),scheduleTodayWithHistory:()=>Ee("/api/schedule/today_with_history"),status:()=>Ee("/api/status"),health:()=>Ee("/api/health"),version:()=>Ee("/api/version"),horizon:()=>Ee("/api/forecast/horizon"),config:()=>Ee("/api/config"),configSave:t=>Ee("/api/config/save","POST",t),configReset:()=>Ee("/api/config/reset","POST"),setTheme:t=>Ee("/api/theme","POST",t),haAverage:()=>Ee("/api/ha/average"),haWaterToday:()=>Ee("/api/ha/water_today"),haTest:t=>Ee("/api/ha/test","POST",t),haEntities:()=>Ee("/api/ha/entities"),haServices:()=>Ee("/api/ha/services"),haEntityState:t=>Ee(`/api/ha/entity/${t}`),learningStatus:()=>Ee("/api/learning/status"),learningHistory:()=>Ee("/api/learning/history"),learningDailyMetrics:()=>Ee("/api/learning/daily_metrics"),learningRun:()=>Ee("/api/learning/run","POST"),learningLoops:()=>Ee("/api/learning/loops"),theme:()=>Ee("/api/themes"),runPlanner:()=>Ee("/api/run_planner","POST"),loadServerPlan:()=>Ee("/api/db/current_schedule"),pushToDb:()=>Ee("/api/db/push_current","POST"),resetToOptimal:()=>Ee("/api/schedule/save","POST"),simulate:async t=>{const e=await fetch("api/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Simulation failed");return e.json()},getAdvice:async()=>{const t=await fetch("api/analyst/advice");if(!t.ok)throw new Error("Failed to fetch advice");return t.json()},analystRun:()=>Ee("/api/analyst/run"),debug:()=>Ee("/api/debug"),debugLogs:()=>Ee("/api/debug/logs"),historySoc:(t="today")=>Ee(`/api/history/soc?date=${t}`),forecastEval:()=>Ee("/api/forecast/eval"),forecastDay:t=>Ee(t?`/api/forecast/day?date=${t}`:"/api/forecast/day"),forecastRunEval:(t=7)=>Ee("/api/forecast/run_eval","POST",{days_back:t}),forecastRunForward:(t=48)=>Ee("/api/forecast/run_forward","POST",{horizon_hours:t}),schedulerStatus:()=>Ee("/api/scheduler/status"),aurora:{dashboard:()=>Ee("/api/aurora/dashboard"),briefing:t=>Ee("/api/aurora/briefing","POST",t),toggleReflex:t=>Ee("/api/aurora/config/toggle_reflex","POST",{enabled:t})},performanceData:(t=7)=>Ee(`/api/performance/data?days=${t}`),executor:{status:()=>Ee("/api/executor/status"),run:()=>Ee("/api/executor/run","POST"),pause:()=>Ee("/api/executor/pause","POST"),resume:()=>Ee("/api/executor/resume","POST"),quickAction:{get:()=>Ee("/api/executor/quick-action"),set:(t,e)=>Ee("/api/executor/quick-action","POST",{type:t,duration_minutes:e}),clear:()=>Ee("/api/executor/quick-action","DELETE")}},waterBoost:{status:()=>Ee("/api/water/boost"),start:t=>Ee("/api/water/boost","POST",{duration_minutes:t}),cancel:()=>Ee("/api/water/boost","DELETE")},energyToday:()=>Ee("/api/energy/today")};function aj(){const[t,e]=N.useState("dark"),[n,s]=N.useState(!0),a=h=>h==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":h,o=h=>{const m=document.documentElement;h==="dark"?m.classList.add("dark"):m.classList.remove("dark")};N.useEffect(()=>{(async()=>{try{const p=(await we.config())?.ui?.theme_mode;if(p&&["light","dark","system"].includes(p))e(p),o(a(p));else{const x=localStorage.getItem("darkstar-theme");x&&["light","dark","system"].includes(x)?(e(x),o(a(x))):(e("dark"),o("dark"))}}catch{const p=localStorage.getItem("darkstar-theme")||"dark";e(p),o(a(p))}finally{s(!1)}})()},[]),N.useEffect(()=>{if(t!=="system")return;const h=window.matchMedia("(prefers-color-scheme: dark)"),m=p=>{o(p.matches?"dark":"light")};return h.addEventListener("change",m),()=>h.removeEventListener("change",m)},[t]);const l=async()=>{const h=t==="dark"?"light":"dark";e(h),o(h),localStorage.setItem("darkstar-theme",h);try{await we.configSave({ui:{theme_mode:h}})}catch(m){console.warn("[ThemeToggle] Failed to save theme to backend:",m)}};if(n)return d.jsx("div",{className:"h-12 w-12 rounded-2xl border border-line/70 bg-surface/80 flex items-center justify-center",children:d.jsx("div",{className:"h-5 w-5 rounded-full bg-muted/30 animate-pulse"})});const u=a(t);return d.jsxs("button",{type:"button",onClick:l,className:"group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface/80 hover:bg-surface2 transition",title:`Switch to ${u==="dark"?"light":"dark"} mode`,children:[u==="dark"?d.jsx(fu,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}):d.jsx(Q5,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}),d.jsx("span",{className:"absolute -right-2 top-1 rounded-full bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:u==="dark"?"Light mode":"Dark mode"})]})}const dc=({to:t,icon:e,label:n,onClick:s})=>{const a="group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface2 hover:brightness-110 transition",o="ring-2 ring-accent/50",l=d.jsxs(d.Fragment,{children:[d.jsx(e,{className:"h-5 w-5 text-muted group-hover:text-text"}),d.jsx("span",{className:"absolute -right-2 top-1 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:n})]});return t?d.jsx(z5,{to:t,className:({isActive:u})=>`${a} ${u?o:""}`,title:n,children:l}):d.jsx("button",{onClick:s,className:a,title:n,children:l})};function oE(){const{pathname:t}=Wr(),[e,n]=N.useState(!1),[s,a]=N.useState(null),[o,l]=N.useState("...");N.useEffect(()=>{const h=async()=>{try{await we.status(),a(!0)}catch{a(!1)}};h();const m=setInterval(h,3e4);return()=>clearInterval(m)},[]),N.useEffect(()=>{we.version().then(h=>l(h.version||"dev")).catch(()=>l("dev"))},[]);const u=()=>n(!1);return d.jsxs(d.Fragment,{children:[d.jsx("aside",{className:"hidden lg:block fixed left-6 top-6 bottom-6 z-50",children:d.jsxs("div",{className:"h-full w-16 rounded-2xl bg-surface shadow-float border border-line/60 flex flex-col items-center gap-3 p-2",children:[d.jsxs(Dr,{to:"/",className:"mt-1 mb-1 flex items-center justify-center group relative",children:[d.jsx("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-surface2 border border-line/60 overflow-hidden",children:d.jsx(Wp,{className:"h-8 w-8 text-accent"})}),d.jsxs("span",{className:"absolute left-14 top-1/2 -translate-y-1/2 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-50 pointer-events-none",children:["darkstar v",o]})]}),d.jsx(dc,{to:"/",icon:jh,label:"Dash"}),d.jsx(dc,{to:"/executor",icon:Lg,label:"Executor"}),d.jsx(dc,{to:"/aurora",icon:Rg,label:"Aurora"}),d.jsx(dc,{to:"/debug",icon:h_,label:"Debug"}),d.jsx("div",{className:"mt-auto w-8 h-px bg-line/70"}),d.jsxs("div",{className:"py-2 flex flex-col items-center gap-2",children:[d.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-all duration-500 ${s===!0?"bg-good shadow-[0_0_8px_rgba(31,178,86,0.5)]":s===!1?"bg-bad":"bg-slate-700"}`,title:s===!0?"System Online":s===!1?"System Offline":"Connecting..."}),d.jsxs("span",{className:"text-[10px] text-muted/30 font-mono select-none tracking-widest whitespace-nowrap opacity-50 hover:opacity-100 transition",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:["darkstar v",o]})]}),d.jsx(aj,{}),d.jsx(dc,{to:"/settings",icon:Nh,label:"Settings"})]})}),d.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-surface/95 border-b border-line/60 flex items-center justify-between px-4 py-2",children:[d.jsx("button",{type:"button","aria-label":"Open navigation",className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-line/70 bg-surface2 text-muted hover:border-accent hover:text-accent",onClick:()=>n(!0),children:d.jsx(Z5,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[d.jsx(Wp,{className:"h-5 w-5 text-accent"}),d.jsxs("span",{className:"font-mono",children:["v",o]})]}),d.jsx("div",{className:"w-10"})]}),e&&d.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 bg-[rgba(4,6,10,0.92)] backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-line/60",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-surface2 border border-line/60",children:d.jsx(Wp,{className:"h-5 w-5 text-accent"})}),d.jsxs("span",{className:"text-muted font-mono",children:["darkstar v",o]})]}),d.jsx("button",{type:"button","aria-label":"Close navigation",className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-line/70 bg-surface text-muted hover:border-accent hover:text-accent",onClick:u,children:d.jsx(il,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3",onClick:u,children:[d.jsxs(Dr,{to:"/",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(jh,{className:`h-6 w-6 ${t==="/"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Dash"})]}),d.jsxs(Dr,{to:"/executor",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/executor"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Lg,{className:`h-6 w-6 ${t==="/executor"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Executor"})]}),d.jsxs(Dr,{to:"/aurora",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/aurora"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Rg,{className:`h-6 w-6 ${t==="/aurora"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Aurora"})]}),d.jsxs(Dr,{to:"/debug",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/debug"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(h_,{className:`h-6 w-6 ${t==="/debug"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Debug"})]}),d.jsxs(Dr,{to:"/settings",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/settings"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[d.jsx(Nh,{className:`h-6 w-6 ${t==="/settings"?"text-accent":"text-muted"}`}),d.jsx("span",{className:"text-sm",children:"Settings"})]})]})]})]})}class lE extends N.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("[ErrorBoundary] Caught error:",e),console.error("[ErrorBoundary] Component stack:",n.componentStack)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-md w-full bg-surface border border-line rounded-2xl p-8 shadow-float text-center",children:[d.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center",children:d.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h1",{className:"text-lg font-semibold text-text mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-sm text-muted mb-4",children:"The application encountered an unexpected error."}),this.state.error&&d.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:d.jsx("code",{className:"text-xs text-red-400 break-all",children:this.state.error.message})}),d.jsx("button",{onClick:this.handleReload,className:"px-6 py-2.5 rounded-full bg-accent text-canvas font-medium text-sm hover:bg-accent2 transition-colors",children:"Reload Page"}),d.jsx("p",{className:"mt-4 text-xs text-muted/60",children:"If this keeps happening, check the browser console for details."})]})}):this.props.children}}const cE={card:"rounded-xl2 bg-surface shadow-float border border-line/60"};function Pe({children:t,className:e=""}){return d.jsx("div",{className:`${cE.card} ${e}`,children:t})}function mu(t){return t+.5|0}const Ba=(t,e,n)=>Math.max(Math.min(t,n),e);function Tc(t){return Ba(mu(t*2.55),0,255)}function Ia(t){return Ba(mu(t*255),0,255)}function Wi(t){return Ba(mu(t/2.55)/100,0,1)}function __(t){return Ba(mu(t*100),0,100)}const ws={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vg=[..."0123456789ABCDEF"],uE=t=>Vg[t&15],dE=t=>Vg[(t&240)>>4]+Vg[t&15],Pd=t=>(t&240)>>4===(t&15),hE=t=>Pd(t.r)&&Pd(t.g)&&Pd(t.b)&&Pd(t.a);function fE(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ws[t[1]]*17,g:255&ws[t[2]]*17,b:255&ws[t[3]]*17,a:e===5?ws[t[4]]*17:255}:(e===7||e===9)&&(n={r:ws[t[1]]<<4|ws[t[2]],g:ws[t[3]]<<4|ws[t[4]],b:ws[t[5]]<<4|ws[t[6]],a:e===9?ws[t[7]]<<4|ws[t[8]]:255})),n}const mE=(t,e)=>t<255?e(t):"";function pE(t){var e=hE(t)?uE:dE;return t?"#"+e(t.r)+e(t.g)+e(t.b)+mE(t.a,e):void 0}const gE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rj(t,e,n){const s=e*Math.min(n,1-n),a=(o,l=(o+t/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function xE(t,e,n){const s=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function yE(t,e,n){const s=rj(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)s[a]*=1-e-n,s[a]+=e;return s}function bE(t,e,n,s,a){return t===a?(e-n)/s+(e<n?6:0):e===a?(n-t)/s+2:(t-e)/s+4}function Bx(t){const n=t.r/255,s=t.g/255,a=t.b/255,o=Math.max(n,s,a),l=Math.min(n,s,a),u=(o+l)/2;let h,m,p;return o!==l&&(p=o-l,m=u>.5?p/(2-o-l):p/(o+l),h=bE(n,s,a,p,o),h=h*60+.5),[h|0,m||0,u]}function Vx(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Ia)}function Fx(t,e,n){return Vx(rj,t,e,n)}function vE(t,e,n){return Vx(yE,t,e,n)}function _E(t,e,n){return Vx(xE,t,e,n)}function oj(t){return(t%360+360)%360}function wE(t){const e=gE.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Tc(+e[5]):Ia(+e[5]));const a=oj(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?s=vE(a,o,l):e[1]==="hsv"?s=_E(a,o,l):s=Fx(a,o,l),{r:s[0],g:s[1],b:s[2],a:n}}function SE(t,e){var n=Bx(t);n[0]=oj(n[0]+e),n=Fx(n),t.r=n[0],t.g=n[1],t.b=n[2]}function jE(t){if(!t)return;const e=Bx(t),n=e[0],s=__(e[1]),a=__(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${a}%, ${Wi(t.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const w_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},S_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function NE(){const t={},e=Object.keys(S_),n=Object.keys(w_);let s,a,o,l,u;for(s=0;s<e.length;s++){for(l=u=e[s],a=0;a<n.length;a++)o=n[a],u=u.replace(o,w_[o]);o=parseInt(S_[l],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let zd;function kE(t){zd||(zd=NE(),zd.transparent=[0,0,0,0]);const e=zd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const TE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ME(t){const e=TE.exec(t);let n=255,s,a,o;if(e){if(e[7]!==s){const l=+e[7];n=e[8]?Tc(l):Ba(l*255,0,255)}return s=+e[1],a=+e[3],o=+e[5],s=255&(e[2]?Tc(s):Ba(s,0,255)),a=255&(e[4]?Tc(a):Ba(a,0,255)),o=255&(e[6]?Tc(o):Ba(o,0,255)),{r:s,g:a,b:o,a:n}}}function CE(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Wi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ip=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ao=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function DE(t,e,n){const s=Ao(Wi(t.r)),a=Ao(Wi(t.g)),o=Ao(Wi(t.b));return{r:Ia(Ip(s+n*(Ao(Wi(e.r))-s))),g:Ia(Ip(a+n*(Ao(Wi(e.g))-a))),b:Ia(Ip(o+n*(Ao(Wi(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Bd(t,e,n){if(t){let s=Bx(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Fx(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function lj(t,e){return t&&Object.assign(e||{},t)}function j_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ia(t[3]))):(e=lj(t,{r:0,g:0,b:0,a:1}),e.a=Ia(e.a)),e}function EE(t){return t.charAt(0)==="r"?ME(t):wE(t)}class $c{constructor(e){if(e instanceof $c)return e;const n=typeof e;let s;n==="object"?s=j_(e):n==="string"&&(s=fE(e)||kE(e)||EE(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=lj(this._rgb);return e&&(e.a=Wi(e.a)),e}set rgb(e){this._rgb=j_(e)}rgbString(){return this._valid?CE(this._rgb):void 0}hexString(){return this._valid?pE(this._rgb):void 0}hslString(){return this._valid?jE(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,a=e.rgb;let o;const l=n===o?.5:n,u=2*l-1,h=s.a-a.a,m=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-m,s.r=255&m*s.r+o*a.r+.5,s.g=255&m*s.g+o*a.g+.5,s.b=255&m*s.b+o*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=DE(this._rgb,e._rgb,n)),this}clone(){return new $c(this.rgb)}alpha(e){return this._rgb.a=Ia(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=mu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Bd(this._rgb,2,e),this}darken(e){return Bd(this._rgb,2,-e),this}saturate(e){return Bd(this._rgb,1,e),this}desaturate(e){return Bd(this._rgb,1,-e),this}rotate(e){return SE(this._rgb,e),this}}function Bi(){}const AE=(()=>{let t=0;return()=>t++})();function Ge(t){return t==null}function kt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ke(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Rt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function is(t,e){return Rt(t)?t:e}function Re(t,e){return typeof t>"u"?e:t}const OE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,cj=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Oe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function qe(t,e,n,s){let a,o,l;if(kt(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(Ke(t))for(l=Object.keys(t),o=l.length,a=0;a<o;a++)e.call(n,t[l[a]],l[a])}function kh(t,e){let n,s,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Th(t){if(kt(t))return t.map(Th);if(Ke(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let a=0;for(;a<s;++a)e[n[a]]=Th(t[n[a]]);return e}return t}function uj(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function RE(t,e,n,s){if(!uj(t))return;const a=e[t],o=n[t];Ke(a)&&Ke(o)?Kc(a,o,s):e[t]=Th(o)}function Kc(t,e,n){const s=kt(e)?e:[e],a=s.length;if(!Ke(t))return t;n=n||{};const o=n.merger||RE;let l;for(let u=0;u<a;++u){if(l=s[u],!Ke(l))continue;const h=Object.keys(l);for(let m=0,p=h.length;m<p;++m)o(h[m],t,l,n)}return t}function Lc(t,e){return Kc(t,e,{merger:LE})}function LE(t,e,n){if(!uj(t))return;const s=e[t],a=n[t];Ke(s)&&Ke(a)?Lc(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Th(a))}const N_={"":t=>t,x:t=>t.x,y:t=>t.y};function PE(t){const e=t.split("."),n=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function zE(t){const e=PE(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Xa(t,e){return(N_[e]||(N_[e]=zE(e)))(t)}function Hx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Zc=t=>typeof t<"u",$a=t=>typeof t=="function",k_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function BE(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const st=Math.PI,vt=2*st,VE=vt+st,Mh=Number.POSITIVE_INFINITY,FE=st/180,Yt=st/2,jr=st/4,T_=st*2/3,Va=Math.log10,Cs=Math.sign;function Pr(t,e,n){return Math.abs(t-e)<n}function M_(t){const e=Math.round(t);t=Pr(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Va(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function HE(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function UE(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Zo(t){return!UE(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function YE(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function dj(t,e,n){let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Us(t){return t*(st/180)}function Ux(t){return t*(180/st)}function C_(t){if(!Rt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function hj(t,e){const n=e.x-t.x,s=e.y-t.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*st&&(o+=vt),{angle:o,distance:a}}function Fg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function WE(t,e){return(t-e+VE)%vt-st}function Tn(t){return(t%vt+vt)%vt}function Qc(t,e,n,s){const a=Tn(t),o=Tn(e),l=Tn(n),u=Tn(o-a),h=Tn(l-a),m=Tn(a-o),p=Tn(a-l);return a===o||a===l||s&&o===l||u>h&&m<p}function un(t,e,n){return Math.max(e,Math.min(n,t))}function IE(t){return un(t,-32768,32767)}function Ii(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Yx(t,e,n){n=n||(l=>t[l]<e);let s=t.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const qi=(t,e,n,s)=>Yx(t,n,s?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),qE=(t,e,n)=>Yx(t,n,s=>t[s][e]>=n);function GE(t,e,n){let s=0,a=t.length;for(;s<a&&t[s]<e;)s++;for(;a>s&&t[a-1]>n;)a--;return s>0||a<t.length?t.slice(s,a):t}const fj=["push","pop","shift","splice","unshift"];function XE(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),fj.forEach(n=>{const s="_onData"+Hx(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...o)}),l}})})}function D_(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(fj.forEach(o=>{delete t[o]}),delete t._chartjs)}function mj(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const pj=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function gj(t,e){let n=[],s=!1;return function(...a){n=a,s||(s=!0,pj.call(window,()=>{s=!1,t.apply(e,n)}))}}function $E(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Wx=t=>t==="start"?"left":t==="end"?"right":"center",Nn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,KE=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function xj(t,e,n){const s=e.length;let a=0,o=s;if(t._sorted){const{iScale:l,vScale:u,_parsed:h}=t,m=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:x,max:b,minDefined:v,maxDefined:w}=l.getUserBounds();if(v){if(a=Math.min(qi(h,p,x).lo,n?s:qi(e,p,l.getPixelForValue(x)).lo),m){const S=h.slice(0,a+1).reverse().findIndex(j=>!Ge(j[u.axis]));a-=Math.max(0,S)}a=un(a,0,s-1)}if(w){let S=Math.max(qi(h,l.axis,b,!0).hi+1,n?0:qi(e,p,l.getPixelForValue(b),!0).hi+1);if(m){const j=h.slice(S-1).findIndex(k=>!Ge(k[u.axis]));S+=Math.max(0,j)}o=un(S,a,s)-a}else o=s-a}return{start:a,count:o}}function yj(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,a={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=a,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,a),o}const Vd=t=>t===0||t===1,E_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*vt/n)),A_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*vt/n)+1,Pc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Yt)+1,easeOutSine:t=>Math.sin(t*Yt),easeInOutSine:t=>-.5*(Math.cos(st*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Vd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Vd(t)?t:E_(t,.075,.3),easeOutElastic:t=>Vd(t)?t:A_(t,.075,.3),easeInOutElastic(t){return Vd(t)?t:t<.5?.5*E_(t*2,.1125,.45):.5+.5*A_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Pc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Pc.easeInBounce(t*2)*.5:Pc.easeOutBounce(t*2-1)*.5+.5};function Ix(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function O_(t){return Ix(t)?t:new $c(t)}function qp(t){return Ix(t)?t:new $c(t).saturate(.5).darken(.1).hexString()}const ZE=["x","y","borderWidth","radius","tension"],QE=["color","borderColor","backgroundColor"];function JE(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:QE},numbers:{type:"number",properties:ZE}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function eA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const R_=new Map;function tA(t,e){e=e||{};const n=t+JSON.stringify(e);let s=R_.get(n);return s||(s=new Intl.NumberFormat(t,e),R_.set(n,s)),s}function pu(t,e,n){return tA(e,n).format(t)}const bj={values(t){return kt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let a,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=nA(t,n)}const l=Va(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),pu(t,s,h)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Va(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?bj.numeric.call(this,t,e,n):""}};function nA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var tf={formatters:bj};function sA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Hr=Object.create(null),Hg=Object.create(null);function zc(t,e){if(!e)return t;const n=e.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];t=t[o]||(t[o]=Object.create(null))}return t}function Gp(t,e,n){return typeof e=="string"?Kc(zc(t,e),n):Kc(zc(t,""),e)}class iA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>qp(a.backgroundColor),this.hoverBorderColor=(s,a)=>qp(a.borderColor),this.hoverColor=(s,a)=>qp(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Gp(this,e,n)}get(e){return zc(this,e)}describe(e,n){return Gp(Hg,e,n)}override(e,n){return Gp(Hr,e,n)}route(e,n,s,a){const o=zc(this,e),l=zc(this,s),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[u],m=l[a];return Ke(h)?Object.assign({},m,h):Re(h,m)},set(h){this[u]=h}}})}apply(e){e.forEach(n=>n(this))}}var Tt=new iA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[JE,eA,sA]);function aA(t){return!t||Ge(t.size)||Ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ch(t,e,n,s,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>s&&(s=o),s}function rA(t,e,n,s){s=s||{};let a=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(a=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let l=0;const u=n.length;let h,m,p,x,b;for(h=0;h<u;h++)if(x=n[h],x!=null&&!kt(x))l=Ch(t,a,o,l,x);else if(kt(x))for(m=0,p=x.length;m<p;m++)b=x[m],b!=null&&!kt(b)&&(l=Ch(t,a,o,l,b));t.restore();const v=o.length/2;if(v>n.length){for(h=0;h<v;h++)delete a[o[h]];o.splice(0,v)}return l}function Nr(t,e,n){const s=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*s)/s+a}function L_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ug(t,e,n,s){vj(t,e,n,s,null)}function vj(t,e,n,s,a){let o,l,u,h,m,p,x,b;const v=e.pointStyle,w=e.rotation,S=e.radius;let j=(w||0)*FE;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(j),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:a?t.ellipse(n,s,a/2,S,0,0,vt):t.arc(n,s,S,0,vt),t.closePath();break;case"triangle":p=a?a/2:S,t.moveTo(n+Math.sin(j)*p,s-Math.cos(j)*S),j+=T_,t.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*S),j+=T_,t.lineTo(n+Math.sin(j)*p,s-Math.cos(j)*S),t.closePath();break;case"rectRounded":m=S*.516,h=S-m,l=Math.cos(j+jr)*h,x=Math.cos(j+jr)*(a?a/2-m:h),u=Math.sin(j+jr)*h,b=Math.sin(j+jr)*(a?a/2-m:h),t.arc(n-x,s-u,m,j-st,j-Yt),t.arc(n+b,s-l,m,j-Yt,j),t.arc(n+x,s+u,m,j,j+Yt),t.arc(n-b,s+l,m,j+Yt,j+st),t.closePath();break;case"rect":if(!w){h=Math.SQRT1_2*S,p=a?a/2:h,t.rect(n-p,s-h,2*p,2*h);break}j+=jr;case"rectRot":x=Math.cos(j)*(a?a/2:S),l=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+b,s-l),t.lineTo(n+x,s+u),t.lineTo(n-b,s+l),t.closePath();break;case"crossRot":j+=jr;case"cross":x=Math.cos(j)*(a?a/2:S),l=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+x,s+u),t.moveTo(n+b,s-l),t.lineTo(n-b,s+l);break;case"star":x=Math.cos(j)*(a?a/2:S),l=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+x,s+u),t.moveTo(n+b,s-l),t.lineTo(n-b,s+l),j+=jr,x=Math.cos(j)*(a?a/2:S),l=Math.cos(j)*S,u=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(n-x,s-u),t.lineTo(n+x,s+u),t.moveTo(n+b,s-l),t.lineTo(n-b,s+l);break;case"line":l=a?a/2:Math.cos(j)*S,u=Math.sin(j)*S,t.moveTo(n-l,s-u),t.lineTo(n+l,s+u);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(j)*(a?a/2:S),s+Math.sin(j)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function nf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function sf(t){t.restore()}function oA(t,e,n,s,a){if(!e)return t.lineTo(n.x,n.y);if(a==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else a==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function lA(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function cA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function uA(t,e,n,s,a){if(a.strikethrough||a.underline){const o=t.measureText(s),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,h=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,p=a.strikethrough?(h+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(l,p),t.lineTo(u,p),t.stroke()}}function dA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ur(t,e,n,s,a,o={}){const l=kt(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let h,m;for(t.save(),t.font=a.string,cA(t,o),h=0;h<l.length;++h)m=l[h],o.backdrop&&dA(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Ge(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,s,o.maxWidth)),t.fillText(m,n,s,o.maxWidth),uA(t,n,s,m,o),s+=Number(a.lineHeight);t.restore()}function Jc(t,e){const{x:n,y:s,w:a,h:o,radius:l}=e;t.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*st,st,!0),t.lineTo(n,s+o-l.bottomLeft),t.arc(n+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,st,Yt,!0),t.lineTo(n+a-l.bottomRight,s+o),t.arc(n+a-l.bottomRight,s+o-l.bottomRight,l.bottomRight,Yt,0,!0),t.lineTo(n+a,s+l.topRight),t.arc(n+a-l.topRight,s+l.topRight,l.topRight,0,-Yt,!0),t.lineTo(n+l.topLeft,s)}const hA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mA(t,e){const n=(""+t).match(hA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const pA=t=>+t||0;function qx(t,e){const n={},s=Ke(e),a=s?Object.keys(e):e,o=Ke(t)?s?l=>Re(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of a)n[l]=pA(o(l));return n}function _j(t){return qx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zr(t){return qx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function En(t){const e=_j(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function an(t,e){t=t||{},e=e||Tt.font;let n=Re(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Re(t.style,e.style);s&&!(""+s).match(fA)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Re(t.family,e.family),lineHeight:mA(Re(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Re(t.weight,e.weight),string:""};return a.string=aA(a),a}function Mc(t,e,n,s){let a,o,l;for(a=0,o=t.length;a<o;++a)if(l=t[a],l!==void 0&&l!==void 0)return l}function gA(t,e,n){const{min:s,max:a}=t,o=cj(e,(a-s)/2),l=(u,h)=>n&&u===0?0:u+h;return{min:l(s,-Math.abs(o)),max:l(a,o)}}function er(t,e){return Object.assign(Object.create(t),e)}function Gx(t,e=[""],n,s,a=()=>t[0]){const o=n||t;typeof s>"u"&&(s=Nj("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:a,override:u=>Gx([u,...t],e,o,s)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete t[0][h],!0},get(u,h){return Sj(u,h,()=>jA(h,e,t,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,h){return z_(u).includes(h)},ownKeys(u){return z_(u)},set(u,h,m){const p=u._storage||(u._storage=a());return u[h]=p[h]=m,delete u._keys,!0}})}function Qo(t,e,n,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:wj(t,s),setContext:o=>Qo(t,o,n,s),override:o=>Qo(t.override(o),e,n,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete t[l],!0},get(o,l,u){return Sj(o,l,()=>yA(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(o,l,u){return t[l]=u,delete o[l],!0}})}function wj(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:s,isScriptable:$a(n)?n:()=>n,isIndexable:$a(s)?s:()=>s}}const xA=(t,e)=>t?t+Hx(e):e,Xx=(t,e)=>Ke(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Sj(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function yA(t,e,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=t;let u=s[e];return $a(u)&&l.isScriptable(e)&&(u=bA(e,u,t,n)),kt(u)&&u.length&&(u=vA(e,u,t,l.isIndexable)),Xx(e,u)&&(u=Qo(u,a,o&&o[e],l)),u}function bA(t,e,n,s){const{_proxy:a,_context:o,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let h=e(o,l||s);return u.delete(t),Xx(t,h)&&(h=$x(a._scopes,a,t,h)),h}function vA(t,e,n,s){const{_proxy:a,_context:o,_subProxy:l,_descriptors:u}=n;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(Ke(e[0])){const h=e,m=a._scopes.filter(p=>p!==h);e=[];for(const p of h){const x=$x(m,a,t,p);e.push(Qo(x,o,l&&l[t],u))}}return e}function jj(t,e,n){return $a(t)?t(e,n):t}const _A=(t,e)=>t===!0?e:typeof t=="string"?Xa(e,t):void 0;function wA(t,e,n,s,a){for(const o of e){const l=_A(n,o);if(l){t.add(l);const u=jj(l._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==s)return u}else if(l===!1&&typeof s<"u"&&n!==s)return null}return!1}function $x(t,e,n,s){const a=e._rootScopes,o=jj(e._fallback,n,s),l=[...t,...a],u=new Set;u.add(s);let h=P_(u,l,n,o||n,s);return h===null||typeof o<"u"&&o!==n&&(h=P_(u,l,o,h,s),h===null)?!1:Gx(Array.from(u),[""],a,o,()=>SA(e,n,s))}function P_(t,e,n,s,a){for(;n;)n=wA(t,e,n,s,a);return n}function SA(t,e,n){const s=t._getTarget();e in s||(s[e]={});const a=s[e];return kt(a)&&Ke(n)?n:a||{}}function jA(t,e,n,s){let a;for(const o of e)if(a=Nj(xA(o,t),n),typeof a<"u")return Xx(t,a)?$x(n,s,t,a):a}function Nj(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function z_(t){let e=t._keys;return e||(e=t._keys=NA(t._scopes)),e}function NA(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}function kj(t,e,n,s){const{iScale:a}=t,{key:o="r"}=this._parsing,l=new Array(s);let u,h,m,p;for(u=0,h=s;u<h;++u)m=u+n,p=e[m],l[u]={r:a.parse(Xa(p,o),m)};return l}const kA=Number.EPSILON||1e-14,Jo=(t,e)=>e<t.length&&!t[e].skip&&t[e],Tj=t=>t==="x"?"y":"x";function TA(t,e,n,s){const a=t.skip?e:t,o=e,l=n.skip?e:n,u=Fg(o,a),h=Fg(l,o);let m=u/(u+h),p=h/(u+h);m=isNaN(m)?0:m,p=isNaN(p)?0:p;const x=s*m,b=s*p;return{previous:{x:o.x-x*(l.x-a.x),y:o.y-x*(l.y-a.y)},next:{x:o.x+b*(l.x-a.x),y:o.y+b*(l.y-a.y)}}}function MA(t,e,n){const s=t.length;let a,o,l,u,h,m=Jo(t,0);for(let p=0;p<s-1;++p)if(h=m,m=Jo(t,p+1),!(!h||!m)){if(Pr(e[p],0,kA)){n[p]=n[p+1]=0;continue}a=n[p]/e[p],o=n[p+1]/e[p],u=Math.pow(a,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),n[p]=a*l*e[p],n[p+1]=o*l*e[p])}}function CA(t,e,n="x"){const s=Tj(n),a=t.length;let o,l,u,h=Jo(t,0);for(let m=0;m<a;++m){if(l=u,u=h,h=Jo(t,m+1),!u)continue;const p=u[n],x=u[s];l&&(o=(p-l[n])/3,u[`cp1${n}`]=p-o,u[`cp1${s}`]=x-o*e[m]),h&&(o=(h[n]-p)/3,u[`cp2${n}`]=p+o,u[`cp2${s}`]=x+o*e[m])}}function DA(t,e="x"){const n=Tj(e),s=t.length,a=Array(s).fill(0),o=Array(s);let l,u,h,m=Jo(t,0);for(l=0;l<s;++l)if(u=h,h=m,m=Jo(t,l+1),!!h){if(m){const p=m[e]-h[e];a[l]=p!==0?(m[n]-h[n])/p:0}o[l]=u?m?Cs(a[l-1])!==Cs(a[l])?0:(a[l-1]+a[l])/2:a[l-1]:a[l]}MA(t,a,o),CA(t,o,e)}function Fd(t,e,n){return Math.max(Math.min(t,n),e)}function EA(t,e){let n,s,a,o,l,u=oi(t[0],e);for(n=0,s=t.length;n<s;++n)l=o,o=u,u=n<s-1&&oi(t[n+1],e),o&&(a=t[n],l&&(a.cp1x=Fd(a.cp1x,e.left,e.right),a.cp1y=Fd(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=Fd(a.cp2x,e.left,e.right),a.cp2y=Fd(a.cp2y,e.top,e.bottom)))}function AA(t,e,n,s,a){let o,l,u,h;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")DA(t,a);else{let m=s?t[t.length-1]:t[0];for(o=0,l=t.length;o<l;++o)u=t[o],h=TA(m,u,t[Math.min(o+1,l-(s?0:1))%l],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,m=u}e.capBezierPoints&&EA(t,n)}function Kx(){return typeof window<"u"&&typeof document<"u"}function Zx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Dh(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const af=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function OA(t,e){return af(t).getPropertyValue(e)}const RA=["top","right","bottom","left"];function Br(t,e,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=RA[a];s[o]=parseFloat(t[e+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const LA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function PA(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=s;let l=!1,u,h;if(LA(a,o,t.target))u=a,h=o;else{const m=e.getBoundingClientRect();u=s.clientX-m.left,h=s.clientY-m.top,l=!0}return{x:u,y:h,box:l}}function ai(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,a=af(n),o=a.boxSizing==="border-box",l=Br(a,"padding"),u=Br(a,"border","width"),{x:h,y:m,box:p}=PA(t,n),x=l.left+(p&&u.left),b=l.top+(p&&u.top);let{width:v,height:w}=e;return o&&(v-=l.width+u.width,w-=l.height+u.height),{x:Math.round((h-x)/v*n.width/s),y:Math.round((m-b)/w*n.height/s)}}function zA(t,e,n){let s,a;if(e===void 0||n===void 0){const o=t&&Zx(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const l=o.getBoundingClientRect(),u=af(o),h=Br(u,"border","width"),m=Br(u,"padding");e=l.width-m.width-h.width,n=l.height-m.height-h.height,s=Dh(u.maxWidth,o,"clientWidth"),a=Dh(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:s||Mh,maxHeight:a||Mh}}const Fa=t=>Math.round(t*10)/10;function BA(t,e,n,s){const a=af(t),o=Br(a,"margin"),l=Dh(a.maxWidth,t,"clientWidth")||Mh,u=Dh(a.maxHeight,t,"clientHeight")||Mh,h=zA(t,e,n);let{width:m,height:p}=h;if(a.boxSizing==="content-box"){const b=Br(a,"border","width"),v=Br(a,"padding");m-=v.width+b.width,p-=v.height+b.height}return m=Math.max(0,m-o.width),p=Math.max(0,s?m/s:p-o.height),m=Fa(Math.min(m,l,h.maxWidth)),p=Fa(Math.min(p,u,h.maxHeight)),m&&!p&&(p=Fa(m/2)),(e!==void 0||n!==void 0)&&s&&h.height&&p>h.height&&(p=h.height,m=Fa(Math.floor(p*s))),{width:m,height:p}}function B_(t,e,n){const s=e||1,a=Fa(t.height*s),o=Fa(t.width*s);t.height=Fa(t.height),t.width=Fa(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||l.height!==a||l.width!==o?(t.currentDevicePixelRatio=s,l.height=a,l.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const VA=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Kx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function V_(t,e){const n=OA(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Er(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function FA(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function HA(t,e,n,s){const a={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},l=Er(t,a,n),u=Er(a,o,n),h=Er(o,e,n),m=Er(l,u,n),p=Er(u,h,n);return Er(m,p,n)}const UA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},YA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Io(t,e,n){return t?UA(e,n):YA()}function Mj(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Cj(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Dj(t){return t==="angle"?{between:Qc,compare:WE,normalize:Tn}:{between:Ii,compare:(e,n)=>e-n,normalize:e=>e}}function F_({start:t,end:e,count:n,loop:s,style:a}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:a}}function WA(t,e,n){const{property:s,start:a,end:o}=n,{between:l,normalize:u}=Dj(s),h=e.length;let{start:m,end:p,loop:x}=t,b,v;if(x){for(m+=h,p+=h,b=0,v=h;b<v&&l(u(e[m%h][s]),a,o);++b)m--,p--;m%=h,p%=h}return p<m&&(p+=h),{start:m,end:p,loop:x,style:t.style}}function Ej(t,e,n){if(!n)return[t];const{property:s,start:a,end:o}=n,l=e.length,{compare:u,between:h,normalize:m}=Dj(s),{start:p,end:x,loop:b,style:v}=WA(t,e,n),w=[];let S=!1,j=null,k,C,E;const O=()=>h(a,E,k)&&u(a,E)!==0,R=()=>u(o,k)===0||h(o,E,k),A=()=>S||O(),L=()=>!S||R();for(let P=p,U=p;P<=x;++P)C=e[P%l],!C.skip&&(k=m(C[s]),k!==E&&(S=h(k,a,o),j===null&&A()&&(j=u(k,a)===0?P:U),j!==null&&L()&&(w.push(F_({start:j,end:P,loop:b,count:l,style:v})),j=null),U=P,E=k));return j!==null&&w.push(F_({start:j,end:x,loop:b,count:l,style:v})),w}function Aj(t,e){const n=[],s=t.segments;for(let a=0;a<s.length;a++){const o=Ej(s[a],t.points,e);o.length&&n.push(...o)}return n}function IA(t,e,n,s){let a=0,o=e-1;if(n&&!s)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,n&&(o+=a);o>a&&t[o%e].skip;)o--;return o%=e,{start:a,end:o}}function qA(t,e,n,s){const a=t.length,o=[];let l=e,u=t[e],h;for(h=e+1;h<=n;++h){const m=t[h%a];m.skip||m.stop?u.skip||(s=!1,o.push({start:e%a,end:(h-1)%a,loop:s}),e=l=m.stop?h:null):(l=h,u.skip&&(e=h)),u=m}return l!==null&&o.push({start:e%a,end:l%a,loop:s}),o}function GA(t,e){const n=t.points,s=t.options.spanGaps,a=n.length;if(!a)return[];const o=!!t._loop,{start:l,end:u}=IA(n,a,o,s);if(s===!0)return H_(t,[{start:l,end:u,loop:o}],n,e);const h=u<l?u+a:u,m=!!t._fullLoop&&l===0&&u===a-1;return H_(t,qA(n,l,h,m),n,e)}function H_(t,e,n,s){return!s||!s.setContext||!n?e:XA(t,e,n,s)}function XA(t,e,n,s){const a=t._chart.getContext(),o=U_(t.options),{_datasetIndex:l,options:{spanGaps:u}}=t,h=n.length,m=[];let p=o,x=e[0].start,b=x;function v(w,S,j,k){const C=u?-1:1;if(w!==S){for(w+=h;n[w%h].skip;)w-=C;for(;n[S%h].skip;)S+=C;w%h!==S%h&&(m.push({start:w%h,end:S%h,loop:j,style:k}),p=k,x=S%h)}}for(const w of e){x=u?x:w.start;let S=n[x%h],j;for(b=x+1;b<=w.end;b++){const k=n[b%h];j=U_(s.setContext(er(a,{type:"segment",p0:S,p1:k,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:l}))),$A(j,p)&&v(x,b-1,w.loop,p),S=k,p=j}x<b-1&&v(x,b-1,w.loop,p)}return m}function U_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function $A(t,e){if(!e)return!1;const n=[],s=function(a,o){return Ix(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Hd(t,e,n){return t.options.clip?t[n]:e[n]}function KA(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Hd(n,e,"left"),right:Hd(n,e,"right"),top:Hd(s,e,"top"),bottom:Hd(s,e,"bottom")}:e}function Oj(t,e){const n=e._clip;if(n.disabled)return!1;const s=KA(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}class ZA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,a){const o=n.listeners[a],l=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=pj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>s.duration&&(s.duration=h._total),h.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,s,e,"progress")),o.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Hi=new ZA;const Y_="transparent",QA={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=O_(t||Y_),a=s.valid&&O_(e||Y_);return a&&a.valid?a.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class JA{constructor(e,n,s,a){const o=n[s];a=Mc([e.to,a,o,e.from]);const l=Mc([e.from,o,a]);this._active=!0,this._fn=e.fn||QA[e.type||typeof l],this._easing=Pc[e.easing]||Pc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Mc([e.to,n,a,e.from]),this._from=Mc([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,a=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||n<s),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}h=n/s%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[a]=this._fn(o,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class Rj{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ke(e))return;const n=Object.keys(Tt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!Ke(o))return;const l={};for(const u of n)l[u]=o[u];(kt(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!s.has(u))&&s.set(u,l)})})}_animateOptions(e,n){const s=n.options,a=t3(e,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&e3(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,n){const s=this._properties,a=[],o=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const m=l[h];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,n));continue}const p=n[m];let x=o[m];const b=s.get(m);if(x)if(b&&x.active()){x.update(b,p,u);continue}else x.cancel();if(!b||!b.duration){e[m]=p;continue}o[m]=x=new JA(b,e,m,p),a.push(x)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Hi.add(this._chart,s),!0}}function e3(t,e){const n=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const o=t[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function t3(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function W_(t,e){const n=t&&t.options||{},s=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:s?o:a,end:s?a:o}}function n3(t,e,n){if(n===!1)return!1;const s=W_(t,n),a=W_(e,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function s3(t){let e,n,s,a;return Ke(t)?(e=t.top,n=t.right,s=t.bottom,a=t.left):e=n=s=a=t,{top:e,right:n,bottom:s,left:a,disabled:t===!1}}function Lj(t,e){const n=[],s=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function I_(t,e,n,s={}){const a=t.keys,o=s.mode==="single";let l,u,h,m;if(e===null)return;let p=!1;for(l=0,u=a.length;l<u;++l){if(h=+a[l],h===n){if(p=!0,s.all)continue;break}m=t.values[h],Rt(m)&&(o||e===0||Cs(e)===Cs(m))&&(e+=m)}return!p&&!s.all?0:e}function i3(t,e){const{iScale:n,vScale:s}=e,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let h,m,p;for(h=0,m=l.length;h<m;++h)p=l[h],u[h]={[a]:p,[o]:t[p]};return u}function Xp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function a3(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function r3(t){const{min:e,max:n,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function o3(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function q_(t,e,n,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function G_(t,e){const{chart:n,_cachedMeta:s}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:u}=s,h=o.axis,m=l.axis,p=a3(o,l,s),x=e.length;let b;for(let v=0;v<x;++v){const w=e[v],{[h]:S,[m]:j}=w,k=w._stacks||(w._stacks={});b=k[m]=o3(a,p,S),b[u]=j,b._top=q_(b,l,!0,s.type),b._bottom=q_(b,l,!1,s.type);const C=b._visualValues||(b._visualValues={});C[u]=j}}function $p(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function l3(t,e){return er(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function c3(t,e,n){return er(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function hc(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const Kp=t=>t==="reset"||t==="none",X_=(t,e)=>e?t:Object.assign({},t),u3=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Lj(n,!0),values:null};class tr{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(x,b,v,w)=>x==="x"?b:x==="r"?w:v,o=n.xAxisID=Re(s.xAxisID,$p(e,"x")),l=n.yAxisID=Re(s.yAxisID,$p(e,"y")),u=n.rAxisID=Re(s.rAxisID,$p(e,"r")),h=n.indexAxis,m=n.iAxisID=a(h,o,l,u),p=n.vAxisID=a(h,l,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&D_(this._data,this),e._stacked&&hc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Ke(n)){const a=this._cachedMeta;this._data=i3(n,a)}else if(s!==n){if(s){D_(s,this);const a=this._cachedMeta;hc(a),a._parsed=[]}n&&Object.isExtensible(n)&&XE(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Xp(n.vScale,n),n.stack!==s.stack&&(a=!0,hc(n),n.stack=s.stack),this._resyncElements(e),(a||o!==n._stacked)&&(G_(this,n._parsed),n._stacked=Xp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:l}=s,u=o.axis;let h=e===0&&n===a.length?!0:s._sorted,m=e>0&&s._parsed[e-1],p,x,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{kt(a[e])?b=this.parseArrayData(s,a,e,n):Ke(a[e])?b=this.parseObjectData(s,a,e,n):b=this.parsePrimitiveData(s,a,e,n);const v=()=>x[u]===null||m&&x[u]<m[u];for(p=0;p<n;++p)s._parsed[p+e]=x=b[p],h&&(v()&&(h=!1),m=x);s._sorted=h}l&&G_(this,b)}parsePrimitiveData(e,n,s,a){const{iScale:o,vScale:l}=e,u=o.axis,h=l.axis,m=o.getLabels(),p=o===l,x=new Array(a);let b,v,w;for(b=0,v=a;b<v;++b)w=b+s,x[b]={[u]:p||o.parse(m[w],w),[h]:l.parse(n[w],w)};return x}parseArrayData(e,n,s,a){const{xScale:o,yScale:l}=e,u=new Array(a);let h,m,p,x;for(h=0,m=a;h<m;++h)p=h+s,x=n[p],u[h]={x:o.parse(x[0],p),y:l.parse(x[1],p)};return u}parseObjectData(e,n,s,a){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=new Array(a);let p,x,b,v;for(p=0,x=a;p<x;++p)b=p+s,v=n[b],m[p]={x:o.parse(Xa(v,u),b),y:l.parse(Xa(v,h),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const a=this.chart,o=this._cachedMeta,l=n[e.axis],u={keys:Lj(a,!0),values:n._stacks[e.axis]._visualValues};return I_(u,l,o.index,{mode:s})}updateRangeFromParsed(e,n,s,a){const o=s[n.axis];let l=o===null?NaN:o;const u=a&&s._stacks[n.axis];a&&u&&(a.values=u,l=I_(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&e===s.iScale,l=a.length,u=this._getOtherScale(e),h=u3(n,s,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=r3(u);let b,v;function w(){v=a[b];const S=v[u.axis];return!Rt(v[e.axis])||p>S||x<S}for(b=0;b<l&&!(!w()&&(this.updateRangeFromParsed(m,e,v,h),o));++b);if(o){for(b=l-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(m,e,v,h);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][e.axis],Rt(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=s3(Re(this.options.clip,n3(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||a.length-u,m=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(e,o,u,h),p=u;p<u+h;++p){const x=a[p];x.hidden||(x.active&&m?l.push(x):x.draw(e,o))}for(p=0;p<l.length;++p)l[p].draw(e,o)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=c3(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=l3(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const a=n==="active",o=this._cachedDataOpts,l=e+"-"+n,u=o[l],h=this.enableOptionSharing&&Zc(s);if(u)return X_(u,h);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,e),x=a?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),p),v=Object.keys(Tt.elements[e]),w=()=>this.getContext(s,a,n),S=m.resolveNamedOptions(b,v,w,x);return S.$shared&&(S.$shared=h,o[l]=Object.freeze(X_(S,h))),S}_resolveAnimations(e,n,s){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,u=o[l];if(u)return u;let h;if(a.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),x);h=p.createResolver(b,this.getContext(e,s,n))}const m=new Rj(a,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Kp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:l}}updateElement(e,n,s,a){Kp(a)?Object.assign(e,s):this._resolveAnimations(n,a).update(e,s)}updateSharedOptions(e,n,s){e&&!Kp(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[u,h,m]of this._syncList)this[u](h,m);this._syncList=[];const a=s.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,s=!0){const a=this._cachedMeta,o=a.data,l=e+n;let u;const h=m=>{for(m.length+=n,u=m.length-1;u>=l;u--)m[u]=m[u-n]};for(h(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,a){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,n);s._stacked&&hc(s,a)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,a]=e;this[n](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function d3(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=mj(s.sort((a,o)=>a-o))}return t._cache.$bar}function h3(t){const e=t.iScale,n=d3(e,t.type);let s=e._length,a,o,l,u;const h=()=>{l===32767||l===-32768||(Zc(u)&&(s=Math.min(s,Math.abs(l-u)||s)),u=l)};for(a=0,o=n.length;a<o;++a)l=e.getPixelForValue(n[a]),h();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)l=e.getPixelForTick(a),h();return s}function f3(t,e,n,s){const a=n.barThickness;let o,l;return Ge(a)?(o=e.min*n.categoryPercentage,l=n.barPercentage):(o=a*s,l=1),{chunk:o/s,ratio:l,start:e.pixels[t]-o/2}}function m3(t,e,n,s){const a=e.pixels,o=a[t];let l=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const h=n.categoryPercentage;l===null&&(l=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-l);const m=o-(o-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/s,ratio:n.barPercentage,start:m}}function p3(t,e,n,s){const a=n.parse(t[0],s),o=n.parse(t[1],s),l=Math.min(a,o),u=Math.max(a,o);let h=l,m=u;Math.abs(l)>Math.abs(u)&&(h=u,m=l),e[n.axis]=m,e._custom={barStart:h,barEnd:m,start:a,end:o,min:l,max:u}}function Pj(t,e,n,s){return kt(t)?p3(t,e,n,s):e[n.axis]=n.parse(t,s),e}function $_(t,e,n,s){const a=t.iScale,o=t.vScale,l=a.getLabels(),u=a===o,h=[];let m,p,x,b;for(m=n,p=n+s;m<p;++m)b=e[m],x={},x[a.axis]=u||a.parse(l[m],m),h.push(Pj(b,x,o,m));return h}function Zp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function g3(t,e,n){return t!==0?Cs(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function x3(t){let e,n,s,a,o;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:e,top:a,bottom:o}}function y3(t,e,n,s){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:m,bottom:p}=x3(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?a=m:(n._bottom||0)===s?a=p:(o[K_(p,l,u,h)]=!0,a=m)),o[K_(a,l,u,h)]=!0,t.borderSkipped=o}function K_(t,e,n,s){return s?(t=b3(t,e,n),t=Z_(t,n,e)):t=Z_(t,e,n),t}function b3(t,e,n){return t===e?n:t===n?e:t}function Z_(t,e,n){return t==="start"?e:t==="end"?n:t}function v3(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class zj extends tr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,a){return $_(e,n,s,a)}parseArrayData(e,n,s,a){return $_(e,n,s,a)}parseObjectData(e,n,s,a){const{iScale:o,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=o.axis==="x"?u:h,p=l.axis==="x"?u:h,x=[];let b,v,w,S;for(b=s,v=s+a;b<v;++b)S=n[b],w={},w[o.axis]=o.parse(Xa(S,m),b),x.push(Pj(Xa(S,p),w,l,b));return x}updateRangeFromParsed(e,n,s,a){super.updateRangeFromParsed(e,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(e),l=o._custom,u=Zp(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,a){const o=a==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),m=u.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(n,a);for(let v=n;v<n+s;v++){const w=this.getParsed(v),S=o||Ge(w[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(v),j=this._calculateBarIndexPixels(v,p),k=(w._stacks||{})[u.axis],C={horizontal:m,base:S.base,enableBorderRadius:!k||Zp(w._custom)||l===k._top||l===k._bottom,x:m?S.head:j.center,y:m?j.center:S.head,height:m?j.size:Math.abs(S.size),width:m?Math.abs(S.size):j.size};b&&(C.options=x||this.resolveDataElementOptions(v,e[v].active?"active":a));const E=C.options||e[v].options;y3(C,E,k,l),v3(C,E,p.ratio),this.updateElement(e[v],v,C,a)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=s.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),h=u&&u[s.axis],m=p=>{const x=p._parsed.find(v=>v[s.axis]===h),b=x&&x[p.vScale.axis];if(Ge(b)||isNaN(b))return!0};for(const p of a)if(!(n!==void 0&&m(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Re(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const a=this._getStacks(e,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,l;for(o=0,l=n.data.length;o<l;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const u=e.barThickness;return{min:u||h3(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:l}}=this,u=o||0,h=this.getParsed(e),m=h._custom,p=Zp(m);let x=h[n.axis],b=0,v=s?this.applyStack(n,h,s):x,w,S;v!==x&&(b=v-x,v=x),p&&(x=m.barStart,v=m.barEnd-m.barStart,x!==0&&Cs(x)!==Cs(m.barEnd)&&(b=0),b+=x);const j=!Ge(o)&&!p?o:b;let k=n.getPixelForValue(j);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(b+v):w=k,S=w-k,Math.abs(S)<l){S=g3(S,n,u)*l,x===u&&(k-=S/2);const C=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),O=Math.min(C,E),R=Math.max(C,E);k=Math.max(Math.min(k,R),O),w=k+S,s&&!p&&(h._stacks[n.axis]._visualValues[a]=n.getValueForPixel(w)-n.getValueForPixel(k))}if(k===n.getPixelForValue(u)){const C=Cs(S)*n.getLineWidthForValue(u)/2;k+=C,S-=C}return{size:S,base:k,head:w,center:w+S/2}}_calculateBarIndexPixels(e,n){const s=n.scale,a=this.options,o=a.skipNull,l=Re(a.maxBarThickness,1/0);let u,h;const m=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(e):n.stackCount,x=a.barThickness==="flex"?m3(e,n,a,p*m):f3(e,n,a,p*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Re(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;u=x.start+x.chunk*w+x.chunk/2,h=Math.min(l,x.chunk*x.ratio)}else u=s.getPixelForValue(this.getParsed(e)[s.axis],e),h=Math.min(l,n.min*n.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}class _3 extends tr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,a){const o=super.parsePrimitiveData(e,n,s,a);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+s).radius;return o}parseArrayData(e,n,s,a){const o=super.parseArrayData(e,n,s,a);for(let l=0;l<o.length;l++){const u=n[s+l];o[l]._custom=Re(u[2],this.resolveDataElementOptions(l+s).radius)}return o}parseObjectData(e,n,s,a){const o=super.parseObjectData(e,n,s,a);for(let l=0;l<o.length;l++){const u=n[s+l];o[l]._custom=Re(u&&u.r&&+u.r,this.resolveDataElementOptions(l+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:o}=n,l=this.getParsed(e),u=a.getLabelForValue(l.x),h=o.getLabelForValue(l.y),m=l._custom;return{label:s[e]||"",value:"("+u+", "+h+(m?", "+m:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,a){const o=a==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(n,a),p=l.axis,x=u.axis;for(let b=n;b<n+s;b++){const v=e[b],w=!o&&this.getParsed(b),S={},j=S[p]=o?l.getPixelForDecimal(.5):l.getPixelForValue(w[p]),k=S[x]=o?u.getBasePixel():u.getPixelForValue(w[x]);S.skip=isNaN(j)||isNaN(k),m&&(S.options=h||this.resolveDataElementOptions(b,v.active?"active":a),o&&(S.options.radius=0)),this.updateElement(v,b,S,a)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let a=super.resolveDataElementOptions(e,n);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return n!=="active"&&(a.radius=0),a.radius+=Re(s&&s._custom,o),a}}function w3(t,e,n){let s=1,a=1,o=0,l=0;if(e<vt){const u=t,h=u+e,m=Math.cos(u),p=Math.sin(u),x=Math.cos(h),b=Math.sin(h),v=(E,O,R)=>Qc(E,u,h,!0)?1:Math.max(O,O*n,R,R*n),w=(E,O,R)=>Qc(E,u,h,!0)?-1:Math.min(O,O*n,R,R*n),S=v(0,m,x),j=v(Yt,p,b),k=w(st,m,x),C=w(st+Yt,p,b);s=(S-k)/2,a=(j-C)/2,o=-(S+k)/2,l=-(j+C)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:l}}class Qx extends tr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:u}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((h,m)=>{const x=e.getDatasetMeta(0).controller.getStyle(m);return{text:h,fillStyle:x.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(m),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:a,pointStyle:s,borderRadius:l&&(u||x.borderRadius),index:m}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=h=>+s[h];if(Ke(s[e])){const{key:h="value"}=this._parsing;o=m=>+Xa(s[m],h)}let l,u;for(l=e,u=e+n;l<u;++l)a._parsed[l]=o(l)}}_getRotation(){return Us(this.options.rotation-90)}_getCircumference(){return Us(this.options.circumference)}_getRotationExtents(){let e=vt,n=-vt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),l=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-l)/2,0),h=Math.min(OE(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:p,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:w,offsetY:S}=w3(x,p,h),j=(s.width-l)/b,k=(s.height-l)/v,C=Math.max(Math.min(j,k)/2,0),E=cj(this.options.radius,C),O=Math.max(E*h,0),R=(E-O)/this._getVisibleDatasetWeightTotal();this.offsetX=w*E,this.offsetY=S*E,a.total=this.calculateTotal(),this.outerRadius=E-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/vt)}updateElements(e,n,s,a){const o=a==="reset",l=this.chart,u=l.chartArea,m=l.options.animation,p=(u.left+u.right)/2,x=(u.top+u.bottom)/2,b=o&&m.animateScale,v=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:S,includeOptions:j}=this._getSharedOptions(n,a);let k=this._getRotation(),C;for(C=0;C<n;++C)k+=this._circumference(C,o);for(C=n;C<n+s;++C){const E=this._circumference(C,o),O=e[C],R={x:p+this.offsetX,y:x+this.offsetY,startAngle:k,endAngle:k+E,circumference:E,outerRadius:w,innerRadius:v};j&&(R.options=S||this.resolveDataElementOptions(C,O.active?"active":a)),k+=E,this.updateElement(O,C,R,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?vt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=pu(n._parsed[e],s.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const s=this.chart;let a,o,l,u,h;if(!e){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),e=l.data,u=l.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)h=u.resolveDataElementOptions(a),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,a=e.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Re(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Bj extends tr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:a=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:u,count:h}=xj(n,a,l);this._drawStart=u,this._drawCount=h,yj(n)&&(u=0,h=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=a;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:m},e),this.updateElements(a,u,h,e)}updateElements(e,n,s,a){const o=a==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:m}=this._cachedMeta,{sharedOptions:p,includeOptions:x}=this._getSharedOptions(n,a),b=l.axis,v=u.axis,{spanGaps:w,segment:S}=this.options,j=Zo(w)?w:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||a==="none",C=n+s,E=e.length;let O=n>0&&this.getParsed(n-1);for(let R=0;R<E;++R){const A=e[R],L=k?A:{};if(R<n||R>=C){L.skip=!0;continue}const P=this.getParsed(R),U=Ge(P[v]),$=L[b]=l.getPixelForValue(P[b],R),ee=L[v]=o||U?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,P,h):P[v],R);L.skip=isNaN($)||isNaN(ee)||U,L.stop=R>0&&Math.abs(P[b]-O[b])>j,S&&(L.parsed=P,L.raw=m.data[R]),x&&(L.options=p||this.resolveDataElementOptions(R,A.active?"active":a)),k||this.updateElement(A,R,L,a),O=P}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const o=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Vj extends tr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return n.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:a,lineWidth:h.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=pu(n._parsed[e].r,s.options.locale);return{label:a[e]||"",value:o}}parseObjectData(e,n,s,a){return kj.bind(this)(e,n,s,a)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,a)=>{const o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,a=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(a/2,0),l=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),u=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,n,s,a){const o=a==="reset",l=this.chart,h=l.options.animation,m=this._cachedMeta.rScale,p=m.xCenter,x=m.yCenter,b=m.getIndexAngle(0)-.5*st;let v=b,w;const S=360/this.countVisibleElements();for(w=0;w<n;++w)v+=this._computeAngle(w,a,S);for(w=n;w<n+s;w++){const j=e[w];let k=v,C=v+this._computeAngle(w,a,S),E=l.getDataVisibility(w)?m.getDistanceFromCenterForValue(this.getParsed(w).r):0;v=C,o&&(h.animateScale&&(E=0),h.animateRotate&&(k=C=b));const O={x:p,y:x,innerRadius:0,outerRadius:E,startAngle:k,endAngle:C,options:this.resolveDataElementOptions(w,j.active?"active":a)};this.updateElement(j,w,O,a)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?Us(this.resolveDataElementOptions(e,n).angle||s):0}}class S3 extends Qx{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Fj extends tr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,a){return kj.bind(this)(e,n,s,a)}update(e){const n=this._cachedMeta,s=n.dataset,a=n.data||[],o=n.iScale.getLabels();if(s.points=a,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===a.length,options:l};this.updateElement(s,void 0,u,e)}this.updateElements(a,0,a.length,e)}updateElements(e,n,s,a){const o=this._cachedMeta.rScale,l=a==="reset";for(let u=n;u<n+s;u++){const h=e[u],m=this.resolveDataElementOptions(u,h.active?"active":a),p=o.getPointPositionForValue(u,this.getParsed(u).r),x=l?o.xCenter:p.x,b=l?o.yCenter:p.y,v={x,y:b,angle:p.angle,skip:isNaN(x)||isNaN(b),options:m};this.updateElement(h,u,v,a)}}}class j3 extends tr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:o}=n,l=this.getParsed(e),u=a.getLabelForValue(l.x),h=o.getLabelForValue(l.y);return{label:s[e]||"",value:"("+u+", "+h+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=xj(n,s,a);if(this._drawStart=o,this._drawCount=l,yj(n)&&(o=0,l=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:h}=n;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=s;const m=this.resolveDatasetElementOptions(e);m.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:m},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,o,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,a){const o=a==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:m}=this._cachedMeta,p=this.resolveDataElementOptions(n,a),x=this.getSharedOptions(p),b=this.includeOptions(a,x),v=l.axis,w=u.axis,{spanGaps:S,segment:j}=this.options,k=Zo(S)?S:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||a==="none";let E=n>0&&this.getParsed(n-1);for(let O=n;O<n+s;++O){const R=e[O],A=this.getParsed(O),L=C?R:{},P=Ge(A[w]),U=L[v]=l.getPixelForValue(A[v],O),$=L[w]=o||P?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,A,h):A[w],O);L.skip=isNaN(U)||isNaN($)||P,L.stop=O>0&&Math.abs(A[v]-E[v])>k,j&&(L.parsed=A,L.raw=m.data[O]),b&&(L.options=x||this.resolveDataElementOptions(O,R.active?"active":a)),C||this.updateElement(R,O,L,a),E=A}this.updateSharedOptions(x,a,p)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let u=0;for(let h=n.length-1;h>=0;--h)u=Math.max(u,n[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const s=e.dataset,a=s.options&&s.options.borderWidth||0;if(!n.length)return a;const o=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,o,l)/2}}var N3=Object.freeze({__proto__:null,BarController:zj,BubbleController:_3,DoughnutController:Qx,LineController:Bj,PieController:S3,PolarAreaController:Vj,RadarController:Fj,ScatterController:j3});function kr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jx{static override(e){Object.assign(Jx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return kr()}parse(){return kr()}format(){return kr()}add(){return kr()}diff(){return kr()}startOf(){return kr()}endOf(){return kr()}}var Hj={_date:Jx};function k3(t,e,n,s){const{controller:a,data:o,_sorted:l}=t,u=a._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const m=u._reversePixels?qE:qi;if(s){if(a._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(e);if(x){const b=m(o,e,n-x),v=m(o,e,n+x);return{lo:b.lo,hi:v.hi}}}}else{const p=m(o,e,n);if(h){const{vScale:x}=a._cachedMeta,{_parsed:b}=t,v=b.slice(0,p.lo+1).reverse().findIndex(S=>!Ge(S[x.axis]));p.lo-=Math.max(0,v);const w=b.slice(p.hi).findIndex(S=>!Ge(S[x.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function rf(t,e,n,s,a){const o=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,h=o.length;u<h;++u){const{index:m,data:p}=o[u],{lo:x,hi:b}=k3(o[u],e,l,a);for(let v=x;v<=b;++v){const w=p[v];w.skip||s(w,m,v)}}}function T3(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,a){const o=e?Math.abs(s.x-a.x):0,l=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Qp(t,e,n,s,a){const o=[];return!a&&!t.isPointInArea(e)||rf(t,n,e,function(u,h,m){!a&&!oi(u,t.chartArea,0)||u.inRange(e.x,e.y,s)&&o.push({element:u,datasetIndex:h,index:m})},!0),o}function M3(t,e,n,s){let a=[];function o(l,u,h){const{startAngle:m,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:x}=hj(l,{x:e.x,y:e.y});Qc(x,m,p)&&a.push({element:l,datasetIndex:u,index:h})}return rf(t,n,e,o),a}function C3(t,e,n,s,a,o){let l=[];const u=T3(n);let h=Number.POSITIVE_INFINITY;function m(p,x,b){const v=p.inRange(e.x,e.y,a);if(s&&!v)return;const w=p.getCenterPoint(a);if(!(!!o||t.isPointInArea(w))&&!v)return;const j=u(e,w);j<h?(l=[{element:p,datasetIndex:x,index:b}],h=j):j===h&&l.push({element:p,datasetIndex:x,index:b})}return rf(t,n,e,m),l}function Jp(t,e,n,s,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!s?M3(t,e,n,a):C3(t,e,n,s,a,o)}function Q_(t,e,n,s,a){const o=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return rf(t,n,e,(h,m,p)=>{h[l]&&h[l](e[n],a)&&(o.push({element:h,datasetIndex:m,index:p}),u=u||h.inRange(e.x,e.y,a))}),s&&!u?[]:o}var D3={modes:{index(t,e,n,s){const a=ai(e,t),o=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?Qp(t,a,o,s,l):Jp(t,a,o,!1,s,l),h=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const p=u[0].index,x=m.data[p];x&&!x.skip&&h.push({element:x,datasetIndex:m.index,index:p})}),h):[]},dataset(t,e,n,s){const a=ai(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?Qp(t,a,o,s,l):Jp(t,a,o,!1,s,l);if(u.length>0){const h=u[0].datasetIndex,m=t.getDatasetMeta(h).data;u=[];for(let p=0;p<m.length;++p)u.push({element:m[p],datasetIndex:h,index:p})}return u},point(t,e,n,s){const a=ai(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return Qp(t,a,o,s,l)},nearest(t,e,n,s){const a=ai(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return Jp(t,a,o,n.intersect,s,l)},x(t,e,n,s){const a=ai(e,t);return Q_(t,a,"x",n.intersect,s)},y(t,e,n,s){const a=ai(e,t);return Q_(t,a,"y",n.intersect,s)}}};const Uj=["left","top","right","bottom"];function fc(t,e){return t.filter(n=>n.pos===e)}function J_(t,e){return t.filter(n=>Uj.indexOf(n.pos)===-1&&n.box.axis===e)}function mc(t,e){return t.sort((n,s)=>{const a=e?s:n,o=e?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function E3(t){const e=[];let n,s,a,o,l,u;for(n=0,s=(t||[]).length;n<s;++n)a=t[n],{position:o,options:{stack:l,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:u});return e}function A3(t){const e={};for(const n of t){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!Uj.includes(a))continue;const l=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function O3(t,e){const n=A3(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let o,l,u;for(o=0,l=t.length;o<l;++o){u=t[o];const{fullSize:h}=u.box,m=n[u.stack],p=m&&u.stackWeight/m.weight;u.horizontal?(u.width=p?p*s:h&&e.availableWidth,u.height=a):(u.width=s,u.height=p?p*a:h&&e.availableHeight)}return n}function R3(t){const e=E3(t),n=mc(e.filter(m=>m.box.fullSize),!0),s=mc(fc(e,"left"),!0),a=mc(fc(e,"right")),o=mc(fc(e,"top"),!0),l=mc(fc(e,"bottom")),u=J_(e,"x"),h=J_(e,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(h).concat(l).concat(u),chartArea:fc(e,"chartArea"),vertical:s.concat(a).concat(h),horizontal:o.concat(l).concat(u)}}function e2(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function Yj(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function L3(t,e,n,s){const{pos:a,box:o}=n,l=t.maxPadding;if(!Ke(a)){n.size&&(t[a]-=n.size);const x=s[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?o.height:o.width),n.size=x.size/x.count,t[a]+=n.size}o.getPadding&&Yj(l,o.getPadding());const u=Math.max(0,e.outerWidth-e2(l,t,"left","right")),h=Math.max(0,e.outerHeight-e2(l,t,"top","bottom")),m=u!==t.w,p=h!==t.h;return t.w=u,t.h=h,n.horizontal?{same:m,other:p}:{same:p,other:m}}function P3(t){const e=t.maxPadding;function n(s){const a=Math.max(e[s]-t[s],0);return t[s]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function z3(t,e){const n=e.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(e[l],n[l])}),o}return s(t?["left","right"]:["top","bottom"])}function Cc(t,e,n,s){const a=[];let o,l,u,h,m,p;for(o=0,l=t.length,m=0;o<l;++o){u=t[o],h=u.box,h.update(u.width||e.w,u.height||e.h,z3(u.horizontal,e));const{same:x,other:b}=L3(e,n,u,s);m|=x&&a.length,p=p||b,h.fullSize||a.push(u)}return m&&Cc(a,e,n,s)||p}function Ud(t,e,n,s,a){t.top=n,t.left=e,t.right=e+s,t.bottom=n+a,t.width=s,t.height=a}function t2(t,e,n,s){const a=n.padding;let{x:o,y:l}=e;for(const u of t){const h=u.box,m=s[u.stack]||{placed:0,weight:1},p=u.stackWeight/m.weight||1;if(u.horizontal){const x=e.w*p,b=m.size||h.height;Zc(m.start)&&(l=m.start),h.fullSize?Ud(h,a.left,l,n.outerWidth-a.right-a.left,b):Ud(h,e.left+m.placed,l,x,b),m.start=l,m.placed+=x,l=h.bottom}else{const x=e.h*p,b=m.size||h.width;Zc(m.start)&&(o=m.start),h.fullSize?Ud(h,o,a.top,b,n.outerHeight-a.bottom-a.top):Ud(h,o,e.top+m.placed,b,x),m.start=o,m.placed+=x,o=h.right}}e.x=o,e.y=l}var Mn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const a=En(t.options.layout.padding),o=Math.max(e-a.width,0),l=Math.max(n-a.height,0),u=R3(t.boxes),h=u.vertical,m=u.horizontal;qe(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,j)=>j.box.options&&j.box.options.display===!1?S:S+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},a);Yj(b,En(s));const v=Object.assign({maxPadding:b,w:o,h:l,x:a.left,y:a.top},a),w=O3(h.concat(m),x);Cc(u.fullSize,v,x,w),Cc(h,v,x,w),Cc(m,v,x,w)&&Cc(h,v,x,w),P3(v),t2(u.leftAndTop,v,x,w),v.x+=v.w,v.y+=v.h,t2(u.rightAndBottom,v,x,w),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},qe(u.chartArea,S=>{const j=S.box;Object.assign(j,t.chartArea),j.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class Wj{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,a){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(e){return!0}updateConfig(e){}}class B3 extends Wj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lh="$chartjs",V3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},n2=t=>t===null||t==="";function F3(t,e){const n=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[lh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",n2(a)){const o=V_(t,"width");o!==void 0&&(t.width=o)}if(n2(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=V_(t,"height");o!==void 0&&(t.height=o)}return t}const Ij=VA?{passive:!0}:!1;function H3(t,e,n){t&&t.addEventListener(e,n,Ij)}function U3(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Ij)}function Y3(t,e){const n=V3[t.type]||t.type,{x:s,y:a}=ai(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Eh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function W3(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Eh(u.addedNodes,s),l=l&&!Eh(u.removedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function I3(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Eh(u.removedNodes,s),l=l&&!Eh(u.addedNodes,s);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const eu=new Map;let s2=0;function qj(){const t=window.devicePixelRatio;t!==s2&&(s2=t,eu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function q3(t,e){eu.size||window.addEventListener("resize",qj),eu.set(t,e)}function G3(t){eu.delete(t),eu.size||window.removeEventListener("resize",qj)}function X3(t,e,n){const s=t.canvas,a=s&&Zx(s);if(!a)return;const o=gj((u,h)=>{const m=a.clientWidth;n(u,h),m<a.clientWidth&&n()},window),l=new ResizeObserver(u=>{const h=u[0],m=h.contentRect.width,p=h.contentRect.height;m===0&&p===0||o(m,p)});return l.observe(a),q3(t,o),l}function eg(t,e,n){n&&n.disconnect(),e==="resize"&&G3(t)}function $3(t,e,n){const s=t.canvas,a=gj(o=>{t.ctx!==null&&n(Y3(o,t))},t);return H3(s,e,a),a}class K3 extends Wj{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(F3(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[lh])return!1;const s=n[lh].initial;["height","width"].forEach(o=>{const l=s[o];Ge(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[lh],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),l={attach:W3,detach:I3,resize:X3}[n]||$3;a[n]=l(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),a=s[n];if(!a)return;({attach:eg,detach:eg,resize:eg}[n]||U3)(e,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,a){return BA(e,n,s,a)}isAttached(e){const n=e&&Zx(e);return!!(n&&n.isConnected)}}function Z3(t){return!Kx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?B3:K3}let ta=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Zo(this.x)&&Zo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const a={};return e.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}};function Q3(t,e){const n=t.options.ticks,s=J3(t),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?t4(e):[],l=o.length,u=o[0],h=o[l-1],m=[];if(l>a)return n4(e,m,o,l/a),m;const p=e4(o,e,a);if(l>0){let x,b;const v=l>1?Math.round((h-u)/(l-1)):null;for(Yd(e,m,p,Ge(v)?0:u-v,u),x=0,b=l-1;x<b;x++)Yd(e,m,p,o[x],o[x+1]);return Yd(e,m,p,h,Ge(v)?e.length:h+v),m}return Yd(e,m,p),m}function J3(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(s,a))}function e4(t,e,n){const s=s4(t),a=e.length/n;if(!s)return Math.max(a,1);const o=HE(s);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>a)return h}return Math.max(a,1)}function t4(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function n4(t,e,n,s){let a=0,o=n[0],l;for(s=Math.ceil(s),l=0;l<t.length;l++)l===o&&(e.push(t[l]),a++,o=n[a*s])}function Yd(t,e,n,s,a){const o=Re(s,0),l=Math.min(Re(a,t.length),t.length);let u=0,h,m,p;for(n=Math.ceil(n),a&&(h=a-s,n=h/Math.floor(h/n)),p=o;p<0;)u++,p=Math.round(o+u*n);for(m=Math.max(o,0);m<l;m++)m===p&&(e.push(t[m]),u++,p=Math.round(o+u*n))}function s4(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const i4=t=>t==="left"?"right":t==="right"?"left":t,i2=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,a2=(t,e)=>Math.min(e||t,t);function r2(t,e){const n=[],s=t.length/e,a=t.length;let o=0;for(;o<a;o+=s)n.push(t[Math.floor(o)]);return n}function a4(t,e,n){const s=t.ticks.length,a=Math.min(e,s-1),o=t._startPixel,l=t._endPixel,u=1e-6;let h=t.getPixelForTick(a),m;if(!(n&&(s===1?m=Math.max(h-o,l-h):e===0?m=(t.getPixelForTick(1)-h)/2:m=(h-t.getPixelForTick(a-1))/2,h+=a<e?m:-m,h<o-u||h>l+u)))return h}function r4(t,e){qe(t,n=>{const s=n.gc,a=s.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function pc(t){return t.drawTicks?t.tickLength:0}function o2(t,e){if(!t.display)return 0;const n=an(t.font,e),s=En(t.padding);return(kt(t.text)?t.text.length:1)*n.lineHeight+s.height}function o4(t,e){return er(t,{scale:e,type:"scale"})}function l4(t,e,n){return er(t,{tick:n,index:e,type:"tick"})}function c4(t,e,n){let s=Wx(t);return(n&&e!=="right"||!n&&e==="right")&&(s=i4(s)),s}function u4(t,e,n,s){const{top:a,left:o,bottom:l,right:u,chart:h}=t,{chartArea:m,scales:p}=h;let x=0,b,v,w;const S=l-a,j=u-o;if(t.isHorizontal()){if(v=Nn(s,o,u),Ke(n)){const k=Object.keys(n)[0],C=n[k];w=p[k].getPixelForValue(C)+S-e}else n==="center"?w=(m.bottom+m.top)/2+S-e:w=i2(t,n,e);b=u-o}else{if(Ke(n)){const k=Object.keys(n)[0],C=n[k];v=p[k].getPixelForValue(C)-j+e}else n==="center"?v=(m.left+m.right)/2-j+e:v=i2(t,n,e);w=Nn(s,l,a),x=n==="left"?-Yt:Yt}return{titleX:v,titleY:w,maxWidth:b,rotation:x}}class Ir extends ta{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return e=is(e,Number.POSITIVE_INFINITY),n=is(n,Number.NEGATIVE_INFINITY),s=is(s,Number.POSITIVE_INFINITY),a=is(a,Number.NEGATIVE_INFINITY),{min:is(e,s),max:is(n,a),minDefined:Rt(e),maxDefined:Rt(n)}}getMinMax(e){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:s};const u=this.getMatchingVisibleMetas();for(let h=0,m=u.length;h<m;++h)l=u[h].controller.getMinMax(this,e),a||(n=Math.min(n,l.min)),o||(s=Math.max(s,l.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:is(n,is(s,n)),max:is(s,is(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Oe(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:a,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gA(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?r2(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Q3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Oe(this.options.afterUpdate,[this])}beforeSetDimensions(){Oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Oe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Oe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s],o.label=Oe(n.callback,[o.value,s,e],this)}afterTickToLabelConversion(){Oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=a2(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,u,h,m;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),x=p.widest.width,b=p.highest.height,v=un(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/s:v/(s-1),x+6>u&&(u=v/(s-(e.offset?.5:1)),h=this.maxHeight-pc(e.grid)-n.padding-o2(e.title,this.chart.options.font),m=Math.sqrt(x*x+b*b),l=Ux(Math.min(Math.asin(un((p.highest.height+6)/u,-1,1)),Math.asin(un(h/m,-1,1))-Math.asin(un(b/m,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){Oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Oe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=o2(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=pc(o)+h):(e.height=this.maxHeight,e.width=pc(o)+h),s.display&&this.ticks.length){const{first:m,last:p,widest:x,highest:b}=this._getLabelSizes(),v=s.padding*2,w=Us(this.labelRotation),S=Math.cos(w),j=Math.sin(w);if(u){const k=s.mirror?0:j*x.width+S*b.height;e.height=Math.min(this.maxHeight,e.height+k+v)}else{const k=s.mirror?0:S*x.width+j*b.height;e.width=Math.min(this.maxWidth,e.width+k+v)}this._calculatePadding(m,p,j,S)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,a){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,v=0;h?m?(b=a*e.width,v=s*n.height):(b=s*e.height,v=a*n.width):o==="start"?v=n.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,v=n.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-x+l)*this.width/(this.width-x),0)}else{let p=n.height/2,x=e.height/2;o==="start"?(p=0,x=e.height):o==="end"&&(p=n.height,x=0),this.paddingTop=p+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Oe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Ge(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=r2(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:a,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(n/a2(n,s));let m=0,p=0,x,b,v,w,S,j,k,C,E,O,R;for(x=0;x<n;x+=h){if(w=e[x].label,S=this._resolveTickFontOptions(x),a.font=j=S.string,k=o[j]=o[j]||{data:{},gc:[]},C=S.lineHeight,E=O=0,!Ge(w)&&!kt(w))E=Ch(a,k.data,k.gc,E,w),O=C;else if(kt(w))for(b=0,v=w.length;b<v;++b)R=w[b],!Ge(R)&&!kt(R)&&(E=Ch(a,k.data,k.gc,E,R),O+=C);l.push(E),u.push(O),m=Math.max(E,m),p=Math.max(O,p)}r4(o,n);const A=l.indexOf(m),L=u.indexOf(p),P=U=>({width:l[U]||0,height:u[U]||0});return{first:P(0),last:P(n-1),widest:P(A),highest:P(L),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return IE(this._alignToPixels?Nr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=l4(this.getContext(),e,s))}return this.$context||(this.$context=o4(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Us(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*s>u*a?u/s:h/a:h*a<u*s?h/s:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:l,border:u}=a,h=o.offset,m=this.isHorizontal(),x=this.ticks.length+(h?1:0),b=pc(o),v=[],w=u.setContext(this.getContext()),S=w.display?w.width:0,j=S/2,k=function(W){return Nr(s,W,S)};let C,E,O,R,A,L,P,U,$,ee,re,de;if(l==="top")C=k(this.bottom),L=this.bottom-b,U=C-j,ee=k(e.top)+j,de=e.bottom;else if(l==="bottom")C=k(this.top),ee=e.top,de=k(e.bottom)-j,L=C+j,U=this.top+b;else if(l==="left")C=k(this.right),A=this.right-b,P=C-j,$=k(e.left)+j,re=e.right;else if(l==="right")C=k(this.left),$=e.left,re=k(e.right)-j,A=C+j,P=this.left+b;else if(n==="x"){if(l==="center")C=k((e.top+e.bottom)/2+.5);else if(Ke(l)){const W=Object.keys(l)[0],Q=l[W];C=k(this.chart.scales[W].getPixelForValue(Q))}ee=e.top,de=e.bottom,L=C+j,U=L+b}else if(n==="y"){if(l==="center")C=k((e.left+e.right)/2);else if(Ke(l)){const W=Object.keys(l)[0],Q=l[W];C=k(this.chart.scales[W].getPixelForValue(Q))}A=C-j,P=A-b,$=e.left,re=e.right}const fe=Re(a.ticks.maxTicksLimit,x),be=Math.max(1,Math.ceil(x/fe));for(E=0;E<x;E+=be){const W=this.getContext(E),Q=o.setContext(W),ue=u.setContext(W),oe=Q.lineWidth,xe=Q.color,F=ue.dash||[],Z=ue.dashOffset,ie=Q.tickWidth,z=Q.tickColor,J=Q.tickBorderDash||[],ae=Q.tickBorderDashOffset;O=a4(this,E,h),O!==void 0&&(R=Nr(s,O,oe),m?A=P=$=re=R:L=U=ee=de=R,v.push({tx1:A,ty1:L,tx2:P,ty2:U,x1:$,y1:ee,x2:re,y2:de,width:oe,color:xe,borderDash:F,borderDashOffset:Z,tickWidth:ie,tickColor:z,tickBorderDash:J,tickBorderDashOffset:ae}))}return this._ticksLength=x,this._borderValue=C,v}_computeLabelItems(e){const n=this.axis,s=this.options,{position:a,ticks:o}=s,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:m,padding:p,mirror:x}=o,b=pc(s.grid),v=b+p,w=x?-p:v,S=-Us(this.labelRotation),j=[];let k,C,E,O,R,A,L,P,U,$,ee,re,de="middle";if(a==="top")A=this.bottom-w,L=this._getXAxisLabelAlignment();else if(a==="bottom")A=this.top+w,L=this._getXAxisLabelAlignment();else if(a==="left"){const be=this._getYAxisLabelAlignment(b);L=be.textAlign,R=be.x}else if(a==="right"){const be=this._getYAxisLabelAlignment(b);L=be.textAlign,R=be.x}else if(n==="x"){if(a==="center")A=(e.top+e.bottom)/2+v;else if(Ke(a)){const be=Object.keys(a)[0],W=a[be];A=this.chart.scales[be].getPixelForValue(W)+v}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")R=(e.left+e.right)/2-v;else if(Ke(a)){const be=Object.keys(a)[0],W=a[be];R=this.chart.scales[be].getPixelForValue(W)}L=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(h==="start"?de="top":h==="end"&&(de="bottom"));const fe=this._getLabelSizes();for(k=0,C=u.length;k<C;++k){E=u[k],O=E.label;const be=o.setContext(this.getContext(k));P=this.getPixelForTick(k)+o.labelOffset,U=this._resolveTickFontOptions(k),$=U.lineHeight,ee=kt(O)?O.length:1;const W=ee/2,Q=be.color,ue=be.textStrokeColor,oe=be.textStrokeWidth;let xe=L;l?(R=P,L==="inner"&&(k===C-1?xe=this.options.reverse?"left":"right":k===0?xe=this.options.reverse?"right":"left":xe="center"),a==="top"?m==="near"||S!==0?re=-ee*$+$/2:m==="center"?re=-fe.highest.height/2-W*$+$:re=-fe.highest.height+$/2:m==="near"||S!==0?re=$/2:m==="center"?re=fe.highest.height/2-W*$:re=fe.highest.height-ee*$,x&&(re*=-1),S!==0&&!be.showLabelBackdrop&&(R+=$/2*Math.sin(S))):(A=P,re=(1-ee)*$/2);let F;if(be.showLabelBackdrop){const Z=En(be.backdropPadding),ie=fe.heights[k],z=fe.widths[k];let J=re-Z.top,ae=0-Z.left;switch(de){case"middle":J-=ie/2;break;case"bottom":J-=ie;break}switch(L){case"center":ae-=z/2;break;case"right":ae-=z;break;case"inner":k===C-1?ae-=z:k>0&&(ae-=z/2);break}F={left:ae,top:J,width:z+Z.width,height:ie+Z.height,color:be.backdropColor}}j.push({label:O,font:U,textOffset:re,options:{rotation:S,color:Q,strokeColor:ue,strokeWidth:oe,textAlign:xe,textBaseline:de,translation:[R,A],backdrop:F}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Us(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,h=l.widest.width;let m,p;return n==="left"?a?(p=this.right+o,s==="near"?m="left":s==="center"?(m="center",p+=h/2):(m="right",p+=h)):(p=this.right-u,s==="near"?m="right":s==="center"?(m="center",p-=h/2):(m="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?m="right":s==="center"?(m="center",p-=h/2):(m="left",p-=h)):(p=this.left+u,s==="near"?m="left":s==="center"?(m="center",p+=h/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:a,width:o,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,a,o,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(h,m,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(h.x,h.y),s.lineTo(m.x,m.y),s.stroke(),s.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const h=a[o];n.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const u=a.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,p,x,b;this.isHorizontal()?(m=Nr(e,this.left,l)-l/2,p=Nr(e,this.right,u)+u/2,x=b=h):(x=Nr(e,this.top,l)-l/2,b=Nr(e,this.bottom,u)+u/2,m=p=h),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,x),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&nf(s,a);const o=this.getLabelItems(e);for(const l of o){const u=l.options,h=l.font,m=l.label,p=l.textOffset;Ur(s,m,0,p,h,u)}a&&sf(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=an(s.font),l=En(s.padding),u=s.align;let h=o.lineHeight/2;n==="bottom"||n==="center"||Ke(n)?(h+=l.bottom,kt(s.text)&&(h+=o.lineHeight*(s.text.length-1))):h+=l.top;const{titleX:m,titleY:p,maxWidth:x,rotation:b}=u4(this,h,n,u);Ur(e,s.text,0,0,o,{color:s.color,maxWidth:x,rotation:b,textAlign:c4(u,n,a),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Re(e.grid&&e.grid.z,-1),a=Re(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ir.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];u[s]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return an(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Wd{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;f4(n)&&(s=this.register(n));const a=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,d4(e,l,s),this.override&&Tt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,a=this.scope;s in n&&delete n[s],a&&s in Tt[a]&&(delete Tt[a][s],this.override&&delete Hr[s])}}function d4(t,e,n){const s=Kc(Object.create(null),[n?Tt.get(n):{},Tt.get(e),t.defaults]);Tt.set(e,s),t.defaultRoutes&&h4(e,t.defaultRoutes),t.descriptors&&Tt.describe(e,t.descriptors)}function h4(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),a=s.pop(),o=[t].concat(s).join("."),l=e[n].split("."),u=l.pop(),h=l.join(".");Tt.route(o,a,h,u)})}function f4(t){return"id"in t&&"defaults"in t}class m4{constructor(){this.controllers=new Wd(tr,"datasets",!0),this.elements=new Wd(ta,"elements"),this.plugins=new Wd(Object,"plugins"),this.scales=new Wd(Ir,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):qe(a,l=>{const u=s||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,s){const a=Hx(e);Oe(s["before"+a],[],s),n[e](s),Oe(s["after"+a],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var ii=new m4;class p4{constructor(){this._init=void 0}notify(e,n,s,a){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=a?this._descriptors(e).filter(a):this._descriptors(e),l=this._notify(o,e,n,s);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,n,s,a){a=a||{};for(const o of e){const l=o.plugin,u=l[s],h=[n,a,o.options];if(Oe(u,h,l)===!1&&a.cancelable)return!1}return!0}invalidate(){Ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,a=Re(s.options&&s.options.plugins,{}),o=g4(s);return a===!1&&!n?[]:y4(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,a=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(a(n,s),e,"stop"),this._notify(a(s,n),e,"start")}}function g4(t){const e={},n=[],s=Object.keys(ii.plugins.items);for(let o=0;o<s.length;o++)n.push(ii.getPlugin(s[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function x4(t,e){return!e&&t===!1?null:t===!0?{}:t}function y4(t,{plugins:e,localIds:n},s,a){const o=[],l=t.getContext();for(const u of e){const h=u.id,m=x4(s[h],a);m!==null&&o.push({plugin:u,options:b4(t.config,{plugin:u,local:n[h]},m,l)})}return o}function b4(t,{plugin:e,local:n},s,a){const o=t.pluginScopeKeys(e),l=t.getOptionScopes(s,o);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yg(t,e){const n=Tt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function v4(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function _4(t,e){return t===e?"_index_":"_value_"}function l2(t){if(t==="x"||t==="y"||t==="r")return t}function w4(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wg(t,...e){if(l2(t))return t;for(const n of e){const s=n.axis||w4(n.position)||t.length>1&&l2(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function c2(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function S4(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return c2(t,"x",n[0])||c2(t,"y",n[0])}return{}}function j4(t,e){const n=Hr[t.type]||{scales:{}},s=e.scales||{},a=Yg(t.type,e),o=Object.create(null);return Object.keys(s).forEach(l=>{const u=s[l];if(!Ke(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Wg(l,u,S4(l,t),Tt.scales[u.type]),m=_4(h,a),p=n.scales||{};o[l]=Lc(Object.create(null),[{axis:h},u,p[h],p[m]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,h=l.indexAxis||Yg(u,e),p=(Hr[u]||{}).scales||{};Object.keys(p).forEach(x=>{const b=v4(x,h),v=l[b+"AxisID"]||b;o[v]=o[v]||Object.create(null),Lc(o[v],[{axis:b},s[v],p[x]])})}),Object.keys(o).forEach(l=>{const u=o[l];Lc(u,[Tt.scales[u.type],Tt.scale])}),o}function Gj(t){const e=t.options||(t.options={});e.plugins=Re(e.plugins,{}),e.scales=j4(t,e)}function Xj(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function N4(t){return t=t||{},t.data=Xj(t.data),Gj(t),t}const u2=new Map,$j=new Set;function Id(t,e){let n=u2.get(t);return n||(n=e(),u2.set(t,n),$j.add(n)),n}const gc=(t,e,n)=>{const s=Xa(e,n);s!==void 0&&t.add(s)};class k4{constructor(e){this._config=N4(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Xj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Gj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Id(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Id(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Id(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Id(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let a=s.get(e);return(!a||n)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,n,s){const{options:a,type:o}=this,l=this._cachedScopes(e,s),u=l.get(n);if(u)return u;const h=new Set;n.forEach(p=>{e&&(h.add(e),p.forEach(x=>gc(h,e,x))),p.forEach(x=>gc(h,a,x)),p.forEach(x=>gc(h,Hr[o]||{},x)),p.forEach(x=>gc(h,Tt,x)),p.forEach(x=>gc(h,Hg,x))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),$j.has(n)&&l.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,Hr[n]||{},Tt.datasets[n]||{},{type:n},Tt,Hg]}resolveNamedOptions(e,n,s,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=d2(this._resolverCache,e,a);let h=l;if(M4(l,n)){o.$shared=!1,s=$a(s)?s():s;const m=this.createResolver(e,s,u);h=Qo(l,s,m)}for(const m of n)o[m]=h[m];return o}createResolver(e,n,s=[""],a){const{resolver:o}=d2(this._resolverCache,e,s);return Ke(n)?Qo(o,n,void 0,a):o}}function d2(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const a=n.join();let o=s.get(a);return o||(o={resolver:Gx(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},s.set(a,o)),o}const T4=t=>Ke(t)&&Object.getOwnPropertyNames(t).some(e=>$a(t[e]));function M4(t,e){const{isScriptable:n,isIndexable:s}=wj(t);for(const a of e){const o=n(a),l=s(a),u=(l||o)&&t[a];if(o&&($a(u)||T4(u))||l&&kt(u))return!0}return!1}var C4="4.5.1";const D4=["top","bottom","left","right","chartArea"];function h2(t,e){return t==="top"||t==="bottom"||D4.indexOf(t)===-1&&e==="x"}function f2(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function m2(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Oe(n&&n.onComplete,[t],e)}function E4(t){const e=t.chart,n=e.options.animation;Oe(n&&n.onProgress,[t],e)}function Kj(t){return Kx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ch={},p2=t=>{const e=Kj(t);return Object.values(ch).filter(n=>n.canvas===e).pop()};function A4(t,e,n){const s=Object.keys(t);for(const a of s){const o=+a;if(o>=e){const l=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=l)}}}function O4(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}let Ds=class{static defaults=Tt;static instances=ch;static overrides=Hr;static registry=ii;static version=C4;static getChart=p2;static register(...e){ii.add(...e),g2()}static unregister(...e){ii.remove(...e),g2()}constructor(e,n){const s=this.config=new k4(n),a=Kj(e),o=p2(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Z3(a)),this.platform.updateConfig(s);const u=this.platform.acquireContext(a,l.aspectRatio),h=u&&u.canvas,m=h&&h.height,p=h&&h.width;if(this.id=AE(),this.ctx=u,this.canvas=h,this.width=p,this.height=m,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new p4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$E(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],ch[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Hi.listen(this,"complete",m2),Hi.listen(this,"progress",E4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return Ge(e)?n&&o?o:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ii}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():B_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return L_(this.canvas,this.ctx),this}stop(){return Hi.stop(this),this}resize(e,n){Hi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,e,n,o),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,B_(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Oe(s.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};qe(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,a=Object.keys(s).reduce((l,u)=>(l[u]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const u=n[l],h=Wg(l,u),m=h==="r",p=h==="x";return{options:u,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),qe(o,l=>{const u=l.options,h=u.id,m=Wg(h,u),p=Re(u.type,l.dtype);(u.position===void 0||h2(u.position,m)!==h2(l.dposition))&&(u.position=l.dposition),a[h]=!0;let x=null;if(h in s&&s[h].type===p)x=s[h];else{const b=ii.getScale(p);x=new b({id:h,type:p,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(u,e)}),qe(a,(l,u)=>{l||delete s[u]}),qe(s,l=>{Mn.configure(this,l,l.options),Mn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(f2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let l=this.getDatasetMeta(s);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=u,l.indexAxis=o.indexAxis||Yg(u,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const h=ii.getController(u),{datasetElementType:m,dataElementType:p}=Tt.datasets[u];Object.assign(h,{dataElementType:ii.getElement(p),datasetElementType:m&&ii.getElement(m)}),l.controller=new h(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){qe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:x}=this.getDatasetMeta(m),b=!a&&o.indexOf(x)===-1;x.buildOrUpdateElements(b),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||qe(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(f2("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){qe(this.scales,e=>{Mn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!k_(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const l=s==="_removeElements"?-o:o;A4(e,a,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!k_(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mn.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],qe(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,$a(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hi.has(this)?this.attached&&!Hi.running(this)&&Hi.start(this):(this.draw(),m2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=Oj(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&nf(n,a),e.controller.draw(),a&&sf(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return oi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,a){const o=D3.modes[n];return typeof o=="function"?o(this,e,s,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=er(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,a);Zc(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(o,{visible:s}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Hi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),L_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ch[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(o,l)=>{n.addEventListener(this,o,l),e[o]=l},a=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};qe(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(h,m)=>{n.addEventListener(this,h,m),e[h]=m},a=(h,m)=>{e[h]&&(n.removeEventListener(this,h,m),delete e[h])},o=(h,m)=>{this.canvas&&this.resize(h,m)};let l;const u=()=>{a("attach",u),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){qe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},qe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const a=s?"set":"remove";let o,l,u,h;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const m=l&&this.getDatasetMeta(l.datasetIndex).controller;m&&m[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!kh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const a=this.options.hover,o=(h,m)=>h.filter(p=>!m.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),l=o(n,e),u=s?e:o(e,n);l.length&&this.updateHoverStyle(l,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:a=[],options:o}=this,l=n,u=this._getActiveElements(e,a,s,l),h=BE(e),m=O4(e,this._lastEvent,s,h);s&&(this._lastEvent=null,Oe(o.onHover,[e,u,this],this),h&&Oe(o.onClick,[e,u,this],this));const p=!kh(u,a);return(p||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=m,p}_getActiveElements(e,n,s,a){if(e.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function g2(){return qe(Ds.instances,t=>t._plugins.invalidate())}function R4(t,e,n){const{startAngle:s,x:a,y:o,outerRadius:l,innerRadius:u,options:h}=e,{borderWidth:m,borderJoinStyle:p}=h,x=Math.min(m/l,Tn(s-n));if(t.beginPath(),t.arc(a,o,l-m/2,s+x/2,n-x/2),u>0){const b=Math.min(m/u,Tn(s-n));t.arc(a,o,u+m/2,n-b/2,s+b/2,!0)}else{const b=Math.min(m/2,l*Tn(s-n));if(p==="round")t.arc(a,o,b,n-st/2,s+st/2,!0);else if(p==="bevel"){const v=2*b*b,w=-v*Math.cos(n+st/2)+a,S=-v*Math.sin(n+st/2)+o,j=v*Math.cos(s+st/2)+a,k=v*Math.sin(s+st/2)+o;t.lineTo(w,S),t.lineTo(j,k)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function L4(t,e,n){const{startAngle:s,pixelMargin:a,x:o,y:l,outerRadius:u,innerRadius:h}=e;let m=a/u;t.beginPath(),t.arc(o,l,u,s-m,n+m),h>a?(m=a/h,t.arc(o,l,h,n+m,s-m,!0)):t.arc(o,l,a,n+Yt,s-Yt),t.closePath(),t.clip()}function P4(t){return qx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function z4(t,e,n,s){const a=P4(t.options.borderRadius),o=(n-e)/2,l=Math.min(o,s*e/2),u=h=>{const m=(n-Math.min(o,h))*s/2;return un(h,0,Math.min(o,m))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:un(a.innerStart,0,l),innerEnd:un(a.innerEnd,0,l)}}function Oo(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Ah(t,e,n,s,a,o){const{x:l,y:u,startAngle:h,pixelMargin:m,innerRadius:p}=e,x=Math.max(e.outerRadius+s+n-m,0),b=p>0?p+s+n+m:0;let v=0;const w=a-h;if(s){const be=p>0?p-s:0,W=x>0?x-s:0,Q=(be+W)/2,ue=Q!==0?w*Q/(Q+s):w;v=(w-ue)/2}const S=Math.max(.001,w*x-n/st)/x,j=(w-S)/2,k=h+j+v,C=a-j-v,{outerStart:E,outerEnd:O,innerStart:R,innerEnd:A}=z4(e,b,x,C-k),L=x-E,P=x-O,U=k+E/L,$=C-O/P,ee=b+R,re=b+A,de=k+R/ee,fe=C-A/re;if(t.beginPath(),o){const be=(U+$)/2;if(t.arc(l,u,x,U,be),t.arc(l,u,x,be,$),O>0){const oe=Oo(P,$,l,u);t.arc(oe.x,oe.y,O,$,C+Yt)}const W=Oo(re,C,l,u);if(t.lineTo(W.x,W.y),A>0){const oe=Oo(re,fe,l,u);t.arc(oe.x,oe.y,A,C+Yt,fe+Math.PI)}const Q=(C-A/b+(k+R/b))/2;if(t.arc(l,u,b,C-A/b,Q,!0),t.arc(l,u,b,Q,k+R/b,!0),R>0){const oe=Oo(ee,de,l,u);t.arc(oe.x,oe.y,R,de+Math.PI,k-Yt)}const ue=Oo(L,k,l,u);if(t.lineTo(ue.x,ue.y),E>0){const oe=Oo(L,U,l,u);t.arc(oe.x,oe.y,E,k-Yt,U)}}else{t.moveTo(l,u);const be=Math.cos(U)*x+l,W=Math.sin(U)*x+u;t.lineTo(be,W);const Q=Math.cos($)*x+l,ue=Math.sin($)*x+u;t.lineTo(Q,ue)}t.closePath()}function B4(t,e,n,s,a){const{fullCircles:o,startAngle:l,circumference:u}=e;let h=e.endAngle;if(o){Ah(t,e,n,s,h,a);for(let m=0;m<o;++m)t.fill();isNaN(u)||(h=l+(u%vt||vt))}return Ah(t,e,n,s,h,a),t.fill(),h}function V4(t,e,n,s,a){const{fullCircles:o,startAngle:l,circumference:u,options:h}=e,{borderWidth:m,borderJoinStyle:p,borderDash:x,borderDashOffset:b,borderRadius:v}=h,w=h.borderAlign==="inner";if(!m)return;t.setLineDash(x||[]),t.lineDashOffset=b,w?(t.lineWidth=m*2,t.lineJoin=p||"round"):(t.lineWidth=m,t.lineJoin=p||"bevel");let S=e.endAngle;if(o){Ah(t,e,n,s,S,a);for(let j=0;j<o;++j)t.stroke();isNaN(u)||(S=l+(u%vt||vt))}w&&L4(t,e,S),h.selfJoin&&S-l>=st&&v===0&&p!=="miter"&&R4(t,e,S),o||(Ah(t,e,n,s,S,a),t.stroke())}class F4 extends ta{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const a=this.getProps(["x","y"],s),{angle:o,distance:l}=hj(a,{x:e,y:n}),{startAngle:u,endAngle:h,innerRadius:m,outerRadius:p,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),b=(this.options.spacing+this.options.borderWidth)/2,v=Re(x,h-u),w=Qc(o,u,h)&&u!==h,S=v>=vt||w,j=Ii(l,m+b,p+b);return S&&j}getCenterPoint(e){const{x:n,y:s,startAngle:a,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:m}=this.options,p=(a+o)/2,x=(l+u+m+h)/2;return{x:n+Math.cos(p)*x,y:s+Math.sin(p)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>vt?Math.floor(s/vt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const h=1-Math.sin(Math.min(st,s||0)),m=a*h;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,B4(e,this,m,o,l),V4(e,this,m,o,l),e.restore()}}function Zj(t,e,n=e){t.lineCap=Re(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Re(n.borderDash,e.borderDash)),t.lineDashOffset=Re(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Re(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Re(n.borderWidth,e.borderWidth),t.strokeStyle=Re(n.borderColor,e.borderColor)}function H4(t,e,n){t.lineTo(n.x,n.y)}function U4(t){return t.stepped?oA:t.tension||t.cubicInterpolationMode==="monotone"?lA:H4}function Qj(t,e,n={}){const s=t.length,{start:a=0,end:o=s-1}=n,{start:l,end:u}=e,h=Math.max(a,l),m=Math.min(o,u),p=a<l&&o<l||a>u&&o>u;return{count:s,start:h,loop:e.loop,ilen:m<h&&!p?s+m-h:m-h}}function Y4(t,e,n,s){const{points:a,options:o}=e,{count:l,start:u,loop:h,ilen:m}=Qj(a,n,s),p=U4(o);let{move:x=!0,reverse:b}=s||{},v,w,S;for(v=0;v<=m;++v)w=a[(u+(b?m-v:v))%l],!w.skip&&(x?(t.moveTo(w.x,w.y),x=!1):p(t,S,w,b,o.stepped),S=w);return h&&(w=a[(u+(b?m:0))%l],p(t,S,w,b,o.stepped)),!!h}function W4(t,e,n,s){const a=e.points,{count:o,start:l,ilen:u}=Qj(a,n,s),{move:h=!0,reverse:m}=s||{};let p=0,x=0,b,v,w,S,j,k;const C=O=>(l+(m?u-O:O))%o,E=()=>{S!==j&&(t.lineTo(p,j),t.lineTo(p,S),t.lineTo(p,k))};for(h&&(v=a[C(0)],t.moveTo(v.x,v.y)),b=0;b<=u;++b){if(v=a[C(b)],v.skip)continue;const O=v.x,R=v.y,A=O|0;A===w?(R<S?S=R:R>j&&(j=R),p=(x*p+O)/++x):(E(),t.lineTo(O,R),w=A,x=0,S=j=R),k=R}E()}function Ig(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?W4:Y4}function I4(t){return t.stepped?FA:t.tension||t.cubicInterpolationMode==="monotone"?HA:Er}function q4(t,e,n,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,n,s)&&a.closePath()),Zj(t,e.options),t.stroke(a)}function G4(t,e,n,s){const{segments:a,options:o}=e,l=Ig(e);for(const u of a)Zj(t,o,u.style),t.beginPath(),l(t,e,u,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const X4=typeof Path2D=="function";function $4(t,e,n,s){X4&&!e.options.segment?q4(t,e,n,s):G4(t,e,n,s)}class na extends ta{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;AA(this._points,s,e,a,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GA(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,a=e[n],o=this.points,l=Aj(this,{property:n,start:a,end:a});if(!l.length)return;const u=[],h=I4(s);let m,p;for(m=0,p=l.length;m<p;++m){const{start:x,end:b}=l[m],v=o[x],w=o[b];if(v===w){u.push(v);continue}const S=Math.abs((a-v[n])/(w[n]-v[n])),j=h(v,w,S,s.stepped);j[n]=e[n],u.push(j)}return u.length===1?u[0]:u}pathSegment(e,n,s){return Ig(this)(e,this,n,s)}path(e,n,s){const a=this.segments,o=Ig(this);let l=this._loop;n=n||0,s=s||this.points.length-n;for(const u of a)l&=o(e,this,u,{start:n,end:n+s-1});return!!l}draw(e,n,s,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),$4(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function x2(t,e,n,s){const a=t.options,{[n]:o}=t.getProps([n],s);return Math.abs(e-o)<a.radius+a.hitRadius}class al extends ta{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(n-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,n){return x2(this,e,"x",n)}inYRange(e,n){return x2(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!oi(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Ug(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Jj(t,e){const{x:n,y:s,base:a,width:o,height:l}=t.getProps(["x","y","base","width","height"],e);let u,h,m,p,x;return t.horizontal?(x=l/2,u=Math.min(n,a),h=Math.max(n,a),m=s-x,p=s+x):(x=o/2,u=n-x,h=n+x,m=Math.min(s,a),p=Math.max(s,a)),{left:u,top:m,right:h,bottom:p}}function Ha(t,e,n,s){return t?0:un(e,n,s)}function K4(t,e,n){const s=t.options.borderWidth,a=t.borderSkipped,o=_j(s);return{t:Ha(a.top,o.top,0,n),r:Ha(a.right,o.right,0,e),b:Ha(a.bottom,o.bottom,0,n),l:Ha(a.left,o.left,0,e)}}function Z4(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=zr(a),l=Math.min(e,n),u=t.borderSkipped,h=s||Ke(a);return{topLeft:Ha(!h||u.top||u.left,o.topLeft,0,l),topRight:Ha(!h||u.top||u.right,o.topRight,0,l),bottomLeft:Ha(!h||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Ha(!h||u.bottom||u.right,o.bottomRight,0,l)}}function Q4(t){const e=Jj(t),n=e.right-e.left,s=e.bottom-e.top,a=K4(t,n/2,s/2),o=Z4(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function tg(t,e,n,s){const a=e===null,o=n===null,u=t&&!(a&&o)&&Jj(t,s);return u&&(a||Ii(e,u.left,u.right))&&(o||Ii(n,u.top,u.bottom))}function J4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function eO(t,e){t.rect(e.x,e.y,e.w,e.h)}function ng(t,e,n={}){const s=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-s,l=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+s,y:t.y+a,w:t.w+o,h:t.h+l,radius:t.radius}}class e0 extends ta{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:l}=Q4(this),u=J4(l.radius)?Jc:eO;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),u(e,ng(l,n,o)),e.clip(),u(e,ng(o,-n,l)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),u(e,ng(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,s){return tg(this,e,n,s)}inXRange(e,n){return tg(this,e,null,n)}inYRange(e,n){return tg(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var tO=Object.freeze({__proto__:null,ArcElement:F4,BarElement:e0,LineElement:na,PointElement:al});const qg=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],y2=qg.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function eN(t){return qg[t%qg.length]}function tN(t){return y2[t%y2.length]}function nO(t,e){return t.borderColor=eN(e),t.backgroundColor=tN(e),++e}function sO(t,e){return t.backgroundColor=t.data.map(()=>eN(e++)),e}function iO(t,e){return t.backgroundColor=t.data.map(()=>tN(e++)),e}function aO(t){let e=0;return(n,s)=>{const a=t.getDatasetMeta(s).controller;a instanceof Qx?e=sO(n,e):a instanceof Vj?e=iO(n,e):a&&(e=nO(n,e))}}function b2(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function rO(t){return t&&(t.borderColor||t.backgroundColor)}function oO(){return Tt.borderColor!=="rgba(0,0,0,0.1)"||Tt.backgroundColor!=="rgba(0,0,0,0.1)"}var lO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:a}=t.config,{elements:o}=a,l=b2(s)||rO(a)||o&&b2(o)||oO();if(!n.forceOverride&&l)return;const u=aO(t);s.forEach(u)}};function cO(t,e,n,s,a){const o=a.samples||s;if(o>=n)return t.slice(e,e+n);const l=[],u=(n-2)/(o-2);let h=0;const m=e+n-1;let p=e,x,b,v,w,S;for(l[h++]=t[p],x=0;x<o-2;x++){let j=0,k=0,C;const E=Math.floor((x+1)*u)+1+e,O=Math.min(Math.floor((x+2)*u)+1,n)+e,R=O-E;for(C=E;C<O;C++)j+=t[C].x,k+=t[C].y;j/=R,k/=R;const A=Math.floor(x*u)+1+e,L=Math.min(Math.floor((x+1)*u)+1,n)+e,{x:P,y:U}=t[p];for(v=w=-1,C=A;C<L;C++)w=.5*Math.abs((P-j)*(t[C].y-U)-(P-t[C].x)*(k-U)),w>v&&(v=w,b=t[C],S=C);l[h++]=b,p=S}return l[h++]=t[m],l}function uO(t,e,n,s){let a=0,o=0,l,u,h,m,p,x,b,v,w,S;const j=[],k=e+n-1,C=t[e].x,O=t[k].x-C;for(l=e;l<e+n;++l){u=t[l],h=(u.x-C)/O*s,m=u.y;const R=h|0;if(R===p)m<w?(w=m,x=l):m>S&&(S=m,b=l),a=(o*a+u.x)/++o;else{const A=l-1;if(!Ge(x)&&!Ge(b)){const L=Math.min(x,b),P=Math.max(x,b);L!==v&&L!==A&&j.push({...t[L],x:a}),P!==v&&P!==A&&j.push({...t[P],x:a})}l>0&&A!==v&&j.push(t[A]),j.push(u),p=R,o=0,w=S=m,x=b=v=l}}return j}function nN(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function v2(t){t.data.datasets.forEach(e=>{nN(e)})}function dO(t,e){const n=e.length;let s=0,a;const{iScale:o}=t,{min:l,max:u,minDefined:h,maxDefined:m}=o.getUserBounds();return h&&(s=un(qi(e,o.axis,l).lo,0,n-1)),m?a=un(qi(e,o.axis,u).hi+1,s,n)-s:a=n-s,{start:s,count:a}}var hO={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){v2(t);return}const s=t.width;t.data.datasets.forEach((a,o)=>{const{_data:l,indexAxis:u}=a,h=t.getDatasetMeta(o),m=l||a.data;if(Mc([u,t.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=t.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||t.options.parsing)return;let{start:x,count:b}=dO(h,m);const v=n.threshold||4*s;if(b<=v){nN(a);return}Ge(l)&&(a._data=m,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(n.algorithm){case"lttb":w=cO(m,x,b,s,n);break;case"min-max":w=uO(m,x,b,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}a._decimated=w})},destroy(t){v2(t)}};function fO(t,e,n){const s=t.segments,a=t.points,o=e.points,l=[];for(const u of s){let{start:h,end:m}=u;m=of(h,m,a);const p=Gg(n,a[h],a[m],u.loop);if(!e.segments){l.push({source:u,target:p,start:a[h],end:a[m]});continue}const x=Aj(e,p);for(const b of x){const v=Gg(n,o[b.start],o[b.end],b.loop),w=Ej(u,a,v);for(const S of w)l.push({source:S,target:b,start:{[n]:_2(p,v,"start",Math.max)},end:{[n]:_2(p,v,"end",Math.min)}})}}return l}function Gg(t,e,n,s){if(s)return;let a=e[t],o=n[t];return t==="angle"&&(a=Tn(a),o=Tn(o)),{property:t,start:a,end:o}}function mO(t,e){const{x:n=null,y:s=null}=t||{},a=e.points,o=[];return e.segments.forEach(({start:l,end:u})=>{u=of(l,u,a);const h=a[l],m=a[u];s!==null?(o.push({x:h.x,y:s}),o.push({x:m.x,y:s})):n!==null&&(o.push({x:n,y:h.y}),o.push({x:n,y:m.y}))}),o}function of(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function _2(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function sN(t,e){let n=[],s=!1;return kt(t)?(s=!0,n=t):n=mO(t,e),n.length?new na({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function w2(t){return t&&t.fill!==!1}function pO(t,e,n){let a=t[e].fill;const o=[e];let l;if(!n)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!Rt(a))return a;if(l=t[a],!l)return!1;if(l.visible)return a;o.push(a),a=l.fill}return!1}function gO(t,e,n){const s=vO(t);if(Ke(s))return isNaN(s.value)?!1:s;let a=parseFloat(s);return Rt(a)&&Math.floor(a)===a?xO(s[0],e,a,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function xO(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function yO(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ke(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function bO(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Ke(t)?s=t.value:s=e.getBaseValue(),s}function vO(t){const e=t.options,n=e.fill;let s=Re(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function _O(t){const{scale:e,index:n,line:s}=t,a=[],o=s.segments,l=s.points,u=wO(e,n);u.push(sN({x:null,y:e.bottom},s));for(let h=0;h<o.length;h++){const m=o[h];for(let p=m.start;p<=m.end;p++)SO(a,l[p],u)}return new na({points:a,options:{}})}function wO(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const o=s[a];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function SO(t,e,n){const s=[];for(let a=0;a<n.length;a++){const o=n[a],{first:l,last:u,point:h}=jO(o,e,"x");if(!(!h||l&&u)){if(l)s.unshift(h);else if(t.push(h),!u)break}}t.push(...s)}function jO(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const a=s[n],o=t.segments,l=t.points;let u=!1,h=!1;for(let m=0;m<o.length;m++){const p=o[m],x=l[p.start][n],b=l[p.end][n];if(Ii(a,x,b)){u=a===x,h=a===b;break}}return{first:u,last:h,point:s}}class iN{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:a,y:o,radius:l}=this;return n=n||{start:0,end:vt},e.arc(a,o,l,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:a}=this,o=e.angle;return{x:n+Math.cos(o)*a,y:s+Math.sin(o)*a,angle:o}}}function NO(t){const{chart:e,fill:n,line:s}=t;if(Rt(n))return kO(e,n);if(n==="stack")return _O(t);if(n==="shape")return!0;const a=TO(t);return a instanceof iN?a:sN(a,s)}function kO(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function TO(t){return(t.scale||{}).getPointPositionForValue?CO(t):MO(t)}function MO(t){const{scale:e={},fill:n}=t,s=yO(n,e);if(Rt(s)){const a=e.isHorizontal();return{x:a?s:null,y:a?null:s}}return null}function CO(t){const{scale:e,fill:n}=t,s=e.options,a=e.getLabels().length,o=s.reverse?e.max:e.min,l=bO(n,e,o),u=[];if(s.grid.circular){const h=e.getPointPositionForValue(0,o);return new iN({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(l)})}for(let h=0;h<a;++h)u.push(e.getPointPositionForValue(h,l));return u}function sg(t,e,n){const s=NO(e),{chart:a,index:o,line:l,scale:u,axis:h}=e,m=l.options,p=m.fill,x=m.backgroundColor,{above:b=x,below:v=x}=p||{},w=a.getDatasetMeta(o),S=Oj(a,w);s&&l.points.length&&(nf(t,n),DO(t,{line:l,target:s,above:b,below:v,area:n,scale:u,axis:h,clip:S}),sf(t))}function DO(t,e){const{line:n,target:s,above:a,below:o,area:l,scale:u,clip:h}=e,m=n._loop?"angle":e.axis;t.save();let p=o;o!==a&&(m==="x"?(S2(t,s,l.top),ig(t,{line:n,target:s,color:a,scale:u,property:m,clip:h}),t.restore(),t.save(),S2(t,s,l.bottom)):m==="y"&&(j2(t,s,l.left),ig(t,{line:n,target:s,color:o,scale:u,property:m,clip:h}),t.restore(),t.save(),j2(t,s,l.right),p=a)),ig(t,{line:n,target:s,color:p,scale:u,property:m,clip:h}),t.restore()}function S2(t,e,n){const{segments:s,points:a}=e;let o=!0,l=!1;t.beginPath();for(const u of s){const{start:h,end:m}=u,p=a[h],x=a[of(h,m,a)];o?(t.moveTo(p.x,p.y),o=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,u,{move:l}),l?t.closePath():t.lineTo(x.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function j2(t,e,n){const{segments:s,points:a}=e;let o=!0,l=!1;t.beginPath();for(const u of s){const{start:h,end:m}=u,p=a[h],x=a[of(h,m,a)];o?(t.moveTo(p.x,p.y),o=!1):(t.lineTo(n,p.y),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,u,{move:l}),l?t.closePath():t.lineTo(n,x.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function ig(t,e){const{line:n,target:s,property:a,color:o,scale:l,clip:u}=e,h=fO(n,s,a);for(const{source:m,target:p,start:x,end:b}of h){const{style:{backgroundColor:v=o}={}}=m,w=s!==!0;t.save(),t.fillStyle=v,EO(t,l,u,w&&Gg(a,x,b)),t.beginPath();const S=!!n.pathSegment(t,m);let j;if(w){S?t.closePath():N2(t,s,b,a);const k=!!s.pathSegment(t,p,{move:S,reverse:!0});j=S&&k,j||N2(t,s,x,a)}t.closePath(),t.fill(j?"evenodd":"nonzero"),t.restore()}}function EO(t,e,n,s){const a=e.chart.chartArea,{property:o,start:l,end:u}=s||{};if(o==="x"||o==="y"){let h,m,p,x;o==="x"?(h=l,m=a.top,p=u,x=a.bottom):(h=a.left,m=l,p=a.right,x=u),t.beginPath(),n&&(h=Math.max(h,n.left),p=Math.min(p,n.right),m=Math.max(m,n.top),x=Math.min(x,n.bottom)),t.rect(h,m,p-h,x-m),t.clip()}}function N2(t,e,n,s){const a=e.interpolate(n,s);a&&t.lineTo(a.x,a.y)}var lf={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,a=[];let o,l,u,h;for(l=0;l<s;++l)o=t.getDatasetMeta(l),u=o.dataset,h=null,u&&u.options&&u instanceof na&&(h={visible:t.isDatasetVisible(l),index:l,fill:gO(u,l,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=h,a.push(h);for(l=0;l<s;++l)h=a[l],!(!h||h.fill===!1)&&(h.fill=pO(a,l,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let l=a.length-1;l>=0;--l){const u=a[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),s&&u.fill&&sg(t.ctx,u,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const o=s[a].$filler;w2(o)&&sg(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!w2(s)||n.drawTime!=="beforeDatasetDraw"||sg(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const k2=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},AO=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class T2 extends ta{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Oe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=an(s.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=k2(s,o);let m,p;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(l,o,u,h)+10):(p=this.maxHeight,m=this._fitCols(l,a,u,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,a){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],p=a+u;let x=e;o.textAlign="left",o.textBaseline="middle";let b=-1,v=-p;return this.legendItems.forEach((w,S)=>{const j=s+n/2+o.measureText(w.text).width;(S===0||m[m.length-1]+j+2*u>l)&&(x+=p,m[m.length-(S>0?0:1)]=0,v+=p,b++),h[S]={left:0,top:v,row:b,width:j,height:a},m[m.length-1]+=j+u}),x}_fitCols(e,n,s,a){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],p=l-e;let x=u,b=0,v=0,w=0,S=0;return this.legendItems.forEach((j,k)=>{const{itemWidth:C,itemHeight:E}=OO(s,n,o,j,a);k>0&&v+E+2*u>p&&(x+=b+u,m.push({width:b,height:v}),w+=b+u,S++,b=v=0),h[k]={left:w,top:v,col:S,width:C,height:E},b=Math.max(b,C),v+=E+u}),x+=b,m.push({width:b,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,l=Io(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=Nn(s,this.left+a,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,h=Nn(s,this.left+a,this.right-this.lineWidths[u])),m.top+=this.top+e+a,m.left=l.leftForLtr(l.x(h),m.width),h+=m.width+a}else{let u=0,h=Nn(s,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,h=Nn(s,this.top+e+a,this.bottom-this.columnSizes[u].height)),m.top=h,m.left+=this.left+a,m.left=l.leftForLtr(l.x(m.left),m.width),h+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;nf(e,this),this._draw(),sf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:l}=e,u=Tt.color,h=Io(e.rtl,this.left,this.width),m=an(l.font),{padding:p}=l,x=m.size,b=x/2;let v;this.drawTitle(),a.textAlign=h.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:w,boxHeight:S,itemHeight:j}=k2(l,x),k=function(A,L,P){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;a.save();const U=Re(P.lineWidth,1);if(a.fillStyle=Re(P.fillStyle,u),a.lineCap=Re(P.lineCap,"butt"),a.lineDashOffset=Re(P.lineDashOffset,0),a.lineJoin=Re(P.lineJoin,"miter"),a.lineWidth=U,a.strokeStyle=Re(P.strokeStyle,u),a.setLineDash(Re(P.lineDash,[])),l.usePointStyle){const $={radius:S*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:U},ee=h.xPlus(A,w/2),re=L+b;vj(a,$,ee,re,l.pointStyleWidth&&w)}else{const $=L+Math.max((x-S)/2,0),ee=h.leftForLtr(A,w),re=zr(P.borderRadius);a.beginPath(),Object.values(re).some(de=>de!==0)?Jc(a,{x:ee,y:$,w,h:S,radius:re}):a.rect(ee,$,w,S),a.fill(),U!==0&&a.stroke()}a.restore()},C=function(A,L,P){Ur(a,P.text,A,L+j/2,m,{strikethrough:P.hidden,textAlign:h.textAlign(P.textAlign)})},E=this.isHorizontal(),O=this._computeTitleHeight();E?v={x:Nn(o,this.left+p,this.right-s[0]),y:this.top+p+O,line:0}:v={x:this.left+p,y:Nn(o,this.top+O+p,this.bottom-n[0].height),line:0},Mj(this.ctx,e.textDirection);const R=j+p;this.legendItems.forEach((A,L)=>{a.strokeStyle=A.fontColor,a.fillStyle=A.fontColor;const P=a.measureText(A.text).width,U=h.textAlign(A.textAlign||(A.textAlign=l.textAlign)),$=w+b+P;let ee=v.x,re=v.y;h.setWidth(this.width),E?L>0&&ee+$+p>this.right&&(re=v.y+=R,v.line++,ee=v.x=Nn(o,this.left+p,this.right-s[v.line])):L>0&&re+R>this.bottom&&(ee=v.x=ee+n[v.line].width+p,v.line++,re=v.y=Nn(o,this.top+O+p,this.bottom-n[v.line].height));const de=h.x(ee);if(k(de,re,A),ee=KE(U,ee+w+b,E?ee+$:this.right,e.rtl),C(h.x(ee),re,A),E)v.x+=$+p;else if(typeof A.text!="string"){const fe=m.lineHeight;v.y+=aN(A,fe)+p}else v.y+=R}),Cj(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=an(n.font),a=En(n.padding);if(!n.display)return;const o=Io(e.rtl,this.left,this.width),l=this.ctx,u=n.position,h=s.size/2,m=a.top+h;let p,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+m,x=Nn(e.align,x,this.right-b);else{const w=this.columnSizes.reduce((S,j)=>Math.max(S,j.height),0);p=m+Nn(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const v=Nn(u,x,x+b);l.textAlign=o.textAlign(Wx(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,Ur(l,n.text,v,p,s)}_computeTitleHeight(){const e=this.options.title,n=an(e.font),s=En(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,a,o;if(Ii(e,this.left,this.right)&&Ii(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],Ii(e,a.left,a.left+a.width)&&Ii(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!PO(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=AO(a,s);a&&!o&&Oe(n.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!o&&Oe(n.onHover,[e,s,this],this)}else s&&Oe(n.onClick,[e,s,this],this)}}function OO(t,e,n,s,a){const o=RO(s,t,e,n),l=LO(a,s,e.lineHeight);return{itemWidth:o,itemHeight:l}}function RO(t,e,n,s){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),e+n.size/2+s.measureText(a).width}function LO(t,e,n){let s=t;return typeof e.text!="string"&&(s=aN(e,n)),s}function aN(t,e){const n=t.text?t.text.length:0;return e*n}function PO(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var rl={id:"legend",_element:T2,start(t,e,n){const s=t.legend=new T2({ctx:t.ctx,options:n,chart:t});Mn.configure(t,s,n),Mn.addBox(t,s)},stop(t){Mn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Mn.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(n?0:void 0),p=En(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:s||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:l&&(u||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class t0 extends ta{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const a=kt(s.text)?s.text.length:1;this._padding=En(s.padding);const o=a*an(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:a,right:o,options:l}=this,u=l.align;let h=0,m,p,x;return this.isHorizontal()?(p=Nn(u,s,o),x=n+e,m=o-s):(l.position==="left"?(p=s+e,x=Nn(u,a,n),h=st*-.5):(p=o-e,x=Nn(u,n,a),h=st*.5),m=a-n),{titleX:p,titleY:x,maxWidth:m,rotation:h}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=an(n.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:m}=this._drawArgs(o);Ur(e,n.text,0,0,s,{color:n.color,maxWidth:h,rotation:m,textAlign:Wx(n.align),textBaseline:"middle",translation:[l,u]})}}function zO(t,e){const n=new t0({ctx:t.ctx,options:e,chart:t});Mn.configure(t,n,e),Mn.addBox(t,n),t.titleBlock=n}var cf={id:"title",_element:t0,start(t,e,n){zO(t,n)},stop(t){const e=t.titleBlock;Mn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Mn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qd=new WeakMap;var BO={id:"subtitle",start(t,e,n){const s=new t0({ctx:t.ctx,options:n,chart:t});Mn.configure(t,s,n),Mn.addBox(t,s),qd.set(t,s)},stop(t){Mn.removeBox(t,qd.get(t)),qd.delete(t)},beforeUpdate(t,e,n){const s=qd.get(t);Mn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dc={average(t){if(!t.length)return!1;let e,n,s=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();s.add(h.x),a+=h.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((u,h)=>u+h)/s.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,a=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=t.length;o<l;++o){const h=t[o].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),p=Fg(e,m);p<a&&(a=p,u=h)}}if(u){const h=u.tooltipPosition();n=h.x,s=h.y}return{x:n,y:s}}};function si(t,e){return e&&(kt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ui(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function VO(t,e){const{element:n,datasetIndex:s,index:a}=e,o=t.getDatasetMeta(s).controller,{label:l,value:u}=o.getLabelAndValue(a);return{chart:t,label:l,parsed:o.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function M2(t,e){const n=t.chart.ctx,{body:s,footer:a,title:o}=t,{boxWidth:l,boxHeight:u}=e,h=an(e.bodyFont),m=an(e.titleFont),p=an(e.footerFont),x=o.length,b=a.length,v=s.length,w=En(e.padding);let S=w.height,j=0,k=s.reduce((O,R)=>O+R.before.length+R.lines.length+R.after.length,0);if(k+=t.beforeBody.length+t.afterBody.length,x&&(S+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),k){const O=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;S+=v*O+(k-v)*h.lineHeight+(k-1)*e.bodySpacing}b&&(S+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let C=0;const E=function(O){j=Math.max(j,n.measureText(O).width+C)};return n.save(),n.font=m.string,qe(t.title,E),n.font=h.string,qe(t.beforeBody.concat(t.afterBody),E),C=e.displayColors?l+2+e.boxPadding:0,qe(s,O=>{qe(O.before,E),qe(O.lines,E),qe(O.after,E)}),C=0,n.font=p.string,qe(t.footer,E),n.restore(),j+=w.width,{width:j,height:S}}function FO(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function HO(t,e,n,s){const{x:a,width:o}=s,l=n.caretSize+n.caretPadding;if(t==="left"&&a+o+l>e.width||t==="right"&&a-o-l<0)return!0}function UO(t,e,n,s){const{x:a,width:o}=n,{width:l,chartArea:{left:u,right:h}}=t;let m="center";return s==="center"?m=a<=(u+h)/2?"left":"right":a<=o/2?m="left":a>=l-o/2&&(m="right"),HO(m,t,e,n)&&(m="center"),m}function C2(t,e,n){const s=n.yAlign||e.yAlign||FO(t,n);return{xAlign:n.xAlign||e.xAlign||UO(t,e,n,s),yAlign:s}}function YO(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function WO(t,e,n){let{y:s,height:a}=t;return e==="top"?s+=n:e==="bottom"?s-=a+n:s-=a/2,s}function D2(t,e,n,s){const{caretSize:a,caretPadding:o,cornerRadius:l}=t,{xAlign:u,yAlign:h}=n,m=a+o,{topLeft:p,topRight:x,bottomLeft:b,bottomRight:v}=zr(l);let w=YO(e,u);const S=WO(e,h,m);return h==="center"?u==="left"?w+=m:u==="right"&&(w-=m):u==="left"?w-=Math.max(p,b)+a:u==="right"&&(w+=Math.max(x,v)+a),{x:un(w,0,s.width-e.width),y:un(S,0,s.height-e.height)}}function Gd(t,e,n){const s=En(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function E2(t){return si([],Ui(t))}function IO(t,e,n){return er(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function A2(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const rN={beforeTitle:Bi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Bi,beforeBody:Bi,beforeLabel:Bi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ge(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bi,afterBody:Bi,beforeFooter:Bi,footer:Bi,afterFooter:Bi};function Yn(t,e,n,s){const a=t[e].call(n,s);return typeof a>"u"?rN[e].call(n,s):a}let O2=class extends ta{static positioners=Dc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new Rj(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=IO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,a=Yn(s,"beforeTitle",this,e),o=Yn(s,"title",this,e),l=Yn(s,"afterTitle",this,e);let u=[];return u=si(u,Ui(a)),u=si(u,Ui(o)),u=si(u,Ui(l)),u}getBeforeBody(e,n){return E2(Yn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,a=[];return qe(e,o=>{const l={before:[],lines:[],after:[]},u=A2(s,o);si(l.before,Ui(Yn(u,"beforeLabel",this,o))),si(l.lines,Yn(u,"label",this,o)),si(l.after,Ui(Yn(u,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(e,n){return E2(Yn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,a=Yn(s,"beforeFooter",this,e),o=Yn(s,"footer",this,e),l=Yn(s,"afterFooter",this,e);let u=[];return u=si(u,Ui(a)),u=si(u,Ui(o)),u=si(u,Ui(l)),u}_createItems(e){const n=this._active,s=this.chart.data,a=[],o=[],l=[];let u=[],h,m;for(h=0,m=n.length;h<m;++h)u.push(VO(this.chart,n[h]));return e.filter&&(u=u.filter((p,x,b)=>e.filter(p,x,b,s))),e.itemSort&&(u=u.sort((p,x)=>e.itemSort(p,x,s))),qe(u,p=>{const x=A2(e.callbacks,p);a.push(Yn(x,"labelColor",this,p)),o.push(Yn(x,"labelPointStyle",this,p)),l.push(Yn(x,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Dc[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const h=this._size=M2(this,s),m=Object.assign({},u,h),p=C2(this.chart,s,m),x=D2(s,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,a){const o=this.getCaretPosition(e,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:u}=s,{topLeft:h,topRight:m,bottomLeft:p,bottomRight:x}=zr(u),{x:b,y:v}=e,{width:w,height:S}=n;let j,k,C,E,O,R;return o==="center"?(O=v+S/2,a==="left"?(j=b,k=j-l,E=O+l,R=O-l):(j=b+w,k=j+l,E=O-l,R=O+l),C=j):(a==="left"?k=b+Math.max(h,p)+l:a==="right"?k=b+w-Math.max(m,x)-l:k=this.caretX,o==="top"?(E=v,O=E-l,j=k-l,C=k+l):(E=v+S,O=E+l,j=k+l,C=k-l),R=E),{x1:j,x2:k,x3:C,y1:E,y2:O,y3:R}}drawTitle(e,n,s){const a=this.title,o=a.length;let l,u,h;if(o){const m=Io(s.rtl,this.x,this.width);for(e.x=Gd(this,s.titleAlign,s),n.textAlign=m.textAlign(s.titleAlign),n.textBaseline="middle",l=an(s.titleFont),u=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,h=0;h<o;++h)n.fillText(a[h],m.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===o&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,n,s,a,o){const l=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:h,boxWidth:m}=o,p=an(o.bodyFont),x=Gd(this,"left",o),b=a.x(x),v=h<p.lineHeight?(p.lineHeight-h)/2:0,w=n.y+v;if(o.usePointStyle){const S={radius:Math.min(m,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},j=a.leftForLtr(b,m)+m/2,k=w+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Ug(e,S,j,k),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Ug(e,S,j,k)}else{e.lineWidth=Ke(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=a.leftForLtr(b,m),j=a.leftForLtr(a.xPlus(b,1),m-2),k=zr(l.borderRadius);Object.values(k).some(C=>C!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Jc(e,{x:S,y:w,w:m,h,radius:k}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Jc(e,{x:j,y:w+1,w:m-2,h:h-2,radius:k}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,w,m,h),e.strokeRect(S,w,m,h),e.fillStyle=l.backgroundColor,e.fillRect(j,w+1,m-2,h-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:m,boxPadding:p}=s,x=an(s.bodyFont);let b=x.lineHeight,v=0;const w=Io(s.rtl,this.x,this.width),S=function(P){n.fillText(P,w.x(e.x+v),e.y+b/2),e.y+=b+o},j=w.textAlign(l);let k,C,E,O,R,A,L;for(n.textAlign=l,n.textBaseline="middle",n.font=x.string,e.x=Gd(this,j,s),n.fillStyle=s.bodyColor,qe(this.beforeBody,S),v=u&&j!=="right"?l==="center"?m/2+p:m+2+p:0,O=0,A=a.length;O<A;++O){for(k=a[O],C=this.labelTextColors[O],n.fillStyle=C,qe(k.before,S),E=k.lines,u&&E.length&&(this._drawColorBox(n,e,O,w,s),b=Math.max(x.lineHeight,h)),R=0,L=E.length;R<L;++R)S(E[R]),b=x.lineHeight;qe(k.after,S)}v=0,b=x.lineHeight,qe(this.afterBody,S),e.y-=o}drawFooter(e,n,s){const a=this.footer,o=a.length;let l,u;if(o){const h=Io(s.rtl,this.x,this.width);for(e.x=Gd(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=h.textAlign(s.footerAlign),n.textBaseline="middle",l=an(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,u=0;u<o;++u)n.fillText(a[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,n,s,a){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=e,{width:m,height:p}=s,{topLeft:x,topRight:b,bottomLeft:v,bottomRight:w}=zr(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+x,h),l==="top"&&this.drawCaret(e,n,s,a),n.lineTo(u+m-b,h),n.quadraticCurveTo(u+m,h,u+m,h+b),l==="center"&&o==="right"&&this.drawCaret(e,n,s,a),n.lineTo(u+m,h+p-w),n.quadraticCurveTo(u+m,h+p,u+m-w,h+p),l==="bottom"&&this.drawCaret(e,n,s,a),n.lineTo(u+v,h+p),n.quadraticCurveTo(u,h+p,u,h+p-v),l==="center"&&o==="left"&&this.drawCaret(e,n,s,a),n.lineTo(u,h+x),n.quadraticCurveTo(u,h,u+x,h),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const l=Dc[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=M2(this,e),h=Object.assign({},l,this._size),m=C2(n,e,h),p=D2(e,h,m,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=En(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,a,n),Mj(e,n.textDirection),o.y+=l.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Cj(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,a=e.map(({datasetIndex:u,index:h})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[h],index:h}}),o=!kh(s,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(e,o,n,s),u=this._positionChanged(l,e),h=n||!kh(l,o)||u;return h&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,s,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:s,caretY:a,options:o}=this,l=Dc[o.position].call(this,e,n);return l!==!1&&(s!==l.x||a!==l.y)}};var ol={id:"tooltip",_element:O2,positioners:Dc,afterInit(t,e,n){n&&(t.tooltip=new O2({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},qO=Object.freeze({__proto__:null,Colors:lO,Decimation:hO,Filler:lf,Legend:rl,SubTitle:BO,Title:cf,Tooltip:ol});const GO=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function XO(t,e,n,s){const a=t.indexOf(e);if(a===-1)return GO(t,e,n,s);const o=t.lastIndexOf(e);return a!==o?n:a}const $O=(t,e)=>t===null?null:un(Math.round(t),0,e);function R2(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class gu extends Ir{static id="category";static defaults={ticks:{callback:R2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ge(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:XO(s,e,Re(n,e),this._addedLabels),$O(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=n;l++)a.push({value:l});return a}getLabelForValue(e){return R2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function KO(t,e){const n=[],{bounds:a,step:o,min:l,max:u,precision:h,count:m,maxTicks:p,maxDigits:x,includeBounds:b}=t,v=o||1,w=p-1,{min:S,max:j}=e,k=!Ge(l),C=!Ge(u),E=!Ge(m),O=(j-S)/(x+1);let R=M_((j-S)/w/v)*v,A,L,P,U;if(R<1e-14&&!k&&!C)return[{value:S},{value:j}];U=Math.ceil(j/R)-Math.floor(S/R),U>w&&(R=M_(U*R/w/v)*v),Ge(h)||(A=Math.pow(10,h),R=Math.ceil(R*A)/A),a==="ticks"?(L=Math.floor(S/R)*R,P=Math.ceil(j/R)*R):(L=S,P=j),k&&C&&o&&YE((u-l)/o,R/1e3)?(U=Math.round(Math.min((u-l)/R,p)),R=(u-l)/U,L=l,P=u):E?(L=k?l:L,P=C?u:P,U=m-1,R=(P-L)/U):(U=(P-L)/R,Pr(U,Math.round(U),R/1e3)?U=Math.round(U):U=Math.ceil(U));const $=Math.max(C_(R),C_(L));A=Math.pow(10,Ge(h)?$:h),L=Math.round(L*A)/A,P=Math.round(P*A)/A;let ee=0;for(k&&(b&&L!==l?(n.push({value:l}),L<l&&ee++,Pr(Math.round((L+ee*R)*A)/A,l,L2(l,O,t))&&ee++):L<l&&ee++);ee<U;++ee){const re=Math.round((L+ee*R)*A)/A;if(C&&re>u)break;n.push({value:re})}return C&&b&&P!==u?n.length&&Pr(n[n.length-1].value,u,L2(u,O,t))?n[n.length-1].value=u:n.push({value:u}):(!C||P===u)&&n.push({value:P}),n}function L2(t,e,{horizontal:n,minRotation:s}){const a=Us(s),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*e*(""+t).length;return Math.min(e/o,l)}class Oh extends Ir{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const l=h=>a=n?a:h,u=h=>o=s?o:h;if(e){const h=Cs(a),m=Cs(o);h<0&&m<0?u(0):h>0&&m>0&&l(0)}if(a===o){let h=o===0?1:Math.abs(o*.05);u(o+h),e||l(a-h)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=KO(a,o);return e.bounds==="ticks"&&dj(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-n)/Math.max(e.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return pu(e,this.chart.options.locale,this.options.ticks.format)}}class xu extends Oh{static id="linear";static defaults={ticks:{callback:tf.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Rt(e)?e:0,this.max=Rt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Us(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const tu=t=>Math.floor(Va(t)),Tr=(t,e)=>Math.pow(10,tu(t)+e);function P2(t){return t/Math.pow(10,tu(t))===1}function z2(t,e,n){const s=Math.pow(10,n),a=Math.floor(t/s);return Math.ceil(e/s)-a}function ZO(t,e){const n=e-t;let s=tu(n);for(;z2(t,e,s)>10;)s++;for(;z2(t,e,s)<10;)s--;return Math.min(s,tu(t))}function QO(t,{min:e,max:n}){e=is(t.min,e);const s=[],a=tu(e);let o=ZO(e,n),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),h=a>o?Math.pow(10,a):0,m=Math.round((e-h)*l)/l,p=Math.floor((e-h)/u/10)*u*10;let x=Math.floor((m-p)/Math.pow(10,o)),b=is(t.min,Math.round((h+p+x*Math.pow(10,o))*l)/l);for(;b<n;)s.push({value:b,major:P2(b),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(o++,x=2,l=o>=0?1:l),b=Math.round((h+p+x*Math.pow(10,o))*l)/l;const v=is(t.max,b);return s.push({value:v,major:P2(v),significand:x}),s}class JO extends Ir{static id="logarithmic";static defaults={ticks:{callback:tf.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Oh.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return Rt(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Rt(e)?Math.max(0,e):null,this.max=Rt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Rt(this._userMin)&&(this.min=e===Tr(this.min,0)?Tr(this.min,-1):Tr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,a=this.max;const o=u=>s=e?s:u,l=u=>a=n?a:u;s===a&&(s<=0?(o(1),l(10)):(o(Tr(s,-1)),l(Tr(a,1)))),s<=0&&o(Tr(a,-1)),a<=0&&l(Tr(s,1)),this.min=s,this.max=a}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=QO(n,this);return e.bounds==="ticks"&&dj(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":pu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Va(e),this._valueRange=Va(this.max)-Va(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Va(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function Xg(t){const e=t.ticks;if(e.display&&t.display){const n=En(e.backdropPadding);return Re(e.font&&e.font.size,Tt.font.size)+n.height}return 0}function eR(t,e,n){return n=kt(n)?n:[n],{w:rA(t,e.string,n),h:n.length*e.lineHeight}}function B2(t,e,n,s,a){return t===s||t===a?{start:e-n/2,end:e+n/2}:t<s||t>a?{start:e-n,end:e}:{start:e,end:e+n}}function tR(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],a=[],o=t._pointLabels.length,l=t.options.pointLabels,u=l.centerPointLabels?st/o:0;for(let h=0;h<o;h++){const m=l.setContext(t.getPointLabelContext(h));a[h]=m.padding;const p=t.getPointPosition(h,t.drawingArea+a[h],u),x=an(m.font),b=eR(t.ctx,x,t._pointLabels[h]);s[h]=b;const v=Tn(t.getIndexAngle(h)+u),w=Math.round(Ux(v)),S=B2(w,p.x,b.w,0,180),j=B2(w,p.y,b.h,90,270);nR(n,e,v,S,j)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=aR(t,s,a)}function nR(t,e,n,s,a){const o=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let u=0,h=0;s.start<e.l?(u=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-u)):s.end>e.r&&(u=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+u)),a.start<e.t?(h=(e.t-a.start)/l,t.t=Math.min(t.t,e.t-h)):a.end>e.b&&(h=(a.end-e.b)/l,t.b=Math.max(t.b,e.b+h))}function sR(t,e,n){const s=t.drawingArea,{extra:a,additionalAngle:o,padding:l,size:u}=n,h=t.getPointPosition(e,s+a+l,o),m=Math.round(Ux(Tn(h.angle+Yt))),p=lR(h.y,u.h,m),x=rR(m),b=oR(h.x,u.w,x);return{visible:!0,x:h.x,y:p,textAlign:x,left:b,top:p,right:b+u.w,bottom:p+u.h}}function iR(t,e){if(!e)return!0;const{left:n,top:s,right:a,bottom:o}=t;return!(oi({x:n,y:s},e)||oi({x:n,y:o},e)||oi({x:a,y:s},e)||oi({x:a,y:o},e))}function aR(t,e,n){const s=[],a=t._pointLabels.length,o=t.options,{centerPointLabels:l,display:u}=o.pointLabels,h={extra:Xg(o)/2,additionalAngle:l?st/a:0};let m;for(let p=0;p<a;p++){h.padding=n[p],h.size=e[p];const x=sR(t,p,h);s.push(x),u==="auto"&&(x.visible=iR(x,m),x.visible&&(m=x))}return s}function rR(t){return t===0||t===180?"center":t<180?"left":"right"}function oR(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function lR(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function cR(t,e,n){const{left:s,top:a,right:o,bottom:l}=n,{backdropColor:u}=e;if(!Ge(u)){const h=zr(e.borderRadius),m=En(e.backdropPadding);t.fillStyle=u;const p=s-m.left,x=a-m.top,b=o-s+m.width,v=l-a+m.height;Object.values(h).some(w=>w!==0)?(t.beginPath(),Jc(t,{x:p,y:x,w:b,h:v,radius:h}),t.fill()):t.fillRect(p,x,b,v)}}function uR(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let a=e-1;a>=0;a--){const o=t._pointLabelItems[a];if(!o.visible)continue;const l=s.setContext(t.getPointLabelContext(a));cR(n,l,o);const u=an(l.font),{x:h,y:m,textAlign:p}=o;Ur(n,t._pointLabels[a],h,m+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function oN(t,e,n,s){const{ctx:a}=t;if(n)a.arc(t.xCenter,t.yCenter,e,0,vt);else{let o=t.getPointPosition(0,e);a.moveTo(o.x,o.y);for(let l=1;l<s;l++)o=t.getPointPosition(l,e),a.lineTo(o.x,o.y)}}function dR(t,e,n,s,a){const o=t.ctx,l=e.circular,{color:u,lineWidth:h}=e;!l&&!s||!u||!h||n<0||(o.save(),o.strokeStyle=u,o.lineWidth=h,o.setLineDash(a.dash||[]),o.lineDashOffset=a.dashOffset,o.beginPath(),oN(t,n,l,s),o.closePath(),o.stroke(),o.restore())}function hR(t,e,n){return er(t,{label:n,index:e,type:"pointLabel"})}class lN extends Oh{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=En(Xg(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Rt(e)&&!isNaN(e)?e:0,this.max=Rt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Xg(this.options))}generateTickLabels(e){Oh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const a=Oe(this.options.pointLabels.callback,[n,s],this);return a||a===0?a:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?tR(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,a){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,a))}getIndexAngle(e){const n=vt/(this._pointLabels.length||1),s=this.options.startAngle||0;return Tn(e*n+Us(s))}getDistanceFromCenterForValue(e){if(Ge(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ge(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return hR(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const a=this.getIndexAngle(e)-Yt+s;return{x:Math.cos(a)*n+this.xCenter,y:Math.sin(a)*n+this.yCenter,angle:a}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:a,bottom:o}=this._pointLabelItems[e];return{left:n,top:s,right:a,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),oN(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:a,border:o}=n,l=this._pointLabels.length;let u,h,m;if(n.pointLabels.display&&uR(this,l),a.display&&this.ticks.forEach((p,x)=>{if(x!==0||x===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const b=this.getContext(x),v=a.setContext(b),w=o.setContext(b);dR(this,v,h,l,w)}}),s.display){for(e.save(),u=l-1;u>=0;u--){const p=s.setContext(this.getPointLabelContext(u)),{color:x,lineWidth:b}=p;!b||!x||(e.lineWidth=b,e.strokeStyle=x,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),m=this.getPointPosition(u,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(m.x,m.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const a=this.getIndexAngle(0);let o,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,h)=>{if(h===0&&this.min>=0&&!n.reverse)return;const m=s.setContext(this.getContext(h)),p=an(m.font);if(o=this.getDistanceFromCenterForValue(this.ticks[h].value),m.showLabelBackdrop){e.font=p.string,l=e.measureText(u.label).width,e.fillStyle=m.backdropColor;const x=En(m.backdropPadding);e.fillRect(-l/2-x.left,-o-p.size/2-x.top,l+x.width,p.size+x.height)}Ur(e,u.label,0,-o,p,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),e.restore()}drawTitle(){}}const uf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qn=Object.keys(uf);function V2(t,e){return t-e}function F2(t,e){if(Ge(e))return null;const n=t._adapter,{parser:s,round:a,isoWeekday:o}=t._parseOpts;let l=e;return typeof s=="function"&&(l=s(l)),Rt(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(Zo(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function H2(t,e,n,s){const a=qn.length;for(let o=qn.indexOf(t);o<a-1;++o){const l=uf[qn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=s)return qn[o]}return qn[a-1]}function fR(t,e,n,s,a){for(let o=qn.length-1;o>=qn.indexOf(n);o--){const l=qn[o];if(uf[l].common&&t._adapter.diff(a,s,l)>=e-1)return l}return qn[n?qn.indexOf(n):0]}function mR(t){for(let e=qn.indexOf(t)+1,n=qn.length;e<n;++e)if(uf[qn[e]].common)return qn[e]}function U2(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:a}=Yx(n,e),o=n[s]>=e?n[s]:n[a];t[o]=!0}}function pR(t,e,n,s){const a=t._adapter,o=+a.startOf(e[0].value,s),l=e[e.length-1].value;let u,h;for(u=o;u<=l;u=+a.add(u,1,s))h=n[u],h>=0&&(e[h].major=!0);return e}function Y2(t,e,n){const s=[],a={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],a[u]=l,s.push({value:u,major:!1});return o===0||!n?s:pR(t,s,a,n)}class Rh extends Ir{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),a=this._adapter=new Hj._date(e.adapters.date);a.init(n),Lc(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:F2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(m){!l&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=Rt(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=Rt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,u=GE(a,o,l);return this._unit=n.unit||(s.autoSkip?H2(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):fR(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:mR(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Y2(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=un(n,0,l),s=un(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,l=o.unit||H2(o.minUnit,n,s,this._getLabelCapacity(n)),u=Re(a.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,m=Zo(h)||h===!0,p={};let x=n,b,v;if(m&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,m?"day":l),e.diff(s,n,l)>1e5*u)throw new Error(n+" and "+s+" are too far apart with stepSize of "+u+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=x,v=0;b<s;b=+e.add(b,u,l),v++)U2(p,b,w);return(b===s||a.bounds==="ticks"||v===1)&&U2(p,b,w),Object.keys(p).sort(V2).map(S=>+S)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(e,l)}_tickFormatFunction(e,n,s,a){const o=this.options,l=o.ticks.callback;if(l)return Oe(l,[e,n,s],this);const u=o.time.displayFormats,h=this._unit,m=this._majorUnit,p=h&&u[h],x=m&&u[m],b=s[n],v=m&&x&&b&&b.major;return this._adapter.format(e,a||(v?x:p))}generateTickLabels(e){let n,s,a;for(n=0,s=e.length;n<s;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,a=Us(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:s*o+u*l,h:s*l+u*o}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,Y2(this,[e],this._majorUnit),a),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)e.push(F2(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mj(e.sort(V2))}}function Xd(t,e,n){let s=0,a=t.length-1,o,l,u,h;n?(e>=t[s].pos&&e<=t[a].pos&&({lo:s,hi:a}=qi(t,"pos",e)),{pos:o,time:u}=t[s],{pos:l,time:h}=t[a]):(e>=t[s].time&&e<=t[a].time&&({lo:s,hi:a}=qi(t,"time",e)),{time:o,pos:u}=t[s],{time:l,pos:h}=t[a]);const m=l-o;return m?u+(h-u)*(e-o)/m:u}class gR extends Rh{static id="timeseries";static defaults=Rh.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Xd(n,this.min),this._tableRange=Xd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,a=[],o=[];let l,u,h,m,p;for(l=0,u=e.length;l<u;++l)m=e[l],m>=n&&m<=s&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,u=a.length;l<u;++l)p=a[l+1],h=a[l-1],m=a[l],Math.round((p+h)/2)!==m&&o.push({time:m,pos:l/(u-1)});return o}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Xd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Xd(this._table,s*this._tableRange+this._minPos,!0)}}var xR=Object.freeze({__proto__:null,CategoryScale:gu,LinearScale:xu,LogarithmicScale:JO,RadialLinearScale:lN,TimeScale:Rh,TimeSeriesScale:gR});const yR=[N3,tO,qO,xR];Ds.register(...yR);var ag={exports:{}};var W2;function bR(){return W2||(W2=1,(function(t){(function(e,n,s,a){var o=["","webkit","Moz","MS","ms","o"],l=n.createElement("div"),u="function",h=Math.round,m=Math.abs,p=Date.now;function x(T,D,B){return setTimeout(E(T,B),D)}function b(T,D,B){return Array.isArray(T)?(v(T,B[D],B),!0):!1}function v(T,D,B){var X;if(T)if(T.forEach)T.forEach(D,B);else if(T.length!==a)for(X=0;X<T.length;)D.call(B,T[X],X,T),X++;else for(X in T)T.hasOwnProperty(X)&&D.call(B,T[X],X,T)}function w(T,D,B){var X="DEPRECATED METHOD: "+D+`
`+B+` AT 
`;return function(){var le=new Error("get-stack-trace"),ye=le&&le.stack?le.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Fe=e.console&&(e.console.warn||e.console.log);return Fe&&Fe.call(e.console,X,ye),T.apply(this,arguments)}}var S;typeof Object.assign!="function"?S=function(D){if(D===a||D===null)throw new TypeError("Cannot convert undefined or null to object");for(var B=Object(D),X=1;X<arguments.length;X++){var le=arguments[X];if(le!==a&&le!==null)for(var ye in le)le.hasOwnProperty(ye)&&(B[ye]=le[ye])}return B}:S=Object.assign;var j=w(function(D,B,X){for(var le=Object.keys(B),ye=0;ye<le.length;)(!X||X&&D[le[ye]]===a)&&(D[le[ye]]=B[le[ye]]),ye++;return D},"extend","Use `assign`."),k=w(function(D,B){return j(D,B,!0)},"merge","Use `assign`.");function C(T,D,B){var X=D.prototype,le;le=T.prototype=Object.create(X),le.constructor=T,le._super=X,B&&S(le,B)}function E(T,D){return function(){return T.apply(D,arguments)}}function O(T,D){return typeof T==u?T.apply(D&&D[0]||a,D):T}function R(T,D){return T===a?D:T}function A(T,D,B){v($(D),function(X){T.addEventListener(X,B,!1)})}function L(T,D,B){v($(D),function(X){T.removeEventListener(X,B,!1)})}function P(T,D){for(;T;){if(T==D)return!0;T=T.parentNode}return!1}function U(T,D){return T.indexOf(D)>-1}function $(T){return T.trim().split(/\s+/g)}function ee(T,D,B){if(T.indexOf&&!B)return T.indexOf(D);for(var X=0;X<T.length;){if(B&&T[X][B]==D||!B&&T[X]===D)return X;X++}return-1}function re(T){return Array.prototype.slice.call(T,0)}function de(T,D,B){for(var X=[],le=[],ye=0;ye<T.length;){var Fe=T[ye][D];ee(le,Fe)<0&&X.push(T[ye]),le[ye]=Fe,ye++}return X=X.sort(function(nn,qt){return nn[D]>qt[D]}),X}function fe(T,D){for(var B,X,le=D[0].toUpperCase()+D.slice(1),ye=0;ye<o.length;){if(B=o[ye],X=B?B+le:D,X in T)return X;ye++}return a}var be=1;function W(){return be++}function Q(T){var D=T.ownerDocument||T;return D.defaultView||D.parentWindow||e}var ue=/mobile|tablet|ip(ad|hone|od)|android/i,oe="ontouchstart"in e,xe=fe(e,"PointerEvent")!==a,F=oe&&ue.test(navigator.userAgent),Z="touch",ie="pen",z="mouse",J="kinect",ae=25,pe=1,je=2,ke=4,ut=8,dn=1,ge=2,Qe=4,dt=8,Rn=16,Pt=ge|Qe,Be=dt|Rn,Jt=Pt|Be,aa=["x","y"],Os=["clientX","clientY"];function en(T,D){var B=this;this.manager=T,this.callback=D,this.element=T.element,this.target=T.options.inputTarget,this.domHandler=function(X){O(T.options.enable,[T])&&B.handler(X)},this.init()}en.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(Q(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&L(this.element,this.evEl,this.domHandler),this.evTarget&&L(this.target,this.evTarget,this.domHandler),this.evWin&&L(Q(this.element),this.evWin,this.domHandler)}};function ls(T){var D,B=T.options.inputClass;return B?D=B:xe?D=fn:F?D=zt:oe?D=xi:D=$s,new D(T,pl)}function pl(T,D,B){var X=B.pointers.length,le=B.changedPointers.length,ye=D&pe&&X-le===0,Fe=D&(ke|ut)&&X-le===0;B.isFirst=!!ye,B.isFinal=!!Fe,ye&&(T.session={}),B.eventType=D,on(T,B),T.emit("hammer.input",B),T.recognize(B),T.session.prevInput=B}function on(T,D){var B=T.session,X=D.pointers,le=X.length;B.firstInput||(B.firstInput=Ln(D)),le>1&&!B.firstMultiple?B.firstMultiple=Ln(D):le===1&&(B.firstMultiple=!1);var ye=B.firstInput,Fe=B.firstMultiple,It=Fe?Fe.center:ye.center,nn=D.center=pi(X);D.timeStamp=p(),D.deltaTime=D.timeStamp-ye.timeStamp,D.angle=oa(It,nn),D.distance=Gs(It,nn),ra(B,D),D.offsetDirection=cs(D.deltaX,D.deltaY);var qt=$r(D.deltaTime,D.deltaX,D.deltaY);D.overallVelocityX=qt.x,D.overallVelocityY=qt.y,D.overallVelocity=m(qt.x)>m(qt.y)?qt.x:qt.y,D.scale=Fe?hn(Fe.pointers,X):1,D.rotation=Fe?Xs(Fe.pointers,X):0,D.maxPointers=B.prevInput?D.pointers.length>B.prevInput.maxPointers?D.pointers.length:B.prevInput.maxPointers:D.pointers.length,sr(B,D);var Gt=T.element;P(D.srcEvent.target,Gt)&&(Gt=D.srcEvent.target),D.target=Gt}function ra(T,D){var B=D.center,X=T.offsetDelta||{},le=T.prevDelta||{},ye=T.prevInput||{};(D.eventType===pe||ye.eventType===ke)&&(le=T.prevDelta={x:ye.deltaX||0,y:ye.deltaY||0},X=T.offsetDelta={x:B.x,y:B.y}),D.deltaX=le.x+(B.x-X.x),D.deltaY=le.y+(B.y-X.y)}function sr(T,D){var B=T.lastInterval||D,X=D.timeStamp-B.timeStamp,le,ye,Fe,It;if(D.eventType!=ut&&(X>ae||B.velocity===a)){var nn=D.deltaX-B.deltaX,qt=D.deltaY-B.deltaY,Gt=$r(X,nn,qt);ye=Gt.x,Fe=Gt.y,le=m(Gt.x)>m(Gt.y)?Gt.x:Gt.y,It=cs(nn,qt),T.lastInterval=D}else le=B.velocity,ye=B.velocityX,Fe=B.velocityY,It=B.direction;D.velocity=le,D.velocityX=ye,D.velocityY=Fe,D.direction=It}function Ln(T){for(var D=[],B=0;B<T.pointers.length;)D[B]={clientX:h(T.pointers[B].clientX),clientY:h(T.pointers[B].clientY)},B++;return{timeStamp:p(),pointers:D,center:pi(D),deltaX:T.deltaX,deltaY:T.deltaY}}function pi(T){var D=T.length;if(D===1)return{x:h(T[0].clientX),y:h(T[0].clientY)};for(var B=0,X=0,le=0;le<D;)B+=T[le].clientX,X+=T[le].clientY,le++;return{x:h(B/D),y:h(X/D)}}function $r(T,D,B){return{x:D/T||0,y:B/T||0}}function cs(T,D){return T===D?dn:m(T)>=m(D)?T<0?ge:Qe:D<0?dt:Rn}function Gs(T,D,B){B||(B=aa);var X=D[B[0]]-T[B[0]],le=D[B[1]]-T[B[1]];return Math.sqrt(X*X+le*le)}function oa(T,D,B){B||(B=aa);var X=D[B[0]]-T[B[0]],le=D[B[1]]-T[B[1]];return Math.atan2(le,X)*180/Math.PI}function Xs(T,D){return oa(D[1],D[0],Os)+oa(T[1],T[0],Os)}function hn(T,D){return Gs(D[0],D[1],Os)/Gs(T[0],T[1],Os)}var Gn={mousedown:pe,mousemove:je,mouseup:ke},tn="mousedown",Kr="mousemove mouseup";function $s(){this.evEl=tn,this.evWin=Kr,this.pressed=!1,en.apply(this,arguments)}C($s,en,{handler:function(D){var B=Gn[D.type];B&pe&&D.button===0&&(this.pressed=!0),B&je&&D.which!==1&&(B=ke),this.pressed&&(B&ke&&(this.pressed=!1),this.callback(this.manager,B,{pointers:[D],changedPointers:[D],pointerType:z,srcEvent:D}))}});var me={pointerdown:pe,pointermove:je,pointerup:ke,pointercancel:ut,pointerout:ut},Ve={2:Z,3:ie,4:z,5:J},ht="pointerdown",Dt="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(ht="MSPointerDown",Dt="MSPointerMove MSPointerUp MSPointerCancel");function fn(){this.evEl=ht,this.evWin=Dt,en.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}C(fn,en,{handler:function(D){var B=this.store,X=!1,le=D.type.toLowerCase().replace("ms",""),ye=me[le],Fe=Ve[D.pointerType]||D.pointerType,It=Fe==Z,nn=ee(B,D.pointerId,"pointerId");ye&pe&&(D.button===0||It)?nn<0&&(B.push(D),nn=B.length-1):ye&(ke|ut)&&(X=!0),!(nn<0)&&(B[nn]=D,this.callback(this.manager,ye,{pointers:B,changedPointers:[D],pointerType:Fe,srcEvent:D}),X&&B.splice(nn,1))}});var ln={touchstart:pe,touchmove:je,touchend:ke,touchcancel:ut},mn="touchstart",us="touchstart touchmove touchend touchcancel";function Xn(){this.evTarget=mn,this.evWin=us,this.started=!1,en.apply(this,arguments)}C(Xn,en,{handler:function(D){var B=ln[D.type];if(B===pe&&(this.started=!0),!!this.started){var X=la.call(this,D,B);B&(ke|ut)&&X[0].length-X[1].length===0&&(this.started=!1),this.callback(this.manager,B,{pointers:X[0],changedPointers:X[1],pointerType:Z,srcEvent:D})}}});function la(T,D){var B=re(T.touches),X=re(T.changedTouches);return D&(ke|ut)&&(B=de(B.concat(X),"identifier")),[B,X]}var Ne={touchstart:pe,touchmove:je,touchend:ke,touchcancel:ut},$n="touchstart touchmove touchend touchcancel";function zt(){this.evTarget=$n,this.targetIds={},en.apply(this,arguments)}C(zt,en,{handler:function(D){var B=Ne[D.type],X=Ks.call(this,D,B);X&&this.callback(this.manager,B,{pointers:X[0],changedPointers:X[1],pointerType:Z,srcEvent:D})}});function Ks(T,D){var B=re(T.touches),X=this.targetIds;if(D&(pe|je)&&B.length===1)return X[B[0].identifier]=!0,[B,B];var le,ye,Fe=re(T.changedTouches),It=[],nn=this.target;if(ye=B.filter(function(qt){return P(qt.target,nn)}),D===pe)for(le=0;le<ye.length;)X[ye[le].identifier]=!0,le++;for(le=0;le<Fe.length;)X[Fe[le].identifier]&&It.push(Fe[le]),D&(ke|ut)&&delete X[Fe[le].identifier],le++;if(It.length)return[de(ye.concat(It),"identifier"),It]}var Zr=2500,gi=25;function xi(){en.apply(this,arguments);var T=E(this.handler,this);this.touch=new zt(this.manager,T),this.mouse=new $s(this.manager,T),this.primaryTouch=null,this.lastTouches=[]}C(xi,en,{handler:function(D,B,X){var le=X.pointerType==Z,ye=X.pointerType==z;if(!(ye&&X.sourceCapabilities&&X.sourceCapabilities.firesTouchEvents)){if(le)ku.call(this,B,X);else if(ye&&Zs.call(this,X))return;this.callback(D,B,X)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function ku(T,D){T&pe?(this.primaryTouch=D.changedPointers[0].identifier,gl.call(this,D)):T&(ke|ut)&&gl.call(this,D)}function gl(T){var D=T.changedPointers[0];if(D.identifier===this.primaryTouch){var B={x:D.clientX,y:D.clientY};this.lastTouches.push(B);var X=this.lastTouches,le=function(){var ye=X.indexOf(B);ye>-1&&X.splice(ye,1)};setTimeout(le,Zr)}}function Zs(T){for(var D=T.srcEvent.clientX,B=T.srcEvent.clientY,X=0;X<this.lastTouches.length;X++){var le=this.lastTouches[X],ye=Math.abs(D-le.x),Fe=Math.abs(B-le.y);if(ye<=gi&&Fe<=gi)return!0}return!1}var Wt=fe(l.style,"touchAction"),pn=Wt!==a,yi="compute",Qr="auto",xl="manipulation",bi="none",ca="pan-x",Rs="pan-y",ua=ir();function Qs(T,D){this.manager=T,this.set(D)}Qs.prototype={set:function(T){T==yi&&(T=this.compute()),pn&&this.manager.element.style&&ua[T]&&(this.manager.element.style[Wt]=T),this.actions=T.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var T=[];return v(this.manager.recognizers,function(D){O(D.options.enable,[D])&&(T=T.concat(D.getTouchAction()))}),da(T.join(" "))},preventDefaults:function(T){var D=T.srcEvent,B=T.offsetDirection;if(this.manager.session.prevented){D.preventDefault();return}var X=this.actions,le=U(X,bi)&&!ua[bi],ye=U(X,Rs)&&!ua[Rs],Fe=U(X,ca)&&!ua[ca];if(le){var It=T.pointers.length===1,nn=T.distance<2,qt=T.deltaTime<250;if(It&&nn&&qt)return}if(!(Fe&&ye)&&(le||ye&&B&Pt||Fe&&B&Be))return this.preventSrc(D)},preventSrc:function(T){this.manager.session.prevented=!0,T.preventDefault()}};function da(T){if(U(T,bi))return bi;var D=U(T,ca),B=U(T,Rs);return D&&B?bi:D||B?D?ca:Rs:U(T,xl)?xl:Qr}function ir(){if(!pn)return!1;var T={},D=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(B){T[B]=D?e.CSS.supports("touch-action",B):!0}),T}var Ls=1,rt=2,vi=4,Ps=8,gn=Ps,ds=16,hs=32;function fs(T){this.options=S({},this.defaults,T||{}),this.id=W(),this.manager=null,this.options.enable=R(this.options.enable,!0),this.state=Ls,this.simultaneous={},this.requireFail=[]}fs.prototype={defaults:{},set:function(T){return S(this.options,T),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(T){if(b(T,"recognizeWith",this))return this;var D=this.simultaneous;return T=_i(T,this),D[T.id]||(D[T.id]=T,T.recognizeWith(this)),this},dropRecognizeWith:function(T){return b(T,"dropRecognizeWith",this)?this:(T=_i(T,this),delete this.simultaneous[T.id],this)},requireFailure:function(T){if(b(T,"requireFailure",this))return this;var D=this.requireFail;return T=_i(T,this),ee(D,T)===-1&&(D.push(T),T.requireFailure(this)),this},dropRequireFailure:function(T){if(b(T,"dropRequireFailure",this))return this;T=_i(T,this);var D=ee(this.requireFail,T);return D>-1&&this.requireFail.splice(D,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(T){return!!this.simultaneous[T.id]},emit:function(T){var D=this,B=this.state;function X(le){D.manager.emit(le,T)}B<Ps&&X(D.options.event+yl(B)),X(D.options.event),T.additionalEvent&&X(T.additionalEvent),B>=Ps&&X(D.options.event+yl(B))},tryEmit:function(T){if(this.canEmit())return this.emit(T);this.state=hs},canEmit:function(){for(var T=0;T<this.requireFail.length;){if(!(this.requireFail[T].state&(hs|Ls)))return!1;T++}return!0},recognize:function(T){var D=S({},T);if(!O(this.options.enable,[this,D])){this.reset(),this.state=hs;return}this.state&(gn|ds|hs)&&(this.state=Ls),this.state=this.process(D),this.state&(rt|vi|Ps|ds)&&this.tryEmit(D)},process:function(T){},getTouchAction:function(){},reset:function(){}};function yl(T){return T&ds?"cancel":T&Ps?"end":T&vi?"move":T&rt?"start":""}function Tu(T){return T==Rn?"down":T==dt?"up":T==ge?"left":T==Qe?"right":""}function _i(T,D){var B=D.manager;return B?B.get(T):T}function wn(){fs.apply(this,arguments)}C(wn,fs,{defaults:{pointers:1},attrTest:function(T){var D=this.options.pointers;return D===0||T.pointers.length===D},process:function(T){var D=this.state,B=T.eventType,X=D&(rt|vi),le=this.attrTest(T);return X&&(B&ut||!le)?D|ds:X||le?B&ke?D|Ps:D&rt?D|vi:rt:hs}});function Pn(){wn.apply(this,arguments),this.pX=null,this.pY=null}C(Pn,wn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Jt},getTouchAction:function(){var T=this.options.direction,D=[];return T&Pt&&D.push(Rs),T&Be&&D.push(ca),D},directionTest:function(T){var D=this.options,B=!0,X=T.distance,le=T.direction,ye=T.deltaX,Fe=T.deltaY;return le&D.direction||(D.direction&Pt?(le=ye===0?dn:ye<0?ge:Qe,B=ye!=this.pX,X=Math.abs(T.deltaX)):(le=Fe===0?dn:Fe<0?dt:Rn,B=Fe!=this.pY,X=Math.abs(T.deltaY))),T.direction=le,B&&X>D.threshold&&le&D.direction},attrTest:function(T){return wn.prototype.attrTest.call(this,T)&&(this.state&rt||!(this.state&rt)&&this.directionTest(T))},emit:function(T){this.pX=T.deltaX,this.pY=T.deltaY;var D=Tu(T.direction);D&&(T.additionalEvent=this.options.event+D),this._super.emit.call(this,T)}});function Sn(){wn.apply(this,arguments)}C(Sn,wn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bi]},attrTest:function(T){return this._super.attrTest.call(this,T)&&(Math.abs(T.scale-1)>this.options.threshold||this.state&rt)},emit:function(T){if(T.scale!==1){var D=T.scale<1?"in":"out";T.additionalEvent=this.options.event+D}this._super.emit.call(this,T)}});function Jr(){fs.apply(this,arguments),this._timer=null,this._input=null}C(Jr,fs,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Qr]},process:function(T){var D=this.options,B=T.pointers.length===D.pointers,X=T.distance<D.threshold,le=T.deltaTime>D.time;if(this._input=T,!X||!B||T.eventType&(ke|ut)&&!le)this.reset();else if(T.eventType&pe)this.reset(),this._timer=x(function(){this.state=gn,this.tryEmit()},D.time,this);else if(T.eventType&ke)return gn;return hs},reset:function(){clearTimeout(this._timer)},emit:function(T){this.state===gn&&(T&&T.eventType&ke?this.manager.emit(this.options.event+"up",T):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function bl(){wn.apply(this,arguments)}C(bl,wn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bi]},attrTest:function(T){return this._super.attrTest.call(this,T)&&(Math.abs(T.rotation)>this.options.threshold||this.state&rt)}});function ar(){wn.apply(this,arguments)}C(ar,wn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Pt|Be,pointers:1},getTouchAction:function(){return Pn.prototype.getTouchAction.call(this)},attrTest:function(T){var D=this.options.direction,B;return D&(Pt|Be)?B=T.overallVelocity:D&Pt?B=T.overallVelocityX:D&Be&&(B=T.overallVelocityY),this._super.attrTest.call(this,T)&&D&T.offsetDirection&&T.distance>this.options.threshold&&T.maxPointers==this.options.pointers&&m(B)>this.options.velocity&&T.eventType&ke},emit:function(T){var D=Tu(T.offsetDirection);D&&this.manager.emit(this.options.event+D,T),this.manager.emit(this.options.event,T)}});function rr(){fs.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}C(rr,fs,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[xl]},process:function(T){var D=this.options,B=T.pointers.length===D.pointers,X=T.distance<D.threshold,le=T.deltaTime<D.time;if(this.reset(),T.eventType&pe&&this.count===0)return this.failTimeout();if(X&&le&&B){if(T.eventType!=ke)return this.failTimeout();var ye=this.pTime?T.timeStamp-this.pTime<D.interval:!0,Fe=!this.pCenter||Gs(this.pCenter,T.center)<D.posThreshold;this.pTime=T.timeStamp,this.pCenter=T.center,!Fe||!ye?this.count=1:this.count+=1,this._input=T;var It=this.count%D.taps;if(It===0)return this.hasRequireFailures()?(this._timer=x(function(){this.state=gn,this.tryEmit()},D.interval,this),rt):gn}return hs},failTimeout:function(){return this._timer=x(function(){this.state=hs},this.options.interval,this),hs},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==gn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Kn(T,D){return D=D||{},D.recognizers=R(D.recognizers,Kn.defaults.preset),new or(T,D)}Kn.VERSION="2.0.7",Kn.defaults={domEvents:!1,touchAction:yi,enable:!0,inputTarget:null,inputClass:null,preset:[[bl,{enable:!1}],[Sn,{enable:!1},["rotate"]],[ar,{direction:Pt}],[Pn,{direction:Pt},["swipe"]],[rr],[rr,{event:"doubletap",taps:2},["tap"]],[Jr]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Af=1,An=2;function or(T,D){this.options=S({},Kn.defaults,D||{}),this.options.inputTarget=this.options.inputTarget||T,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=T,this.input=ls(this),this.touchAction=new Qs(this,this.options.touchAction),vl(this,!0),v(this.options.recognizers,function(B){var X=this.add(new B[0](B[1]));B[2]&&X.recognizeWith(B[2]),B[3]&&X.requireFailure(B[3])},this)}or.prototype={set:function(T){return S(this.options,T),T.touchAction&&this.touchAction.update(),T.inputTarget&&(this.input.destroy(),this.input.target=T.inputTarget,this.input.init()),this},stop:function(T){this.session.stopped=T?An:Af},recognize:function(T){var D=this.session;if(!D.stopped){this.touchAction.preventDefaults(T);var B,X=this.recognizers,le=D.curRecognizer;(!le||le&&le.state&gn)&&(le=D.curRecognizer=null);for(var ye=0;ye<X.length;)B=X[ye],D.stopped!==An&&(!le||B==le||B.canRecognizeWith(le))?B.recognize(T):B.reset(),!le&&B.state&(rt|vi|Ps)&&(le=D.curRecognizer=B),ye++}},get:function(T){if(T instanceof fs)return T;for(var D=this.recognizers,B=0;B<D.length;B++)if(D[B].options.event==T)return D[B];return null},add:function(T){if(b(T,"add",this))return this;var D=this.get(T.options.event);return D&&this.remove(D),this.recognizers.push(T),T.manager=this,this.touchAction.update(),T},remove:function(T){if(b(T,"remove",this))return this;if(T=this.get(T),T){var D=this.recognizers,B=ee(D,T);B!==-1&&(D.splice(B,1),this.touchAction.update())}return this},on:function(T,D){if(T!==a&&D!==a){var B=this.handlers;return v($(T),function(X){B[X]=B[X]||[],B[X].push(D)}),this}},off:function(T,D){if(T!==a){var B=this.handlers;return v($(T),function(X){D?B[X]&&B[X].splice(ee(B[X],D),1):delete B[X]}),this}},emit:function(T,D){this.options.domEvents&&_l(T,D);var B=this.handlers[T]&&this.handlers[T].slice();if(!(!B||!B.length)){D.type=T,D.preventDefault=function(){D.srcEvent.preventDefault()};for(var X=0;X<B.length;)B[X](D),X++}},destroy:function(){this.element&&vl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function vl(T,D){var B=T.element;if(B.style){var X;v(T.options.cssProps,function(le,ye){X=fe(B.style,ye),D?(T.oldCssProps[X]=B.style[X],B.style[X]=le):B.style[X]=T.oldCssProps[X]||""}),D||(T.oldCssProps={})}}function _l(T,D){var B=n.createEvent("Event");B.initEvent(T,!0,!0),B.gesture=D,D.target.dispatchEvent(B)}S(Kn,{INPUT_START:pe,INPUT_MOVE:je,INPUT_END:ke,INPUT_CANCEL:ut,STATE_POSSIBLE:Ls,STATE_BEGAN:rt,STATE_CHANGED:vi,STATE_ENDED:Ps,STATE_RECOGNIZED:gn,STATE_CANCELLED:ds,STATE_FAILED:hs,DIRECTION_NONE:dn,DIRECTION_LEFT:ge,DIRECTION_RIGHT:Qe,DIRECTION_UP:dt,DIRECTION_DOWN:Rn,DIRECTION_HORIZONTAL:Pt,DIRECTION_VERTICAL:Be,DIRECTION_ALL:Jt,Manager:or,Input:en,TouchAction:Qs,TouchInput:zt,MouseInput:$s,PointerEventInput:fn,TouchMouseInput:xi,SingleTouchInput:Xn,Recognizer:fs,AttrRecognizer:wn,Tap:rr,Pan:Pn,Swipe:ar,Pinch:Sn,Rotate:bl,Press:Jr,on:A,off:L,each:v,merge:k,extend:j,assign:S,inherit:C,bindFn:E,prefixed:fe});var ha=typeof e<"u"?e:typeof self<"u"?self:{};ha.Hammer=Kn,t.exports?t.exports=Kn:e[s]=Kn})(window,document,"Hammer")})(ag)),ag.exports}var vR=bR();const Bc=Ex(vR);const nu=t=>t&&t.enabled&&t.modifierKey,cN=(t,e)=>t&&e[t+"Key"],n0=(t,e)=>t&&!e[t+"Key"];function Ka(t,e,n){return t===void 0?!0:typeof t=="string"?t.indexOf(e)!==-1:typeof t=="function"?t({chart:n}).indexOf(e)!==-1:!1}function rg(t,e){return typeof t=="function"&&(t=t({chart:e})),typeof t=="string"?{x:t.indexOf("x")!==-1,y:t.indexOf("y")!==-1}:{x:!1,y:!1}}function _R(t,e){let n;return function(){return clearTimeout(n),n=setTimeout(t,e),e}}function wR({x:t,y:e},n){const s=n.scales,a=Object.keys(s);for(let o=0;o<a.length;o++){const l=s[a[o]];if(e>=l.top&&e<=l.bottom&&t>=l.left&&t<=l.right)return l}return null}function uN(t,e,n){const{mode:s="xy",scaleMode:a,overScaleMode:o}=t||{},l=wR(e,n),u=rg(s,n),h=rg(a,n);if(o){const p=rg(o,n);for(const x of["x","y"])p[x]&&(h[x]=u[x],u[x]=!1)}if(l&&h[l.axis])return[l];const m=[];return qe(n.scales,function(p){u[p.axis]&&m.push(p)}),m}const $g=new WeakMap;function Ct(t){let e=$g.get(t);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},$g.set(t,e)),e}function SR(t){$g.delete(t)}function dN(t,e,n,s){const a=Math.max(0,Math.min(1,(t-e)/n||0)),o=1-a;return{min:s*a,max:s*o}}function hN(t,e){const n=t.isHorizontal()?e.x:e.y;return t.getValueForPixel(n)}function fN(t,e,n){const s=t.max-t.min,a=s*(e-1),o=hN(t,n);return dN(o,t.min,s,a)}function jR(t,e,n){const s=hN(t,n);if(s===void 0)return{min:t.min,max:t.max};const a=Math.log10(t.min),o=Math.log10(t.max),l=Math.log10(s),u=o-a,h=u*(e-1),m=dN(l,a,u,h);return{min:Math.pow(10,a+m.min),max:Math.pow(10,o-m.max)}}function NR(t,e){return e&&(e[t.id]||e[t.axis])||{}}function I2(t,e,n,s,a){let o=n[s];if(o==="original"){const l=t.originalScaleLimits[e.id][s];o=Re(l.options,l.scale)}return Re(o,a)}function kR(t,e,n){const s=t.getValueForPixel(e),a=t.getValueForPixel(n);return{min:Math.min(s,a),max:Math.max(s,a)}}function TR(t,{min:e,max:n,minLimit:s,maxLimit:a},o){const l=(t-n+e)/2;e-=l,n+=l;const u=o.min.options??o.min.scale,h=o.max.options??o.max.scale,m=t/1e6;return Pr(e,u,m)&&(e=u),Pr(n,h,m)&&(n=h),e<s?(e=s,n=Math.min(s+t,a)):n>a&&(n=a,e=Math.max(a-t,s)),{min:e,max:n}}function qr(t,{min:e,max:n},s,a=!1){const o=Ct(t.chart),{options:l}=t,u=NR(t,s),{minRange:h=0}=u,m=I2(o,t,u,"min",-1/0),p=I2(o,t,u,"max",1/0);if(a==="pan"&&(e<m||n>p))return!0;const x=t.max-t.min,b=a?Math.max(n-e,h):x;if(a&&b===h&&x<=h)return!0;const v=TR(b,{min:e,max:n,minLimit:m,maxLimit:p},o.originalScaleLimits[t.id]);return l.min=v.min,l.max=v.max,o.updatedScaleLimits[t.id]=v,t.parse(v.min)!==t.min||t.parse(v.max)!==t.max}function MR(t,e,n,s){const a=fN(t,e,n),o={min:t.min+a.min,max:t.max-a.max};return qr(t,o,s,!0)}function CR(t,e,n,s){const a=jR(t,e,n);return qr(t,a,s,!0)}function DR(t,e,n,s){qr(t,kR(t,e,n),s,!0)}const q2=t=>t===0||isNaN(t)?0:t<0?Math.min(Math.round(t),-1):Math.max(Math.round(t),1);function ER(t){const n=t.getLabels().length-1;t.min>0&&(t.min-=1),t.max<n&&(t.max+=1)}function AR(t,e,n,s){const a=fN(t,e,n);t.min===t.max&&e<1&&ER(t);const o={min:t.min+q2(a.min),max:t.max-q2(a.max)};return qr(t,o,s,!0)}function OR(t){return t.isHorizontal()?t.width:t.height}function RR(t,e,n){const a=t.getLabels().length-1;let{min:o,max:l}=t;const u=Math.max(l-o,1),h=Math.round(OR(t)/Math.max(u,10)),m=Math.round(Math.abs(e/h));let p;return e<-h?(l=Math.min(l+m,a),o=u===1?l:l-u,p=l===a):e>h&&(o=Math.max(0,o-m),l=u===1?o:o+u,p=o===0),qr(t,{min:o,max:l},n)||p}const LR={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function mN(t,e,n,s=!1){const{min:a,max:o,options:l}=t,u=l.time&&l.time.round,h=LR[u]||0,m=t.getValueForPixel(t.getPixelForValue(a+h)-e),p=t.getValueForPixel(t.getPixelForValue(o+h)-e);return isNaN(m)||isNaN(p)?!0:qr(t,{min:m,max:p},n,s?"pan":!1)}function G2(t,e,n){return mN(t,e,n,!0)}const Kg={category:AR,default:MR,logarithmic:CR},Zg={default:DR},Qg={category:RR,default:mN,logarithmic:G2,timeseries:G2};function PR(t,e,n){const{id:s,options:{min:a,max:o}}=t;if(!e[s]||!n[s])return!0;const l=n[s];return l.min!==a||l.max!==o}function X2(t,e){qe(t,(n,s)=>{e[s]||delete t[s]})}function ll(t,e){const{scales:n}=t,{originalScaleLimits:s,updatedScaleLimits:a}=e;return qe(n,function(o){PR(o,s,a)&&(s[o.id]={min:{scale:o.min,options:o.options.min},max:{scale:o.max,options:o.options.max}})}),X2(s,n),X2(a,n),s}function $2(t,e,n,s){const a=Kg[t.type]||Kg.default;Oe(a,[t,e,n,s])}function K2(t,e,n,s){const a=Zg[t.type]||Zg.default;Oe(a,[t,e,n,s])}function zR(t){const e=t.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function s0(t,e,n="none",s="api"){const{x:a=1,y:o=1,focalPoint:l=zR(t)}=typeof e=="number"?{x:e,y:e}:e,u=Ct(t),{options:{limits:h,zoom:m}}=u;ll(t,u);const p=a!==1,x=o!==1,b=uN(m,l,t);qe(b||t.scales,function(v){v.isHorizontal()&&p?$2(v,a,l,h):!v.isHorizontal()&&x&&$2(v,o,l,h)}),t.update(n),Oe(m.onZoom,[{chart:t,trigger:s}])}function pN(t,e,n,s="none",a="api"){const o=Ct(t),{options:{limits:l,zoom:u}}=o,{mode:h="xy"}=u;ll(t,o);const m=Ka(h,"x",t),p=Ka(h,"y",t);qe(t.scales,function(x){x.isHorizontal()&&m?K2(x,e.x,n.x,l):!x.isHorizontal()&&p&&K2(x,e.y,n.y,l)}),t.update(s),Oe(u.onZoom,[{chart:t,trigger:a}])}function BR(t,e,n,s="none",a="api"){const o=Ct(t);ll(t,o);const l=t.scales[e];qr(l,n,void 0,!0),t.update(s),Oe(o.options.zoom?.onZoom,[{chart:t,trigger:a}])}function VR(t,e="default"){const n=Ct(t),s=ll(t,n);qe(t.scales,function(a){const o=a.options;s[a.id]?(o.min=s[a.id].min.options,o.max=s[a.id].max.options):(delete o.min,delete o.max),delete n.updatedScaleLimits[a.id]}),t.update(e),Oe(n.options.zoom.onZoomComplete,[{chart:t}])}function FR(t,e){const n=t.originalScaleLimits[e];if(!n)return;const{min:s,max:a}=n;return Re(a.options,a.scale)-Re(s.options,s.scale)}function HR(t){const e=Ct(t);let n=1,s=1;return qe(t.scales,function(a){const o=FR(e,a.id);if(o){const l=Math.round(o/(a.max-a.min)*100)/100;n=Math.min(n,l),s=Math.max(s,l)}}),n<1?n:s}function Z2(t,e,n,s){const{panDelta:a}=s,o=a[t.id]||0;Cs(o)===Cs(e)&&(e+=o);const l=Qg[t.type]||Qg.default;Oe(l,[t,e,n])?a[t.id]=0:a[t.id]=e}function gN(t,e,n,s="none"){const{x:a=0,y:o=0}=typeof e=="number"?{x:e,y:e}:e,l=Ct(t),{options:{pan:u,limits:h}}=l,{onPan:m}=u||{};ll(t,l);const p=a!==0,x=o!==0;qe(n||t.scales,function(b){b.isHorizontal()&&p?Z2(b,a,h,l):!b.isHorizontal()&&x&&Z2(b,o,h,l)}),t.update(s),Oe(m,[{chart:t}])}function xN(t){const e=Ct(t);ll(t,e);const n={};for(const s of Object.keys(t.scales)){const{min:a,max:o}=e.originalScaleLimits[s]||{min:{},max:{}};n[s]={min:a.scale,max:o.scale}}return n}function UR(t){const e=Ct(t),n={};for(const s of Object.keys(t.scales))n[s]=e.updatedScaleLimits[s];return n}function YR(t){const e=xN(t);for(const n of Object.keys(t.scales)){const{min:s,max:a}=e[n];if(s!==void 0&&t.scales[n].min!==s||a!==void 0&&t.scales[n].max!==a)return!0}return!1}function Q2(t){const e=Ct(t);return e.panning||e.dragging}const J2=(t,e,n)=>Math.min(n,Math.max(e,t));function In(t,e){const{handlers:n}=Ct(t),s=n[e];s&&s.target&&(s.target.removeEventListener(e,s),delete n[e])}function Vc(t,e,n,s){const{handlers:a,options:o}=Ct(t),l=a[n];if(l&&l.target===e)return;In(t,n),a[n]=h=>s(t,h,o),a[n].target=e;const u=n==="wheel"?!1:void 0;e.addEventListener(n,a[n],{passive:u})}function WR(t,e){const n=Ct(t);n.dragStart&&(n.dragging=!0,n.dragEnd=e,t.update("none"))}function IR(t,e){const n=Ct(t);!n.dragStart||e.key!=="Escape"||(In(t,"keydown"),n.dragging=!1,n.dragStart=n.dragEnd=null,t.update("none"))}function Jg(t,e){if(t.target!==e.canvas){const n=e.canvas.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}return ai(t,e)}function yN(t,e,n){const{onZoomStart:s,onZoomRejected:a}=n;if(s){const o=Jg(e,t);if(Oe(s,[{chart:t,event:e,point:o}])===!1)return Oe(a,[{chart:t,event:e}]),!1}}function qR(t,e){if(t.legend){const o=ai(e,t);if(oi(o,t.legend))return}const n=Ct(t),{pan:s,zoom:a={}}=n.options;if(e.button!==0||cN(nu(s),e)||n0(nu(a.drag),e))return Oe(a.onZoomRejected,[{chart:t,event:e}]);yN(t,e,a)!==!1&&(n.dragStart=e,Vc(t,t.canvas.ownerDocument,"mousemove",WR),Vc(t,window.document,"keydown",IR))}function GR({begin:t,end:e},n){let s=e.x-t.x,a=e.y-t.y;const o=Math.abs(s/a);o>n?s=Math.sign(s)*Math.abs(a*n):o<n&&(a=Math.sign(a)*Math.abs(s/n)),e.x=t.x+s,e.y=t.y+a}function ew(t,e,n,{min:s,max:a,prop:o}){t[s]=J2(Math.min(n.begin[o],n.end[o]),e[s],e[a]),t[a]=J2(Math.max(n.begin[o],n.end[o]),e[s],e[a])}function XR(t,e,n){const s={begin:Jg(e.dragStart,t),end:Jg(e.dragEnd,t)};if(n){const a=t.chartArea.width/t.chartArea.height;GR(s,a)}return s}function bN(t,e,n,s){const a=Ka(e,"x",t),o=Ka(e,"y",t),{top:l,left:u,right:h,bottom:m,width:p,height:x}=t.chartArea,b={top:l,left:u,right:h,bottom:m},v=XR(t,n,s&&a&&o);a&&ew(b,t.chartArea,v,{min:"left",max:"right",prop:"x"}),o&&ew(b,t.chartArea,v,{min:"top",max:"bottom",prop:"y"});const w=b.right-b.left,S=b.bottom-b.top;return{...b,width:w,height:S,zoomX:a&&w?1+(p-w)/p:1,zoomY:o&&S?1+(x-S)/x:1}}function $R(t,e){const n=Ct(t);if(!n.dragStart)return;In(t,"mousemove");const{mode:s,onZoomComplete:a,drag:{threshold:o=0,maintainAspectRatio:l}}=n.options.zoom,u=bN(t,s,{dragStart:n.dragStart,dragEnd:e},l),h=Ka(s,"x",t)?u.width:0,m=Ka(s,"y",t)?u.height:0,p=Math.sqrt(h*h+m*m);if(n.dragStart=n.dragEnd=null,p<=o){n.dragging=!1,t.update("none");return}pN(t,{x:u.left,y:u.top},{x:u.right,y:u.bottom},"zoom","drag"),n.dragging=!1,n.filterNextClick=!0,Oe(a,[{chart:t}])}function KR(t,e,n){if(n0(nu(n.wheel),e)){Oe(n.onZoomRejected,[{chart:t,event:e}]);return}if(yN(t,e,n)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function ZR(t,e){const{handlers:{onZoomComplete:n},options:{zoom:s}}=Ct(t);if(!KR(t,e,s))return;const a=e.target.getBoundingClientRect(),o=s.wheel.speed,l=e.deltaY>=0?2-1/(1-o):1+o,u={x:l,y:l,focalPoint:{x:e.clientX-a.left,y:e.clientY-a.top}};s0(t,u,"zoom","wheel"),Oe(n,[{chart:t}])}function QR(t,e,n,s){n&&(Ct(t).handlers[e]=_R(()=>Oe(n,[{chart:t}]),s))}function JR(t,e){const n=t.canvas,{wheel:s,drag:a,onZoomComplete:o}=e.zoom;s.enabled?(Vc(t,n,"wheel",ZR),QR(t,"onZoomComplete",o,250)):In(t,"wheel"),a.enabled?(Vc(t,n,"mousedown",qR),Vc(t,n.ownerDocument,"mouseup",$R)):(In(t,"mousedown"),In(t,"mousemove"),In(t,"mouseup"),In(t,"keydown"))}function e6(t){In(t,"mousedown"),In(t,"mousemove"),In(t,"mouseup"),In(t,"wheel"),In(t,"click"),In(t,"keydown")}function t6(t,e){return function(n,s){const{pan:a,zoom:o={}}=e.options;if(!a||!a.enabled)return!1;const l=s&&s.srcEvent;return l&&!e.panning&&s.pointerType==="mouse"&&(n0(nu(a),l)||cN(nu(o.drag),l))?(Oe(a.onPanRejected,[{chart:t,event:s}]),!1):!0}}function n6(t,e){const n=Math.abs(t.clientX-e.clientX),s=Math.abs(t.clientY-e.clientY),a=n/s;let o,l;return a>.3&&a<1.7?o=l=!0:n>s?o=!0:l=!0,{x:o,y:l}}function vN(t,e,n){if(e.scale){const{center:s,pointers:a}=n,o=1/e.scale*n.scale,l=n.target.getBoundingClientRect(),u=n6(a[0],a[1]),h=e.options.zoom.mode,m={x:u.x&&Ka(h,"x",t)?o:1,y:u.y&&Ka(h,"y",t)?o:1,focalPoint:{x:s.x-l.left,y:s.y-l.top}};s0(t,m,"zoom","pinch"),e.scale=n.scale}}function s6(t,e,n){if(e.options.zoom.pinch.enabled){const s=ai(n,t);Oe(e.options.zoom.onZoomStart,[{chart:t,event:n,point:s}])===!1?(e.scale=null,Oe(e.options.zoom.onZoomRejected,[{chart:t,event:n}])):e.scale=1}}function i6(t,e,n){e.scale&&(vN(t,e,n),e.scale=null,Oe(e.options.zoom.onZoomComplete,[{chart:t}]))}function _N(t,e,n){const s=e.delta;s&&(e.panning=!0,gN(t,{x:n.deltaX-s.x,y:n.deltaY-s.y},e.panScales),e.delta={x:n.deltaX,y:n.deltaY})}function a6(t,e,n){const{enabled:s,onPanStart:a,onPanRejected:o}=e.options.pan;if(!s)return;const l=n.target.getBoundingClientRect(),u={x:n.center.x-l.left,y:n.center.y-l.top};if(Oe(a,[{chart:t,event:n,point:u}])===!1)return Oe(o,[{chart:t,event:n}]);e.panScales=uN(e.options.pan,u,t),e.delta={x:0,y:0},_N(t,e,n)}function r6(t,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,Oe(e.options.pan.onPanComplete,[{chart:t}]))}const ex=new WeakMap;function tw(t,e){const n=Ct(t),s=t.canvas,{pan:a,zoom:o}=e,l=new Bc.Manager(s);o&&o.pinch.enabled&&(l.add(new Bc.Pinch),l.on("pinchstart",u=>s6(t,n,u)),l.on("pinch",u=>vN(t,n,u)),l.on("pinchend",u=>i6(t,n,u))),a&&a.enabled&&(l.add(new Bc.Pan({threshold:a.threshold,enable:t6(t,n)})),l.on("panstart",u=>a6(t,n,u)),l.on("panmove",u=>_N(t,n,u)),l.on("panend",()=>r6(t,n))),ex.set(t,l)}function nw(t){const e=ex.get(t);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),ex.delete(t))}function o6(t,e){const{pan:n,zoom:s}=t,{pan:a,zoom:o}=e;return s?.zoom?.pinch?.enabled!==o?.zoom?.pinch?.enabled||n?.enabled!==a?.enabled||n?.threshold!==a?.threshold}var l6="2.2.0";function $d(t,e,n){const s=n.zoom.drag,{dragStart:a,dragEnd:o}=Ct(t);if(s.drawTime!==e||!o)return;const{left:l,top:u,width:h,height:m}=bN(t,n.zoom.mode,{dragStart:a,dragEnd:o},s.maintainAspectRatio),p=t.ctx;p.save(),p.beginPath(),p.fillStyle=s.backgroundColor||"rgba(225,225,225,0.3)",p.fillRect(l,u,h,m),s.borderWidth>0&&(p.lineWidth=s.borderWidth,p.strokeStyle=s.borderColor||"rgba(225,225,225)",p.strokeRect(l,u,h,m)),p.restore()}var c6={id:"zoom",version:l6,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(t,e,n){const s=Ct(t);s.options=n,Object.prototype.hasOwnProperty.call(n.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(n.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(n.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Bc&&tw(t,n),t.pan=(a,o,l)=>gN(t,a,o,l),t.zoom=(a,o)=>s0(t,a,o),t.zoomRect=(a,o,l)=>pN(t,a,o,l),t.zoomScale=(a,o,l)=>BR(t,a,o,l),t.resetZoom=a=>VR(t,a),t.getZoomLevel=()=>HR(t),t.getInitialScaleBounds=()=>xN(t),t.getZoomedScaleBounds=()=>UR(t),t.isZoomedOrPanned=()=>YR(t),t.isZoomingOrPanning=()=>Q2(t)},beforeEvent(t,{event:e}){if(Q2(t))return!1;if(e.type==="click"||e.type==="mouseup"){const n=Ct(t);if(n.filterNextClick)return n.filterNextClick=!1,!1}},beforeUpdate:function(t,e,n){const s=Ct(t),a=s.options;s.options=n,o6(a,n)&&(nw(t),tw(t,n)),JR(t,n)},beforeDatasetsDraw(t,e,n){$d(t,"beforeDatasetsDraw",n)},afterDatasetsDraw(t,e,n){$d(t,"afterDatasetsDraw",n)},beforeDraw(t,e,n){$d(t,"beforeDraw",n)},afterDraw(t,e,n){$d(t,"afterDraw",n)},stop:function(t){e6(t),Bc&&nw(t),SR(t)},panFunctions:Qg,zoomFunctions:Kg,zoomRectFunctions:Zg};const Kd={labels:Array.from({length:24},(t,e)=>`${String(e).padStart(2,"0")}:00`),load:Array.from({length:24},()=>+(Math.random()*2.2+.6).toFixed(2)),pv:Array.from({length:24},(t,e)=>+(Math.max(0,Math.sin((e-6)/4))*2.4).toFixed(2)),price:Array.from({length:24},()=>+(Math.random()*3.2+.8).toFixed(2))},wN="Europe/Stockholm";function i0(t){return new Date(t)}function Lh(t,e=wN){return new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:e}).format(t)}function a0(t,e=new Date){return Lh(i0(t))===Lh(e)}function Ph(t,e=new Date){const n=new Date(e);return n.setDate(n.getDate()+1),Lh(i0(t))===Lh(n)}function og(t){const e=i0(t);return new Intl.DateTimeFormat("sv-SE",{hour:"2-digit",minute:"2-digit",timeZone:wN}).format(e)}function u6(t,e,n=new Date){return t.filter(a=>e==="today"?a0(a.start_time,n):Ph(a.start_time,n))}Ds.register(c6);const d6={maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!1,labels:{color:"#e6e9ef",boxWidth:10,font:{size:12},filter:()=>!1}},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(30, 30, 46, 0.95)",titleColor:"#e6e9ef",bodyColor:"#a6b0bf",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:12,displayColors:!0,caretPadding:8,yAlign:"bottom",callbacks:{title:function(t){return t[0].label},label:function(t){const e=t.dataset.label||"",n=t.parsed.y;if(n==null)return"";let s=n.toFixed(2),a="";if(e.includes("SEK/kWh")){s=n.toFixed(2),a=" SEK/kWh";const l=t.chart.data.pricingConfig;if(l){const u=1+l.vat/100,h=u>0?n/u:n,m=Math.max(0,h-l.fees),p=n-m;return[`${e}: ${s}${a}`,`(Spot: ${m.toFixed(2)} + Tax/Fees: ${p.toFixed(2)})`]}}else e.includes("kW")?(s=n.toFixed(1),a=" kW"):e.includes("kWh")?(s=n.toFixed(2),a=" kWh"):e.includes("%")&&(s=n.toFixed(1),a="%");return`${e}: ${s}${a}`}}},zoom:{pan:{enabled:!0,mode:"x"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{color:"#6c7086",font:{family:"monospace",size:10},maxRotation:0,autoSkip:!1,callback:function(t,e,n){const s=this.getLabelForValue(t);if(typeof s!="string")return"";const a=s.split(":");if(a.length<2)return"";const[o,l]=a;return l==="00"?o:""}},border:{display:!1}},y:{position:"right",min:0,max:8,title:{display:!1,text:"SEK/kWh"},grid:{display:!1},border:{display:!1},ticks:{display:!1,color:"#6c7086",font:{family:"monospace",size:10},callback:t=>`${t} SEK`}},y1:{position:"left",min:0,max:9,title:{display:!1,text:"kW"},grid:{display:!1},ticks:{display:!1},border:{display:!1}},y2:{position:"left",min:0,max:9,title:{display:!1,text:"kWh"},grid:{display:!1},ticks:{display:!1},border:{display:!1},display:!1},y3:{position:"right",min:0,max:100,title:{display:!0,text:"%",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",font:{family:"monospace",size:10}},border:{display:!1},display:!1},y4:{position:"left",min:0,max:1.5,title:{display:!1,text:"kW (PV)"},grid:{display:!1},ticks:{display:!1},border:{display:!1}}}},Po=(t,e={},n)=>{const s={accent:"#FFCE59",grid:"#64748B",night:"#06B6D4"},a={labels:t.labels,datasets:[{type:"line",label:"Import Price (SEK/kWh)",data:t.price,borderColor:s.grid,backgroundColor:o=>{const l=o.chart.ctx,h=document.documentElement.classList.contains("dark")?.35:.5,m=l.createLinearGradient(0,0,0,o.chart.height);return m.addColorStop(0,`rgba(100, 116, 139, ${h})`),m.addColorStop(1,"rgba(100, 116, 139, 0)"),m},fill:!0,yAxisID:"y",tension:.4,pointRadius:0,borderWidth:3,order:1},{type:"line",label:"PV Forecast (kW)",data:t.pv,borderColor:s.accent,backgroundColor:o=>{const l=o.chart.ctx,h=document.documentElement.classList.contains("dark")?.5:.65,m=l.createLinearGradient(0,0,0,o.chart.height);return m.addColorStop(0,`rgba(255, 206, 89, ${h})`),m.addColorStop(1,"rgba(255, 206, 89, 0)"),m},fill:!0,yAxisID:"y4",tension:.4,pointRadius:0,borderWidth:3,order:2},{type:"bar",label:"Load (kW)",data:t.load,backgroundColor:"rgba(0, 183, 181, 0.3)",borderWidth:0,borderRadius:2,yAxisID:"y1",barPercentage:.85,categoryPercentage:.9,grouped:!1,order:0},{type:"bar",label:"Charge (kW)",data:t.charge??t.labels.map(()=>null),backgroundColor:"rgba(241, 81, 50, 0.3)",borderWidth:0,borderRadius:2,hidden:!0,yAxisID:"y1",barPercentage:.85,categoryPercentage:.9,grouped:!1,order:0},{type:"bar",label:"Discharge (kW)",data:t.discharge??t.labels.map(()=>null),backgroundColor:"rgba(236, 72, 153, 0.3)",borderWidth:0,borderRadius:2,hidden:!0,yAxisID:"y1",barPercentage:.85,categoryPercentage:.9,grouped:!1,order:0},{type:"bar",label:"Export (kWh)",data:t.export??t.labels.map(()=>null),backgroundColor:"rgba(31, 178, 86, 0.3)",borderWidth:0,borderRadius:2,hidden:!0,yAxisID:"y2",barPercentage:.85,categoryPercentage:.9,grouped:!1,order:0},{type:"bar",label:"Water Heating (kW)",data:t.water??t.labels.map(()=>null),backgroundColor:"rgba(78, 168, 222, 0.3)",borderWidth:0,borderRadius:2,hidden:!0,yAxisID:"y1",barPercentage:.85,categoryPercentage:.9,grouped:!1,order:0},{type:"line",label:"SoC Target (%)",data:t.socTarget??t.labels.map(()=>null),borderColor:s.night,borderDash:[0,6],borderCapStyle:"round",backgroundColor:o=>{const l=o.chart.ctx,h=document.documentElement.classList.contains("dark")?.05:.1,m=l.createLinearGradient(0,0,0,o.chart.height);return m.addColorStop(0,`rgba(6, 182, 212, ${h})`),m.addColorStop(1,"rgba(6, 182, 212, 0)"),m},fill:!0,segment:{borderColor:o=>{const l=t.nowIndex??-1;return l>=0&&o.p1DataIndex<l?"rgba(6, 182, 212, 0.5)":s.night}},yAxisID:"y3",pointRadius:0,borderWidth:3,tension:0,stepped:"after",hidden:!0,order:10},{type:"line",label:"SoC Projected (%)",data:t.socProjected??t.labels.map(()=>null),borderColor:s.night,segment:{borderColor:o=>{const l=t.nowIndex??-1;return l>=0&&o.p1DataIndex<l?"rgba(6, 182, 212, 0.5)":s.night}},yAxisID:"y3",pointRadius:0,borderWidth:3,tension:.3,hidden:!0},{type:"line",label:"SoC Actual (%)",data:t.socActual??t.labels.map(()=>null),borderColor:s.night,borderDash:[0,6],borderCapStyle:"round",yAxisID:"y3",pointRadius:0,borderWidth:3,tension:.3,hidden:!0}]};return t.hasNoData&&(a.plugins={tooltip:{enabled:!0,external:!0,callbacks:{title:()=>t.day==="tomorrow"?"No Price Data":"No Data",label:()=>t.day==="tomorrow"?"Schedule data not available yet. Check back later for prices.":"No schedule data available."}}}),{...a,nowIndex:t.nowIndex??null,nowPct:t.nowPct??null,hasNoData:!!t.hasNoData,pricingConfig:n}},h6={id:"nowLine",afterDatasetsDraw(t){const{ctx:e,chartArea:{top:n,bottom:s},scales:{x:a}}=t,o=t.data,l=o.nowPct;if(typeof l!="number"||l<0||l>1)return;const u=o.labels?.length||0;if(u<2)return;const h=l*u,m=Math.floor(h),p=Math.ceil(h),x=h-m,b=a.getPixelForValue(m),v=a.getPixelForValue(p),w=b+(v-b)*x;w<a.left||w>a.right||(e.save(),e.beginPath(),e.strokeStyle="#e879f9",e.lineWidth=1.5,e.shadowColor="#e879f9",e.shadowBlur=10,e.setLineDash([4,4]),e.moveTo(w,n),e.lineTo(w,s),e.stroke(),e.setLineDash([]),e.fillStyle="#e879f9",e.textAlign="center",e.font="bold 10px monospace",e.fillText("NOW",w,n-8),e.restore())}},f6={id:"dotGrid",beforeDraw(t){const{ctx:e,chartArea:n,scales:s}=t;if(!n||!s.x)return;const{left:a,right:o,top:l,bottom:u}=n,h=s.x,m=1,p=30;e.save(),e.fillStyle="rgba(100, 116, 139, 0.25)";const x=t.data.labels?.length||0;if(x<2){e.restore();return}const b=h.getPixelForValue(0),v=h.getPixelForValue(1),w=Math.abs(v-b);let S=1;w<8?S=4:w<15&&(S=2);for(let j=0;j<x;j+=S){const k=h.getPixelForValue(j);if(!(k<a-5||k>o+5))for(let C=l;C<=u;C+=p)e.beginPath(),e.arc(k,C,m,0,Math.PI*2),e.fill()}e.restore()}},m6={id:"glowEffects",beforeDatasetsDraw(t){const{ctx:e}=t;e.save(),e.shadowBlur=0,e.shadowColor="transparent"},afterDatasetDraw(t,e){const{ctx:n}=t;t.data.datasets[e.index].glow&&n.restore()},beforeDatasetDraw(t,e){const{ctx:n}=t,s=t.data.datasets[e.index];s.glow&&(n.save(),n.shadowColor=s.borderColor,n.shadowBlur=8,n.shadowOffsetX=0,n.shadowOffsetY=0)}};function SN({day:t="today",range:e="48h",refreshToken:n=0,slotsOverride:s,useHistoryForToday:a=!1,showDayToggle:o=!1}){const[l,u]=N.useState(!1),h=t||"today",[m,p]=N.useState(e),x=N.useRef(null),b=N.useRef(null),[v,w]=N.useState({}),[S,j]=N.useState({price:!0,pv:!0,load:!0,charge:!1,discharge:!1,export:!1,water:!1,socTarget:!1,socProjected:!1,socActual:!0}),[k,C]=N.useState(!1),[E,O]=N.useState();N.useEffect(()=>{we.config().then(P=>{if(P?.pricing){const $=P.pricing,ee=$.vat_percent??25,re=($.grid_transfer_fee_sek??0)+($.energy_tax_sek??0);O({vat:ee,fees:re})}const U=P?.dashboard?.overlay_defaults;if(U&&typeof U=="string"){const $=U.split(",").map(de=>de.trim().toLowerCase()),ee=$.includes("socactual")||$.includes("soc_actual"),re={price:!$.includes("price_off"),pv:!$.includes("pv_off"),load:!$.includes("load_off"),charge:$.includes("charge"),discharge:$.includes("discharge"),export:$.includes("export"),water:$.includes("water"),socTarget:$.includes("soctarget")||$.includes("soc_target"),socProjected:$.includes("socprojected")||$.includes("soc_projected"),socActual:ee?!0:S.socActual};j(re)}}).catch(P=>console.error("Failed to load overlay defaults:",P))},[S.socActual]);const[R,A]=N.useState(null);N.useEffect(()=>{we.theme().then(P=>{const U=P.themes.find($=>$.name===P.current);if(U){const $={};U.palette.forEach((ee,re)=>{$[`palette = ${re}`]=ee}),$.background=U.background,$.foreground=U.foreground,w($)}}).catch(P=>console.error("Failed to load theme colors:",P))},[]),N.useEffect(()=>{if(!x.current||Object.keys(v).length===0)return;const P={type:"bar",data:Po({labels:Kd.labels,price:Kd.price,pv:Kd.pv,load:Kd.load},v,E),options:d6,plugins:[f6,h6,m6]};return b.current=new Ds(x.current,P),()=>{b.current&&(b.current.destroy(),b.current=null)}},[v]);const L=P=>{if(!P)return!1;const U=P;return!(U._destroyed||U._plugins===void 0&&U.$plugins===void 0)};return N.useEffect(()=>{p(e)},[e]),N.useEffect(()=>{const P=b.current;if(!L(P)||Object.keys(v).length===0)return;const U=ee=>{if(!L(b.current))return;const re=p6(ee,h,m,v,E);if(!re)return;u(!!re.hasNoData);const de=re.datasets;de[0]&&(de[0].hidden=!S.price),de[1]&&(de[1].hidden=!S.pv),de[2]&&(de[2].hidden=!S.load),de[3]&&(de[3].hidden=!S.charge),de[4]&&(de[4].hidden=!S.discharge),de[5]&&(de[5].hidden=!S.export),de[6]&&(de[6].hidden=!S.water),de[7]&&(de[7].hidden=!S.socTarget),de[8]&&(de[8].hidden=!S.socProjected),de[9]&&(de[9].hidden=!S.socActual);try{if(!L(b.current))return;b.current&&(b.current.data=re,b.current.update())}catch(fe){console.error("Chart update error:",fe)}};if(s&&s.length){U(s);return}(a&&m==="day"&&h==="today"?we.scheduleTodayWithHistory().then(ee=>({schedule:ee.slots})):we.schedule()).then(ee=>{U(ee.schedule??[])}).catch(ee=>{console.error("Failed to load schedule:",ee),u(!0)})},[h,S,v,m,n,s,a,E]),d.jsxs(Pe,{className:"p-4 md:p-6 h-[380px]",children:[d.jsxs("div",{className:"flex items-baseline justify-between pb-2",children:[d.jsx("div",{className:"text-sm text-muted",children:"Schedule Overview"}),o&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${m==="day"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>p("day"),children:"24h"}),d.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${m==="48h"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>p("48h"),children:"48h"})]}),d.jsx("button",{className:"rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide border border-line/60 text-muted hover:border-accent hover:text-accent transition",onClick:()=>C(P=>!P),children:"Overlays"})]})]}),k&&d.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-[11px]",children:[["Price","price"],["PV","pv"],["Load","load"],["Charge","charge"],["Discharge","discharge"],["Export","export"],["Water","water"],["SoC Target","socTarget"],["SoC Projected","socProjected"],["SoC Actual","socActual"]].map(([P,U])=>d.jsx("button",{onClick:$=>{$.preventDefault(),j(ee=>({...ee,[U]:!ee[U]}))},className:`rounded-pill px-3 py-1 border ${S[U]?"bg-accent text-canvas border-accent":"border-line/60 text-muted hover:border-accent"}`,children:P},U))}),d.jsxs("div",{className:"h-[310px] relative mt-1",children:[l&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-surface/90 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-accent mb-2",children:"No Price Data"}),d.jsx("div",{className:"text-sm text-muted",children:"Schedule data not available yet. Check back later for prices."})]})}),d.jsx("canvas",{ref:x,style:{display:l?"none":"block"}})]})]})}function p6(t,e,n,s={},a){const o=n==="day"?u6(t,e):t.filter(E=>a0(E.start_time)||Ph(E.start_time));if(n==="day"){if(!o.length){const ie=Array.from({length:24},(J,ae)=>`${String(ae).padStart(2,"0")}:00`),z=Array(24).fill(null);return Po({labels:ie,price:z.slice(),pv:z.slice(),load:z.slice(),charge:z.slice(),discharge:z.slice(),export:z.slice(),water:z.slice(),socTarget:z.slice(),socProjected:z.slice(),socActual:z.slice(),hasNoData:!0,day:e},s)}const E=[...o].sort((ie,z)=>{const J=new Date(ie.start_time).getTime(),ae=new Date(z.start_time).getTime();return J-ae});let O=15;if(E.length>=2){const ie=new Date(E[0].start_time).getTime(),z=new Date(E[1].start_time).getTime(),J=Math.max(1,Math.round((z-ie)/6e4));(J===15||J===30||J===60)&&(O=J)}const R=new Date;e==="today"||R.setDate(R.getDate()+1),R.setHours(0,0,0,0);const A=O*60*1e3,L=Math.round(1440/O),P=new Map;for(const ie of E){const z=new Date(ie.start_time).getTime();P.set(z,ie)}const U=[],$=[],ee=[],re=[],de=[],fe=[],be=[],W=[],Q=[],ue=[],oe=[];let xe=null;const F=new Date;for(let ie=0;ie<L;ie++){const z=new Date(R.getTime()+ie*A),J=new Date(z.getTime()+A),ae=P.get(z.getTime());if(U.push(og(z.toISOString())),ae){const pe=ae.is_executed===!0;$.push(ae.import_price_sek_kwh??null),ee.push(pe&&ae.actual_pv_kwh!=null?ae.actual_pv_kwh:ae.pv_forecast_kwh??null),re.push(pe&&ae.actual_load_kwh!=null?ae.actual_load_kwh:ae.load_forecast_kwh??null),de.push(pe&&ae.actual_charge_kw!=null?ae.actual_charge_kw:ae.battery_charge_kw??ae.charge_kw??null),fe.push(ae.battery_discharge_kw??ae.discharge_kw??null),be.push(pe&&ae.actual_export_kw!=null?ae.actual_export_kw:ae.export_kwh??null),W.push(ae.water_heating_kw??null),Q.push(ae.soc_target_percent??null),ue.push(ae.projected_soc_percent??null),oe.push(ae.soc_actual_percent!=null?ae.soc_actual_percent:null)}else $.push(null),ee.push(null),re.push(null),de.push(null),fe.push(null),be.push(null),W.push(null),Q.push(null),ue.push(null),oe.push(null);e==="today"&&F>=z&&F<J&&(xe=ie)}let Z=null;if(e==="today"){const ie=L*A,z=F.getTime()-R.getTime();z>=0&&z<=ie&&(Z=z/ie)}return Po({labels:U,price:$,pv:ee,load:re,charge:de,discharge:fe,export:be,water:W,socTarget:Q,socProjected:ue,socActual:oe,nowIndex:xe,nowPct:Z},s)}if(n==="48h"){if(!o.length){console.log("[buildLiveData] No slots found for 48h range, creating fallback");const J=Array.from({length:48},(ae,pe)=>{const je=pe%24;return`${String(je).padStart(2,"0")}:00`});return Po({labels:J,price:Array(J.length).fill(null),pv:Array(J.length).fill(null),load:Array(J.length).fill(null),charge:Array(J.length).fill(null),discharge:Array(J.length).fill(null),export:Array(J.length).fill(null),water:Array(J.length).fill(null),socTarget:Array(J.length).fill(null),socProjected:Array(J.length).fill(null),hasNoData:!0,day:e},s)}const E=[...o].sort((J,ae)=>{const pe=new Date(J.start_time).getTime(),je=new Date(ae.start_time).getTime();return pe-je});let O=15;if(E.length>=2){const J=new Date(E[0].start_time).getTime(),ae=new Date(E[1].start_time).getTime(),pe=Math.max(1,Math.round((ae-J)/6e4));(pe===15||pe===30||pe===60)&&(O=pe)}const R=new Date;R.setHours(0,0,0,0);const A=O*60*1e3,L=Math.round(2880/O),P=new Map;for(const J of E){const ae=new Date(J.start_time).getTime();P.set(ae,J)}const U=[],$=[],ee=[],re=[],de=[],fe=[],be=[],W=[],Q=[],ue=[],oe=[];let xe=null;const F=new Date;for(let J=0;J<L;J++){const ae=new Date(R.getTime()+J*A),pe=new Date(ae.getTime()+A),je=P.get(ae.getTime());if(U.push(og(ae.toISOString())),je){const ke=je.is_executed===!0;$.push(je.import_price_sek_kwh??null),ee.push(ke&&je.actual_pv_kwh!=null?je.actual_pv_kwh:je.pv_forecast_kwh??null),re.push(ke&&je.actual_load_kwh!=null?je.actual_load_kwh:je.load_forecast_kwh??null),de.push(ke&&je.actual_charge_kw!=null?je.actual_charge_kw:je.battery_charge_kw??je.charge_kw??null),fe.push(je.battery_discharge_kw??je.discharge_kw??null),be.push(ke&&je.actual_export_kw!=null?je.actual_export_kw:je.export_kwh??null),W.push(je.water_heating_kw??null),Q.push(je.soc_target_percent??null),ue.push(je.projected_soc_percent??null),oe.push(je.soc_actual_percent!=null?je.soc_actual_percent:null)}else $.push(null),ee.push(null),re.push(null),de.push(null),fe.push(null),be.push(null),W.push(null),Q.push(null),ue.push(null),oe.push(null);F>=ae&&F<pe&&(xe=J)}let Z=null;const ie=L*A,z=F.getTime()-R.getTime();return z>=0&&z<=ie&&(Z=z/ie),Po({labels:U,price:$,pv:ee,load:re,charge:de,discharge:fe,export:be,water:W,socTarget:Q,socProjected:ue,socActual:oe,nowIndex:xe,nowPct:Z},s,a)}const l=[...o].sort((E,O)=>{const R=new Date(E.start_time).getTime(),A=new Date(O.start_time).getTime();return R-A}),u=l.map(E=>E.import_price_sek_kwh??null),h=l.map(E=>E.pv_forecast_kwh??null),m=l.map(E=>E.load_forecast_kwh??null),p=l.map(E=>E.battery_charge_kw??E.charge_kw??null),x=l.map(E=>E.battery_discharge_kw??E.discharge_kw??null),b=l.map(E=>E.export_kwh??null),v=l.map(E=>E.water_heating_kw??null),w=l.map(E=>E.soc_target_percent??null),S=l.map(E=>E.projected_soc_percent??null),j=l.map(E=>E.soc_actual_percent??null),k=l.map(E=>og(E.start_time));let C=null;if(e==="today"){const E=new Date;for(let O=0;O<l.length;O++){const R=new Date(l[O].start_time||""),A=new Date(R.getTime()+1800*1e3);if(E>=R&&E<A){C=O;break}}}return Po({labels:k,price:u,pv:h,load:m,charge:p,discharge:x,export:b,water:v,socTarget:w,socProjected:S,socActual:j,nowIndex:C},s)}const Zd=[3,7,14,21,28],xc=[30,60,120];function g6({onDataRefresh:t,onPlanSourceChange:e,onVacationModeChange:n}){const[s,a]=N.useState("idle"),[o,l]=N.useState(!1),[u,h]=N.useState(null),[m,p]=N.useState(1),[x,b]=N.useState(!1),[v,w]=N.useState(null),[S,j]=N.useState(1),[k,C]=N.useState(!1),[E,O]=N.useState(null),[R,A]=N.useState(0),[L,P]=N.useState(null),[U,$]=N.useState(null),ee=N.useRef(null),re=N.useCallback(async()=>{try{const[oe,xe,F]=await Promise.all([we.executor.status(),we.waterBoost.status(),we.config()]);if(oe.paused?(l(!0),h(oe.paused.paused_minutes||null)):(l(!1),h(null)),xe.water_boost){const ie=new Date(xe.water_boost.expires_at);C(!0),O(ie);const z=new Date,J=Math.max(0,Math.floor((ie.getTime()-z.getTime())/1e3));A(J)}else C(!1),O(null),A(0);const Z=F.water_heating?.vacation_mode;Z?.enabled?(b(!0),w(Z.end_date||null)):(b(!1),w(null))}catch(oe){console.error("Failed to fetch quick action status:",oe)}},[]);N.useEffect(()=>{re();const oe=setInterval(re,6e4);return()=>clearInterval(oe)},[re]),N.useEffect(()=>{if(ee.current&&(clearInterval(ee.current),ee.current=null),!(!k||!E))return ee.current=setInterval(()=>{const oe=new Date,xe=Math.floor((E.getTime()-oe.getTime())/1e3);xe<=0?(C(!1),O(null),A(0),ee.current&&(clearInterval(ee.current),ee.current=null)):A(xe)},1e3),()=>{ee.current&&(clearInterval(ee.current),ee.current=null)}},[k,E]);const de=async()=>{a("planning"),P(null);try{await we.runPlanner(),a("executing"),await we.executor.run(),a("done"),e&&e("local"),t&&setTimeout(t,500),setTimeout(()=>a("idle"),2e3)}catch(oe){P({type:"error",message:oe instanceof Error?oe.message:"Failed"}),a("idle")}},fe=async()=>{P(null),$("pause");try{o?(await we.executor.resume(),l(!1),h(null),P({type:"success",message:"Executor resumed"})):(await we.executor.pause(),l(!0),P({type:"success",message:"Executor paused - idle mode"})),setTimeout(()=>P(null),3e3)}catch(oe){P({type:"error",message:oe instanceof Error?oe.message:"Failed"})}finally{$(null)}},be=async()=>{P(null),$("vacation");try{if(x)await we.configSave({water_heating:{vacation_mode:{enabled:!1,end_date:null}}}),b(!1),w(null),P({type:"success",message:"Vacation mode disabled"});else{const oe=Zd[m],xe=new Date;xe.setDate(xe.getDate()+oe);const F=xe.toISOString().split("T")[0];await we.configSave({water_heating:{vacation_mode:{enabled:!0,end_date:F}}}),b(!0),w(F),P({type:"success",message:`Vacation mode active until ${F}`})}window.dispatchEvent(new Event("config-updated")),n?.(!x),setTimeout(()=>P(null),3e3)}catch(oe){P({type:"error",message:oe instanceof Error?oe.message:"Failed"})}finally{$(null)}},W=async()=>{P(null),$("boost");try{if(k)(await we.waterBoost.cancel()).success&&(C(!1),O(null),A(0),P({type:"success",message:"Water boost cancelled"}));else{const oe=xc[S],xe=await we.waterBoost.start(oe);if(xe.success&&xe.expires_at){const F=new Date(xe.expires_at);C(!0),O(F),A(oe*60),P({type:"success",message:`Water boost started (${oe}min)`})}}setTimeout(()=>P(null),3e3)}catch(oe){P({type:"error",message:oe instanceof Error?oe.message:"Failed"})}finally{$(null)}},Q=()=>{switch(s){case"planning":return"Planning...";case"executing":return"Executing...";case"done":return"Done ";default:return"Run Planner"}},ue=oe=>{const xe=Math.floor(oe/60),F=oe%60;return`${xe}:${F.toString().padStart(2,"0")}`};return d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{className:`relative overflow-hidden flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary
                        ${s!=="idle"?"bg-surface border border-accent/50 text-accent cursor-wait":"bg-accent hover:bg-accent2 text-[#100f0e]"}`,onClick:de,disabled:s!=="idle",title:"Run planner and execute",children:[d.jsx("div",{className:`absolute left-0 top-0 bottom-0 transition-all duration-[2000ms] ease-out pointer-events-none ${s==="idle"?"bg-transparent":"bg-accent/50"}`,style:{width:s==="idle"?"0%":s==="done"?"100%":"90%"}}),d.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[s==="planning"||s==="executing"?d.jsx(K5,{className:"h-4 w-4 animate-spin"}):d.jsx(sE,{className:"h-4 w-4"}),d.jsx("span",{children:Q()})]})]}),d.jsx("button",{className:`flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition
                        ${o?"bg-bad/80 text-white ring-2 ring-bad shadow-[0_0_20px_rgba(241,81,50,0.5)] animate-pulse":"bg-good hover:bg-good/80 text-white btn-glow-green"} ${U==="pause"?"opacity-60 cursor-wait":""}`,onClick:fe,disabled:U==="pause",title:o?"Resume executor":"Pause executor (idle mode)",children:o?d.jsxs(d.Fragment,{children:[d.jsx(nj,{className:"h-4 w-4"}),d.jsx("span",{children:"RESUME"}),u!==null&&d.jsxs("span",{className:"text-[9px] opacity-80",children:["(",Math.round(u),"m)"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(eE,{className:"h-4 w-4"}),d.jsx("span",{children:"Pause"})]})}),d.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${x?"bg-amber-500/30 border border-amber-500/50 ring-2 ring-amber-400/50 shadow-[0_0_15px_rgba(245,158,11,0.4)]":"bg-surface2 border border-line/50"} ${U==="vacation"?"opacity-60":""}`,children:[!x&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>p(oe=>Math.max(0,oe-1)),className:"px-0.5 hover:text-accent",disabled:m===0||U==="vacation",children:d.jsx(m_,{className:"h-3 w-3"})}),d.jsxs("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:[Zd[m],"d"]}),d.jsx("button",{onClick:()=>p(oe=>Math.min(Zd.length-1,oe+1)),className:"px-0.5 hover:text-accent",disabled:m===Zd.length-1||U==="vacation",children:d.jsx(p_,{className:"h-3 w-3"})})]}),d.jsxs("button",{onClick:be,disabled:U==="vacation",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${x?"bg-amber-500/50 text-amber-100":"bg-amber-500/20 hover:bg-amber-500/30 text-amber-300/80 hover:text-amber-300"}`,children:[d.jsx(rE,{className:"h-3.5 w-3.5"}),x?d.jsx("span",{className:"truncate",children:v?` ${v.slice(5)}`:"ON"}):d.jsx("span",{children:"Vacation"})]})]}),d.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${k?"bg-red-500/30 border border-red-500/50 ring-2 ring-red-400/50 shadow-[0_0_15px_rgba(239,68,68,0.4)]":"bg-surface2 border border-line/50"} ${U==="boost"?"opacity-60":""}`,children:[!k&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>j(oe=>Math.max(0,oe-1)),className:"px-0.5 hover:text-accent",disabled:S===0||U==="boost",children:d.jsx(m_,{className:"h-3 w-3"})}),d.jsx("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:xc[S]===120?"2h":xc[S]===60?"1h":"30m"}),d.jsx("button",{onClick:()=>j(oe=>Math.min(xc.length-1,oe+1)),className:"px-0.5 hover:text-accent",disabled:S===xc.length-1||U==="boost",children:d.jsx(p_,{className:"h-3 w-3"})})]}),d.jsxs("button",{onClick:W,disabled:U==="boost",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${k?"bg-red-500/50 text-red-100":"bg-red-500/20 hover:bg-red-500/30 text-red-300/80 hover:text-red-300"}`,children:[d.jsx(ej,{className:`h-3.5 w-3.5 ${k?"animate-pulse":""}`}),k?d.jsx("span",{className:"font-mono",children:ue(R)}):d.jsx("span",{children:"Boost"})]})]})]}),L&&d.jsx("div",{className:`absolute -bottom-8 left-0 right-0 text-center text-[10px] py-1 px-2 rounded-md transition-opacity animate-in fade-in slide-in-from-bottom-1 duration-300 ${L.type==="success"?"text-green-400":"text-red-400"}`,children:L.message})]})}const r0=N.createContext({});function o0(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const df=N.createContext(null),l0=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class x6 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function y6({children:t,isPresent:e}){const n=N.useId(),s=N.useRef(null),a=N.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=N.useContext(l0);return N.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:m}=a.current;if(e||!s.current||!l||!u)return;s.current.dataset.motionPopId=n;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),d.jsx(x6,{isPresent:e,childRef:s,sizeRef:a,children:N.cloneElement(t,{ref:s})})}const b6=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l})=>{const u=o0(v6),h=N.useId(),m=N.useCallback(x=>{u.set(x,!0);for(const b of u.values())if(!b)return;s&&s()},[u,s]),p=N.useMemo(()=>({id:h,initial:e,isPresent:n,custom:a,onExitComplete:m,register:x=>(u.set(x,!1),()=>u.delete(x))}),o?[Math.random(),m]:[n,m]);return N.useMemo(()=>{u.forEach((x,b)=>u.set(b,!1))},[n]),N.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),l==="popLayout"&&(t=d.jsx(y6,{isPresent:n,children:t})),d.jsx(df.Provider,{value:p,children:t})};function v6(){return new Map}function jN(t=!0){const e=N.useContext(df);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,o=N.useId();N.useEffect(()=>{t&&a(o)},[t]);const l=N.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,l]:[!0]}const Qd=t=>t.key||"";function sw(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const c0=typeof window<"u",NN=c0?N.useLayoutEffect:N.useEffect,_6=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1})=>{const[u,h]=jN(l),m=N.useMemo(()=>sw(t),[t]),p=l&&!u?[]:m.map(Qd),x=N.useRef(!0),b=N.useRef(m),v=o0(()=>new Map),[w,S]=N.useState(m),[j,k]=N.useState(m);NN(()=>{x.current=!1,b.current=m;for(let O=0;O<j.length;O++){const R=Qd(j[O]);p.includes(R)?v.delete(R):v.get(R)!==!0&&v.set(R,!1)}},[j,p.length,p.join("-")]);const C=[];if(m!==w){let O=[...m];for(let R=0;R<j.length;R++){const A=j[R],L=Qd(A);p.includes(L)||(O.splice(R,0,A),C.push(A))}o==="wait"&&C.length&&(O=C),k(sw(O)),S(m);return}const{forceRender:E}=N.useContext(r0);return d.jsx(d.Fragment,{children:j.map(O=>{const R=Qd(O),A=l&&!u?!1:m===j||p.includes(R),L=()=>{if(v.has(R))v.set(R,!0);else return;let P=!0;v.forEach(U=>{U||(P=!1)}),P&&(E?.(),k(b.current),l&&h?.(),s&&s())};return d.jsx(b6,{isPresent:A,initial:!x.current||n?void 0:!1,custom:A?void 0:e,presenceAffectsLayout:a,mode:o,onExitComplete:A?void 0:L,children:O},R)})})},as=t=>t;let kN=as;function u0(t){let e;return()=>(e===void 0&&(e=t()),e)}const el=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},$i=t=>t*1e3,Ki=t=>t/1e3,w6={useManualTiming:!1};function S6(t){let e=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(m){o.has(m)&&(h.schedule(m),t()),m(l)}const h={schedule:(m,p=!1,x=!1)=>{const v=x&&s?e:n;return p&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(l=m,s){a=!0;return}s=!0,[e,n]=[n,e],e.forEach(u),e.clear(),s=!1,a&&(a=!1,h.process(m))}};return h}const Jd=["read","resolveKeyframes","update","preRender","render","postRender"],j6=40;function TN(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Jd.reduce((k,C)=>(k[C]=S6(o),k),{}),{read:u,resolveKeyframes:h,update:m,preRender:p,render:x,postRender:b}=l,v=()=>{const k=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(k-a.timestamp,j6),1),a.timestamp=k,a.isProcessing=!0,u.process(a),h.process(a),m.process(a),p.process(a),x.process(a),b.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(v))},w=()=>{n=!0,s=!0,a.isProcessing||t(v)};return{schedule:Jd.reduce((k,C)=>{const E=l[C];return k[C]=(O,R=!1,A=!1)=>(n||w(),E.schedule(O,R,A)),k},{}),cancel:k=>{for(let C=0;C<Jd.length;C++)l[Jd[C]].cancel(k)},state:a,steps:l}}const{schedule:_t,cancel:Za,state:_n,steps:lg}=TN(typeof requestAnimationFrame<"u"?requestAnimationFrame:as,!0),MN=N.createContext({strict:!1}),iw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const t in iw)tl[t]={isEnabled:e=>iw[t].some(n=>!!e[n])};function N6(t){for(const e in t)tl[e]={...tl[e],...t[e]}}const k6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||k6.has(t)}let CN=t=>!zh(t);function T6(t){t&&(CN=e=>e.startsWith("on")?!zh(e):t(e))}try{T6(require("@emotion/is-prop-valid").default)}catch{}function M6(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(CN(a)||n===!0&&zh(a)||!e&&!zh(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function C6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const hf=N.createContext({});function su(t){return typeof t=="string"||Array.isArray(t)}function ff(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const d0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h0=["initial",...d0];function mf(t){return ff(t.animate)||h0.some(e=>su(t[e]))}function DN(t){return!!(mf(t)||t.variants)}function D6(t,e){if(mf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||su(n)?n:void 0,animate:su(s)?s:void 0}}return t.inherit!==!1?e:{}}function E6(t){const{initial:e,animate:n}=D6(t,N.useContext(hf));return N.useMemo(()=>({initial:e,animate:n}),[aw(e),aw(n)])}function aw(t){return Array.isArray(t)?t.join(" "):t}const A6=Symbol.for("motionComponentSymbol");function Bo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O6(t,e,n){return N.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Bo(n)&&(n.current=s))},[e])}const f0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R6="framerAppearId",EN="data-"+f0(R6),{schedule:m0}=TN(queueMicrotask,!1),AN=N.createContext({});function L6(t,e,n,s,a){var o,l;const{visualElement:u}=N.useContext(hf),h=N.useContext(MN),m=N.useContext(df),p=N.useContext(l0).reducedMotion,x=N.useRef(null);s=s||h.renderer,!x.current&&s&&(x.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const b=x.current,v=N.useContext(AN);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&P6(x.current,n,a,v);const w=N.useRef(!1);N.useInsertionEffect(()=>{b&&w.current&&b.update(n,m)});const S=n[EN],j=N.useRef(!!S&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,S))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,S)));return NN(()=>{b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),m0.render(b.render),j.current&&b.animationState&&b.animationState.animateChanges())}),N.useEffect(()=>{b&&(!j.current&&b.animationState&&b.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)===null||k===void 0||k.call(window,S)}),j.current=!1))}),b}function P6(t,e,n,s){const{layoutId:a,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ON(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!l||u&&Bo(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:m})}function ON(t){if(t)return t.options.allowProjection!==!1?t.projection:ON(t.parent)}function z6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){var o,l;t&&N6(t);function u(m,p){let x;const b={...N.useContext(l0),...m,layoutId:B6(m)},{isStatic:v}=b,w=E6(m),S=s(m,v);if(!v&&c0){V6();const j=F6(b);x=j.MeasureLayout,w.visualElement=L6(a,S,b,e,j.ProjectionNode)}return d.jsxs(hf.Provider,{value:w,children:[x&&w.visualElement?d.jsx(x,{visualElement:w.visualElement,...b}):null,n(a,m,O6(S,w.visualElement,p),S,v,w.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(l=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&l!==void 0?l:""})`}`;const h=N.forwardRef(u);return h[A6]=a,h}function B6({layoutId:t}){const e=N.useContext(r0).id;return e&&t!==void 0?e+"-"+t:t}function V6(t,e){N.useContext(MN).strict}function F6(t){const{drag:e,layout:n}=tl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const H6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p0(t){return typeof t!="string"||t.includes("-")?!1:!!(H6.indexOf(t)>-1||/[A-Z]/u.test(t))}function rw(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function g0(t,e,n,s){if(typeof e=="function"){const[a,o]=rw(s);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=rw(s);e=e(n!==void 0?n:t.custom,a,o)}return e}const tx=t=>Array.isArray(t),U6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Y6=t=>tx(t)?t[t.length-1]||0:t,Cn=t=>!!(t&&t.getVelocity);function uh(t){const e=Cn(t)?t.get():t;return U6(e)?e.toValue():e}function W6({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,a,o){const l={latestValues:I6(s,a,o,t),renderState:e()};return n&&(l.onMount=u=>n({props:s,current:u,...l}),l.onUpdate=u=>n(u)),l}const RN=t=>(e,n)=>{const s=N.useContext(hf),a=N.useContext(df),o=()=>W6(t,e,s,a);return n?o():o0(o)};function I6(t,e,n,s){const a={},o=s(t,{});for(const b in o)a[b]=uh(o[b]);let{initial:l,animate:u}=t;const h=mf(t),m=DN(t);e&&m&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const x=p?u:l;if(x&&typeof x!="boolean"&&!ff(x)){const b=Array.isArray(x)?x:[x];for(let v=0;v<b.length;v++){const w=g0(t,b[v]);if(w){const{transitionEnd:S,transition:j,...k}=w;for(const C in k){let E=k[C];if(Array.isArray(E)){const O=p?E.length-1:0;E=E[O]}E!==null&&(a[C]=E)}for(const C in S)a[C]=S[C]}}}return a}const cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gr=new Set(cl),LN=t=>e=>typeof e=="string"&&e.startsWith(t),PN=LN("--"),q6=LN("var(--"),x0=t=>q6(t)?G6.test(t.split("/*")[0].trim()):!1,G6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ji=(t,e,n)=>n>e?e:n<t?t:n,ul={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},iu={...ul,transform:t=>Ji(0,1,t)},eh={...ul,default:1},yu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pa=yu("deg"),li=yu("%"),Ae=yu("px"),X6=yu("vh"),$6=yu("vw"),ow={...li,parse:t=>li.parse(t)/100,transform:t=>li.transform(t*100)},K6={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae},Z6={rotate:Pa,rotateX:Pa,rotateY:Pa,rotateZ:Pa,scale:eh,scaleX:eh,scaleY:eh,scaleZ:eh,skew:Pa,skewX:Pa,skewY:Pa,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:iu,originX:ow,originY:ow,originZ:Ae},lw={...ul,transform:Math.round},y0={...K6,...Z6,zIndex:lw,size:Ae,fillOpacity:iu,strokeOpacity:iu,numOctaves:lw},Q6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J6=cl.length;function eL(t,e,n){let s="",a=!0;for(let o=0;o<J6;o++){const l=cl[o],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const m=zN(u,y0[l]);if(!h){a=!1;const p=Q6[l]||l;s+=`${p}(${m}) `}n&&(e[l]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function b0(t,e,n){const{style:s,vars:a,transformOrigin:o}=t;let l=!1,u=!1;for(const h in e){const m=e[h];if(Gr.has(h)){l=!0;continue}else if(PN(h)){a[h]=m;continue}else{const p=zN(m,y0[h]);h.startsWith("origin")?(u=!0,o[h]=p):s[h]=p}}if(e.transform||(l||n?s.transform=eL(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:p=0}=o;s.transformOrigin=`${h} ${m} ${p}`}}const tL={offset:"stroke-dashoffset",array:"stroke-dasharray"},nL={offset:"strokeDashoffset",array:"strokeDasharray"};function sL(t,e,n=1,s=0,a=!0){t.pathLength=1;const o=a?tL:nL;t[o.offset]=Ae.transform(-s);const l=Ae.transform(e),u=Ae.transform(n);t[o.array]=`${l} ${u}`}function cw(t,e,n){return typeof t=="string"?t:Ae.transform(e+n*t)}function iL(t,e,n){const s=cw(e,t.x,t.width),a=cw(n,t.y,t.height);return`${s} ${a}`}function v0(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...m},p,x){if(b0(t,m,x),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:v,dimensions:w}=t;b.transform&&(w&&(v.transform=b.transform),delete b.transform),w&&(a!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=iL(w,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),l!==void 0&&sL(b,l,u,h,!1)}const _0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),BN=()=>({..._0(),attrs:{}}),w0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VN(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const o in n)t.style.setProperty(o,n[o])}const FN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HN(t,e,n,s){VN(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(FN.has(a)?a:f0(a),e.attrs[a])}const Bh={};function aL(t){Object.assign(Bh,t)}function UN(t,{layout:e,layoutId:n}){return Gr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bh[t]||t==="opacity")}function S0(t,e,n){var s;const{style:a}=t,o={};for(const l in a)(Cn(a[l])||e.style&&Cn(e.style[l])||UN(l,t)||((s=n?.getValue(l))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(o[l]=a[l]);return o}function YN(t,e,n){const s=S0(t,e,n);for(const a in t)if(Cn(t[a])||Cn(e[a])){const o=cl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[o]=t[a]}return s}function rL(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const uw=["x","y","width","height","cx","cy","r"],oL={useVisualState:RN({scrapeMotionValuesFromProps:YN,createRenderState:BN,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:a})=>{if(!n)return;let o=!!t.drag;if(!o){for(const u in a)if(Gr.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<uw.length;u++){const h=uw[u];t[h]!==e[h]&&(l=!0)}l&&_t.read(()=>{rL(n,s),_t.render(()=>{v0(s,a,w0(n.tagName),t.transformTemplate),HN(n,s)})})}})},lL={useVisualState:RN({scrapeMotionValuesFromProps:S0,createRenderState:_0})};function WN(t,e,n){for(const s in e)!Cn(e[s])&&!UN(s,n)&&(t[s]=e[s])}function cL({transformTemplate:t},e){return N.useMemo(()=>{const n=_0();return b0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uL(t,e){const n=t.style||{},s={};return WN(s,n,t),Object.assign(s,cL(t,e)),s}function dL(t,e){const n={},s=uL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function hL(t,e,n,s){const a=N.useMemo(()=>{const o=BN();return v0(o,e,w0(s),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};WN(o,t.style,t),a.style={...o,...a.style}}return a}function fL(t=!1){return(n,s,a,{latestValues:o},l)=>{const h=(p0(n)?hL:dL)(s,o,l,n),m=M6(s,typeof n=="string",t),p=n!==N.Fragment?{...m,...h,ref:a}:{},{children:x}=s,b=N.useMemo(()=>Cn(x)?x.get():x,[x]);return N.createElement(n,{...p,children:b})}}function mL(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const l={...p0(s)?oL:lL,preloadedFeatures:t,useRender:fL(a),createVisualElement:e,Component:s};return z6(l)}}function IN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function pf(t,e,n){const s=t.getProps();return g0(s,e,n!==void 0?n:s.custom,t)}const pL=u0(()=>window.ScrollTimeline!==void 0);class gL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(a=>{if(pL()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xL extends gL{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function j0(t,e){return t?t[e]||t.default||t:void 0}const nx=2e4;function qN(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<nx;)e+=n,s=t.next(e);return e>=nx?1/0:e}function N0(t){return typeof t=="function"}function dw(t,e){t.timeline=e,t.onfinish=null}const k0=t=>Array.isArray(t)&&typeof t[0]=="number",yL={linearEasing:void 0};function bL(t,e){const n=u0(t);return()=>{var s;return(s=yL[e])!==null&&s!==void 0?s:n()}}const Vh=bL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),GN=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)s+=t(el(0,a-1,o))+", ";return`linear(${s.substring(0,s.length-2)})`};function XN(t){return!!(typeof t=="function"&&Vh()||!t||typeof t=="string"&&(t in sx||Vh())||k0(t)||Array.isArray(t)&&t.every(XN))}const Ec=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,sx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ec([0,.65,.55,1]),circOut:Ec([.55,0,1,.45]),backIn:Ec([.31,.01,.66,-.59]),backOut:Ec([.33,1.53,.69,.99])};function $N(t,e){if(t)return typeof t=="function"&&Vh()?GN(t,e):k0(t)?Ec(t):Array.isArray(t)?t.map(n=>$N(n,e)||sx.easeOut):sx[t]}const Fs={x:!1,y:!1};function KN(){return Fs.x||Fs.y}function vL(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function ZN(t,e){const n=vL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function hw(t){return e=>{e.pointerType==="touch"||KN()||t(e)}}function _L(t,e,n={}){const[s,a,o]=ZN(t,n),l=hw(u=>{const{target:h}=u,m=e(u);if(typeof m!="function"||!h)return;const p=hw(x=>{m(x),h.removeEventListener("pointerleave",p)});h.addEventListener("pointerleave",p,a)});return s.forEach(u=>{u.addEventListener("pointerenter",l,a)}),o}const QN=(t,e)=>e?t===e?!0:QN(t,e.parentElement):!1,T0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SL(t){return wL.has(t.tagName)||t.tabIndex!==-1}const Ac=new WeakSet;function fw(t){return e=>{e.key==="Enter"&&t(e)}}function cg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=fw(()=>{if(Ac.has(n))return;cg(n,"down");const a=fw(()=>{cg(n,"up")}),o=()=>cg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function mw(t){return T0(t)&&!KN()}function NL(t,e,n={}){const[s,a,o]=ZN(t,n),l=u=>{const h=u.currentTarget;if(!mw(u)||Ac.has(h))return;Ac.add(h);const m=e(u),p=(v,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!mw(v)||!Ac.has(h))&&(Ac.delete(h),typeof m=="function"&&m(v,{success:w}))},x=v=>{p(v,n.useGlobalTarget||QN(h,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",b,a)};return s.forEach(u=>{!SL(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),u.addEventListener("focus",m=>jL(m,a),a)}),o}function kL(t){return t==="x"||t==="y"?Fs[t]?null:(Fs[t]=!0,()=>{Fs[t]=!1}):Fs.x||Fs.y?null:(Fs.x=Fs.y=!0,()=>{Fs.x=Fs.y=!1})}const JN=new Set(["width","height","top","left","right","bottom",...cl]);let dh;function TL(){dh=void 0}const ci={now:()=>(dh===void 0&&ci.set(_n.isProcessing||w6.useManualTiming?_n.timestamp:performance.now()),dh),set:t=>{dh=t,queueMicrotask(TL)}};function M0(t,e){t.indexOf(e)===-1&&t.push(e)}function C0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class D0{constructor(){this.subscriptions=[]}add(e){return M0(this.subscriptions,e),()=>C0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let o=0;o<a;o++){const l=this.subscriptions[o];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ek(t,e){return e?t*(1e3/e):0}const pw=30,ML=t=>!isNaN(parseFloat(t));class CL{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const o=ci.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ML(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new D0);const s=this.events[e].add(n);return e==="change"?()=>{s(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pw);return ek(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function au(t,e){return new CL(t,e)}function DL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,au(n))}function EL(t,e){const n=pf(t,e);let{transitionEnd:s={},transition:a={},...o}=n||{};o={...o,...s};for(const l in o){const u=Y6(o[l]);DL(t,l,u)}}function AL(t){return!!(Cn(t)&&t.add)}function ix(t,e){const n=t.getValue("willChange");if(AL(n))return n.add(e)}function tk(t){return t.props[EN]}const nk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OL=1e-7,RL=12;function LL(t,e,n,s,a){let o,l,u=0;do l=e+(n-e)/2,o=nk(l,s,a)-t,o>0?n=l:e=l;while(Math.abs(o)>OL&&++u<RL);return l}function bu(t,e,n,s){if(t===e&&n===s)return as;const a=o=>LL(o,0,1,t,n);return o=>o===0||o===1?o:nk(a(o),e,s)}const sk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ik=t=>e=>1-t(1-e),ak=bu(.33,1.53,.69,.99),E0=ik(ak),rk=sk(E0),ok=t=>(t*=2)<1?.5*E0(t):.5*(2-Math.pow(2,-10*(t-1))),A0=t=>1-Math.sin(Math.acos(t)),lk=ik(A0),ck=sk(A0),uk=t=>/^0[^.\s]+$/u.test(t);function PL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uk(t):!0}const Fc=t=>Math.round(t*1e5)/1e5,O0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zL(t){return t==null}const BL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,R0=(t,e)=>n=>!!(typeof n=="string"&&BL.test(n)&&n.startsWith(t)||e&&!zL(n)&&Object.prototype.hasOwnProperty.call(n,e)),dk=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,o,l,u]=s.match(O0);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},VL=t=>Ji(0,255,t),ug={...ul,transform:t=>Math.round(VL(t))},Rr={test:R0("rgb","red"),parse:dk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ug.transform(t)+", "+ug.transform(e)+", "+ug.transform(n)+", "+Fc(iu.transform(s))+")"};function FL(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ax={test:R0("#"),parse:FL,transform:Rr.transform},Vo={test:R0("hsl","hue"),parse:dk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+li.transform(Fc(e))+", "+li.transform(Fc(n))+", "+Fc(iu.transform(s))+")"},kn={test:t=>Rr.test(t)||ax.test(t)||Vo.test(t),parse:t=>Rr.test(t)?Rr.parse(t):Vo.test(t)?Vo.parse(t):ax.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Rr.transform(t):Vo.transform(t)},HL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(O0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(HL))===null||n===void 0?void 0:n.length)||0)>0}const hk="number",fk="color",YL="var",WL="var(",gw="${}",IL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ru(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(IL,h=>(kn.test(h)?(s.color.push(o),a.push(fk),n.push(kn.parse(h))):h.startsWith(WL)?(s.var.push(o),a.push(YL),n.push(h)):(s.number.push(o),a.push(hk),n.push(parseFloat(h))),++o,gw)).split(gw);return{values:n,split:u,indexes:s,types:a}}function mk(t){return ru(t).values}function pk(t){const{split:e,types:n}=ru(t),s=e.length;return a=>{let o="";for(let l=0;l<s;l++)if(o+=e[l],a[l]!==void 0){const u=n[l];u===hk?o+=Fc(a[l]):u===fk?o+=kn.transform(a[l]):o+=a[l]}return o}}const qL=t=>typeof t=="number"?0:t;function GL(t){const e=mk(t);return pk(t)(e.map(qL))}const Qa={test:UL,parse:mk,createTransformer:pk,getAnimatableNone:GL},XL=new Set(["brightness","contrast","saturate","opacity"]);function $L(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(O0)||[];if(!s)return t;const a=n.replace(s,"");let o=XL.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+a+")"}const KL=/\b([a-z-]*)\(.*?\)/gu,rx={...Qa,getAnimatableNone:t=>{const e=t.match(KL);return e?e.map($L).join(" "):t}},ZL={...y0,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:rx,WebkitFilter:rx},L0=t=>ZL[t];function gk(t,e){let n=L0(t);return n!==rx&&(n=Qa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QL=new Set(["auto","none","0"]);function JL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const o=t[s];typeof o=="string"&&!QL.has(o)&&ru(o).values.length&&(a=t[s]),s++}if(a&&n)for(const o of e)t[o]=gk(n,a)}const xw=t=>t===ul||t===Ae,yw=(t,e)=>parseFloat(t.split(", ")[e]),bw=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return yw(a[1],e);{const o=s.match(/^matrix\((.+)\)$/u);return o?yw(o[1],t):0}},eP=new Set(["x","y","z"]),tP=cl.filter(t=>!eP.has(t));function nP(t){const e=[];return tP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bw(4,13),y:bw(5,14)};nl.translateX=nl.x;nl.translateY=nl.y;const Vr=new Set;let ox=!1,lx=!1;function xk(){if(lx){const t=Array.from(Vr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=nP(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([o,l])=>{var u;(u=s.getValue(o))===null||u===void 0||u.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}lx=!1,ox=!1,Vr.forEach(t=>t.complete()),Vr.clear()}function yk(){Vr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lx=!0)})}function sP(){yk(),xk()}class P0{constructor(e,n,s,a,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vr.add(this),ox||(ox=!0,_t.read(yk),_t.resolveKeyframes(xk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),iP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aP(t){const e=iP.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function vk(t,e,n=1){const[s,a]=aP(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const l=o.trim();return bk(l)?parseFloat(l):l}return x0(a)?vk(a,e,n+1):a}const _k=t=>e=>e.test(t),rP={test:t=>t==="auto",parse:t=>t},wk=[ul,Ae,li,Pa,$6,X6,rP],vw=t=>wk.find(_k(t));class Sk extends P0{constructor(e,n,s,a,o){super(e,n,s,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),x0(m))){const p=vk(m,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!JN.has(s)||e.length!==2)return;const[a,o]=e,l=vw(a),u=vw(o);if(l!==u)if(xw(l)&&xw(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)PL(e[a])&&s.push(a);s.length&&JL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nl[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const o=n.getValue(s);o&&o.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=nl[s](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,m])=>{n.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const _w=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qa.test(t)||t==="0")&&!t.startsWith("url("));function oP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function lP(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=_w(a,e),u=_w(o,e);return!l||!u?!1:oP(t)||(n==="spring"||N0(n))&&s}const cP=t=>t!==null;function gf(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(cP),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||s===void 0?a[o]:s}const uP=40;class jk{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ci.now(),this.options={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>uP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sP(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ci.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:m}=this.options;if(!m&&!lP(e,s,a,o))if(l)this.options.duration=0;else{h&&h(gf(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Mt=(t,e,n)=>t+(e-t)*n;function dg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dP({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,o=0,l=0;if(!e)a=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;a=dg(h,u,t+1/3),o=dg(h,u,t),l=dg(h,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:s}}function Fh(t,e){return n=>n>0?e:t}const hg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},hP=[ax,Rr,Vo],fP=t=>hP.find(e=>e.test(t));function ww(t){const e=fP(t);if(!e)return!1;let n=e.parse(t);return e===Vo&&(n=dP(n)),n}const Sw=(t,e)=>{const n=ww(t),s=ww(e);if(!n||!s)return Fh(t,e);const a={...n};return o=>(a.red=hg(n.red,s.red,o),a.green=hg(n.green,s.green,o),a.blue=hg(n.blue,s.blue,o),a.alpha=Mt(n.alpha,s.alpha,o),Rr.transform(a))},mP=(t,e)=>n=>e(t(n)),vu=(...t)=>t.reduce(mP),cx=new Set(["none","hidden"]);function pP(t,e){return cx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gP(t,e){return n=>Mt(t,e,n)}function z0(t){return typeof t=="number"?gP:typeof t=="string"?x0(t)?Fh:kn.test(t)?Sw:bP:Array.isArray(t)?Nk:typeof t=="object"?kn.test(t)?Sw:xP:Fh}function Nk(t,e){const n=[...t],s=n.length,a=t.map((o,l)=>z0(o)(o,e[l]));return o=>{for(let l=0;l<s;l++)n[l]=a[l](o);return n}}function xP(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=z0(t[a])(t[a],e[a]));return a=>{for(const o in s)n[o]=s[o](a);return n}}function yP(t,e){var n;const s=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][a[l]],h=(n=t.values[u])!==null&&n!==void 0?n:0;s[o]=h,a[l]++}return s}const bP=(t,e)=>{const n=Qa.createTransformer(e),s=ru(t),a=ru(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?cx.has(t)&&!a.values.length||cx.has(e)&&!s.values.length?pP(t,e):vu(Nk(yP(s,a),a.values),n):Fh(t,e)};function kk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):z0(t)(t,e)}const vP=5;function Tk(t,e,n){const s=Math.max(e-vP,0);return ek(n-t(s),e-s)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fg=.001;function _P({duration:t=Ot.duration,bounce:e=Ot.bounce,velocity:n=Ot.velocity,mass:s=Ot.mass}){let a,o,l=1-e;l=Ji(Ot.minDamping,Ot.maxDamping,l),t=Ji(Ot.minDuration,Ot.maxDuration,Ki(t)),l<1?(a=m=>{const p=m*l,x=p*t,b=p-n,v=ux(m,l),w=Math.exp(-x);return fg-b/v*w},o=m=>{const x=m*l*t,b=x*n+n,v=Math.pow(l,2)*Math.pow(m,2)*t,w=Math.exp(-x),S=ux(Math.pow(m,2),l);return(-a(m)+fg>0?-1:1)*((b-v)*w)/S}):(a=m=>{const p=Math.exp(-m*t),x=(m-n)*t+1;return-fg+p*x},o=m=>{const p=Math.exp(-m*t),x=(n-m)*(t*t);return p*x});const u=5/t,h=SP(a,o,u);if(t=$i(t),isNaN(h))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:t};{const m=Math.pow(h,2)*s;return{stiffness:m,damping:l*2*Math.sqrt(s*m),duration:t}}}const wP=12;function SP(t,e,n){let s=n;for(let a=1;a<wP;a++)s=s-t(s)/e(s);return s}function ux(t,e){return t*Math.sqrt(1-e*e)}const jP=["duration","bounce"],NP=["stiffness","damping","mass"];function jw(t,e){return e.some(n=>t[n]!==void 0)}function kP(t){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...t};if(!jw(t,NP)&&jw(t,jP))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,o=2*Ji(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ot.mass,stiffness:a,damping:o}}else{const n=_P(t);e={...e,...n,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function Mk(t=Ot.visualDuration,e=Ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:m,mass:p,duration:x,velocity:b,isResolvedFromDuration:v}=kP({...n,velocity:-Ki(n.velocity||0)}),w=b||0,S=m/(2*Math.sqrt(h*p)),j=l-o,k=Ki(Math.sqrt(h/p)),C=Math.abs(j)<5;s||(s=C?Ot.restSpeed.granular:Ot.restSpeed.default),a||(a=C?Ot.restDelta.granular:Ot.restDelta.default);let E;if(S<1){const R=ux(k,S);E=A=>{const L=Math.exp(-S*k*A);return l-L*((w+S*k*j)/R*Math.sin(R*A)+j*Math.cos(R*A))}}else if(S===1)E=R=>l-Math.exp(-k*R)*(j+(w+k*j)*R);else{const R=k*Math.sqrt(S*S-1);E=A=>{const L=Math.exp(-S*k*A),P=Math.min(R*A,300);return l-L*((w+S*k*j)*Math.sinh(P)+R*j*Math.cosh(P))/R}}const O={calculatedDuration:v&&x||null,next:R=>{const A=E(R);if(v)u.done=R>=x;else{let L=0;S<1&&(L=R===0?$i(w):Tk(E,R,A));const P=Math.abs(L)<=s,U=Math.abs(l-A)<=a;u.done=P&&U}return u.value=u.done?l:A,u},toString:()=>{const R=Math.min(qN(O),nx),A=GN(L=>O.next(R*L).value,R,30);return R+"ms "+A}};return O}function Nw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:p}){const x=t[0],b={done:!1,value:x},v=P=>u!==void 0&&P<u||h!==void 0&&P>h,w=P=>u===void 0?h:h===void 0||Math.abs(u-P)<Math.abs(h-P)?u:h;let S=n*e;const j=x+S,k=l===void 0?j:l(j);k!==j&&(S=k-x);const C=P=>-S*Math.exp(-P/s),E=P=>k+C(P),O=P=>{const U=C(P),$=E(P);b.done=Math.abs(U)<=m,b.value=b.done?k:$};let R,A;const L=P=>{v(b.value)&&(R=P,A=Mk({keyframes:[b.value,w(b.value)],velocity:Tk(E,P,b.value),damping:a,stiffness:o,restDelta:m,restSpeed:p}))};return L(0),{calculatedDuration:null,next:P=>{let U=!1;return!A&&R===void 0&&(U=!0,O(P),L(P)),R!==void 0&&P>=R?A.next(P-R):(!U&&O(P),b)}}}const TP=bu(.42,0,1,1),MP=bu(0,0,.58,1),Ck=bu(.42,0,.58,1),CP=t=>Array.isArray(t)&&typeof t[0]!="number",DP={linear:as,easeIn:TP,easeInOut:Ck,easeOut:MP,circIn:A0,circInOut:ck,circOut:lk,backIn:E0,backInOut:rk,backOut:ak,anticipate:ok},kw=t=>{if(k0(t)){kN(t.length===4);const[e,n,s,a]=t;return bu(e,n,s,a)}else if(typeof t=="string")return DP[t];return t};function EP(t,e,n){const s=[],a=n||kk,o=t.length-1;for(let l=0;l<o;l++){let u=a(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||as:e;u=vu(h,u)}s.push(u)}return s}function AP(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const o=t.length;if(kN(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=EP(e,s,a),h=u.length,m=p=>{if(l&&p<t[0])return e[0];let x=0;if(h>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const b=el(t[x],t[x+1],p);return u[x](b)};return n?p=>m(Ji(t[0],t[o-1],p)):m}function OP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=el(0,e,s);t.push(Mt(n,1,a))}}function RP(t){const e=[0];return OP(e,t.length-1),e}function LP(t,e){return t.map(n=>n*e)}function PP(t,e){return t.map(()=>e||Ck).splice(0,t.length-1)}function Hh({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=CP(s)?s.map(kw):kw(s),o={done:!1,value:e[0]},l=LP(n&&n.length===e.length?n:RP(e),t),u=AP(l,e,{ease:Array.isArray(a)?a:PP(e,a)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const zP=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_t.update(e,!0),stop:()=>Za(e),now:()=>_n.isProcessing?_n.timestamp:ci.now()}},BP={decay:Nw,inertia:Nw,tween:Hh,keyframes:Hh,spring:Mk},VP=t=>t/100;class B0 extends jk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:s,element:a,keyframes:o}=this.options,l=a?.KeyframeResolver||P0,u=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new l(o,u,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o,velocity:l=0}=this.options,u=N0(n)?n:BP[n]||Hh;let h,m;u!==Hh&&typeof e[0]!="number"&&(h=vu(VP,kk(e[0],e[1])),e=[0,100]);const p=u({...this.options,keyframes:e});o==="mirror"&&(m=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=qN(p));const{calculatedDuration:x}=p,b=x+a,v=b*(s+1)-a;return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:x,resolvedDuration:b,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:m,totalDuration:p,resolvedDuration:x}=s;if(this.startTime===null)return o.next(0);const{delay:b,repeat:v,repeatType:w,repeatDelay:S,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const k=this.currentTime-b*(this.speed>=0?1:-1),C=this.speed>=0?k<0:k>p;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let E=this.currentTime,O=o;if(v){const P=Math.min(this.currentTime,p)/x;let U=Math.floor(P),$=P%1;!$&&P>=1&&($=1),$===1&&U--,U=Math.min(U,v+1),U%2&&(w==="reverse"?($=1-$,S&&($-=S/x)):w==="mirror"&&(O=l)),E=Ji(0,1,$)*x}const R=C?{done:!1,value:h[0]}:O.next(E);u&&(R.value=u(R.value));let{done:A}=R;!C&&m!==null&&(A=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return L&&a!==void 0&&(R.value=gf(h,this.options,a)),j&&j(R.value),L&&this.finish(),R}get duration(){const{resolved:e}=this;return e?Ki(e.calculatedDuration):0}get time(){return Ki(this.currentTime)}set time(e){e=$i(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ki(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zP,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const FP=new Set(["opacity","clipPath","filter","transform"]);function HP(t,e,n,{delay:s=0,duration:a=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const m={[e]:n};h&&(m.offset=h);const p=$N(u,a);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:s,duration:a,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const UP=u0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Uh=10,YP=2e4;function WP(t){return N0(t.type)||t.type==="spring"||!XN(t.ease)}function IP(t,e){const n=new B0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let o=0;for(;!s.done&&o<YP;)s=n.sample(o),a.push(s.value),o+=Uh;return{times:void 0,keyframes:a,duration:o-Uh,ease:"linear"}}const Dk={anticipate:ok,backInOut:rk,circInOut:ck};function qP(t){return t in Dk}class Tw extends jk{constructor(e){super(e);const{name:n,motionValue:s,element:a,keyframes:o}=this.options;this.resolver=new Sk(o,(l,u)=>this.onKeyframesResolved(l,u),n,s,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:a,ease:o,type:l,motionValue:u,name:h,startTime:m}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&Vh()&&qP(o)&&(o=Dk[o]),WP(this.options)){const{onComplete:x,onUpdate:b,motionValue:v,element:w,...S}=this.options,j=IP(e,S);e=j.keyframes,e.length===1&&(e[1]=e[0]),s=j.duration,a=j.times,o=j.ease,l="keyframes"}const p=HP(u.owner.current,h,e,{...this.options,duration:s,times:a,ease:o});return p.startTime=m??this.calcStartTime(),this.pendingTimeline?(dw(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:x}=this.options;u.set(gf(e,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:s,times:a,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ki(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ki(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=$i(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return as;const{animation:s}=n;dw(s,e)}return as}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:a,type:o,ease:l,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:p,onComplete:x,element:b,...v}=this.options,w=new B0({...v,keyframes:s,duration:a,type:o,ease:l,times:u,isGenerator:!0}),S=$i(this.time);m.setWithVelocity(w.sample(S-Uh).value,w.sample(S).value,Uh)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:a,repeatType:o,damping:l,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=n.owner.getProps();return UP()&&s&&FP.has(s)&&!h&&!m&&!a&&o!=="mirror"&&l!==0&&u!=="inertia"}}const GP={type:"spring",stiffness:500,damping:25,restSpeed:10},XP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$P={type:"keyframes",duration:.8},KP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZP=(t,{keyframes:e})=>e.length>2?$P:Gr.has(t)?t.startsWith("scale")?XP(e[1]):GP:KP;function QP({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const V0=(t,e,n,s={},a,o)=>l=>{const u=j0(s,t)||{},h=u.delay||s.delay||0;let{elapsed:m=0}=s;m=m-$i(h);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:a};QP(u)||(p={...p,...ZP(t,p)}),p.duration&&(p.duration=$i(p.duration)),p.repeatDelay&&(p.repeatDelay=$i(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const b=gf(p.keyframes,u);if(b!==void 0)return _t.update(()=>{p.onUpdate(b),p.onComplete()}),new xL([])}return!o&&Tw.supports(p)?new Tw(p):new B0(p)};function JP({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Ek(t,e,{delay:n=0,transitionOverride:s,type:a}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const x in h){const b=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),v=h[x];if(v===void 0||p&&JP(p,x))continue;const w={delay:n,...j0(l||{},x)};let S=!1;if(window.MotionHandoffAnimation){const k=tk(t);if(k){const C=window.MotionHandoffAnimation(k,x,_t);C!==null&&(w.startTime=C,S=!0)}}ix(t,x),b.start(V0(x,b,v,t.shouldReduceMotion&&JN.has(x)?{type:!1}:w,t,S));const j=b.animation;j&&m.push(j)}return u&&Promise.all(m).then(()=>{_t.update(()=>{u&&EL(t,u)})}),m}function dx(t,e,n={}){var s;const a=pf(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(o=n.transitionOverride);const l=a?()=>Promise.all(Ek(t,a,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:b}=o;return e8(t,e,p+m,x,b,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,p]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function e8(t,e,n=0,s=0,a=1,o){const l=[],u=(t.variantChildren.size-1)*s,h=a===1?(m=0)=>m*s:(m=0)=>u-m*s;return Array.from(t.variantChildren).sort(t8).forEach((m,p)=>{m.notify("AnimationStart",e),l.push(dx(m,e,{...o,delay:n+h(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function t8(t,e){return t.sortNodePosition(e)}function n8(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(o=>dx(t,o,n));s=Promise.all(a)}else if(typeof e=="string")s=dx(t,e,n);else{const a=typeof e=="function"?pf(t,e,n.custom):e;s=Promise.all(Ek(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const s8=h0.length;function Ak(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ak(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<s8;n++){const s=h0[n],a=t.props[s];(su(a)||a===!1)&&(e[s]=a)}return e}const i8=[...d0].reverse(),a8=d0.length;function r8(t){return e=>Promise.all(e.map(({animation:n,options:s})=>n8(t,n,s)))}function o8(t){let e=r8(t),n=Mw(),s=!0;const a=h=>(m,p)=>{var x;const b=pf(t,p,h==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(b){const{transition:v,transitionEnd:w,...S}=b;m={...m,...S,...w}}return m};function o(h){e=h(t)}function l(h){const{props:m}=t,p=Ak(t.parent)||{},x=[],b=new Set;let v={},w=1/0;for(let j=0;j<a8;j++){const k=i8[j],C=n[k],E=m[k]!==void 0?m[k]:p[k],O=su(E),R=k===h?C.isActive:null;R===!1&&(w=j);let A=E===p[k]&&E!==m[k]&&O;if(A&&s&&t.manuallyAnimateOnMount&&(A=!1),C.protectedKeys={...v},!C.isActive&&R===null||!E&&!C.prevProp||ff(E)||typeof E=="boolean")continue;const L=l8(C.prevProp,E);let P=L||k===h&&C.isActive&&!A&&O||j>w&&O,U=!1;const $=Array.isArray(E)?E:[E];let ee=$.reduce(a(k),{});R===!1&&(ee={});const{prevResolvedValues:re={}}=C,de={...re,...ee},fe=Q=>{P=!0,b.has(Q)&&(U=!0,b.delete(Q)),C.needsAnimating[Q]=!0;const ue=t.getValue(Q);ue&&(ue.liveStyle=!1)};for(const Q in de){const ue=ee[Q],oe=re[Q];if(v.hasOwnProperty(Q))continue;let xe=!1;tx(ue)&&tx(oe)?xe=!IN(ue,oe):xe=ue!==oe,xe?ue!=null?fe(Q):b.add(Q):ue!==void 0&&b.has(Q)?fe(Q):C.protectedKeys[Q]=!0}C.prevProp=E,C.prevResolvedValues=ee,C.isActive&&(v={...v,...ee}),s&&t.blockInitialAnimation&&(P=!1),P&&(!(A&&L)||U)&&x.push(...$.map(Q=>({animation:Q,options:{type:k}})))}if(b.size){const j={};b.forEach(k=>{const C=t.getBaseTarget(k),E=t.getValue(k);E&&(E.liveStyle=!0),j[k]=C??null}),x.push({animation:j})}let S=!!x.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(x):Promise.resolve()}function u(h,m){var p;if(n[h].isActive===m)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(b=>{var v;return(v=b.animationState)===null||v===void 0?void 0:v.setActive(h,m)}),n[h].isActive=m;const x=l(h);for(const b in n)n[b].protectedKeys={};return x}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Mw(),s=!0}}}function l8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IN(e,t):!1}function Mr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mw(){return{animate:Mr(!0),whileInView:Mr(),whileHover:Mr(),whileTap:Mr(),whileDrag:Mr(),whileFocus:Mr(),exit:Mr()}}class nr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class c8 extends nr{constructor(e){super(e),e.animationState||(e.animationState=o8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ff(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let u8=0;class d8 extends nr{constructor(){super(...arguments),this.id=u8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const h8={animation:{Feature:c8},exit:{Feature:d8}};function ou(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function _u(t){return{point:{x:t.pageX,y:t.pageY}}}const f8=t=>e=>T0(e)&&t(e,_u(e));function Hc(t,e,n,s){return ou(t,e,f8(n),s)}const Cw=(t,e)=>Math.abs(t-e);function m8(t,e){const n=Cw(t.x,e.x),s=Cw(t.y,e.y);return Math.sqrt(n**2+s**2)}class Ok{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=pg(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=m8(x.offset,{x:0,y:0})>=3;if(!b&&!v)return;const{point:w}=x,{timestamp:S}=_n;this.history.push({...w,timestamp:S});const{onStart:j,onMove:k}=this.handlers;b||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=mg(b,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=pg(x.type==="pointercancel"?this.lastMoveEventInfo:mg(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,j),w&&w(x,j)},!T0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const l=_u(e),u=mg(l,this.transformPagePoint),{point:h}=u,{timestamp:m}=_n;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,pg(u,this.history)),this.removeListeners=vu(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Za(this.updatePoint)}}function mg(t,e){return e?{point:e(t.point)}:t}function Dw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pg({point:t},e){return{point:t,delta:Dw(t,Rk(e)),offset:Dw(t,p8(e)),velocity:g8(e,.1)}}function p8(t){return t[0]}function Rk(t){return t[t.length-1]}function g8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=Rk(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>$i(e)));)n--;if(!s)return{x:0,y:0};const o=Ki(a.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const l={x:(a.x-s.x)/o,y:(a.y-s.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const Lk=1e-4,x8=1-Lk,y8=1+Lk,Pk=.01,b8=0-Pk,v8=0+Pk;function rs(t){return t.max-t.min}function _8(t,e,n){return Math.abs(t-e)<=n}function Ew(t,e,n,s=.5){t.origin=s,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=rs(n)/rs(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=x8&&t.scale<=y8||isNaN(t.scale))&&(t.scale=1),(t.translate>=b8&&t.translate<=v8||isNaN(t.translate))&&(t.translate=0)}function Uc(t,e,n,s){Ew(t.x,e.x,n.x,s?s.originX:void 0),Ew(t.y,e.y,n.y,s?s.originY:void 0)}function Aw(t,e,n){t.min=n.min+e.min,t.max=t.min+rs(e)}function w8(t,e,n){Aw(t.x,e.x,n.x),Aw(t.y,e.y,n.y)}function Ow(t,e,n){t.min=e.min-n.min,t.max=t.min+rs(e)}function Yc(t,e,n){Ow(t.x,e.x,n.x),Ow(t.y,e.y,n.y)}function S8(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Mt(n,t,s.max):Math.min(t,n)),t}function Rw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function j8(t,{top:e,left:n,bottom:s,right:a}){return{x:Rw(t.x,n,a),y:Rw(t.y,e,s)}}function Lw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function N8(t,e){return{x:Lw(t.x,e.x),y:Lw(t.y,e.y)}}function k8(t,e){let n=.5;const s=rs(t),a=rs(e);return a>s?n=el(e.min,e.max-s,t.min):s>a&&(n=el(t.min,t.max-a,e.min)),Ji(0,1,n)}function T8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hx=.35;function M8(t=hx){return t===!1?t=0:t===!0&&(t=hx),{x:Pw(t,"left","right"),y:Pw(t,"top","bottom")}}function Pw(t,e,n){return{min:zw(t,e),max:zw(t,n)}}function zw(t,e){return typeof t=="number"?t:t[e]||0}const Bw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:Bw(),y:Bw()}),Vw=()=>({min:0,max:0}),Ft=()=>({x:Vw(),y:Vw()});function Ns(t){return[t("x"),t("y")]}function zk({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function C8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function D8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function gg(t){return t===void 0||t===1}function fx({scale:t,scaleX:e,scaleY:n}){return!gg(t)||!gg(e)||!gg(n)}function Ar(t){return fx(t)||Bk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Bk(t){return Fw(t.x)||Fw(t.y)}function Fw(t){return t&&t!=="0%"}function Yh(t,e,n){const s=t-n,a=e*s;return n+a}function Hw(t,e,n,s,a){return a!==void 0&&(t=Yh(t,a,s)),Yh(t,n,s)+e}function mx(t,e=0,n=1,s,a){t.min=Hw(t.min,e,n,s,a),t.max=Hw(t.max,e,n,s,a)}function Vk(t,{x:e,y:n}){mx(t.x,e.translate,e.scale,e.originPoint),mx(t.y,n.translate,n.scale,n.originPoint)}const Uw=.999999999999,Yw=1.0000000000001;function E8(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,l;for(let u=0;u<a;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Uo(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Vk(t,l)),s&&Ar(o.latestValues)&&Uo(t,o.latestValues))}e.x<Yw&&e.x>Uw&&(e.x=1),e.y<Yw&&e.y>Uw&&(e.y=1)}function Ho(t,e){t.min=t.min+e,t.max=t.max+e}function Ww(t,e,n,s,a=.5){const o=Mt(t.min,t.max,a);mx(t,e,n,o,s)}function Uo(t,e){Ww(t.x,e.x,e.scaleX,e.scale,e.originX),Ww(t.y,e.y,e.scaleY,e.scale,e.originY)}function Fk(t,e){return zk(D8(t.getBoundingClientRect(),e))}function A8(t,e,n){const s=Fk(t,n),{scroll:a}=e;return a&&(Ho(s.x,a.offset.x),Ho(s.y,a.offset.y)),s}const Hk=({current:t})=>t?t.ownerDocument.defaultView:null,O8=new WeakMap;class R8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_u(p).point)},o=(p,x)=>{const{drag:b,dragPropagation:v,onDragStart:w}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kL(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ns(j=>{let k=this.getAxisMotionValue(j).get()||0;if(li.test(k)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[j];E&&(k=rs(E)*(parseFloat(k)/100))}}this.originPoint[j]=k}),w&&_t.postRender(()=>w(p,x)),ix(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,x)=>{const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=x;if(v&&this.currentDirection===null){this.currentDirection=L8(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),S&&S(p,x)},u=(p,x)=>this.stop(p,x),h=()=>Ns(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Ok(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Hk(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&_t.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!th(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=S8(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Bo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=j8(a.layoutBox,n):this.constraints=!1,this.elastic=M8(s),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ns(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=T8(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=A8(s,a.root,this.visualElement.getTransformPagePoint());let l=N8(a.layout.layoutBox,o);if(n){const u=n(C8(l));this.hasMutatedConstraints=!!u,u&&(l=zk(u))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Ns(p=>{if(!th(p,n,this.currentDirection))return;let x=h&&h[p]||{};l&&(x={min:0,max:0});const b=a?200:1e6,v=a?40:1e7,w={type:"inertia",velocity:s?e[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(p,w)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ix(this.visualElement,e),s.start(V0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ns(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ns(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ns(n=>{const{drag:s}=this.getProps();if(!th(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[n];o.set(e[n]-Mt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Bo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ns(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();a[l]=k8({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ns(l=>{if(!th(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(Mt(h,m,a[l]))})}addListeners(){if(!this.visualElement.current)return;O8.set(this.visualElement,this);const e=this.visualElement.current,n=Hc(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Bo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),_t.read(s);const l=ou(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ns(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=h[p].translate,x.set(x.get()+h[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:l=hx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function th(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function L8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class P8 extends nr{constructor(e){super(e),this.removeGroupControls=as,this.removeListeners=as,this.controls=new R8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||as}unmount(){this.removeGroupControls(),this.removeListeners()}}const Iw=t=>(e,n)=>{t&&_t.postRender(()=>t(e,n))};class z8 extends nr{constructor(){super(...arguments),this.removePointerDownListener=as}onPointerDown(e){this.session=new Ok(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Iw(e),onStart:Iw(n),onMove:s,onEnd:(o,l)=>{delete this.session,a&&_t.postRender(()=>a(o,l))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const yc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=qw(t,e.target.x),s=qw(t,e.target.y);return`${n}% ${s}%`}},B8={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Qa.parse(t);if(a.length>5)return s;const o=Qa.createTransformer(t),l=typeof a[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;a[0+l]/=u,a[1+l]/=h;const m=Mt(u,h,.5);return typeof a[2+l]=="number"&&(a[2+l]/=m),typeof a[3+l]=="number"&&(a[3+l]/=m),o(a)}};class V8 extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:o}=e;aL(F8),o&&(n.group&&n.group.add(o),s&&s.register&&a&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:o}=this.props,l=s.projection;return l&&(l.isPresent=o,a||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||_t.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),m0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Uk(t){const[e,n]=jN(),s=N.useContext(r0);return d.jsx(V8,{...t,layoutGroup:s,switchLayoutGroup:N.useContext(AN),isPresent:e,safeToRemove:n})}const F8={borderRadius:{...yc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yc,borderTopRightRadius:yc,borderBottomLeftRadius:yc,borderBottomRightRadius:yc,boxShadow:B8};function H8(t,e,n){const s=Cn(t)?t:au(t);return s.start(V0("",s,e,n)),s.animation}function U8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Y8=(t,e)=>t.depth-e.depth;class W8{constructor(){this.children=[],this.isDirty=!1}add(e){M0(this.children,e),this.isDirty=!0}remove(e){C0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Y8),this.isDirty=!1,this.children.forEach(e)}}function I8(t,e){const n=ci.now(),s=({timestamp:a})=>{const o=a-n;o>=e&&(Za(s),t(o-e))};return _t.read(s,!0),()=>Za(s)}const Yk=["TopLeft","TopRight","BottomLeft","BottomRight"],q8=Yk.length,Gw=t=>typeof t=="string"?parseFloat(t):t,Xw=t=>typeof t=="number"||Ae.test(t);function G8(t,e,n,s,a,o){a?(t.opacity=Mt(0,n.opacity!==void 0?n.opacity:1,X8(s)),t.opacityExit=Mt(e.opacity!==void 0?e.opacity:1,0,$8(s))):o&&(t.opacity=Mt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let l=0;l<q8;l++){const u=`border${Yk[l]}Radius`;let h=$w(e,u),m=$w(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Xw(h)===Xw(m)?(t[u]=Math.max(Mt(Gw(h),Gw(m),s),0),(li.test(m)||li.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,s))}function $w(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const X8=Wk(0,.5,lk),$8=Wk(.5,.95,as);function Wk(t,e,n){return s=>s<t?0:s>e?1:n(el(t,e,s))}function Kw(t,e){t.min=e.min,t.max=e.max}function Ss(t,e){Kw(t.x,e.x),Kw(t.y,e.y)}function Zw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Qw(t,e,n,s,a){return t-=e,t=Yh(t,1/n,s),a!==void 0&&(t=Yh(t,1/a,s)),t}function K8(t,e=0,n=1,s=.5,a,o=t,l=t){if(li.test(e)&&(e=parseFloat(e),e=Mt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Mt(o.min,o.max,s);t===o&&(u-=e),t.min=Qw(t.min,e,n,u,a),t.max=Qw(t.max,e,n,u,a)}function Jw(t,e,[n,s,a],o,l){K8(t,e[n],e[s],e[a],e.scale,o,l)}const Z8=["x","scaleX","originX"],Q8=["y","scaleY","originY"];function eS(t,e,n,s){Jw(t.x,e,Z8,n?n.x:void 0,s?s.x:void 0),Jw(t.y,e,Q8,n?n.y:void 0,s?s.y:void 0)}function tS(t){return t.translate===0&&t.scale===1}function Ik(t){return tS(t.x)&&tS(t.y)}function nS(t,e){return t.min===e.min&&t.max===e.max}function J8(t,e){return nS(t.x,e.x)&&nS(t.y,e.y)}function sS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qk(t,e){return sS(t.x,e.x)&&sS(t.y,e.y)}function iS(t){return rs(t.x)/rs(t.y)}function aS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ez{constructor(){this.members=[]}add(e){M0(this.members,e),e.scheduleRender()}remove(e){if(C0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tz(t,e,n){let s="";const a=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((a||o||l)&&(s=`translate3d(${a}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:b,skewX:v,skewY:w}=n;m&&(s=`perspective(${m}px) ${s}`),p&&(s+=`rotate(${p}deg) `),x&&(s+=`rotateX(${x}deg) `),b&&(s+=`rotateY(${b}deg) `),v&&(s+=`skewX(${v}deg) `),w&&(s+=`skewY(${w}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(s+=`scale(${u}, ${h})`),s||"none"}const Or={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Oc=typeof window<"u"&&window.MotionDebug!==void 0,xg=["","X","Y","Z"],nz={visibility:"hidden"},rS=1e3;let sz=0;function yg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Gk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",_t,!(a||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Gk(s)}function Xk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(l={},u=e?.()){this.id=sz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Oc&&(Or.totalNodes=Or.resolvedTargetDeltas=Or.recalculatedProjection=0),this.nodes.forEach(rz),this.nodes.forEach(dz),this.nodes.forEach(hz),this.nodes.forEach(oz),Oc&&window.MotionDebug.record(Or)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new W8)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new D0),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=U8(l),this.instance=l;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||h)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=I8(b,250),hh.hasAnimatedSinceResize&&(hh.hasAnimatedSinceResize=!1,this.nodes.forEach(lS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||xz,{onLayoutAnimationStart:j,onLayoutAnimationComplete:k}=p.getProps(),C=!this.targetLayout||!qk(this.targetLayout,w)||v,E=!b&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||b&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,E);const O={...j0(S,"layout"),onPlay:j,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else b||lS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Za(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oS);return}this.isUpdating||this.nodes.forEach(cz),this.isUpdating=!1,this.nodes.forEach(uz),this.nodes.forEach(iz),this.nodes.forEach(az),this.clearAllSnapshots();const u=ci.now();_n.delta=Ji(0,1e3/60,u-_n.timestamp),_n.timestamp=u,_n.isProcessing=!0,lg.update.process(_n),lg.preRender.process(_n),lg.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lz),this.sharedNodes.forEach(mz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Ik(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;l&&(u||Ar(this.latestValues)||p)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),yz(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return Ft();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(bz))){const{scroll:p}=this.root;p&&(Ho(h.x,p.offset.x),Ho(h.y,p.offset.y))}return h}removeElementScroll(l){var u;const h=Ft();if(Ss(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:b}=p;p!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&Ss(h,l),Ho(h.x,x.offset.x),Ho(h.y,x.offset.y))}return h}applyTransform(l,u=!1){const h=Ft();Ss(h,l);for(let m=0;m<this.path.length;m++){const p=this.path[m];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Uo(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ar(p.latestValues)&&Uo(h,p.latestValues)}return Ar(this.latestValues)&&Uo(h,this.latestValues),h}removeTransform(l){const u=Ft();Ss(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Ar(m.latestValues))continue;fx(m.latestValues)&&m.updateSnapshot();const p=Ft(),x=m.measurePageBox();Ss(p,x),eS(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Ar(this.latestValues)&&eS(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),Yc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),Vk(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),Yc(this.relativeTargetOrigin,this.target,v.target),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oc&&Or.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fx(this.parent.latestValues)||Bk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;Ss(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;E8(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ft());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zw(this.prevProjectionDelta.x,this.projectionDelta.x),Zw(this.prevProjectionDelta.y,this.projectionDelta.y)),Uc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!aS(this.projectionDelta.x,this.prevProjectionDelta.x)||!aS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Oc&&Or.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fo(),this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo()}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},x=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Ft(),v=h?h.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,j=this.getStack(),k=!j||j.members.length<=1,C=!!(S&&!k&&this.options.crossfade===!0&&!this.path.some(gz));this.animationProgress=0;let E;this.mixTargetDelta=O=>{const R=O/1e3;cS(x.x,l.x,R),cS(x.y,l.y,R),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pz(this.relativeTarget,this.relativeTargetOrigin,b,R),E&&J8(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ft()),Ss(E,this.relativeTarget)),S&&(this.animationValues=p,G8(p,m,this.latestValues,R,C,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Za(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{hh.hasAnimatedSinceResize=!0,this.currentAnimation=H8(0,rS,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:p}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&$k(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Ft();const x=rs(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+x;const b=rs(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+b}Ss(u,h),Uo(u,p),Uc(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ez),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&yg("z",l,m,this.animationValues);for(let p=0;p<xg.length;p++)yg(`rotate${xg[p]}`,l,m,this.animationValues),yg(`skew${xg[p]}`,l,m,this.animationValues);l.render();for(const p in m)l.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nz;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=uh(l?.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=uh(l?.pointerEvents)||""),this.hasProjected&&!Ar(this.latestValues)&&(S.transform=p?p({},""):"none",this.hasProjected=!1),S}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=tz(this.projectionDeltaWithTransform,this.treeScale,b),p&&(m.transform=p(b,m.transform));const{x:v,y:w}=this.projectionDelta;m.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,x.animationValues?m.opacity=x===this?(h=(u=b.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const S in Bh){if(b[S]===void 0)continue;const{correct:j,applyTo:k}=Bh[S],C=m.transform==="none"?b[S]:j(b[S],x);if(k){const E=k.length;for(let O=0;O<E;O++)m[k[O]]=C}else m[S]=C}return this.options.layoutId&&(m.pointerEvents=x===this?uh(l?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(oS),this.root.sharedNodes.clear()}}}function iz(t){t.updateLayout()}function az(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?Ns(x=>{const b=l?n.measuredBox[x]:n.layoutBox[x],v=rs(b);b.min=s[x].min,b.max=b.min+v}):$k(o,n.layoutBox,s)&&Ns(x=>{const b=l?n.measuredBox[x]:n.layoutBox[x],v=rs(s[x]);b.max=b.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+v)});const u=Fo();Uc(u,s,n.layoutBox);const h=Fo();l?Uc(h,t.applyTransform(a,!0),n.measuredBox):Uc(h,s,n.layoutBox);const m=!Ik(u);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:v}=x;if(b&&v){const w=Ft();Yc(w,n.layoutBox,b.layoutBox);const S=Ft();Yc(S,s,v.layoutBox),qk(w,S)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function rz(t){Oc&&Or.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lz(t){t.clearSnapshot()}function oS(t){t.clearMeasurements()}function cz(t){t.isLayoutDirty=!1}function uz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dz(t){t.resolveTargetDelta()}function hz(t){t.calcProjection()}function fz(t){t.resetSkewAndRotation()}function mz(t){t.removeLeadSnapshot()}function cS(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function uS(t,e,n,s){t.min=Mt(e.min,n.min,s),t.max=Mt(e.max,n.max,s)}function pz(t,e,n,s){uS(t.x,e.x,n.x,s),uS(t.y,e.y,n.y,s)}function gz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xz={duration:.45,ease:[.4,0,.1,1]},dS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),hS=dS("applewebkit/")&&!dS("chrome/")?Math.round:as;function fS(t){t.min=hS(t.min),t.max=hS(t.max)}function yz(t){fS(t.x),fS(t.y)}function $k(t,e,n){return t==="position"||t==="preserve-aspect"&&!_8(iS(e),iS(n),.2)}function bz(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const vz=Xk({attachResizeListener:(t,e)=>ou(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bg={current:void 0},Kk=Xk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bg.current){const t=new vz({});t.mount(window),t.setOptions({layoutScroll:!0}),bg.current=t}return bg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_z={pan:{Feature:z8},drag:{Feature:P8,ProjectionNode:Kk,MeasureLayout:Uk}};function mS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=s[a];o&&_t.postRender(()=>o(e,_u(e)))}class wz extends nr{mount(){const{current:e}=this.node;e&&(this.unmount=_L(e,n=>(mS(this.node,n,"Start"),s=>mS(this.node,s,"End"))))}unmount(){}}class Sz extends nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vu(ou(this.node.current,"focus",()=>this.onFocus()),ou(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pS(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=s[a];o&&_t.postRender(()=>o(e,_u(e)))}class jz extends nr{mount(){const{current:e}=this.node;e&&(this.unmount=NL(e,n=>(pS(this.node,n,"Start"),(s,{success:a})=>pS(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const px=new WeakMap,vg=new WeakMap,Nz=t=>{const e=px.get(t.target);e&&e(t)},kz=t=>{t.forEach(Nz)};function Tz({root:t,...e}){const n=t||document;vg.has(n)||vg.set(n,{});const s=vg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(kz,{root:t,...e})),s[a]}function Mz(t,e,n){const s=Tz(e);return px.set(t,n),s.observe(t),()=>{px.delete(t),s.unobserve(t)}}const Cz={some:0,all:1};class Dz extends nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Cz[a]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),b=m?p:x;b&&b(h)};return Mz(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ez(e,n))&&this.startObserver()}unmount(){}}function Ez({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Az={inView:{Feature:Dz},tap:{Feature:jz},focus:{Feature:Sz},hover:{Feature:wz}},Oz={layout:{ProjectionNode:Kk,MeasureLayout:Uk}},gx={current:null},Zk={current:!1};function Rz(){if(Zk.current=!0,!!c0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gx.current=t.matches;t.addListener(e),e()}else gx.current=!1}const Lz=[...wk,kn,Qa],Pz=t=>Lz.find(_k(t)),gS=new WeakMap;function zz(t,e,n){for(const s in e){const a=e[s],o=n[s];if(Cn(a))t.addValue(s,a);else if(Cn(o))t.addValue(s,au(a,{owner:t}));else if(o!==a)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=t.getStaticValue(s);t.addValue(s,au(l!==void 0?l:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const xS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Bz{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ci.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,_t.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:p}=l;this.onUpdate=p,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=mf(n),this.isVariantNode=DN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in b){const w=b[v];h[v]!==void 0&&Cn(w)&&w.set(h[v],!1)}}mount(e){this.current=e,gS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Zk.current||Rz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gS.delete(this.current),this.projection&&this.projection.unmount(),Za(this.notifyUpdate),Za(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Gr.has(e),a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&_t.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tl){const n=tl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<xS.length;s++){const a=xS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,l=e[o];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=zz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=au(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(bk(a)||uk(a))?a=parseFloat(a):!Pz(a)&&Qa.test(n)&&(a=gk(e,n)),this.setBaseTarget(e,Cn(a)?a.get():a)),Cn(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const l=g0(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(a=l[e])}if(s&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Cn(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new D0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Qk extends Bz{constructor(){super(...arguments),this.KeyframeResolver=Sk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Vz(t){return window.getComputedStyle(t)}class Fz extends Qk{constructor(){super(...arguments),this.type="html",this.renderInstance=VN}readValueFromInstance(e,n){if(Gr.has(n)){const s=L0(n);return s&&s.default||0}else{const s=Vz(e),a=(PN(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Fk(e,n)}build(e,n,s){b0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return S0(e,n,s)}}class Hz extends Qk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gr.has(n)){const s=L0(n);return s&&s.default||0}return n=FN.has(n)?n:f0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return YN(e,n,s)}build(e,n,s){v0(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){HN(e,n,s,a)}mount(e){this.isSVGTag=w0(e.tagName),super.mount(e)}}const Uz=(t,e)=>p0(t)?new Hz(e):new Fz(e,{allowProjection:t!==N.Fragment}),Yz=mL({...h8,...Az,..._z,...Oz},Uz),Ut=C6(Yz);function Wz(){const[t,e]=N.useState(null),[n,s]=N.useState(!1),[a,o]=N.useState(!1),[l,u]=N.useState(null),[h,m]=N.useState(!0),[p,x]=N.useState(null),b=N.useCallback(async()=>{if(l){s(!0),o(!1);try{const j=await we.getAdvice();j&&typeof j=="object"&&"status"in j&&j.status==="disabled"?(u(!1),e(null)):e(j.advice??null)}catch(j){console.error(j),o(!0)}finally{s(!1)}}},[l]),v=N.useCallback(async()=>{s(!0),o(!1);try{const j=await we.analystRun();x(j)}catch(j){console.error("Failed to fetch analyst summary:",j),o(!0)}finally{s(!1)}},[]);N.useEffect(()=>{we.config().then(j=>{const k=j.advisor||{},C=k.enable_llm!==!1,E=k.auto_fetch!==!1;u(C),m(E),C&&E&&b(),C||v()}).catch(j=>{console.error("Failed to load advisor config:",j),u(!1)})},[b,v]);const w=!!l&&!n,S=async()=>{const j=!h;m(j);try{await we.configSave({advisor:{auto_fetch:j}}),j&&l&&!t&&b()}catch(k){console.error("Failed to update advisor auto_fetch setting:",k)}};return d.jsxs(Pe,{className:"h-full p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[d.jsx(zx,{className:"h-4 w-4 text-accent"}),d.jsx("span",{children:"Aurora Advisor"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[l&&d.jsx("button",{onClick:S,className:`rounded-pill px-2 py-1 text-[10px] font-medium transition ${h?"bg-accent text-canvas border border-accent":"bg-surface border border-line/60 text-muted hover:border-accent hover:text-accent"}`,title:h?"Disable auto-fetch (advisor runs only on manual request)":"Enable auto-fetch when the plan changes",children:""}),l!==null&&d.jsx("button",{onClick:b,disabled:!w,className:"text-[10px] text-muted hover:text-text transition-colors p-1 disabled:opacity-40",title:l?"Fetch latest advice":"Enable LLM advice in Settings",children:d.jsx(sj,{className:`h-4 w-4 ${n?"animate-spin":""}`})})]})]}),d.jsxs("div",{className:"text-[11px] text-text leading-relaxed",children:[l===!1&&d.jsxs(d.Fragment,{children:[n&&d.jsx("span",{className:"animate-pulse",children:"Analyzing schedule (offline)"}),!n&&a&&d.jsx("span",{className:"text-red-400",children:"Unable to analyze schedule. Check backend logs for details."}),!n&&!a&&p&&p.recommendations&&d.jsx("div",{className:"space-y-2",children:Object.entries(p.recommendations).slice(0,3).map(([j,k])=>{const C=k??{},E=C.label||j,O=C.best_grid_window||{},R=C.best_solar_window||{},A=U=>U&&U.length>=16?U.slice(11,16):"",L=O.start&&O.end?`${A(O.start)}${A(O.end)} (${O.avg_price?.toFixed?.(2)??""} SEK/kWh)`:null,P=R.start&&R.end?`${A(R.start)}${A(R.end)} (${R.avg_pv_surplus?.toFixed?.(2)??""} kW surplus)`:null;return d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("div",{className:"font-medium",children:E}),d.jsxs("div",{className:"flex flex-wrap gap-3 text-[10px] text-muted",children:[L&&d.jsxs("span",{className:"inline-flex items-center gap-1",children:[d.jsx(Ms,{className:"h-3 w-3 text-accent"}),d.jsxs("span",{children:["Grid: ",L]})]}),P&&d.jsxs("span",{className:"inline-flex items-center gap-1",children:[d.jsx(ij,{className:"h-3 w-3 text-accent"}),d.jsxs("span",{children:["Solar: ",P]})]})]})]},j)})}),!n&&!a&&(!p||!p.recommendations)&&d.jsx("span",{className:"text-muted",children:"No appliance recommendations available. Configure appliances in Settings to see suggested run windows."})]}),l===!0&&d.jsxs(d.Fragment,{children:[n&&d.jsx("span",{className:"animate-pulse",children:"Analyzing schedule..."}),!n&&a&&d.jsx("span",{className:"text-red-400",children:"Unable to fetch advice. Check AI settings or try again."}),!n&&!a&&!t&&!h&&d.jsx("span",{className:"text-muted",children:"Click the refresh icon to analyze your current schedule."}),!n&&!a&&t&&d.jsx("span",{children:t})]}),l===null&&!n&&!a&&d.jsx("span",{className:"text-muted",children:"Loading advisor settings"})]})]})}function nh({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,h=4,m=Math.max(3.5-o*.6,.8);return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.2}),o>.05&&Array.from({length:h}).map((p,x)=>d.jsx(Ut.circle,{r:3.5,fill:s,initial:{opacity:0},animate:{cx:[l.x,u.x],cy:[l.y,u.y],opacity:[0,.85,.85,0]},transition:{duration:m,repeat:1/0,delay:x/h*m,ease:"linear"}},x))]})}function bc({x:t,y:e,iconType:n,label:s,value:a,subValue:o,color:l,glowIntensity:u,isCharging:h,compact:m}){const p=m?28:35,x=p+18*u,b=m?18:22,v={solar:fu,house:tj,battery:h?Gc:Jh,grid:Ms,water:Xc}[n];return d.jsxs("g",{transform:`translate(${t}, ${e})`,children:[u>.1&&d.jsx(Ut.circle,{r:x,fill:l,initial:{opacity:0},animate:{opacity:.1+u*.15},transition:{duration:.4}}),d.jsx("circle",{r:p,fill:"rgb(var(--color-surface))",stroke:l,strokeWidth:2.5}),d.jsx("foreignObject",{x:-b/2,y:-b/2,width:b,height:b,children:d.jsx(v,{size:b,style:{color:l},strokeWidth:1.5})}),d.jsx("text",{y:p+14,textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:m?"10":"11",fontWeight:"600",children:a}),o&&!m&&d.jsx("text",{y:p+26,textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:o}),d.jsx("text",{y:p+(o&&!m?38:26),textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:m?"8":"9",children:s})]})}function Iz({data:t,compact:e=!1}){const n=e?.75:1,s=N.useMemo(()=>({solar:{x:100*n,y:50*n},house:{x:200*n,y:130*n},battery:{x:200*n,y:230*n},grid:{x:100*n,y:230*n},water:{x:300*n,y:130*n}}),[n]),a={solar:"rgb(var(--color-accent))",battery:"rgb(var(--color-good))",grid:"rgb(var(--color-grid))",house:"rgb(var(--color-house))",water:"rgb(var(--color-water))"},o=6,l={solar:Math.min(t.solar.kw/o,1),battery:Math.min(Math.abs(t.battery.kw)/o,1),grid:Math.min(Math.abs(t.grid.kw)/o,1),house:Math.min(t.house.kw/o,1),water:Math.min(t.water.kw/o,1)},u=v=>`${Math.abs(v).toFixed(1)} kW`,h=v=>v!=null?`${v.toFixed(1)} kWh`:void 0,m=t.grid.kw>=0?"Import":"Export",p=t.grid.kw>=0?h(t.grid.importKwh):h(t.grid.exportKwh),x=t.battery.kw>=0?"Charging":"Discharging",b=e?"0 0 300 200":"0 0 400 280";return d.jsxs("svg",{viewBox:b,className:"w-full h-full",children:[d.jsx(nh,{from:s.solar,to:s.house,power:t.solar.kw,color:a.solar}),d.jsx(nh,{from:s.battery,to:s.house,power:Math.abs(t.battery.kw),color:a.battery,reverse:t.battery.kw>0}),d.jsx(nh,{from:s.grid,to:s.house,power:Math.abs(t.grid.kw),color:a.grid,reverse:t.grid.kw<0}),d.jsx(nh,{from:s.house,to:s.water,power:t.water.kw,color:a.water}),d.jsx(bc,{...s.solar,iconType:"solar",label:"Solar",value:u(t.solar.kw),subValue:h(t.solar.todayKwh),color:a.solar,glowIntensity:l.solar,compact:e}),d.jsx(bc,{...s.house,iconType:"house",label:"House",value:u(t.house.kw),subValue:h(t.house.todayKwh),color:a.house,glowIntensity:l.house,compact:e}),d.jsx(bc,{...s.battery,iconType:"battery",label:x,value:`${t.battery.soc.toFixed(0)}%`,subValue:u(t.battery.kw),color:a.battery,glowIntensity:l.battery,isCharging:t.battery.kw>0,compact:e}),d.jsx(bc,{...s.grid,iconType:"grid",label:m,value:u(t.grid.kw),subValue:p,color:a.grid,glowIntensity:l.grid,compact:e}),d.jsx(bc,{...s.water,iconType:"water",label:"Water",value:u(t.water.kw),color:a.water,glowIntensity:l.water,compact:e})]})}function qz({powerFlowData:t}){const[e,n]=N.useState("advisor"),a=t??{solar:{kw:0,todayKwh:0},battery:{kw:0,soc:50},grid:{kw:0,importKwh:0,exportKwh:0},house:{kw:0,todayKwh:0},water:{kw:0}};return d.jsxs(Pe,{className:"h-full p-4 md:p-5 flex flex-col",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-1 p-0.5 rounded-lg bg-surface2/50 border border-line/30",children:[d.jsxs("button",{onClick:()=>n("advisor"),className:`flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[10px] font-medium transition ${e==="advisor"?"bg-accent text-[#100f0e]":"text-muted hover:text-text"}`,children:[d.jsx(zx,{className:"h-3 w-3"}),d.jsx("span",{children:"Advisor"})]}),d.jsxs("button",{onClick:()=>n("powerflow"),className:`flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[10px] font-medium transition ${e==="powerflow"?"bg-accent text-[#100f0e]":"text-muted hover:text-text"}`,children:[d.jsx(Ko,{className:"h-3 w-3"}),d.jsx("span",{children:"Power Flow"})]})]})}),d.jsx("div",{className:"flex-1 min-h-0",children:e==="advisor"?d.jsx(Gz,{}):d.jsx("div",{className:"h-full flex items-center justify-center",children:d.jsx(Iz,{data:a})})})]})}function Gz(){return d.jsx("div",{className:"[&>div]:p-0 [&>div]:shadow-none [&>div]:bg-transparent [&>div]:border-none",children:d.jsx(Wz,{})})}const yS=({value:t,total:e,colorClass:n})=>{const s=e>0?Math.min(100,t/e*100):0;return d.jsx("div",{className:"h-1.5 w-full bg-surface2 rounded-full overflow-hidden flex",children:d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${n}`,style:{width:`${s}%`}})})};function Xz({netCost:t,importKwh:e,exportKwh:n,exportGuard:s}){const a=(t??0)<=0;return d.jsxs(Pe,{className:"p-4 flex flex-col justify-between h-full relative overflow-hidden group",children:[d.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${a?"bg-emerald-500":"bg-red-500"}`}),d.jsxs("div",{className:"flex items-center gap-2 mb-3 relative z-10",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${a?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:d.jsx(JS,{className:"h-4 w-4"})}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Grid & Financial"}),s&&d.jsx("span",{className:"ml-auto text-[9px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded border border-emerald-500/20 animate-pulse",children:"Guard"})]}),d.jsxs("div",{className:"mb-4 relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-0.5",children:"Net Daily Cost"}),d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsx("span",{className:`text-2xl font-bold ${a?"text-emerald-400":"text-red-400"}`,children:t!=null?Math.abs(t).toFixed(2):""}),d.jsx("span",{className:"text-xs text-muted",children:"kr"}),t!==null&&d.jsx("span",{className:`text-[10px] ml-2 px-1.5 py-0.5 rounded ${a?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:t>0?"COST":"EARNING"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto relative z-10",children:[d.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-bad mb-1",children:[d.jsx(Rx,{className:"h-3 w-3"}),d.jsx("span",{className:"text-[10px]",children:"Import"})]}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[e?.toFixed(1)??""," ",d.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]}),d.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-good mb-1",children:[d.jsx(Lx,{className:"h-3 w-3"}),d.jsx("span",{className:"text-[10px]",children:"Export"})]}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[n?.toFixed(1)??""," ",d.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function $z({pvActual:t,pvForecast:e,loadActual:n,loadAvg:s,waterKwh:a,batteryCapacity:o}){return d.jsxs(Pe,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.01]"}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-accent/10 text-accent",children:d.jsx(Ms,{className:"h-4 w-4"})}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Energy Resources"}),o!=null&&o>0&&d.jsxs("span",{className:"ml-auto text-[9px] text-muted opacity-60",children:[o," kWh Cap"]})]}),d.jsxs("div",{className:"space-y-4 relative z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-accent",children:[d.jsx(fu,{className:"h-3 w-3"}),d.jsx("span",{children:"Solar Production"})]}),d.jsxs("div",{className:"text-[10px] text-muted",children:[d.jsx("span",{className:"text-text font-medium",children:t?.toFixed(1)??""}),d.jsx("span",{className:"mx-1",children:"/"}),e?.toFixed(1)??""," kWh"]})]}),d.jsx(yS,{value:t??0,total:e??1,colorClass:"bg-accent"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-house",children:[d.jsx(Ko,{className:"h-3 w-3"}),d.jsx("span",{children:"House Load"})]}),d.jsxs("div",{className:"text-[10px] text-muted",children:[d.jsx("span",{className:"text-text font-medium",children:n?.toFixed(1)??""}),d.jsx("span",{className:"mx-1",children:"/"}),s?.toFixed(1)??""," kWh"]})]}),d.jsx(yS,{value:n??0,total:s??1,colorClass:"bg-house"})]}),d.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-line/30",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-water",children:[d.jsx(Xc,{className:"h-3 w-3"}),d.jsx("span",{children:"Water Heating"})]}),d.jsxs("div",{className:"text-sm font-medium text-text",children:[a?.toFixed(1)??""," ",d.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function Kz({soc:t,socTarget:e,sIndex:n,cycles:s,riskLabel:a}){return d.jsxs(Pe,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-ai/[0.01]"}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-ai/10 text-ai",children:d.jsx(jh,{className:"h-4 w-4"})}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Battery & Strategy"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:[d.jsxs("div",{className:"col-span-2 flex items-center gap-3 p-3 rounded-xl bg-surface2/30 border border-line/30",children:[d.jsx(Jh,{className:`h-8 w-8 ${(t??0)>50?"text-good":(t??0)>20?"text-warn":"text-bad"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-2xl font-bold text-text",children:[t?.toFixed(0)??"","%"]}),d.jsx("div",{className:"text-[10px] text-muted",children:e!=null?`Targeting ${e.toFixed(0)}%`:"Current SoC"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"S-Index"}),d.jsx("div",{className:"text-lg font-semibold text-text",children:n?`x${n.toFixed(2)}`:""}),d.jsx("div",{className:"text-[10px] text-ai/80",children:"Strategy Factor"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"Cycles"}),d.jsx("div",{className:"text-lg font-semibold text-text",children:s?.toFixed(1)??""}),d.jsx("div",{className:"text-[10px] text-muted",children:a||"Daily usage"})]})]})]})}function Zz({comfortLevel:t,setComfortLevel:e,riskAppetite:n,setRiskAppetite:s,vacationMode:a,onWaterBoost:o,onBatteryTopUp:l}){return d.jsx(Pe,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:d.jsxs("div",{className:"space-y-3 relative z-10",children:[d.jsxs("div",{className:"metric-card-border metric-card-border-house bg-surface2/30 p-3 overflow-hidden group",children:[d.jsxs("div",{className:"flex justify-between items-baseline mb-2 pl-3",children:[d.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[d.jsx("span",{children:"Market Strategy"}),d.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-colors ${n>3?"bg-purple-400 shadow-[0_0_5px_rgba(192,132,252,0.8)]":n<2?"bg-emerald-400":"bg-blue-400"}`})]}),d.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[n]||"Unknown"})]}),d.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(u=>{const h={1:"bg-good text-[#100f0e] border-good shadow-[0_0_10px_rgba(var(--color-good),0.4)]",2:"bg-night text-[#100f0e] border-night shadow-[0_0_10px_rgba(var(--color-night),0.4)]",3:"bg-water text-[#100f0e] border-water shadow-[0_0_10px_rgba(var(--color-water),0.4)]",4:"bg-warn text-[#100f0e] border-warn shadow-[0_0_10px_rgba(var(--color-warn),0.4)]",5:"bg-ai text-[#100f0e] border-ai shadow-[0_0_10px_rgba(var(--color-ai),0.4)]"},m=n===u;return d.jsx("button",{onClick:()=>s(u),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${h[u]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:u},u)})})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-water bg-surface2/30 p-3 overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 pl-3",children:[d.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[d.jsx("span",{children:"Water Comfort"}),a&&d.jsx("span",{className:"text-[9px] text-amber-300 bg-amber-500/20 px-1.5 rounded animate-pulse",children:"Vacation"})]}),d.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Economy",2:"Balanced",3:"Neutral",4:"Priority",5:"Maximum"}[t]||"Unknown"})]}),d.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(u=>{const h={1:"bg-good text-[#100f0e] border-good shadow-[0_0_10px_rgba(var(--color-good),0.4)]",2:"bg-night text-[#100f0e] border-night shadow-[0_0_10px_rgba(var(--color-night),0.4)]",3:"bg-water text-[#100f0e] border-water shadow-[0_0_10px_rgba(var(--color-water),0.4)]",4:"bg-warn text-[#100f0e] border-warn shadow-[0_0_10px_rgba(var(--color-warn),0.4)]",5:"bg-bad text-[#100f0e] border-bad shadow-[0_0_10px_rgba(var(--color-bad),0.4)]"},m=t===u;return d.jsx("button",{onClick:()=>e(u),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${h[u]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:u},u)})})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-muted bg-surface2/30 p-2 flex gap-2",children:[d.jsxs("button",{onClick:o,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group ml-3",children:[d.jsx("div",{className:"p-1 rounded-full bg-orange-500/10 text-orange-400 group-hover:bg-orange-500/20 transition-colors",children:d.jsx(ej,{className:"h-3.5 w-3.5"})}),d.jsx("span",{className:"text-[10px] font-medium text-text",children:"Boost Water (1h)"})]}),d.jsxs("button",{onClick:l,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group",children:[d.jsx("div",{className:"p-1 rounded-full bg-good/10 text-good group-hover:bg-good/20 transition-colors",children:d.jsx(Gc,{className:"h-3.5 w-3.5"})}),d.jsx("span",{className:"text-[10px] font-medium text-text",children:"Top Up 50%"})]})]})]})})}const di=Object.create(null);di.open="0";di.close="1";di.ping="2";di.pong="3";di.message="4";di.upgrade="5";di.noop="6";const fh=Object.create(null);Object.keys(di).forEach(t=>{fh[di[t]]=t});const xx={type:"error",data:"parser error"},Jk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",eT=typeof ArrayBuffer=="function",tT=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,F0=({type:t,data:e},n,s)=>Jk&&e instanceof Blob?n?s(e):bS(e,s):eT&&(e instanceof ArrayBuffer||tT(e))?n?s(e):bS(new Blob([e]),s):s(di[t]+(e||"")),bS=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function vS(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let _g;function Qz(t,e){if(Jk&&t.data instanceof Blob)return t.data.arrayBuffer().then(vS).then(e);if(eT&&(t.data instanceof ArrayBuffer||tT(t.data)))return e(vS(t.data));F0(t,!1,n=>{_g||(_g=new TextEncoder),e(_g.encode(n))})}const _S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<_S.length;t++)Rc[_S.charCodeAt(t)]=t;const Jz=t=>{let e=t.length*.75,n=t.length,s,a=0,o,l,u,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const m=new ArrayBuffer(e),p=new Uint8Array(m);for(s=0;s<n;s+=4)o=Rc[t.charCodeAt(s)],l=Rc[t.charCodeAt(s+1)],u=Rc[t.charCodeAt(s+2)],h=Rc[t.charCodeAt(s+3)],p[a++]=o<<2|l>>4,p[a++]=(l&15)<<4|u>>2,p[a++]=(u&3)<<6|h&63;return m},eB=typeof ArrayBuffer=="function",H0=(t,e)=>{if(typeof t!="string")return{type:"message",data:nT(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:tB(t.substring(1),e)}:fh[n]?t.length>1?{type:fh[n],data:t.substring(1)}:{type:fh[n]}:xx},tB=(t,e)=>{if(eB){const n=Jz(t);return nT(n,e)}else return{base64:!0,data:t}},nT=(t,e)=>e==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,sT="",nB=(t,e)=>{const n=t.length,s=new Array(n);let a=0;t.forEach((o,l)=>{F0(o,!1,u=>{s[l]=u,++a===n&&e(s.join(sT))})})},sB=(t,e)=>{const n=t.split(sT),s=[];for(let a=0;a<n.length;a++){const o=H0(n[a],e);if(s.push(o),o.type==="error")break}return s};function iB(){return new TransformStream({transform(t,e){Qz(t,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let wg;function sh(t){return t.reduce((e,n)=>e+n.length,0)}function ih(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let a=0;a<e;a++)n[a]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function aB(t,e){wg||(wg=new TextDecoder);const n=[];let s=0,a=-1,o=!1;return new TransformStream({transform(l,u){for(n.push(l);;){if(s===0){if(sh(n)<1)break;const h=ih(n,1);o=(h[0]&128)===128,a=h[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(sh(n)<2)break;const h=ih(n,2);a=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),s=3}else if(s===2){if(sh(n)<8)break;const h=ih(n,8),m=new DataView(h.buffer,h.byteOffset,h.length),p=m.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(xx);break}a=p*Math.pow(2,32)+m.getUint32(4),s=3}else{if(sh(n)<a)break;const h=ih(n,a);u.enqueue(H0(o?h:wg.decode(h),e)),s=0}if(a===0||a>t){u.enqueue(xx);break}}}})}const iT=4;function Qt(t){if(t)return rB(t)}function rB(t){for(var e in Qt.prototype)t[e]=Qt.prototype[e];return t}Qt.prototype.on=Qt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Qt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Qt.prototype.off=Qt.prototype.removeListener=Qt.prototype.removeAllListeners=Qt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===e||s.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Qt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,e)}return this};Qt.prototype.emitReserved=Qt.prototype.emit;Qt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Qt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const xf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),ks=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),oB="arraybuffer";function aT(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const lB=ks.setTimeout,cB=ks.clearTimeout;function yf(t,e){e.useNativeTimers?(t.setTimeoutFn=lB.bind(ks),t.clearTimeoutFn=cB.bind(ks)):(t.setTimeoutFn=ks.setTimeout.bind(ks),t.clearTimeoutFn=ks.clearTimeout.bind(ks))}const uB=1.33;function dB(t){return typeof t=="string"?hB(t):Math.ceil((t.byteLength||t.size)*uB)}function hB(t){let e=0,n=0;for(let s=0,a=t.length;s<a;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function rT(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function fB(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function mB(t){let e={},n=t.split("&");for(let s=0,a=n.length;s<a;s++){let o=n[s].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class pB extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class U0 extends Qt{constructor(e){super(),this.writable=!1,yf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new pB(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=H0(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=fB(e);return n.length?"?"+n:""}}class gB extends U0{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};sB(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,nB(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=rT()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let oT=!1;try{oT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xB=oT;function yB(){}class bB extends gB{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class ui extends Qt{constructor(e,n,s){super(),this.createRequest=e,yf(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=aT(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ui.requestsCount++,ui.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=yB,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ui.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ui.requestsCount=0;ui.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",wS);else if(typeof addEventListener=="function"){const t="onpagehide"in ks?"pagehide":"unload";addEventListener(t,wS,!1)}}function wS(){for(let t in ui.requests)ui.requests.hasOwnProperty(t)&&ui.requests[t].abort()}const vB=(function(){const t=lT({xdomain:!1});return t&&t.responseType!==null})();class _B extends bB{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=vB&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ui(lT,this.uri(),e)}}function lT(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||xB))return new XMLHttpRequest}catch{}if(!e)try{return new ks[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const cT=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class wB extends U0{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=cT?{}:aT(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;F0(s,this.supportsBinary,o=>{try{this.doWrite(s,o)}catch{}a&&xf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=rT()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Sg=ks.WebSocket||ks.MozWebSocket;class SB extends wB{createSocket(e,n,s){return cT?new Sg(e,n,s):n?new Sg(e,n):new Sg(e)}doWrite(e,n){this.ws.send(n)}}class jB extends U0{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=aB(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),a=iB();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const o=()=>{s.read().then(({done:u,value:h})=>{u||(this.onPacket(h),o())}).catch(u=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;this._writer.write(s).then(()=>{a&&xf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const NB={websocket:SB,webtransport:jB,polling:_B},kB=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,TB=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function yx(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let a=kB.exec(t||""),o={},l=14;for(;l--;)o[TB[l]]=a[l]||"";return n!=-1&&s!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=MB(o,o.path),o.queryKey=CB(o,o.query),o}function MB(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function CB(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,o){a&&(n[a]=o)}),n}const bx=typeof addEventListener=="function"&&typeof removeEventListener=="function",mh=[];bx&&addEventListener("offline",()=>{mh.forEach(t=>t())},!1);class qa extends Qt{constructor(e,n){if(super(),this.binaryType=oB,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=yx(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=yx(n.host).host);yf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=mB(this.opts.query)),bx&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},mh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=iT,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&qa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",qa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=dB(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,xf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:e,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(qa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),bx&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=mh.indexOf(this._offlineEventListener);s!==-1&&mh.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}qa.protocol=iT;class DB extends qa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;qa.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",x=>{if(!s)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;qa.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function o(){s||(s=!0,p(),n.close(),n=null)}const l=x=>{const b=new Error("probe error: "+x);b.transport=n.name,o(),this.emitReserved("upgradeError",b)};function u(){l("transport closed")}function h(){l("socket closed")}function m(x){n&&x.name!==n.name&&o()}const p=()=>{n.removeListener("open",a),n.removeListener("error",l),n.removeListener("close",u),this.off("close",h),this.off("upgrading",m)};n.once("open",a),n.once("error",l),n.once("close",u),this.once("close",h),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let EB=class extends DB{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>NB[a]).filter(a=>!!a)),super(e,s)}};function AB(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=yx(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+e,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const OB=typeof ArrayBuffer=="function",RB=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,uT=Object.prototype.toString,LB=typeof Blob=="function"||typeof Blob<"u"&&uT.call(Blob)==="[object BlobConstructor]",PB=typeof File=="function"||typeof File<"u"&&uT.call(File)==="[object FileConstructor]";function Y0(t){return OB&&(t instanceof ArrayBuffer||RB(t))||LB&&t instanceof Blob||PB&&t instanceof File}function ph(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(ph(t[n]))return!0;return!1}if(Y0(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ph(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&ph(t[n]))return!0;return!1}function zB(t){const e=[],n=t.data,s=t;return s.data=vx(n,e),s.attachments=e.length,{packet:s,buffers:e}}function vx(t,e){if(!t)return t;if(Y0(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=vx(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=vx(t[s],e));return n}return t}function BB(t,e){return t.data=_x(t.data,e),delete t.attachments,t}function _x(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=_x(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=_x(t[n],e));return t}const dT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],VB=5;var Ye;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ye||(Ye={}));class FB{constructor(e){this.replacer=e}encode(e){return(e.type===Ye.EVENT||e.type===Ye.ACK)&&ph(e)?this.encodeAsBinary({type:e.type===Ye.EVENT?Ye.BINARY_EVENT:Ye.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ye.BINARY_EVENT||e.type===Ye.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=zB(e),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}class W0 extends Qt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Ye.BINARY_EVENT;s||n.type===Ye.BINARY_ACK?(n.type=s?Ye.EVENT:Ye.ACK,this.reconstructor=new HB(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Y0(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Ye[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ye.BINARY_EVENT||s.type===Ye.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const l=e.substring(o,n);if(l!=Number(l)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(o,n)}else s.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const o=n+1;for(;++n;){const l=e.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===e.length)break}s.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(W0.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ye.CONNECT:return Wh(n);case Ye.DISCONNECT:return n===void 0;case Ye.CONNECT_ERROR:return typeof n=="string"||Wh(n);case Ye.EVENT:case Ye.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&dT.indexOf(n[0])===-1);case Ye.ACK:case Ye.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class HB{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=BB(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function UB(t){return typeof t=="string"}const YB=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function WB(t){return t===void 0||YB(t)}function Wh(t){return Object.prototype.toString.call(t)==="[object Object]"}function IB(t,e){switch(t){case Ye.CONNECT:return e===void 0||Wh(e);case Ye.DISCONNECT:return e===void 0;case Ye.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&dT.indexOf(e[0])===-1);case Ye.ACK:return Array.isArray(e);case Ye.CONNECT_ERROR:return typeof e=="string"||Wh(e);default:return!1}}function qB(t){return UB(t.nsp)&&WB(t.id)&&IB(t.type,t.data)}const GB=Object.freeze(Object.defineProperty({__proto__:null,Decoder:W0,Encoder:FB,get PacketType(){return Ye},isPacketValid:qB,protocol:VB},Symbol.toStringTag,{value:"Module"}));function Hs(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const XB=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class hT extends Qt{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Hs(e,"open",this.onopen.bind(this)),Hs(e,"packet",this.onpacket.bind(this)),Hs(e,"error",this.onerror.bind(this)),Hs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,a,o;if(XB.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:Ye.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,x=n.pop();this._registerAckCallback(p,x),l.id=p}const u=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,h=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!u||(h?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},a),l=(...u)=>{this.io.clearTimeoutFn(o),n.apply(this,u)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...n){return new Promise((s,a)=>{const o=(l,u)=>l?a(l):s(u);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...o)=>(this._queue[0],a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ye.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ye.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ye.EVENT:case Ye.BINARY_EVENT:this.onevent(e);break;case Ye.ACK:case Ye.BINARY_ACK:this.onack(e);break;case Ye.DISCONNECT:this.ondisconnect();break;case Ye.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Ye.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ye.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function dl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}dl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};dl.prototype.reset=function(){this.attempts=0};dl.prototype.setMin=function(t){this.ms=t};dl.prototype.setMax=function(t){this.max=t};dl.prototype.setJitter=function(t){this.jitter=t};class wx extends Qt{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,yf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new dl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||GB;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new EB(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Hs(n,"open",function(){s.onopen(),e&&e()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},l=Hs(n,"error",o);if(this._timeout!==!1){const u=this._timeout,h=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),n.close()},u);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(a),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Hs(e,"ping",this.onping.bind(this)),Hs(e,"data",this.ondata.bind(this)),Hs(e,"error",this.onerror.bind(this)),Hs(e,"close",this.onclose.bind(this)),Hs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){xf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new hT(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const vc={};function gh(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=AB(t,e.path||"/socket.io"),s=n.source,a=n.id,o=n.path,l=vc[a]&&o in vc[a].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let h;return u?h=new wx(s,e):(vc[a]||(vc[a]=new wx(s,e)),h=vc[a]),n.query&&!e.query&&(e.query=n.queryKey),h.socket(n.path,e)}Object.assign(gh,{Manager:wx,Socket:hT,io:gh,connect:gh});let Ro=null;const $B=()=>{if(!Ro){let t=window.location.pathname;t.endsWith("/")||(t=t.substring(0,t.lastIndexOf("/")+1));const e=(t+"socket.io").replace(/\/\//g,"/");console.log(` WebSocket initializing at path: ${e}`),Ro=gh({path:e,transports:["polling","websocket"],autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),Ro.on("connect",()=>{console.log(" Connected to Darkstar WebSocket")}),Ro.on("disconnect",n=>{console.warn(" Disconnected from Darkstar WebSocket:",n)}),Ro.on("connect_error",n=>{console.error(" WebSocket connection error:",n)})}return Ro},Yo=(t,e)=>{N.useEffect(()=>{const n=$B();return n.on(t,e),()=>{n.off(t,e)}},[t,e])};function SS(t){if(!t)return"";const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${e}-${n}-${s} ${a}:${o}`}function KB(){const[t,e]=N.useState(null),[n,s]=N.useState(!1),[a,o]=N.useState(null),[l,u]=N.useState(0),[h,m]=N.useState(null),[p,x]=N.useState(!1),[b,v]=N.useState(null),[w,S]=N.useState(null),[j,k]=N.useState(null),[C,E]=N.useState(null),[O,R]=N.useState(null),[A,L]=N.useState(null),[P,U]=N.useState(null),[$,ee]=N.useState(null),[re,de]=N.useState(null),[fe,be]=N.useState("local"),[W,Q]=N.useState(0),[ue,oe]=N.useState(null),[xe,F]=N.useState(0),[Z,ie]=N.useState(null),[z,J]=N.useState(0),[ae,pe]=N.useState(!1),[je,ke]=N.useState(!1),[ut,dn]=N.useState(""),[ge,Qe]=N.useState(1),[dt,Rn]=N.useState(!1),[Pt,Be]=N.useState([]),[Jt,aa]=N.useState({});Yo("live_metrics",me=>{console.log(" live_metrics received:",me),me.soc!==void 0&&e(me.soc),aa(Ve=>({...Ve,pv_kw:me.pv_kw??Ve.pv_kw,load_kw:me.load_kw??Ve.load_kw,battery_kw:me.battery_kw??Ve.battery_kw,grid_kw:me.grid_kw??Ve.grid_kw,water_kw:me.water_kw??Ve.water_kw}))}),Yo("plan_updated",()=>{console.log(" Plan updated! Refreshing data..."),ls()}),Yo("executor_status",me=>{R({shadow_mode:me.shadow_mode??!1,paused:me.paused??null})}),Yo("ha_entity_change",me=>{if(me.entity_id===ut){const Ve=me.state==="on";ke(Ve)}}),N.useEffect(()=>{const me=async()=>{try{const Ve=await we.config();if(Ve){const ht=Ve.water_heating?.vacation_mode;pe(ht?.enabled||!1)}}catch(Ve){console.log("Failed to reload vacation mode:",Ve)}};return window.addEventListener("config-updated",me),()=>window.removeEventListener("config-updated",me)},[]);const Os=N.useCallback(me=>{be(me)},[]),en=N.useCallback(me=>{if(!me||me.length===0){Be([]);return}we.scheduleTodayWithHistory().then(Ve=>{const ht=Ve.slots??[],Dt=new Map;ht.forEach(ln=>{ln.start_time&&Dt.set(String(ln.start_time),ln)});const fn=me.map(ln=>{const mn=ln.start_time,us=mn?Dt.get(String(mn)):void 0;if(!us)return ln;const Xn={...ln};return us.soc_actual_percent!=null&&(Xn.soc_actual_percent=us.soc_actual_percent),us.is_executed===!0&&(Xn.is_executed=!0),Xn});Be(fn)}).catch(Ve=>{console.error("Failed to merge history into server schedule:",Ve),Be(me??[])}).finally(()=>{})},[]),ls=N.useCallback(async()=>{s(!0);try{const[me,Ve,ht,Dt,fn,ln,mn,us,Xn]=await Promise.allSettled([we.status(),we.config(),we.haAverage(),we.schedule(),we.haWaterToday(),we.schedulerStatus(),we.scheduleTodayWithHistory(),we.executor.status(),we.energyToday()]);if(me.status==="fulfilled"){const Ne=me.value;Ne.current_soc?.value!==void 0&&e(Ne.current_soc.value),Ne.local&&U(Ne.local),Ne.db&&!("error"in Ne.db)&&ee(Ne.db)}if(Ve.status==="fulfilled"){const Ne=Ve.value,$n=Ne.arbitrage||{};if(Rn($n.export_guard_enabled||!1),typeof $n.risk_appetite=="number"&&Qe($n.risk_appetite),Ne.system?.battery?.capacity_kwh!=null&&Q(Ne.system.battery.capacity_kwh),Ne.automation){const zt=Ne.automation;m({enable_scheduler:zt.enable_scheduler,write_to_mariadb:zt.write_to_mariadb,external_executor_mode:zt.external_executor_mode,every_minutes:zt.schedule?.every_minutes??null})}else m(null);Ne.water_heating&&(typeof Ne.water_heating.comfort_level=="number"&&J(Ne.water_heating.comfort_level),typeof Ne.water_heating.vacation_mode?.enabled=="boolean"&&pe(Ne.water_heating.vacation_mode.enabled)),Ne.input_sensors?.vacation_mode&&(dn(Ne.input_sensors.vacation_mode),we.haEntityState(Ne.input_sensors.vacation_mode).then(zt=>{const Ks=zt.state==="on";ke(Ks)}).catch(()=>{ke(!1)}))}else console.error("Failed to load config for Dashboard:",Ve.reason);if(ht.status==="fulfilled"){const Ne=ht.value;oe({kw:Ne.average_load_kw??0,dailyKwh:Ne.daily_kwh??0})}else console.error("Failed to load HA average for Dashboard:",ht.reason);if(Dt.status==="fulfilled"){const Ne=Dt.value,$n=Ne.schedule??[];S($n),Ne.meta?.last_error?E({message:Ne.meta.last_error,at:Ne.meta.last_error_at||""}):E(null);const zt=new Date,Ks=$n.find(Zr=>{const gi=new Date(Zr.start_time||""),xi=new Date(gi.getTime()+1800*1e3);return zt>=gi&&zt<xi});Ks?.soc_target_percent!==void 0&&F(Ks.soc_target_percent)}else console.error("Failed to load schedule for Dashboard:",Dt.reason);if(fn.status==="fulfilled"){const Ne=fn.value;ie({kwh:Ne.water_kwh_today??0,source:Ne.source??"unknown"})}else console.error("Failed to load water data for Dashboard:",fn.reason);if(ln.status==="fulfilled"){const Ne=ln.value;v({last_run_at:Ne.last_run_at??null,last_run_status:Ne.last_run_status??null,next_run_at:Ne.next_run_at??null})}else console.error("Failed to load scheduler status for Dashboard:",ln.reason);if(mn.status==="fulfilled"){const $n=mn.value.slots??[];k($n)}else console.error("Failed to load schedule history for Dashboard:",mn.reason);let la=0;if(mn.status==="fulfilled"&&mn.value.slots){const Ne=new Date;Ne.setHours(0,0,0,0),mn.value.slots.filter(zt=>new Date(zt.start_time)>=Ne).forEach(zt=>{la+=zt.pv_forecast_kwh??0})}if(us.status==="fulfilled"){const Ne=us.value;R({shadow_mode:Ne.shadow_mode??!1,paused:Ne.paused??null})}else console.error("Failed to load executor status for Dashboard:",us.reason);if(Xn.status==="fulfilled"){const Ne=Xn.value;L({gridImport:Ne.grid_import_kwh,gridExport:Ne.grid_export_kwh,batteryCycles:Ne.battery_cycles,pvProduction:Ne.pv_production_kwh,pvForecast:Math.round(la*10)/10,loadConsumption:Ne.load_consumption_kwh,netCost:Ne.net_cost_kr})}else console.error("Failed to load energy today for Dashboard:",Xn.reason);o(new Date)}catch(me){console.error("Error fetching dashboard data:",me)}finally{s(!1),u(me=>me+1)}},[]);N.useEffect(()=>{let me=null;fe==="server"?me=$:me=P,de(me)},[fe,P,$]),N.useEffect(()=>{ls()},[ls]);const pl=async()=>{if(p)return;const Ve=!(h?.enable_scheduler??!1);x(!0);try{await we.configSave({automation:{enable_scheduler:Ve}}),m(ht=>({enable_scheduler:Ve,write_to_mariadb:ht?.write_to_mariadb,external_executor_mode:ht?.external_executor_mode,every_minutes:ht?.every_minutes??null}))}catch(ht){console.error("Failed to toggle planner automation:",ht)}finally{x(!1)}},[on,ra]=N.useState(!1),[sr,Ln]=N.useState(null),pi=async()=>{ra(!0),Ln(null);try{const me=await we.loadServerPlan();en(me.schedule??[]),Os("server"),Ln({type:"success",message:"Plan loaded from DB"})}catch(me){Ln({type:"error",message:me instanceof Error?me.message:"Load failed"})}finally{ra(!1),setTimeout(()=>Ln(null),3e3)}},$r=async()=>{ra(!0),Ln(null);try{await we.pushToDb(),Ln({type:"success",message:"Plan pushed to DB"}),ls()}catch(me){Ln({type:"error",message:me instanceof Error?me.message:"Push failed"})}finally{ra(!1),setTimeout(()=>Ln(null),3e3)}};let cs;if(fe==="server"&&Pt&&Pt.length>0)cs=Pt;else if(fe==="local"&&w&&w.length>0){const me=w.filter(Ve=>a0(Ve.start_time)||Ph(Ve.start_time));if(j&&j.length>0){const Ve=me.filter(ht=>Ph(ht.start_time));cs=[...j,...Ve]}else cs=me}const Gs=new Date;let oa=fe==="server"?"Server Plan":"Local Plan";re?.planned_at&&(oa=`Generated ${new Date(re.planned_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`);let Xs="";if(cs){const me=cs.find(Ve=>{const ht=new Date(Ve.start_time),Dt=new Date(ht.getTime()+1800*1e3);return Gs>=ht&&Gs<Dt});if(me){const Ve=new Date(new Date(me.start_time).getTime()+18e5),ht=Math.max(0,Math.floor((Ve.getTime()-Gs.getTime())/6e4));let Dt="Idle";(me.charge_kw||0)>.1?Dt=`Charge ${me.charge_kw?.toFixed(1)}kW`:(me.discharge_kw||0)>.1?Dt=`Discharge ${me.discharge_kw?.toFixed(1)}kW`:(me.export_kwh||0)>.1?Dt=`Export ${me.export_kwh?.toFixed(1)}kWh`:(me.water_heating_kw||0)>.1&&(Dt="Heat Water"),Xs=`  Next: ${Dt} (${ht}m)`}}const hn=`${oa}${Xs}`,Gn=b?.last_run_at||P?.planned_at||$?.planned_at,tn=Gn?new Date(Gn):null,Kr=h?.every_minutes&&h.every_minutes>0?h.every_minutes:null;let $s=null;return b?.next_run_at?$s=new Date(b.next_run_at):h?.enable_scheduler&&tn&&Kr&&($s=new Date(tn.getTime()+Kr*60*1e3)),d.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-6 sm:px-6 lg:pt-10 space-y-6",children:[C&&d.jsx(Ut.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-error p-4",children:d.jsxs("div",{className:"flex items-start justify-between gap-4 w-full",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-sm mb-1",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Planner Error"})]}),d.jsx("div",{className:"opacity-80 text-xs",children:C.message}),C.at&&d.jsx("div",{className:"opacity-60 text-[10px] mt-1",children:new Date(C.at).toLocaleString()})]}),d.jsx("button",{onClick:()=>E(null),className:"opacity-60 hover:opacity-100 text-xs px-2 py-1",title:"Dismiss",children:""})]})}),O?.shadow_mode&&d.jsxs(Ut.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-purple px-4 py-3",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-medium",children:"Shadow Mode Active"}),d.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Actions logged but not executed on Home Assistant"})]}),O?.paused&&d.jsxs(Ut.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-medium",children:"Executor Paused (Idle Mode)"}),O.paused.paused_minutes!==void 0&&d.jsxs("span",{className:"opacity-70 text-xs ml-2",children:[" Paused for ",O.paused.paused_minutes," minutes"]})]}),(ae||je)&&d.jsxs(Ut.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-medium",children:"Vacation Mode Active"}),d.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Water heating is disabled"})]}),d.jsx(Ut.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsx(SN,{useHistoryForToday:fe==="local",refreshToken:l,slotsOverride:cs,range:"48h",showDayToggle:!0})}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-stretch",children:[d.jsx(Ut.div,{className:"h-full flex flex-col gap-4",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsx("div",{className:"flex-1 min-h-0",children:d.jsx(qz,{powerFlowData:{solar:{kw:Jt.pv_kw??0,todayKwh:A?.pvProduction??void 0},battery:{kw:Jt.battery_kw??0,soc:t??50},grid:{kw:Jt.grid_kw??0,importKwh:A?.gridImport??void 0,exportKwh:A?.gridExport??void 0},house:{kw:Jt.load_kw??0,todayKwh:A?.loadConsumption??void 0},water:{kw:Jt.water_kw??0}}})})}),d.jsx(Ut.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsx(Zz,{comfortLevel:z,setComfortLevel:async me=>{J(me),await we.configSave({water_heating:{comfort_level:me}})},riskAppetite:ge,setRiskAppetite:async me=>{Qe(me),await we.configSave({s_index:{risk_appetite:me}})},vacationMode:ae,onWaterBoost:async()=>{try{await we.waterBoost.start(60),ls()}catch(me){console.error("Boost failed",me)}},onBatteryTopUp:async()=>{try{await we.executor.quickAction.set("force_charge",60),ls()}catch(me){console.error("Top Up failed",me)}}})}),d.jsx(Ut.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsxs("div",{className:"flex h-full flex-col gap-6",children:[d.jsx(Pe,{className:"flex-1 p-4 md:p-5",children:d.jsx(g6,{onDataRefresh:ls,onPlanSourceChange:Os,onServerScheduleLoaded:en,onVacationModeChange:me=>pe(me)})}),d.jsxs(Pe,{className:"flex-1 p-4 md:p-5",children:[d.jsxs("div",{className:"flex items-baseline justify-between mb-4",children:[d.jsx("div",{className:"text-sm font-medium text-text",children:"Planner Automation"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted",children:[d.jsx("span",{className:`inline-flex h-2 w-2 rounded-full ${h?.enable_scheduler?"bg-good shadow-[0_0_0_2px_rgba(var(--color-good),0.4)]":"bg-line"}`}),d.jsx("span",{children:h?.enable_scheduler?"Active":"Disabled"})]}),d.jsx("button",{type:"button",onClick:pl,disabled:p,className:"rounded-pill px-2 py-0.5 text-[10px] font-semibold border border-line/60 text-muted hover:border-accent hover:text-accent disabled:opacity-50 transition",children:h?.enable_scheduler?"Disable":"Enable"})]})]}),d.jsxs("div",{className:"mb-4 p-2 rounded-lg bg-surface2/30 border border-line/30 flex items-center justify-between",children:[d.jsx("div",{className:"text-[10px] font-medium text-text",children:hn}),d.jsx("button",{onClick:()=>ls(),disabled:n,className:`rounded-full p-1 transition ${n?"bg-surface2 text-muted":"text-muted hover:text-accent"}`,title:"Manual sync",children:d.jsx("span",{className:`inline-block text-[10px] ${n?"animate-spin":""}`,children:n?"":""})})]}),d.jsxs("div",{className:"space-y-1 text-[10px] text-muted",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Last plan run:"}),d.jsx("span",{className:"font-mono",children:SS(tn)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Next expected run:"}),d.jsx("span",{className:"font-mono",children:h?.enable_scheduler?SS($s):""})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"DB sync:"}),d.jsx("span",{children:h?.write_to_mariadb?"enabled":"disabled"})]}),d.jsxs("div",{className:"flex justify-between pt-1 border-t border-line/30 mt-1",children:[d.jsx("span",{children:"Dashboard Sync:"}),d.jsx("span",{children:a?a.toLocaleTimeString():""})]})]})]}),h?.external_executor_mode&&d.jsxs(Pe,{className:"flex-1 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[d.jsx("div",{className:"text-sm text-muted",children:"DB Sync"}),d.jsx("div",{className:`text-[10px] ${sr?.type==="success"?"text-good":"text-bad"}`,children:sr?.message})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[d.jsxs("button",{type:"button",onClick:pi,disabled:on,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Pull plan from MariaDB current_schedule table",children:[d.jsx(Rx,{className:"h-4 w-4"}),d.jsx("span",{children:"Load from DB"})]}),d.jsxs("button",{type:"button",onClick:$r,disabled:on,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Push local schedule.json to MariaDB",children:[d.jsx(Lx,{className:"h-4 w-4"}),d.jsx("span",{children:"Push to DB"})]})]})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[d.jsx(Xz,{netCost:A?.netCost??null,importKwh:A?.gridImport??null,exportKwh:A?.gridExport??null,exportGuard:dt}),d.jsx($z,{pvActual:A?.pvProduction??null,pvForecast:A?.pvForecast??null,loadActual:A?.loadConsumption??null,loadAvg:ue?.dailyKwh??null,waterKwh:Z?.kwh??null,batteryCapacity:W}),d.jsx(Kz,{soc:t,socTarget:xe,sIndex:re?.s_index?.effective_load_margin??null,cycles:A?.batteryCycles??null,riskLabel:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[ge]||"Neutral"})]})]})}function ZB(){const[t,e]=N.useState([]),[n,s]=N.useState(!1),[a,o]=N.useState(null),[l,u]=N.useState("all"),[h,m]=N.useState("all"),[p,x]=N.useState(null),[b,v]=N.useState(null),[w,S]=N.useState("today"),j=N.useRef(null),k=N.useRef(null);N.useEffect(()=>{s(!0),o(null),we.debugLogs().then(R=>e(R.logs??[])).catch(R=>{console.error("Failed to fetch debug logs:",R),o("Failed to load logs")}).finally(()=>s(!1))},[]),N.useEffect(()=>{(()=>{v(null);let R="today";if(w==="yesterday"){const A=new Date;A.setDate(A.getDate()-1),R=A.toISOString().slice(0,10)}we.historySoc(R).then(A=>x(A)).catch(A=>{console.error("Failed to fetch historic SoC:",A),v("Failed to load SoC history")})})()},[w]);const C=t.filter(O=>{if(l==="all")return!0;const R=(O.level||"").toUpperCase();return l==="error"?R==="ERROR"||R==="CRITICAL":R==="WARN"||R==="WARNING"||R==="ERROR"||R==="CRITICAL"}).filter(O=>{if(h==="all")return!0;const R=new Date(O.timestamp).getTime();if(Number.isNaN(R))return!0;const L=Date.now()-R,P=3600*1e3;return h==="1h"?L<=P:h==="6h"?L<=6*P:h==="24h"?L<=24*P:!0}),E=t.filter(O=>{const R=(O.level||"").toUpperCase();return R==="ERROR"||R==="CRITICAL"});return N.useEffect(()=>{if(!j.current)return;const O=p?.slots??[];if(!O.length){k.current&&(k.current.destroy(),k.current=null);return}const R=O.map(U=>{const $=new Date(U.timestamp);return Number.isNaN($.getTime())?"":$.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}),A=O.map(U=>U.soc_percent??0),L={labels:R,datasets:[{type:"line",label:"SoC (%)",data:A,borderColor:"rgba(129, 200, 253, 0.9)",backgroundColor:"rgba(129, 200, 253, 0.15)",pointRadius:0,tension:.25}]},P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:U=>`SoC: ${U.parsed.y?.toFixed(1)??"--"}%`}}},scales:{x:{ticks:{color:"#a6b0bf",maxRotation:0},grid:{display:!1}},y:{ticks:{color:"#a6b0bf",stepSize:10},grid:{color:"rgba(255,255,255,0.06)"},beginAtZero:!0,suggestedMax:100}}};if(k.current){k.current.data=L,k.current.options=P,k.current.update();return}return k.current=new Ds(j.current,{type:"line",data:L,options:P}),()=>{k.current&&(k.current.destroy(),k.current=null)}},[p]),d.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-8 sm:px-6 lg:pt-12",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"text-sm text-muted",children:"Debug & Diagnostics"}),d.jsx("div",{className:"text-[13px] text-muted/80",children:"Logs and SoC history to understand what the planner has been doing recently."})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[d.jsxs(Pe,{className:"p-5 lg:col-span-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"text-sm text-muted",children:"Logs"}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[d.jsx("button",{className:"rounded-pill border border-line/60 px-3 py-1 hover:border-accent disabled:opacity-40",onClick:()=>{s(!0),o(null),we.debugLogs().then(O=>e(O.logs??[])).catch(O=>{console.error("Failed to refresh debug logs:",O),o("Failed to refresh logs")}).finally(()=>s(!1))},disabled:n,children:n?"Refreshing":"Refresh"}),d.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:h,onChange:O=>m(O.target.value),children:[d.jsx("option",{value:"all",children:"All time"}),d.jsx("option",{value:"1h",children:"Last 1 hour"}),d.jsx("option",{value:"6h",children:"Last 6 hours"}),d.jsx("option",{value:"24h",children:"Last 24 hours"})]}),d.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:l,onChange:O=>u(O.target.value),children:[d.jsx("option",{value:"all",children:"All levels"}),d.jsx("option",{value:"warn_error",children:"Warn + Error"}),d.jsx("option",{value:"error",children:"Errors only"})]})]})]}),a&&d.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:a}),d.jsxs("div",{className:"h-64 overflow-auto rounded-xl2 border border-line/60 bg-surface2/40 text-[11px] font-mono text-muted/90",children:[C.length===0&&!n&&!a&&d.jsx("div",{className:"px-3 py-2 text-muted/70",children:"No logs captured yet."}),C.map((O,R)=>d.jsxs("div",{className:"px-3 py-1.5 border-b border-line/20 last:border-b-0",children:[d.jsx("span",{className:"text-muted/60 mr-2",children:new Date(O.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),d.jsx("span",{className:"mr-2 rounded-full px-1.5 py-0.5 text-[10px] uppercase tracking-wide border border-line/50",children:O.level}),d.jsx("span",{className:"text-muted/70 mr-2",children:O.logger}),d.jsx("span",{children:O.message})]},`${O.timestamp}-${R}`))]})]}),d.jsxs(Pe,{className:"p-5 lg:col-span-1",children:[d.jsx("div",{className:"text-sm text-muted mb-3",children:"Recent events"}),d.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"Quick view of recent errors and warnings from the log stream."}),d.jsxs("div",{className:"space-y-2 text-[12px] text-muted/90",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Total log entries"}),d.jsx("span",{className:"tabular-nums",children:t.length})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Error/critical entries"}),d.jsx("span",{className:"tabular-nums",children:E.length})]}),d.jsx("div",{className:"mt-3 text-[11px] text-muted/70 uppercase tracking-wide",children:"Last errors"}),d.jsxs("div",{className:"space-y-1.5 max-h-40 overflow-auto",children:[E.slice(-5).map((O,R)=>d.jsxs("div",{className:"rounded-md bg-rose-500/5 border border-rose-500/40 px-2 py-1.5",children:[d.jsxs("div",{className:"text-[10px] text-rose-200/80 mb-0.5",children:[new Date(O.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})," "," ",O.logger]}),d.jsx("div",{className:"text-[11px] text-rose-50/90 line-clamp-2",children:O.message})]},`${O.timestamp}-err-${R}`)),E.length===0&&d.jsx("div",{className:"text-[11px] text-muted/70",children:"No error-level entries yet."})]})]})]})]}),d.jsx("div",{className:"grid gap-6 mt-6 lg:grid-cols-3",children:d.jsxs(Pe,{className:"p-5 lg:col-span-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"text-sm text-muted",children:"Historical SoC"}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[d.jsx("span",{className:"text-muted/70",children:"Range"}),d.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:w,onChange:O=>S(O.target.value),children:[d.jsx("option",{value:"today",children:"Today"}),d.jsx("option",{value:"yesterday",children:"Yesterday"})]})]})]}),d.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"SoC (%) over the selected day from the learning database. Use this to correlate planner behaviour with actual SoC movement."}),b&&d.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:b}),d.jsx("div",{className:"h-48",children:d.jsx("canvas",{ref:j,className:"w-full h-full"})})]})})]})}const fT=N.createContext(void 0);function I0(){const t=N.useContext(fT);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t}function mT(t,e){return e.reduce((n,s)=>n&&typeof n=="object"?n[s]:void 0,t)}function pT(t,e,n){if(e.length===0)return t;const[s,...a]=e;if(a.length===0)return{...t,[s]:n};const o=t[s]||{};return{...t,[s]:pT(o,a,n)}}function QB(t,e){const n=e.trim();if(t.type==="number"||t.type==="azimuth"||t.type==="tilt"){if(n==="")return null;const s=Number(n);return Number.isNaN(s)?void 0:s}return t.type==="boolean"?n==="true":t.type==="array"?n?n.split(",").map(s=>s.trim()).filter(Boolean).map(s=>{const a=Number(s);return Number.isNaN(a)?s:a}):[]:n}function jS(t,e){const n={};return t&&e.forEach(s=>{const a=mT(t,s.path);s.type==="boolean"?n[s.key]=a===!0?"true":"false":s.type==="array"&&Array.isArray(a)?n[s.key]=a.join(", "):n[s.key]=a!=null?String(a):""}),n}function NS(t,e,n){let s={};return n.forEach(a=>{const o=e[a.key];if(o===void 0)return;const l=QB(a,o);if(l===void 0||a.type==="number"&&l===null)return;const u=mT(t,a.path);((m,p,x)=>x==="array"?!Array.isArray(m)||!Array.isArray(p)||m.length!==p.length?!1:m.every((b,v)=>b===p[v]):m===p)(l,u,a.type)||(s=pT(s,a.path,l))}),s}function bf(t){const{toast:e}=I0(),[n,s]=N.useState(null),[a,o]=N.useState({}),[l,u]=N.useState({}),[h,m]=N.useState(!0),[p,x]=N.useState(!1),[b,v]=N.useState(null),[w,S]=N.useState([]),[j,k]=N.useState(!1),C=N.useCallback(async()=>{m(!0),v(null);try{const U=await we.config();s(U),o(jS(U,t)),u({})}catch(U){console.error("Failed to load configuration",U),v("Failed to load configuration: "+(U instanceof Error?U.message:"Unknown error"))}finally{m(!1)}},[t]),E=N.useCallback(async()=>{k(!0);try{const U=await we.haEntities();S(U.entities||[])}catch(U){console.error("Failed to load HA entities",U)}finally{k(!1)}},[]);N.useEffect(()=>{C(),E()},[C,E]);const O=N.useCallback((U,$,ee)=>{const re={},de=$.trim();if(de===""&&(U.includes("power_kw")||U.includes("capacity_kwh")))re[U]="Required";else if(U.includes("percent")||U.includes("soc")){const W=Number(de);Number.isNaN(W)?re[U]="Must be a number":(W<0||W>100)&&(re[U]="Must be between 0 and 100")}else if(U.includes("power_kw")||U.includes("sek")||U.includes("kwh")){const W=Number(de);Number.isNaN(W)?re[U]="Must be a number":W<0&&(re[U]="Must be positive")}const fe="battery.min_soc_percent",be="battery.max_soc_percent";if(U===fe||U===be){const W=Number(U===fe?de:ee[fe]),Q=Number(U===be?de:ee[be]);!Number.isNaN(W)&&!Number.isNaN(Q)&&W>=Q&&(re[fe]="Min SoC must be less than max SoC",re[be]="Max SoC must be greater than min SoC")}return re},[]),R=N.useCallback((U,$)=>{o(ee=>{const re={...ee,[U]:$},de=O(U,$,re);return u(fe=>{const be={...fe,...de};return de[U]||delete be[U],U==="battery.min_soc_percent"&&!de["battery.min_soc_percent"]&&delete be["battery.max_soc_percent"],U==="battery.max_soc_percent"&&!de["battery.max_soc_percent"]&&delete be["battery.min_soc_percent"],be}),re}),v(null)},[O]),A=N.useCallback(()=>{n&&(o(jS(n,t)),u({}),v(null))},[n,t]),L=N.useCallback(async U=>{if(!n)return!1;if(Object.keys(l).length>0)return v("Please fix validation errors before saving."),!1;const $={...NS(n,a,t),...U};if(Object.keys($).length===0)return v("No changes detected."),!1;x(!0),v(null);try{const ee=await we.configSave($);if(ee.status==="success")return e({message:"Settings saved successfully",variant:"success"}),await C(),!0;{const re={};ee.errors?.forEach(de=>{de.field&&(re[de.field]=de.message)}),u(de=>({...de,...re})),v(ee.errors?.[0]?.message||"Save failed"),e({message:"Save failed",variant:"error"})}}catch(ee){console.error("Save failed",ee),v("Save failed: "+(ee instanceof Error?ee.message:"Unknown error")),e({message:"Save failed",variant:"error"})}finally{x(!1)}return!1},[n,a,t,l,C,e]),P=N.useMemo(()=>{if(!n)return!1;const U=NS(n,a,t);return Object.keys(U).length>0},[n,a,t]);return{config:n,form:a,fieldErrors:l,loading:h,saving:p,statusMessage:b,isDirty:P,haEntities:w,haLoading:j,handleChange:R,save:L,reset:A,reload:C,reloadEntities:E}}function JB({text:t,className:e=""}){const[n,s]=N.useState(!1);return t?d.jsxs("div",{className:`relative inline-block ${e}`,children:[d.jsx("button",{type:"button",className:"ml-1.5 text-muted/60 hover:text-accent transition-colors",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onFocus:()=>s(!0),onBlur:()=>s(!1),children:d.jsx(q5,{className:"w-3.5 h-3.5"})}),n&&d.jsxs("div",{className:"absolute z-50 w-64 p-2.5 text-xs bg-surface2 border border-line rounded-lg shadow-lg left-0 bottom-full mb-1.5",children:[d.jsx("div",{className:"text-muted leading-relaxed",children:t}),d.jsx("div",{className:"absolute w-2 h-2 bg-surface2 border-r border-b border-line transform rotate-45 left-3 -bottom-1"})]})]}):null}function e9({value:t,onChange:e}){const n=N.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t%360;return x<0&&(x+=360),x},[t]),[s,a]=N.useState(!1),o=x=>{const b=Math.round(x),v=[0,45,90,135,180,225,270,315];let w=b,S=1/0;for(const j of v){const k=Math.abs(b-j);k<S&&k<=7&&(S=k,w=j)}return w},l=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let C=Math.atan2(S,-j)*180/Math.PI;C<0&&(C+=360);const E=o(C);e(E)},u=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}l(x)},h=x=>{s&&l(x)},m=x=>{if(s){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},p=`rotate(${n} 24 24)`;return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:u,onPointerMove:h,onPointerUp:m,"aria-label":"Solar azimuth dial",role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":Math.round(n),children:d.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[d.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/60",strokeWidth:"2"}),d.jsx("g",{children:Array.from({length:12}).map((x,b)=>{const v=b*30,w=v%90===0,S=!w&&v%45===0,j=21,k=w?16:S?18:19,C=(v-90)*Math.PI/180,E=24+j*Math.cos(C),O=24+j*Math.sin(C),R=24+k*Math.cos(C),A=24+k*Math.sin(C),L=w||S?"stroke-line/80":"stroke-line/40",P=w?1.6:1;return d.jsx("line",{x1:E,y1:O,x2:R,y2:A,className:L,strokeWidth:P},v)})}),d.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"N"}),d.jsx("text",{x:"24",y:"45",textAnchor:"middle",className:"fill-muted text-[8px]",children:"S"}),d.jsx("text",{x:"43",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"E"}),d.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"W"}),d.jsxs("g",{transform:p,children:[d.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),d.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),d.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[d.jsxs("div",{className:"font-medium text-text",children:[Math.round(n),""]}),d.jsx("div",{children:"0 = North  90 = East  180 = South  270 = West"})]})]})}function t9({value:t,onChange:e}){const n=N.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t;return x<0&&(x=0),x>90&&(x=90),x},[t]),[s,a]=N.useState(!1),o=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let C=Math.atan2(S,-j)*180/Math.PI;C<0&&(C+=360),(C<270||C>360)&&(C>=0&&C<=135?C=360:C=270);let E=360-C;E<0&&(E=0),E>90&&(E=90);const O=Math.round(E/5)*5;e(O)},l=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}o(x)},u=x=>{s&&o(x)},h=x=>{if(s){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},p=`rotate(${N.useMemo(()=>360-n,[n])} 24 24)`;return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:l,onPointerMove:u,onPointerUp:h,"aria-label":"Solar tilt dial",role:"slider","aria-valuemin":0,"aria-valuemax":90,"aria-valuenow":Math.round(n),children:d.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[d.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/40",strokeWidth:"2"}),d.jsx("path",{d:"M3 24 A21 21 0 0 1 24 3",className:"fill-none stroke-accent/70",strokeWidth:"2.2"}),d.jsx("g",{children:Array.from({length:7}).map((x,b)=>{const v=b*15,w=360-v,S=21,j=v%30===0?18:19,k=(w-90)*Math.PI/180,C=24+S*Math.cos(k),E=24+S*Math.sin(k),O=24+j*Math.cos(k),R=24+j*Math.sin(k),A=v===0||v===90?"stroke-line/80":"stroke-line/60",L=v===0||v===90?1.6:1.2;return d.jsx("line",{x1:C,y1:E,x2:O,y2:R,className:A,strokeWidth:L},v)})}),d.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"0"}),d.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"90"}),d.jsxs("g",{transform:p,children:[d.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),d.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),d.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[d.jsxs("div",{className:"font-medium text-text",children:[Math.round(n),""]}),d.jsx("div",{children:"Drag along the arc: 0 = flat  90 = vertical panel"})]})]})}function n9({entities:t,value:e,onChange:n,placeholder:s="Select entity...",disabled:a=!1,loading:o=!1}){const[l,u]=N.useState(!1),[h,m]=N.useState(""),[p,x]=N.useState(0),b=N.useRef(null),v=N.useRef(null),w=N.useRef(null),S=t.find(A=>A.entity_id===e),j=N.useMemo(()=>{if(!h.trim())return t;const A=h.toLowerCase();return t.filter(L=>L.entity_id.toLowerCase().includes(A)||L.friendly_name.toLowerCase().includes(A))},[t,h]),k=N.useMemo(()=>{const A={};return j.forEach(L=>{const P=L.domain||L.entity_id.split(".")[0];A[P]||(A[P]=[]),A[P].push(L)}),A},[j]),C=N.useMemo(()=>{const A=[];return Object.values(k).forEach(L=>A.push(...L)),A},[k]);N.useEffect(()=>{x(0)},[j.length]),N.useEffect(()=>{const A=L=>{b.current&&!b.current.contains(L.target)&&(u(!1),m(""))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),N.useEffect(()=>{if(l&&w.current){const A=w.current.querySelector('[data-highlighted="true"]');A&&A.scrollIntoView({block:"nearest"})}},[p,l]);const E=A=>{n(A.entity_id),u(!1),m("")},O=A=>{if(!l){(A.key==="Enter"||A.key===" "||A.key==="ArrowDown")&&(A.preventDefault(),u(!0));return}switch(A.key){case"ArrowDown":A.preventDefault(),x(L=>Math.min(L+1,C.length-1));break;case"ArrowUp":A.preventDefault(),x(L=>Math.max(L-1,0));break;case"Enter":A.preventDefault(),C[p]&&E(C[p]);break;case"Escape":A.preventDefault(),u(!1),m("");break}},R=A=>{A.stopPropagation(),n(""),u(!1),m("")};return d.jsxs("div",{ref:b,className:"relative",children:[d.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(u(!l),l||setTimeout(()=>v.current?.focus(),0))},onKeyDown:O,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[d.jsx("span",{className:S?"text-text":"text-muted",children:o?"Loading...":S?.friendly_name||S?.entity_id||s}),d.jsxs("div",{className:"flex items-center gap-1",children:[e&&!a&&d.jsx("button",{type:"button",onClick:R,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:d.jsx(il,{className:"h-3.5 w-3.5"})}),d.jsx(ef,{className:`h-4 w-4 text-muted transition-transform ${l?"rotate-180":""}`})]})]}),l&&d.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[d.jsx("div",{className:"p-2 border-b border-line",children:d.jsxs("div",{className:"relative",children:[d.jsx(Px,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),d.jsx("input",{ref:v,type:"text",value:h,onChange:A=>m(A.target.value),onKeyDown:O,placeholder:"Search entities...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),d.jsx("div",{ref:w,className:"max-h-[240px] overflow-y-auto p-1",children:j.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No entities found"}):Object.entries(k).map(([A,L])=>d.jsxs("div",{className:"mb-1",children:[d.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:A}),L.map(P=>{const $=C.findIndex(re=>re.entity_id===P.entity_id)===p,ee=P.entity_id===e;return d.jsxs("button",{type:"button","data-highlighted":$,onClick:()=>E(P),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${$?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${ee?"font-medium":""}
                                                `,children:[d.jsx("div",{className:"truncate",children:P.friendly_name||P.entity_id}),d.jsx("div",{className:"text-[10px] text-muted truncate",children:P.entity_id})]},P.entity_id)})]},A))})]})]})}function s9({value:t,onChange:e,placeholder:n="Select service (e.g. notify.mobile_app)...",disabled:s=!1}){const[a,o]=N.useState(!1),[l,u]=N.useState(""),[h,m]=N.useState([]),[p,x]=N.useState(!1),[b,v]=N.useState(0),w=N.useRef(null),S=N.useRef(null),j=N.useRef(null);N.useEffect(()=>{a&&h.length===0&&!p&&(x(!0),we.haServices().then(L=>{m(L.services||[])}).catch(L=>{console.error("Failed to fetch HA services:",L)}).finally(()=>{x(!1)}))},[a,h.length,p]);const k=N.useMemo(()=>{if(!l.trim())return h;const L=l.toLowerCase();return h.filter(P=>P.toLowerCase().includes(L))},[h,l]),C=N.useMemo(()=>{const L={};return k.forEach(P=>{const U=P.split(".")[0]||"other";L[U]||(L[U]=[]),L[U].push(P)}),L},[k]),E=N.useMemo(()=>{const L=[];return Object.values(C).forEach(P=>L.push(...P)),L},[C]);N.useEffect(()=>{v(0)},[k.length]),N.useEffect(()=>{const L=P=>{w.current&&!w.current.contains(P.target)&&(o(!1),u(""))};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]),N.useEffect(()=>{if(a&&j.current){const L=j.current.querySelector('[data-highlighted="true"]');L&&L.scrollIntoView({block:"nearest"})}},[b,a]);const O=L=>{e(L),o(!1),u("")},R=L=>{if(!a){(L.key==="Enter"||L.key===" "||L.key==="ArrowDown")&&(L.preventDefault(),o(!0));return}switch(L.key){case"ArrowDown":L.preventDefault(),v(P=>Math.min(P+1,E.length-1));break;case"ArrowUp":L.preventDefault(),v(P=>Math.max(P-1,0));break;case"Enter":L.preventDefault(),E[b]&&O(E[b]);break;case"Escape":L.preventDefault(),o(!1),u("");break}},A=L=>{L.stopPropagation(),e(""),o(!1),u("")};return d.jsxs("div",{ref:w,className:"relative",children:[d.jsxs("button",{type:"button",disabled:s,onClick:()=>{s||(o(!a),a||setTimeout(()=>S.current?.focus(),0))},onKeyDown:R,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[d.jsx("span",{className:t?"text-text":"text-muted",children:p&&h.length===0?"Loading services...":t||n}),d.jsxs("div",{className:"flex items-center gap-1",children:[t&&!s&&d.jsx("button",{type:"button",onClick:A,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:d.jsx(il,{className:"h-3.5 w-3.5"})}),d.jsx(ef,{className:`h-4 w-4 text-muted transition-transform ${a?"rotate-180":""}`})]})]}),a&&d.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[d.jsx("div",{className:"p-2 border-b border-line",children:d.jsxs("div",{className:"relative",children:[d.jsx(Px,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),d.jsx("input",{ref:S,type:"text",value:l,onChange:L=>u(L.target.value),onKeyDown:R,placeholder:"Search services...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),d.jsx("div",{ref:j,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:p&&h.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted animate-pulse",children:"Loading from Home Assistant..."}):k.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No services found"}):Object.entries(C).map(([L,P])=>d.jsxs("div",{className:"mb-1",children:[d.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:L}),P.map(U=>{const ee=E.indexOf(U)===b,re=U===t;return d.jsx("button",{type:"button","data-highlighted":ee,onClick:()=>O(U),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${ee?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${re?"font-medium":""}
                                                `,children:d.jsx("div",{className:"truncate",children:U})},U)})]},L))})]})]})}function gT({value:t,onChange:e,options:n,placeholder:s="Select...",disabled:a=!1,className:o="",searchable:l=!1}){const[u,h]=N.useState(!1),[m,p]=N.useState(""),[x,b]=N.useState(0),v=N.useRef(null),w=N.useRef(null),S=N.useRef(null),j=n.find(A=>A.value===t),k=N.useMemo(()=>{if(!m.trim())return n;const A=m.toLowerCase();return n.filter(L=>L.label.toLowerCase().includes(A)||L.value.toLowerCase().includes(A)||L.group?.toLowerCase().includes(A))},[n,m]),C=N.useMemo(()=>{const A={},L=[];return k.forEach(P=>{P.group?(A[P.group]||(A[P.group]=[]),A[P.group].push(P)):L.push(P)}),{groups:A,noGroup:L}},[k]),E=N.useMemo(()=>[...C.noGroup,...Object.values(C.groups).flat()],[C]);N.useEffect(()=>{b(0)},[k.length,u]),N.useEffect(()=>{const A=L=>{v.current&&!v.current.contains(L.target)&&(h(!1),p(""))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),N.useEffect(()=>{if(u&&S.current){const A=S.current.querySelector(`[data-index="${x}"]`);A&&A.scrollIntoView({block:"nearest"})}},[x,u]);const O=A=>{e(A),h(!1),p("")},R=A=>{if(!a){if(!u){(A.key==="Enter"||A.key===" "||A.key==="ArrowDown")&&(A.preventDefault(),h(!0));return}switch(A.key){case"ArrowDown":A.preventDefault(),b(L=>Math.min(L+1,E.length-1));break;case"ArrowUp":A.preventDefault(),b(L=>Math.max(L-1,0));break;case"Enter":A.preventDefault(),E[x]&&O(E[x].value);break;case"Escape":A.preventDefault(),h(!1),p("");break;case"Tab":h(!1);break}}};return d.jsxs("div",{ref:v,className:`relative ${o}`,children:[d.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(h(!u),!u&&l&&setTimeout(()=>w.current?.focus(),0))},onKeyDown:R,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[d.jsx("span",{className:j?"text-text":"text-muted",children:j?.label||s}),d.jsx(ef,{className:`h-4 w-4 text-muted transition-transform ${u?"rotate-180":""}`})]}),u&&d.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[180px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float animate-in fade-in zoom-in-95 duration-100",children:[l&&d.jsx("div",{className:"p-2 border-b border-line",children:d.jsxs("div",{className:"relative",children:[d.jsx(Px,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),d.jsx("input",{ref:w,type:"text",value:m,onChange:A=>p(A.target.value),placeholder:"Search...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40",onKeyDown:R})]})}),d.jsx("div",{ref:S,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:E.length===0?d.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No options found"}):d.jsxs(d.Fragment,{children:[C.noGroup.map((A,L)=>{const P=j?.value===A.value,U=E[x]?.value===A.value;return d.jsxs("div",{"data-index":x,className:`
                                                flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                ${U?"bg-accent/20 text-text":"text-text"}
                                                ${P?"font-medium":""}
                                            `,onClick:()=>O(A.value),onMouseEnter:()=>b(E.findIndex($=>$.value===A.value)),children:[d.jsx("span",{children:A.label}),P&&d.jsx(f_,{className:"h-3.5 w-3.5 text-accent"})]},A.value)}),Object.entries(C.groups).map(([A,L])=>d.jsxs("div",{className:"mt-1 first:mt-0",children:[d.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:A}),L.map(P=>{const U=j?.value===P.value,$=E.findIndex(re=>re.value===P.value),ee=$===x;return d.jsxs("div",{"data-index":$,className:`
                                                        flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                        ${ee?"bg-accent/20 text-text":"text-text"}
                                                        ${U?"font-medium":""}
                                                    `,onClick:()=>O(P.value),onMouseEnter:()=>b($),children:[d.jsx("span",{children:P.label}),U&&d.jsx(f_,{className:"h-3.5 w-3.5 text-accent"})]},P.value)})]},A))]})})]})]})}function xT({checked:t,onCheckedChange:e,disabled:n=!1,className:s=""}){return d.jsx("div",{className:`toggle ${t?"active":""} ${s} ${n?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!n&&e(!t),children:d.jsx("div",{className:"toggle-knob"})})}const i9="IANA timezone for all schedule calculations",a9={timezone:i9,"advisor.enable_llm":"Enable LLM-powered advice on Dashboard","advisor.model":"OpenRouter model identifier (requires API key in secrets.yaml)","advisor.personality":"Advice style: concise | friendly | technical","advisor.auto_fetch":"Automatically fetch advice when Dashboard loads","system.has_solar":"Enable PV forecasting & solar-related features","system.has_battery":"Enable battery control & grid arbitrage","system.has_water_heater":"Enable water heating optimization","system.grid.max_power_kw":"HARD limit: max grid import (cannot be exceeded)","system.inverter.max_power_kw":"Maximum inverter AC power output","system.location.latitude":"Decimal degrees, positive north (for PV forecasting)","system.location.longitude":"Decimal degrees, positive east (for PV forecasting)","system.solar_array.azimuth":"Panel direction: 0=North, 90=East, 180=South, 270=West","system.solar_array.kwp":"Total DC peak power of PV array in kilowatts","system.solar_array.tilt":"Panel angle from horizontal: 0=flat, 90=vertical","battery.max_soc_percent":"Planner target ceiling (BMS still enforces absolute limit)","battery_economics.battery_cycle_cost_kwh":"Degradation cost applied per kWh cycled through the battery","charging_strategy.charge_threshold_percentile":"Bottom X% of daily prices are considered 'cheap'","charging_strategy.cheap_price_tolerance_sek":"Extends 'cheap' window to prices within this tolerance","charging_strategy.price_smoothing_sek_kwh":"Groups slots slightly above cheapest into charge window","charging_strategy.block_consolidation_tolerance_sek":"Price tolerance for merging adjacent charge blocks","charging_strategy.consolidation_max_gap_slots":"Max gap (in 15-min slots) to bridge when consolidating","strategic_charging.price_threshold_sek":"[NOT IMPLEMENTED] Floor price for opportunistic charging","strategic_charging.target_soc_percent":"SoC target for cheap window expansion (used in windows.py)","water_heating.power_kw":"Power consumption of the water heater","water_heating.min_hours_per_day":"Minimum run-time per day","water_heating.min_kwh_per_day":"Optional; defaults to power * hours when unset","water_heating.max_blocks_per_day":"Prefer single block, up to two if needed","water_heating.defer_up_to_hours":"Allow deferring into early tomorrow up to N hours if cheaper","water_heating.plan_days_ahead":"Plan at most today + 1 day (tomorrow) within 48h horizon","water_heating.max_hours_between_heating":"Max gap between heating sessions (0 = no constraint)","water_heating.comfort_level":"1-5 (EconomyMaximum) - controls gap penalty","water_heating.min_spacing_hours":"Min gap between starts to avoid efficiency loss","water_heating.spacing_penalty_sek":"Soft penalty for frequent starts","water_heating.vacation_mode.enabled":"Master switch (HA entity can override when ON)","water_heating.vacation_mode.anti_legionella_temp_c":"Target temperature for safety cycle","water_heating.vacation_mode.anti_legionella_interval_days":"Run cycle every N days","water_heating.vacation_mode.anti_legionella_duration_hours":"Duration at power_kw (e.g., 3h * 3kW = 9kWh)","s_index.mode":"Options: probabilistic | dynamic","s_index.static_factor":"Used when mode=static","s_index.base_factor":"Starting point for dynamic calculationsWfz","s_index.max_factor":"Upper bound clamp for dynamic mode","s_index.pv_deficit_weight":"Weight for PV/load deficit contribution","s_index.temp_weight":"Weight for temperature adjustment","s_index.temp_baseline_c":"Baseline temperature (no adjustment)","s_index.temp_cold_c":"Temperature where adjustment reaches 100%","s_index.s_index_horizon_days":"Number of days ahead to evaluate (integer)","s_index.risk_appetite":"1-5 scale (1=safe, 3=neutral, 5=gambler)","export.enable_export":"[NOT IMPLEMENTED] Master switch for grid export","manual_planning.charge_target_percent":"Cap for manual charge slots","manual_planning.export_target_percent":"Floor target when manually scheduling export","debug.enable_planner_debug":"Enable verbose planner logging","debug.sample_size":"Sample size for debug output charts","automation.enable_scheduler":"Enable automatic schedule regeneration","automation.write_to_mariadb":"Write telemetry to MariaDB (requires secrets.yaml)","automation.external_executor_mode":"Use external executor instead of built-in","automation.schedule.every_minutes":"How often to regenerate schedule","automation.schedule.jitter_minutes":"Random delay to avoid thundering herd","automation.ml_training.enabled":"Enable automatic ML model retraining","automation.ml_training.run_days":"Days of week to train (0=Mon, 6=Sun)","automation.ml_training.run_time":"Time of day to run training (HH:MM)","learning.default_battery_cost_sek_per_kwh":"Conservative default until dynamic cost is recorded","nordpool.price_area":"Nordpool bidding zone (SE1-SE4, NO1-NO5, DK1-DK2, FI, etc.)","nordpool.currency":"Price currency","nordpool.resolution_minutes":"Slot resolution (15, 30, or 60)","pricing.vat_percent":"VAT percentage on electricity","pricing.grid_transfer_fee_sek":"Grid operator transfer fee per kWh","pricing.energy_tax_sek":"Energy tax per kWh","pricing.subscription_fee_sek_per_month":"[FUTURE] Fixed monthly grid subscription (for cost analysis)","forecasting.active_forecast_version":"Forecast engine: aurora (ML) | legacy","forecasting.pv_confidence_percent":"PV forecast scaling (100 = trust forecast fully)","forecasting.load_safety_margin_percent":"Load forecast scaling (>100 = expect more load)","grid.import_limit_kw":"Soft limit for effekttariff (breached with high penalty)","kepler.ramping_cost_sek_per_kw":"Penalty for power changes between slots (reduces sawtooth)","input_sensors.alarm_state":"Alarm panel for occupancy detection (ML feature)","input_sensors.vacation_mode":"Vacation mode toggle (reduces load forecasts)","input_sensors.battery_soc":"Current battery state of charge (%)","input_sensors.pv_power":"Current PV production (W or kW)","input_sensors.load_power":"Current load consumption (W or kW)","input_sensors.total_battery_charge":"Cumulative battery charge (kWh)","input_sensors.total_battery_discharge":"Cumulative battery discharge (kWh)","input_sensors.total_grid_export":"Cumulative grid export (kWh)","input_sensors.total_grid_import":"Cumulative grid import (kWh)","input_sensors.total_load_consumption":"Cumulative load (kWh)","input_sensors.total_pv_production":"Cumulative PV production (kWh)","input_sensors.water_heater_consumption":"Water heater daily energy (kWh)","input_sensors.today_grid_import":"Today's grid import (kWh)","input_sensors.today_grid_export":"Today's grid export (kWh)","input_sensors.today_battery_charge":"Today's battery charge (kWh)","input_sensors.today_pv_production":"Today's PV production (kWh)","input_sensors.today_load_consumption":"Today's load consumption (kWh)","input_sensors.today_net_cost":"Today's net electricity cost","executor.enabled":"Enable executor control loop","executor.shadow_mode":"Log actions but don't execute (for testing)","executor.interval_seconds":"How often to run (default: 5 minutes)","executor.pause_reminder_minutes":"Notify if paused longer than this","executor.history_retention_days":"Keep execution history for N days","executor.automation_toggle_entity":"Master enable/disable switch","executor.manual_override_entity":"Manual override active flag","executor.soc_target_entity":"SoC target input_number","executor.inverter.work_mode_entity":"Inverter mode selector","executor.inverter.work_mode_export":"Value for export mode","executor.inverter.work_mode_zero_export":"Value for zero-export mode","executor.inverter.grid_charging_entity":"Enable/disable grid charging","executor.inverter.max_charging_current_entity":"Max charge current (A)","executor.inverter.max_discharging_current_entity":"Max discharge current (A)","executor.controller.battery_capacity_kwh":"Battery capacity in kWh (for current calculations)","executor.controller.system_voltage_v":"Nominal battery voltage","executor.controller.worst_case_voltage_v":"Minimum voltage for conservative calculations","executor.controller.inverter_ac_limit_kw":"Max AC power output of inverter","executor.controller.charge_efficiency":"Charging efficiency (0-1)","executor.controller.max_charge_a":"Maximum charging current (A)","executor.controller.min_charge_a":"Minimum meaningful charge current (A)","executor.controller.round_step_a":"Round current commands to nearest X amps","executor.controller.write_threshold_a":"Only write if change exceeds X amps","executor.water_heater.target_entity":"HA entity to control","executor.water_heater.temp_off":"Idle mode (legionella-safe minimum)","executor.water_heater.temp_normal":"Scheduled heating target (used by planner)","executor.water_heater.temp_boost":"Manual boost button (Dashboard/Executor)","executor.water_heater.temp_max":"PV dump target + safety limit (never exceeded)","executor.notifications.service":"HA notify service to use","executor.notifications.on_charge_start":"Notify when grid charging starts","executor.notifications.on_charge_stop":"Notify when grid charging stops","executor.notifications.on_export_start":"Notify when export/discharge starts","executor.notifications.on_export_stop":"Notify when export/discharge stops","executor.notifications.on_water_heat_start":"Notify when water heating starts","executor.notifications.on_water_heat_stop":"Notify when water heating stops","executor.notifications.on_soc_target_change":"Notify when SoC target changes","executor.notifications.on_override_activated":"Notify when manual override triggers","executor.notifications.on_error":"Notify on executor errors","dashboard.auto_refresh_enabled":"Auto-refresh dashboard schedule display","dashboard.overlay_defaults":"Default chart overlays","ui.theme":"Color theme name","ui.theme_accent_index":"Accent color index (0-based)","appliances.dishwasher.label":"Display name in UI","appliances.dishwasher.duration_hours":"Typical run duration"},vf=({field:t,value:e,onChange:n,error:s,haEntities:a=[],haLoading:o=!1})=>{const l=()=>{switch(t.type){case"boolean":return d.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[d.jsx(xT,{checked:e==="true",onCheckedChange:u=>n(t.key,u?"true":"false")}),d.jsx("span",{className:"text-sm font-semibold",children:t.label})]});case"select":return d.jsx(gT,{value:e,onChange:u=>n(t.key,u),options:t.options||[],placeholder:"Select..."});case"entity":return d.jsx(n9,{entities:a,value:e,onChange:u=>n(t.key,u),loading:o,placeholder:"Select entity..."});case"service":return d.jsx(s9,{value:e,onChange:u=>n(t.key,u),placeholder:"Select notification service..."});case"azimuth":{const u=e&&e.trim()!==""?Number(e):null;return d.jsxs("div",{className:"space-y-2",children:[d.jsx(e9,{value:typeof u=="number"&&!Number.isNaN(u)?u:null,onChange:h=>n(t.key,String(Math.round(h)))}),d.jsx("input",{type:"number",inputMode:"decimal",value:e,onChange:h=>n(t.key,h.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-text focus:border-accent focus:outline-none"})]})}case"tilt":{const u=e&&e.trim()!==""?Number(e):null;return d.jsxs("div",{className:"space-y-2",children:[d.jsx(t9,{value:typeof u=="number"&&!Number.isNaN(u)?u:null,onChange:h=>n(t.key,String(Math.round(h)))}),d.jsx("input",{type:"number",inputMode:"decimal",value:e,onChange:h=>n(t.key,h.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-text focus:border-accent focus:outline-none"})]})}default:return d.jsx("input",{type:t.type==="number"?"number":"text",inputMode:t.type==="number"?"decimal":void 0,value:e,onChange:u=>n(t.key,u.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-text focus:border-accent focus:outline-none"})}};return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-medium mb-1.5 flex items-center gap-1",children:[d.jsx("span",{className:t.type==="boolean"?"sr-only":"text-[10px] uppercase tracking-wide text-muted",children:t.label}),d.jsx(JB,{text:a9[t.key]||t.helper})]}),l(),t.helper&&t.type!=="boolean"&&d.jsx("p",{className:"text-[11px] text-muted",children:t.helper}),s&&d.jsx("p",{className:"text-[11px] text-bad",children:s})]})},Sx=[{title:"System Profile",description:"Core hardware toggles and high-level system preferences.",fields:[{key:"system.has_solar",label:"Solar panels installed",helper:"Enable PV forecasting and solar optimization",path:["system","has_solar"],type:"boolean"},{key:"system.has_battery",label:"Home battery installed",helper:"Enable battery control and grid arbitrage",path:["system","has_battery"],type:"boolean"},{key:"system.has_water_heater",label:"Smart water heater",helper:"Enable water heating optimization",path:["system","has_water_heater"],type:"boolean"},{key:"export.enable_export",label:"Enable grid export",helper:"[EXPERIMENTAL] Master switch for grid export",path:["export","enable_export"],type:"boolean"}]},{title:"Location & Solar Array",description:"Geolocation and PV array parameters used by the forecasting engine.",fields:[{key:"system.location.latitude",label:"Latitude",helper:"Decimal degrees, positive north. Example: 55.4932",path:["system","location","latitude"],type:"number"},{key:"system.location.longitude",label:"Longitude",helper:"Decimal degrees, positive east. Example: 13.1112",path:["system","location","longitude"],type:"number"},{key:"system.solar_array.azimuth",label:"Solar azimuth ()",helper:"Panel direction: 0 = North, 90 = East, 180 = South, 270 = West.",path:["system","solar_array","azimuth"],type:"azimuth"},{key:"system.solar_array.tilt",label:"Solar tilt ()",helper:"Angle from horizontal. 0 = flat, 90 = vertical.",path:["system","solar_array","tilt"],type:"tilt"},{key:"system.solar_array.kwp",label:"Solar capacity (kWp)",helper:"Total DC peak power of the PV array.",path:["system","solar_array","kwp"],type:"number"}]},{title:"Battery Specifications",description:"Capacity, max power, and SoC limits define safe operating bands.",fields:[{key:"battery.capacity_kwh",label:"Battery capacity (kWh)",path:["battery","capacity_kwh"],type:"number"},{key:"battery.max_charge_power_kw",label:"Max charge power (kW)",path:["battery","max_charge_power_kw"],type:"number"},{key:"battery.max_discharge_power_kw",label:"Max discharge power (kW)",path:["battery","max_discharge_power_kw"],type:"number"},{key:"battery.min_soc_percent",label:"Min SoC (%)",path:["battery","min_soc_percent"],type:"number"},{key:"battery.max_soc_percent",label:"Max SoC (%)",path:["battery","max_soc_percent"],type:"number"},{key:"system.grid.max_power_kw",label:"HARD Grid max power (kW)",helper:"Absolute limit from your grid fuse/connection.",path:["system","grid","max_power_kw"],type:"number"},{key:"grid.import_limit_kw",label:"Soft import limit (kW)",helper:"Threshold for peak power penalties (effekttariff).",path:["grid","import_limit_kw"],type:"number"}]},{title:"Pricing & Timezone",description:"Nordpool zone and local timezone for planner calculations.",fields:[{key:"nordpool.price_area",label:"Nordpool Price Area",helper:"e.g. SE4, NO1, DK2",path:["nordpool","price_area"],type:"text"},{key:"pricing.vat_percent",label:"VAT (%)",path:["pricing","vat_percent"],type:"number"},{key:"pricing.grid_transfer_fee_sek",label:"Grid transfer fee (SEK/kWh)",path:["pricing","grid_transfer_fee_sek"],type:"number"},{key:"pricing.energy_tax_sek",label:"Energy tax (SEK/kWh)",path:["pricing","energy_tax_sek"],type:"number"},{key:"timezone",label:"Timezone",helper:"e.g. Europe/Stockholm",path:["timezone"],type:"text"}]},{title:"Notifications",description:"Configure automated notifications via Home Assistant.",fields:[{key:"executor.notifications.service",label:"HA Notify Service",helper:"e.g. notify.mobile_app_iphone",path:["executor","notifications","service"],type:"service"},{key:"executor.notifications.on_charge_start",label:"On charge start",path:["executor","notifications","on_charge_start"],type:"boolean"},{key:"executor.notifications.on_charge_stop",label:"On charge stop",path:["executor","notifications","on_charge_stop"],type:"boolean"},{key:"executor.notifications.on_discharge_start",label:"On discharge start",path:["executor","notifications","on_discharge_start"],type:"boolean"},{key:"executor.notifications.on_discharge_stop",label:"On discharge stop",path:["executor","notifications","on_discharge_stop"],type:"boolean"},{key:"executor.notifications.on_water_heating_start",label:"On water heating start",path:["executor","notifications","on_water_heat_start"],type:"boolean"},{key:"executor.notifications.on_water_heating_stop",label:"On water heating stop",path:["executor","notifications","on_water_heat_stop"],type:"boolean"},{key:"executor.notifications.on_soc_target_change",label:"On SoC target change",path:["executor","notifications","on_soc_target_change"],type:"boolean"},{key:"executor.notifications.on_override_activated",label:"On override activated",path:["executor","notifications","on_override_activated"],type:"boolean"},{key:"executor.notifications.on_error",label:"On error",path:["executor","notifications","on_error"],type:"boolean"}]},{title:" Home Assistant Connection ",isHA:!0,description:"Connection parameters for your Home Assistant instance.",fields:[{key:"home_assistant.url",label:"HA URL",helper:"e.g. http://homeassistant.local:8123",path:["home_assistant","url"],type:"text"},{key:"home_assistant.token",label:"Long-Lived Access Token",path:["home_assistant","token"],type:"text"}]},{title:"Required HA Entities",isHA:!0,description:"Core sensors and switches required for battery control.",fields:[{key:"input_sensors.battery_soc",label:"Battery SoC (%)",path:["input_sensors","battery_soc"],type:"entity"},{key:"input_sensors.pv_power",label:"PV Power (W/kW)",path:["input_sensors","pv_power"],type:"entity"},{key:"input_sensors.load_power",label:"Load Power (W/kW)",path:["input_sensors","load_power"],type:"entity"},{key:"executor.inverter.work_mode_entity",label:"Work Mode Selector",path:["executor","inverter","work_mode_entity"],type:"entity"},{key:"executor.inverter.grid_charging_entity",label:"Grid Charging Switch",path:["executor","inverter","grid_charging_entity"],type:"entity"},{key:"executor.inverter.max_charging_current_entity",label:"Max Charge Current",path:["executor","inverter","max_charging_current_entity"],type:"entity"},{key:"executor.inverter.max_discharging_current_entity",label:"Max Discharge Current",path:["executor","inverter","max_discharging_current_entity"],type:"entity"}]},{title:"Optional HA Entities",isHA:!0,description:"Optional sensors for better forecasting and dashboard metrics.",fields:[{key:"executor.automation_toggle_entity",label:"Automation Toggle",path:["executor","automation_toggle_entity"],type:"entity"},{key:"executor.manual_override_entity",label:"Manual Override Toggle",path:["executor","manual_override_entity"],type:"entity"},{key:"executor.soc_target_entity",label:"Target SoC Feedback",path:["executor","soc_target_entity"],type:"entity"},{key:"executor.water_heater.target_entity",label:"Water Heater Setpoint",path:["executor","water_heater","target_entity"],type:"entity"},{key:"input_sensors.vacation_mode",label:"Vacation Mode Toggle",path:["input_sensors","vacation_mode"],type:"entity"},{key:"input_sensors.battery_power",label:"Battery Power (W/kW)",helper:"Positive = charging, negative = discharging",path:["input_sensors","battery_power"],type:"entity"},{key:"input_sensors.water_power",label:"Water Heater Power (W/kW)",path:["input_sensors","water_power"],type:"entity"},{key:"input_sensors.grid_power",label:"Grid Power (W/kW)",helper:"Positive = import, negative = export",path:["input_sensors","grid_power"],type:"entity"},{key:"input_sensors.alarm_state",label:"Alarm Control Panel",path:["input_sensors","alarm_state"],type:"entity"},{key:"input_sensors.water_heater_consumption",label:"Water Heater Daily Energy",path:["input_sensors","water_heater_consumption"],type:"entity"},{key:"input_sensors.today_net_cost",label:"Today's Net Cost",path:["input_sensors","today_net_cost"],type:"entity"},{key:"input_sensors.total_battery_charge",label:"Total Battery Charge (kWh)",path:["input_sensors","total_battery_charge"],type:"entity"},{key:"input_sensors.total_battery_discharge",label:"Total Battery Discharge (kWh)",path:["input_sensors","total_battery_discharge"],type:"entity"},{key:"input_sensors.total_grid_export",label:"Total Grid Export (kWh)",path:["input_sensors.total_grid_export"],type:"entity"},{key:"input_sensors.total_grid_import",label:"Total Grid Import (kWh)",path:["input_sensors.total_grid_import"],type:"entity"},{key:"input_sensors.total_load_consumption",label:"Total Load Consumption (kWh)",path:["input_sensors.total_load_consumption"],type:"entity"},{key:"input_sensors.total_pv_production",label:"Total PV Production (kWh)",path:["input_sensors.total_pv_production"],type:"entity"}]}],yT=[{title:"Charging Strategy",description:"Price smoothing, consolidation tolerances, and gap settings that govern charge windows.",fields:[{key:"charging_strategy.price_smoothing_sek_kwh",label:"Price smoothing (SEK/kWh)",path:["charging_strategy","price_smoothing_sek_kwh"],type:"number"},{key:"charging_strategy.block_consolidation_tolerance_sek",label:"Consolidation tolerance (SEK)",path:["charging_strategy","block_consolidation_tolerance_sek"],type:"number"},{key:"charging_strategy.consolidation_max_gap_slots",label:"Max gap slots",path:["charging_strategy","consolidation_max_gap_slots"],type:"number"},{key:"charging_strategy.charge_threshold_percentile",label:"Charge threshold (percentile)",path:["charging_strategy","charge_threshold_percentile"],type:"number"},{key:"charging_strategy.cheap_price_tolerance_sek",label:"Cheap price tolerance (SEK)",path:["charging_strategy","cheap_price_tolerance_sek"],type:"number"}]},{title:"Arbitrage & Export",description:"Export thresholds, peak-only export, and future guard buffers.",fields:[{key:"arbitrage.export_percentile_threshold",label:"Export percentile threshold",path:["arbitrage","export_percentile_threshold"],type:"number"},{key:"arbitrage.enable_peak_only_export",label:"Enable peak-only export",path:["arbitrage","enable_peak_only_export"],type:"boolean",helper:"Override to only export when we hit the percentile threshold."},{key:"arbitrage.export_future_price_guard",label:"Future price guard",path:["arbitrage","export_future_price_guard"],type:"boolean"},{key:"arbitrage.future_price_guard_buffer_sek",label:"Future guard buffer (SEK)",path:["arbitrage","future_price_guard_buffer_sek"],type:"number"},{key:"arbitrage.export_profit_margin_sek",label:"Export profit margin (SEK)",path:["arbitrage","export_profit_margin_sek"],type:"number"}]},{title:"Water Heating",description:"Quota, deferral, and sizing controls for the water heater scheduler.",fields:[{key:"water_heating.power_kw",label:"Water heater power (kW)",path:["water_heating","power_kw"],type:"number"},{key:"water_heating.defer_up_to_hours",label:"Max defer hours",path:["water_heating","defer_up_to_hours"],type:"number"},{key:"water_heating.max_blocks_per_day",label:"Max blocks per day",path:["water_heating","max_blocks_per_day"],type:"number"},{key:"water_heating.min_kwh_per_day",label:"Min kWh/day",path:["water_heating","min_kwh_per_day"],type:"number"},{key:"water_heating.min_spacing_hours",label:"Min spacing (hours)",path:["water_heating","min_spacing_hours"],type:"number",helper:"Minimum gap between heating sessions to avoid efficiency loss."},{key:"water_heating.spacing_penalty_sek",label:"Spacing penalty (SEK)",path:["water_heating","spacing_penalty_sek"],type:"number",helper:"Penalty applied when heating sessions are too close."},{key:"water_heating.schedule_future_only",label:"Schedule future only",path:["water_heating","schedule_future_only"],type:"boolean"}]},{title:"Learning Parameter Limits",description:"Limits that keep learning adjustments conservative.",fields:[{key:"learning.min_sample_threshold",label:"Min sample threshold",path:["learning","min_sample_threshold"],type:"number"},{key:"learning.min_improvement_threshold",label:"Min improvement (%)",path:["learning","min_improvement_threshold"],type:"number"},{key:"learning.max_daily_param_change.battery_use_margin_sek",label:"Battery margin change (SEK)",path:["learning","max_daily_param_change","battery_use_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.export_profit_margin_sek",label:"Export margin change (SEK)",path:["learning","max_daily_param_change","export_profit_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.future_price_guard_buffer_sek",label:"Future guard buffer change (SEK)",path:["learning","max_daily_param_change","future_price_guard_buffer_sek"],type:"number"},{key:"learning.max_daily_param_change.load_safety_margin_percent",label:"Load safety change (%)",path:["learning","max_daily_param_change","load_safety_margin_percent"],type:"number"},{key:"learning.max_daily_param_change.pv_confidence_percent",label:"PV confidence change (%)",path:["learning","max_daily_param_change","pv_confidence_percent"],type:"number"},{key:"learning.max_daily_param_change.s_index_base_factor",label:"S-index base change",path:["learning","max_daily_param_change","s_index_base_factor"],type:"number"},{key:"learning.max_daily_param_change.s_index_pv_deficit_weight",label:"S-index PV weight change",path:["learning","max_daily_param_change","s_index_pv_deficit_weight"],type:"number"},{key:"learning.max_daily_param_change.s_index_temp_weight",label:"S-index temp weight change",path:["learning","max_daily_param_change","s_index_temp_weight"],type:"number"}]},{title:"S-Index Safety",description:"Seasonal index parameters for reserve calculations.",fields:[{key:"s_index.temp_cold_c",label:"Cold temp (C)",path:["s_index","temp_cold_c"],type:"number"},{key:"s_index.s_index_horizon_days",label:"S-Index Horizon (days)",path:["s_index","s_index_horizon_days"],type:"select",options:[{label:"1 Day",value:"1"},{label:"2 Days",value:"2"},{label:"3 Days",value:"3"},{label:"4 Days",value:"4"},{label:"5 Days",value:"5"},{label:"6 Days",value:"6"},{label:"7 Days",value:"7"}]}]}],bT=[{title:"Dashboard Defaults",description:"Overlay defaults and refresh cadence for the planner dashboard.",fields:[{key:"dashboard.auto_refresh_enabled",label:"Auto refresh",helper:"Enable automatic refresh of the dashboard schedule.",path:["dashboard","auto_refresh_enabled"],type:"boolean"}]},{title:"AI Advisor",description:"Control the Smart Advisor LLM settings.",fields:[{key:"advisor.enable_llm",label:"Enable LLM advice",path:["advisor","enable_llm"],type:"boolean"},{key:"advisor.auto_fetch",label:"Auto-fetch advice on dashboard load",path:["advisor","auto_fetch"],type:"boolean"},{key:"advisor.personality",label:"Advisor personality",path:["advisor","personality"],type:"select",options:[{label:"Concise (Money focus)",value:"concise"},{label:"Friendly (Emoji style)",value:"friendly"},{label:"Technical (Data heavy)",value:"technical"}]}]}],vT=[{title:"Experimental Features",description:"Toggle advanced and experimental modes.",fields:[{key:"automation.external_executor_mode",label:"External Executor Mode",helper:"When enabled, Darkstar expects an external system to execute the plan.",path:["automation","external_executor_mode"],type:"boolean"},{key:"automation.write_to_mariadb",label:"Log to MariaDB",helper:"Requires MariaDB credentials in secrets.yaml",path:["automation","write_to_mariadb"],type:"boolean"}]},{title:"Danger Zone",description:"Sensitive actions. Proceed with caution.",fields:[]}],_T=Sx.flatMap(t=>t.fields),wT=yT.flatMap(t=>t.fields),ST=bT.flatMap(t=>t.fields),jT=vT.flatMap(t=>t.fields),r9=[..._T,...wT,...ST,...jT,{key:"dashboard.overlay_defaults",label:"Overlay Defaults",path:["dashboard","overlay_defaults"],type:"text"}];r9.reduce((t,e)=>(t[e.key]=e,t),{});const o9=()=>{const{form:t,fieldErrors:e,loading:n,saving:s,statusMessage:a,haEntities:o,haLoading:l,handleChange:u,save:h,reloadEntities:m}=bf(_T),[p,x]=N.useState(null),b=async()=>{x("Testing...");try{const v=t["home_assistant.url"],w=t["home_assistant.token"],S=await we.haTest({url:v,token:w});S.success?(x("Success: Connected!"),m()):x(`Error: ${S.message}`)}catch(v){x(`Error: ${v instanceof Error?v.message:"Unknown error"}`)}};return n?d.jsx(Pe,{className:"p-6 text-sm text-muted",children:"Loading system configuration"}):d.jsxs("div",{className:"space-y-4",children:[Sx.map((v,w)=>{const S=w>0?Sx[w-1]:null,j=v.isHA&&S&&!S.isHA;return d.jsxs("div",{children:[j&&d.jsxs("div",{className:"py-8 flex items-center gap-4",children:[d.jsx("div",{className:"h-px flex-1 bg-line/30"}),d.jsx("span",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-muted whitespace-nowrap",children:"Home Assistant Integration"}),d.jsx("div",{className:"h-px flex-1 bg-line/30"})]}),d.jsxs(Pe,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:v.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:v.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"System"})]}),d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:v.fields.map(k=>d.jsx(vf,{field:k,value:t[k.key]??"",onChange:u,error:e[k.key],haEntities:o,haLoading:l},k.key))}),v.title==="Home Assistant Connection"&&d.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[d.jsx("button",{type:"button",onClick:b,className:"rounded-xl px-4 py-2 text-[11px] font-semibold bg-neutral hover:bg-neutral/80 text-white transition",children:p&&p.startsWith("Testing")?"Testing...":"Test Connection"}),p&&d.jsx("span",{className:`text-xs ${p.startsWith("Success")?"text-good":"text-bad"}`,children:p})]})]})]},v.title)}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:s,onClick:()=>h(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:s?"Saving":"Save System Settings"}),a&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${a.startsWith("Please fix")||a.startsWith("Save failed")||a.startsWith("Failed to load")?"bg-bad/10 border border-bad/30 text-bad":"bg-good/10 border border-good/30 text-good"}`,children:a})]})]})},l9=()=>{const{form:t,fieldErrors:e,loading:n,saving:s,statusMessage:a,handleChange:o,save:l}=bf(wT);return n?d.jsx(Pe,{className:"p-6 text-sm text-muted",children:"Loading optimization parameters"}):d.jsxs("div",{className:"space-y-4",children:[yT.map(u=>d.jsxs(Pe,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:u.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:u.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Optimization"})]}),d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:u.fields.map(h=>d.jsx(vf,{field:h,value:t[h.key]??"",onChange:o,error:e[h.key]},h.key))})]},u.title)),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:s,onClick:()=>l(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:s?"Saving":"Save Parameters"}),a&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${a.startsWith("Please fix")||a.startsWith("Save failed")||a.startsWith("Failed to load")?"bg-bad/10 border border-bad/30 text-bad":"bg-good/10 border border-good/30 text-good"}`,children:a})]})]})},c9=()=>{const{config:t,form:e,fieldErrors:n,loading:s,saving:a,statusMessage:o,handleChange:l,save:u}=bf(ST),[h,m]=N.useState([]);if(N.useEffect(()=>{we.theme().then(v=>m(v.themes))},[]),s)return d.jsx(Pe,{className:"p-6 text-sm text-muted",children:"Loading UI configuration"});const p=t?.ui?.theme_accent_index??0,x=e["dashboard.overlay_defaults"]?JSON.parse(e["dashboard.overlay_defaults"]):{},b=v=>{const w={...x,[v]:!x[v]};l("dashboard.overlay_defaults",JSON.stringify(w))};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Pe,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:"Accent Theme"}),d.jsx("p",{className:"text-xs text-muted mt-1",children:"Select the primary accent color for the Darkstar UI."})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Appearance"})]}),d.jsx("div",{className:"mt-5 flex flex-wrap gap-3",children:h.map((v,w)=>d.jsxs("button",{onClick:()=>u({ui:{theme_accent_index:w}}),disabled:a,className:`group relative h-12 w-12 rounded-xl transition duration-300 ${p===w?"ring-2 ring-accent ring-offset-4 ring-offset-[#0a0a0a]":"hover:rotate-3 hover:scale-105"}`,style:{backgroundColor:v.palette[0]},children:[d.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 scale-0 text-[10px] text-muted transition group-hover:scale-100 whitespace-nowrap",children:v.name}),p===w&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 rounded-xl",children:d.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white shadow-[0_0_8px_white]"})})]},v.name))})]}),bT.map(v=>d.jsxs(Pe,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:v.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:v.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Interface"})]}),d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:v.fields.map(w=>d.jsx(vf,{field:w,value:e[w.key]??"",onChange:l,error:n[w.key]},w.key))}),v.title==="Dashboard Defaults"&&d.jsxs("div",{className:"mt-6 border-t border-line/30 pt-4",children:[d.jsx("div",{className:"text-[10px] uppercase tracking-widest text-muted font-bold mb-3",children:"Overlay Defaults"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:["solar","battery","load","grid","water","forecast"].map(w=>d.jsx("button",{onClick:()=>b(w),className:`rounded-lg px-2.5 py-1.5 text-[10px] font-bold uppercase tracking-wider transition ${x[w]?"bg-accent/20 text-accent border border-accent/30":"bg-surface2 text-muted border border-line/50 hover:border-line"}`,children:w},w))})]})]},v.title)),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:a,onClick:()=>u(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:a?"Saving":"Save UI Settings"}),o&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${o.startsWith("Please fix")||o.startsWith("Save failed")||o.startsWith("Failed to load")?"bg-bad/10 border border-bad/30 text-bad":"bg-good/10 border border-good/30 text-good"}`,children:o})]})]})};function NT({open:t,onOpenChange:e,title:n,children:s,footer:a,size:o="md",className:l=""}){const u=N.useRef(null);if(N.useEffect(()=>{const p=x=>{t&&x.key==="Escape"&&e(!1)};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[t,e]),N.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),!t)return null;const h={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl"},m=d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{ref:u,className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:p=>{p.target===u.current&&e(!1)}}),d.jsxs("div",{className:`
                    relative w-full ${h[o]} 
                    bg-surface rounded-ds-lg border border-line shadow-2xl 
                    animate-in zoom-in-95 fade-in duration-200
                    flex flex-col max-h-[90vh]
                    ${l}
                `,role:"dialog","aria-modal":"true",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-line shrink-0",children:[d.jsx("div",{className:"text-lg font-semibold text-text",children:n}),d.jsx("button",{onClick:()=>e(!1),className:"p-1 rounded-md text-muted hover:text-text hover:bg-surface2 transition-colors",children:d.jsx(il,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"px-6 py-4 overflow-y-auto scrollbar-thin",children:s}),a&&d.jsx("div",{className:"px-6 py-4 border-t border-line bg-surface2/30 flex justify-end gap-3 shrink-0 rounded-b-ds-lg",children:a})]})]});return PS.createPortal(m,document.body)}const u9=()=>{const{toast:t}=I0(),{form:e,fieldErrors:n,loading:s,saving:a,statusMessage:o,handleChange:l,save:u,reload:h}=bf(jT),[m,p]=N.useState(!1),[x,b]=N.useState(!1),v=async()=>{b(!0);try{await we.configReset(),t({message:"Settings reset to factory defaults",variant:"success"}),await h(),p(!1)}catch(w){t({message:"Reset failed: "+(w instanceof Error?w.message:"Unknown error"),variant:"error"})}finally{b(!1)}};return s?d.jsx(Pe,{className:"p-6 text-sm text-muted",children:"Loading advanced configuration"}):d.jsxs("div",{className:"space-y-4",children:[vT.map(w=>d.jsxs(Pe,{className:"p-6",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold",children:w.title}),d.jsx("p",{className:"text-xs text-muted mt-1",children:w.description})]}),d.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Advanced"})]}),w.title==="Danger Zone"?d.jsx("div",{className:"mt-5 border border-bad/20 bg-bad/5 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold text-bad italic uppercase tracking-wider",children:"Reset All Settings"}),d.jsx("p",{className:"text-[11px] text-bad/80 mt-1",children:"Permanently delete all custom configurations and return to project factory defaults. This action cannot be undone."})]}),d.jsx("button",{onClick:()=>p(!0),className:"rounded-lg bg-bad/20 border border-bad/30 px-3 py-1.5 text-[10px] font-bold text-bad uppercase tracking-wider hover:bg-bad/30 transition",children:"Reset to Defaults"})]})}):d.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:w.fields.map(S=>d.jsx(vf,{field:S,value:e[S.key]??"",onChange:l,error:n[S.key]},S.key))})]},w.title)),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{disabled:a,onClick:()=>u(),className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:a?"Saving":"Save Advanced Settings"}),o&&d.jsx("div",{className:`rounded-lg p-3 text-sm ${o.startsWith("Please fix")||o.startsWith("Save failed")||o.startsWith("Failed to load")?"bg-bad/10 border border-bad/30 text-bad":"bg-good/10 border border-good/30 text-good"}`,children:o})]}),d.jsx(NT,{open:m,onOpenChange:p,title:"Reset to factory defaults?",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{className:"text-sm text-muted",children:["This will clear your location, battery specs, HA tokens, and all optimization parameters. The system will return to the initial state defined in"," ",d.jsx("code",{className:"text-accent",children:"config.yaml"}),"."]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-xs font-semibold text-white/70 hover:text-white transition",children:"Cancel"}),d.jsx("button",{onClick:v,disabled:x,className:"bg-bad hover:bg-bad/80 px-4 py-2 rounded-xl text-xs font-bold text-white transition disabled:opacity-50",children:x?"Resetting...":"Yes, Reset Everything"})]})]})})]})},d9=[{id:"system",label:"System",icon:d.jsx(Nh,{size:16})},{id:"parameters",label:"Parameters",icon:d.jsx(aE,{size:16})},{id:"ui",label:"UI & Theme",icon:d.jsx(J5,{size:16})},{id:"advanced",label:"Advanced",icon:d.jsx(Ms,{size:16})}];function h9(){const[t,e]=F5(),n=t.get("tab")||"system",s=o=>{e({tab:o})},a=()=>{switch(n){case"parameters":return d.jsx(l9,{});case"ui":return d.jsx(c9,{});case"advanced":return d.jsx(u9,{});default:return d.jsx(o9,{})}};return d.jsx(d.Fragment,{children:d.jsx("main",{className:"p-4 lg:p-8",children:d.jsxs("div",{className:"mx-auto max-w-5xl",children:[d.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:d9.map(o=>d.jsxs("button",{onClick:()=>s(o.id),className:`flex items-center gap-2 rounded-xl px-4 py-2.5 text-xs font-bold uppercase tracking-wider transition duration-300 ${n===o.id?"bg-accent text-[#100f0e] shadow-[0_0_20px_rgba(var(--color-accent-rgb),0.3)]":"bg-surface2 text-muted hover:bg-surface3 hover:text-white"}`,children:[o.icon,o.label]},o.id))}),d.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:a()})]})})})}const kT="label";function kS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function f9(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function TT(t,e){t.labels=e}function MT(t,e,n=kT){const s=[];t.datasets=e.map(a=>{const o=t.datasets.find(l=>l[n]===a[n]);return!o||!a.data||s.includes(o)?{...a}:(s.push(o),Object.assign(o,a),o)})}function m9(t,e=kT){const n={labels:[],datasets:[]};return TT(n,t.labels),MT(n,t.datasets,e),n}function p9(t,e){const{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:l,data:u,options:h,plugins:m=[],fallbackContent:p,updateMode:x,...b}=t,v=N.useRef(null),w=N.useRef(null),S=()=>{v.current&&(w.current=new Ds(v.current,{type:l,data:m9(u,o),options:h&&{...h},plugins:m}),kS(e,w.current))},j=()=>{kS(e,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!a&&w.current&&h&&f9(w.current,h)},[a,h]),N.useEffect(()=>{!a&&w.current&&TT(w.current.config.data,u.labels)},[a,u.labels]),N.useEffect(()=>{!a&&w.current&&u.datasets&&MT(w.current.config.data,u.datasets,o)},[a,u.datasets]),N.useEffect(()=>{w.current&&(a?(j(),setTimeout(S)):w.current.update(x))},[a,h,u.labels,u.datasets,x]),N.useEffect(()=>{w.current&&(j(),setTimeout(S))},[l]),N.useEffect(()=>(S(),()=>j()),[]),d.jsx("canvas",{ref:v,role:"img",height:n,width:s,...b,children:p})}const g9=N.forwardRef(p9);function q0(t,e){return Ds.register(e),N.forwardRef((n,s)=>d.jsx(g9,{...n,ref:s,type:t}))}const G0=q0("line",Bj),x9=q0("bar",zj),y9=q0("radar",Fj);Ds.register(gu,xu,al,na,e0,ol,rl);function xh({slots:t,mode:e,variant:n="field"}){if(!t||t.length===0)return d.jsx("div",{className:"text-[11px] text-muted px-4 py-6",children:"No forecast data available for the next 48 hours."});const s=t.map(b=>new Date(b.slot_start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),a=n==="field",o=n==="oled",l=n==="swiss",m=e==="pv"?o?"#22d3ee":l?"#171717":"#22c55e":o?"#f472b6":l?"#ef4444":"#f97316",p={labels:s,datasets:[{type:"line",label:e==="pv"?"Final PV":"Final Load",data:t.map(b=>e==="pv"?b.final.pv_kwh:b.final.load_kwh),borderColor:m,backgroundColor:b=>{const v=b.chart.ctx;if(a){const w=v.createLinearGradient(0,0,0,200);return w.addColorStop(0,e==="pv"?"rgba(34, 197, 94, 0.2)":"rgba(249, 115, 22, 0.2)"),w.addColorStop(1,"rgba(15, 23, 42, 0.0)"),w}return"transparent"},borderWidth:l?4:o?2:3,tension:l?.2:.4,pointRadius:o?2:0,pointBackgroundColor:"#000",pointBorderColor:m,fill:a,shadowColor:a||o?m:"transparent",shadowBlur:a?15:o?8:0},{type:"bar",label:"Base",data:t.map(b=>e==="pv"?b.base.pv_kwh:b.base.load_kwh),backgroundColor:l?"rgba(0,0,0,0.1)":"rgba(255, 255, 255, 0.05)",borderWidth:0,borderRadius:l?0:2,yAxisID:"y",barPercentage:.8}]},x={responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,bottom:10,left:10,right:10}},plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:o?"#000":"rgba(15, 23, 42, 0.95)",titleColor:o?"#fff":"rgba(255, 255, 255, 0.9)",bodyColor:o?"#fff":"rgba(255, 255, 255, 0.7)",borderColor:o?"#333":"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:10,displayColors:!o,callbacks:{label:b=>{let v=b.dataset.label||"";return v&&(v+=": "),b.parsed.y!==null&&(v+=b.parsed.y.toFixed(3)+" kWh"),v}}}},scales:{x:{grid:{display:o,color:o?"#333":"transparent"},ticks:{color:o?"#666":l?"#000":"#64748b",font:{size:10,family:o?"monospace":"inherit",weight:l?"bold":"normal"},maxTicksLimit:8},border:{display:l||o}},y:{grid:{display:o,color:o?"#333":"transparent"},ticks:{display:!a,color:o?"#666":l?"#000":"#64748b",font:{size:10,family:o?"monospace":"inherit",weight:l?"bold":"normal"}},border:{display:l||o}}},interaction:{intersect:!1,mode:"index"}};return d.jsx("div",{className:`w-full h-full min-h-[240px] ${o?"font-mono":""}`,style:a?{backgroundImage:"radial-gradient(rgb(var(--color-grid) / 0.2) 1px, transparent 1px)",backgroundSize:"20px 20px"}:void 0,children:d.jsx(G0,{data:p,options:x},`${e}-${n}`)})}Ds.register(lN,al,na,lf,ol,rl);function b9({weatherVolatility:t,riskFactor:e,forecastAccuracy:n,priceSpread:s,forecastBias:a}){const o=Math.min(100,t.cloud*100),l=Math.min(100,t.temp*100),u=Math.max(0,Math.min(100,(e-1)*25)),h=n,m=s!=null?Math.max(0,Math.min(100,s/2.5*100)):50,p=a!=null?Math.max(0,Math.min(100,(a+2)/4*100)):50,x=["Cloud Vol.","Temp Vol.","Aggression","Accuracy","Spread","Bias"],b=["#38bdf8","#f472b6","#fbbf24","#34d399","#a78bfa","#fb923c"],v={labels:x,datasets:[{label:"Current Context",data:[o,l,u,h,m,p],backgroundColor:"rgba(56, 189, 248, 0.15)",borderColor:"rgba(56, 189, 248, 0.5)",borderWidth:2,pointBackgroundColor:b,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:b,pointRadius:4}]},w={scales:{r:{angleLines:{color:"rgba(255, 255, 255, 0.1)"},grid:{color:"rgba(255, 255, 255, 0.1)"},pointLabels:{display:!1},ticks:{display:!1,backdropColor:"transparent"},suggestedMin:0,suggestedMax:100}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e293b",titleColor:"#f8fafc",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},maintainAspectRatio:!1},S=x.slice(0,3),j=x.slice(3);return d.jsxs("div",{className:"relative w-full h-full min-h-[200px]",children:[d.jsx("div",{className:"absolute inset-0 overflow-hidden",children:d.jsx(y9,{data:v,options:w})}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between px-3 pb-2 z-10",children:[d.jsx("div",{className:"flex flex-col gap-1",children:S.map((k,C)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[C]}}),d.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:k})]},k))}),d.jsx("div",{className:"flex flex-col gap-1",children:j.map((k,C)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[C+3]}}),d.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:k})]},k))})]})]})}function v9({events:t}){const e=N.useMemo(()=>[...t].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),[t]),n=a=>{const o=(a.type+" "+a.message).toLowerCase();if(o.includes("charge")||o.includes("charging"))return d.jsx(Ms,{className:"h-4 w-4 text-amber-400"});if(o.includes("export")||o.includes("discharging"))return d.jsx(Bg,{className:"h-4 w-4 text-emerald-400"});if(o.includes("defensive")||o.includes("safety")||o.includes("hold"))return d.jsx(iE,{className:"h-4 w-4 text-blue-400"});if(o.includes("idle")||o.includes("wait"))return d.jsx(G5,{className:"h-4 w-4 text-slate-400"});if(o.includes("weather"))return d.jsx(x_,{className:"h-4 w-4 text-sky-400"});if(o.includes("learning")||o.includes("tune"))return d.jsx(y_,{className:"h-4 w-4 text-purple-400"});if(o.includes("price")||o.includes("cost"))return d.jsx(zg,{className:"h-4 w-4 text-emerald-400"});switch(a.type){case"STRATEGY_CHANGE":return d.jsx(ZS,{className:"h-4 w-4 text-purple-400"});case"WEATHER_ADJUSTMENT":return d.jsx(x_,{className:"h-4 w-4 text-blue-400"});case"PRICE_VOLATILITY":return d.jsx(Ms,{className:"h-4 w-4 text-amber-400"});case"LEARNING_EVENT":return d.jsx(y_,{className:"h-4 w-4 text-emerald-400"});default:return d.jsx(Pg,{className:"h-4 w-4 text-slate-400"})}},s=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return t.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-muted text-xs",children:[d.jsx(Pg,{className:"h-6 w-6 mb-2 opacity-50"}),"No activity recorded yet."]}):d.jsxs("div",{className:"relative space-y-4 pl-2",children:[d.jsx("div",{className:"absolute left-[19px] top-2 bottom-2 w-[1px] bg-line/50"}),e.map((a,o)=>d.jsxs("div",{className:"relative flex gap-3 items-start group",children:[d.jsx("div",{className:"relative z-10 flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-surface border border-line/60 group-hover:border-accent/50 transition-colors",children:n(a)}),d.jsxs("div",{className:"flex-1 pt-1.5 min-w-0",children:[d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsx("p",{className:"text-xs font-medium text-text truncate",children:a.type.replace("_"," ")}),d.jsx("span",{className:"text-[10px] text-muted shrink-0 font-mono",children:s(a.timestamp)})]}),d.jsx("p",{className:"text-[11px] text-muted mt-0.5 leading-relaxed break-words",children:a.message}),a.details&&Object.keys(a.details).length>0&&d.jsx("div",{className:"mt-1.5",children:d.jsxs("details",{className:"group/details",children:[d.jsxs("summary",{className:"cursor-pointer text-[10px] text-accent/80 hover:text-accent select-none list-none flex items-center gap-1",children:[d.jsx("span",{children:"Details"}),d.jsx("span",{className:"opacity-50 group-open/details:rotate-180 transition-transform",children:""})]}),d.jsx("pre",{className:"mt-1 p-2 rounded bg-surface2/50 text-[10px] text-muted overflow-x-auto font-mono",children:JSON.stringify(a.details,null,2)})]})})]})]},o))]})}function _9({metrics:t,perfData:e}){let n=0,s=0;e?.cost_series&&e.cost_series.forEach(b=>{n+=b.planned,s+=b.realized});const a=s-n,o=a<=0?`Saved ${Math.abs(a).toFixed(1)} SEK`:`Overspent ${a.toFixed(1)} SEK`,l=a<=0,u=t?.mae_pv_aurora?.toFixed(2)??"N/A",h=t?.mae_load_aurora?.toFixed(2)??"N/A",m=t?.max_price_spread,p=m!=null?`${m.toFixed(2)} SEK`:"N/A",x=m!=null&&m>0;return d.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:[d.jsxs(Pe,{className:"p-4 flex items-center justify-between relative overflow-hidden group",children:[d.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${l?"bg-emerald-500":"bg-rose-500"}`}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:`p-2 rounded-full ${l?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:d.jsx(JS,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"7-Day Cost Drift"}),d.jsx("div",{className:`text-lg font-semibold ${l?"text-emerald-400":"text-rose-400"}`,children:o})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"vs Plan"}),l?d.jsx(v_,{className:"h-4 w-4 text-emerald-500 ml-auto"}):d.jsx(zg,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),d.jsxs(Pe,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${x?"bg-emerald-500":"bg-rose-500"}`}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:`p-2 rounded-full ${x?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:d.jsx(Ko,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Max Price Spread"}),d.jsx("div",{className:`text-lg font-semibold ${x?"text-emerald-400":"text-rose-400"}`,children:p})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"Arbitrage"}),x?d.jsx(zg,{className:"h-4 w-4 text-emerald-500 ml-auto"}):d.jsx(v_,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),d.jsxs(Pe,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.02]"}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:"p-2 rounded-full bg-amber-500/10 text-amber-400",children:d.jsx(Ms,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"PV Forecast Error"}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[u," ",d.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),d.jsx(b_,{className:"h-4 w-4 text-amber-500/50 ml-auto"})]})]}),d.jsxs(Pe,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-blue-500/[0.02]"}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-400",children:d.jsx(Ko,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Load Forecast Error"}),d.jsxs("div",{className:"text-lg font-semibold text-text",children:[h," ",d.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),d.jsxs("div",{className:"text-right relative z-10",children:[d.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),d.jsx(b_,{className:"h-4 w-4 text-blue-500/50 ml-auto"})]})]})]})}Ds.register(gu,xu,al,na,cf,ol,rl,lf);function w9({title:t,slots:e,color:n}){const a={labels:e.map(l=>new Date(l.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),datasets:[{label:"Actual",data:e.map(l=>l.actual??null),borderColor:"#94a3b8",backgroundColor:"#94a3b8",borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p90",data:e.map(l=>l.p90),borderColor:`${n}40`,borderWidth:1,backgroundColor:`${n}33`,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:"+1"},{label:"p10 (Risk)",data:e.map(l=>l.p10),borderColor:`${n}80`,borderWidth:1.5,borderDash:[4,4],backgroundColor:"transparent",pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p50 (Forecast)",data:e.map(l=>l.p50),borderColor:n,backgroundColor:n,borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{color:"#cbd5e1",font:{size:11},boxWidth:8,usePointStyle:!0}},title:{display:!!t,text:t,color:"#e2e8f0",font:{size:13,weight:"normal"},align:"start",padding:{bottom:10}},tooltip:{mode:"index",intersect:!1,backgroundColor:"#1e293b",titleColor:"#e2e8f0",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},scales:{x:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8",maxRotation:0,autoSkip:!0,maxTicksLimit:8}},y:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8"},min:0}},interaction:{mode:"nearest",axis:"x",intersect:!1},layout:{padding:{bottom:0,left:10,right:10}}};return d.jsx("div",{className:"w-full h-[250px]",children:d.jsx(G0,{data:a,options:o})})}var CT;function he(){return CT.apply(null,arguments)}function S9(t){CT=t}function Ws(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Fr(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function it(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function X0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(it(t,e))return!1;return!0}function Wn(t){return t===void 0}function ea(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function wu(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function DT(t,e){var n=[],s,a=t.length;for(s=0;s<a;++s)n.push(e(t[s],s));return n}function Ua(t,e){for(var n in e)it(e,n)&&(t[n]=e[n]);return it(e,"toString")&&(t.toString=e.toString),it(e,"valueOf")&&(t.valueOf=e.valueOf),t}function fi(t,e,n,s){return JT(t,e,n,s,!0).utc()}function j9(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ue(t){return t._pf==null&&(t._pf=j9()),t._pf}var jx;Array.prototype.some?jx=Array.prototype.some:jx=function(t){var e=Object(this),n=e.length>>>0,s;for(s=0;s<n;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function $0(t){var e=null,n=!1,s=t._d&&!isNaN(t._d.getTime());if(s&&(e=Ue(t),n=jx.call(e.parsedDateParts,function(a){return a!=null}),s=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s;return t._isValid}function _f(t){var e=fi(NaN);return t!=null?Ua(Ue(e),t):Ue(e).userInvalidated=!0,e}var TS=he.momentProperties=[],jg=!1;function K0(t,e){var n,s,a,o=TS.length;if(Wn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Wn(e._i)||(t._i=e._i),Wn(e._f)||(t._f=e._f),Wn(e._l)||(t._l=e._l),Wn(e._strict)||(t._strict=e._strict),Wn(e._tzm)||(t._tzm=e._tzm),Wn(e._isUTC)||(t._isUTC=e._isUTC),Wn(e._offset)||(t._offset=e._offset),Wn(e._pf)||(t._pf=Ue(e)),Wn(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)s=TS[n],a=e[s],Wn(a)||(t[s]=a);return t}function Su(t){K0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),jg===!1&&(jg=!0,he.updateOffset(this),jg=!1)}function Is(t){return t instanceof Su||t!=null&&t._isAMomentObject!=null}function ET(t){he.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Es(t,e){var n=!0;return Ua(function(){if(he.deprecationHandler!=null&&he.deprecationHandler(null,t),n){var s=[],a,o,l,u=arguments.length;for(o=0;o<u;o++){if(a="",typeof arguments[o]=="object"){a+=`
[`+o+"] ";for(l in arguments[0])it(arguments[0],l)&&(a+=l+": "+arguments[0][l]+", ");a=a.slice(0,-2)}else a=arguments[o];s.push(a)}ET(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var MS={};function AT(t,e){he.deprecationHandler!=null&&he.deprecationHandler(t,e),MS[t]||(ET(e),MS[t]=!0)}he.suppressDeprecationWarnings=!1;he.deprecationHandler=null;function mi(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function N9(t){var e,n;for(n in t)it(t,n)&&(e=t[n],mi(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Nx(t,e){var n=Ua({},t),s;for(s in e)it(e,s)&&(Fr(t[s])&&Fr(e[s])?(n[s]={},Ua(n[s],t[s]),Ua(n[s],e[s])):e[s]!=null?n[s]=e[s]:delete n[s]);for(s in t)it(t,s)&&!it(e,s)&&Fr(t[s])&&(n[s]=Ua({},n[s]));return n}function Z0(t){t!=null&&this.set(t)}var kx;Object.keys?kx=Object.keys:kx=function(t){var e,n=[];for(e in t)it(t,e)&&n.push(e);return n};var k9={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function T9(t,e,n){var s=this._calendar[t]||this._calendar.sameElse;return mi(s)?s.call(e,n):s}function hi(t,e,n){var s=""+Math.abs(t),a=e-s.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+s}var Q0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ah=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ng={},qo={};function Me(t,e,n,s){var a=s;typeof s=="string"&&(a=function(){return this[s]()}),t&&(qo[t]=a),e&&(qo[e[0]]=function(){return hi(a.apply(this,arguments),e[1],e[2])}),n&&(qo[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function M9(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function C9(t){var e=t.match(Q0),n,s;for(n=0,s=e.length;n<s;n++)qo[e[n]]?e[n]=qo[e[n]]:e[n]=M9(e[n]);return function(a){var o="",l;for(l=0;l<s;l++)o+=mi(e[l])?e[l].call(a,t):e[l];return o}}function yh(t,e){return t.isValid()?(e=OT(e,t.localeData()),Ng[e]=Ng[e]||C9(e),Ng[e](t)):t.localeData().invalidDate()}function OT(t,e){var n=5;function s(a){return e.longDateFormat(a)||a}for(ah.lastIndex=0;n>=0&&ah.test(t);)t=t.replace(ah,s),ah.lastIndex=0,n-=1;return t}var D9={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function E9(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Q0).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var A9="Invalid date";function O9(){return this._invalidDate}var R9="%d",L9=/\d{1,2}/;function P9(t){return this._ordinal.replace("%d",t)}var z9={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function B9(t,e,n,s){var a=this._relativeTime[n];return mi(a)?a(t,e,n,s):a.replace(/%d/i,t)}function V9(t,e){var n=this._relativeTime[t>0?"future":"past"];return mi(n)?n(e):n.replace(/%s/i,e)}var CS={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function As(t){return typeof t=="string"?CS[t]||CS[t.toLowerCase()]:void 0}function J0(t){var e={},n,s;for(s in t)it(t,s)&&(n=As(s),n&&(e[n]=t[s]));return e}var F9={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function H9(t){var e=[],n;for(n in t)it(t,n)&&e.push({unit:n,priority:F9[n]});return e.sort(function(s,a){return s.priority-a.priority}),e}var RT=/\d/,os=/\d\d/,LT=/\d{3}/,ey=/\d{4}/,wf=/[+-]?\d{6}/,St=/\d\d?/,PT=/\d\d\d\d?/,zT=/\d\d\d\d\d\d?/,Sf=/\d{1,3}/,ty=/\d{1,4}/,jf=/[+-]?\d{1,6}/,hl=/\d+/,Nf=/[+-]?\d+/,U9=/Z|[+-]\d\d:?\d\d/gi,kf=/Z|[+-]\d\d(?::?\d\d)?/gi,Y9=/[+-]?\d+(\.\d{1,3})?/,ju=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fl=/^[1-9]\d?/,ny=/^([1-9]\d|\d)/,Ih;Ih={};function ve(t,e,n){Ih[t]=mi(e)?e:function(s,a){return s&&n?n:e}}function W9(t,e){return it(Ih,t)?Ih[t](e._strict,e._locale):new RegExp(I9(t))}function I9(t){return Zi(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,s,a,o){return n||s||a||o}))}function Zi(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ts(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ze(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Ts(e)),n}var Tx={};function gt(t,e){var n,s=e,a;for(typeof t=="string"&&(t=[t]),ea(e)&&(s=function(o,l){l[e]=Ze(o)}),a=t.length,n=0;n<a;n++)Tx[t[n]]=s}function Nu(t,e){gt(t,function(n,s,a,o){a._w=a._w||{},e(n,a._w,a,o)})}function q9(t,e,n){e!=null&&it(Tx,t)&&Tx[t](e,n._a,n,t)}function Tf(t){return t%4===0&&t%100!==0||t%400===0}var Dn=0,Gi=1,ri=2,rn=3,Ys=4,Xi=5,Lr=6,G9=7,X9=8;Me("Y",0,0,function(){var t=this.year();return t<=9999?hi(t,4):"+"+t});Me(0,["YY",2],0,function(){return this.year()%100});Me(0,["YYYY",4],0,"year");Me(0,["YYYYY",5],0,"year");Me(0,["YYYYYY",6,!0],0,"year");ve("Y",Nf);ve("YY",St,os);ve("YYYY",ty,ey);ve("YYYYY",jf,wf);ve("YYYYYY",jf,wf);gt(["YYYYY","YYYYYY"],Dn);gt("YYYY",function(t,e){e[Dn]=t.length===2?he.parseTwoDigitYear(t):Ze(t)});gt("YY",function(t,e){e[Dn]=he.parseTwoDigitYear(t)});gt("Y",function(t,e){e[Dn]=parseInt(t,10)});function Wc(t){return Tf(t)?366:365}he.parseTwoDigitYear=function(t){return Ze(t)+(Ze(t)>68?1900:2e3)};var BT=ml("FullYear",!0);function $9(){return Tf(this.year())}function ml(t,e){return function(n){return n!=null?(VT(this,t,n),he.updateOffset(this,e),this):lu(this,t)}}function lu(t,e){if(!t.isValid())return NaN;var n=t._d,s=t._isUTC;switch(e){case"Milliseconds":return s?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return s?n.getUTCSeconds():n.getSeconds();case"Minutes":return s?n.getUTCMinutes():n.getMinutes();case"Hours":return s?n.getUTCHours():n.getHours();case"Date":return s?n.getUTCDate():n.getDate();case"Day":return s?n.getUTCDay():n.getDay();case"Month":return s?n.getUTCMonth():n.getMonth();case"FullYear":return s?n.getUTCFullYear():n.getFullYear();default:return NaN}}function VT(t,e,n){var s,a,o,l,u;if(!(!t.isValid()||isNaN(n))){switch(s=t._d,a=t._isUTC,e){case"Milliseconds":return void(a?s.setUTCMilliseconds(n):s.setMilliseconds(n));case"Seconds":return void(a?s.setUTCSeconds(n):s.setSeconds(n));case"Minutes":return void(a?s.setUTCMinutes(n):s.setMinutes(n));case"Hours":return void(a?s.setUTCHours(n):s.setHours(n));case"Date":return void(a?s.setUTCDate(n):s.setDate(n));case"FullYear":break;default:return}o=n,l=t.month(),u=t.date(),u=u===29&&l===1&&!Tf(o)?28:u,a?s.setUTCFullYear(o,l,u):s.setFullYear(o,l,u)}}function K9(t){return t=As(t),mi(this[t])?this[t]():this}function Z9(t,e){if(typeof t=="object"){t=J0(t);var n=H9(t),s,a=n.length;for(s=0;s<a;s++)this[n[s].unit](t[n[s].unit])}else if(t=As(t),mi(this[t]))return this[t](e);return this}function Q9(t,e){return(t%e+e)%e}var Ht;Array.prototype.indexOf?Ht=Array.prototype.indexOf:Ht=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function sy(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Q9(e,12);return t+=(e-n)/12,n===1?Tf(t)?29:28:31-n%7%2}Me("M",["MM",2],"Mo",function(){return this.month()+1});Me("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Me("MMMM",0,0,function(t){return this.localeData().months(this,t)});ve("M",St,fl);ve("MM",St,os);ve("MMM",function(t,e){return e.monthsShortRegex(t)});ve("MMMM",function(t,e){return e.monthsRegex(t)});gt(["M","MM"],function(t,e){e[Gi]=Ze(t)-1});gt(["MMM","MMMM"],function(t,e,n,s){var a=n._locale.monthsParse(t,s,n._strict);a!=null?e[Gi]=a:Ue(n).invalidMonth=t});var J9="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),FT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),HT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,eV=ju,tV=ju;function nV(t,e){return t?Ws(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||HT).test(e)?"format":"standalone"][t.month()]:Ws(this._months)?this._months:this._months.standalone}function sV(t,e){return t?Ws(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[HT.test(e)?"format":"standalone"][t.month()]:Ws(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function iV(t,e,n){var s,a,o,l=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)o=fi([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(a=Ht.call(this._shortMonthsParse,l),a!==-1?a:null):(a=Ht.call(this._longMonthsParse,l),a!==-1?a:null):e==="MMM"?(a=Ht.call(this._shortMonthsParse,l),a!==-1?a:(a=Ht.call(this._longMonthsParse,l),a!==-1?a:null)):(a=Ht.call(this._longMonthsParse,l),a!==-1?a:(a=Ht.call(this._shortMonthsParse,l),a!==-1?a:null))}function aV(t,e,n){var s,a,o;if(this._monthsParseExact)return iV.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(a=fi([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[s]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(n&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!n&&this._monthsParse[s].test(t))return s}}function UT(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ze(e);else if(e=t.localeData().monthsParse(e),!ea(e))return t}var n=e,s=t.date();return s=s<29?s:Math.min(s,sy(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,s):t._d.setMonth(n,s),t}function YT(t){return t!=null?(UT(this,t),he.updateOffset(this,!0),this):lu(this,"Month")}function rV(){return sy(this.year(),this.month())}function oV(t){return this._monthsParseExact?(it(this,"_monthsRegex")||WT.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(it(this,"_monthsShortRegex")||(this._monthsShortRegex=eV),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function lV(t){return this._monthsParseExact?(it(this,"_monthsRegex")||WT.call(this),t?this._monthsStrictRegex:this._monthsRegex):(it(this,"_monthsRegex")||(this._monthsRegex=tV),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function WT(){function t(h,m){return m.length-h.length}var e=[],n=[],s=[],a,o,l,u;for(a=0;a<12;a++)o=fi([2e3,a]),l=Zi(this.monthsShort(o,"")),u=Zi(this.months(o,"")),e.push(l),n.push(u),s.push(u),s.push(l);e.sort(t),n.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function cV(t,e,n,s,a,o,l){var u;return t<100&&t>=0?(u=new Date(t+400,e,n,s,a,o,l),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,n,s,a,o,l),u}function cu(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function qh(t,e,n){var s=7+e-n,a=(7+cu(t,0,s).getUTCDay()-e)%7;return-a+s-1}function IT(t,e,n,s,a){var o=(7+n-s)%7,l=qh(t,s,a),u=1+7*(e-1)+o+l,h,m;return u<=0?(h=t-1,m=Wc(h)+u):u>Wc(t)?(h=t+1,m=u-Wc(t)):(h=t,m=u),{year:h,dayOfYear:m}}function uu(t,e,n){var s=qh(t.year(),e,n),a=Math.floor((t.dayOfYear()-s-1)/7)+1,o,l;return a<1?(l=t.year()-1,o=a+Qi(l,e,n)):a>Qi(t.year(),e,n)?(o=a-Qi(t.year(),e,n),l=t.year()+1):(l=t.year(),o=a),{week:o,year:l}}function Qi(t,e,n){var s=qh(t,e,n),a=qh(t+1,e,n);return(Wc(t)-s+a)/7}Me("w",["ww",2],"wo","week");Me("W",["WW",2],"Wo","isoWeek");ve("w",St,fl);ve("ww",St,os);ve("W",St,fl);ve("WW",St,os);Nu(["w","ww","W","WW"],function(t,e,n,s){e[s.substr(0,1)]=Ze(t)});function uV(t){return uu(t,this._week.dow,this._week.doy).week}var dV={dow:0,doy:6};function hV(){return this._week.dow}function fV(){return this._week.doy}function mV(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function pV(t){var e=uu(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Me("d",0,"do","day");Me("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Me("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Me("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Me("e",0,0,"weekday");Me("E",0,0,"isoWeekday");ve("d",St);ve("e",St);ve("E",St);ve("dd",function(t,e){return e.weekdaysMinRegex(t)});ve("ddd",function(t,e){return e.weekdaysShortRegex(t)});ve("dddd",function(t,e){return e.weekdaysRegex(t)});Nu(["dd","ddd","dddd"],function(t,e,n,s){var a=n._locale.weekdaysParse(t,s,n._strict);a!=null?e.d=a:Ue(n).invalidWeekday=t});Nu(["d","e","E"],function(t,e,n,s){e[s]=Ze(t)});function gV(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function xV(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function iy(t,e){return t.slice(e,7).concat(t.slice(0,e))}var yV="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bV="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vV=ju,_V=ju,wV=ju;function SV(t,e){var n=Ws(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?iy(n,this._week.dow):t?n[t.day()]:n}function jV(t){return t===!0?iy(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function NV(t){return t===!0?iy(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function kV(t,e,n){var s,a,o,l=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)o=fi([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(a=Ht.call(this._weekdaysParse,l),a!==-1?a:null):e==="ddd"?(a=Ht.call(this._shortWeekdaysParse,l),a!==-1?a:null):(a=Ht.call(this._minWeekdaysParse,l),a!==-1?a:null):e==="dddd"?(a=Ht.call(this._weekdaysParse,l),a!==-1||(a=Ht.call(this._shortWeekdaysParse,l),a!==-1)?a:(a=Ht.call(this._minWeekdaysParse,l),a!==-1?a:null)):e==="ddd"?(a=Ht.call(this._shortWeekdaysParse,l),a!==-1||(a=Ht.call(this._weekdaysParse,l),a!==-1)?a:(a=Ht.call(this._minWeekdaysParse,l),a!==-1?a:null)):(a=Ht.call(this._minWeekdaysParse,l),a!==-1||(a=Ht.call(this._weekdaysParse,l),a!==-1)?a:(a=Ht.call(this._shortWeekdaysParse,l),a!==-1?a:null))}function TV(t,e,n){var s,a,o;if(this._weekdaysParseExact)return kV.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(a=fi([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[s]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(n&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(n&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!n&&this._weekdaysParse[s].test(t))return s}}function MV(t){if(!this.isValid())return t!=null?this:NaN;var e=lu(this,"Day");return t!=null?(t=gV(t,this.localeData()),this.add(t-e,"d")):e}function CV(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function DV(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=xV(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function EV(t){return this._weekdaysParseExact?(it(this,"_weekdaysRegex")||ay.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(it(this,"_weekdaysRegex")||(this._weekdaysRegex=vV),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function AV(t){return this._weekdaysParseExact?(it(this,"_weekdaysRegex")||ay.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(it(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_V),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function OV(t){return this._weekdaysParseExact?(it(this,"_weekdaysRegex")||ay.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(it(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=wV),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ay(){function t(p,x){return x.length-p.length}var e=[],n=[],s=[],a=[],o,l,u,h,m;for(o=0;o<7;o++)l=fi([2e3,1]).day(o),u=Zi(this.weekdaysMin(l,"")),h=Zi(this.weekdaysShort(l,"")),m=Zi(this.weekdays(l,"")),e.push(u),n.push(h),s.push(m),a.push(u),a.push(h),a.push(m);e.sort(t),n.sort(t),s.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function ry(){return this.hours()%12||12}function RV(){return this.hours()||24}Me("H",["HH",2],0,"hour");Me("h",["hh",2],0,ry);Me("k",["kk",2],0,RV);Me("hmm",0,0,function(){return""+ry.apply(this)+hi(this.minutes(),2)});Me("hmmss",0,0,function(){return""+ry.apply(this)+hi(this.minutes(),2)+hi(this.seconds(),2)});Me("Hmm",0,0,function(){return""+this.hours()+hi(this.minutes(),2)});Me("Hmmss",0,0,function(){return""+this.hours()+hi(this.minutes(),2)+hi(this.seconds(),2)});function GT(t,e){Me(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}GT("a",!0);GT("A",!1);function XT(t,e){return e._meridiemParse}ve("a",XT);ve("A",XT);ve("H",St,ny);ve("h",St,fl);ve("k",St,fl);ve("HH",St,os);ve("hh",St,os);ve("kk",St,os);ve("hmm",PT);ve("hmmss",zT);ve("Hmm",PT);ve("Hmmss",zT);gt(["H","HH"],rn);gt(["k","kk"],function(t,e,n){var s=Ze(t);e[rn]=s===24?0:s});gt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});gt(["h","hh"],function(t,e,n){e[rn]=Ze(t),Ue(n).bigHour=!0});gt("hmm",function(t,e,n){var s=t.length-2;e[rn]=Ze(t.substr(0,s)),e[Ys]=Ze(t.substr(s)),Ue(n).bigHour=!0});gt("hmmss",function(t,e,n){var s=t.length-4,a=t.length-2;e[rn]=Ze(t.substr(0,s)),e[Ys]=Ze(t.substr(s,2)),e[Xi]=Ze(t.substr(a)),Ue(n).bigHour=!0});gt("Hmm",function(t,e,n){var s=t.length-2;e[rn]=Ze(t.substr(0,s)),e[Ys]=Ze(t.substr(s))});gt("Hmmss",function(t,e,n){var s=t.length-4,a=t.length-2;e[rn]=Ze(t.substr(0,s)),e[Ys]=Ze(t.substr(s,2)),e[Xi]=Ze(t.substr(a))});function LV(t){return(t+"").toLowerCase().charAt(0)==="p"}var PV=/[ap]\.?m?\.?/i,zV=ml("Hours",!0);function BV(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var $T={calendar:k9,longDateFormat:D9,invalidDate:A9,ordinal:R9,dayOfMonthOrdinalParse:L9,relativeTime:z9,months:J9,monthsShort:FT,week:dV,weekdays:yV,weekdaysMin:bV,weekdaysShort:qT,meridiemParse:PV},Nt={},_c={},du;function VV(t,e){var n,s=Math.min(t.length,e.length);for(n=0;n<s;n+=1)if(t[n]!==e[n])return n;return s}function DS(t){return t&&t.toLowerCase().replace("_","-")}function FV(t){for(var e=0,n,s,a,o;e<t.length;){for(o=DS(t[e]).split("-"),n=o.length,s=DS(t[e+1]),s=s?s.split("-"):null;n>0;){if(a=Mf(o.slice(0,n).join("-")),a)return a;if(s&&s.length>=n&&VV(o,s)>=n-1)break;n--}e++}return du}function HV(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Mf(t){var e=null,n;if(Nt[t]===void 0&&typeof _h<"u"&&_h&&_h.exports&&HV(t))try{e=du._abbr,n=require,n("./locale/"+t),Ga(e)}catch{Nt[t]=null}return Nt[t]}function Ga(t,e){var n;return t&&(Wn(e)?n=sa(t):n=oy(t,e),n?du=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),du._abbr}function oy(t,e){if(e!==null){var n,s=$T;if(e.abbr=t,Nt[t]!=null)AT("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Nt[t]._config;else if(e.parentLocale!=null)if(Nt[e.parentLocale]!=null)s=Nt[e.parentLocale]._config;else if(n=Mf(e.parentLocale),n!=null)s=n._config;else return _c[e.parentLocale]||(_c[e.parentLocale]=[]),_c[e.parentLocale].push({name:t,config:e}),null;return Nt[t]=new Z0(Nx(s,e)),_c[t]&&_c[t].forEach(function(a){oy(a.name,a.config)}),Ga(t),Nt[t]}else return delete Nt[t],null}function UV(t,e){if(e!=null){var n,s,a=$T;Nt[t]!=null&&Nt[t].parentLocale!=null?Nt[t].set(Nx(Nt[t]._config,e)):(s=Mf(t),s!=null&&(a=s._config),e=Nx(a,e),s==null&&(e.abbr=t),n=new Z0(e),n.parentLocale=Nt[t],Nt[t]=n),Ga(t)}else Nt[t]!=null&&(Nt[t].parentLocale!=null?(Nt[t]=Nt[t].parentLocale,t===Ga()&&Ga(t)):Nt[t]!=null&&delete Nt[t]);return Nt[t]}function sa(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return du;if(!Ws(t)){if(e=Mf(t),e)return e;t=[t]}return FV(t)}function YV(){return kx(Nt)}function ly(t){var e,n=t._a;return n&&Ue(t).overflow===-2&&(e=n[Gi]<0||n[Gi]>11?Gi:n[ri]<1||n[ri]>sy(n[Dn],n[Gi])?ri:n[rn]<0||n[rn]>24||n[rn]===24&&(n[Ys]!==0||n[Xi]!==0||n[Lr]!==0)?rn:n[Ys]<0||n[Ys]>59?Ys:n[Xi]<0||n[Xi]>59?Xi:n[Lr]<0||n[Lr]>999?Lr:-1,Ue(t)._overflowDayOfYear&&(e<Dn||e>ri)&&(e=ri),Ue(t)._overflowWeeks&&e===-1&&(e=G9),Ue(t)._overflowWeekday&&e===-1&&(e=X9),Ue(t).overflow=e),t}var WV=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IV=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qV=/Z|[+-]\d\d(?::?\d\d)?/,rh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kg=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],GV=/^\/?Date\((-?\d+)/i,XV=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,$V={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function KT(t){var e,n,s=t._i,a=WV.exec(s)||IV.exec(s),o,l,u,h,m=rh.length,p=kg.length;if(a){for(Ue(t).iso=!0,e=0,n=m;e<n;e++)if(rh[e][1].exec(a[1])){l=rh[e][0],o=rh[e][2]!==!1;break}if(l==null){t._isValid=!1;return}if(a[3]){for(e=0,n=p;e<n;e++)if(kg[e][1].exec(a[3])){u=(a[2]||" ")+kg[e][0];break}if(u==null){t._isValid=!1;return}}if(!o&&u!=null){t._isValid=!1;return}if(a[4])if(qV.exec(a[4]))h="Z";else{t._isValid=!1;return}t._f=l+(u||"")+(h||""),uy(t)}else t._isValid=!1}function KV(t,e,n,s,a,o){var l=[ZV(t),FT.indexOf(e),parseInt(n,10),parseInt(s,10),parseInt(a,10)];return o&&l.push(parseInt(o,10)),l}function ZV(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function QV(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function JV(t,e,n){if(t){var s=qT.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(s!==a)return Ue(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function e7(t,e,n){if(t)return $V[t];if(e)return 0;var s=parseInt(n,10),a=s%100,o=(s-a)/100;return o*60+a}function ZT(t){var e=XV.exec(QV(t._i)),n;if(e){if(n=KV(e[4],e[3],e[2],e[5],e[6],e[7]),!JV(e[1],n,t))return;t._a=n,t._tzm=e7(e[8],e[9],e[10]),t._d=cu.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ue(t).rfc2822=!0}else t._isValid=!1}function t7(t){var e=GV.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(KT(t),t._isValid===!1)delete t._isValid;else return;if(ZT(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:he.createFromInputFallback(t)}he.createFromInputFallback=Es("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function zo(t,e,n){return t??e??n}function n7(t){var e=new Date(he.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function cy(t){var e,n,s=[],a,o,l;if(!t._d){for(a=n7(t),t._w&&t._a[ri]==null&&t._a[Gi]==null&&s7(t),t._dayOfYear!=null&&(l=zo(t._a[Dn],a[Dn]),(t._dayOfYear>Wc(l)||t._dayOfYear===0)&&(Ue(t)._overflowDayOfYear=!0),n=cu(l,0,t._dayOfYear),t._a[Gi]=n.getUTCMonth(),t._a[ri]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=a[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[rn]===24&&t._a[Ys]===0&&t._a[Xi]===0&&t._a[Lr]===0&&(t._nextDay=!0,t._a[rn]=0),t._d=(t._useUTC?cu:cV).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[rn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(Ue(t).weekdayMismatch=!0)}}function s7(t){var e,n,s,a,o,l,u,h,m;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,l=4,n=zo(e.GG,t._a[Dn],uu(wt(),1,4).year),s=zo(e.W,1),a=zo(e.E,1),(a<1||a>7)&&(h=!0)):(o=t._locale._week.dow,l=t._locale._week.doy,m=uu(wt(),o,l),n=zo(e.gg,t._a[Dn],m.year),s=zo(e.w,m.week),e.d!=null?(a=e.d,(a<0||a>6)&&(h=!0)):e.e!=null?(a=e.e+o,(e.e<0||e.e>6)&&(h=!0)):a=o),s<1||s>Qi(n,o,l)?Ue(t)._overflowWeeks=!0:h!=null?Ue(t)._overflowWeekday=!0:(u=IT(n,s,a,o,l),t._a[Dn]=u.year,t._dayOfYear=u.dayOfYear)}he.ISO_8601=function(){};he.RFC_2822=function(){};function uy(t){if(t._f===he.ISO_8601){KT(t);return}if(t._f===he.RFC_2822){ZT(t);return}t._a=[],Ue(t).empty=!0;var e=""+t._i,n,s,a,o,l,u=e.length,h=0,m,p;for(a=OT(t._f,t._locale).match(Q0)||[],p=a.length,n=0;n<p;n++)o=a[n],s=(e.match(W9(o,t))||[])[0],s&&(l=e.substr(0,e.indexOf(s)),l.length>0&&Ue(t).unusedInput.push(l),e=e.slice(e.indexOf(s)+s.length),h+=s.length),qo[o]?(s?Ue(t).empty=!1:Ue(t).unusedTokens.push(o),q9(o,s,t)):t._strict&&!s&&Ue(t).unusedTokens.push(o);Ue(t).charsLeftOver=u-h,e.length>0&&Ue(t).unusedInput.push(e),t._a[rn]<=12&&Ue(t).bigHour===!0&&t._a[rn]>0&&(Ue(t).bigHour=void 0),Ue(t).parsedDateParts=t._a.slice(0),Ue(t).meridiem=t._meridiem,t._a[rn]=i7(t._locale,t._a[rn],t._meridiem),m=Ue(t).era,m!==null&&(t._a[Dn]=t._locale.erasConvertYear(m,t._a[Dn])),cy(t),ly(t)}function i7(t,e,n){var s;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(s=t.isPM(n),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function a7(t){var e,n,s,a,o,l,u=!1,h=t._f.length;if(h===0){Ue(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<h;a++)o=0,l=!1,e=K0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[a],uy(e),$0(e)&&(l=!0),o+=Ue(e).charsLeftOver,o+=Ue(e).unusedTokens.length*10,Ue(e).score=o,u?o<s&&(s=o,n=e):(s==null||o<s||l)&&(s=o,n=e,l&&(u=!0));Ua(t,n||e)}function r7(t){if(!t._d){var e=J0(t._i),n=e.day===void 0?e.date:e.day;t._a=DT([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),cy(t)}}function o7(t){var e=new Su(ly(QT(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function QT(t){var e=t._i,n=t._f;return t._locale=t._locale||sa(t._l),e===null||n===void 0&&e===""?_f({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Is(e)?new Su(ly(e)):(wu(e)?t._d=e:Ws(n)?a7(t):n?uy(t):l7(t),$0(t)||(t._d=null),t))}function l7(t){var e=t._i;Wn(e)?t._d=new Date(he.now()):wu(e)?t._d=new Date(e.valueOf()):typeof e=="string"?t7(t):Ws(e)?(t._a=DT(e.slice(0),function(n){return parseInt(n,10)}),cy(t)):Fr(e)?r7(t):ea(e)?t._d=new Date(e):he.createFromInputFallback(t)}function JT(t,e,n,s,a){var o={};return(e===!0||e===!1)&&(s=e,e=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(Fr(t)&&X0(t)||Ws(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=n,o._i=t,o._f=e,o._strict=s,o7(o)}function wt(t,e,n,s){return JT(t,e,n,s,!1)}var c7=Es("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=wt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_f()}),u7=Es("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=wt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_f()});function eM(t,e){var n,s;if(e.length===1&&Ws(e[0])&&(e=e[0]),!e.length)return wt();for(n=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](n))&&(n=e[s]);return n}function d7(){var t=[].slice.call(arguments,0);return eM("isBefore",t)}function h7(){var t=[].slice.call(arguments,0);return eM("isAfter",t)}var f7=function(){return Date.now?Date.now():+new Date},wc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function m7(t){var e,n=!1,s,a=wc.length;for(e in t)if(it(t,e)&&!(Ht.call(wc,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<a;++s)if(t[wc[s]]){if(n)return!1;parseFloat(t[wc[s]])!==Ze(t[wc[s]])&&(n=!0)}return!0}function p7(){return this._isValid}function g7(){return qs(NaN)}function Cf(t){var e=J0(t),n=e.year||0,s=e.quarter||0,a=e.month||0,o=e.week||e.isoWeek||0,l=e.day||0,u=e.hour||0,h=e.minute||0,m=e.second||0,p=e.millisecond||0;this._isValid=m7(e),this._milliseconds=+p+m*1e3+h*6e4+u*1e3*60*60,this._days=+l+o*7,this._months=+a+s*3+n*12,this._data={},this._locale=sa(),this._bubble()}function bh(t){return t instanceof Cf}function Mx(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function x7(t,e,n){var s=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0,l;for(l=0;l<s;l++)Ze(t[l])!==Ze(e[l])&&o++;return o+a}function tM(t,e){Me(t,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+hi(~~(n/60),2)+e+hi(~~n%60,2)})}tM("Z",":");tM("ZZ","");ve("Z",kf);ve("ZZ",kf);gt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=dy(kf,t)});var y7=/([\+\-]|\d\d)/gi;function dy(t,e){var n=(e||"").match(t),s,a,o;return n===null?null:(s=n[n.length-1]||[],a=(s+"").match(y7)||["-",0,0],o=+(a[1]*60)+Ze(a[2]),o===0?0:a[0]==="+"?o:-o)}function hy(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(Is(t)||wu(t)?t.valueOf():wt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),he.updateOffset(n,!1),n):wt(t).local()}function Cx(t){return-Math.round(t._d.getTimezoneOffset())}he.updateOffset=function(){};function b7(t,e,n){var s=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=dy(kf,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(a=Cx(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),s!==t&&(!e||this._changeInProgress?iM(this,qs(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,he.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Cx(this)}function v7(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function _7(t){return this.utcOffset(0,t)}function w7(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Cx(this),"m")),this}function S7(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=dy(U9,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function j7(t){return this.isValid()?(t=t?wt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function N7(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function k7(){if(!Wn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return K0(t,this),t=QT(t),t._a?(e=t._isUTC?fi(t._a):wt(t._a),this._isDSTShifted=this.isValid()&&x7(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function T7(){return this.isValid()?!this._isUTC:!1}function M7(){return this.isValid()?this._isUTC:!1}function nM(){return this.isValid()?this._isUTC&&this._offset===0:!1}var C7=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,D7=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qs(t,e){var n=t,s=null,a,o,l;return bh(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ea(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(s=C7.exec(t))?(a=s[1]==="-"?-1:1,n={y:0,d:Ze(s[ri])*a,h:Ze(s[rn])*a,m:Ze(s[Ys])*a,s:Ze(s[Xi])*a,ms:Ze(Mx(s[Lr]*1e3))*a}):(s=D7.exec(t))?(a=s[1]==="-"?-1:1,n={y:Cr(s[2],a),M:Cr(s[3],a),w:Cr(s[4],a),d:Cr(s[5],a),h:Cr(s[6],a),m:Cr(s[7],a),s:Cr(s[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(l=E7(wt(n.from),wt(n.to)),n={},n.ms=l.milliseconds,n.M=l.months),o=new Cf(n),bh(t)&&it(t,"_locale")&&(o._locale=t._locale),bh(t)&&it(t,"_isValid")&&(o._isValid=t._isValid),o}qs.fn=Cf.prototype;qs.invalid=g7;function Cr(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ES(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function E7(t,e){var n;return t.isValid()&&e.isValid()?(e=hy(e,t),t.isBefore(e)?n=ES(t,e):(n=ES(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function sM(t,e){return function(n,s){var a,o;return s!==null&&!isNaN(+s)&&(AT(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=s,s=o),a=qs(n,s),iM(this,a,t),this}}function iM(t,e,n,s){var a=e._milliseconds,o=Mx(e._days),l=Mx(e._months);t.isValid()&&(s=s??!0,l&&UT(t,lu(t,"Month")+l*n),o&&VT(t,"Date",lu(t,"Date")+o*n),a&&t._d.setTime(t._d.valueOf()+a*n),s&&he.updateOffset(t,o||l))}var A7=sM(1,"add"),O7=sM(-1,"subtract");function aM(t){return typeof t=="string"||t instanceof String}function R7(t){return Is(t)||wu(t)||aM(t)||ea(t)||P7(t)||L7(t)||t===null||t===void 0}function L7(t){var e=Fr(t)&&!X0(t),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,o,l=s.length;for(a=0;a<l;a+=1)o=s[a],n=n||it(t,o);return e&&n}function P7(t){var e=Ws(t),n=!1;return e&&(n=t.filter(function(s){return!ea(s)&&aM(t)}).length===0),e&&n}function z7(t){var e=Fr(t)&&!X0(t),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,o;for(a=0;a<s.length;a+=1)o=s[a],n=n||it(t,o);return e&&n}function B7(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function V7(t,e){arguments.length===1&&(arguments[0]?R7(arguments[0])?(t=arguments[0],e=void 0):z7(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||wt(),s=hy(n,this).startOf("day"),a=he.calendarFormat(this,s)||"sameElse",o=e&&(mi(e[a])?e[a].call(this,n):e[a]);return this.format(o||this.localeData().calendar(a,this,wt(n)))}function F7(){return new Su(this)}function H7(t,e){var n=Is(t)?t:wt(t);return this.isValid()&&n.isValid()?(e=As(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function U7(t,e){var n=Is(t)?t:wt(t);return this.isValid()&&n.isValid()?(e=As(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Y7(t,e,n,s){var a=Is(t)?t:wt(t),o=Is(e)?e:wt(e);return this.isValid()&&a.isValid()&&o.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(s[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function W7(t,e){var n=Is(t)?t:wt(t),s;return this.isValid()&&n.isValid()?(e=As(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function I7(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function q7(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function G7(t,e,n){var s,a,o;if(!this.isValid())return NaN;if(s=hy(t,this),!s.isValid())return NaN;switch(a=(s.utcOffset()-this.utcOffset())*6e4,e=As(e),e){case"year":o=vh(this,s)/12;break;case"month":o=vh(this,s);break;case"quarter":o=vh(this,s)/3;break;case"second":o=(this-s)/1e3;break;case"minute":o=(this-s)/6e4;break;case"hour":o=(this-s)/36e5;break;case"day":o=(this-s-a)/864e5;break;case"week":o=(this-s-a)/6048e5;break;default:o=this-s}return n?o:Ts(o)}function vh(t,e){if(t.date()<e.date())return-vh(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(n,"months"),a,o;return e-s<0?(a=t.clone().add(n-1,"months"),o=(e-s)/(s-a)):(a=t.clone().add(n+1,"months"),o=(e-s)/(a-s)),-(n+o)||0}he.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";he.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function X7(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $7(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?yh(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):mi(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",yh(n,"Z")):yh(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function K7(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,s,a,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+s+a+o)}function Z7(t){t||(t=this.isUtc()?he.defaultFormatUtc:he.defaultFormat);var e=yh(this,t);return this.localeData().postformat(e)}function Q7(t,e){return this.isValid()&&(Is(t)&&t.isValid()||wt(t).isValid())?qs({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function J7(t){return this.from(wt(),t)}function eF(t,e){return this.isValid()&&(Is(t)&&t.isValid()||wt(t).isValid())?qs({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function tF(t){return this.to(wt(),t)}function rM(t){var e;return t===void 0?this._locale._abbr:(e=sa(t),e!=null&&(this._locale=e),this)}var oM=Es("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function lM(){return this._locale}var Gh=1e3,Go=60*Gh,Xh=60*Go,cM=(365*400+97)*24*Xh;function Xo(t,e){return(t%e+e)%e}function uM(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-cM:new Date(t,e,n).valueOf()}function dM(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-cM:Date.UTC(t,e,n)}function nF(t){var e,n;if(t=As(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?dM:uM,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Xo(e+(this._isUTC?0:this.utcOffset()*Go),Xh);break;case"minute":e=this._d.valueOf(),e-=Xo(e,Go);break;case"second":e=this._d.valueOf(),e-=Xo(e,Gh);break}return this._d.setTime(e),he.updateOffset(this,!0),this}function sF(t){var e,n;if(t=As(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?dM:uM,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Xh-Xo(e+(this._isUTC?0:this.utcOffset()*Go),Xh)-1;break;case"minute":e=this._d.valueOf(),e+=Go-Xo(e,Go)-1;break;case"second":e=this._d.valueOf(),e+=Gh-Xo(e,Gh)-1;break}return this._d.setTime(e),he.updateOffset(this,!0),this}function iF(){return this._d.valueOf()-(this._offset||0)*6e4}function aF(){return Math.floor(this.valueOf()/1e3)}function rF(){return new Date(this.valueOf())}function oF(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function lF(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function cF(){return this.isValid()?this.toISOString():null}function uF(){return $0(this)}function dF(){return Ua({},Ue(this))}function hF(){return Ue(this).overflow}function fF(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Me("N",0,0,"eraAbbr");Me("NN",0,0,"eraAbbr");Me("NNN",0,0,"eraAbbr");Me("NNNN",0,0,"eraName");Me("NNNNN",0,0,"eraNarrow");Me("y",["y",1],"yo","eraYear");Me("y",["yy",2],0,"eraYear");Me("y",["yyy",3],0,"eraYear");Me("y",["yyyy",4],0,"eraYear");ve("N",fy);ve("NN",fy);ve("NNN",fy);ve("NNNN",jF);ve("NNNNN",NF);gt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,s){var a=n._locale.erasParse(t,s,n._strict);a?Ue(n).era=a:Ue(n).invalidEra=t});ve("y",hl);ve("yy",hl);ve("yyy",hl);ve("yyyy",hl);ve("yo",kF);gt(["y","yy","yyy","yyyy"],Dn);gt(["yo"],function(t,e,n,s){var a;n._locale._eraYearOrdinalRegex&&(a=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Dn]=n._locale.eraYearOrdinalParse(t,a):e[Dn]=parseInt(t,10)});function mF(t,e){var n,s,a,o=this._eras||sa("en")._eras;for(n=0,s=o.length;n<s;++n)switch(typeof o[n].since==="string"&&(a=he(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=he(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf();break}return o}function pF(t,e,n){var s,a,o=this.eras(),l,u,h;for(t=t.toUpperCase(),s=0,a=o.length;s<a;++s)if(l=o[s].name.toUpperCase(),u=o[s].abbr.toUpperCase(),h=o[s].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===t)return o[s];break;case"NNNN":if(l===t)return o[s];break;case"NNNNN":if(h===t)return o[s];break}else if([l,u,h].indexOf(t)>=0)return o[s]}function gF(t,e){var n=t.since<=t.until?1:-1;return e===void 0?he(t.since).year():he(t.since).year()+(e-t.offset)*n}function xF(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].name;return""}function yF(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].narrow;return""}function bF(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].abbr;return""}function vF(){var t,e,n,s,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(n=a[t].since<=a[t].until?1:-1,s=this.clone().startOf("day").valueOf(),a[t].since<=s&&s<=a[t].until||a[t].until<=s&&s<=a[t].since)return(this.year()-he(a[t].since).year())*n+a[t].offset;return this.year()}function _F(t){return it(this,"_erasNameRegex")||my.call(this),t?this._erasNameRegex:this._erasRegex}function wF(t){return it(this,"_erasAbbrRegex")||my.call(this),t?this._erasAbbrRegex:this._erasRegex}function SF(t){return it(this,"_erasNarrowRegex")||my.call(this),t?this._erasNarrowRegex:this._erasRegex}function fy(t,e){return e.erasAbbrRegex(t)}function jF(t,e){return e.erasNameRegex(t)}function NF(t,e){return e.erasNarrowRegex(t)}function kF(t,e){return e._eraYearOrdinalRegex||hl}function my(){var t=[],e=[],n=[],s=[],a,o,l,u,h,m=this.eras();for(a=0,o=m.length;a<o;++a)l=Zi(m[a].name),u=Zi(m[a].abbr),h=Zi(m[a].narrow),e.push(l),t.push(u),n.push(h),s.push(l),s.push(u),s.push(h);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Me(0,["gg",2],0,function(){return this.weekYear()%100});Me(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Df(t,e){Me(0,[t,t.length],0,e)}Df("gggg","weekYear");Df("ggggg","weekYear");Df("GGGG","isoWeekYear");Df("GGGGG","isoWeekYear");ve("G",Nf);ve("g",Nf);ve("GG",St,os);ve("gg",St,os);ve("GGGG",ty,ey);ve("gggg",ty,ey);ve("GGGGG",jf,wf);ve("ggggg",jf,wf);Nu(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,s){e[s.substr(0,2)]=Ze(t)});Nu(["gg","GG"],function(t,e,n,s){e[s]=he.parseTwoDigitYear(t)});function TF(t){return hM.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function MF(t){return hM.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function CF(){return Qi(this.year(),1,4)}function DF(){return Qi(this.isoWeekYear(),1,4)}function EF(){var t=this.localeData()._week;return Qi(this.year(),t.dow,t.doy)}function AF(){var t=this.localeData()._week;return Qi(this.weekYear(),t.dow,t.doy)}function hM(t,e,n,s,a){var o;return t==null?uu(this,s,a).year:(o=Qi(t,s,a),e>o&&(e=o),OF.call(this,t,e,n,s,a))}function OF(t,e,n,s,a){var o=IT(t,e,n,s,a),l=cu(o.year,0,o.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}Me("Q",0,"Qo","quarter");ve("Q",RT);gt("Q",function(t,e){e[Gi]=(Ze(t)-1)*3});function RF(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Me("D",["DD",2],"Do","date");ve("D",St,fl);ve("DD",St,os);ve("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});gt(["D","DD"],ri);gt("Do",function(t,e){e[ri]=Ze(t.match(St)[0])});var fM=ml("Date",!0);Me("DDD",["DDDD",3],"DDDo","dayOfYear");ve("DDD",Sf);ve("DDDD",LT);gt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ze(t)});function LF(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Me("m",["mm",2],0,"minute");ve("m",St,ny);ve("mm",St,os);gt(["m","mm"],Ys);var PF=ml("Minutes",!1);Me("s",["ss",2],0,"second");ve("s",St,ny);ve("ss",St,os);gt(["s","ss"],Xi);var zF=ml("Seconds",!1);Me("S",0,0,function(){return~~(this.millisecond()/100)});Me(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Me(0,["SSS",3],0,"millisecond");Me(0,["SSSS",4],0,function(){return this.millisecond()*10});Me(0,["SSSSS",5],0,function(){return this.millisecond()*100});Me(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Me(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Me(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Me(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ve("S",Sf,RT);ve("SS",Sf,os);ve("SSS",Sf,LT);var Ya,mM;for(Ya="SSSS";Ya.length<=9;Ya+="S")ve(Ya,hl);function BF(t,e){e[Lr]=Ze(("0."+t)*1e3)}for(Ya="S";Ya.length<=9;Ya+="S")gt(Ya,BF);mM=ml("Milliseconds",!1);Me("z",0,0,"zoneAbbr");Me("zz",0,0,"zoneName");function VF(){return this._isUTC?"UTC":""}function FF(){return this._isUTC?"Coordinated Universal Time":""}var ce=Su.prototype;ce.add=A7;ce.calendar=V7;ce.clone=F7;ce.diff=G7;ce.endOf=sF;ce.format=Z7;ce.from=Q7;ce.fromNow=J7;ce.to=eF;ce.toNow=tF;ce.get=K9;ce.invalidAt=hF;ce.isAfter=H7;ce.isBefore=U7;ce.isBetween=Y7;ce.isSame=W7;ce.isSameOrAfter=I7;ce.isSameOrBefore=q7;ce.isValid=uF;ce.lang=oM;ce.locale=rM;ce.localeData=lM;ce.max=u7;ce.min=c7;ce.parsingFlags=dF;ce.set=Z9;ce.startOf=nF;ce.subtract=O7;ce.toArray=oF;ce.toObject=lF;ce.toDate=rF;ce.toISOString=$7;ce.inspect=K7;typeof Symbol<"u"&&Symbol.for!=null&&(ce[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ce.toJSON=cF;ce.toString=X7;ce.unix=aF;ce.valueOf=iF;ce.creationData=fF;ce.eraName=xF;ce.eraNarrow=yF;ce.eraAbbr=bF;ce.eraYear=vF;ce.year=BT;ce.isLeapYear=$9;ce.weekYear=TF;ce.isoWeekYear=MF;ce.quarter=ce.quarters=RF;ce.month=YT;ce.daysInMonth=rV;ce.week=ce.weeks=mV;ce.isoWeek=ce.isoWeeks=pV;ce.weeksInYear=EF;ce.weeksInWeekYear=AF;ce.isoWeeksInYear=CF;ce.isoWeeksInISOWeekYear=DF;ce.date=fM;ce.day=ce.days=MV;ce.weekday=CV;ce.isoWeekday=DV;ce.dayOfYear=LF;ce.hour=ce.hours=zV;ce.minute=ce.minutes=PF;ce.second=ce.seconds=zF;ce.millisecond=ce.milliseconds=mM;ce.utcOffset=b7;ce.utc=_7;ce.local=w7;ce.parseZone=S7;ce.hasAlignedHourOffset=j7;ce.isDST=N7;ce.isLocal=T7;ce.isUtcOffset=M7;ce.isUtc=nM;ce.isUTC=nM;ce.zoneAbbr=VF;ce.zoneName=FF;ce.dates=Es("dates accessor is deprecated. Use date instead.",fM);ce.months=Es("months accessor is deprecated. Use month instead",YT);ce.years=Es("years accessor is deprecated. Use year instead",BT);ce.zone=Es("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",v7);ce.isDSTShifted=Es("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",k7);function HF(t){return wt(t*1e3)}function UF(){return wt.apply(null,arguments).parseZone()}function pM(t){return t}var at=Z0.prototype;at.calendar=T9;at.longDateFormat=E9;at.invalidDate=O9;at.ordinal=P9;at.preparse=pM;at.postformat=pM;at.relativeTime=B9;at.pastFuture=V9;at.set=N9;at.eras=mF;at.erasParse=pF;at.erasConvertYear=gF;at.erasAbbrRegex=wF;at.erasNameRegex=_F;at.erasNarrowRegex=SF;at.months=nV;at.monthsShort=sV;at.monthsParse=aV;at.monthsRegex=lV;at.monthsShortRegex=oV;at.week=uV;at.firstDayOfYear=fV;at.firstDayOfWeek=hV;at.weekdays=SV;at.weekdaysMin=NV;at.weekdaysShort=jV;at.weekdaysParse=TV;at.weekdaysRegex=EV;at.weekdaysShortRegex=AV;at.weekdaysMinRegex=OV;at.isPM=LV;at.meridiem=BV;function $h(t,e,n,s){var a=sa(),o=fi().set(s,e);return a[n](o,t)}function gM(t,e,n){if(ea(t)&&(e=t,t=void 0),t=t||"",e!=null)return $h(t,e,n,"month");var s,a=[];for(s=0;s<12;s++)a[s]=$h(t,s,n,"month");return a}function py(t,e,n,s){typeof t=="boolean"?(ea(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ea(e)&&(n=e,e=void 0),e=e||"");var a=sa(),o=t?a._week.dow:0,l,u=[];if(n!=null)return $h(e,(n+o)%7,s,"day");for(l=0;l<7;l++)u[l]=$h(e,(l+o)%7,s,"day");return u}function YF(t,e){return gM(t,e,"months")}function WF(t,e){return gM(t,e,"monthsShort")}function IF(t,e,n){return py(t,e,n,"weekdays")}function qF(t,e,n){return py(t,e,n,"weekdaysShort")}function GF(t,e,n){return py(t,e,n,"weekdaysMin")}Ga("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ze(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});he.lang=Es("moment.lang is deprecated. Use moment.locale instead.",Ga);he.langData=Es("moment.langData is deprecated. Use moment.localeData instead.",sa);var Vi=Math.abs;function XF(){var t=this._data;return this._milliseconds=Vi(this._milliseconds),this._days=Vi(this._days),this._months=Vi(this._months),t.milliseconds=Vi(t.milliseconds),t.seconds=Vi(t.seconds),t.minutes=Vi(t.minutes),t.hours=Vi(t.hours),t.months=Vi(t.months),t.years=Vi(t.years),this}function xM(t,e,n,s){var a=qs(e,n);return t._milliseconds+=s*a._milliseconds,t._days+=s*a._days,t._months+=s*a._months,t._bubble()}function $F(t,e){return xM(this,t,e,1)}function KF(t,e){return xM(this,t,e,-1)}function AS(t){return t<0?Math.floor(t):Math.ceil(t)}function ZF(){var t=this._milliseconds,e=this._days,n=this._months,s=this._data,a,o,l,u,h;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=AS(Dx(n)+e)*864e5,e=0,n=0),s.milliseconds=t%1e3,a=Ts(t/1e3),s.seconds=a%60,o=Ts(a/60),s.minutes=o%60,l=Ts(o/60),s.hours=l%24,e+=Ts(l/24),h=Ts(yM(e)),n+=h,e-=AS(Dx(h)),u=Ts(n/12),n%=12,s.days=e,s.months=n,s.years=u,this}function yM(t){return t*4800/146097}function Dx(t){return t*146097/4800}function QF(t){if(!this.isValid())return NaN;var e,n,s=this._milliseconds;if(t=As(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,n=this._months+yM(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Dx(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function ia(t){return function(){return this.as(t)}}var bM=ia("ms"),JF=ia("s"),eH=ia("m"),tH=ia("h"),nH=ia("d"),sH=ia("w"),iH=ia("M"),aH=ia("Q"),rH=ia("y"),oH=bM;function lH(){return qs(this)}function cH(t){return t=As(t),this.isValid()?this[t+"s"]():NaN}function Xr(t){return function(){return this.isValid()?this._data[t]:NaN}}var uH=Xr("milliseconds"),dH=Xr("seconds"),hH=Xr("minutes"),fH=Xr("hours"),mH=Xr("days"),pH=Xr("months"),gH=Xr("years");function xH(){return Ts(this.days()/7)}var Yi=Math.round,Wo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function yH(t,e,n,s,a){return a.relativeTime(e||1,!!n,t,s)}function bH(t,e,n,s){var a=qs(t).abs(),o=Yi(a.as("s")),l=Yi(a.as("m")),u=Yi(a.as("h")),h=Yi(a.as("d")),m=Yi(a.as("M")),p=Yi(a.as("w")),x=Yi(a.as("y")),b=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||l<=1&&["m"]||l<n.m&&["mm",l]||u<=1&&["h"]||u<n.h&&["hh",u]||h<=1&&["d"]||h<n.d&&["dd",h];return n.w!=null&&(b=b||p<=1&&["w"]||p<n.w&&["ww",p]),b=b||m<=1&&["M"]||m<n.M&&["MM",m]||x<=1&&["y"]||["yy",x],b[2]=e,b[3]=+t>0,b[4]=s,yH.apply(null,b)}function vH(t){return t===void 0?Yi:typeof t=="function"?(Yi=t,!0):!1}function _H(t,e){return Wo[t]===void 0?!1:e===void 0?Wo[t]:(Wo[t]=e,t==="s"&&(Wo.ss=e-1),!0)}function wH(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=Wo,a,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(s=Object.assign({},Wo,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),a=this.localeData(),o=bH(this,!n,s,a),n&&(o=a.pastFuture(+this,o)),a.postformat(o)}var Tg=Math.abs;function Lo(t){return(t>0)-(t<0)||+t}function Ef(){if(!this.isValid())return this.localeData().invalidDate();var t=Tg(this._milliseconds)/1e3,e=Tg(this._days),n=Tg(this._months),s,a,o,l,u=this.asSeconds(),h,m,p,x;return u?(s=Ts(t/60),a=Ts(s/60),t%=60,s%=60,o=Ts(n/12),n%=12,l=t?t.toFixed(3).replace(/\.?0+$/,""):"",h=u<0?"-":"",m=Lo(this._months)!==Lo(u)?"-":"",p=Lo(this._days)!==Lo(u)?"-":"",x=Lo(this._milliseconds)!==Lo(u)?"-":"",h+"P"+(o?m+o+"Y":"")+(n?m+n+"M":"")+(e?p+e+"D":"")+(a||s||t?"T":"")+(a?x+a+"H":"")+(s?x+s+"M":"")+(t?x+l+"S":"")):"P0D"}var et=Cf.prototype;et.isValid=p7;et.abs=XF;et.add=$F;et.subtract=KF;et.as=QF;et.asMilliseconds=bM;et.asSeconds=JF;et.asMinutes=eH;et.asHours=tH;et.asDays=nH;et.asWeeks=sH;et.asMonths=iH;et.asQuarters=aH;et.asYears=rH;et.valueOf=oH;et._bubble=ZF;et.clone=lH;et.get=cH;et.milliseconds=uH;et.seconds=dH;et.minutes=hH;et.hours=fH;et.days=mH;et.weeks=xH;et.months=pH;et.years=gH;et.humanize=wH;et.toISOString=Ef;et.toString=Ef;et.toJSON=Ef;et.locale=rM;et.localeData=lM;et.toIsoString=Es("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ef);et.lang=oM;Me("X",0,0,"unix");Me("x",0,0,"valueOf");ve("x",Nf);ve("X",Y9);gt("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});gt("x",function(t,e,n){n._d=new Date(Ze(t))});he.version="2.30.1";S9(wt);he.fn=ce;he.min=d7;he.max=h7;he.now=f7;he.utc=fi;he.unix=HF;he.months=YF;he.isDate=wu;he.locale=Ga;he.invalid=_f;he.duration=qs;he.isMoment=Is;he.weekdays=IF;he.parseZone=UF;he.localeData=sa;he.isDuration=bh;he.monthsShort=WF;he.weekdaysMin=GF;he.defineLocale=oy;he.updateLocale=UV;he.locales=YV;he.weekdaysShort=qF;he.normalizeUnits=As;he.relativeTimeRounding=vH;he.relativeTimeThreshold=_H;he.calendarFormat=B7;he.prototype=ce;he.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const SH={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Hj._date.override(typeof he=="function"?{_id:"moment",formats:function(){return SH},parse:function(t,e){return typeof t=="string"&&typeof e=="string"?t=he(t,e):t instanceof he||(t=he(t)),t.isValid()?t.valueOf():null},format:function(t,e){return he(t).format(e)},add:function(t,e,n){return he(t).add(e,n).valueOf()},diff:function(t,e,n){return he(t).diff(he(e),n)},startOf:function(t,e,n){return t=he(t),e==="isoWeek"?(n=Math.trunc(Math.min(Math.max(0,n),6)),t.isoWeekday(n).startOf("day").valueOf()):t.startOf(e).valueOf()},endOf:function(t,e){return he(t).endOf(e).valueOf()}}:{});Ds.register(gu,xu,al,na,e0,cf,ol,rl,Rh);function jH(){const[t,e]=N.useState(null),[n,s]=N.useState(null),[a,o]=N.useState(""),[l,u]=N.useState(!1),[h,m]=N.useState(!1),[p,x]=N.useState(3),[b,v]=N.useState(!1),[w,S]=N.useState("load"),[j,k]=N.useState("forecast"),[C,E]=N.useState(!1),[O,R]=N.useState(!1),[A,L]=N.useState(!1),[P,U]=N.useState(!1),[$,ee]=N.useState(!1),[re,de]=N.useState(!1),[fe,be]=N.useState(null),W=async()=>{u(!0);try{const ge=await we.aurora.dashboard();e(ge);const Qe=ge.state?.risk_profile?.risk_appetite;typeof Qe=="number"&&x(Qe),E(!!ge.state?.auto_tune_enabled),L(!!ge.state?.reflex_enabled),ee(ge.state?.risk_profile?.mode==="probabilistic")}catch(ge){console.error("Failed to load Aurora dashboard:",ge)}finally{u(!1)}};N.useEffect(()=>{W(),(async()=>{try{const Qe=await we.schedulerStatus();s(Qe)}catch(Qe){console.error("Failed to load scheduler status:",Qe)}})()},[]),N.useEffect(()=>{(async()=>{try{const Qe=await we.performanceData(7);be(Qe)}catch(Qe){console.error("Failed to load performance data:",Qe)}})()},[]);const Q=async()=>{if(t){m(!0);try{const ge=await we.aurora.briefing(t);o(ge.briefing)}catch(ge){console.error("Failed to fetch Aurora briefing:",ge),o("Failed to fetch Aurora briefing.")}finally{m(!1)}}},ue=async ge=>{x(ge);try{await we.configSave({s_index:{risk_appetite:ge}})}catch(Qe){console.error("Failed to save risk level (risk_appetite):",Qe)}},oe=async()=>{const ge=!C;E(ge),R(!0);try{await we.configSave({learning:{auto_tune_enabled:ge}})}catch(Qe){console.error("Failed to toggle auto-tune:",Qe),E(!ge)}finally{R(!1)}},xe=async()=>{const ge=!A;L(ge),U(!0);try{await we.aurora.toggleReflex(ge)}catch(Qe){console.error("Failed to toggle reflex:",Qe),L(!ge)}finally{U(!1)}},F=async()=>{const ge=!$;ee(ge),de(!0);try{await we.configSave({s_index:{mode:ge?"probabilistic":"dynamic"}})}catch(Qe){console.error("Failed to toggle probabilistic mode:",Qe),ee(!ge)}finally{de(!1)}},Z=t?.identity?.graduation?.label??"infant",ie=t?.state?.weather_volatility,z=ie?.overall??0,J=z<.3?"bg-emerald-400/90":z<.7?"bg-sky-400/90":"bg-amber-400/90",ae=z<.3?"from-emerald-900/60 via-surface to-surface":z<.7?"from-sky-900/60 via-surface to-surface":"from-amber-900/60 via-surface to-surface",pe=t?.horizon?.slots??[],je=t?.horizon?.end??new Date().toISOString(),ke=t?.history?.strategy_events??[],ut=N.useMemo(()=>fe?{datasets:[{label:"Planned",data:fe.soc_series.map(ge=>({x:ge.time,y:ge.planned})),borderColor:"#94a3b8",borderDash:[5,5],borderWidth:1.5,pointRadius:0,tension:.4},{label:"Actual",data:fe.soc_series.map(ge=>({x:ge.time,y:ge.actual})),borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.1)",borderWidth:1.5,pointRadius:0,fill:!0,tension:.4}]}:null,[fe]),dn=N.useMemo(()=>fe?{labels:fe.cost_series.map(ge=>ge.date.slice(5)),datasets:[{label:"Plan",data:fe.cost_series.map(ge=>ge.planned),backgroundColor:"#94a3b8",borderRadius:2},{label:"Real",data:fe.cost_series.map(ge=>ge.realized),backgroundColor:fe.cost_series.map(ge=>ge.realized<=ge.planned?"#34d399":"#f87171"),borderRadius:2}]}:null,[fe]);return d.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Aurora Command Center",d.jsx("span",{className:"px-2 py-0.5 rounded-full bg-surface2 border border-line/50 text-[10px] text-muted uppercase tracking-wider",children:Z})]}),d.jsx("p",{className:"text-[11px] text-muted",children:"The Mastermind. Observing context, managing risk, and learning from reality."})]})}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[d.jsx(Pe,{className:`lg:col-span-6 p-4 md:p-5 bg-gradient-to-br ${ae} relative overflow-hidden`,children:d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:`absolute h-16 w-16 rounded-full ${J} opacity-30 animate-pulse`}),d.jsx("div",{className:"relative flex items-center justify-center w-14 h-14 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:d.jsx(Rg,{className:"h-8 w-8 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),d.jsx("div",{className:"text-lg font-medium text-text",children:z>.6?"Defensive Mode":z>.3?"Cautious Mode":"Optimal Mode"}),d.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2",children:[d.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${z>.6?"bg-amber-400":"bg-emerald-400"}`}),z>.6?"High Volatility Detected":"Conditions Stable"]})]})]}),d.jsxs("div",{className:"flex-1 bg-surface/40 rounded-xl p-3 border border-white/5 backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-text font-medium",children:[d.jsx(zx,{className:"h-3 w-3 text-accent"}),"Daily Briefing"]}),d.jsx("button",{onClick:Q,disabled:!t||h,className:"text-[10px] text-muted hover:text-accent disabled:opacity-50 transition-colors",children:h?"Thinking...":"Refresh"})]}),d.jsx("div",{className:"text-[11px] leading-relaxed text-muted/90 font-mono",children:a||"Aurora is analyzing current market and weather conditions..."})]})]})}),d.jsxs(Pe,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-muted tracking-wider",children:"Risk Appetite"}),d.jsxs("div",{className:"flex items-center gap-2",children:[t?.state?.risk_profile?.raw_factor!=null&&(t.state.risk_profile.raw_factor??0)>0&&d.jsxs("span",{className:"text-[9px] text-muted/60",title:"Calculated based on risk",children:["Calc: ",(t.state.risk_profile.raw_factor??0).toFixed(2)]}),d.jsxs("span",{className:"text-[9px] text-muted",title:"Proected factor for next run",children:["Applied: ",(t?.state?.risk_profile?.current_factor??1).toFixed(2)]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("div",{className:"grid grid-cols-5 gap-1 p-1 bg-surface2/50 rounded-lg border border-line/30",children:[1,2,3,4,5].map(ge=>{const Qe=p===ge;let dt="bg-surface border-line text-text shadow-sm";return Qe&&(ge===1?dt="bg-emerald-500/20 border-emerald-500/50 text-emerald-100 shadow-[0_0_10px_rgba(16,185,129,0.2)]":ge===2?dt="bg-teal-500/20 border-teal-500/50 text-teal-100":ge===3?dt="bg-blue-500/20 border-blue-500/50 text-blue-100":ge===4?dt="bg-amber-500/20 border-amber-500/50 text-amber-100":ge===5&&(dt="bg-red-500/20 border-red-500/50 text-red-100 shadow-[0_0_10px_rgba(239,68,68,0.2)]")),d.jsx("button",{onClick:()=>ue(ge),className:`
                       relative flex items-center justify-center h-9 rounded-md text-[10px] font-medium transition-all duration-200
                       border border-transparent
                       ${Qe?dt:"text-muted hover:bg-surface/50 hover:text-text"}
                     `,children:ge},ge)})}),d.jsxs("div",{className:"text-center h-8 flex flex-col justify-center",children:[d.jsx("span",{className:`text-[11px] font-medium transition-colors duration-300 ${p===1?"text-emerald-400":p===2?"text-teal-400":p===3?"text-blue-400":p===4?"text-amber-400":"text-red-400"}`,children:{1:"Safety First",2:"Conservative",3:"Neutral (Balanced)",4:"Aggressive",5:"Gambler"}[p]}),d.jsx("span",{className:"text-[9px] text-muted/70",children:{1:"Covers Worst Case (p90)",2:"Covers High Load (p75)",3:"Trusts the Mean (p50)",4:"Expects Lower Load",5:"Bets on Sun/Empty"}[p]})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30 flex flex-col items-center gap-2",children:[d.jsx("button",{onClick:async()=>{v(!0);try{await ue(p),await we.runPlanner(),await W()}finally{v(!1)}},disabled:b,className:`flex items-center gap-2 px-3 py-1.5 rounded-full bg-surface hover:bg-surface2 border border-line/50 text-[10px] transition-colors ${b?"opacity-70 cursor-not-allowed text-muted":"text-muted hover:text-text"}`,title:"Run Strategy Engine to update forecast based on new risk",children:b?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),d.jsx("span",{children:"Re-planning..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ms,{className:"h-3 w-3 text-accent"}),d.jsx("span",{children:"Apply & Re-Plan"})]})}),b&&d.jsx("span",{className:"text-[9px] text-muted/70 animate-pulse",children:"Regenerating schedule with new risk level..."})]})]}),d.jsxs(Pe,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ms,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Auto-Tuner"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Allow Aurora to act"})]}),d.jsx("button",{onClick:oe,disabled:O,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${C?"bg-accent":"bg-surface2"}`,children:d.jsx("span",{className:`${C?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Aurora Reflex"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Long-term auto-tuning"})]}),d.jsx("button",{onClick:xe,disabled:P,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${A?"bg-accent":"bg-surface2"}`,children:d.jsx("span",{className:`${A?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Probabilistic"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Use p10/p90 confidence bands"})]}),d.jsx("button",{onClick:F,disabled:re,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${$?"bg-accent":"bg-surface2"}`,children:d.jsx("span",{className:`${$?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),d.jsx("div",{className:"mt-auto pt-2 text-center text-[10px] text-muted",children:"More controls coming soon."})]})]}),d.jsx(_9,{metrics:t?.metrics,perfData:fe}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-12 lg:h-[450px]",children:[d.jsxs(Pe,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[d.jsx("div",{className:"mb-4 flex items-center justify-between shrink-0",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ko,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Context Radar"})]})}),d.jsx("div",{className:"flex-1 min-h-0 relative",children:d.jsx(b9,{weatherVolatility:{cloud:ie?.cloud_volatility??0,temp:ie?.temp_volatility??0,overall:z},riskFactor:p??3,forecastAccuracy:t?.metrics?.mae_pv_aurora!=null?Math.max(0,100-t.metrics.mae_pv_aurora*20):85,priceSpread:t?.metrics?.max_price_spread,forecastBias:t?.metrics?.forecast_bias})})]}),d.jsxs(Pe,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[d.jsxs("div",{className:"mb-4 flex items-center justify-between shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ZS,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Activity Log"})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsxs("span",{className:"text-[10px] text-muted",children:[ke.length," events"]}),n?.ml_training_last_run_at&&d.jsxs("span",{className:"text-[9px] text-muted/70",title:"Last ML Training Run",children:["ML Train:"," ",new Date(n.ml_training_last_run_at).toLocaleString("sv-SE",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]})]}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto pr-2 custom-scrollbar",children:d.jsx(v9,{events:ke})})]}),d.jsxs(Pe,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col h-full min-h-0 overflow-hidden",children:[d.jsxs("div",{className:"mb-4 shrink-0",children:[d.jsx("div",{className:"text-xs font-medium text-text",children:"Cost Reality"}),d.jsx("div",{className:"text-[11px] text-muted",children:"Daily financial outcome"})]}),d.jsx("div",{className:"flex-1 min-h-0",children:dn&&d.jsx(x9,{data:dn,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:10}}},y:{grid:{color:"#334155"},ticks:{color:"#94a3b8"}}},plugins:{legend:{labels:{color:"#e2e8f0",font:{size:10}}}}}})})]})]}),d.jsx("div",{className:"grid gap-4 lg:grid-cols-12",children:d.jsxs(Pe,{className:"lg:col-span-12 p-4 flex flex-col h-[350px] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-medium text-text",children:j==="forecast"?"Forecast Horizon (48h)":"SoC Tunnel"}),d.jsxs("div",{className:"text-[11px] text-muted",children:[j==="forecast"?$?`Probabilistic View (${w.toUpperCase()})`:`Decomposition View (${w.toUpperCase()})`:"Plan vs Reality",j==="forecast"&&d.jsxs(d.Fragment,{children:["  ",new Date().toISOString().slice(0,10)," -"," ",new Date(je).toISOString().slice(0,10)]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px] mr-2",children:[d.jsx("button",{className:`px-3 py-0.5 rounded-full ${j==="forecast"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>k("forecast"),children:"Forecast"}),d.jsx("button",{className:`px-3 py-0.5 rounded-full ${j==="soc"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>k("soc"),children:"SoC"})]}),j==="forecast"&&d.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px]",children:[d.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${w==="load"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>S("load"),children:d.jsx(Ms,{className:"h-3 w-3"})}),d.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${w==="pv"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>S("pv"),children:d.jsx(ij,{className:"h-3 w-3"})})]})]})]}),d.jsx("div",{className:"flex-1 min-h-0",children:l?d.jsx("div",{className:"text-[11px] text-muted",children:"Loading..."}):j==="soc"?d.jsx("div",{className:"h-full w-full",children:ut&&d.jsx(G0,{data:ut,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",time:{unit:"hour",displayFormats:{hour:"HH:mm"}},grid:{color:"#334155",display:!1},ticks:{color:"#94a3b8",maxTicksLimit:6}},y:{min:0,max:100,grid:{color:"#334155"},ticks:{color:"#94a3b8",display:!1}}},plugins:{legend:{display:!1}}}})}):$?d.jsx("div",{className:"h-full w-full",children:d.jsx(w9,{title:"",color:w==="load"?"#f97316":"#22c55e",slots:(()=>{const ge=t?.horizon?.history_series?.[w==="load"?"load":"pv"]||[],Qe=pe.map(Be=>w==="load"?{time:Be.slot_start,p10:Be.probabilistic?.load_p10??null,p50:Be.final.load_kwh,p90:Be.probabilistic?.load_p90??null,actual:null}:{time:Be.slot_start,p10:Be.probabilistic?.pv_p10??null,p50:Be.final.pv_kwh,p90:Be.probabilistic?.pv_p90??null,actual:null}),dt=new Map;ge.forEach(Be=>{dt.set(Be.slot_start,{time:Be.slot_start,p10:Be.p10??null,p50:Be.forecast??null,p90:Be.p90??null,actual:Be.actual})}),Qe.forEach(Be=>{const Jt=dt.get(Be.time);Jt?dt.set(Be.time,{...Jt,p10:Be.p10,p50:Be.p50,p90:Be.p90}):dt.set(Be.time,Be)});const Rn=new Date().getTime(),Pt=1440*60*1e3;return Array.from(dt.values()).sort((Be,Jt)=>new Date(Be.time).getTime()-new Date(Jt.time).getTime()).filter(Be=>{const Jt=new Date(Be.time).getTime();return Jt>=Rn-Pt&&Jt<=Rn+Pt})})()})}):d.jsx(xh,{slots:pe,mode:w})})]})})]})}function Sc({data:t,colorClass:e="bg-accent",height:n=32,bars:s=12}){const a=N.useMemo(()=>{if(!t||t.length===0)return Array(s).fill(.2);const o=t.slice(-s),l=Math.max(...o,1),u=Math.min(...o,0),h=l-u||1;return o.map(m=>.1+.9*((m-u)/h))},[t,s]);return d.jsx("div",{className:"mini-bars",style:{height:n},children:a.map((o,l)=>d.jsx("div",{className:`mini-bar ${e}`,style:{height:`${Math.round(o*100)}%`}},l))})}const js={status:async()=>{const t=await fetch("api/executor/status");if(!t.ok)throw new Error(`Status failed: ${t.status}`);return t.json()},toggle:async t=>{const e=await fetch("api/executor/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Toggle failed: ${e.status}`);return e.json()},run:async()=>{const t=await fetch("api/executor/run",{method:"POST"});if(!t.ok)throw new Error(`Run failed: ${t.status}`);return t.json()},history:async(t=20)=>{const e=await fetch(`api/executor/history?limit=${t}`);if(!e.ok)throw new Error(`History failed: ${e.status}`);return e.json()},stats:async(t=7)=>{const e=await fetch(`api/executor/stats?days=${t}`);if(!e.ok)throw new Error(`Stats failed: ${e.status}`);return e.json()},live:async()=>{const t=await fetch("api/executor/live");if(!t.ok)throw new Error(`Live failed: ${t.status}`);return t.json()},notifications:{get:async()=>{const t=await fetch("api/executor/notifications");if(!t.ok)throw new Error(`Notifications failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Notifications update failed: ${e.status}`);return e.json()},test:async()=>{const t=await fetch("api/executor/notifications/test",{method:"POST"}),e=await t.json();if(!t.ok)throw new Error(e.error||`Test failed: ${t.status}`);return e}},config:{get:async()=>{const t=await fetch("api/executor/config");if(!t.ok)throw new Error(`Config get failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Config update failed: ${e.status}`);return e.json()}},quickAction:{get:async()=>{const t=await fetch("api/executor/quick-action");if(!t.ok)throw new Error(`Quick action get failed: ${t.status}`);return t.json()},set:async(t,e)=>{const n=await fetch("api/executor/quick-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,duration_minutes:e})});if(!n.ok)throw new Error(`Quick action set failed: ${n.status}`);return n.json()},clear:async()=>{const t=await fetch("api/executor/quick-action",{method:"DELETE"});if(!t.ok)throw new Error(`Quick action clear failed: ${t.status}`);return t.json()}}};function Mg({enabled:t,onChange:e,disabled:n=!1,size:s="md"}){const a=s==="sm"?"h-5 w-9":"h-6 w-11",o=s==="sm"?"h-3 w-3":"h-4 w-4",l=s==="sm"?t?"translate-x-5":"translate-x-1":t?"translate-x-6":"translate-x-1";return d.jsx("button",{type:"button",role:"switch","aria-checked":t,disabled:n,onClick:()=>e(!t),className:`relative inline-flex items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${a} ${t?"bg-accent":"bg-surface2"} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:d.jsx("span",{className:`inline-block transform rounded-full bg-white transition-transform ${o} ${l}`})})}Ds.register(gu,xu,al,na,cf,ol,rl,lf);function NH(){const[t,e]=N.useState(null),[n,s]=N.useState(null),[a,o]=N.useState([]),[l,u]=N.useState(null),[h,m]=N.useState({soc:[],pv:[],load:[],import:[],export:[],labels:[]}),[p,x]=N.useState(!0),[b,v]=N.useState(!1),[w,S]=N.useState(!1),[j,k]=N.useState(null),[C,E]=N.useState(!1),[O,R]=N.useState(null),[A,L]=N.useState(!1),[P,U]=N.useState(!1),[$,ee]=N.useState(null),[re,de]=N.useState(null),fe=N.useCallback(async()=>{try{const[z,J,ae]=await Promise.all([js.status(),js.stats(7),js.history(20)]);e(z),s(J),o(ae.records),k(null)}catch(z){k(z.message||"Failed to load executor data")}finally{x(!1)}},[]);Yo("live_metrics",z=>{u(J=>{const ae={...J||{}};return z.soc!==void 0&&(ae.soc={value:`${z.soc.toFixed(0)}%`,numeric:z.soc,unit:"%"}),z.pv_kw!==void 0&&(ae.pv_power={value:`${z.pv_kw.toFixed(1)} kW`,numeric:z.pv_kw*1e3,unit:"W"}),z.load_kw!==void 0&&(ae.load_power={value:`${z.load_kw.toFixed(1)} kW`,numeric:z.load_kw*1e3,unit:"W"}),z.grid_import_kw!==void 0&&(ae.grid_import={value:`${z.grid_import_kw.toFixed(2)} kW`,numeric:z.grid_import_kw*1e3,unit:"W"}),z.grid_export_kw!==void 0&&(ae.grid_export={value:`${z.grid_export_kw.toFixed(2)} kW`,numeric:z.grid_export_kw*1e3,unit:"W"}),z.work_mode&&(ae.work_mode={value:z.work_mode}),ae}),m(J=>{const pe=[...J.labels,""],je=[...J.soc,z.soc??J.soc[J.soc.length-1]??0],ke=[...J.pv,z.pv_kw??J.pv[J.pv.length-1]??0],ut=[...J.load,z.load_kw??J.load[J.load.length-1]??0],dn=[...J.import,z.grid_import_kw??J.import[J.import.length-1]??0],ge=[...J.export,z.grid_export_kw??J.export[J.export.length-1]??0];return pe.length>20&&(pe.shift(),je.shift(),ke.shift(),ut.shift(),dn.shift(),ge.shift()),{labels:pe,soc:je,pv:ke,load:ut,import:dn,export:ge}})}),Yo("executor_status",z=>{e(z)}),N.useEffect(()=>{x(!0),fe();const z=setInterval(fe,3e4);return()=>clearInterval(z)},[fe]),N.useEffect(()=>{(async()=>{try{const J=await js.live();u(J)}catch{}})()},[]),N.useEffect(()=>{(async()=>{try{const J=await js.notifications.get();R(J)}catch{}})()},[]);const be=async(z,J)=>{if(O){L(!0);try{await js.notifications.update({[z]:J}),R(ae=>ae?{...ae,[z]:J}:null)}catch(ae){k(ae.message)}finally{L(!1)}}},W=async z=>{v(!0);try{await js.toggle({enabled:z}),await fe()}catch(J){k(J.message)}finally{v(!1)}},Q=async()=>{U(!0),ee(null);try{const z=await js.notifications.test();ee({success:!0,message:z.message||"Test sent!"})}catch(z){ee({success:!1,message:z.message})}finally{U(!1)}},ue=async z=>{v(!0);try{await js.toggle({shadow_mode:z}),await fe()}catch(J){k(J.message)}finally{v(!1)}},oe=async()=>{S(!0);try{await js.run(),await fe()}catch(z){k(z.message)}finally{S(!1)}},xe=z=>{if(!z)return"";try{return new Date(z).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"})}catch{return z}},F=z=>{if(!z)return"";try{return new Date(z).toLocaleString("sv-SE",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return z}},Z=t?.enabled?t?.shadow_mode?"from-warn-900/60 via-surface to-surface":"from-good-900/60 via-surface to-surface":"from-neutral-800/60 via-surface to-surface",ie=t?.enabled?t?.shadow_mode?"bg-warn/90":"bg-good/90":"bg-neutral/90";return p?d.jsx("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:d.jsxs("div",{className:"animate-pulse space-y-4",children:[d.jsx("div",{className:"h-10 bg-surface2 rounded w-48"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[d.jsx("div",{className:"h-64 bg-surface2 rounded"}),d.jsx("div",{className:"h-64 bg-surface2 rounded lg:col-span-2"})]})]})}):d.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Executor Control Center",d.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[10px] uppercase tracking-wider ${t?.enabled?t?.shadow_mode?"bg-warn/20 border-warn/50 text-warn":"bg-good/20 border-good/50 text-good":"bg-neutral/20 border-neutral/50 text-neutral"}`,children:t?.enabled?t?.shadow_mode?"Shadow":"Active":"Disabled"})]}),d.jsx("p",{className:"text-[11px] text-muted",children:"Native execution engine  controls inverter and water heater based on the schedule."})]})}),j&&d.jsxs("div",{className:"rounded-xl p-3 bg-bad/10 border border-bad/30 flex items-center gap-3",children:[d.jsx(oh,{className:"h-4 w-4 text-bad"}),d.jsx("span",{className:"text-bad text-[11px] flex-1",children:j}),d.jsx("button",{onClick:()=>k(null),className:"text-bad hover:text-bad/80 text-lg",children:""})]}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[d.jsxs(Pe,{className:`lg:col-span-5 p-4 md:p-5 bg-gradient-to-br ${Z} relative overflow-hidden`,children:[d.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[d.jsxs("div",{className:"relative flex items-center justify-center shrink-0",children:[d.jsx("div",{className:`absolute h-14 w-14 rounded-full ${ie} opacity-30 animate-pulse`}),d.jsx("div",{className:"relative flex items-center justify-center w-12 h-12 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:d.jsx(Lg,{className:"h-6 w-6 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),d.jsx("div",{className:"text-lg font-medium text-text",children:t?.enabled?t?.shadow_mode?"Shadow Mode":"Executing":"Standby"}),d.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2 mt-1",children:[d.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${t?.last_run_status==="success"?"bg-good":t?.last_run_status==="error"?"bg-bad":"bg-neutral"}`}),t?.last_run_status==="success"?"Last run successful":t?.last_run_status==="error"?"Last run failed":"No runs yet"]})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-line/10 grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Last Run"}),d.jsx("div",{className:"text-sm font-mono text-text",children:xe(t?.last_run_at)})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Next Run"}),d.jsx("div",{className:"text-sm font-mono text-text",children:xe(t?.next_run_at)})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Version"}),d.jsx("div",{className:"text-sm font-mono text-text",children:t?.version||""})]})]}),t?.override_active&&d.jsx("div",{className:"mt-3 p-2 rounded-lg bg-warn/20 border border-warn/30",children:d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-warn",children:[d.jsx(oh,{className:"h-3.5 w-3.5"}),d.jsx("span",{className:"font-medium",children:"Override Active:"}),d.jsx("span",{children:t.override_type})]})})]}),d.jsxs(Pe,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Nh,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),d.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Executor Enabled"}),d.jsx("span",{className:"text-[9px] text-muted",children:"Execute actions on Home Assistant"})]}),d.jsx(Mg,{enabled:t?.enabled??!1,onChange:W,disabled:b,size:"sm"})]}),d.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"text-[11px] font-medium text-text flex items-center gap-1.5",children:["Shadow Mode",d.jsx(X5,{className:"h-3 w-3 text-muted"})]}),d.jsx("span",{className:"text-[9px] text-muted",children:"Log only, don't execute actions"})]}),d.jsx(Mg,{enabled:t?.shadow_mode??!1,onChange:ue,disabled:b,size:"sm"})]}),d.jsxs("button",{onClick:()=>E(!0),className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2 hover:bg-surface2 transition-colors w-full",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yp,{className:"h-4 w-4 text-muted"}),d.jsx("span",{className:"text-[11px] font-medium text-text",children:"Notifications"})]}),O&&Object.entries(O).some(([z,J])=>z.startsWith("on_")&&J===!0)&&d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute inset-0 rounded-full bg-accent/50 blur-sm animate-pulse"}),d.jsx("span",{className:"relative h-2.5 w-2.5 rounded-full bg-accent block ring-2 ring-accent/30"})]})]}),d.jsx("div",{className:"mt-auto pt-4",children:d.jsx("button",{onClick:oe,disabled:w,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-surface hover:bg-surface2 border border-line/50 text-[11px] font-medium transition-all ${w?"opacity-70 cursor-not-allowed text-muted":"text-text hover:border-accent/50"}`,children:w?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-3.5 w-3.5 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),d.jsx("span",{children:"Running..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(nj,{className:"h-3.5 w-3.5 text-accent"}),d.jsx("span",{children:"Run Now"})]})})})]}),d.jsxs(Pe,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(jh,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"7-Day Stats"})]}),n&&d.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[d.jsxs("div",{className:"p-3 rounded-lg bg-surface2/30 border border-line/30",children:[d.jsx("div",{className:"text-xl font-bold text-text",children:n.total_executions}),d.jsx("div",{className:"text-[10px] text-muted",children:"Total Runs"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-good/10 border border-good/20",children:[d.jsxs("div",{className:"text-xl font-bold text-good",children:[n.success_rate,"%"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Success Rate"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-warn/10 border border-warn/20",children:[d.jsx("div",{className:"text-xl font-bold text-warn",children:n.override_count}),d.jsx("div",{className:"text-[10px] text-muted",children:"Overrides"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-bad/10 border border-bad/20",children:[d.jsx("div",{className:"text-xl font-bold text-bad",children:n.failed}),d.jsx("div",{className:"text-[10px] text-muted",children:"Failed"})]})]})]}),d.jsxs(Pe,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ms,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Quick Actions"})]}),t?.quick_action&&d.jsx("div",{className:"mb-3 p-3 rounded-lg bg-accent/10 border border-accent/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-[11px] font-medium text-accent capitalize",children:[t.quick_action.type.replace("_"," ")," Active"]}),d.jsxs("div",{className:"text-[10px] text-muted",children:[t.quick_action.remaining_minutes.toFixed(0)," min remaining"]})]}),d.jsx("button",{onClick:async()=>{try{await js.quickAction.clear(),fe()}catch(z){console.error(z)}},className:"text-[10px] px-2 py-1 rounded bg-bad/20 text-bad hover:bg-bad/30 transition-colors",children:"Cancel"})]})}),d.jsx("div",{className:"space-y-2 flex-1",children:[{type:"force_charge",label:"Force Charge",icon:Gc,labelClass:"text-good",btnClass:"bg-good/10 border-good/20 text-good hover:bg-good/20"},{type:"force_discharge",label:"Force Export",icon:Bg,labelClass:"text-warn",btnClass:"bg-warn/10 border-warn/20 text-warn hover:bg-warn/20"},{type:"force_water_heater",label:"Boost Water",icon:Xc,labelClass:"text-warn",btnClass:"bg-warn/10 border-warn/20 text-warn hover:bg-warn/20"},{type:"inverter_off",label:"Inverter Off",icon:nE,labelClass:"text-bad",btnClass:"bg-bad/10 border-bad/20 text-bad hover:bg-bad/20"}].map(z=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-[11px] ${z.labelClass} w-20 font-medium flex items-center gap-1`,children:[d.jsx(z.icon,{className:"h-3 w-3"}),z.label]}),d.jsx("div",{className:"flex gap-1 flex-1",children:[15,30,60].map(J=>d.jsxs("button",{onClick:async()=>{try{await js.quickAction.set(z.type,J),fe()}catch(ae){alert("Failed: "+ae.message)}},disabled:t?.quick_action?.type===z.type,className:`flex-1 px-2 py-1.5 text-[10px] rounded-lg border transition-all ${t?.quick_action?.type===z.type?"bg-accent/20 border-accent/40 text-accent":z.btnClass}`,children:[J,"m"]},J))})]},z.type))}),d.jsx("div",{className:"mt-3 text-[9px] text-muted/60 text-center",children:"Overrides schedule for selected duration"})]})]}),d.jsxs(Pe,{className:"p-4 md:p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ko,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Live System"}),d.jsx("span",{className:"text-[9px] text-muted/70",children:"(every 10s)"})]}),l?.work_mode&&d.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${l.work_mode.value.includes("Export")?t?.shadow_mode?"bg-warn/20 border-warn/30 text-warn":"bg-good/20 border-good/30 text-good":"bg-water/20 border-water/30 text-water"}`,children:l.work_mode.value})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[d.jsxs("div",{className:"metric-card-border metric-card-border-battery p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Sc,{data:h.soc,colorClass:"bg-good"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(Jh,{className:`h-6 w-6 ${(l?.soc?.numeric??0)>50?"text-good":(l?.soc?.numeric??0)>20?"text-warn":"text-bad"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-good",children:[l?.soc?.numeric?.toFixed(0)??"","%"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Battery SoC"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-solar p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Sc,{data:h.pv,colorClass:"bg-accent"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(fu,{className:`h-6 w-6 ${(l?.pv_power?.numeric??0)>500?"text-accent":"text-accent/40"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-accent",children:[l?.pv_power?.numeric?(l.pv_power.numeric/1e3).toFixed(1):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"PV Power"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-house p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Sc,{data:h.load,colorClass:"bg-house"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(tE,{className:"h-6 w-6 text-house"}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-house",children:[l?.load_power?.numeric?(l.load_power.numeric/1e3).toFixed(1):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Load"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-grid p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Sc,{data:h.import,colorClass:(l?.grid_import?.numeric??0)>100?"bg-bad":"bg-grid"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(Rx,{className:`h-6 w-6 ${(l?.grid_import?.numeric??0)>100?"text-bad":"text-grid"}`}),d.jsxs("div",{children:[d.jsxs("div",{className:`text-lg font-bold ${(l?.grid_import?.numeric??0)>100?"text-bad":"text-text"}`,children:[l?.grid_import?.numeric?(l.grid_import.numeric/1e3).toFixed(2):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Grid Import"})]})]})]}),d.jsxs("div",{className:"metric-card-border metric-card-border-bad p-3 bg-surface2/30 relative overflow-hidden group",children:[d.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:d.jsx(Sc,{data:h.export,colorClass:"bg-bad"})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx(Lx,{className:"h-6 w-6 text-bad"}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-bold text-bad",children:[l?.grid_export?.numeric?(l.grid_export.numeric/1e3).toFixed(2):""," kW"]}),d.jsx("div",{className:"text-[10px] text-muted",children:"Grid Export"})]})]})]})]})]}),d.jsxs(Pe,{className:"p-4 md:p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($5,{className:"h-4 w-4 text-accent"}),d.jsx("span",{className:"text-xs font-medium text-text",children:"Execution History"}),d.jsxs("span",{className:"text-[10px] text-muted",children:["(",a.length," records)"]})]}),d.jsxs("button",{onClick:fe,className:"flex items-center gap-1.5 text-[10px] text-muted hover:text-accent transition px-2 py-1 rounded-lg hover:bg-surface2",children:[d.jsx(sj,{className:"h-3 w-3"}),"Refresh"]})]}),a.length===0?d.jsxs("div",{className:"text-center py-12 text-muted",children:[d.jsx(g_,{className:"h-10 w-10 mx-auto opacity-20 mb-3"}),d.jsx("p",{className:"text-[11px]",children:"No execution history yet."}),d.jsx("p",{className:"text-[10px] mt-1 text-muted/70",children:"Run the executor to see results here."})]}):d.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[t?.next_run_at&&d.jsxs("div",{className:"p-3 rounded-xl border-2 border-dashed border-line/30 bg-surface2/10 opacity-70",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(g_,{className:"h-4 w-4 text-muted animate-pulse"}),d.jsxs("span",{className:"text-[11px] text-muted font-mono",children:["Next: ",xe(t.next_run_at)]})]}),d.jsx("span",{className:"text-[9px] text-muted/70 bg-surface2/50 px-2 py-0.5 rounded-full",children:"Scheduled"})]}),t.current_slot_plan&&d.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 text-[10px]",children:[t.current_slot_plan.charge_kw>0&&d.jsxs("div",{className:"flex items-center gap-1 text-good",children:[d.jsx(Gc,{className:"h-3 w-3"}),d.jsxs("span",{children:[t.current_slot_plan.charge_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.export_kw>0&&d.jsxs("div",{className:"flex items-center gap-1 text-warn",children:[d.jsx(Bg,{className:"h-3 w-3"}),d.jsxs("span",{children:[t.current_slot_plan.export_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.water_kw>0&&d.jsxs("div",{className:"flex items-center gap-1 text-water",children:[d.jsx(Xc,{className:"h-3 w-3"}),d.jsxs("span",{children:[t.current_slot_plan.water_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.soc_target>0&&d.jsx("div",{className:"flex items-center gap-1 text-muted",children:d.jsxs("span",{children:["SoC",t.current_slot_plan.soc_target,"%"]})}),!t.current_slot_plan.charge_kw&&!t.current_slot_plan.export_kw&&!t.current_slot_plan.water_kw&&d.jsx("div",{className:"text-muted/60 col-span-4",children:"Idle / Self-consumption"})]})]}),a.map(z=>{const J=re===z.id;return d.jsxs("div",{className:`rounded-xl border transition-all ${z.success?"bg-surface2/30 border-line/40 hover:border-line/60":"bg-bad/10 border-bad/30 hover:border-bad/50"}`,children:[d.jsxs("div",{className:"p-3 cursor-pointer flex items-center justify-between",onClick:()=>de(J?null:z.id),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ef,{className:`h-3 w-3 text-muted transition-transform ${J?"rotate-180":""}`}),z.success?d.jsx(QS,{className:"h-4 w-4 text-good"}):d.jsx(oh,{className:"h-4 w-4 text-bad"}),d.jsx("span",{className:"text-[11px] text-text font-mono",children:F(z.executed_at)}),z.commanded_charge_current_a&&z.commanded_charge_current_a>0&&d.jsx("span",{className:"text-[9px] text-good bg-good/20 px-1.5 py-0.5 rounded",children:" Charge"}),z.commanded_work_mode==="Export First"&&d.jsx("span",{className:"text-[9px] text-warn bg-warn/20 px-1.5 py-0.5 rounded",children:" Export"}),z.commanded_water_temp&&z.commanded_water_temp>50&&d.jsx("span",{className:"text-[9px] text-warn bg-warn/20 px-1.5 py-0.5 rounded",children:" Heat"}),(!z.commanded_charge_current_a||z.commanded_charge_current_a===0)&&z.commanded_work_mode!=="Export First"&&(!z.commanded_water_temp||z.commanded_water_temp<=50)&&d.jsx("span",{className:"text-[9px] text-muted/60 bg-surface2/50 px-1.5 py-0.5 rounded",children:" Idle"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[z.override_active?d.jsx("span",{className:"text-[9px] text-warn bg-warn/20 px-2 py-0.5 rounded-full border border-warn/30",children:z.override_type}):null,z.duration_ms&&d.jsxs("span",{className:"text-[9px] text-muted font-mono",children:[z.duration_ms,"ms"]})]})]}),J&&d.jsxs("div",{className:"px-3 pb-3 border-t border-line/20",children:[d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Planned (from Schedule)"}),d.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Charge"}),d.jsxs("span",{className:z.planned_charge_kw?"text-good":"text-muted/40",children:[z.planned_charge_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Export"}),d.jsxs("span",{className:z.planned_export_kw?"text-warn":"text-muted/40",children:[z.planned_export_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Water"}),d.jsxs("span",{className:z.planned_water_kw?"text-warn":"text-muted/40",children:[z.planned_water_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC Target"}),d.jsxs("span",{className:"text-text",children:[z.planned_soc_target??"","%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC Projected"}),d.jsxs("span",{className:"text-text",children:[z.planned_soc_projected??"","%"]})]})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Commanded (What We Set)"}),d.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Work Mode"}),d.jsx("span",{className:"text-text font-medium",children:z.commanded_work_mode??""})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Grid Charging"}),d.jsx("span",{className:z.commanded_grid_charging?"text-good":"text-muted/40",children:z.commanded_grid_charging?"ON":"OFF"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Charge I"}),d.jsxs("span",{className:z.commanded_charge_current_a?"text-good":"text-muted/40",children:[z.commanded_charge_current_a??""," A"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Discharge I"}),d.jsxs("span",{className:z.commanded_discharge_current_a?"text-warn":"text-muted/40",children:[z.commanded_discharge_current_a??""," A"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC Target"}),d.jsxs("span",{className:"text-text",children:[z.commanded_soc_target??"","%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Water Temp"}),d.jsxs("span",{className:z.commanded_water_temp&&z.commanded_water_temp>50?"text-warn":"text-muted/40",children:[z.commanded_water_temp??"","C"]})]})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"State Before Execution"}),d.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2 text-[10px]",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"SoC"}),d.jsxs("span",{className:"text-text",children:[z.before_soc_percent?.toFixed(0)??"","%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Work Mode"}),d.jsx("span",{className:"text-text",children:z.before_work_mode??""})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"PV Power"}),d.jsxs("span",{className:"text-yellow-400",children:[z.before_pv_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Load"}),d.jsxs("span",{className:"text-sky-400",children:[z.before_load_kw?.toFixed(1)??""," kW"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-muted/60",children:"Water Temp"}),d.jsxs("span",{className:"text-text",children:[z.before_water_temp??"","C"]})]})]})]}),z.error_message&&d.jsx("div",{className:"mt-2 text-[10px] text-red-400 bg-red-500/10 rounded-lg p-2",children:z.error_message}),z.override_reason&&d.jsxs("div",{className:"mt-2 text-[10px] text-amber-300/80 bg-amber-500/10 rounded-lg p-2",children:["Override: ",z.override_reason]})]})]},z.id)})]})]}),C&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>E(!1),children:d.jsxs("div",{className:"bg-surface border border-line rounded-2xl p-5 w-full max-w-md shadow-2xl",onClick:z=>z.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yp,{className:"h-5 w-5 text-accent"}),d.jsx("span",{className:"text-sm font-medium text-text",children:"Notification Settings"})]}),d.jsx("button",{onClick:()=>E(!1),className:"text-muted hover:text-text transition p-1",children:d.jsx(il,{className:"h-5 w-5"})})]}),O&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"p-2 rounded-lg bg-surface2/30 border border-line/30 mb-3",children:[d.jsx("div",{className:"text-[10px] text-muted mb-1",children:"HA Notify Service"}),d.jsx("div",{className:"text-[11px] text-text font-mono",children:O.service||"Not configured"})]}),[{key:"on_charge_start",label:"Charge Started",desc:"When grid charging begins"},{key:"on_charge_stop",label:"Charge Stopped",desc:"When grid charging ends"},{key:"on_export_start",label:"Export Started",desc:"When battery export begins"},{key:"on_export_stop",label:"Export Stopped",desc:"When battery export ends"},{key:"on_water_heat_start",label:"Water Heating Started",desc:"When water heater activates"},{key:"on_water_heat_stop",label:"Water Heating Stopped",desc:"When water heater deactivates"},{key:"on_soc_target_change",label:"SoC Target Changed",desc:"When battery target changes"},{key:"on_override_activated",label:"Override Activated",desc:"When emergency override triggers"},{key:"on_error",label:"Errors",desc:"When execution fails"}].map(z=>d.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[11px] font-medium text-text",children:z.label}),d.jsx("span",{className:"text-[9px] text-muted",children:z.desc})]}),d.jsx(Mg,{enabled:O[z.key],onChange:J=>be(z.key,J),disabled:A,size:"sm"})]},z.key))]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30",children:[d.jsx("button",{onClick:Q,disabled:P,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border text-[11px] font-medium transition-all ${P?"bg-surface2/50 border-line/30 text-muted cursor-not-allowed":"bg-accent/10 border-accent/30 text-accent hover:bg-accent/20"}`,children:P?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),"Sending..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Yp,{className:"h-3.5 w-3.5"}),"Send Test Notification"]})}),$&&d.jsx("div",{className:`mt-2 text-center text-[10px] ${$.success?"text-emerald-400":"text-red-400"}`,children:$.message}),d.jsx("div",{className:"mt-2 text-center text-[9px] text-muted/70",children:"Changes are saved automatically"})]})]})})]})}function jc({variant:t="info",children:e,className:n=""}){return d.jsx("div",{className:`banner banner-${t} ${n}`,children:e})}function Nc({variant:t="muted",children:e,className:n=""}){return d.jsx("span",{className:`badge badge-${t} ${n}`,children:e})}function kH(){const{toast:t}=I0(),[e,n]=N.useState(!1),[s,a]=N.useState(65),[o,l]=N.useState(!1),[u,h]=N.useState(!1),[m,p]=N.useState("");return d.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-10 space-y-12",children:[d.jsxs("header",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-bold text-text",children:"Darkstar Design System"}),d.jsx("p",{className:"text-muted text-lg mt-2",children:"Visual reference & component showcase"})]}),d.jsx(aj,{})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Color Palette"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{name:"Accent",var:"--color-accent",hex:"#FFCE59"},{name:"Good",var:"--color-good",hex:"#1FB256"},{name:"Warn",var:"--color-warn",hex:"#F59E0B"},{name:"Bad",var:"--color-bad",hex:"#F15132"},{name:"Water",var:"--color-water",hex:"#4EA8DE"},{name:"House",var:"--color-house",hex:"#A855F7"},{name:"Peak",var:"--color-peak",hex:"#EC4899"},{name:"Night",var:"--color-night",hex:"#06B6D4"},{name:"Grid",var:"--color-grid",hex:"#64748B"},{name:"Neutral",var:"--color-neutral",hex:"#989FA5"},{name:"AI",var:"--color-ai",hex:"#8B5CF6"}].map(x=>d.jsxs("div",{className:"rounded-ds-md overflow-hidden shadow-float bg-surface",children:[d.jsx("div",{className:"h-16",style:{backgroundColor:`rgb(var(${x.var}))`}}),d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:"text-sm font-medium text-text",children:x.name}),d.jsx("div",{className:"text-xs text-muted font-mono",children:x.hex})]})]},x.name))}),d.jsx("h3",{className:"text-lg font-medium text-text mt-6 mb-3",children:"Surface Colors"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{name:"Canvas",var:"--color-canvas"},{name:"Surface",var:"--color-surface"},{name:"Surface2",var:"--color-surface2"},{name:"Line",var:"--color-line"}].map(x=>d.jsx("div",{className:"h-20 rounded-ds-md border border-line flex items-center justify-center",style:{backgroundColor:`rgb(var(${x.var}))`},children:d.jsx("span",{className:"text-sm font-medium text-text",children:x.name})},x.name))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Typography"}),d.jsxs("div",{className:"space-y-3 bg-surface p-6 rounded-ds-lg",children:[d.jsx("div",{className:"text-4xl",children:"text-4xl (28px)  Page Titles"}),d.jsx("div",{className:"text-3xl",children:"text-3xl (24px)  Section Headers"}),d.jsx("div",{className:"text-2xl",children:"text-2xl (18px)  Subsections"}),d.jsx("div",{className:"text-xl",children:"text-xl (16px)  Large Body"}),d.jsx("div",{className:"text-lg",children:"text-lg (14px)  Body Text"}),d.jsx("div",{className:"text-md",children:"text-md (13px)  Secondary"}),d.jsx("div",{className:"text-base",children:"text-base (12px)  Small Body"}),d.jsx("div",{className:"text-sm",children:"text-sm (11px)  Labels"}),d.jsx("div",{className:"text-xs",children:"text-xs (10px)  Micro"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Buttons"}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsx("button",{className:"btn btn-primary",children:"Primary"}),d.jsx("button",{className:"btn btn-secondary",children:"Secondary"}),d.jsx("button",{className:"btn btn-danger",children:"Danger"}),d.jsx("button",{className:"btn btn-ghost",children:"Ghost"}),d.jsx("button",{className:"btn btn-primary btn-pill",children:"Pill Primary"}),d.jsx("button",{className:"btn btn-ghost btn-pill",children:"Pill Ghost"})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center mt-4",children:[d.jsx("button",{className:"btn btn-primary",disabled:!0,children:"Disabled Primary"}),d.jsx("button",{className:"btn btn-secondary",disabled:!0,children:"Disabled Secondary"}),d.jsx("button",{className:"btn btn-ghost",disabled:!0,children:"Disabled Ghost"})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-sm text-muted mb-2",children:"Dynamic color (using CSS custom property):"}),d.jsx("button",{className:"btn btn-pill btn-dynamic",style:{"--btn-bg":"rgb(var(--color-water))","--btn-text":"#fff"},children:"Custom Water Color"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Banners / Alerts"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(jc,{variant:"info",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Info Banner  Neutral information message"})]}),d.jsxs(jc,{variant:"success",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Success Banner  Action completed successfully"})]}),d.jsxs(jc,{variant:"warning",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Warning Banner  Requires attention"})]}),d.jsxs(jc,{variant:"error",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Error Banner  Critical issue detected"})]}),d.jsxs(jc,{variant:"purple",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Purple Banner  Special mode (shadow mode)"})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Badges"}),d.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[d.jsx(Nc,{variant:"accent",children:"Accent"}),d.jsx(Nc,{variant:"good",children:"Good"}),d.jsx(Nc,{variant:"warn",children:"Warning"}),d.jsx(Nc,{variant:"bad",children:"Error"}),d.jsx(Nc,{variant:"muted",children:"Muted"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Form Elements"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-muted mb-2",children:"Text Input"}),d.jsx("input",{type:"text",className:"input",placeholder:"Enter value..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-muted mb-2",children:"Number Input"}),d.jsx("input",{type:"number",className:"input",placeholder:"0"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-muted mb-2",children:"Toggle Switch"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(xT,{checked:e,onCheckedChange:n}),d.jsx("span",{className:"text-sm text-text",children:e?"On":"Off"})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Loading States"}),d.jsxs("div",{className:"flex items-center gap-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted mb-2",children:"Spinner"}),d.jsx("div",{className:"spinner"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm text-muted mb-2",children:"Skeleton"}),d.jsx("div",{className:"skeleton h-8 w-full"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"text-sm text-muted mb-2",children:["Progress Bar (",s,"%)"]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-bar-fill",style:{width:`${s}%`}})}),d.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:x=>a(Number(x.target.value)),className:"slider mt-2"})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Data Visualization"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[d.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Solar)"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"mini-bars",children:[40,55,75,90,100,85,70,45].map((x,b)=>d.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-accent))"}},b))}),d.jsx("span",{className:"font-mono font-bold text-accent",children:"4.2kW"})]})]}),d.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[d.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Battery)"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"mini-bars",children:[60,65,70,75,80,82,85,85].map((x,b)=>d.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-good))"}},b))}),d.jsx("span",{className:"font-mono font-bold text-good",children:"85%"})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Chart.js  Live Example"}),d.jsx("p",{className:"text-muted text-sm mb-4",children:"This is the actual ChartCard component used throughout Darkstar."}),d.jsx("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:d.jsx(SN,{day:"today",showDayToggle:!1})})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Power Flow Visualization"}),d.jsx("p",{className:"text-muted text-sm mb-4",children:"Animated energy flow between sources and loads (inspired by power-flow-card-plus)."}),d.jsx("div",{className:"bg-surface rounded-ds-lg p-8 shadow-float",children:d.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full max-w-lg mx-auto",children:[d.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-accent))",strokeWidth:3,fill:"none"},children:d.jsx("path",{d:"M100,50 L200,150"})}),d.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-good))",strokeWidth:3,fill:"none",animationDelay:"0.25s"},children:d.jsx("path",{d:"M200,150 L200,250"})}),d.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-house))",strokeWidth:3,fill:"none",animationDelay:"0.5s"},children:d.jsx("path",{d:"M200,150 L300,150"})}),d.jsx("g",{style:{stroke:"rgb(var(--color-grid))",strokeWidth:3,fill:"none",strokeDasharray:"5 5"},children:d.jsx("path",{d:"M100,250 L200,150"})}),d.jsxs("g",{transform:"translate(100, 50)",children:[d.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-accent))",strokeWidth:"3",className:"animate-glow"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-accent))",fontSize:"24",children:""}),d.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"4.2 kW"}),d.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Solar"})]}),d.jsxs("g",{transform:"translate(200, 150)",children:[d.jsx("circle",{r:"40",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-house))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-house))",fontSize:"24",children:""}),d.jsx("text",{y:"-50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"3.1 kW"})]}),d.jsxs("g",{transform:"translate(200, 250)",children:[d.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-good))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-good))",fontSize:"24",children:""}),d.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"85%"}),d.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"+0.6 kW"})]}),d.jsxs("g",{transform:"translate(100, 250)",children:[d.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-grid))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-grid))",fontSize:"24",children:""}),d.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0 W"}),d.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Grid"})]}),d.jsxs("g",{transform:"translate(300, 150)",children:[d.jsx("circle",{r:"30",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-water))",strokeWidth:"3"}),d.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-water))",fontSize:"20",children:""}),d.jsx("text",{y:"50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0.5 kW"}),d.jsx("text",{y:"65",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Water"})]})]})})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Animation Examples"}),d.jsx("p",{className:"text-muted text-sm mb-4",children:"CSS animations available in the design system."}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-pulse"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Pulse"}),d.jsx("code",{className:"text-xs text-muted",children:".animate-pulse"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-good animate-bounce"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Bounce"}),d.jsx("code",{className:"text-xs text-muted",children:".animate-bounce"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-glow"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Glow"}),d.jsx("code",{className:"text-xs text-muted",children:".animate-glow"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("div",{className:"spinner mx-auto mb-3",style:{width:"3rem",height:"3rem",borderWidth:"4px"}}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Spinner"}),d.jsx("code",{className:"text-xs text-muted",children:".spinner"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Skeleton Loading"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"skeleton h-4 w-3/4"}),d.jsx("div",{className:"skeleton h-4 w-1/2"}),d.jsx("div",{className:"skeleton h-4 w-full"})]}),d.jsx("code",{className:"text-xs text-muted mt-2 block",children:".skeleton"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Mini Bar Animation"}),d.jsx("div",{className:"mini-bars",children:[40,60,80,100,80,60,40,20].map((x,b)=>d.jsx("div",{className:"mini-bar animate-pulse",style:{height:`${x}%`,background:"rgb(var(--color-accent))",animationDelay:`${b*.1}s`}},b))}),d.jsx("code",{className:"text-xs text-muted mt-2 block",children:".mini-bars"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[d.jsx("button",{className:"btn btn-primary animate-glow mb-2",children:"Glowing Button"}),d.jsx("div",{className:"text-sm font-medium text-text",children:"Button Glow"}),d.jsx("code",{className:"text-xs text-muted",children:".btn + .animate-glow"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Animated Progress"}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-bar-fill",style:{width:"75%",animation:"skeleton-shimmer 1.5s infinite",background:"linear-gradient(90deg, rgb(var(--color-accent)), rgb(var(--color-accent2)), rgb(var(--color-accent)))",backgroundSize:"200% 100%"}})}),d.jsx("code",{className:"text-xs text-muted mt-2 block",children:".progress-bar"})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Metric Cards"}),d.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{border:"solar",label:"Solar",value:"4.2 kW",sub:"+12% today"},{border:"battery",label:"Battery",value:"78%",sub:"Target: 85%"},{border:"house",label:"House Load",value:"1.8 kW",sub:"Avg: 2.1 kW"},{border:"water",label:"Water",value:"2.4 kWh",sub:"Today"},{border:"grid",label:"Grid",value:"-0.5 kW",sub:"Exporting"},{border:"bad",label:"Error",value:"3",sub:"Issues detected"}].map(x=>d.jsxs("div",{className:`metric-card-border metric-card-border-${x.border} bg-surface p-4`,children:[d.jsx("div",{className:"text-xs text-muted uppercase tracking-wider",children:x.label}),d.jsx("div",{className:"text-2xl font-bold text-text mt-1",children:x.value}),d.jsx("div",{className:"text-xs text-muted mt-1",children:x.sub})]},x.border))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Border Radius"}),d.jsx("div",{className:"flex gap-4 items-end",children:[{name:"sm",size:"8px"},{name:"md",size:"12px"},{name:"lg",size:"16px"},{name:"xl",size:"20px"},{name:"pill",size:"9999px"}].map(x=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`w-16 h-16 bg-accent rounded-ds-${x.name}`}),d.jsx("div",{className:"text-xs text-muted mt-2",children:x.name}),d.jsx("div",{className:"text-xs text-muted",children:x.size})]},x.name))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Spacing Scale (4px grid)"}),d.jsx("div",{className:"flex gap-4 items-end flex-wrap",children:[1,2,3,4,5,6,8,10,12].map(x=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-accent",style:{width:`var(--space-${x})`,height:`var(--space-${x})`,minWidth:"4px",minHeight:"4px"}}),d.jsxs("div",{className:"text-xs text-muted mt-2",children:["ds-",x]})]},x))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Dark / Light Mode Comparison"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#0f1216"},children:[d.jsx("div",{className:"px-4 py-3",style:{background:"#14191f"},children:d.jsx("span",{className:"text-sm font-semibold",style:{color:"#e6e9ef"},children:" Dark Mode  Glow Buttons"})}),d.jsxs("div",{className:"p-4 space-y-2",style:{background:"#14191f"},children:[d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#FFCE59"},children:" Solar"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#FFCE59"},children:"4.2kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#1FB256"},children:" Battery"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#1FB256"},children:"85%"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#A855F7"},children:" House"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"1.8kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[d.jsx("span",{style:{color:"#4EA8DE"},children:" Water"}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"58C"})]}),d.jsxs("div",{className:"flex gap-2 pt-3",children:[d.jsx("button",{style:{background:"#FFCE59",color:"#1a1d23",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 16px rgba(255, 206, 89, 0.4), 0 0 32px rgba(255, 206, 89, 0.2)"},children:" Boost"}),d.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 12px rgba(152, 159, 165, 0.3)"},children:" Vacation"})]})]})]}),d.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#DFDFDF"},children:[d.jsx("div",{className:"px-4 py-3",style:{background:"#EFEFEF"},children:d.jsx("span",{className:"text-sm font-semibold",style:{color:"#2D2D2D"},children:" Light Mode  Flat Buttons (TE Style)"})}),d.jsxs("div",{className:"p-4 space-y-2",style:{background:"#EFEFEF"},children:[d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#b38b00"},children:"Solar"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"4.2kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#1FB256"},children:"Battery"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"85%"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#A855F7"},children:"House"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"1.8kW"})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[d.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",d.jsx("b",{style:{color:"#4EA8DE"},children:"Water"})]}),d.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"58C"})]}),d.jsxs("div",{className:"flex gap-2 pt-3",children:[d.jsx("button",{style:{background:"#FFCE59",color:"#2D2D2D",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Boost"}),d.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Vacation"})]})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Future Components (Inspiration)"}),d.jsx("p",{className:"text-muted text-sm mb-6",children:"These components are not yet implemented but can be added as needed."}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Card"}),d.jsx("p",{className:"text-xs text-muted",children:"Container with shadow, padding, and rounded corners for grouping content."}),d.jsx("div",{className:"mt-3 p-3 bg-surface2 rounded-ds-md",children:d.jsx("div",{className:"text-xs text-text",children:"Card content goes here..."})})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Select (Dropdown)"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Custom searchable dropdown."}),d.jsx(gT,{options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Delete",value:"3",group:"Danger"}],value:"1",onChange:()=>{}})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tabs"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation between views."}),d.jsxs("div",{className:"flex gap-1 bg-surface2 p-1 rounded-ds-md",children:[d.jsx("div",{className:"px-3 py-1.5 text-xs font-medium bg-accent text-black rounded",children:"Active"}),d.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 2"}),d.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 3"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Avatars"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"User profile images or initials."}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-xs font-bold text-black",children:"JD"}),d.jsx("div",{className:"w-8 h-8 rounded-full bg-water flex items-center justify-center text-xs font-bold text-white",children:"AB"}),d.jsx("div",{className:"w-8 h-8 rounded-full bg-house flex items-center justify-center text-xs font-bold text-white",children:"?"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tooltip"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Hover for more info."}),d.jsx("span",{className:"tooltip px-3 py-1.5 bg-surface2 rounded text-xs text-text cursor-help","data-tooltip":"This is a tooltip!",children:"Hover me"})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Data Table"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Tabular data display."}),d.jsxs("div",{className:"text-xs",children:[d.jsxs("div",{className:"flex gap-2 py-1 border-b border-line text-muted font-medium",children:[d.jsx("span",{className:"flex-1",children:"Name"}),d.jsx("span",{className:"w-16 text-right",children:"Value"})]}),d.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[d.jsx("span",{className:"flex-1",children:"Solar"}),d.jsx("span",{className:"w-16 text-right text-accent",children:"4.2kW"})]}),d.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[d.jsx("span",{className:"flex-1",children:"Battery"}),d.jsx("span",{className:"w-16 text-right text-good",children:"85%"})]})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Gauge / Dial"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Circular progress indicator."}),d.jsxs("div",{className:"w-16 h-16 rounded-full border-4 border-surface2 relative",children:[d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-accent border-r-accent",style:{transform:"rotate(45deg)"}}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-text",children:"75%"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Notification Badge"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Alert indicator on icons."}),d.jsxs("div",{className:"relative inline-block",children:[d.jsx("div",{className:"w-10 h-10 bg-surface2 rounded-lg flex items-center justify-center text-lg",children:""}),d.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-bad rounded-full flex items-center justify-center text-[10px] font-bold text-white",children:"3"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Stepper"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Multi-step progress."}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"1"}),d.jsx("div",{className:"flex-1 h-0.5 bg-accent"}),d.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"2"}),d.jsx("div",{className:"flex-1 h-0.5 bg-surface2"}),d.jsx("div",{className:"w-6 h-6 rounded-full bg-surface2 flex items-center justify-center text-[10px] font-bold text-muted",children:"3"})]})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" More Future Components"}),d.jsx("p",{className:"text-muted text-sm mb-6",children:"Additional component patterns for future implementation."}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Modal / Dialog"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Overlay for confirmations & forms."}),d.jsx("button",{className:"btn btn-primary text-xs",onClick:()=>h(!0),children:"Open Modal"}),d.jsx(NT,{open:u,onOpenChange:h,title:"Example Modal",footer:d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn btn-ghost",onClick:()=>h(!1),children:"Cancel"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>h(!1),children:"Confirm"})]}),children:d.jsx("p",{className:"text-text",children:"This is a reusable modal component using React Portal."})})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Accordion"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Expandable content sections."}),d.jsxs("div",{className:"bg-surface2 rounded-ds-md overflow-hidden",children:[d.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-text flex justify-between items-center cursor-pointer",onClick:()=>l(!o),children:[d.jsx("span",{children:"Click to expand"}),d.jsx("span",{children:o?"":"+"})]}),o&&d.jsx("div",{className:"px-3 py-2 text-xs text-muted border-t border-line",children:"Hidden content revealed!"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Search Input"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"With autocomplete dropdown."}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",className:"input pr-8",placeholder:"Search entities...",value:m,onChange:x=>p(x.target.value)}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted",children:""})]}),m&&d.jsxs("div",{className:"mt-1 bg-surface2 rounded-ds-md p-1 shadow-lg",children:[d.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.solar_power"}),d.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.battery_soc"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Date Picker"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Calendar date selection."}),d.jsxs("div",{className:"bg-surface2 rounded-ds-md p-2 w-48",children:[d.jsx("div",{className:"text-xs font-medium text-text text-center mb-2",children:"December 2024"}),d.jsxs("div",{className:"grid grid-cols-7 gap-1 text-[10px] text-center",children:[["M","T","W","T","F","S","S"].map((x,b)=>d.jsx("div",{className:"text-muted",children:x},b)),[...Array(31)].map((x,b)=>d.jsx("div",{className:`py-1 rounded cursor-pointer ${b===30?"bg-accent text-black font-bold":"text-text hover:bg-accent/20"}`,children:b+1},b))]})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Toast Notification"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Temporary status messages."}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{className:"btn btn-secondary w-full text-xs",onClick:()=>t({variant:"success",message:"Success!",description:"Action completed successfully."}),children:"Trigger Success Toast"}),d.jsx("button",{className:"btn btn-ghost w-full text-xs border border-bad/50 text-bad hover:bg-bad/10",onClick:()=>t({variant:"error",message:"Error!",description:"Something went wrong."}),children:"Trigger Error Toast"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Breadcrumbs"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation path trail."}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Home"}),d.jsx("span",{className:"text-muted",children:"/"}),d.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Settings"}),d.jsx("span",{className:"text-muted",children:"/"}),d.jsx("span",{className:"text-text font-medium",children:"Entities"})]})]}),d.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float col-span-full lg:col-span-2",children:[d.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Timeline / Activity Log"}),d.jsx("p",{className:"text-xs text-muted mb-3",children:"Chronological event display."}),d.jsx("div",{className:"space-y-3",children:[{time:"14:32",event:"Battery charging started",color:"good"},{time:"14:15",event:"Solar production peaked at 4.2kW",color:"accent"},{time:"13:45",event:"Grid export enabled",color:"water"}].map((x,b)=>d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 bg-${x.color}`}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-mono text-muted",children:x.time}),d.jsx("div",{className:"text-xs text-text",children:x.event})]})]},b))})]})]})]}),u&&d.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:d.jsxs("div",{className:"modal",onClick:x=>x.stopPropagation(),children:[d.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Modal Title"}),d.jsx("p",{className:"text-sm text-muted mb-4",children:"This is a sample modal dialog. It uses the design system's modal classes."}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx("button",{className:"btn btn-ghost",onClick:()=>h(!1),children:"Cancel"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>h(!1),children:"Confirm"})]})]})}),d.jsxs("footer",{className:"text-center text-muted text-sm pt-8 border-t border-line",children:[d.jsxs("p",{children:["SSOT: ",d.jsx("code",{className:"bg-surface2 px-2 py-1 rounded text-xs",children:"frontend/src/index.css"})]}),d.jsx("p",{className:"mt-2",children:"Toggle dark/light mode using the switch in the header."})]})]})}const OS=t=>{switch(t){case"sunny":return{solar:4.2,battery:1.5,grid:-2,house:2.5,water:.3,batterySOC:75};case"evening":return{solar:0,battery:-2.8,grid:.5,house:3.1,water:.2,batterySOC:45};case"charging":return{solar:.5,battery:3,grid:2.5,house:1,water:0,batterySOC:30};case"exporting":return{solar:6,battery:.5,grid:-4.5,house:1.5,water:.5,batterySOC:95};default:return{solar:2,battery:0,grid:.5,house:2.5,water:0,batterySOC:60}}};function vM(t,e){const n=e.x-t.x,s=e.y-t.y;return Math.sqrt(n*n+s*s)}function TH({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,h=4,m=Math.max(3-o*.4,.8);return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.25}),o>.1&&Array.from({length:h}).map((p,x)=>d.jsx(Ut.circle,{r:4,fill:s,initial:{opacity:0},animate:{cx:[l.x,u.x],cy:[l.y,u.y],opacity:[0,.9,.9,0]},transition:{duration:m,repeat:1/0,delay:x/h*m,ease:"linear"}},x))]})}function MH({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,h=vM(l,u),m=Math.max(2-o*.3,.6);return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.2}),o>.1&&d.jsx(Ut.line,{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:3,strokeOpacity:.7,strokeDasharray:"8 12",initial:{strokeDashoffset:0},animate:{strokeDashoffset:-h},transition:{duration:m,repeat:1/0,ease:"linear"}})]})}function CH({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,h=vM(l,u),m=Math.max(2.5-o*.4,.8);return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.15}),o>.1&&d.jsx(Ut.line,{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:4,strokeOpacity:.8,strokeLinecap:"round",strokeDasharray:"6 14",initial:{strokeDashoffset:0},animate:{strokeDashoffset:-h},transition:{duration:m,repeat:1/0,ease:"linear"}})]})}function DH({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,h=Math.max(2-o*.3,.6),m=u.x-l.x,p=u.y-l.y,x=Math.atan2(p,m)*180/Math.PI,b=3;return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.2}),o>.1&&Array.from({length:b}).map((v,w)=>d.jsx(Ut.g,{initial:{opacity:0},animate:{x:[l.x,u.x],y:[l.y,u.y],opacity:[0,1,1,0]},transition:{duration:h,repeat:1/0,delay:w/b*h,ease:"linear"},children:d.jsx("polygon",{points:"-6,-4 0,0 -6,4",fill:s,transform:`rotate(${x})`})},w))]})}function EH({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,h=2,m=2+o*2;return d.jsx("g",{children:d.jsx(Ut.line,{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeLinecap:"round",initial:{strokeWidth:h,strokeOpacity:.3},animate:o>.1?{strokeWidth:[h,m,h],strokeOpacity:[.3,.7,.3]}:{strokeWidth:h,strokeOpacity:.2},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})})}function AH({from:t,to:e,power:n,color:s,id:a,reverse:o}){const l=Math.abs(n),u=o?e:t,h=o?t:e,m=Math.max(2.5-l*.4,1);return d.jsxs("g",{children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:`heat-${a}`,gradientUnits:"userSpaceOnUse",x1:u.x,y1:u.y,x2:h.x,y2:h.y,children:[d.jsx(Ut.stop,{offset:"0%",stopColor:s,initial:{stopOpacity:.8},animate:{stopOpacity:[.8,.2,.8]},transition:{duration:m,repeat:1/0}}),d.jsx(Ut.stop,{offset:"100%",stopColor:s,initial:{stopOpacity:.1},animate:{stopOpacity:[.1,.6,.1]},transition:{duration:m,repeat:1/0,delay:m*.5}})]})}),d.jsx("line",{x1:u.x,y1:u.y,x2:h.x,y2:h.y,stroke:l>.1?`url(#heat-${a})`:s,strokeWidth:4+l,strokeOpacity:l>.1?1:.15,strokeLinecap:"round"})]})}function OH({from:t,to:e,power:n,color:s,reverse:a}){const o=Math.abs(n),l=a?e:t,u=a?t:e,h=Math.max(2-o*.25,.8),m=(l.x+u.x)/2,p=(l.y+u.y)/2;return d.jsxs("g",{children:[d.jsx("line",{x1:l.x,y1:l.y,x2:u.x,y2:u.y,stroke:s,strokeWidth:2,strokeOpacity:.2}),o>.1&&d.jsxs(d.Fragment,{children:[d.jsx(Ut.circle,{cx:l.x,cy:l.y,fill:"none",stroke:s,strokeWidth:2,initial:{r:5,opacity:.8},animate:{r:25,opacity:0},transition:{duration:h*.8,repeat:1/0}}),d.jsx(Ut.circle,{cx:m,cy:p,fill:"none",stroke:s,strokeWidth:2,initial:{r:5,opacity:.6},animate:{r:20,opacity:0},transition:{duration:h*.8,repeat:1/0,delay:h*.4}})]})]})}function kc({x:t,y:e,iconType:n,label:s,value:a,color:o,glowIntensity:l=0,isCharging:u}){const m=35+20*l,p={solar:fu,house:tj,battery:u?Gc:Jh,grid:Ms,water:Xc}[n];return d.jsxs("g",{transform:`translate(${t}, ${e})`,children:[l>.1&&d.jsx(Ut.circle,{r:m,fill:o,initial:{opacity:0},animate:{opacity:.12+l*.15},transition:{duration:.3}}),d.jsx("circle",{r:35,fill:"rgb(var(--color-surface))",stroke:o,strokeWidth:3}),d.jsx("foreignObject",{x:-12,y:-12,width:24,height:24,children:d.jsx(p,{size:24,style:{color:o},strokeWidth:1.5})}),d.jsx("text",{y:55,textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:a}),d.jsx("text",{y:70,textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:s})]})}function RH({data:t,style:e}){const n={solar:{x:100,y:60},house:{x:200,y:150},battery:{x:200,y:260},grid:{x:100,y:260},water:{x:300,y:150}},s={solar:"rgb(var(--color-accent))",battery:"rgb(var(--color-good))",grid:"rgb(var(--color-grid))",house:"rgb(var(--color-house))",water:"rgb(var(--color-water))"},a=6,o={solar:Math.min(t.solar/a,1),battery:Math.min(Math.abs(t.battery)/a,1),grid:Math.min(Math.abs(t.grid)/a,1),house:Math.min(t.house/a,1),water:Math.min(t.water/a,1)},l=(u,h,m,p,x,b)=>{if(Math.abs(p)<.1)return d.jsx("line",{x1:h.x,y1:h.y,x2:m.x,y2:m.y,stroke:x,strokeWidth:1,strokeOpacity:.1},u);switch(e){case"particles":return d.jsx(TH,{from:h,to:m,power:p,color:x,reverse:b},u);case"glow-flow":return d.jsx(MH,{id:u,from:h,to:m,power:p,color:x,reverse:b},u);case"dash-flow":return d.jsx(CH,{from:h,to:m,power:p,color:x,reverse:b},u);case"arrows":return d.jsx(DH,{from:h,to:m,power:p,color:x,reverse:b},u);case"thickness":return d.jsx(EH,{from:h,to:m,power:p,color:x,reverse:b},u);case"heat-trail":return d.jsx(AH,{id:u,from:h,to:m,power:p,color:x,reverse:b},u);case"ping":return d.jsx(OH,{from:h,to:m,power:p,color:x,reverse:b},u)}};return d.jsxs("svg",{viewBox:"0 0 400 320",className:"w-full max-w-lg mx-auto",children:[l("solar-house",n.solar,n.house,t.solar,s.solar,!1),l("battery-house",n.battery,n.house,Math.abs(t.battery),s.battery,t.battery>0),l("grid-house",n.grid,n.house,Math.abs(t.grid),s.grid,t.grid<0),l("house-water",n.house,n.water,t.water,s.water,!1),d.jsx(kc,{...n.solar,iconType:"solar",label:"Solar",value:`${t.solar.toFixed(1)} kW`,color:s.solar,glowIntensity:e==="glow-flow"?o.solar:0}),d.jsx(kc,{...n.house,iconType:"house",label:"House",value:`${t.house.toFixed(1)} kW`,color:s.house,glowIntensity:e==="glow-flow"?o.house:0}),d.jsx(kc,{...n.battery,iconType:"battery",label:t.battery>=0?"Charging":"Discharging",value:`${t.batterySOC}%`,color:s.battery,glowIntensity:e==="glow-flow"?o.battery:0,isCharging:t.battery>0}),d.jsx(kc,{...n.grid,iconType:"grid",label:t.grid>=0?"Import":"Export",value:`${Math.abs(t.grid).toFixed(1)} kW`,color:s.grid,glowIntensity:e==="glow-flow"?o.grid:0}),d.jsx(kc,{...n.water,iconType:"water",label:"Water",value:`${t.water.toFixed(1)} kW`,color:s.water,glowIntensity:e==="glow-flow"?o.water:0})]})}function LH(){const[t,e]=N.useState("particles"),[n,s]=N.useState("sunny"),[a,o]=N.useState(null),l=N.useMemo(()=>a??OS(n),[a,n]),u=[{id:"particles",label:"1. Particles",description:"Clean dots, regular spacing"},{id:"glow-flow",label:"2. Glow + Dash",description:"Hub glow + animated dashes"},{id:"dash-flow",label:"3. Dash Flow",description:"Simple animated dashes"},{id:"arrows",label:"4. Arrows",description:"Chevrons traveling along path"},{id:"thickness",label:"5. Thickness",description:"Line breathes with power"},{id:"heat-trail",label:"6. Heat Trail",description:"Gradient fills like liquid"},{id:"ping",label:"7. Ping",description:"Ripples from source nodes"}],h=[{id:"sunny",label:" Sunny"},{id:"evening",label:" Evening"},{id:"charging",label:" Charging"},{id:"exporting",label:" Exporting"}],m=(p,x)=>{const b=a??OS(n);o({...b,[p]:x})};return d.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:[" Power Flow Lab",d.jsx("span",{className:"px-2 py-0.5 rounded-full bg-accent/20 text-[10px] text-accent uppercase tracking-wider",children:"v2"})]}),d.jsx("p",{className:"text-[11px] text-muted",children:"Compare 7 animation styles  Lucide icons  Improved spacing"})]}),d.jsxs(Pe,{className:"p-4",children:[d.jsx("div",{className:"text-[10px] uppercase font-bold text-muted tracking-wider mb-3",children:"Animation Style"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2",children:u.map(p=>d.jsxs("button",{onClick:()=>e(p.id),className:`p-3 rounded-xl border transition-all text-left ${t===p.id?"border-accent bg-accent/10":"border-line/50 hover:border-line"}`,children:[d.jsx("div",{className:"text-[11px] font-medium text-text",children:p.label}),d.jsx("div",{className:"text-[9px] text-muted leading-tight",children:p.description})]},p.id))})]}),d.jsx(Pe,{className:"p-6",children:d.jsx(_6,{mode:"wait",children:d.jsx(Ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:d.jsx(RH,{data:l,style:t})},t)})}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[d.jsxs(Pe,{className:"p-4",children:[d.jsx("div",{className:"text-[10px] uppercase font-bold text-muted tracking-wider mb-3",children:"Presets"}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:h.map(p=>d.jsx("button",{onClick:()=>{s(p.id),o(null)},className:`px-3 py-2 rounded-lg border text-xs transition-all ${n===p.id&&!a?"border-accent bg-accent/10 text-text":"border-line/50 text-muted hover:text-text"}`,children:p.label},p.id))})]}),d.jsxs(Pe,{className:"p-4",children:[d.jsx("div",{className:"text-[10px] uppercase font-bold text-muted tracking-wider mb-3",children:"Custom Values"}),d.jsx("div",{className:"space-y-3",children:[{key:"solar",label:"Solar",min:0,max:8},{key:"battery",label:"Battery",min:-5,max:5},{key:"grid",label:"Grid",min:-6,max:6},{key:"house",label:"House",min:0,max:6},{key:"water",label:"Water",min:0,max:3}].map(p=>d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xs text-muted w-14",children:p.label}),d.jsx("input",{type:"range",min:p.min,max:p.max,step:.1,value:l[p.key],onChange:x=>m(p.key,parseFloat(x.target.value)),className:"flex-1 h-1 bg-line rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-accent [&::-webkit-slider-thumb]:rounded-full"}),d.jsxs("span",{className:"text-xs text-text w-16 text-right",children:[l[p.key].toFixed(1)," kW"]})]},p.key))})]})]})]})}function PH(){const t=[],e=new Date;e.setMinutes(0,0,0);for(let n=0;n<48;n++){const s=new Date(e.getTime()+n*3600*1e3),a=s.getHours();let o=0;a>5&&a<20&&(o=5*Math.sin((a-6)/14*Math.PI)),o=Math.max(0,o+(Math.random()*.5-.25));let l=1;l+=2*Math.exp(-Math.pow(a-8,2)/4),l+=3*Math.exp(-Math.pow(a-19,2)/6),l=Math.max(.5,l+(Math.random()*.5-.25)),t.push({slot_start:s.toISOString(),base:{pv_kwh:o*.8,load_kwh:l*.9},correction:{pv_kwh:o*.2,load_kwh:l*.1},final:{pv_kwh:o,load_kwh:l}})}return t}function zH(){const[t]=N.useState(PH());return d.jsxs("div",{className:"p-8 space-y-16 max-w-5xl mx-auto pb-32",children:[d.jsxs("header",{children:[d.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-surface2 text-[10px] text-muted uppercase tracking-wider font-bold mb-4",children:"Rev UI6 Brainstorm V2"}),d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Chart Makeover Concepts"}),d.jsx("p",{className:"text-muted text-lg",children:"Exploring radically different aesthetics."})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-baseline justify-between",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-accent",children:'Option A: "The Field" (Fixed)'}),d.jsx("p",{className:"text-sm text-muted",children:"Tactile, vertical gradients, glowing lines. Now with a real CSS dot grid."})]})}),d.jsxs("div",{className:"relative h-[360px] w-full bg-surface rounded-2xl border border-line shadow-float overflow-hidden p-6",children:[d.jsx("div",{className:"absolute top-4 right-4 px-2 py-1 bg-surface/50 backdrop-blur rounded text-[10px] text-muted font-mono z-10",children:"OP-1 / TE Inspired"}),d.jsx(xh,{slots:t,mode:"pv",variant:"field"})]})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-baseline justify-between",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-[#22d3ee] font-mono",children:'Option B: "The OLED"'}),d.jsx("p",{className:"text-sm text-muted",children:"Pure black, neon thin lines, high contrast. No fills."})]})}),d.jsx("div",{className:"relative h-[360px] w-full bg-black rounded-xl border border-[#333] p-6 shadow-2xl font-mono",children:d.jsx(xh,{slots:t,mode:"pv",variant:"oled"})})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-baseline justify-between",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-black dark:text-white",children:'Option C: "The Swiss"'}),d.jsx("p",{className:"text-sm text-muted",children:"Brutalist, thick lines, solid colors. No gradients, no fluff."})]})}),d.jsxs("div",{className:"relative h-[360px] w-full bg-[#f4f4f5] border-4 border-black p-8",children:[d.jsx("div",{className:"absolute top-0 left-0 bg-black text-white px-3 py-1 text-xs font-bold uppercase tracking-widest",children:"Power Log"}),d.jsx(xh,{slots:t,mode:"pv",variant:"swiss"})]})]})]})}function BH({health:t,onDismiss:e}){if(!t||t.healthy)return null;const n=t.issues.filter(a=>a.severity==="critical"),s=t.issues.filter(a=>a.severity==="warning");return d.jsxs("div",{className:"system-alert-container",children:[n.length>0&&d.jsxs("div",{className:"system-alert system-alert--critical",children:[d.jsx("div",{className:"system-alert__icon",children:""}),d.jsxs("div",{className:"system-alert__content",children:[d.jsxs("div",{className:"system-alert__title",children:["System Error",n.length>1?"s":""," Detected"]}),d.jsx("ul",{className:"system-alert__list",children:n.map((a,o)=>d.jsxs("li",{className:"system-alert__item",children:[d.jsx("strong",{children:a.message}),a.entity_id&&d.jsx("code",{className:"system-alert__entity",children:a.entity_id}),d.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]}),e&&d.jsx("button",{className:"system-alert__dismiss",onClick:e,title:"Dismiss (will reappear on next check)",children:""})]}),s.length>0&&d.jsxs("div",{className:"system-alert system-alert--warning",children:[d.jsx("div",{className:"system-alert__icon",children:""}),d.jsxs("div",{className:"system-alert__content",children:[d.jsxs("div",{className:"system-alert__title",children:["Warning",s.length>1?"s":""]}),d.jsx("ul",{className:"system-alert__list",children:s.map((a,o)=>d.jsxs("li",{className:"system-alert__item",children:[d.jsx("strong",{children:a.message}),d.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]})]})]})}function VH({children:t}){const[e,n]=N.useState([]),s=N.useCallback(o=>{n(l=>l.filter(u=>u.id!==o))},[]),a=N.useCallback(({message:o,description:l,variant:u})=>{const h=Math.random().toString(36).substring(2,9);n(m=>[...m,{id:h,message:o,description:l,variant:u}]),setTimeout(()=>{s(h)},5e3)},[s]);return d.jsxs(fT.Provider,{value:{toast:a,dismiss:s},children:[t,PS.createPortal(d.jsx("div",{className:"fixed bottom-0 right-0 z-[100] p-6 space-y-4 max-w-sm w-full pointer-events-none",children:e.map(o=>d.jsxs("div",{className:`
                                pointer-events-auto
                                flex gap-3 p-4 rounded-ds-lg shadow-2xl border
                                animate-in slide-in-from-right-full duration-300
                                ${FH(o.variant)}
                            `,children:[d.jsx("div",{className:"shrink-0 mt-0.5",children:HH(o.variant)}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-semibold text-sm",children:o.message}),o.description&&d.jsx("div",{className:"text-xs opacity-90 mt-1",children:o.description})]}),d.jsx("button",{onClick:()=>s(o.id),className:"shrink-0 -mt-1 -mr-1 p-1 rounded hover:bg-black/10 transition-colors",children:d.jsx(il,{className:"h-4 w-4"})})]},o.id))}),document.body)]})}function FH(t){switch(t){case"success":return"bg-surface2 border-good text-text";case"error":return"bg-bad text-white border-bad";case"warning":return"bg-warn text-black border-warn";case"info":return"bg-surface2 border-line text-text";default:return""}}function HH(t){switch(t){case"success":return d.jsx(QS,{className:"h-5 w-5 text-good"});case"error":return d.jsx(I5,{className:"h-5 w-5 text-white"});case"warning":return d.jsx(oh,{className:"h-5 w-5 text-black"});case"info":return d.jsx(Pg,{className:"h-5 w-5 text-accent"});default:return null}}function UH(){const[t,e]=N.useState(!1),[n,s]=N.useState(null);return N.useEffect(()=>{let a=!1,o=0;const l=async()=>{try{const[,h]=await Promise.all([we.status(),we.health()]);if(a)return;o=0,e(!1),s(h)}catch{if(a)return;o+=1,o>=3&&(e(!0),s(null))}};l();const u=window.setInterval(l,6e4);return()=>{a=!0,window.clearInterval(u)}},[]),d.jsx(lE,{children:d.jsx(VH,{children:d.jsxs(R5,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[d.jsx(oE,{}),d.jsxs("div",{className:"lg:pl-[96px]",children:[n&&!n.healthy&&d.jsx(BH,{health:n}),t&&!n&&d.jsx("div",{className:"bg-amber-900/80 border-b border-amber-500/60 text-amber-100 text-[11px] px-4 py-2 flex items-center justify-between",children:d.jsx("span",{children:"Backend appears offline or degraded. Some data may be stale or unavailable."})}),d.jsxs(N5,{children:[d.jsx(Fi,{path:"/",element:d.jsx(KB,{})}),d.jsx(Fi,{path:"/executor",element:d.jsx(NH,{})}),d.jsx(Fi,{path:"/aurora",element:d.jsx(jH,{})}),d.jsx(Fi,{path:"/debug",element:d.jsx(ZB,{})}),d.jsx(Fi,{path:"/settings",element:d.jsx(h9,{})}),d.jsx(Fi,{path:"/design-system",element:d.jsx(kH,{})}),d.jsx(Fi,{path:"/power-flow-lab",element:d.jsx(LH,{})}),d.jsx(Fi,{path:"/chart-examples",element:d.jsx(zH,{})})]})]})]})})})}LD.createRoot(document.getElementById("root")).render(d.jsx(RS.StrictMode,{children:d.jsx(UH,{})}))});export default YH();
