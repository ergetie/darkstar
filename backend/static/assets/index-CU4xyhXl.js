var v5=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var A7=v5((B7,Ud)=>{function _5(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function Ww(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var np={exports:{}},Ll={};var _1;function w5(){if(_1)return Ll;_1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(n,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:n,key:c,ref:a!==void 0?a:null,props:o}}return Ll.Fragment=e,Ll.jsx=s,Ll.jsxs=s,Ll}var w1;function S5(){return w1||(w1=1,np.exports=w5()),np.exports}var u=S5(),ip={exports:{}},Ae={};var S1;function j5(){if(S1)return Ae;S1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function M(R,H,ee){this.props=R,this.context=H,this.refs=j,this.updater=ee||w}M.prototype.isReactComponent={},M.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},M.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function T(){}T.prototype=M.prototype;function E(R,H,ee){this.props=R,this.context=H,this.refs=j,this.updater=ee||w}var O=E.prototype=new T;O.constructor=E,S(O,M.prototype),O.isPureReactComponent=!0;var L=Array.isArray;function C(){}var A={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function I(R,H,ee){var D=ee.ref;return{$$typeof:t,type:R,key:H,ref:D!==void 0?D:null,props:ee}}function K(R,H){return I(R.type,H,R.props)}function Z(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function oe(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ee){return H[ee]})}var De=/\/+/g;function xe(R,H){return typeof R=="object"&&R!==null&&R.key!=null?oe(""+R.key):H.toString(36)}function _e(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(C,C):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function F(R,H,ee,D,se){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var Ce=!1;if(R===null)Ce=!0;else switch(fe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(R.$$typeof){case t:case e:Ce=!0;break;case g:return Ce=R._init,F(Ce(R._payload),H,ee,D,se)}}if(Ce)return se=se(R),Ce=D===""?"."+xe(R,0):D,L(se)?(ee="",Ce!=null&&(ee=Ce.replace(De,"$&/")+"/"),F(se,H,ee,"",function(es){return es})):se!=null&&(Z(se)&&(se=K(se,ee+(se.key==null||R&&R.key===se.key?"":(""+se.key).replace(De,"$&/")+"/")+Ce)),H.push(se)),1;Ce=0;var ft=D===""?".":D+":";if(L(R))for(var Xe=0;Xe<R.length;Xe++)D=R[Xe],fe=ft+xe(D,Xe),Ce+=F(D,H,ee,fe,se);else if(Xe=v(R),typeof Xe=="function")for(R=Xe.call(R),Xe=0;!(D=R.next()).done;)D=D.value,fe=ft+xe(D,Xe++),Ce+=F(D,H,ee,fe,se);else if(fe==="object"){if(typeof R.then=="function")return F(_e(R),H,ee,D,se);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function G(R,H,ee){if(R==null)return R;var D=[],se=0;return F(R,D,"","",function(fe){return H.call(ee,fe,se++)}),D}function ae(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(ee){(R._status===0||R._status===-1)&&(R._status=1,R._result=ee)},function(ee){(R._status===0||R._status===-1)&&(R._status=2,R._result=ee)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var ne=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ce={map:G,forEach:function(R,H,ee){G(R,function(){H.apply(this,arguments)},ee)},count:function(R){var H=0;return G(R,function(){H++}),H},toArray:function(R){return G(R,function(H){return H})||[]},only:function(R){if(!Z(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ae.Activity=x,Ae.Children=ce,Ae.Component=M,Ae.Fragment=s,Ae.Profiler=a,Ae.PureComponent=E,Ae.StrictMode=n,Ae.Suspense=f,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(R){return A.H.useMemoCache(R)}},Ae.cache=function(R){return function(){return R.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(R,H,ee){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var D=S({},R.props),se=R.key;if(H!=null)for(fe in H.key!==void 0&&(se=""+H.key),H)!z.call(H,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&H.ref===void 0||(D[fe]=H[fe]);var fe=arguments.length-2;if(fe===1)D.children=ee;else if(1<fe){for(var Ce=Array(fe),ft=0;ft<fe;ft++)Ce[ft]=arguments[ft+2];D.children=Ce}return I(R.type,se,D)},Ae.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Ae.createElement=function(R,H,ee){var D,se={},fe=null;if(H!=null)for(D in H.key!==void 0&&(fe=""+H.key),H)z.call(H,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(se[D]=H[D]);var Ce=arguments.length-2;if(Ce===1)se.children=ee;else if(1<Ce){for(var ft=Array(Ce),Xe=0;Xe<Ce;Xe++)ft[Xe]=arguments[Xe+2];se.children=ft}if(R&&R.defaultProps)for(D in Ce=R.defaultProps,Ce)se[D]===void 0&&(se[D]=Ce[D]);return I(R,fe,se)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(R){return{$$typeof:d,render:R}},Ae.isValidElement=Z,Ae.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:ae}},Ae.memo=function(R,H){return{$$typeof:m,type:R,compare:H===void 0?null:H}},Ae.startTransition=function(R){var H=A.T,ee={};A.T=ee;try{var D=R(),se=A.S;se!==null&&se(ee,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(C,ne)}catch(fe){ne(fe)}finally{H!==null&&ee.types!==null&&(H.types=ee.types),A.T=H}},Ae.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ae.use=function(R){return A.H.use(R)},Ae.useActionState=function(R,H,ee){return A.H.useActionState(R,H,ee)},Ae.useCallback=function(R,H){return A.H.useCallback(R,H)},Ae.useContext=function(R){return A.H.useContext(R)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(R,H){return A.H.useDeferredValue(R,H)},Ae.useEffect=function(R,H){return A.H.useEffect(R,H)},Ae.useEffectEvent=function(R){return A.H.useEffectEvent(R)},Ae.useId=function(){return A.H.useId()},Ae.useImperativeHandle=function(R,H,ee){return A.H.useImperativeHandle(R,H,ee)},Ae.useInsertionEffect=function(R,H){return A.H.useInsertionEffect(R,H)},Ae.useLayoutEffect=function(R,H){return A.H.useLayoutEffect(R,H)},Ae.useMemo=function(R,H){return A.H.useMemo(R,H)},Ae.useOptimistic=function(R,H){return A.H.useOptimistic(R,H)},Ae.useReducer=function(R,H,ee){return A.H.useReducer(R,H,ee)},Ae.useRef=function(R){return A.H.useRef(R)},Ae.useState=function(R){return A.H.useState(R)},Ae.useSyncExternalStore=function(R,H,ee){return A.H.useSyncExternalStore(R,H,ee)},Ae.useTransition=function(){return A.H.useTransition()},Ae.version="19.2.3",Ae}var j1;function $g(){return j1||(j1=1,ip.exports=j5()),ip.exports}var N=$g();const Iw=Ww(N),N5=_5({__proto__:null,default:Iw},[N]);var ap={exports:{}},zl={},rp={exports:{}},op={};var N1;function k5(){return N1||(N1=1,(function(t){function e(F,G){var ae=F.length;F.push(G);e:for(;0<ae;){var ne=ae-1>>>1,ce=F[ne];if(0<a(ce,G))F[ne]=G,F[ae]=ce,ae=ne;else break e}}function s(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var G=F[0],ae=F.pop();if(ae!==G){F[0]=ae;e:for(var ne=0,ce=F.length,R=ce>>>1;ne<R;){var H=2*(ne+1)-1,ee=F[H],D=H+1,se=F[D];if(0>a(ee,ae))D<ce&&0>a(se,ee)?(F[ne]=se,F[D]=ae,ne=D):(F[ne]=ee,F[H]=ae,ne=H);else if(D<ce&&0>a(se,ae))F[ne]=se,F[D]=ae,ne=D;else break e}}return G}function a(F,G){var ae=F.sortIndex-G.sortIndex;return ae!==0?ae:F.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],g=1,x=null,b=3,v=!1,w=!1,S=!1,j=!1,M=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(F){for(var G=s(m);G!==null;){if(G.callback===null)n(m);else if(G.startTime<=F)n(m),G.sortIndex=G.expirationTime,e(f,G);else break;G=s(m)}}function L(F){if(S=!1,O(F),!w)if(s(f)!==null)w=!0,C||(C=!0,oe());else{var G=s(m);G!==null&&_e(L,G.startTime-F)}}var C=!1,A=-1,z=5,I=-1;function K(){return j?!0:!(t.unstable_now()-I<z)}function Z(){if(j=!1,C){var F=t.unstable_now();I=F;var G=!0;try{e:{w=!1,S&&(S=!1,T(A),A=-1),v=!0;var ae=b;try{t:{for(O(F),x=s(f);x!==null&&!(x.expirationTime>F&&K());){var ne=x.callback;if(typeof ne=="function"){x.callback=null,b=x.priorityLevel;var ce=ne(x.expirationTime<=F);if(F=t.unstable_now(),typeof ce=="function"){x.callback=ce,O(F),G=!0;break t}x===s(f)&&n(f),O(F)}else n(f);x=s(f)}if(x!==null)G=!0;else{var R=s(m);R!==null&&_e(L,R.startTime-F),G=!1}}break e}finally{x=null,b=ae,v=!1}G=void 0}}finally{G?oe():C=!1}}}var oe;if(typeof E=="function")oe=function(){E(Z)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,xe=De.port2;De.port1.onmessage=Z,oe=function(){xe.postMessage(null)}}else oe=function(){M(Z,0)};function _e(F,G){A=M(function(){F(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(F){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var ae=b;b=G;try{return F()}finally{b=ae}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ae=b;b=F;try{return G()}finally{b=ae}},t.unstable_scheduleCallback=function(F,G,ae){var ne=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ne+ae:ne):ae=ne,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ae+ce,F={id:g++,callback:G,priorityLevel:F,startTime:ae,expirationTime:ce,sortIndex:-1},ae>ne?(F.sortIndex=ae,e(m,F),s(f)===null&&F===s(m)&&(S?(T(A),A=-1):S=!0,_e(L,ae-ne))):(F.sortIndex=ce,e(f,F),w||v||(w=!0,C||(C=!0,oe()))),F},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(F){var G=b;return function(){var ae=b;b=G;try{return F.apply(this,arguments)}finally{b=ae}}}})(op)),op}var k1;function M5(){return k1||(k1=1,rp.exports=k5()),rp.exports}var lp={exports:{}},hs={};var M1;function T5(){if(M1)return hs;M1=1;var t=$g();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,hs.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,g)},hs.flushSync=function(f){var m=c.T,g=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=g,n.d.f()}},hs.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},hs.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},hs.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:v}):g==="script"&&n.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hs.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},hs.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin);n.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hs.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},hs.requestFormReset=function(f){n.d.r(f)},hs.unstable_batchedUpdates=function(f,m){return f(m)},hs.useFormState=function(f,m,g){return c.H.useFormState(f,m,g)},hs.useFormStatus=function(){return c.H.useHostTransitionStatus()},hs.version="19.2.3",hs}var T1;function qw(){if(T1)return lp.exports;T1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lp.exports=T5(),lp.exports}var D1;function D5(){if(D1)return zl;D1=1;var t=M5(),e=$g(),s=qw();function n(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(n(188))}function m(i){var r=i.alternate;if(!r){if(r=o(i),r===null)throw Error(n(188));return r!==i?null:i}for(var l=i,h=r;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return f(p),i;if(y===h)return f(p),r;y=y.sibling}throw Error(n(188))}if(l.return!==h.return)l=p,h=y;else{for(var _=!1,k=p.child;k;){if(k===l){_=!0,l=p,h=y;break}if(k===h){_=!0,h=p,l=y;break}k=k.sibling}if(!_){for(k=y.child;k;){if(k===l){_=!0,l=y,h=p;break}if(k===h){_=!0,h=y,l=p;break}k=k.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var De=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===De?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case M:return"Profiler";case j:return"StrictMode";case L:return"Suspense";case C:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case E:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case O:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return r=i.displayName||null,r!==null?r:xe(i.type)||"Memo";case z:r=i._payload,i=i._init;try{return xe(i(r))}catch{}}return null}var _e=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function R(i){return{current:i}}function H(i){0>ce||(i.current=ne[ce],ne[ce]=null,ce--)}function ee(i,r){ce++,ne[ce]=i.current,i.current=r}var D=R(null),se=R(null),fe=R(null),Ce=R(null);function ft(i,r){switch(ee(fe,r),ee(se,i),ee(D,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Wv(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Wv(r),i=Iv(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(D),ee(D,i)}function Xe(){H(D),H(se),H(fe)}function es(i){i.memoizedState!==null&&ee(Ce,i);var r=D.current,l=Iv(r,i.type);r!==l&&(ee(se,i),ee(D,l))}function rs(i){se.current===i&&(H(D),H(se)),Ce.current===i&&(H(Ce),Al._currentValue=ae)}var me,st;function mt(i){if(me===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);me=r&&r[1]||"",st=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+i+st}var $s=!1;function gn(i,r){if(!i||$s)return"";$s=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(q){var W=q}Reflect.construct(i,[],te)}else{try{te.call()}catch(q){W=q}i.call(te.prototype)}}else{try{throw Error()}catch(q){W=q}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(q){if(q&&W&&typeof q.stack=="string")return[q.stack,W.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),_=y[0],k=y[1];if(_&&k){var P=_.split(`
`),Y=k.split(`
`);for(p=h=0;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(h===P.length||p===Y.length)for(h=P.length-1,p=Y.length-1;1<=h&&0<=p&&P[h]!==Y[p];)p--;for(;1<=h&&0<=p;h--,p--)if(P[h]!==Y[p]){if(h!==1||p!==1)do if(h--,p--,0>p||P[h]!==Y[p]){var X=`
`+P[h].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=h&&0<=p);break}}}finally{$s=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?mt(l):""}function qe(i,r){switch(i.tag){case 26:case 27:case 5:return mt(i.type);case 16:return mt("Lazy");case 13:return i.child!==r&&r!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return gn(i.type,!1);case 11:return gn(i.type.render,!1);case 1:return gn(i.type,!0);case 31:return mt("Activity");default:return""}}function $t(i){try{var r="",l=null;do r+=qe(i,l),l=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Tn=Object.prototype.hasOwnProperty,Gn=t.unstable_scheduleCallback,Bi=t.unstable_cancelCallback,vs=t.unstable_shouldYield,Ra=t.unstable_requestPaint,Ft=t.unstable_now,Vi=t.unstable_getCurrentPriorityLevel,La=t.unstable_ImmediatePriority,zs=t.unstable_UserBlockingPriority,$n=t.unstable_NormalPriority,Xn=t.unstable_LowPriority,js=t.unstable_IdlePriority,Fi=t.log,jr=t.unstable_setDisableYieldValue,Xs=null,Xt=null;function Ht(i){if(typeof Fi=="function"&&jr(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Xs,i)}catch{}}var Ot=Math.clz32?Math.clz32:pe,Dn=Math.log,za=Math.LN2;function pe(i){return i>>>=0,i===0?32:31-(Dn(i)/za|0)|0}var Be=256,pt=262144,Rt=4194304;function _s(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ts(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var p=0,y=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var k=h&134217727;return k!==0?(h=k&~y,h!==0?p=_s(h):(_&=k,_!==0?p=_s(_):l||(l=k&~i,l!==0&&(p=_s(l))))):(k=h&~y,k!==0?p=_s(k):_!==0?p=_s(_):l||(l=h&~i,l!==0&&(p=_s(l)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,l=r&-r,y>=l||y===32&&(l&4194048)!==0)?r:p}function Ns(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ws(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var i=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),i}function Kn(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Cn(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function je(i,r,l,h,p,y){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var k=i.entanglements,P=i.expirationTimes,Y=i.hiddenUpdates;for(l=_&~l;0<l;){var X=31-Ot(l),te=1<<X;k[X]=0,P[X]=-1;var W=Y[X];if(W!==null)for(Y[X]=null,X=0;X<W.length;X++){var q=W[X];q!==null&&(q.lane&=-536870913)}l&=~te}h!==0&&ks(i,h,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(_&~r))}function ks(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Ot(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function ss(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Ot(l),p=1<<h;p&r|i[h]&r&&(i[h]|=r),l&=~p}}function An(i,r){var l=r&-r;return l=(l&42)!==0?1:$(l),(l&(i.suspendedLanes|r))!==0?0:l}function $(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function J(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ue(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:m1(i.type))}function be(i,r){var l=G.p;try{return G.p=i,r()}finally{G.p=l}}var ie=Math.random().toString(36).slice(2),de="__reactFiber$"+ie,it="__reactProps$"+ie,Ge="__reactContainer$"+ie,Ut="__reactEvents$"+ie,Kt="__reactListeners$"+ie,Hi="__reactHandles$"+ie,Io="__reactResources$"+ie,qo="__reactMarker$"+ie;function $h(i){delete i[de],delete i[it],delete i[Ut],delete i[Kt],delete i[Hi]}function Nr(i){var r=i[de];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Ge]||l[de]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Qv(i);i!==null;){if(l=i[de])return l;i=Qv(i)}return r}i=l,l=i.parentNode}return null}function kr(i){if(i=i[de]||i[Ge]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Go(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(n(33))}function Mr(i){var r=i[Io];return r||(r=i[Io]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ns(i){i[qo]=!0}var E0=new Set,O0={};function Pa(i,r){Tr(i,r),Tr(i+"Capture",r)}function Tr(i,r){for(O0[i]=r,i=0;i<r.length;i++)E0.add(r[i])}var dM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),R0={},L0={};function hM(i){return Tn.call(L0,i)?!0:Tn.call(R0,i)?!1:dM.test(i)?L0[i]=!0:(R0[i]=!0,!1)}function $c(i,r,l){if(hM(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function Xc(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Zn(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}function Zs(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function z0(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fM(i,r,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,y=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xh(i){if(!i._valueTracker){var r=z0(i)?"checked":"value";i._valueTracker=fM(i,r,""+i[r])}}function P0(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=z0(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Kc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var mM=/[\n"\\]/g;function Qs(i){return i.replace(mM,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Kh(i,r,l,h,p,y,_,k){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Zs(r)):i.value!==""+Zs(r)&&(i.value=""+Zs(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Zh(i,_,Zs(r)):l!=null?Zh(i,_,Zs(l)):h!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+Zs(k):i.removeAttribute("name")}function B0(i,r,l,h,p,y,_,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Xh(i);return}l=l!=null?""+Zs(l):"",r=r!=null?""+Zs(r):l,k||r===i.value||(i.value=r),i.defaultValue=r}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=k?i.checked:!!h,i.defaultChecked=!!h,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Xh(i)}function Zh(i,r,l){r==="number"&&Kc(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Dr(i,r,l,h){if(i=i.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=r.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Zs(l),r=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function V0(i,r,l){if(r!=null&&(r=""+Zs(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+Zs(l):""}function F0(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(n(92));if(_e(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=Zs(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Xh(i)}function Cr(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var pM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function H0(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||pM.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function U0(i,r,l){if(r!=null&&typeof r!="object")throw Error(n(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in r)h=r[p],r.hasOwnProperty(p)&&l[p]!==h&&H0(i,p,h)}else for(var y in r)r.hasOwnProperty(y)&&H0(i,y,r[y])}function Qh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(i){return xM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Qn(){}var Jh=null;function ef(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ar=null,Er=null;function Y0(i){var r=kr(i);if(r&&(i=r.stateNode)){var l=i[it]||null;e:switch(i=r.stateNode,r.type){case"input":if(Kh(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qs(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var p=h[it]||null;if(!p)throw Error(n(90));Kh(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&P0(h)}break e;case"textarea":V0(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Dr(i,!!l.multiple,r,!1)}}}var tf=!1;function W0(i,r,l){if(tf)return i(r,l);tf=!0;try{var h=i(r);return h}finally{if(tf=!1,(Ar!==null||Er!==null)&&(Bu(),Ar&&(r=Ar,i=Er,Er=Ar=null,Y0(r),i)))for(r=0;r<i.length;r++)Y0(i[r])}}function $o(i,r){var l=i.stateNode;if(l===null)return null;var h=l[it]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,r,typeof l));return l}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sf=!1;if(Jn)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){sf=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{sf=!1}var Ui=null,nf=null,Qc=null;function I0(){if(Qc)return Qc;var i,r=nf,l=r.length,h,p="value"in Ui?Ui.value:Ui.textContent,y=p.length;for(i=0;i<l&&r[i]===p[i];i++);var _=l-i;for(h=1;h<=_&&r[l-h]===p[y-h];h++);return Qc=p.slice(i,1<h?1-h:void 0)}function Jc(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function eu(){return!0}function q0(){return!1}function Ms(i){function r(l,h,p,y,_){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?eu:q0,this.isPropagationStopped=q0,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=eu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=eu)},persist:function(){},isPersistent:eu}),r}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=Ms(Ba),Ko=x({},Ba,{view:0,detail:0}),yM=Ms(Ko),af,rf,Zo,su=x({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zo&&(Zo&&i.type==="mousemove"?(af=i.screenX-Zo.screenX,rf=i.screenY-Zo.screenY):rf=af=0,Zo=i),af)},movementY:function(i){return"movementY"in i?i.movementY:rf}}),G0=Ms(su),bM=x({},su,{dataTransfer:0}),vM=Ms(bM),_M=x({},Ko,{relatedTarget:0}),of=Ms(_M),wM=x({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),SM=Ms(wM),jM=x({},Ba,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),NM=Ms(jM),kM=x({},Ba,{data:0}),$0=Ms(kM),MM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CM(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=DM[i])?!!r[i]:!1}function lf(){return CM}var AM=x({},Ko,{key:function(i){if(i.key){var r=MM[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Jc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?TM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(i){return i.type==="keypress"?Jc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),EM=Ms(AM),OM=x({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=Ms(OM),RM=x({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),LM=Ms(RM),zM=x({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),PM=Ms(zM),BM=x({},su,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),VM=Ms(BM),FM=x({},Ba,{newState:0,oldState:0}),HM=Ms(FM),UM=[9,13,27,32],cf=Jn&&"CompositionEvent"in window,Qo=null;Jn&&"documentMode"in document&&(Qo=document.documentMode);var YM=Jn&&"TextEvent"in window&&!Qo,K0=Jn&&(!cf||Qo&&8<Qo&&11>=Qo),Z0=" ",Q0=!1;function J0(i,r){switch(i){case"keyup":return UM.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Or=!1;function WM(i,r){switch(i){case"compositionend":return ey(r);case"keypress":return r.which!==32?null:(Q0=!0,Z0);case"textInput":return i=r.data,i===Z0&&Q0?null:i;default:return null}}function IM(i,r){if(Or)return i==="compositionend"||!cf&&J0(i,r)?(i=I0(),Qc=nf=Ui=null,Or=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return K0&&r.locale!=="ko"?null:r.data;default:return null}}var qM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!qM[i.type]:r==="textarea"}function sy(i,r,l,h){Ar?Er?Er.push(h):Er=[h]:Ar=h,r=Iu(r,"onChange"),0<r.length&&(l=new tu("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Jo=null,el=null;function GM(i){Bv(i,0)}function nu(i){var r=Go(i);if(P0(r))return i}function ny(i,r){if(i==="change")return r}var iy=!1;if(Jn){var uf;if(Jn){var df="oninput"in document;if(!df){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),df=typeof ay.oninput=="function"}uf=df}else uf=!1;iy=uf&&(!document.documentMode||9<document.documentMode)}function ry(){Jo&&(Jo.detachEvent("onpropertychange",oy),el=Jo=null)}function oy(i){if(i.propertyName==="value"&&nu(el)){var r=[];sy(r,el,i,ef(i)),W0(GM,r)}}function $M(i,r,l){i==="focusin"?(ry(),Jo=r,el=l,Jo.attachEvent("onpropertychange",oy)):i==="focusout"&&ry()}function XM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nu(el)}function KM(i,r){if(i==="click")return nu(r)}function ZM(i,r){if(i==="input"||i==="change")return nu(r)}function QM(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ps=typeof Object.is=="function"?Object.is:QM;function tl(i,r){if(Ps(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Tn.call(r,p)||!Ps(i[p],r[p]))return!1}return!0}function ly(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cy(i,r){var l=ly(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ly(l)}}function uy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?uy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function dy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Kc(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Kc(i.document)}return r}function hf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var JM=Jn&&"documentMode"in document&&11>=document.documentMode,Rr=null,ff=null,sl=null,mf=!1;function hy(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mf||Rr==null||Rr!==Kc(h)||(h=Rr,"selectionStart"in h&&hf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),sl&&tl(sl,h)||(sl=h,h=Iu(ff,"onSelect"),0<h.length&&(r=new tu("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=Rr)))}function Va(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Lr={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},pf={},fy={};Jn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Fa(i){if(pf[i])return pf[i];if(!Lr[i])return i;var r=Lr[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in fy)return pf[i]=r[l];return i}var my=Fa("animationend"),py=Fa("animationiteration"),gy=Fa("animationstart"),eT=Fa("transitionrun"),tT=Fa("transitionstart"),sT=Fa("transitioncancel"),xy=Fa("transitionend"),yy=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function xn(i,r){yy.set(i,r),Pa(r,[i])}var iu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Js=[],zr=0,xf=0;function au(){for(var i=zr,r=xf=zr=0;r<i;){var l=Js[r];Js[r++]=null;var h=Js[r];Js[r++]=null;var p=Js[r];Js[r++]=null;var y=Js[r];if(Js[r++]=null,h!==null&&p!==null){var _=h.pending;_===null?p.next=p:(p.next=_.next,_.next=p),h.pending=p}y!==0&&by(l,p,y)}}function ru(i,r,l,h){Js[zr++]=i,Js[zr++]=r,Js[zr++]=l,Js[zr++]=h,xf|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function yf(i,r,l,h){return ru(i,r,l,h),ou(i)}function Ha(i,r){return ru(i,null,null,r),ou(i)}function by(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,y=i.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&r!==null&&(p=31-Ot(l),i=y.hiddenUpdates,h=i[p],h===null?i[p]=[r]:h.push(r),r.lane=l|536870912),y):null}function ou(i){if(50<jl)throw jl=0,Mm=null,Error(n(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Pr={};function nT(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(i,r,l,h){return new nT(i,r,l,h)}function bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ei(i,r){var l=i.alternate;return l===null?(l=Bs(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function vy(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function lu(i,r,l,h,p,y){var _=0;if(h=i,typeof i=="function")bf(i)&&(_=1);else if(typeof i=="string")_=l5(i,l,D.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Bs(31,l,r,p),i.elementType=I,i.lanes=y,i;case S:return Ua(l.children,p,y,r);case j:_=8,p|=24;break;case M:return i=Bs(12,l,r,p|2),i.elementType=M,i.lanes=y,i;case L:return i=Bs(13,l,r,p),i.elementType=L,i.lanes=y,i;case C:return i=Bs(19,l,r,p),i.elementType=C,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:_=10;break e;case T:_=9;break e;case O:_=11;break e;case A:_=14;break e;case z:_=16,h=null;break e}_=29,l=Error(n(130,i===null?"null":typeof i,"")),h=null}return r=Bs(_,l,r,p),r.elementType=i,r.type=h,r.lanes=y,r}function Ua(i,r,l,h){return i=Bs(7,i,h,r),i.lanes=l,i}function vf(i,r,l){return i=Bs(6,i,null,r),i.lanes=l,i}function _y(i){var r=Bs(18,null,null,0);return r.stateNode=i,r}function _f(i,r,l){return r=Bs(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var wy=new WeakMap;function en(i,r){if(typeof i=="object"&&i!==null){var l=wy.get(i);return l!==void 0?l:(r={value:i,source:r,stack:$t(r)},wy.set(i,r),r)}return{value:i,source:r,stack:$t(r)}}var Br=[],Vr=0,cu=null,nl=0,tn=[],sn=0,Yi=null,En=1,On="";function ti(i,r){Br[Vr++]=nl,Br[Vr++]=cu,cu=i,nl=r}function Sy(i,r,l){tn[sn++]=En,tn[sn++]=On,tn[sn++]=Yi,Yi=i;var h=En;i=On;var p=32-Ot(h)-1;h&=~(1<<p),l+=1;var y=32-Ot(r)+p;if(30<y){var _=p-p%5;y=(h&(1<<_)-1).toString(32),h>>=_,p-=_,En=1<<32-Ot(r)+p|l<<p|h,On=y+i}else En=1<<y|l<<p|h,On=i}function wf(i){i.return!==null&&(ti(i,1),Sy(i,1,0))}function Sf(i){for(;i===cu;)cu=Br[--Vr],Br[Vr]=null,nl=Br[--Vr],Br[Vr]=null;for(;i===Yi;)Yi=tn[--sn],tn[sn]=null,On=tn[--sn],tn[sn]=null,En=tn[--sn],tn[sn]=null}function jy(i,r){tn[sn++]=En,tn[sn++]=On,tn[sn++]=Yi,En=r.id,On=r.overflow,Yi=i}var os=null,xt=null,$e=!1,Wi=null,nn=!1,jf=Error(n(519));function Ii(i){var r=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(en(r,i)),jf}function Ny(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[de]=i,r[it]=h,l){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(l=0;l<kl.length;l++)Fe(kl[l],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),B0(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),F0(r,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||Uv(r.textContent,l)?(h.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),h.onScroll!=null&&Fe("scroll",r),h.onScrollEnd!=null&&Fe("scrollend",r),h.onClick!=null&&(r.onclick=Qn),r=!0):r=!1,r||Ii(i,!0)}function ky(i){for(os=i.return;os;)switch(os.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:os=os.return}}function Fr(i){if(i!==os)return!1;if(!$e)return ky(i),$e=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Um(i.type,i.memoizedProps)),l=!l),l&&xt&&Ii(i),ky(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));xt=Zv(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));xt=Zv(i)}else r===27?(r=xt,aa(i.type)?(i=Gm,Gm=null,xt=i):xt=r):xt=os?rn(i.stateNode.nextSibling):null;return!0}function Ya(){xt=os=null,$e=!1}function Nf(){var i=Wi;return i!==null&&(As===null?As=i:As.push.apply(As,i),Wi=null),i}function il(i){Wi===null?Wi=[i]:Wi.push(i)}var kf=R(null),Wa=null,si=null;function qi(i,r,l){ee(kf,r._currentValue),r._currentValue=l}function ni(i){i._currentValue=kf.current,H(kf)}function Mf(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function Tf(i,r,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=p;for(var P=0;P<r.length;P++)if(k.context===r[P]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),Mf(y.return,l,i),h||(_=null);break e}y=k.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),Mf(_,l,i),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Hr(i,r,l,h){i=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var k=p.type;Ps(p.pendingProps.value,_.value)||(i!==null?i.push(k):i=[k])}}else if(p===Ce.current){if(_=p.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Al):i=[Al])}p=p.return}i!==null&&Tf(r,i,l,h),r.flags|=262144}function uu(i){for(i=i.firstContext;i!==null;){if(!Ps(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ia(i){Wa=i,si=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ls(i){return My(Wa,i)}function du(i,r){return Wa===null&&Ia(i),My(i,r)}function My(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},si===null){if(i===null)throw Error(n(308));si=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else si=si.next=r;return l}var iT=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},aT=t.unstable_scheduleCallback,rT=t.unstable_NormalPriority,Yt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new iT,data:new Map,refCount:0}}function al(i){i.refCount--,i.refCount===0&&aT(rT,function(){i.controller.abort()})}var rl=null,Cf=0,Ur=0,Yr=null;function oT(i,r){if(rl===null){var l=rl=[];Cf=0,Ur=Om(),Yr={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Cf++,r.then(Ty,Ty),r}function Ty(){if(--Cf===0&&rl!==null){Yr!==null&&(Yr.status="fulfilled");var i=rl;rl=null,Ur=0,Yr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function lT(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var Dy=F.S;F.S=function(i,r){hv=Ft(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&oT(i,r),Dy!==null&&Dy(i,r)};var qa=R(null);function Af(){var i=qa.current;return i!==null?i:ht.pooledCache}function hu(i,r){r===null?ee(qa,qa.current):ee(qa,r.pool)}function Cy(){var i=Af();return i===null?null:{parent:Yt._currentValue,pool:i}}var Wr=Error(n(460)),Ef=Error(n(474)),fu=Error(n(542)),mu={then:function(){}};function Ay(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ey(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Qn,Qn),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ry(i),i;default:if(typeof r.status=="string")r.then(Qn,Qn);else{if(i=ht,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=h}},function(h){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ry(i),i}throw $a=r,Wr}}function Ga(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($a=l,Wr):l}}var $a=null;function Oy(){if($a===null)throw Error(n(459));var i=$a;return $a=null,i}function Ry(i){if(i===Wr||i===fu)throw Error(n(483))}var Ir=null,ol=0;function pu(i){var r=ol;return ol+=1,Ir===null&&(Ir=[]),Ey(Ir,i,r)}function ll(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function gu(i,r){throw r.$$typeof===b?Error(n(525)):(i=Object.prototype.toString.call(r),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ly(i){function r(V,B){if(i){var U=V.deletions;U===null?(V.deletions=[B],V.flags|=16):U.push(B)}}function l(V,B){if(!i)return null;for(;B!==null;)r(V,B),B=B.sibling;return null}function h(V){for(var B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function p(V,B){return V=ei(V,B),V.index=0,V.sibling=null,V}function y(V,B,U){return V.index=U,i?(U=V.alternate,U!==null?(U=U.index,U<B?(V.flags|=67108866,B):U):(V.flags|=67108866,B)):(V.flags|=1048576,B)}function _(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function k(V,B,U,Q){return B===null||B.tag!==6?(B=vf(U,V.mode,Q),B.return=V,B):(B=p(B,U),B.return=V,B)}function P(V,B,U,Q){var we=U.type;return we===S?X(V,B,U.props.children,Q,U.key):B!==null&&(B.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===z&&Ga(we)===B.type)?(B=p(B,U.props),ll(B,U),B.return=V,B):(B=lu(U.type,U.key,U.props,null,V.mode,Q),ll(B,U),B.return=V,B)}function Y(V,B,U,Q){return B===null||B.tag!==4||B.stateNode.containerInfo!==U.containerInfo||B.stateNode.implementation!==U.implementation?(B=_f(U,V.mode,Q),B.return=V,B):(B=p(B,U.children||[]),B.return=V,B)}function X(V,B,U,Q,we){return B===null||B.tag!==7?(B=Ua(U,V.mode,Q,we),B.return=V,B):(B=p(B,U),B.return=V,B)}function te(V,B,U){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=vf(""+B,V.mode,U),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return U=lu(B.type,B.key,B.props,null,V.mode,U),ll(U,B),U.return=V,U;case w:return B=_f(B,V.mode,U),B.return=V,B;case z:return B=Ga(B),te(V,B,U)}if(_e(B)||oe(B))return B=Ua(B,V.mode,U,null),B.return=V,B;if(typeof B.then=="function")return te(V,pu(B),U);if(B.$$typeof===E)return te(V,du(V,B),U);gu(V,B)}return null}function W(V,B,U,Q){var we=B!==null?B.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return we!==null?null:k(V,B,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===we?P(V,B,U,Q):null;case w:return U.key===we?Y(V,B,U,Q):null;case z:return U=Ga(U),W(V,B,U,Q)}if(_e(U)||oe(U))return we!==null?null:X(V,B,U,Q,null);if(typeof U.then=="function")return W(V,B,pu(U),Q);if(U.$$typeof===E)return W(V,B,du(V,U),Q);gu(V,U)}return null}function q(V,B,U,Q,we){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(U)||null,k(B,V,""+Q,we);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return V=V.get(Q.key===null?U:Q.key)||null,P(B,V,Q,we);case w:return V=V.get(Q.key===null?U:Q.key)||null,Y(B,V,Q,we);case z:return Q=Ga(Q),q(V,B,U,Q,we)}if(_e(Q)||oe(Q))return V=V.get(U)||null,X(B,V,Q,we,null);if(typeof Q.then=="function")return q(V,B,U,pu(Q),we);if(Q.$$typeof===E)return q(V,B,U,du(B,Q),we);gu(B,Q)}return null}function ye(V,B,U,Q){for(var we=null,Ze=null,ve=B,Le=B=0,Ye=null;ve!==null&&Le<U.length;Le++){ve.index>Le?(Ye=ve,ve=null):Ye=ve.sibling;var Qe=W(V,ve,U[Le],Q);if(Qe===null){ve===null&&(ve=Ye);break}i&&ve&&Qe.alternate===null&&r(V,ve),B=y(Qe,B,Le),Ze===null?we=Qe:Ze.sibling=Qe,Ze=Qe,ve=Ye}if(Le===U.length)return l(V,ve),$e&&ti(V,Le),we;if(ve===null){for(;Le<U.length;Le++)ve=te(V,U[Le],Q),ve!==null&&(B=y(ve,B,Le),Ze===null?we=ve:Ze.sibling=ve,Ze=ve);return $e&&ti(V,Le),we}for(ve=h(ve);Le<U.length;Le++)Ye=q(ve,V,Le,U[Le],Q),Ye!==null&&(i&&Ye.alternate!==null&&ve.delete(Ye.key===null?Le:Ye.key),B=y(Ye,B,Le),Ze===null?we=Ye:Ze.sibling=Ye,Ze=Ye);return i&&ve.forEach(function(ua){return r(V,ua)}),$e&&ti(V,Le),we}function Ne(V,B,U,Q){if(U==null)throw Error(n(151));for(var we=null,Ze=null,ve=B,Le=B=0,Ye=null,Qe=U.next();ve!==null&&!Qe.done;Le++,Qe=U.next()){ve.index>Le?(Ye=ve,ve=null):Ye=ve.sibling;var ua=W(V,ve,Qe.value,Q);if(ua===null){ve===null&&(ve=Ye);break}i&&ve&&ua.alternate===null&&r(V,ve),B=y(ua,B,Le),Ze===null?we=ua:Ze.sibling=ua,Ze=ua,ve=Ye}if(Qe.done)return l(V,ve),$e&&ti(V,Le),we;if(ve===null){for(;!Qe.done;Le++,Qe=U.next())Qe=te(V,Qe.value,Q),Qe!==null&&(B=y(Qe,B,Le),Ze===null?we=Qe:Ze.sibling=Qe,Ze=Qe);return $e&&ti(V,Le),we}for(ve=h(ve);!Qe.done;Le++,Qe=U.next())Qe=q(ve,V,Le,Qe.value,Q),Qe!==null&&(i&&Qe.alternate!==null&&ve.delete(Qe.key===null?Le:Qe.key),B=y(Qe,B,Le),Ze===null?we=Qe:Ze.sibling=Qe,Ze=Qe);return i&&ve.forEach(function(b5){return r(V,b5)}),$e&&ti(V,Le),we}function ut(V,B,U,Q){if(typeof U=="object"&&U!==null&&U.type===S&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:e:{for(var we=U.key;B!==null;){if(B.key===we){if(we=U.type,we===S){if(B.tag===7){l(V,B.sibling),Q=p(B,U.props.children),Q.return=V,V=Q;break e}}else if(B.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===z&&Ga(we)===B.type){l(V,B.sibling),Q=p(B,U.props),ll(Q,U),Q.return=V,V=Q;break e}l(V,B);break}else r(V,B);B=B.sibling}U.type===S?(Q=Ua(U.props.children,V.mode,Q,U.key),Q.return=V,V=Q):(Q=lu(U.type,U.key,U.props,null,V.mode,Q),ll(Q,U),Q.return=V,V=Q)}return _(V);case w:e:{for(we=U.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===U.containerInfo&&B.stateNode.implementation===U.implementation){l(V,B.sibling),Q=p(B,U.children||[]),Q.return=V,V=Q;break e}else{l(V,B);break}else r(V,B);B=B.sibling}Q=_f(U,V.mode,Q),Q.return=V,V=Q}return _(V);case z:return U=Ga(U),ut(V,B,U,Q)}if(_e(U))return ye(V,B,U,Q);if(oe(U)){if(we=oe(U),typeof we!="function")throw Error(n(150));return U=we.call(U),Ne(V,B,U,Q)}if(typeof U.then=="function")return ut(V,B,pu(U),Q);if(U.$$typeof===E)return ut(V,B,du(V,U),Q);gu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,B!==null&&B.tag===6?(l(V,B.sibling),Q=p(B,U),Q.return=V,V=Q):(l(V,B),Q=vf(U,V.mode,Q),Q.return=V,V=Q),_(V)):l(V,B)}return function(V,B,U,Q){try{ol=0;var we=ut(V,B,U,Q);return Ir=null,we}catch(ve){if(ve===Wr||ve===fu)throw ve;var Ze=Bs(29,ve,null,V.mode);return Ze.lanes=Q,Ze.return=V,Ze}}}var Xa=Ly(!0),zy=Ly(!1),Gi=!1;function Of(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $i(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xi(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(nt&2)!==0){var p=h.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),h.pending=r,r=ou(i),by(i,null,l),r}return ru(i,h,r,l),ou(i)}function cl(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,ss(i,l)}}function Lf(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=r:y=y.next=r}else p=y=r;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var zf=!1;function ul(){if(zf){var i=Yr;if(i!==null)throw i}}function dl(i,r,l,h){zf=!1;var p=i.updateQueue;Gi=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var P=k,Y=P.next;P.next=null,_===null?y=Y:_.next=Y,_=P;var X=i.alternate;X!==null&&(X=X.updateQueue,k=X.lastBaseUpdate,k!==_&&(k===null?X.firstBaseUpdate=Y:k.next=Y,X.lastBaseUpdate=P))}if(y!==null){var te=p.baseState;_=0,X=Y=P=null,k=y;do{var W=k.lane&-536870913,q=W!==k.lane;if(q?(Ue&W)===W:(h&W)===W){W!==0&&W===Ur&&(zf=!0),X!==null&&(X=X.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ye=i,Ne=k;W=r;var ut=l;switch(Ne.tag){case 1:if(ye=Ne.payload,typeof ye=="function"){te=ye.call(ut,te,W);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ne.payload,W=typeof ye=="function"?ye.call(ut,te,W):ye,W==null)break e;te=x({},te,W);break e;case 2:Gi=!0}}W=k.callback,W!==null&&(i.flags|=64,q&&(i.flags|=8192),q=p.callbacks,q===null?p.callbacks=[W]:q.push(W))}else q={lane:W,tag:k.tag,payload:k.payload,callback:k.callback,next:null},X===null?(Y=X=q,P=te):X=X.next=q,_|=W;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;q=k,k=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);X===null&&(P=te),p.baseState=P,p.firstBaseUpdate=Y,p.lastBaseUpdate=X,y===null&&(p.shared.lanes=0),ea|=_,i.lanes=_,i.memoizedState=te}}function Py(i,r){if(typeof i!="function")throw Error(n(191,i));i.call(r)}function By(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Py(l[i],r)}var qr=R(null),xu=R(0);function Vy(i,r){i=hi,ee(xu,i),ee(qr,r),hi=i|r.baseLanes}function Pf(){ee(xu,hi),ee(qr,qr.current)}function Bf(){hi=xu.current,H(qr),H(xu)}var Vs=R(null),an=null;function Ki(i){var r=i.alternate;ee(Lt,Lt.current&1),ee(Vs,i),an===null&&(r===null||qr.current!==null||r.memoizedState!==null)&&(an=i)}function Vf(i){ee(Lt,Lt.current),ee(Vs,i),an===null&&(an=i)}function Fy(i){i.tag===22?(ee(Lt,Lt.current),ee(Vs,i),an===null&&(an=i)):Zi()}function Zi(){ee(Lt,Lt.current),ee(Vs,Vs.current)}function Fs(i){H(Vs),an===i&&(an=null),H(Lt)}var Lt=R(0);function yu(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Im(l)||qm(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ii=0,Re=null,lt=null,Wt=null,bu=!1,Gr=!1,Ka=!1,vu=0,hl=0,$r=null,cT=0;function Tt(){throw Error(n(321))}function Ff(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Ps(i[l],r[l]))return!1;return!0}function Hf(i,r,l,h,p,y){return ii=y,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=i===null||i.memoizedState===null?Sb:sm,Ka=!1,y=l(h,p),Ka=!1,Gr&&(y=Uy(r,l,h,p)),Hy(i),y}function Hy(i){F.H=pl;var r=lt!==null&&lt.next!==null;if(ii=0,Wt=lt=Re=null,bu=!1,hl=0,$r=null,r)throw Error(n(300));i===null||It||(i=i.dependencies,i!==null&&uu(i)&&(It=!0))}function Uy(i,r,l,h){Re=i;var p=0;do{if(Gr&&($r=null),hl=0,Gr=!1,25<=p)throw Error(n(301));if(p+=1,Wt=lt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=jb,y=r(l,h)}while(Gr);return y}function uT(){var i=F.H,r=i.useState()[0];return r=typeof r.then=="function"?fl(r):r,i=i.useState()[0],(lt!==null?lt.memoizedState:null)!==i&&(Re.flags|=1024),r}function Uf(){var i=vu!==0;return vu=0,i}function Yf(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Wf(i){if(bu){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}bu=!1}ii=0,Wt=lt=Re=null,Gr=!1,hl=vu=0,$r=null}function Ss(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Re.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function zt(){if(lt===null){var i=Re.alternate;i=i!==null?i.memoizedState:null}else i=lt.next;var r=Wt===null?Re.memoizedState:Wt.next;if(r!==null)Wt=r,lt=i;else{if(i===null)throw Re.alternate===null?Error(n(467)):Error(n(310));lt=i,i={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Wt===null?Re.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(i){var r=hl;return hl+=1,$r===null&&($r=[]),i=Ey($r,i,r),r=Re,(Wt===null?r.memoizedState:Wt.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?Sb:sm),i}function wu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return fl(i);if(i.$$typeof===E)return ls(i)}throw Error(n(438,String(i)))}function If(i){var r=null,l=Re.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Re.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=_u(),Re.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=K;return r.index++,l}function ai(i,r){return typeof r=="function"?r(i):r}function Su(i){var r=zt();return qf(r,lt,i)}function qf(i,r,l){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var p=i.baseQueue,y=h.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}r.baseQueue=p=y,h.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{r=p.next;var k=_=null,P=null,Y=r,X=!1;do{var te=Y.lane&-536870913;if(te!==Y.lane?(Ue&te)===te:(ii&te)===te){var W=Y.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),te===Ur&&(X=!0);else if((ii&W)===W){Y=Y.next,W===Ur&&(X=!0);continue}else te={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(k=P=te,_=y):P=P.next=te,Re.lanes|=W,ea|=W;te=Y.action,Ka&&l(y,te),y=Y.hasEagerState?Y.eagerState:l(y,te)}else W={lane:te,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(k=P=W,_=y):P=P.next=W,Re.lanes|=te,ea|=te;Y=Y.next}while(Y!==null&&Y!==r);if(P===null?_=y:P.next=k,!Ps(y,i.memoizedState)&&(It=!0,X&&(l=Yr,l!==null)))throw l;i.memoizedState=y,i.baseState=_,i.baseQueue=P,h.lastRenderedState=y}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Gf(i){var r=zt(),l=r.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=r.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=i(y,_.action),_=_.next;while(_!==p);Ps(y,r.memoizedState)||(It=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),l.lastRenderedState=y}return[y,h]}function Yy(i,r,l){var h=Re,p=zt(),y=$e;if(y){if(l===void 0)throw Error(n(407));l=l()}else l=r();var _=!Ps((lt||p).memoizedState,l);if(_&&(p.memoizedState=l,It=!0),p=p.queue,Kf(qy.bind(null,h,p,i),[i]),p.getSnapshot!==r||_||Wt!==null&&Wt.memoizedState.tag&1){if(h.flags|=2048,Xr(9,{destroy:void 0},Iy.bind(null,h,p,l,r),null),ht===null)throw Error(n(349));y||(ii&127)!==0||Wy(h,r,l)}return l}function Wy(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Re.updateQueue,r===null?(r=_u(),Re.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function Iy(i,r,l,h){r.value=l,r.getSnapshot=h,Gy(r)&&$y(i)}function qy(i,r,l){return l(function(){Gy(r)&&$y(i)})}function Gy(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Ps(i,l)}catch{return!0}}function $y(i){var r=Ha(i,2);r!==null&&Es(r,i,2)}function $f(i){var r=Ss();if(typeof i=="function"){var l=i;if(i=l(),Ka){Ht(!0);try{l()}finally{Ht(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:i},r}function Xy(i,r,l,h){return i.baseState=l,qf(i,lt,typeof h=="function"?h:ai)}function dT(i,r,l,h,p){if(ku(i))throw Error(n(485));if(i=r.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};F.T!==null?l(!0):y.isTransition=!1,h(y),l=r.pending,l===null?(y.next=r.pending=y,Ky(r,y)):(y.next=l.next,r.pending=l.next=y)}}function Ky(i,r){var l=r.action,h=r.payload,p=i.state;if(r.isTransition){var y=F.T,_={};F.T=_;try{var k=l(p,h),P=F.S;P!==null&&P(_,k),Zy(i,r,k)}catch(Y){Xf(i,r,Y)}finally{y!==null&&_.types!==null&&(y.types=_.types),F.T=y}}else try{y=l(p,h),Zy(i,r,y)}catch(Y){Xf(i,r,Y)}}function Zy(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Qy(i,r,h)},function(h){return Xf(i,r,h)}):Qy(i,r,l)}function Qy(i,r,l){r.status="fulfilled",r.value=l,Jy(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,Ky(i,l)))}function Xf(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,Jy(r),r=r.next;while(r!==h)}i.action=null}function Jy(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function eb(i,r){return r}function tb(i,r){if($e){var l=ht.formState;if(l!==null){e:{var h=Re;if($e){if(xt){t:{for(var p=xt,y=nn;p.nodeType!==8;){if(!y){p=null;break t}if(p=rn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){xt=rn(p.nextSibling),h=p.data==="F!";break e}}Ii(h)}h=!1}h&&(r=l[0])}}return l=Ss(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eb,lastRenderedState:r},l.queue=h,l=vb.bind(null,Re,h),h.dispatch=l,h=$f(!1),y=tm.bind(null,Re,!1,h.queue),h=Ss(),p={state:r,dispatch:null,action:i,pending:null},h.queue=p,l=dT.bind(null,Re,p,y,l),p.dispatch=l,h.memoizedState=i,[r,l,!1]}function sb(i){var r=zt();return nb(r,lt,i)}function nb(i,r,l){if(r=qf(i,r,eb)[0],i=Su(ai)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=fl(r)}catch(_){throw _===Wr?fu:_}else h=r;r=zt();var p=r.queue,y=p.dispatch;return l!==r.memoizedState&&(Re.flags|=2048,Xr(9,{destroy:void 0},hT.bind(null,p,l),null)),[h,y,i]}function hT(i,r){i.action=r}function ib(i){var r=zt(),l=lt;if(l!==null)return nb(r,l,i);zt(),r=r.memoizedState,l=zt();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function Xr(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Re.updateQueue,r===null&&(r=_u(),Re.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function ab(){return zt().memoizedState}function ju(i,r,l,h){var p=Ss();Re.flags|=i,p.memoizedState=Xr(1|r,{destroy:void 0},l,h===void 0?null:h)}function Nu(i,r,l,h){var p=zt();h=h===void 0?null:h;var y=p.memoizedState.inst;lt!==null&&h!==null&&Ff(h,lt.memoizedState.deps)?p.memoizedState=Xr(r,y,l,h):(Re.flags|=i,p.memoizedState=Xr(1|r,y,l,h))}function rb(i,r){ju(8390656,8,i,r)}function Kf(i,r){Nu(2048,8,i,r)}function fT(i){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=_u(),Re.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function ob(i){var r=zt().memoizedState;return fT({ref:r,nextImpl:i}),function(){if((nt&2)!==0)throw Error(n(440));return r.impl.apply(void 0,arguments)}}function lb(i,r){return Nu(4,2,i,r)}function cb(i,r){return Nu(4,4,i,r)}function ub(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function db(i,r,l){l=l!=null?l.concat([i]):null,Nu(4,4,ub.bind(null,r,i),l)}function Zf(){}function hb(i,r){var l=zt();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Ff(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function fb(i,r){var l=zt();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Ff(r,h[1]))return h[0];if(h=i(),Ka){Ht(!0);try{i()}finally{Ht(!1)}}return l.memoizedState=[h,r],h}function Qf(i,r,l){return l===void 0||(ii&1073741824)!==0&&(Ue&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=mv(),Re.lanes|=i,ea|=i,l)}function mb(i,r,l,h){return Ps(l,r)?l:qr.current!==null?(i=Qf(i,l,h),Ps(i,r)||(It=!0),i):(ii&42)===0||(ii&1073741824)!==0&&(Ue&261930)===0?(It=!0,i.memoizedState=l):(i=mv(),Re.lanes|=i,ea|=i,r)}function pb(i,r,l,h,p){var y=G.p;G.p=y!==0&&8>y?y:8;var _=F.T,k={};F.T=k,tm(i,!1,r,l);try{var P=p(),Y=F.S;if(Y!==null&&Y(k,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var X=lT(P,h);ml(i,r,X,Ys(i))}else ml(i,r,h,Ys(i))}catch(te){ml(i,r,{then:function(){},status:"rejected",reason:te},Ys())}finally{G.p=y,_!==null&&k.types!==null&&(_.types=k.types),F.T=_}}function mT(){}function Jf(i,r,l,h){if(i.tag!==5)throw Error(n(476));var p=gb(i).queue;pb(i,p,r,ae,l===null?mT:function(){return xb(i),l(h)})}function gb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:ae},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function xb(i){var r=gb(i);r.next===null&&(r=i.alternate.memoizedState),ml(i,r.next.queue,{},Ys())}function em(){return ls(Al)}function yb(){return zt().memoizedState}function bb(){return zt().memoizedState}function pT(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=Ys();i=$i(l);var h=Xi(r,i,l);h!==null&&(Es(h,r,l),cl(h,r,l)),r={cache:Df()},i.payload=r;return}r=r.return}}function gT(i,r,l){var h=Ys();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ku(i)?_b(r,l):(l=yf(i,r,l,h),l!==null&&(Es(l,i,h),wb(l,r,h)))}function vb(i,r,l){var h=Ys();ml(i,r,l,h)}function ml(i,r,l,h){var p={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ku(i))_b(r,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,k=y(_,l);if(p.hasEagerState=!0,p.eagerState=k,Ps(k,_))return ru(i,r,p,0),ht===null&&au(),!1}catch{}if(l=yf(i,r,p,h),l!==null)return Es(l,i,h),wb(l,r,h),!0}return!1}function tm(i,r,l,h){if(h={lane:2,revertLane:Om(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ku(i)){if(r)throw Error(n(479))}else r=yf(i,l,h,2),r!==null&&Es(r,i,2)}function ku(i){var r=i.alternate;return i===Re||r!==null&&r===Re}function _b(i,r){Gr=bu=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function wb(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,ss(i,l)}}var pl={readContext:ls,use:wu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};pl.useEffectEvent=Tt;var Sb={readContext:ls,use:wu,useCallback:function(i,r){return Ss().memoizedState=[i,r===void 0?null:r],i},useContext:ls,useEffect:rb,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,ju(4194308,4,ub.bind(null,r,i),l)},useLayoutEffect:function(i,r){return ju(4194308,4,i,r)},useInsertionEffect:function(i,r){ju(4,2,i,r)},useMemo:function(i,r){var l=Ss();r=r===void 0?null:r;var h=i();if(Ka){Ht(!0);try{i()}finally{Ht(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=Ss();if(l!==void 0){var p=l(r);if(Ka){Ht(!0);try{l(r)}finally{Ht(!1)}}}else p=r;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=gT.bind(null,Re,i),[h.memoizedState,i]},useRef:function(i){var r=Ss();return i={current:i},r.memoizedState=i},useState:function(i){i=$f(i);var r=i.queue,l=vb.bind(null,Re,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Zf,useDeferredValue:function(i,r){var l=Ss();return Qf(l,i,r)},useTransition:function(){var i=$f(!1);return i=pb.bind(null,Re,i.queue,!0,!1),Ss().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Re,p=Ss();if($e){if(l===void 0)throw Error(n(407));l=l()}else{if(l=r(),ht===null)throw Error(n(349));(Ue&127)!==0||Wy(h,r,l)}p.memoizedState=l;var y={value:l,getSnapshot:r};return p.queue=y,rb(qy.bind(null,h,y,i),[i]),h.flags|=2048,Xr(9,{destroy:void 0},Iy.bind(null,h,y,l,r),null),l},useId:function(){var i=Ss(),r=ht.identifierPrefix;if($e){var l=On,h=En;l=(h&~(1<<32-Ot(h)-1)).toString(32)+l,r="_"+r+"R_"+l,l=vu++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=cT++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:em,useFormState:tb,useActionState:tb,useOptimistic:function(i){var r=Ss();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=tm.bind(null,Re,!0,l),l.dispatch=r,[i,r]},useMemoCache:If,useCacheRefresh:function(){return Ss().memoizedState=pT.bind(null,Re)},useEffectEvent:function(i){var r=Ss(),l={impl:i};return r.memoizedState=l,function(){if((nt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},sm={readContext:ls,use:wu,useCallback:hb,useContext:ls,useEffect:Kf,useImperativeHandle:db,useInsertionEffect:lb,useLayoutEffect:cb,useMemo:fb,useReducer:Su,useRef:ab,useState:function(){return Su(ai)},useDebugValue:Zf,useDeferredValue:function(i,r){var l=zt();return mb(l,lt.memoizedState,i,r)},useTransition:function(){var i=Su(ai)[0],r=zt().memoizedState;return[typeof i=="boolean"?i:fl(i),r]},useSyncExternalStore:Yy,useId:yb,useHostTransitionStatus:em,useFormState:sb,useActionState:sb,useOptimistic:function(i,r){var l=zt();return Xy(l,lt,i,r)},useMemoCache:If,useCacheRefresh:bb};sm.useEffectEvent=ob;var jb={readContext:ls,use:wu,useCallback:hb,useContext:ls,useEffect:Kf,useImperativeHandle:db,useInsertionEffect:lb,useLayoutEffect:cb,useMemo:fb,useReducer:Gf,useRef:ab,useState:function(){return Gf(ai)},useDebugValue:Zf,useDeferredValue:function(i,r){var l=zt();return lt===null?Qf(l,i,r):mb(l,lt.memoizedState,i,r)},useTransition:function(){var i=Gf(ai)[0],r=zt().memoizedState;return[typeof i=="boolean"?i:fl(i),r]},useSyncExternalStore:Yy,useId:yb,useHostTransitionStatus:em,useFormState:ib,useActionState:ib,useOptimistic:function(i,r){var l=zt();return lt!==null?Xy(l,lt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:If,useCacheRefresh:bb};jb.useEffectEvent=ob;function nm(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:x({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var im={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=Ys(),p=$i(h);p.payload=r,l!=null&&(p.callback=l),r=Xi(i,p,h),r!==null&&(Es(r,i,h),cl(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=Ys(),p=$i(h);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=Xi(i,p,h),r!==null&&(Es(r,i,h),cl(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=Ys(),h=$i(l);h.tag=2,r!=null&&(h.callback=r),r=Xi(i,h,l),r!==null&&(Es(r,i,l),cl(r,i,l))}};function Nb(i,r,l,h,p,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,_):r.prototype&&r.prototype.isPureReactComponent?!tl(l,h)||!tl(p,y):!0}function kb(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&im.enqueueReplaceState(r,r.state,null)}function Za(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=x({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function Mb(i){iu(i)}function Tb(i){console.error(i)}function Db(i){iu(i)}function Mu(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function Cb(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function am(i,r,l){return l=$i(l),l.tag=3,l.payload={element:null},l.callback=function(){Mu(i,r)},l}function Ab(i){return i=$i(i),i.tag=3,i}function Eb(i,r,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=h.value;i.payload=function(){return p(y)},i.callback=function(){Cb(r,l,h)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Cb(r,l,h),typeof p!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function xT(i,r,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&Hr(r,l,p,!0),l=Vs.current,l!==null){switch(l.tag){case 31:case 13:return an===null?Vu():l.alternate===null&&Dt===0&&(Dt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===mu?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),Cm(i,h,p)),!1;case 22:return l.flags|=65536,h===mu?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),Cm(i,h,p)),!1}throw Error(n(435,l.tag))}return Cm(i,h,p),Vu(),!1}if($e)return r=Vs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,h!==jf&&(i=Error(n(422),{cause:h}),il(en(i,l)))):(h!==jf&&(r=Error(n(423),{cause:h}),il(en(r,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=en(h,l),p=am(i.stateNode,h,p),Lf(i,p),Dt!==4&&(Dt=2)),!1;var y=Error(n(520),{cause:h});if(y=en(y,l),Sl===null?Sl=[y]:Sl.push(y),Dt!==4&&(Dt=2),r===null)return!0;h=en(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=am(l.stateNode,h,i),Lf(l,i),!1;case 1:if(r=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ta===null||!ta.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Ab(p),Eb(p,i,l,h),Lf(l,p),!1}l=l.return}while(l!==null);return!1}var rm=Error(n(461)),It=!1;function cs(i,r,l,h){r.child=i===null?zy(r,null,l,h):Xa(r,i.child,l,h)}function Ob(i,r,l,h,p){l=l.render;var y=r.ref;if("ref"in h){var _={};for(var k in h)k!=="ref"&&(_[k]=h[k])}else _=h;return Ia(r),h=Hf(i,r,l,_,y,p),k=Uf(),i!==null&&!It?(Yf(i,r,p),ri(i,r,p)):($e&&k&&wf(r),r.flags|=1,cs(i,r,h,p),r.child)}function Rb(i,r,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!bf(y)&&y.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=y,Lb(i,r,y,h,p)):(i=lu(l.type,null,h,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!mm(i,p)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:tl,l(_,h)&&i.ref===r.ref)return ri(i,r,p)}return r.flags|=1,i=ei(y,h),i.ref=r.ref,i.return=r,r.child=i}function Lb(i,r,l,h,p){if(i!==null){var y=i.memoizedProps;if(tl(y,h)&&i.ref===r.ref)if(It=!1,r.pendingProps=h=y,mm(i,p))(i.flags&131072)!==0&&(It=!0);else return r.lanes=i.lanes,ri(i,r,p)}return om(i,r,l,h,p)}function zb(i,r,l,h){var p=h.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,i!==null){for(h=r.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~y}else h=0,r.child=null;return Pb(i,r,y,l,h)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&hu(r,y!==null?y.cachePool:null),y!==null?Vy(r,y):Pf(),Fy(r);else return h=r.lanes=536870912,Pb(i,r,y!==null?y.baseLanes|l:l,l,h)}else y!==null?(hu(r,y.cachePool),Vy(r,y),Zi(),r.memoizedState=null):(i!==null&&hu(r,null),Pf(),Zi());return cs(i,r,p,l),r.child}function gl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Pb(i,r,l,h,p){var y=Af();return y=y===null?null:{parent:Yt._currentValue,pool:y},r.memoizedState={baseLanes:l,cachePool:y},i!==null&&hu(r,null),Pf(),Fy(r),i!==null&&Hr(i,r,h,!0),r.childLanes=p,null}function Tu(i,r){return r=Cu({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Bb(i,r,l){return Xa(r,i.child,null,l),i=Tu(r,r.pendingProps),i.flags|=2,Fs(r),r.memoizedState=null,i}function yT(i,r,l){var h=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if($e){if(h.mode==="hidden")return i=Tu(r,h),r.lanes=536870912,gl(null,i);if(Vf(r),(i=xt)?(i=Kv(i,nn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Yi!==null?{id:En,overflow:On}:null,retryLane:536870912,hydrationErrors:null},l=_y(i),l.return=r,r.child=l,os=r,xt=null)):i=null,i===null)throw Ii(r);return r.lanes=536870912,null}return Tu(r,h)}var y=i.memoizedState;if(y!==null){var _=y.dehydrated;if(Vf(r),p)if(r.flags&256)r.flags&=-257,r=Bb(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(n(558));else if(It||Hr(i,r,l,!1),p=(l&i.childLanes)!==0,It||p){if(h=ht,h!==null&&(_=An(h,l),_!==0&&_!==y.retryLane))throw y.retryLane=_,Ha(i,_),Es(h,i,_),rm;Vu(),r=Bb(i,r,l)}else i=y.treeContext,xt=rn(_.nextSibling),os=r,$e=!0,Wi=null,nn=!1,i!==null&&jy(r,i),r=Tu(r,h),r.flags|=4096;return r}return i=ei(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Du(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function om(i,r,l,h,p){return Ia(r),l=Hf(i,r,l,h,void 0,p),h=Uf(),i!==null&&!It?(Yf(i,r,p),ri(i,r,p)):($e&&h&&wf(r),r.flags|=1,cs(i,r,l,p),r.child)}function Vb(i,r,l,h,p,y){return Ia(r),r.updateQueue=null,l=Uy(r,h,l,p),Hy(i),h=Uf(),i!==null&&!It?(Yf(i,r,y),ri(i,r,y)):($e&&h&&wf(r),r.flags|=1,cs(i,r,l,y),r.child)}function Fb(i,r,l,h,p){if(Ia(r),r.stateNode===null){var y=Pr,_=l.contextType;typeof _=="object"&&_!==null&&(y=ls(_)),y=new l(h,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=im,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=h,y.state=r.memoizedState,y.refs={},Of(r),_=l.contextType,y.context=typeof _=="object"&&_!==null?ls(_):Pr,y.state=r.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(nm(r,l,_,h),y.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&im.enqueueReplaceState(y,y.state,null),dl(r,h,y,p),ul(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){y=r.stateNode;var k=r.memoizedProps,P=Za(l,k);y.props=P;var Y=y.context,X=l.contextType;_=Pr,typeof X=="object"&&X!==null&&(_=ls(X));var te=l.getDerivedStateFromProps;X=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=r.pendingProps!==k,X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||Y!==_)&&kb(r,y,h,_),Gi=!1;var W=r.memoizedState;y.state=W,dl(r,h,y,p),ul(),Y=r.memoizedState,k||W!==Y||Gi?(typeof te=="function"&&(nm(r,l,te,h),Y=r.memoizedState),(P=Gi||Nb(r,l,P,h,W,Y,_))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=Y),y.props=h,y.state=Y,y.context=_,h=P):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{y=r.stateNode,Rf(i,r),_=r.memoizedProps,X=Za(l,_),y.props=X,te=r.pendingProps,W=y.context,Y=l.contextType,P=Pr,typeof Y=="object"&&Y!==null&&(P=ls(Y)),k=l.getDerivedStateFromProps,(Y=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==te||W!==P)&&kb(r,y,h,P),Gi=!1,W=r.memoizedState,y.state=W,dl(r,h,y,p),ul();var q=r.memoizedState;_!==te||W!==q||Gi||i!==null&&i.dependencies!==null&&uu(i.dependencies)?(typeof k=="function"&&(nm(r,l,k,h),q=r.memoizedState),(X=Gi||Nb(r,l,X,h,W,q,P)||i!==null&&i.dependencies!==null&&uu(i.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,q,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,q,P)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=q),y.props=h,y.state=q,y.context=P,h=X):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),h=!1)}return y=h,Du(i,r),h=(r.flags&128)!==0,y||h?(y=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&h?(r.child=Xa(r,i.child,null,p),r.child=Xa(r,null,l,p)):cs(i,r,l,p),r.memoizedState=y.state,i=r.child):i=ri(i,r,p),i}function Hb(i,r,l,h){return Ya(),r.flags|=256,cs(i,r,l,h),r.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(i){return{baseLanes:i,cachePool:Cy()}}function um(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=Us),i}function Ub(i,r,l){var h=r.pendingProps,p=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=i!==null&&i.memoizedState===null?!1:(Lt.current&2)!==0),_&&(p=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if($e){if(p?Ki(r):Zi(),(i=xt)?(i=Kv(i,nn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Yi!==null?{id:En,overflow:On}:null,retryLane:536870912,hydrationErrors:null},l=_y(i),l.return=r,r.child=l,os=r,xt=null)):i=null,i===null)throw Ii(r);return qm(i)?r.lanes=32:r.lanes=536870912,null}var k=h.children;return h=h.fallback,p?(Zi(),p=r.mode,k=Cu({mode:"hidden",children:k},p),h=Ua(h,p,l,null),k.return=r,h.return=r,k.sibling=h,r.child=k,h=r.child,h.memoizedState=cm(l),h.childLanes=um(i,_,l),r.memoizedState=lm,gl(null,h)):(Ki(r),dm(r,k))}var P=i.memoizedState;if(P!==null&&(k=P.dehydrated,k!==null)){if(y)r.flags&256?(Ki(r),r.flags&=-257,r=hm(i,r,l)):r.memoizedState!==null?(Zi(),r.child=i.child,r.flags|=128,r=null):(Zi(),k=h.fallback,p=r.mode,h=Cu({mode:"visible",children:h.children},p),k=Ua(k,p,l,null),k.flags|=2,h.return=r,k.return=r,h.sibling=k,r.child=h,Xa(r,i.child,null,l),h=r.child,h.memoizedState=cm(l),h.childLanes=um(i,_,l),r.memoizedState=lm,r=gl(null,h));else if(Ki(r),qm(k)){if(_=k.nextSibling&&k.nextSibling.dataset,_)var Y=_.dgst;_=Y,h=Error(n(419)),h.stack="",h.digest=_,il({value:h,source:null,stack:null}),r=hm(i,r,l)}else if(It||Hr(i,r,l,!1),_=(l&i.childLanes)!==0,It||_){if(_=ht,_!==null&&(h=An(_,l),h!==0&&h!==P.retryLane))throw P.retryLane=h,Ha(i,h),Es(_,i,h),rm;Im(k)||Vu(),r=hm(i,r,l)}else Im(k)?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,xt=rn(k.nextSibling),os=r,$e=!0,Wi=null,nn=!1,i!==null&&jy(r,i),r=dm(r,h.children),r.flags|=4096);return r}return p?(Zi(),k=h.fallback,p=r.mode,P=i.child,Y=P.sibling,h=ei(P,{mode:"hidden",children:h.children}),h.subtreeFlags=P.subtreeFlags&65011712,Y!==null?k=ei(Y,k):(k=Ua(k,p,l,null),k.flags|=2),k.return=r,h.return=r,h.sibling=k,r.child=h,gl(null,h),h=r.child,k=i.child.memoizedState,k===null?k=cm(l):(p=k.cachePool,p!==null?(P=Yt._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=Cy(),k={baseLanes:k.baseLanes|l,cachePool:p}),h.memoizedState=k,h.childLanes=um(i,_,l),r.memoizedState=lm,gl(i.child,h)):(Ki(r),l=i.child,i=l.sibling,l=ei(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=l,r.memoizedState=null,l)}function dm(i,r){return r=Cu({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Cu(i,r){return i=Bs(22,i,null,r),i.lanes=0,i}function hm(i,r,l){return Xa(r,i.child,null,l),i=dm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Yb(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Mf(i.return,r,l)}function fm(i,r,l,h,p,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=p,_.treeForkCount=y)}function Wb(i,r,l){var h=r.pendingProps,p=h.revealOrder,y=h.tail;h=h.children;var _=Lt.current,k=(_&2)!==0;if(k?(_=_&1|2,r.flags|=128):_&=1,ee(Lt,_),cs(i,r,h,l),h=$e?nl:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yb(i,l,r);else if(i.tag===19)Yb(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=r.child,p=null;l!==null;)i=l.alternate,i!==null&&yu(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),fm(r,!1,p,l,y,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&yu(i)===null){r.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}fm(r,!0,l,null,y,h);break;case"together":fm(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function ri(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),ea|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(Hr(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(n(153));if(r.child!==null){for(i=r.child,l=ei(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=ei(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function mm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&uu(i)))}function bT(i,r,l){switch(r.tag){case 3:ft(r,r.stateNode.containerInfo),qi(r,Yt,i.memoizedState.cache),Ya();break;case 27:case 5:es(r);break;case 4:ft(r,r.stateNode.containerInfo);break;case 10:qi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Vf(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Ki(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Ub(i,r,l):(Ki(r),i=ri(i,r,l),i!==null?i.sibling:null);Ki(r);break;case 19:var p=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(Hr(i,r,l,!1),h=(l&r.childLanes)!==0),p){if(h)return Wb(i,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(Lt,Lt.current),h)break;return null;case 22:return r.lanes=0,zb(i,r,l,r.pendingProps);case 24:qi(r,Yt,i.memoizedState.cache)}return ri(i,r,l)}function Ib(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)It=!0;else{if(!mm(i,l)&&(r.flags&128)===0)return It=!1,bT(i,r,l);It=(i.flags&131072)!==0}else It=!1,$e&&(r.flags&1048576)!==0&&Sy(r,nl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(i=Ga(r.elementType),r.type=i,typeof i=="function")bf(i)?(h=Za(i,h),r.tag=1,r=Fb(null,r,i,h,l)):(r.tag=0,r=om(null,r,i,h,l));else{if(i!=null){var p=i.$$typeof;if(p===O){r.tag=11,r=Ob(null,r,i,h,l);break e}else if(p===A){r.tag=14,r=Rb(null,r,i,h,l);break e}}throw r=xe(i)||i,Error(n(306,r,""))}}return r;case 0:return om(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,p=Za(h,r.pendingProps),Fb(i,r,h,p,l);case 3:e:{if(ft(r,r.stateNode.containerInfo),i===null)throw Error(n(387));h=r.pendingProps;var y=r.memoizedState;p=y.element,Rf(i,r),dl(r,h,null,l);var _=r.memoizedState;if(h=_.cache,qi(r,Yt,h),h!==y.cache&&Tf(r,[Yt],l,!0),ul(),h=_.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Hb(i,r,h,l);break e}else if(h!==p){p=en(Error(n(424)),r),il(p),r=Hb(i,r,h,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,xt=rn(i.firstChild),os=r,$e=!0,Wi=null,nn=!0,l=zy(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ya(),h===p){r=ri(i,r,l);break e}cs(i,r,h,l)}r=r.child}return r;case 26:return Du(i,r),i===null?(l=s1(r.type,null,r.pendingProps,null))?r.memoizedState=l:$e||(l=r.type,i=r.pendingProps,h=qu(fe.current).createElement(l),h[de]=r,h[it]=i,us(h,l,i),ns(h),r.stateNode=h):r.memoizedState=s1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return es(r),i===null&&$e&&(h=r.stateNode=Jv(r.type,r.pendingProps,fe.current),os=r,nn=!0,p=xt,aa(r.type)?(Gm=p,xt=rn(h.firstChild)):xt=p),cs(i,r,r.pendingProps.children,l),Du(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&$e&&((p=h=xt)&&(h=XT(h,r.type,r.pendingProps,nn),h!==null?(r.stateNode=h,os=r,xt=rn(h.firstChild),nn=!1,p=!0):p=!1),p||Ii(r)),es(r),p=r.type,y=r.pendingProps,_=i!==null?i.memoizedProps:null,h=y.children,Um(p,y)?h=null:_!==null&&Um(p,_)&&(r.flags|=32),r.memoizedState!==null&&(p=Hf(i,r,uT,null,null,l),Al._currentValue=p),Du(i,r),cs(i,r,h,l),r.child;case 6:return i===null&&$e&&((i=l=xt)&&(l=KT(l,r.pendingProps,nn),l!==null?(r.stateNode=l,os=r,xt=null,i=!0):i=!1),i||Ii(r)),null;case 13:return Ub(i,r,l);case 4:return ft(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=Xa(r,null,h,l):cs(i,r,h,l),r.child;case 11:return Ob(i,r,r.type,r.pendingProps,l);case 7:return cs(i,r,r.pendingProps,l),r.child;case 8:return cs(i,r,r.pendingProps.children,l),r.child;case 12:return cs(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,qi(r,r.type,h.value),cs(i,r,h.children,l),r.child;case 9:return p=r.type._context,h=r.pendingProps.children,Ia(r),p=ls(p),h=h(p),r.flags|=1,cs(i,r,h,l),r.child;case 14:return Rb(i,r,r.type,r.pendingProps,l);case 15:return Lb(i,r,r.type,r.pendingProps,l);case 19:return Wb(i,r,l);case 31:return yT(i,r,l);case 22:return zb(i,r,l,r.pendingProps);case 24:return Ia(r),h=ls(Yt),i===null?(p=Af(),p===null&&(p=ht,y=Df(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),r.memoizedState={parent:h,cache:p},Of(r),qi(r,Yt,p)):((i.lanes&l)!==0&&(Rf(i,r),dl(r,null,null,l),ul()),p=i.memoizedState,y=r.memoizedState,p.parent!==h?(p={parent:h,cache:h},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),qi(r,Yt,h)):(h=y.cache,qi(r,Yt,h),h!==p.cache&&Tf(r,[Yt],l,!0))),cs(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function oi(i){i.flags|=4}function pm(i,r,l,h,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(yv())i.flags|=8192;else throw $a=mu,Ef}else i.flags&=-16777217}function qb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!o1(r))if(yv())i.flags|=8192;else throw $a=mu,Ef}function Au(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Ks():536870912,i.lanes|=r,Jr|=r)}function xl(i,r){if(!$e)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function yt(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function vT(i,r,l){var h=r.pendingProps;switch(Sf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return yt(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),ni(Yt),Xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Fr(r)?oi(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nf())),yt(r),null;case 26:var p=r.type,y=r.memoizedState;return i===null?(oi(r),y!==null?(yt(r),qb(r,y)):(yt(r),pm(r,p,null,h,l))):y?y!==i.memoizedState?(oi(r),yt(r),qb(r,y)):(yt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&oi(r),yt(r),pm(r,p,i,h,l)),null;case 27:if(rs(r),l=fe.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&oi(r);else{if(!h){if(r.stateNode===null)throw Error(n(166));return yt(r),null}i=D.current,Fr(r)?Ny(r):(i=Jv(p,h,l),r.stateNode=i,oi(r))}return yt(r),null;case 5:if(rs(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&oi(r);else{if(!h){if(r.stateNode===null)throw Error(n(166));return yt(r),null}if(y=D.current,Fr(r))Ny(r);else{var _=qu(fe.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?_.createElement("select",{is:h.is}):_.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?_.createElement(p,{is:h.is}):_.createElement(p)}}y[de]=r,y[it]=h;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(us(y,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&oi(r)}}return yt(r),pm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&oi(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(n(166));if(i=fe.current,Fr(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,p=os,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[de]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Uv(i.nodeValue,l)),i||Ii(r,!0)}else i=qu(i).createTextNode(h),i[de]=r,r.stateNode=i}return yt(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(h=Fr(r),l!==null){if(i===null){if(!h)throw Error(n(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[de]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),i=!1}else l=Nf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(Fs(r),r):(Fs(r),null);if((r.flags&128)!==0)throw Error(n(558))}return yt(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Fr(r),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[de]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),p=!1}else p=Nf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Fs(r),r):(Fs(r),null)}return Fs(r),(r.flags&128)!==0?(r.lanes=l,r):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=r.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),Au(r,r.updateQueue),yt(r),null);case 4:return Xe(),i===null&&Pm(r.stateNode.containerInfo),yt(r),null;case 10:return ni(r.type),yt(r),null;case 19:if(H(Lt),h=r.memoizedState,h===null)return yt(r),null;if(p=(r.flags&128)!==0,y=h.rendering,y===null)if(p)xl(h,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=yu(i),y!==null){for(r.flags|=128,xl(h,!1),i=y.updateQueue,r.updateQueue=i,Au(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)vy(l,i),l=l.sibling;return ee(Lt,Lt.current&1|2),$e&&ti(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&Ft()>zu&&(r.flags|=128,p=!0,xl(h,!1),r.lanes=4194304)}else{if(!p)if(i=yu(y),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,Au(r,i),xl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!$e)return yt(r),null}else 2*Ft()-h.renderingStartTime>zu&&l!==536870912&&(r.flags|=128,p=!0,xl(h,!1),r.lanes=4194304);h.isBackwards?(y.sibling=r.child,r.child=y):(i=h.last,i!==null?i.sibling=y:r.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ft(),i.sibling=null,l=Lt.current,ee(Lt,p?l&1|2:l&1),$e&&ti(r,h.treeForkCount),i):(yt(r),null);case 22:case 23:return Fs(r),Bf(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),l=r.updateQueue,l!==null&&Au(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&H(qa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ni(Yt),yt(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function _T(i,r){switch(Sf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ni(Yt),Xe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return rs(r),null;case 31:if(r.memoizedState!==null){if(Fs(r),r.alternate===null)throw Error(n(340));Ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Fs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return H(Lt),null;case 4:return Xe(),null;case 10:return ni(r.type),null;case 22:case 23:return Fs(r),Bf(),i!==null&&H(qa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ni(Yt),null;case 25:return null;default:return null}}function Gb(i,r){switch(Sf(r),r.tag){case 3:ni(Yt),Xe();break;case 26:case 27:case 5:rs(r);break;case 4:Xe();break;case 31:r.memoizedState!==null&&Fs(r);break;case 13:Fs(r);break;case 19:H(Lt);break;case 10:ni(r.type);break;case 22:case 23:Fs(r),Bf(),i!==null&&H(qa);break;case 24:ni(Yt)}}function yl(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var y=l.create,_=l.inst;h=y(),_.destroy=h}l=l.next}while(l!==p)}}catch(k){rt(r,r.return,k)}}function Qi(i,r,l){try{var h=r.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&i)===i){var _=h.inst,k=_.destroy;if(k!==void 0){_.destroy=void 0,p=r;var P=l,Y=k;try{Y()}catch(X){rt(p,P,X)}}}h=h.next}while(h!==y)}}catch(X){rt(r,r.return,X)}}function $b(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{By(r,l)}catch(h){rt(i,i.return,h)}}}function Xb(i,r,l){l.props=Za(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){rt(i,r,h)}}function bl(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(p){rt(i,r,p)}}function Rn(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){rt(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){rt(i,r,p)}else l.current=null}function Kb(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){rt(i,i.return,p)}}function gm(i,r,l){try{var h=i.stateNode;YT(h,i.type,l,r),h[it]=r}catch(p){rt(i,i.return,p)}}function Zb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&aa(i.type)||i.tag===4}function xm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Zb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&aa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ym(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Qn));else if(h!==4&&(h===27&&aa(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(ym(i,r,l),i=i.sibling;i!==null;)ym(i,r,l),i=i.sibling}function Eu(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&aa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Eu(i,r,l),i=i.sibling;i!==null;)Eu(i,r,l),i=i.sibling}function Qb(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);us(r,h,l),r[de]=i,r[it]=l}catch(y){rt(i,i.return,y)}}var li=!1,qt=!1,bm=!1,Jb=typeof WeakSet=="function"?WeakSet:Set,is=null;function wT(i,r){if(i=i.containerInfo,Fm=Ju,i=dy(i),hf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,k=-1,P=-1,Y=0,X=0,te=i,W=null;t:for(;;){for(var q;te!==l||p!==0&&te.nodeType!==3||(k=_+p),te!==y||h!==0&&te.nodeType!==3||(P=_+h),te.nodeType===3&&(_+=te.nodeValue.length),(q=te.firstChild)!==null;)W=te,te=q;for(;;){if(te===i)break t;if(W===l&&++Y===p&&(k=_),W===y&&++X===h&&(P=_),(q=te.nextSibling)!==null)break;te=W,W=te.parentNode}te=q}l=k===-1||P===-1?null:{start:k,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hm={focusedElem:i,selectionRange:l},Ju=!1,is=r;is!==null;)if(r=is,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,is=i;else for(;is!==null;){switch(r=is,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=r,p=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var ye=Za(l.type,p);i=h.getSnapshotBeforeUpdate(ye,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ne){rt(l,l.return,Ne)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Wm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=r.sibling,i!==null){i.return=r.return,is=i;break}is=r.return}}function ev(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:ui(i,l),h&4&&yl(5,l);break;case 1:if(ui(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(_){rt(l,l.return,_)}else{var p=Za(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(l,l.return,_)}}h&64&&$b(l),h&512&&bl(l,l.return);break;case 3:if(ui(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{By(i,r)}catch(_){rt(l,l.return,_)}}break;case 27:r===null&&h&4&&Qb(l);case 26:case 5:ui(i,l),r===null&&h&4&&Kb(l),h&512&&bl(l,l.return);break;case 12:ui(i,l);break;case 31:ui(i,l),h&4&&nv(i,l);break;case 13:ui(i,l),h&4&&iv(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=AT.bind(null,l),ZT(i,l))));break;case 22:if(h=l.memoizedState!==null||li,!h){r=r!==null&&r.memoizedState!==null||qt,p=li;var y=qt;li=h,(qt=r)&&!y?di(i,l,(l.subtreeFlags&8772)!==0):ui(i,l),li=p,qt=y}break;case 30:break;default:ui(i,l)}}function tv(i){var r=i.alternate;r!==null&&(i.alternate=null,tv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&$h(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var St=null,Ts=!1;function ci(i,r,l){for(l=l.child;l!==null;)sv(i,r,l),l=l.sibling}function sv(i,r,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Xs,l)}catch{}switch(l.tag){case 26:qt||Rn(l,r),ci(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qt||Rn(l,r);var h=St,p=Ts;aa(l.type)&&(St=l.stateNode,Ts=!1),ci(i,r,l),Tl(l.stateNode),St=h,Ts=p;break;case 5:qt||Rn(l,r);case 6:if(h=St,p=Ts,St=null,ci(i,r,l),St=h,Ts=p,St!==null)if(Ts)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(l.stateNode)}catch(y){rt(l,r,y)}else try{St.removeChild(l.stateNode)}catch(y){rt(l,r,y)}break;case 18:St!==null&&(Ts?(i=St,$v(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),oo(i)):$v(St,l.stateNode));break;case 4:h=St,p=Ts,St=l.stateNode.containerInfo,Ts=!0,ci(i,r,l),St=h,Ts=p;break;case 0:case 11:case 14:case 15:Qi(2,l,r),qt||Qi(4,l,r),ci(i,r,l);break;case 1:qt||(Rn(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Xb(l,r,h)),ci(i,r,l);break;case 21:ci(i,r,l);break;case 22:qt=(h=qt)||l.memoizedState!==null,ci(i,r,l),qt=h;break;default:ci(i,r,l)}}function nv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{oo(i)}catch(l){rt(r,r.return,l)}}}function iv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{oo(i)}catch(l){rt(r,r.return,l)}}function ST(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Jb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Jb),r;default:throw Error(n(435,i.tag))}}function Ou(i,r){var l=ST(i);r.forEach(function(h){if(!l.has(h)){l.add(h);var p=ET.bind(null,i,h);h.then(p,p)}})}function Ds(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],y=i,_=r,k=_;e:for(;k!==null;){switch(k.tag){case 27:if(aa(k.type)){St=k.stateNode,Ts=!1;break e}break;case 5:St=k.stateNode,Ts=!1;break e;case 3:case 4:St=k.stateNode.containerInfo,Ts=!0;break e}k=k.return}if(St===null)throw Error(n(160));sv(y,_,p),St=null,Ts=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)av(r,i),r=r.sibling}var yn=null;function av(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ds(r,i),Cs(i),h&4&&(Qi(3,i,i.return),yl(3,i),Qi(5,i,i.return));break;case 1:Ds(r,i),Cs(i),h&512&&(qt||l===null||Rn(l,l.return)),h&64&&li&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=yn;if(Ds(r,i),Cs(i),h&512&&(qt||l===null||Rn(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(h){case"title":y=p.getElementsByTagName("title")[0],(!y||y[qo]||y[de]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(h),p.head.insertBefore(y,p.querySelector("head > title"))),us(y,h,l),y[de]=i,ns(y),h=y;break e;case"link":var _=a1("link","href",p).get(h+(l.href||""));if(_){for(var k=0;k<_.length;k++)if(y=_[k],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(k,1);break t}}y=p.createElement(h),us(y,h,l),p.head.appendChild(y);break;case"meta":if(_=a1("meta","content",p).get(h+(l.content||""))){for(k=0;k<_.length;k++)if(y=_[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(k,1);break t}}y=p.createElement(h),us(y,h,l),p.head.appendChild(y);break;default:throw Error(n(468,h))}y[de]=i,ns(y),h=y}i.stateNode=h}else r1(p,i.type,i.stateNode);else i.stateNode=i1(p,h,i.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?r1(p,i.type,i.stateNode):i1(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&gm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ds(r,i),Cs(i),h&512&&(qt||l===null||Rn(l,l.return)),l!==null&&h&4&&gm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ds(r,i),Cs(i),h&512&&(qt||l===null||Rn(l,l.return)),i.flags&32){p=i.stateNode;try{Cr(p,"")}catch(ye){rt(i,i.return,ye)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,gm(i,p,l!==null?l.memoizedProps:p)),h&1024&&(bm=!0);break;case 6:if(Ds(r,i),Cs(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(ye){rt(i,i.return,ye)}}break;case 3:if(Xu=null,p=yn,yn=Gu(r.containerInfo),Ds(r,i),yn=p,Cs(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{oo(r.containerInfo)}catch(ye){rt(i,i.return,ye)}bm&&(bm=!1,rv(i));break;case 4:h=yn,yn=Gu(i.stateNode.containerInfo),Ds(r,i),Cs(i),yn=h;break;case 12:Ds(r,i),Cs(i);break;case 31:Ds(r,i),Cs(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ou(i,h)));break;case 13:Ds(r,i),Cs(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lu=Ft()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ou(i,h)));break;case 22:p=i.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Y=li,X=qt;if(li=Y||p,qt=X||P,Ds(r,i),qt=X,li=Y,Cs(i),h&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||P||li||qt||Qa(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){P=l=r;try{if(y=P.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{k=P.stateNode;var te=P.memoizedProps.style,W=te!=null&&te.hasOwnProperty("display")?te.display:null;k.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ye){rt(P,P.return,ye)}}}else if(r.tag===6){if(l===null){P=r;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(ye){rt(P,P.return,ye)}}}else if(r.tag===18){if(l===null){P=r;try{var q=P.stateNode;p?Xv(q,!0):Xv(P.stateNode,!1)}catch(ye){rt(P,P.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Ou(i,l))));break;case 19:Ds(r,i),Cs(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ou(i,h)));break;case 30:break;case 21:break;default:Ds(r,i),Cs(i)}}function Cs(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(Zb(h)){l=h;break}h=h.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,y=xm(i);Eu(i,y,p);break;case 5:var _=l.stateNode;l.flags&32&&(Cr(_,""),l.flags&=-33);var k=xm(i);Eu(i,k,_);break;case 3:case 4:var P=l.stateNode.containerInfo,Y=xm(i);ym(i,Y,P);break;default:throw Error(n(161))}}catch(X){rt(i,i.return,X)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function rv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;rv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ui(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ev(i,r.alternate,r),r=r.sibling}function Qa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Qi(4,r,r.return),Qa(r);break;case 1:Rn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Xb(r,r.return,l),Qa(r);break;case 27:Tl(r.stateNode);case 26:case 5:Rn(r,r.return),Qa(r);break;case 22:r.memoizedState===null&&Qa(r);break;case 30:Qa(r);break;default:Qa(r)}i=i.sibling}}function di(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,p=i,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:di(p,y,l),yl(4,y);break;case 1:if(di(p,y,l),h=y,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){rt(h,h.return,Y)}if(h=y,p=h.updateQueue,p!==null){var k=h.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)Py(P[p],k)}catch(Y){rt(h,h.return,Y)}}l&&_&64&&$b(y),bl(y,y.return);break;case 27:Qb(y);case 26:case 5:di(p,y,l),l&&h===null&&_&4&&Kb(y),bl(y,y.return);break;case 12:di(p,y,l);break;case 31:di(p,y,l),l&&_&4&&nv(p,y);break;case 13:di(p,y,l),l&&_&4&&iv(p,y);break;case 22:y.memoizedState===null&&di(p,y,l),bl(y,y.return);break;case 30:break;default:di(p,y,l)}r=r.sibling}}function vm(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&al(l))}function _m(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&al(i))}function bn(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ov(i,r,l,h),r=r.sibling}function ov(i,r,l,h){var p=r.flags;switch(r.tag){case 0:case 11:case 15:bn(i,r,l,h),p&2048&&yl(9,r);break;case 1:bn(i,r,l,h);break;case 3:bn(i,r,l,h),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&al(i)));break;case 12:if(p&2048){bn(i,r,l,h),i=r.stateNode;try{var y=r.memoizedProps,_=y.id,k=y.onPostCommit;typeof k=="function"&&k(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){rt(r,r.return,P)}}else bn(i,r,l,h);break;case 31:bn(i,r,l,h);break;case 13:bn(i,r,l,h);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?bn(i,r,l,h):vl(i,r):y._visibility&2?bn(i,r,l,h):(y._visibility|=2,Kr(i,r,l,h,(r.subtreeFlags&10256)!==0||!1)),p&2048&&vm(_,r);break;case 24:bn(i,r,l,h),p&2048&&_m(r.alternate,r);break;default:bn(i,r,l,h)}}function Kr(i,r,l,h,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,_=r,k=l,P=h,Y=_.flags;switch(_.tag){case 0:case 11:case 15:Kr(y,_,k,P,p),yl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Kr(y,_,k,P,p):vl(y,_):(X._visibility|=2,Kr(y,_,k,P,p)),p&&Y&2048&&vm(_.alternate,_);break;case 24:Kr(y,_,k,P,p),p&&Y&2048&&_m(_.alternate,_);break;default:Kr(y,_,k,P,p)}r=r.sibling}}function vl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,p=h.flags;switch(h.tag){case 22:vl(l,h),p&2048&&vm(h.alternate,h);break;case 24:vl(l,h),p&2048&&_m(h.alternate,h);break;default:vl(l,h)}r=r.sibling}}var _l=8192;function Zr(i,r,l){if(i.subtreeFlags&_l)for(i=i.child;i!==null;)lv(i,r,l),i=i.sibling}function lv(i,r,l){switch(i.tag){case 26:Zr(i,r,l),i.flags&_l&&i.memoizedState!==null&&c5(l,yn,i.memoizedState,i.memoizedProps);break;case 5:Zr(i,r,l);break;case 3:case 4:var h=yn;yn=Gu(i.stateNode.containerInfo),Zr(i,r,l),yn=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=_l,_l=16777216,Zr(i,r,l),_l=h):Zr(i,r,l));break;default:Zr(i,r,l)}}function cv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function wl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];is=h,dv(h,i)}cv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uv(i),i=i.sibling}function uv(i){switch(i.tag){case 0:case 11:case 15:wl(i),i.flags&2048&&Qi(9,i,i.return);break;case 3:wl(i);break;case 12:wl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ru(i)):wl(i);break;default:wl(i)}}function Ru(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];is=h,dv(h,i)}cv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Qi(8,r,r.return),Ru(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Ru(r));break;default:Ru(r)}i=i.sibling}}function dv(i,r){for(;is!==null;){var l=is;switch(l.tag){case 0:case 11:case 15:Qi(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:al(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,is=h;else e:for(l=i;is!==null;){h=is;var p=h.sibling,y=h.return;if(tv(h),h===l){is=null;break e}if(p!==null){p.return=y,is=p;break e}is=y}}}var jT={getCacheForType:function(i){var r=ls(Yt),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return ls(Yt).controller.signal}},NT=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Ve=null,Ue=0,at=0,Hs=null,Ji=!1,Qr=!1,wm=!1,hi=0,Dt=0,ea=0,Ja=0,Sm=0,Us=0,Jr=0,Sl=null,As=null,jm=!1,Lu=0,hv=0,zu=1/0,Pu=null,ta=null,Zt=0,sa=null,eo=null,fi=0,Nm=0,km=null,fv=null,jl=0,Mm=null;function Ys(){return(nt&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?Om():ue()}function mv(){if(Us===0)if((Ue&536870912)===0||$e){var i=pt;pt<<=1,(pt&3932160)===0&&(pt=262144),Us=i}else Us=536870912;return i=Vs.current,i!==null&&(i.flags|=32),Us}function Es(i,r,l){(i===ht&&(at===2||at===9)||i.cancelPendingCommit!==null)&&(to(i,0),na(i,Ue,Us,!1)),Cn(i,l),((nt&2)===0||i!==ht)&&(i===ht&&((nt&2)===0&&(Ja|=l),Dt===4&&na(i,Ue,Us,!1)),Ln(i))}function pv(i,r,l){if((nt&6)!==0)throw Error(n(327));var h=!l&&(r&127)===0&&(r&i.expiredLanes)===0||Ns(i,r),p=h?TT(i,r):Dm(i,r,!0),y=h;do{if(p===0){Qr&&!h&&na(i,r,0,!1);break}else{if(l=i.current.alternate,y&&!kT(l)){p=Dm(i,r,!1),y=!1;continue}if(p===2){if(y=r,i.errorRecoveryDisabledLanes&y)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var k=i;p=Sl;var P=k.current.memoizedState.isDehydrated;if(P&&(to(k,_).flags|=256),_=Dm(k,_,!1),_!==2){if(wm&&!P){k.errorRecoveryDisabledLanes|=y,Ja|=y,p=4;break e}y=As,As=p,y!==null&&(As===null?As=y:As.push.apply(As,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){to(i,0),na(i,r,0,!0);break}e:{switch(h=i,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:na(h,r,Us,!Ji);break e;case 2:As=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(p=Lu+300-Ft(),10<p)){if(na(h,r,Us,!Ji),ts(h,0,!0)!==0)break e;fi=r,h.timeoutHandle=qv(gv.bind(null,h,l,As,Pu,jm,r,Us,Ja,Jr,Ji,y,"Throttled",-0,0),p);break e}gv(h,l,As,Pu,jm,r,Us,Ja,Jr,Ji,y,null,-0,0)}}break}while(!0);Ln(i)}function gv(i,r,l,h,p,y,_,k,P,Y,X,te,W,q){if(i.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},lv(r,y,te);var ye=(y&62914560)===y?Lu-Ft():(y&4194048)===y?hv-Ft():0;if(ye=u5(te,ye),ye!==null){fi=y,i.cancelPendingCommit=ye(jv.bind(null,i,r,y,l,h,p,_,k,P,X,te,null,W,q)),na(i,y,_,!Y);return}}jv(i,r,y,l,h,p,_,k,P)}function kT(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Ps(y(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function na(i,r,l,h){r&=~Sm,r&=~Ja,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var p=r;0<p;){var y=31-Ot(p),_=1<<y;h[y]=-1,p&=~_}l!==0&&ks(i,l,r)}function Bu(){return(nt&6)===0?(Nl(0),!1):!0}function Tm(){if(Ve!==null){if(at===0)var i=Ve.return;else i=Ve,si=Wa=null,Wf(i),Ir=null,ol=0,i=Ve;for(;i!==null;)Gb(i.alternate,i),i=i.return;Ve=null}}function to(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,qT(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),fi=0,Tm(),ht=i,Ve=l=ei(i.current,null),Ue=r,at=0,Hs=null,Ji=!1,Qr=Ns(i,r),wm=!1,Jr=Us=Sm=Ja=ea=Dt=0,As=Sl=null,jm=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var p=31-Ot(h),y=1<<p;r|=i[p],h&=~y}return hi=r,au(),l}function xv(i,r){Re=null,F.H=pl,r===Wr||r===fu?(r=Oy(),at=3):r===Ef?(r=Oy(),at=4):at=r===rm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hs=r,Ve===null&&(Dt=1,Mu(i,en(r,i.current)))}function yv(){var i=Vs.current;return i===null?!0:(Ue&4194048)===Ue?an===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?i===an:!1}function bv(){var i=F.H;return F.H=pl,i===null?pl:i}function vv(){var i=F.A;return F.A=jT,i}function Vu(){Dt=4,Ji||(Ue&4194048)!==Ue&&Vs.current!==null||(Qr=!0),(ea&134217727)===0&&(Ja&134217727)===0||ht===null||na(ht,Ue,Us,!1)}function Dm(i,r,l){var h=nt;nt|=2;var p=bv(),y=vv();(ht!==i||Ue!==r)&&(Pu=null,to(i,r)),r=!1;var _=Dt;e:do try{if(at!==0&&Ve!==null){var k=Ve,P=Hs;switch(at){case 8:Tm(),_=6;break e;case 3:case 2:case 9:case 6:Vs.current===null&&(r=!0);var Y=at;if(at=0,Hs=null,so(i,k,P,Y),l&&Qr){_=0;break e}break;default:Y=at,at=0,Hs=null,so(i,k,P,Y)}}MT(),_=Dt;break}catch(X){xv(i,X)}while(!0);return r&&i.shellSuspendCounter++,si=Wa=null,nt=h,F.H=p,F.A=y,Ve===null&&(ht=null,Ue=0,au()),_}function MT(){for(;Ve!==null;)_v(Ve)}function TT(i,r){var l=nt;nt|=2;var h=bv(),p=vv();ht!==i||Ue!==r?(Pu=null,zu=Ft()+500,to(i,r)):Qr=Ns(i,r);e:do try{if(at!==0&&Ve!==null){r=Ve;var y=Hs;t:switch(at){case 1:at=0,Hs=null,so(i,r,y,1);break;case 2:case 9:if(Ay(y)){at=0,Hs=null,wv(r);break}r=function(){at!==2&&at!==9||ht!==i||(at=7),Ln(i)},y.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Ay(y)?(at=0,Hs=null,wv(r)):(at=0,Hs=null,so(i,r,y,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var k=Ve;if(_?o1(_):k.stateNode.complete){at=0,Hs=null;var P=k.sibling;if(P!==null)Ve=P;else{var Y=k.return;Y!==null?(Ve=Y,Fu(Y)):Ve=null}break t}}at=0,Hs=null,so(i,r,y,5);break;case 6:at=0,Hs=null,so(i,r,y,6);break;case 8:Tm(),Dt=6;break e;default:throw Error(n(462))}}DT();break}catch(X){xv(i,X)}while(!0);return si=Wa=null,F.H=h,F.A=p,nt=l,Ve!==null?0:(ht=null,Ue=0,au(),Dt)}function DT(){for(;Ve!==null&&!vs();)_v(Ve)}function _v(i){var r=Ib(i.alternate,i,hi);i.memoizedProps=i.pendingProps,r===null?Fu(i):Ve=r}function wv(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=Vb(l,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Vb(l,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Wf(r);default:Gb(l,r),r=Ve=vy(r,hi),r=Ib(l,r,hi)}i.memoizedProps=i.pendingProps,r===null?Fu(i):Ve=r}function so(i,r,l,h){si=Wa=null,Wf(r),Ir=null,ol=0;var p=r.return;try{if(xT(i,p,r,l,Ue)){Dt=1,Mu(i,en(l,i.current)),Ve=null;return}}catch(y){if(p!==null)throw Ve=p,y;Dt=1,Mu(i,en(l,i.current)),Ve=null;return}r.flags&32768?($e||h===1?i=!0:Qr||(Ue&536870912)!==0?i=!1:(Ji=i=!0,(h===2||h===9||h===3||h===6)&&(h=Vs.current,h!==null&&h.tag===13&&(h.flags|=16384))),Sv(r,i)):Fu(r)}function Fu(i){var r=i;do{if((r.flags&32768)!==0){Sv(r,Ji);return}i=r.return;var l=vT(r.alternate,r,hi);if(l!==null){Ve=l;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=i}while(r!==null);Dt===0&&(Dt=5)}function Sv(i,r){do{var l=_T(i.alternate,i);if(l!==null){l.flags&=32767,Ve=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=l}while(i!==null);Dt=6,Ve=null}function jv(i,r,l,h,p,y,_,k,P){i.cancelPendingCommit=null;do Hu();while(Zt!==0);if((nt&6)!==0)throw Error(n(327));if(r!==null){if(r===i.current)throw Error(n(177));if(y=r.lanes|r.childLanes,y|=xf,je(i,l,y,_,k,P),i===ht&&(Ve=ht=null,Ue=0),eo=r,sa=i,fi=l,Nm=y,km=p,fv=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,OT($n,function(){return Dv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,p=G.p,G.p=2,_=nt,nt|=4;try{wT(i,r,l)}finally{nt=_,G.p=p,F.T=h}}Zt=1,Nv(),kv(),Mv()}}function Nv(){if(Zt===1){Zt=0;var i=sa,r=eo,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var h=G.p;G.p=2;var p=nt;nt|=4;try{av(r,i);var y=Hm,_=dy(i.containerInfo),k=y.focusedElem,P=y.selectionRange;if(_!==k&&k&&k.ownerDocument&&uy(k.ownerDocument.documentElement,k)){if(P!==null&&hf(k)){var Y=P.start,X=P.end;if(X===void 0&&(X=Y),"selectionStart"in k)k.selectionStart=Y,k.selectionEnd=Math.min(X,k.value.length);else{var te=k.ownerDocument||document,W=te&&te.defaultView||window;if(W.getSelection){var q=W.getSelection(),ye=k.textContent.length,Ne=Math.min(P.start,ye),ut=P.end===void 0?Ne:Math.min(P.end,ye);!q.extend&&Ne>ut&&(_=ut,ut=Ne,Ne=_);var V=cy(k,Ne),B=cy(k,ut);if(V&&B&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==B.node||q.focusOffset!==B.offset)){var U=te.createRange();U.setStart(V.node,V.offset),q.removeAllRanges(),Ne>ut?(q.addRange(U),q.extend(B.node,B.offset)):(U.setEnd(B.node,B.offset),q.addRange(U))}}}}for(te=[],q=k;q=q.parentNode;)q.nodeType===1&&te.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<te.length;k++){var Q=te[k];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ju=!!Fm,Hm=Fm=null}finally{nt=p,G.p=h,F.T=l}}i.current=r,Zt=2}}function kv(){if(Zt===2){Zt=0;var i=sa,r=eo,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var h=G.p;G.p=2;var p=nt;nt|=4;try{ev(i,r.alternate,r)}finally{nt=p,G.p=h,F.T=l}}Zt=3}}function Mv(){if(Zt===4||Zt===3){Zt=0,Ra();var i=sa,r=eo,l=fi,h=fv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Zt=5:(Zt=0,eo=sa=null,Tv(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ta=null),J(l),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Xs,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=F.T,p=G.p,G.p=2,F.T=null;try{for(var y=i.onRecoverableError,_=0;_<h.length;_++){var k=h[_];y(k.value,{componentStack:k.stack})}}finally{F.T=r,G.p=p}}(fi&3)!==0&&Hu(),Ln(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Mm?jl++:(jl=0,Mm=i):jl=0,Nl(0)}}function Tv(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,al(r)))}function Hu(){return Nv(),kv(),Mv(),Dv()}function Dv(){if(Zt!==5)return!1;var i=sa,r=Nm;Nm=0;var l=J(fi),h=F.T,p=G.p;try{G.p=32>l?32:l,F.T=null,l=km,km=null;var y=sa,_=fi;if(Zt=0,eo=sa=null,fi=0,(nt&6)!==0)throw Error(n(331));var k=nt;if(nt|=4,uv(y.current),ov(y,y.current,_,l),nt=k,Nl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Xs,y)}catch{}return!0}finally{G.p=p,F.T=h,Tv(i,r)}}function Cv(i,r,l){r=en(l,r),r=am(i.stateNode,r,2),i=Xi(i,r,2),i!==null&&(Cn(i,2),Ln(i))}function rt(i,r,l){if(i.tag===3)Cv(i,i,l);else for(;r!==null;){if(r.tag===3){Cv(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ta===null||!ta.has(h))){i=en(l,i),l=Ab(2),h=Xi(r,l,2),h!==null&&(Eb(l,h,r,i),Cn(h,2),Ln(h));break}}r=r.return}}function Cm(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new NT;var p=new Set;h.set(r,p)}else p=h.get(r),p===void 0&&(p=new Set,h.set(r,p));p.has(l)||(wm=!0,p.add(l),i=CT.bind(null,i,r,l),r.then(i,i))}function CT(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ht===i&&(Ue&l)===l&&(Dt===4||Dt===3&&(Ue&62914560)===Ue&&300>Ft()-Lu?(nt&2)===0&&to(i,0):Sm|=l,Jr===Ue&&(Jr=0)),Ln(i)}function Av(i,r){r===0&&(r=Ks()),i=Ha(i,r),i!==null&&(Cn(i,r),Ln(i))}function AT(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),Av(i,l)}function ET(i,r){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(r),Av(i,l)}function OT(i,r){return Gn(i,r)}var Uu=null,no=null,Am=!1,Yu=!1,Em=!1,ia=0;function Ln(i){i!==no&&i.next===null&&(no===null?Uu=no=i:no=no.next=i),Yu=!0,Am||(Am=!0,LT())}function Nl(i,r){if(!Em&&Yu){Em=!0;do for(var l=!1,h=Uu;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var y=0;else{var _=h.suspendedLanes,k=h.pingedLanes;y=(1<<31-Ot(42|i)+1)-1,y&=p&~(_&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Lv(h,y))}else y=Ue,y=ts(h,h===ht?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ns(h,y)||(l=!0,Lv(h,y));h=h.next}while(l);Em=!1}}function RT(){Ev()}function Ev(){Yu=Am=!1;var i=0;ia!==0&&IT()&&(i=ia);for(var r=Ft(),l=null,h=Uu;h!==null;){var p=h.next,y=Ov(h,r);y===0?(h.next=null,l===null?Uu=p:l.next=p,p===null&&(no=l)):(l=h,(i!==0||(y&3)!==0)&&(Yu=!0)),h=p}Zt!==0&&Zt!==5||Nl(i),ia!==0&&(ia=0)}function Ov(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var _=31-Ot(y),k=1<<_,P=p[_];P===-1?((k&l)===0||(k&h)!==0)&&(p[_]=ws(k,r)):P<=r&&(i.expiredLanes|=k),y&=~k}if(r=ht,l=Ue,l=ts(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(at===2||at===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Bi(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ns(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Bi(h),J(l)){case 2:case 8:l=zs;break;case 32:l=$n;break;case 268435456:l=js;break;default:l=$n}return h=Rv.bind(null,i),l=Gn(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Bi(h),i.callbackPriority=2,i.callbackNode=null,2}function Rv(i,r){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Hu()&&i.callbackNode!==l)return null;var h=Ue;return h=ts(i,i===ht?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(pv(i,h,r),Ov(i,Ft()),i.callbackNode!=null&&i.callbackNode===l?Rv.bind(null,i):null)}function Lv(i,r){if(Hu())return null;pv(i,r,!0)}function LT(){GT(function(){(nt&6)!==0?Gn(La,RT):Ev()})}function Om(){if(ia===0){var i=Ur;i===0&&(i=Be,Be<<=1,(Be&261888)===0&&(Be=256)),ia=i}return ia}function zv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zc(""+i)}function Pv(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function zT(i,r,l,h,p){if(r==="submit"&&l&&l.stateNode===p){var y=zv((p[it]||null).action),_=h.submitter;_&&(r=(r=_[it]||null)?zv(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var k=new tu("action","action",null,h,p);i.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ia!==0){var P=_?Pv(p,_):new FormData(p);Jf(l,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(k.preventDefault(),P=_?Pv(p,_):new FormData(p),Jf(l,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var Rm=0;Rm<gf.length;Rm++){var Lm=gf[Rm],PT=Lm.toLowerCase(),BT=Lm[0].toUpperCase()+Lm.slice(1);xn(PT,"on"+BT)}xn(my,"onAnimationEnd"),xn(py,"onAnimationIteration"),xn(gy,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(eT,"onTransitionRun"),xn(tT,"onTransitionStart"),xn(sT,"onTransitionCancel"),xn(xy,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Bv(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(r)for(var _=h.length-1;0<=_;_--){var k=h[_],P=k.instance,Y=k.currentTarget;if(k=k.listener,P!==y&&p.isPropagationStopped())break e;y=k,p.currentTarget=Y;try{y(p)}catch(X){iu(X)}p.currentTarget=null,y=P}else for(_=0;_<h.length;_++){if(k=h[_],P=k.instance,Y=k.currentTarget,k=k.listener,P!==y&&p.isPropagationStopped())break e;y=k,p.currentTarget=Y;try{y(p)}catch(X){iu(X)}p.currentTarget=null,y=P}}}}function Fe(i,r){var l=r[Ut];l===void 0&&(l=r[Ut]=new Set);var h=i+"__bubble";l.has(h)||(Vv(r,i,2,!1),l.add(h))}function zm(i,r,l){var h=0;r&&(h|=4),Vv(l,i,h,r)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Pm(i){if(!i[Wu]){i[Wu]=!0,E0.forEach(function(l){l!=="selectionchange"&&(VT.has(l)||zm(l,!1,i),zm(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Wu]||(r[Wu]=!0,zm("selectionchange",!1,r))}}function Vv(i,r,l,h){switch(m1(r)){case 2:var p=f5;break;case 8:p=m5;break;default:p=Qm}l=p.bind(null,r,l,i),p=void 0,!sf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(r,l,{capture:!0,passive:p}):i.addEventListener(r,l,!0):p!==void 0?i.addEventListener(r,l,{passive:p}):i.addEventListener(r,l,!1)}function Bm(i,r,l,h,p){var y=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var k=h.stateNode.containerInfo;if(k===p)break;if(_===4)for(_=h.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;k!==null;){if(_=Nr(k),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){h=y=_;continue e}k=k.parentNode}}h=h.return}W0(function(){var Y=y,X=ef(l),te=[];e:{var W=yy.get(i);if(W!==void 0){var q=tu,ye=i;switch(i){case"keypress":if(Jc(l)===0)break e;case"keydown":case"keyup":q=EM;break;case"focusin":ye="focus",q=of;break;case"focusout":ye="blur",q=of;break;case"beforeblur":case"afterblur":q=of;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=G0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=LM;break;case my:case py:case gy:q=SM;break;case xy:q=PM;break;case"scroll":case"scrollend":q=yM;break;case"wheel":q=VM;break;case"copy":case"cut":case"paste":q=NM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=X0;break;case"toggle":case"beforetoggle":q=HM}var Ne=(r&4)!==0,ut=!Ne&&(i==="scroll"||i==="scrollend"),V=Ne?W!==null?W+"Capture":null:W;Ne=[];for(var B=Y,U;B!==null;){var Q=B;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||V===null||(Q=$o(B,V),Q!=null&&Ne.push(Ml(B,Q,U))),ut)break;B=B.return}0<Ne.length&&(W=new q(W,ye,null,l,X),te.push({event:W,listeners:Ne}))}}if((r&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",q=i==="mouseout"||i==="pointerout",W&&l!==Jh&&(ye=l.relatedTarget||l.fromElement)&&(Nr(ye)||ye[Ge]))break e;if((q||W)&&(W=X.window===X?X:(W=X.ownerDocument)?W.defaultView||W.parentWindow:window,q?(ye=l.relatedTarget||l.toElement,q=Y,ye=ye?Nr(ye):null,ye!==null&&(ut=o(ye),Ne=ye.tag,ye!==ut||Ne!==5&&Ne!==27&&Ne!==6)&&(ye=null)):(q=null,ye=Y),q!==ye)){if(Ne=G0,Q="onMouseLeave",V="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Ne=X0,Q="onPointerLeave",V="onPointerEnter",B="pointer"),ut=q==null?W:Go(q),U=ye==null?W:Go(ye),W=new Ne(Q,B+"leave",q,l,X),W.target=ut,W.relatedTarget=U,Q=null,Nr(X)===Y&&(Ne=new Ne(V,B+"enter",ye,l,X),Ne.target=U,Ne.relatedTarget=ut,Q=Ne),ut=Q,q&&ye)t:{for(Ne=FT,V=q,B=ye,U=0,Q=V;Q;Q=Ne(Q))U++;Q=0;for(var we=B;we;we=Ne(we))Q++;for(;0<U-Q;)V=Ne(V),U--;for(;0<Q-U;)B=Ne(B),Q--;for(;U--;){if(V===B||B!==null&&V===B.alternate){Ne=V;break t}V=Ne(V),B=Ne(B)}Ne=null}else Ne=null;q!==null&&Fv(te,W,q,Ne,!1),ye!==null&&ut!==null&&Fv(te,ut,ye,Ne,!0)}}e:{if(W=Y?Go(Y):window,q=W.nodeName&&W.nodeName.toLowerCase(),q==="select"||q==="input"&&W.type==="file")var Ze=ny;else if(ty(W))if(iy)Ze=ZM;else{Ze=XM;var ve=$M}else q=W.nodeName,!q||q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&Qh(Y.elementType)&&(Ze=ny):Ze=KM;if(Ze&&(Ze=Ze(i,Y))){sy(te,Ze,l,X);break e}ve&&ve(i,W,Y),i==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&Zh(W,"number",W.value)}switch(ve=Y?Go(Y):window,i){case"focusin":(ty(ve)||ve.contentEditable==="true")&&(Rr=ve,ff=Y,sl=null);break;case"focusout":sl=ff=Rr=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,hy(te,l,X);break;case"selectionchange":if(JM)break;case"keydown":case"keyup":hy(te,l,X)}var Le;if(cf)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Or?J0(i,l)&&(Ye="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ye="onCompositionStart");Ye&&(K0&&l.locale!=="ko"&&(Or||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Or&&(Le=I0()):(Ui=X,nf="value"in Ui?Ui.value:Ui.textContent,Or=!0)),ve=Iu(Y,Ye),0<ve.length&&(Ye=new $0(Ye,i,null,l,X),te.push({event:Ye,listeners:ve}),Le?Ye.data=Le:(Le=ey(l),Le!==null&&(Ye.data=Le)))),(Le=YM?WM(i,l):IM(i,l))&&(Ye=Iu(Y,"onBeforeInput"),0<Ye.length&&(ve=new $0("onBeforeInput","beforeinput",null,l,X),te.push({event:ve,listeners:Ye}),ve.data=Le)),zT(te,i,Y,l,X)}Bv(te,r)})}function Ml(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Iu(i,r){for(var l=r+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=$o(i,l),p!=null&&h.unshift(Ml(i,p,y)),p=$o(i,r),p!=null&&h.push(Ml(i,p,y))),i.tag===3)return h;i=i.return}return[]}function FT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Fv(i,r,l,h,p){for(var y=r._reactName,_=[];l!==null&&l!==h;){var k=l,P=k.alternate,Y=k.stateNode;if(k=k.tag,P!==null&&P===h)break;k!==5&&k!==26&&k!==27||Y===null||(P=Y,p?(Y=$o(l,y),Y!=null&&_.unshift(Ml(l,Y,P))):p||(Y=$o(l,y),Y!=null&&_.push(Ml(l,Y,P)))),l=l.return}_.length!==0&&i.push({event:r,listeners:_})}var HT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function Hv(i){return(typeof i=="string"?i:""+i).replace(HT,`
`).replace(UT,"")}function Uv(i,r){return r=Hv(r),Hv(i)===r}function ct(i,r,l,h,p,y){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Cr(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Cr(i,""+h);break;case"className":Xc(i,"class",h);break;case"tabIndex":Xc(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Xc(i,l,h);break;case"style":U0(i,h,y);break;case"data":if(r!=="object"){Xc(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Zc(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(r!=="input"&&ct(i,r,"name",p.name,p,null),ct(i,r,"formEncType",p.formEncType,p,null),ct(i,r,"formMethod",p.formMethod,p,null),ct(i,r,"formTarget",p.formTarget,p,null)):(ct(i,r,"encType",p.encType,p,null),ct(i,r,"method",p.method,p,null),ct(i,r,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Zc(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Qn);break;case"onScroll":h!=null&&Fe("scroll",i);break;case"onScrollEnd":h!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Zc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),$c(i,"popover",h);break;case"xlinkActuate":Zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Zn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Zn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Zn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Zn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":$c(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=gM.get(l)||l,$c(i,l,h))}}function Vm(i,r,l,h,p,y){switch(l){case"style":U0(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Cr(i,h):(typeof h=="number"||typeof h=="bigint")&&Cr(i,""+h);break;case"onScroll":h!=null&&Fe("scroll",i);break;case"onScrollEnd":h!=null&&Fe("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!O0.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),y=i[it]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(r,y,p),typeof h=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,p);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):$c(i,l,h)}}}function us(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var h=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:ct(i,r,y,_,l,null)}}p&&ct(i,r,"srcSet",l.srcSet,l,null),h&&ct(i,r,"src",l.src,l,null);return;case"input":Fe("invalid",i);var k=y=_=p=null,P=null,Y=null;for(h in l)if(l.hasOwnProperty(h)){var X=l[h];if(X!=null)switch(h){case"name":p=X;break;case"type":_=X;break;case"checked":P=X;break;case"defaultChecked":Y=X;break;case"value":y=X;break;case"defaultValue":k=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,r));break;default:ct(i,r,h,X,l,null)}}B0(i,y,k,P,Y,_,p,!1);return;case"select":Fe("invalid",i),h=_=y=null;for(p in l)if(l.hasOwnProperty(p)&&(k=l[p],k!=null))switch(p){case"value":y=k;break;case"defaultValue":_=k;break;case"multiple":h=k;default:ct(i,r,p,k,l,null)}r=y,l=_,i.multiple=!!h,r!=null?Dr(i,!!h,r,!1):l!=null&&Dr(i,!!h,l,!0);return;case"textarea":Fe("invalid",i),y=p=h=null;for(_ in l)if(l.hasOwnProperty(_)&&(k=l[_],k!=null))switch(_){case"value":h=k;break;case"defaultValue":p=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:ct(i,r,_,k,l,null)}F0(i,h,p,y);return;case"option":for(P in l)l.hasOwnProperty(P)&&(h=l[P],h!=null)&&(P==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":ct(i,r,P,h,l,null));return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(h=0;h<kl.length;h++)Fe(kl[h],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(h=l[Y],h!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:ct(i,r,Y,h,l,null)}return;default:if(Qh(r)){for(X in l)l.hasOwnProperty(X)&&(h=l[X],h!==void 0&&Vm(i,r,X,h,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(h=l[k],h!=null&&ct(i,r,k,h,l,null))}function YT(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,k=null,P=null,Y=null,X=null;for(q in l){var te=l[q];if(l.hasOwnProperty(q)&&te!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":P=te;default:h.hasOwnProperty(q)||ct(i,r,q,null,h,te)}}for(var W in h){var q=h[W];if(te=l[W],h.hasOwnProperty(W)&&(q!=null||te!=null))switch(W){case"type":y=q;break;case"name":p=q;break;case"checked":Y=q;break;case"defaultChecked":X=q;break;case"value":_=q;break;case"defaultValue":k=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(137,r));break;default:q!==te&&ct(i,r,W,q,h,te)}}Kh(i,_,k,P,Y,X,y,p);return;case"select":q=_=k=W=null;for(y in l)if(P=l[y],l.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":q=P;default:h.hasOwnProperty(y)||ct(i,r,y,null,h,P)}for(p in h)if(y=h[p],P=l[p],h.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":W=y;break;case"defaultValue":k=y;break;case"multiple":_=y;default:y!==P&&ct(i,r,p,y,h,P)}r=k,l=_,h=q,W!=null?Dr(i,!!l,W,!1):!!h!=!!l&&(r!=null?Dr(i,!!l,r,!0):Dr(i,!!l,l?[]:"",!1));return;case"textarea":q=W=null;for(k in l)if(p=l[k],l.hasOwnProperty(k)&&p!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ct(i,r,k,null,h,p)}for(_ in h)if(p=h[_],y=l[_],h.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":W=p;break;case"defaultValue":q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&ct(i,r,_,p,h,y)}V0(i,W,q);return;case"option":for(var ye in l)W=l[ye],l.hasOwnProperty(ye)&&W!=null&&!h.hasOwnProperty(ye)&&(ye==="selected"?i.selected=!1:ct(i,r,ye,null,h,W));for(P in h)W=h[P],q=l[P],h.hasOwnProperty(P)&&W!==q&&(W!=null||q!=null)&&(P==="selected"?i.selected=W&&typeof W!="function"&&typeof W!="symbol":ct(i,r,P,W,h,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)W=l[Ne],l.hasOwnProperty(Ne)&&W!=null&&!h.hasOwnProperty(Ne)&&ct(i,r,Ne,null,h,W);for(Y in h)if(W=h[Y],q=l[Y],h.hasOwnProperty(Y)&&W!==q&&(W!=null||q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,r));break;default:ct(i,r,Y,W,h,q)}return;default:if(Qh(r)){for(var ut in l)W=l[ut],l.hasOwnProperty(ut)&&W!==void 0&&!h.hasOwnProperty(ut)&&Vm(i,r,ut,void 0,h,W);for(X in h)W=h[X],q=l[X],!h.hasOwnProperty(X)||W===q||W===void 0&&q===void 0||Vm(i,r,X,W,h,q);return}}for(var V in l)W=l[V],l.hasOwnProperty(V)&&W!=null&&!h.hasOwnProperty(V)&&ct(i,r,V,null,h,W);for(te in h)W=h[te],q=l[te],!h.hasOwnProperty(te)||W===q||W==null&&q==null||ct(i,r,te,W,h,q)}function Yv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var p=l[h],y=p.transferSize,_=p.initiatorType,k=p.duration;if(y&&k&&Yv(_)){for(_=0,k=p.responseEnd,h+=1;h<l.length;h++){var P=l[h],Y=P.startTime;if(Y>k)break;var X=P.transferSize,te=P.initiatorType;X&&Yv(te)&&(P=P.responseEnd,_+=X*(P<k?1:(k-Y)/(P-Y)))}if(--h,r+=8*(y+_)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Fm=null,Hm=null;function qu(i){return i.nodeType===9?i:i.ownerDocument}function Wv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Um(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ym=null;function IT(){var i=window.event;return i&&i.type==="popstate"?i===Ym?!1:(Ym=i,!0):(Ym=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(i){return Gv.resolve(null).then(i).catch($T)}:qv;function $T(i){setTimeout(function(){throw i})}function aa(i){return i==="head"}function $v(i,r){var l=r,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(p),oo(r);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Tl(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Tl(l);for(var y=l.firstChild;y;){var _=y.nextSibling,k=y.nodeName;y[qo]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=_}}else l==="body"&&Tl(i.ownerDocument.body);l=p}while(l);oo(r)}function Xv(i,r){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Wm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wm(l),$h(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function XT(i,r,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[qo])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=rn(i.nextSibling),i===null)break}return null}function KT(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=rn(i.nextSibling),i===null))return null;return i}function Kv(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=rn(i.nextSibling),i===null))return null;return i}function Im(i){return i.data==="$?"||i.data==="$~"}function qm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ZT(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function rn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Gm=null;function Zv(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return rn(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function Qv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function Jv(i,r,l){switch(r=qu(l),i){case"html":if(i=r.documentElement,!i)throw Error(n(452));return i;case"head":if(i=r.head,!i)throw Error(n(453));return i;case"body":if(i=r.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Tl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);$h(i)}var on=new Map,e1=new Set;function Gu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var mi=G.d;G.d={f:QT,r:JT,D:e5,C:t5,L:s5,m:n5,X:a5,S:i5,M:r5};function QT(){var i=mi.f(),r=Bu();return i||r}function JT(i){var r=kr(i);r!==null&&r.tag===5&&r.type==="form"?xb(r):mi.r(i)}var io=typeof document>"u"?null:document;function t1(i,r,l){var h=io;if(h&&typeof r=="string"&&r){var p=Qs(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),e1.has(p)||(e1.add(p),i={rel:i,crossOrigin:l,href:r},h.querySelector(p)===null&&(r=h.createElement("link"),us(r,"link",i),ns(r),h.head.appendChild(r)))}}function e5(i){mi.D(i),t1("dns-prefetch",i,null)}function t5(i,r){mi.C(i,r),t1("preconnect",i,r)}function s5(i,r,l){mi.L(i,r,l);var h=io;if(h&&i&&r){var p='link[rel="preload"][as="'+Qs(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Qs(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Qs(l.imageSizes)+'"]')):p+='[href="'+Qs(i)+'"]';var y=p;switch(r){case"style":y=ao(i);break;case"script":y=ro(i)}on.has(y)||(i=x({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),on.set(y,i),h.querySelector(p)!==null||r==="style"&&h.querySelector(Dl(y))||r==="script"&&h.querySelector(Cl(y))||(r=h.createElement("link"),us(r,"link",i),ns(r),h.head.appendChild(r)))}}function n5(i,r){mi.m(i,r);var l=io;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Qs(h)+'"][href="'+Qs(i)+'"]',y=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ro(i)}if(!on.has(y)&&(i=x({rel:"modulepreload",href:i},r),on.set(y,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Cl(y)))return}h=l.createElement("link"),us(h,"link",i),ns(h),l.head.appendChild(h)}}}function i5(i,r,l){mi.S(i,r,l);var h=io;if(h&&i){var p=Mr(h).hoistableStyles,y=ao(i);r=r||"default";var _=p.get(y);if(!_){var k={loading:0,preload:null};if(_=h.querySelector(Dl(y)))k.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},l),(l=on.get(y))&&$m(i,l);var P=_=h.createElement("link");ns(P),us(P,"link",i),P._p=new Promise(function(Y,X){P.onload=Y,P.onerror=X}),P.addEventListener("load",function(){k.loading|=1}),P.addEventListener("error",function(){k.loading|=2}),k.loading|=4,$u(_,r,h)}_={type:"stylesheet",instance:_,count:1,state:k},p.set(y,_)}}}function a5(i,r){mi.X(i,r);var l=io;if(l&&i){var h=Mr(l).hoistableScripts,p=ro(i),y=h.get(p);y||(y=l.querySelector(Cl(p)),y||(i=x({src:i,async:!0},r),(r=on.get(p))&&Xm(i,r),y=l.createElement("script"),ns(y),us(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function r5(i,r){mi.M(i,r);var l=io;if(l&&i){var h=Mr(l).hoistableScripts,p=ro(i),y=h.get(p);y||(y=l.querySelector(Cl(p)),y||(i=x({src:i,async:!0,type:"module"},r),(r=on.get(p))&&Xm(i,r),y=l.createElement("script"),ns(y),us(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function s1(i,r,l,h){var p=(p=fe.current)?Gu(p):null;if(!p)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=ao(l.href),l=Mr(p).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ao(l.href);var y=Mr(p).hoistableStyles,_=y.get(i);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,_),(y=p.querySelector(Dl(i)))&&!y._p&&(_.instance=y,_.state.loading=5),on.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},on.set(i,l),y||o5(p,i,l,_.state))),r&&h===null)throw Error(n(528,""));return _}if(r&&h!==null)throw Error(n(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(l),l=Mr(p).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function ao(i){return'href="'+Qs(i)+'"'}function Dl(i){return'link[rel="stylesheet"]['+i+"]"}function n1(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function o5(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),us(r,"link",l),ns(r),i.head.appendChild(r))}function ro(i){return'[src="'+Qs(i)+'"]'}function Cl(i){return"script[async]"+i}function i1(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+Qs(l.href)+'"]');if(h)return r.instance=h,ns(h),h;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),ns(h),us(h,"style",p),$u(h,l.precedence,i),r.instance=h;case"stylesheet":p=ao(l.href);var y=i.querySelector(Dl(p));if(y)return r.state.loading|=4,r.instance=y,ns(y),y;h=n1(l),(p=on.get(p))&&$m(h,p),y=(i.ownerDocument||i).createElement("link"),ns(y);var _=y;return _._p=new Promise(function(k,P){_.onload=k,_.onerror=P}),us(y,"link",h),r.state.loading|=4,$u(y,l.precedence,i),r.instance=y;case"script":return y=ro(l.src),(p=i.querySelector(Cl(y)))?(r.instance=p,ns(p),p):(h=l,(p=on.get(y))&&(h=x({},l),Xm(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),ns(p),us(p,"link",h),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,$u(h,l.precedence,i));return r.instance}function $u(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,y=p,_=0;_<h.length;_++){var k=h[_];if(k.dataset.precedence===r)y=k;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function $m(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Xm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Xu=null;function a1(i,r,l){if(Xu===null){var h=new Map,p=Xu=new Map;p.set(l,h)}else p=Xu,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var y=l[p];if(!(y[qo]||y[de]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=i+_;var k=h.get(_);k?k.push(y):h.set(_,[y])}}return h}function r1(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function l5(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function o1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function c5(i,r,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=ao(h.href),y=r.querySelector(Dl(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Ku.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=y,ns(y);return}y=r.ownerDocument||r,h=n1(h),(p=on.get(p))&&$m(h,p),y=y.createElement("link"),ns(y);var _=y;_._p=new Promise(function(k,P){_.onload=k,_.onerror=P}),us(y,"link",h),l.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Ku.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var Km=0;function u5(i,r){return i.stylesheets&&i.count===0&&Qu(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Qu(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&Km===0&&(Km=62500*WT());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Qu(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Km?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zu=null;function Qu(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zu=new Map,r.forEach(d5,i),Zu=null,Ku.call(i))}function d5(i,r){if(!(r.state.loading&4)){var l=Zu.get(i);if(l)var h=l.get(null);else{l=new Map,Zu.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),h=_)}h&&l.set(null,h)}p=r.instance,_=p.getAttribute("data-precedence"),y=l.get(_)||h,y===h&&l.set(null,p),l.set(_,p),this.count++,h=Ku.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var Al={$$typeof:E,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function h5(i,r,l,h,p,y,_,k,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function l1(i,r,l,h,p,y,_,k,P,Y,X,te){return i=new h5(i,r,l,_,P,Y,X,te,k),r=1,y===!0&&(r|=24),y=Bs(3,null,null,r),i.current=y,y.stateNode=i,r=Df(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:r},Of(y),i}function c1(i){return i?(i=Pr,i):Pr}function u1(i,r,l,h,p,y){p=c1(p),h.context===null?h.context=p:h.pendingContext=p,h=$i(r),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=Xi(i,h,r),l!==null&&(Es(l,i,r),cl(l,i,r))}function d1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Zm(i,r){d1(i,r),(i=i.alternate)&&d1(i,r)}function h1(i){if(i.tag===13||i.tag===31){var r=Ha(i,67108864);r!==null&&Es(r,i,67108864),Zm(i,67108864)}}function f1(i){if(i.tag===13||i.tag===31){var r=Ys();r=$(r);var l=Ha(i,r);l!==null&&Es(l,i,r),Zm(i,r)}}var Ju=!0;function f5(i,r,l,h){var p=F.T;F.T=null;var y=G.p;try{G.p=2,Qm(i,r,l,h)}finally{G.p=y,F.T=p}}function m5(i,r,l,h){var p=F.T;F.T=null;var y=G.p;try{G.p=8,Qm(i,r,l,h)}finally{G.p=y,F.T=p}}function Qm(i,r,l,h){if(Ju){var p=Jm(h);if(p===null)Bm(i,r,h,ed,l),p1(i,h);else if(g5(p,i,r,l,h))h.stopPropagation();else if(p1(i,h),r&4&&-1<p5.indexOf(i)){for(;p!==null;){var y=kr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=_s(y.pendingLanes);if(_!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;_;){var P=1<<31-Ot(_);k.entanglements[1]|=P,_&=~P}Ln(y),(nt&6)===0&&(zu=Ft()+500,Nl(0))}}break;case 31:case 13:k=Ha(y,2),k!==null&&Es(k,y,2),Bu(),Zm(y,2)}if(y=Jm(h),y===null&&Bm(i,r,h,ed,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else Bm(i,r,h,null,l)}}function Jm(i){return i=ef(i),ep(i)}var ed=null;function ep(i){if(ed=null,i=Nr(i),i!==null){var r=o(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=c(r),i!==null)return i;i=null}else if(l===31){if(i=d(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ed=i,null}function m1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vi()){case La:return 2;case zs:return 8;case $n:case Xn:return 32;case js:return 268435456;default:return 32}default:return 32}}var tp=!1,ra=null,oa=null,la=null,El=new Map,Ol=new Map,ca=[],p5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p1(i,r){switch(i){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":El.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function Rl(i,r,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},r!==null&&(r=kr(r),r!==null&&h1(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function g5(i,r,l,h,p){switch(r){case"focusin":return ra=Rl(ra,i,r,l,h,p),!0;case"dragenter":return oa=Rl(oa,i,r,l,h,p),!0;case"mouseover":return la=Rl(la,i,r,l,h,p),!0;case"pointerover":var y=p.pointerId;return El.set(y,Rl(El.get(y)||null,i,r,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Ol.set(y,Rl(Ol.get(y)||null,i,r,l,h,p)),!0}return!1}function g1(i){var r=Nr(i.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){i.blockedOn=r,be(i.priority,function(){f1(l)});return}}else if(r===31){if(r=d(l),r!==null){i.blockedOn=r,be(i.priority,function(){f1(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function td(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Jm(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Jh=h,l.target.dispatchEvent(h),Jh=null}else return r=kr(l),r!==null&&h1(r),i.blockedOn=l,!1;r.shift()}return!0}function x1(i,r,l){td(i)&&l.delete(r)}function x5(){tp=!1,ra!==null&&td(ra)&&(ra=null),oa!==null&&td(oa)&&(oa=null),la!==null&&td(la)&&(la=null),El.forEach(x1),Ol.forEach(x1)}function sd(i,r){i.blockedOn===r&&(i.blockedOn=null,tp||(tp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,x5)))}var nd=null;function y1(i){nd!==i&&(nd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nd===i&&(nd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],p=i[r+2];if(typeof h!="function"){if(ep(h||l)===null)continue;break}var y=kr(l);y!==null&&(i.splice(r,3),r-=3,Jf(y,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function oo(i){function r(P){return sd(P,i)}ra!==null&&sd(ra,i),oa!==null&&sd(oa,i),la!==null&&sd(la,i),El.forEach(r),Ol.forEach(r);for(var l=0;l<ca.length;l++){var h=ca[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ca.length&&(l=ca[0],l.blockedOn===null);)g1(l),l.blockedOn===null&&ca.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],y=l[h+1],_=p[it]||null;if(typeof y=="function")_||y1(l);else if(_){var k=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[it]||null)k=_.formAction;else if(ep(p)!==null)continue}else k=_.action;typeof k=="function"?l[h+1]=k:(l.splice(h,3),h-=3),y1(l)}}}function b1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function sp(i){this._internalRoot=i}id.prototype.render=sp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(n(409));var l=r.current,h=Ys();u1(l,h,i,r,null,null)},id.prototype.unmount=sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;u1(i.current,2,null,i,null,null),Bu(),r[Ge]=null}};function id(i){this._internalRoot=i}id.prototype.unstable_scheduleHydration=function(i){if(i){var r=ue();i={blockedOn:null,target:i,priority:r};for(var l=0;l<ca.length&&r!==0&&r<ca[l].priority;l++);ca.splice(l,0,i),l===0&&g1(i)}};var v1=e.version;if(v1!=="19.2.3")throw Error(n(527,v1,"19.2.3"));G.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var y5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{Xs=ad.inject(y5),Xt=ad}catch{}}return zl.createRoot=function(i,r){if(!a(i))throw Error(n(299));var l=!1,h="",p=Mb,y=Tb,_=Db;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=l1(i,1,!1,null,null,l,h,null,p,y,_,b1),i[Ge]=r.current,Pm(i),new sp(r)},zl.hydrateRoot=function(i,r,l){if(!a(i))throw Error(n(299));var h=!1,p="",y=Mb,_=Tb,k=Db,P=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),r=l1(i,1,!0,r,l??null,h,p,P,y,_,k,b1),r.context=c1(null),l=r.current,h=Ys(),h=$(h),p=$i(h),p.callback=null,Xi(l,p,h),l=h,r.current.lanes=l,Cn(r,l),Ln(r),i[Ge]=r.current,Pm(i),new id(r)},zl.version="19.2.3",zl}var C1;function C5(){if(C1)return ap.exports;C1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ap.exports=D5(),ap.exports}var A5=C5();const E5=Ww(A5);var Gw=qw();function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},gc.apply(this,arguments)}var pa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pa||(pa={}));const A1="popstate";function O5(t){t===void 0&&(t={});function e(n,a){let{pathname:o,search:c,hash:d}=n.location;return Kp("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:Yd(a)}return L5(e,s,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R5(){return Math.random().toString(36).substr(2,8)}function E1(t,e){return{usr:t.state,key:t.key,idx:e}}function Kp(t,e,s,n){return s===void 0&&(s=null),gc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Oo(e):e,{state:s,key:e&&e.key||n||R5()})}function Yd(t){let{pathname:e="/",search:s="",hash:n=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Oo(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function L5(t,e,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,c=a.history,d=pa.Pop,f=null,m=g();m==null&&(m=0,c.replaceState(gc({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function x(){d=pa.Pop;let j=g(),M=j==null?null:j-m;m=j,f&&f({action:d,location:S.location,delta:M})}function b(j,M){d=pa.Push;let T=Kp(S.location,j,M);m=g()+1;let E=E1(T,m),O=S.createHref(T);try{c.pushState(E,"",O)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(O)}o&&f&&f({action:d,location:S.location,delta:1})}function v(j,M){d=pa.Replace;let T=Kp(S.location,j,M);m=g();let E=E1(T,m),O=S.createHref(T);c.replaceState(E,"",O),o&&f&&f({action:d,location:S.location,delta:0})}function w(j){let M=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof j=="string"?j:Yd(j);return T=T.replace(/ $/,"%20"),Et(M,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,M)}let S={get action(){return d},get location(){return t(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(A1,x),f=j,()=>{a.removeEventListener(A1,x),f=null}},createHref(j){return e(a,j)},createURL:w,encodeLocation(j){let M=w(j);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:v,go(j){return c.go(j)}};return S}var O1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(O1||(O1={}));function z5(t,e,s){return s===void 0&&(s="/"),P5(t,e,s)}function P5(t,e,s,n){let a=typeof e=="string"?Oo(e):e,o=ko(a.pathname||"/",s);if(o==null)return null;let c=$w(t);B5(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=X5(o);d=G5(c[f],m)}return d}function $w(t,e,s,n){e===void 0&&(e=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(o,c,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Et(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let m=wa([n,f.relativePath]),g=s.concat(f);o.children&&o.children.length>0&&(Et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),$w(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:I5(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let f of Xw(o.path))a(o,c,f)}),e}function Xw(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let c=Xw(n.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function B5(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:q5(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const V5=/^:[\w-]+$/,F5=3,H5=2,U5=1,Y5=10,W5=-2,R1=t=>t==="*";function I5(t,e){let s=t.split("/"),n=s.length;return s.some(R1)&&(n+=W5),e&&(n+=H5),s.filter(a=>!R1(a)).reduce((a,o)=>a+(V5.test(o)?F5:o===""?U5:Y5),n)}function q5(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function G5(t,e,s){let{routesMeta:n}=t,a={},o="/",c=[];for(let d=0;d<n.length;++d){let f=n[d],m=d===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=Zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:wa([o,x.pathname]),pathnameBase:eD(wa([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=wa([o,x.pathnameBase]))}return c}function Zp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=$5(t.path,t.caseSensitive,t.end),a=e.match(s);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((m,g,x)=>{let{paramName:b,isOptional:v}=g;if(b==="*"){let S=d[x]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[x];return v&&!w?m[b]=void 0:m[b]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function $5(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),Xg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function X5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ko(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}const K5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z5=t=>K5.test(t);function Q5(t,e){e===void 0&&(e="/");let{pathname:s,search:n="",hash:a=""}=typeof t=="string"?Oo(t):t,o;if(s)if(Z5(s))o=s;else{if(s.includes("//")){let c=s;s=s.replace(/\/\/+/g,"/"),Xg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+s))}s.startsWith("/")?o=L1(s.substring(1),"/"):o=L1(s,e)}else o=e;return{pathname:o,search:tD(n),hash:sD(a)}}function L1(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function cp(t,e,s,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J5(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Kw(t,e){let s=J5(t);return e?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Zw(t,e,s,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Oo(t):(a=gc({},t),Et(!a.pathname||!a.pathname.includes("?"),cp("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),cp("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),cp("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=s;else{let x=e.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}d=x>=0?e[x]:"/"}let f=Q5(a,d),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const wa=t=>t.join("/").replace(/\/\/+/g,"/"),eD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qw=["post","put","patch","delete"];new Set(Qw);const iD=["get",...Qw];new Set(iD);function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},xc.apply(this,arguments)}const gh=N.createContext(null),Jw=N.createContext(null),Ca=N.createContext(null),xh=N.createContext(null),vr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),eS=N.createContext(null);function aD(t,e){let{relative:s}=e===void 0?{}:e;Lc()||Et(!1);let{basename:n,navigator:a}=N.useContext(Ca),{hash:o,pathname:c,search:d}=yh(t,{relative:s}),f=c;return n!=="/"&&(f=c==="/"?n:wa([n,c])),a.createHref({pathname:f,search:d,hash:o})}function Lc(){return N.useContext(xh)!=null}function Ro(){return Lc()||Et(!1),N.useContext(xh).location}function tS(t){N.useContext(Ca).static||N.useLayoutEffect(t)}function rD(){let{isDataRoute:t}=N.useContext(vr);return t?bD():oD()}function oD(){Lc()||Et(!1);let t=N.useContext(gh),{basename:e,future:s,navigator:n}=N.useContext(Ca),{matches:a}=N.useContext(vr),{pathname:o}=Ro(),c=JSON.stringify(Kw(a,s.v7_relativeSplatPath)),d=N.useRef(!1);return tS(()=>{d.current=!0}),N.useCallback(function(m,g){if(g===void 0&&(g={}),!d.current)return;if(typeof m=="number"){n.go(m);return}let x=Zw(m,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:wa([e,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[e,n,c,o,t])}function yh(t,e){let{relative:s}=e===void 0?{}:e,{future:n}=N.useContext(Ca),{matches:a}=N.useContext(vr),{pathname:o}=Ro(),c=JSON.stringify(Kw(a,n.v7_relativeSplatPath));return N.useMemo(()=>Zw(t,JSON.parse(c),o,s==="path"),[t,c,o,s])}function lD(t,e){return cD(t,e)}function cD(t,e,s,n){Lc()||Et(!1);let{navigator:a}=N.useContext(Ca),{matches:o}=N.useContext(vr),c=o[o.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=Ro(),g;if(e){var x;let j=typeof e=="string"?Oo(e):e;f==="/"||(x=j.pathname)!=null&&x.startsWith(f)||Et(!1),g=j}else g=m;let b=g.pathname||"/",v=b;if(f!=="/"){let j=f.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=z5(t,{pathname:v}),S=mD(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:wa([f,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:wa([f,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,s,n);return e&&S?N.createElement(xh.Provider,{value:{location:xc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:pa.Pop}},S):S}function uD(){let t=yD(),e=nD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),s?N.createElement("pre",{style:a},s):null,null)}const dD=N.createElement(uD,null);class hD extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?N.createElement(vr.Provider,{value:this.props.routeContext},N.createElement(eS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fD(t){let{routeContext:e,match:s,children:n}=t,a=N.useContext(gh);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(vr.Provider,{value:e},n)}function mD(t,e,s,n){var a;if(e===void 0&&(e=[]),s===void 0&&(s=null),n===void 0&&(n=null),t==null){var o;if(!s)return null;if(s.errors)t=s.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let c=t,d=(a=s)==null?void 0:a.errors;if(d!=null){let g=c.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);g>=0||Et(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(s&&n&&n.v7_partialHydration)for(let g=0;g<c.length;g++){let x=c[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=g),x.route.id){let{loaderData:b,errors:v}=s,w=x.route.loader&&b[x.route.id]===void 0&&(!v||v[x.route.id]===void 0);if(x.route.lazy||w){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,x,b)=>{let v,w=!1,S=null,j=null;s&&(v=d&&x.route.id?d[x.route.id]:void 0,S=x.route.errorElement||dD,f&&(m<0&&b===0?(vD("route-fallback"),w=!0,j=null):m===b&&(w=!0,j=x.route.hydrateFallbackElement||null)));let M=e.concat(c.slice(0,b+1)),T=()=>{let E;return v?E=S:w?E=j:x.route.Component?E=N.createElement(x.route.Component,null):x.route.element?E=x.route.element:E=g,N.createElement(fD,{match:x,routeContext:{outlet:g,matches:M,isDataRoute:s!=null},children:E})};return s&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?N.createElement(hD,{location:s.location,revalidation:s.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):T()},null)}var sS=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(sS||{}),nS=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(nS||{});function pD(t){let e=N.useContext(gh);return e||Et(!1),e}function gD(t){let e=N.useContext(Jw);return e||Et(!1),e}function xD(t){let e=N.useContext(vr);return e||Et(!1),e}function iS(t){let e=xD(),s=e.matches[e.matches.length-1];return s.route.id||Et(!1),s.route.id}function yD(){var t;let e=N.useContext(eS),s=gD(),n=iS();return e!==void 0?e:(t=s.errors)==null?void 0:t[n]}function bD(){let{router:t}=pD(sS.UseNavigateStable),e=iS(nS.UseNavigateStable),s=N.useRef(!1);return tS(()=>{s.current=!0}),N.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,xc({fromRouteId:e},o)))},[t,e])}const z1={};function vD(t,e,s){z1[t]||(z1[t]=!0)}function _D(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function rr(t){Et(!1)}function wD(t){let{basename:e="/",children:s=null,location:n,navigationType:a=pa.Pop,navigator:o,static:c=!1,future:d}=t;Lc()&&Et(!1);let f=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:f,navigator:o,static:c,future:xc({v7_relativeSplatPath:!1},d)}),[f,d,o,c]);typeof n=="string"&&(n=Oo(n));let{pathname:g="/",search:x="",hash:b="",state:v=null,key:w="default"}=n,S=N.useMemo(()=>{let j=ko(g,f);return j==null?null:{location:{pathname:j,search:x,hash:b,state:v,key:w},navigationType:a}},[f,g,x,b,v,w,a]);return S==null?null:N.createElement(Ca.Provider,{value:m},N.createElement(xh.Provider,{children:s,value:S}))}function SD(t){let{children:e,location:s}=t;return lD(Qp(e),s)}new Promise(()=>{});function Qp(t,e){e===void 0&&(e=[]);let s=[];return N.Children.forEach(t,(n,a)=>{if(!N.isValidElement(n))return;let o=[...e,a];if(n.type===N.Fragment){s.push.apply(s,Qp(n.props.children,o));return}n.type!==rr&&Et(!1),!n.props.index||!n.props.children||Et(!1);let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Qp(n.props.children,o)),s.push(c)}),s}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Wd.apply(this,arguments)}function aS(t,e){if(t==null)return{};var s={},n=Object.keys(t),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(s[a]=t[a]);return s}function jD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ND(t,e){return t.button===0&&(!e||e==="_self")&&!jD(t)}const kD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],TD="6";try{window.__reactRouterVersion=TD}catch{}const DD=N.createContext({isTransitioning:!1}),CD="startTransition",P1=N5[CD];function AD(t){let{basename:e,children:s,future:n,window:a}=t,o=N.useRef();o.current==null&&(o.current=O5({window:a,v5Compat:!0}));let c=o.current,[d,f]=N.useState({action:c.action,location:c.location}),{v7_startTransition:m}=n||{},g=N.useCallback(x=>{m&&P1?P1(()=>f(x)):f(x)},[f,m]);return N.useLayoutEffect(()=>c.listen(g),[c,g]),N.useEffect(()=>_D(n),[n]),N.createElement(wD,{basename:e,children:s,location:d.location,navigationType:d.action,navigator:c,future:n})}const ED=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,or=N.forwardRef(function(e,s){let{onClick:n,relative:a,reloadDocument:o,replace:c,state:d,target:f,to:m,preventScrollReset:g,viewTransition:x}=e,b=aS(e,kD),{basename:v}=N.useContext(Ca),w,S=!1;if(typeof m=="string"&&OD.test(m)&&(w=m,ED))try{let E=new URL(window.location.href),O=m.startsWith("//")?new URL(E.protocol+m):new URL(m),L=ko(O.pathname,v);O.origin===E.origin&&L!=null?m=L+O.search+O.hash:S=!0}catch{}let j=aD(m,{relative:a}),M=zD(m,{replace:c,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:x});function T(E){n&&n(E),E.defaultPrevented||M(E)}return N.createElement("a",Wd({},b,{href:w||j,onClick:S||o?n:T,ref:s,target:f}))}),RD=N.forwardRef(function(e,s){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:c=!1,style:d,to:f,viewTransition:m,children:g}=e,x=aS(e,MD),b=yh(f,{relative:x.relative}),v=Ro(),w=N.useContext(Jw),{navigator:S,basename:j}=N.useContext(Ca),M=w!=null&&PD(b)&&m===!0,T=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,E=v.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(E=E.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&j&&(O=ko(O,j)||O);const L=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let C=E===T||!c&&E.startsWith(T)&&E.charAt(L)==="/",A=O!=null&&(O===T||!c&&O.startsWith(T)&&O.charAt(T.length)==="/"),z={isActive:C,isPending:A,isTransitioning:M},I=C?n:void 0,K;typeof o=="function"?K=o(z):K=[o,C?"active":null,A?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let Z=typeof d=="function"?d(z):d;return N.createElement(or,Wd({},x,{"aria-current":I,className:K,ref:s,style:Z,to:f,viewTransition:m}),typeof g=="function"?g(z):g)});var Jp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jp||(Jp={}));var B1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(B1||(B1={}));function LD(t){let e=N.useContext(gh);return e||Et(!1),e}function zD(t,e){let{target:s,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:d}=e===void 0?{}:e,f=rD(),m=Ro(),g=yh(t,{relative:c});return N.useCallback(x=>{if(ND(x,s)){x.preventDefault();let b=n!==void 0?n:Yd(m)===Yd(g);f(t,{replace:b,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[m,f,g,n,a,s,t,o,c,d])}function PD(t,e){e===void 0&&(e={});let s=N.useContext(DD);s==null&&Et(!1);let{basename:n}=LD(Jp.useViewTransitionState),a=yh(t,{relative:e.relative});if(!s.isTransitioning)return!1;let o=ko(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=ko(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Zp(a.pathname,c)!=null||Zp(a.pathname,o)!=null}const BD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rS=(...t)=>t.filter((e,s,n)=>!!e&&n.indexOf(e)===s).join(" ");var VD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FD=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:c,...d},f)=>N.createElement("svg",{ref:f,...VD,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:rS("lucide",a),...d},[...c.map(([m,g])=>N.createElement(m,g)),...Array.isArray(o)?o:[o]]));const Te=(t,e)=>{const s=N.forwardRef(({className:n,...a},o)=>N.createElement(FD,{ref:o,iconNode:e,className:rS(`lucide-${BD(t)}`,n),...a}));return s.displayName=`${t}`,s};const yc=Te("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const Kg=Te("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);const Zg=Te("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const eg=Te("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const oS=Te("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const up=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const tg=Te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const lS=Te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const V1=Te("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const F1=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const bh=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const H1=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const U1=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const HD=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const cS=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const UD=Te("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Y1=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const W1=Te("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const YD=Te("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);const sg=Te("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const uS=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const dS=Te("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const WD=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Qg=Te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const Id=Te("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const I1=Te("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const ID=Te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const ng=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const qD=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const GD=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const $D=Te("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const hS=Te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const XD=Te("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const KD=Te("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const fS=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const ZD=Te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const Jg=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ig=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const QD=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const mS=Te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const pS=Te("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);const ex=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const q1=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const JD=Te("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);const G1=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const ag=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const rc=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const rg=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Lo=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const ki=Te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function dp(t){return u.jsx("svg",{viewBox:"0 0 741 741",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:u.jsx("path",{d:"m0-71v71h741v-142h-741zm0 882.5v70.5h741v-141h-741zm355.5-782.94c-3.3 0.83-8.48 2.92-11.5 4.62-3.02 1.71-6.85 4.12-8.5 5.36-1.65 1.23-4.89 4.66-7.2 7.6-2.31 2.95-5.52 8.06-7.13 11.36-1.61 3.3-5.03 13.2-7.6 22-2.57 8.8-5.52 18.7-6.55 22-1.03 3.3-4.63 15.9-8.01 28-3.37 12.1-6.97 24.7-7.98 28-1.02 3.3-3.5 11.63-5.51 18.5-2.01 6.88-6.14 19.93-9.18 29-3.04 9.08-8.34 22.35-11.76 29.5-3.43 7.15-8.26 16.15-10.75 20-2.48 3.85-7.22 10.38-10.53 14.5-3.31 4.13-9.12 10.22-12.91 13.55-3.79 3.32-8.69 7.4-10.89 9.06-2.2 1.65-7.6 5.29-12 8.09-4.4 2.79-18.35 10.37-31 16.84-12.65 6.47-25.7 13.66-29 15.97-3.3 2.32-7.61 6.19-9.58 8.6-1.98 2.41-4.74 6.42-6.14 8.89-1.41 2.48-3.38 6.98-4.4 10-1.29 3.85-1.83 8.35-1.81 15 0.03 7.34 0.58 11.09 2.42 16.5 1.39 4.06 4.31 9.5 6.95 12.97 2.51 3.28 7.09 8 10.19 10.5 3.09 2.49 13.44 8.52 23 13.4 9.55 4.88 21.19 10.92 25.87 13.43 4.68 2.51 11.87 6.81 16 9.55 4.12 2.75 10.65 7.55 14.5 10.67 3.85 3.12 9.93 8.82 13.5 12.66 3.57 3.84 9.4 11.22 12.95 16.4 3.55 5.18 8.58 13.7 11.17 18.92 2.59 5.23 5.69 11.98 6.9 15 1.2 3.03 3.67 9.78 5.49 15 1.82 5.23 5.56 16.7 8.31 25.5 2.76 8.8 7.55 24.78 10.65 35.5 3.11 10.73 7.84 26.93 10.51 36 2.68 9.08 6.93 23.81 9.45 32.75 2.51 8.94 5.64 18.39 6.95 21 1.31 2.61 4.09 7 6.19 9.75 2.09 2.75 5.63 6.67 7.87 8.72 2.23 2.04 6.54 5.05 9.56 6.69 3.02 1.64 8.43 3.73 12 4.66 4.88 1.26 8.62 1.53 15 1.06 6.56-0.49 10.1-1.36 15.5-3.85 3.85-1.77 9.25-4.88 12-6.92 2.75-2.03 6.56-5.65 8.47-8.03 1.91-2.38 4.98-7.25 6.82-10.83 1.84-3.57 4.02-8.97 4.84-12 0.82-3.02 2.79-10 4.36-15.5 1.58-5.5 5.36-18.55 8.4-29 3.05-10.45 8.5-29.12 12.12-41.5 3.61-12.37 7.45-25.54 8.53-29.25 1.08-3.71 4.71-14.51 8.07-24 3.36-9.49 8.51-22.2 11.45-28.25 2.93-6.05 7.22-13.92 9.53-17.5 2.3-3.57 6.76-9.65 9.91-13.5 3.15-3.85 8.94-10.04 12.86-13.75 3.93-3.71 10.4-9.04 14.39-11.84 3.99-2.8 11.3-7.48 16.25-10.4 4.95-2.92 17.77-9.76 28.5-15.19 10.73-5.44 21.52-11.27 24-12.96 2.48-1.69 6.71-5.5 9.41-8.47 2.7-2.96 6.38-8.54 8.18-12.39 1.8-3.85 3.75-10.04 4.34-13.75 0.73-4.63 0.76-8.94 0.07-13.75-0.55-3.85-1.92-9.59-3.05-12.75-1.12-3.16-4.05-8.56-6.5-12-2.45-3.44-6.81-8.02-9.7-10.17-2.89-2.16-16.05-9.52-29.25-16.35-13.2-6.84-28.09-15.08-33.1-18.33-5-3.24-11.08-7.21-13.5-8.81-2.42-1.59-8.67-7.22-13.9-12.5-5.23-5.27-12.25-13.64-15.6-18.59-3.36-4.95-8.02-12.6-10.35-17-2.34-4.4-5.36-10.7-6.71-14-1.36-3.3-4.63-11.85-7.28-19-2.66-7.15-6.72-19.75-9.03-28-2.32-8.25-5.29-18.37-6.6-22.5-1.31-4.12-5.28-17.62-8.81-30-3.53-12.37-8.1-28.12-10.15-35-2.06-6.87-4.52-15.42-5.48-19-0.96-3.57-3.15-9.87-4.87-14-1.72-4.12-5.34-10.42-8.03-14-3.25-4.3-7.22-8.01-11.75-10.97-3.76-2.46-9.32-5.31-12.34-6.33-3.02-1.03-9.1-2.04-13.5-2.26-5.13-0.26-10.16 0.14-14 1.12z"})})}async function ke(t,e="GET",s){const n=t.startsWith("/")?t.slice(1):t,a={method:e,headers:{Accept:"application/json","Content-Type":"application/json"}};s&&(e==="POST"||e==="DELETE")&&(a.body=JSON.stringify(s));const o=await fetch(n,a);if(!o.ok)throw new Error(`${t} -> ${o.status}`);return o.json()}const he={schedule:()=>ke("/api/schedule"),scheduleTodayWithHistory:()=>ke("/api/schedule/today_with_history"),status:()=>ke("/api/status"),health:()=>ke("/api/health"),version:()=>ke("/api/version"),horizon:()=>ke("/api/forecast/horizon"),config:()=>ke("/api/config"),configSave:t=>ke("/api/config/save","POST",t),configReset:()=>ke("/api/config/reset","POST"),setTheme:t=>ke("/api/theme","POST",t),haAverage:()=>ke("/api/ha/average"),haWaterToday:()=>ke("/api/ha/water_today"),haTest:t=>ke("/api/ha/test","POST",t),haEntities:()=>ke("/api/ha/entities"),haServices:()=>ke("/api/ha/services"),haEntityState:t=>ke(`/api/ha/entity/${t}`),learningStatus:()=>ke("/api/learning/status"),learningHistory:()=>ke("/api/learning/history"),learningDailyMetrics:()=>ke("/api/learning/daily_metrics"),learningRun:()=>ke("/api/learning/run","POST"),learningLoops:()=>ke("/api/learning/loops"),theme:()=>ke("/api/themes"),runPlanner:()=>ke("/api/run_planner","POST"),loadServerPlan:()=>ke("/api/db/current_schedule"),pushToDb:()=>ke("/api/db/push_current","POST"),resetToOptimal:()=>ke("/api/schedule/save","POST"),simulate:async t=>{const e=await fetch("api/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Simulation failed");return e.json()},getAdvice:async()=>{const t=await fetch("api/analyst/advice");if(!t.ok)throw new Error("Failed to fetch advice");return t.json()},analystRun:()=>ke("/api/analyst/run"),debug:()=>ke("/api/debug"),debugLogs:()=>ke("/api/debug/logs"),historySoc:(t="today")=>ke(`/api/history/soc?date=${t}`),forecastEval:()=>ke("/api/forecast/eval"),forecastDay:t=>ke(t?`/api/forecast/day?date=${t}`:"/api/forecast/day"),forecastRunEval:(t=7)=>ke("/api/forecast/run_eval","POST",{days_back:t}),forecastRunForward:(t=48)=>ke("/api/forecast/run_forward","POST",{horizon_hours:t}),schedulerStatus:()=>ke("/api/scheduler/status"),aurora:{dashboard:()=>ke("/api/aurora/dashboard"),briefing:t=>ke("/api/aurora/briefing","POST",t),toggleReflex:t=>ke("/api/aurora/config/toggle_reflex","POST",{enabled:t})},performanceData:(t=7)=>ke(`/api/performance/data?days=${t}`),executor:{status:()=>ke("/api/executor/status"),run:()=>ke("/api/executor/run","POST"),pause:()=>ke("/api/executor/pause","POST"),resume:()=>ke("/api/executor/resume","POST"),quickAction:{get:()=>ke("/api/executor/quick-action"),set:(t,e)=>ke("/api/executor/quick-action","POST",{type:t,duration_minutes:e}),clear:()=>ke("/api/executor/quick-action","DELETE")}},waterBoost:{status:()=>ke("/api/water/boost"),start:t=>ke("/api/water/boost","POST",{duration_minutes:t}),cancel:()=>ke("/api/water/boost","DELETE")},energyToday:()=>ke("/api/energy/today")};function gS(){const[t,e]=N.useState("dark"),[s,n]=N.useState(!0),a=f=>f==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":f,o=f=>{const m=document.documentElement;f==="dark"?m.classList.add("dark"):m.classList.remove("dark")};N.useEffect(()=>{(async()=>{try{const g=(await he.config())?.ui?.theme_mode;if(g&&["light","dark","system"].includes(g))e(g),o(a(g));else{const x=localStorage.getItem("darkstar-theme");x&&["light","dark","system"].includes(x)?(e(x),o(a(x))):(e("dark"),o("dark"))}}catch{const g=localStorage.getItem("darkstar-theme")||"dark";e(g),o(a(g))}finally{n(!1)}})()},[]),N.useEffect(()=>{if(t!=="system")return;const f=window.matchMedia("(prefers-color-scheme: dark)"),m=g=>{o(g.matches?"dark":"light")};return f.addEventListener("change",m),()=>f.removeEventListener("change",m)},[t]);const c=async()=>{const f=t==="dark"?"light":"dark";e(f),o(f),localStorage.setItem("darkstar-theme",f);try{await he.configSave({ui:{theme_mode:f}})}catch(m){console.warn("[ThemeToggle] Failed to save theme to backend:",m)}};if(s)return u.jsx("div",{className:"h-12 w-12 rounded-2xl border border-line/70 bg-surface/80 flex items-center justify-center",children:u.jsx("div",{className:"h-5 w-5 rounded-full bg-muted/30 animate-pulse"})});const d=a(t);return u.jsxs("button",{type:"button",onClick:c,className:"group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface/80 hover:bg-surface2 transition",title:`Switch to ${d==="dark"?"light":"dark"} mode`,children:[d==="dark"?u.jsx(ex,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}):u.jsx(GD,{className:"h-5 w-5 text-muted group-hover:text-accent transition-colors"}),u.jsx("span",{className:"absolute -right-2 top-1 rounded-full bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:d==="dark"?"Light mode":"Dark mode"})]})}const Pl=({to:t,icon:e,label:s,onClick:n})=>{const a="group relative flex items-center justify-center w-12 h-12 rounded-2xl border border-line/70 bg-surface/80 hover:bg-surface2 transition",o="ring-2 ring-accent/50",c=u.jsxs(u.Fragment,{children:[u.jsx(e,{className:"h-5 w-5 text-muted group-hover:text-text"}),u.jsx("span",{className:"absolute -right-2 top-1 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition z-50 whitespace-nowrap",children:s})]});return t?u.jsx(RD,{to:t,className:({isActive:d})=>`${a} ${d?o:""}`,title:s,children:c}):u.jsx("button",{onClick:n,className:a,title:s,children:c})};function eC(){const{pathname:t}=Ro(),[e,s]=N.useState(!1),[n,a]=N.useState(null),[o,c]=N.useState("...");N.useEffect(()=>{const f=async()=>{try{await he.status(),a(!0)}catch{a(!1)}};f();const m=setInterval(f,3e4);return()=>clearInterval(m)},[]),N.useEffect(()=>{he.version().then(f=>c(f.version||"dev")).catch(()=>c("dev"))},[]);const d=()=>s(!1);return u.jsxs(u.Fragment,{children:[u.jsx("aside",{className:"hidden lg:block fixed left-6 top-6 bottom-6 z-50",children:u.jsxs("div",{className:"h-full w-16 rounded-2xl bg-surface shadow-float border border-line/60 flex flex-col items-center gap-3 p-2",children:[u.jsxs(or,{to:"/",className:"mt-1 mb-1 flex items-center justify-center group relative",children:[u.jsx("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-surface2 border border-line/60 overflow-hidden",children:u.jsx(dp,{className:"h-8 w-8 text-accent"})}),u.jsxs("span",{className:"absolute left-14 top-1/2 -translate-y-1/2 rounded-pill bg-surface2/90 border border-line/60 px-2 py-0.5 text-[10px] text-muted opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-50 pointer-events-none",children:["darkstar v",o]})]}),u.jsx(Pl,{to:"/",icon:Id,label:"Dash"}),u.jsx(Pl,{to:"/executor",icon:sg,label:"Executor"}),u.jsx(Pl,{to:"/aurora",icon:tg,label:"Aurora"}),u.jsx(Pl,{to:"/debug",icon:V1,label:"Debug"}),u.jsx("div",{className:"mt-auto w-8 h-px bg-line/70"}),u.jsxs("div",{className:"py-2 flex flex-col items-center gap-2",children:[u.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-all duration-500 ${n===!0?"bg-good shadow-[0_0_8px_rgba(31,178,86,0.5)]":n===!1?"bg-bad":"bg-slate-700"}`,title:n===!0?"System Online":n===!1?"System Offline":"Connecting..."}),u.jsxs("span",{className:"text-[10px] text-muted/30 font-mono select-none tracking-widest whitespace-nowrap opacity-50 hover:opacity-100 transition",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:["darkstar v",o]})]}),u.jsx(gS,{}),u.jsx(Pl,{to:"/settings",icon:ig,label:"Settings"})]})}),u.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-surface/95 border-b border-line/60 flex items-center justify-between px-4 py-2",children:[u.jsx("button",{type:"button","aria-label":"Open navigation",className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-line/70 bg-surface2 text-muted hover:border-accent hover:text-accent",onClick:()=>s(!0),children:u.jsx(qD,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[u.jsx(dp,{className:"h-5 w-5 text-accent"}),u.jsxs("span",{className:"font-mono",children:["v",o]})]}),u.jsx("div",{className:"w-10"})]}),e&&u.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 bg-[rgba(4,6,10,0.92)] backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-line/60",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-surface2 border border-line/60",children:u.jsx(dp,{className:"h-5 w-5 text-accent"})}),u.jsxs("span",{className:"text-muted font-mono",children:["darkstar v",o]})]}),u.jsx("button",{type:"button","aria-label":"Close navigation",className:"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-line/70 bg-surface text-muted hover:border-accent hover:text-accent",onClick:d,children:u.jsx(Lo,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3",onClick:d,children:[u.jsxs(or,{to:"/",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(Id,{className:`h-6 w-6 ${t==="/"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Dash"})]}),u.jsxs(or,{to:"/executor",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/executor"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(sg,{className:`h-6 w-6 ${t==="/executor"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Executor"})]}),u.jsxs(or,{to:"/aurora",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/aurora"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(tg,{className:`h-6 w-6 ${t==="/aurora"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Aurora"})]}),u.jsxs(or,{to:"/debug",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/debug"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(V1,{className:`h-6 w-6 ${t==="/debug"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Debug"})]}),u.jsxs(or,{to:"/settings",className:`flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border ${t==="/settings"?"bg-surface2 border-accent/50 ring-1 ring-accent/50":"bg-surface/50 border-line/70"}`,children:[u.jsx(ig,{className:`h-6 w-6 ${t==="/settings"?"text-accent":"text-muted"}`}),u.jsx("span",{className:"text-sm",children:"Settings"})]})]})]})]})}class tC extends N.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("[ErrorBoundary] Caught error:",e),console.error("[ErrorBoundary] Component stack:",s.componentStack)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-md w-full bg-surface border border-line rounded-2xl p-8 shadow-float text-center",children:[u.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center",children:u.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h1",{className:"text-lg font-semibold text-text mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-sm text-muted mb-4",children:"The application encountered an unexpected error."}),this.state.error&&u.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:u.jsx("code",{className:"text-xs text-red-400 break-all",children:this.state.error.message})}),u.jsx("button",{onClick:this.handleReload,className:"px-6 py-2.5 rounded-full bg-accent text-canvas font-medium text-sm hover:bg-accent2 transition-colors",children:"Reload Page"}),u.jsx("p",{className:"mt-4 text-xs text-muted/60",children:"If this keeps happening, check the browser console for details."})]})}):this.props.children}}const sC={card:"rounded-xl2 bg-surface shadow-float border border-line/60"};function Ee({children:t,className:e=""}){return u.jsx("div",{className:`${sC.card} ${e}`,children:t})}function zc(t){return t+.5|0}const ga=(t,e,s)=>Math.max(Math.min(t,s),e);function Zl(t){return ga(zc(t*2.55),0,255)}function Sa(t){return ga(zc(t*255),0,255)}function vi(t){return ga(zc(t/2.55)/100,0,1)}function $1(t){return ga(zc(t*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},og=[..."0123456789ABCDEF"],nC=t=>og[t&15],iC=t=>og[(t&240)>>4]+og[t&15],rd=t=>(t&240)>>4===(t&15),aC=t=>rd(t.r)&&rd(t.g)&&rd(t.b)&&rd(t.a);function rC(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&ln[t[1]]*17,g:255&ln[t[2]]*17,b:255&ln[t[3]]*17,a:e===5?ln[t[4]]*17:255}:(e===7||e===9)&&(s={r:ln[t[1]]<<4|ln[t[2]],g:ln[t[3]]<<4|ln[t[4]],b:ln[t[5]]<<4|ln[t[6]],a:e===9?ln[t[7]]<<4|ln[t[8]]:255})),s}const oC=(t,e)=>t<255?e(t):"";function lC(t){var e=aC(t)?nC:iC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+oC(t.a,e):void 0}const cC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xS(t,e,s){const n=e*Math.min(s,1-s),a=(o,c=(o+t/30)%12)=>s-n*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function uC(t,e,s){const n=(a,o=(a+t/60)%6)=>s-s*e*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function dC(t,e,s){const n=xS(t,1,.5);let a;for(e+s>1&&(a=1/(e+s),e*=a,s*=a),a=0;a<3;a++)n[a]*=1-e-s,n[a]+=e;return n}function hC(t,e,s,n,a){return t===a?(e-s)/n+(e<s?6:0):e===a?(s-t)/n+2:(t-e)/n+4}function tx(t){const s=t.r/255,n=t.g/255,a=t.b/255,o=Math.max(s,n,a),c=Math.min(s,n,a),d=(o+c)/2;let f,m,g;return o!==c&&(g=o-c,m=d>.5?g/(2-o-c):g/(o+c),f=hC(s,n,a,g,o),f=f*60+.5),[f|0,m||0,d]}function sx(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(Sa)}function nx(t,e,s){return sx(xS,t,e,s)}function fC(t,e,s){return sx(dC,t,e,s)}function mC(t,e,s){return sx(uC,t,e,s)}function yS(t){return(t%360+360)%360}function pC(t){const e=cC.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Zl(+e[5]):Sa(+e[5]));const a=yS(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?n=fC(a,o,c):e[1]==="hsv"?n=mC(a,o,c):n=nx(a,o,c),{r:n[0],g:n[1],b:n[2],a:s}}function gC(t,e){var s=tx(t);s[0]=yS(s[0]+e),s=nx(s),t.r=s[0],t.g=s[1],t.b=s[2]}function xC(t){if(!t)return;const e=tx(t),s=e[0],n=$1(e[1]),a=$1(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${a}%, ${vi(t.a)})`:`hsl(${s}, ${n}%, ${a}%)`}const X1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},K1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yC(){const t={},e=Object.keys(K1),s=Object.keys(X1);let n,a,o,c,d;for(n=0;n<e.length;n++){for(c=d=e[n],a=0;a<s.length;a++)o=s[a],d=d.replace(o,X1[o]);o=parseInt(K1[c],16),t[d]=[o>>16&255,o>>8&255,o&255]}return t}let od;function bC(t){od||(od=yC(),od.transparent=[0,0,0,0]);const e=od[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const vC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _C(t){const e=vC.exec(t);let s=255,n,a,o;if(e){if(e[7]!==n){const c=+e[7];s=e[8]?Zl(c):ga(c*255,0,255)}return n=+e[1],a=+e[3],o=+e[5],n=255&(e[2]?Zl(n):ga(n,0,255)),a=255&(e[4]?Zl(a):ga(a,0,255)),o=255&(e[6]?Zl(o):ga(o,0,255)),{r:n,g:a,b:o,a:s}}}function wC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${vi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const hp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,lo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function SC(t,e,s){const n=lo(vi(t.r)),a=lo(vi(t.g)),o=lo(vi(t.b));return{r:Sa(hp(n+s*(lo(vi(e.r))-n))),g:Sa(hp(a+s*(lo(vi(e.g))-a))),b:Sa(hp(o+s*(lo(vi(e.b))-o))),a:t.a+s*(e.a-t.a)}}function ld(t,e,s){if(t){let n=tx(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=nx(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function bS(t,e){return t&&Object.assign(e||{},t)}function Z1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Sa(t[3]))):(e=bS(t,{r:0,g:0,b:0,a:1}),e.a=Sa(e.a)),e}function jC(t){return t.charAt(0)==="r"?_C(t):pC(t)}class bc{constructor(e){if(e instanceof bc)return e;const s=typeof e;let n;s==="object"?n=Z1(e):s==="string"&&(n=rC(e)||bC(e)||jC(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=bS(this._rgb);return e&&(e.a=vi(e.a)),e}set rgb(e){this._rgb=Z1(e)}rgbString(){return this._valid?wC(this._rgb):void 0}hexString(){return this._valid?lC(this._rgb):void 0}hslString(){return this._valid?xC(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,a=e.rgb;let o;const c=s===o?.5:s,d=2*c-1,f=n.a-a.a,m=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;o=1-m,n.r=255&m*n.r+o*a.r+.5,n.g=255&m*n.g+o*a.g+.5,n.b=255&m*n.b+o*a.b+.5,n.a=c*n.a+(1-c)*a.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=SC(this._rgb,e._rgb,s)),this}clone(){return new bc(this.rgb)}alpha(e){return this._rgb.a=Sa(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=zc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ld(this._rgb,2,e),this}darken(e){return ld(this._rgb,2,-e),this}saturate(e){return ld(this._rgb,1,e),this}desaturate(e){return ld(this._rgb,1,-e),this}rotate(e){return gC(this._rgb,e),this}}function pi(){}const NC=(()=>{let t=0;return()=>t++})();function He(t){return t==null}function Nt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function We(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function At(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ws(t,e){return At(t)?t:e}function Oe(t,e){return typeof t>"u"?e:t}const kC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,vS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function gt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function ot(t,e,s,n){let a,o,c;if(Nt(t))for(o=t.length,a=0;a<o;a++)e.call(s,t[a],a);else if(We(t))for(c=Object.keys(t),o=c.length,a=0;a<o;a++)e.call(s,t[c[a]],c[a])}function qd(t,e){let s,n,a,o;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(a=t[s],o=e[s],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Gd(t){if(Nt(t))return t.map(Gd);if(We(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let a=0;for(;a<n;++a)e[s[a]]=Gd(t[s[a]]);return e}return t}function _S(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function MC(t,e,s,n){if(!_S(t))return;const a=e[t],o=s[t];We(a)&&We(o)?vc(a,o,n):e[t]=Gd(o)}function vc(t,e,s){const n=Nt(e)?e:[e],a=n.length;if(!We(t))return t;s=s||{};const o=s.merger||MC;let c;for(let d=0;d<a;++d){if(c=n[d],!We(c))continue;const f=Object.keys(c);for(let m=0,g=f.length;m<g;++m)o(f[m],t,c,s)}return t}function oc(t,e){return vc(t,e,{merger:TC})}function TC(t,e,s){if(!_S(t))return;const n=e[t],a=s[t];We(n)&&We(a)?oc(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Gd(a))}const Q1={"":t=>t,x:t=>t.x,y:t=>t.y};function DC(t){const e=t.split("."),s=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function CC(t){const e=DC(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function ka(t,e){return(Q1[e]||(Q1[e]=CC(e)))(t)}function ix(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _c=t=>typeof t<"u",Ma=t=>typeof t=="function",J1=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function AC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Je=Math.PI,bt=2*Je,EC=bt+Je,$d=Number.POSITIVE_INFINITY,OC=Je/180,Vt=Je/2,er=Je/4,e_=Je*2/3,xa=Math.log10,Vn=Math.sign;function lc(t,e,s){return Math.abs(t-e)<s}function t_(t){const e=Math.round(t);t=lc(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(xa(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function RC(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((a,o)=>a-o).pop(),e}function LC(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Mo(t){return!LC(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function zC(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function wS(t,e,s){let n,a,o;for(n=0,a=t.length;n<a;n++)o=t[n][s],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function wn(t){return t*(Je/180)}function ax(t){return t*(180/Je)}function s_(t){if(!At(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function SS(t,e){const s=e.x-t.x,n=e.y-t.y,a=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*Je&&(o+=bt),{angle:o,distance:a}}function lg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function PC(t,e){return(t-e+EC)%bt-Je}function ps(t){return(t%bt+bt)%bt}function wc(t,e,s,n){const a=ps(t),o=ps(e),c=ps(s),d=ps(o-a),f=ps(c-a),m=ps(a-o),g=ps(a-c);return a===o||a===c||n&&o===c||d>f&&m<g}function as(t,e,s){return Math.max(e,Math.min(s,t))}function BC(t){return as(t,-32768,32767)}function _i(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function rx(t,e,s){s=s||(c=>t[c]<e);let n=t.length-1,a=0,o;for(;n-a>1;)o=a+n>>1,s(o)?a=o:n=o;return{lo:a,hi:n}}const wi=(t,e,s,n)=>rx(t,s,n?a=>{const o=t[a][e];return o<s||o===s&&t[a+1][e]===s}:a=>t[a][e]<s),VC=(t,e,s)=>rx(t,s,n=>t[n][e]>=s);function FC(t,e,s){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>s;)a--;return n>0||a<t.length?t.slice(n,a):t}const jS=["push","pop","shift","splice","unshift"];function HC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),jS.forEach(s=>{const n="_onData"+ix(s),a=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return t._chartjs.listeners.forEach(d=>{typeof d[n]=="function"&&d[n](...o)}),c}})})}function n_(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(jS.forEach(o=>{delete t[o]}),delete t._chartjs)}function NS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const kS=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function MS(t,e){let s=[],n=!1;return function(...a){s=a,n||(n=!0,kS.call(window,()=>{n=!1,t.apply(e,s)}))}}function UC(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const ox=t=>t==="start"?"left":t==="end"?"right":"center",fs=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,YC=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function TS(t,e,s){const n=e.length;let a=0,o=n;if(t._sorted){const{iScale:c,vScale:d,_parsed:f}=t,m=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,g=c.axis,{min:x,max:b,minDefined:v,maxDefined:w}=c.getUserBounds();if(v){if(a=Math.min(wi(f,g,x).lo,s?n:wi(e,g,c.getPixelForValue(x)).lo),m){const S=f.slice(0,a+1).reverse().findIndex(j=>!He(j[d.axis]));a-=Math.max(0,S)}a=as(a,0,n-1)}if(w){let S=Math.max(wi(f,c.axis,b,!0).hi+1,s?0:wi(e,g,c.getPixelForValue(b),!0).hi+1);if(m){const j=f.slice(S-1).findIndex(M=>!He(M[d.axis]));S+=Math.max(0,j)}o=as(S,a,n)-a}else o=n-a}return{start:a,count:o}}function DS(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=a,!0;const o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,a),o}const cd=t=>t===0||t===1,i_=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*bt/s)),a_=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*bt/s)+1,cc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Vt)+1,easeOutSine:t=>Math.sin(t*Vt),easeInOutSine:t=>-.5*(Math.cos(Je*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>cd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>cd(t)?t:i_(t,.075,.3),easeOutElastic:t=>cd(t)?t:a_(t,.075,.3),easeInOutElastic(t){return cd(t)?t:t<.5?.5*i_(t*2,.1125,.45):.5+.5*a_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-cc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?cc.easeInBounce(t*2)*.5:cc.easeOutBounce(t*2-1)*.5+.5};function lx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function r_(t){return lx(t)?t:new bc(t)}function fp(t){return lx(t)?t:new bc(t).saturate(.5).darken(.1).hexString()}const WC=["x","y","borderWidth","radius","tension"],IC=["color","borderColor","backgroundColor"];function qC(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:IC},numbers:{type:"number",properties:WC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function GC(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const o_=new Map;function $C(t,e){e=e||{};const s=t+JSON.stringify(e);let n=o_.get(s);return n||(n=new Intl.NumberFormat(t,e),o_.set(s,n)),n}function Pc(t,e,s){return $C(e,s).format(t)}const CS={values(t){return Nt(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let a,o=t;if(s.length>1){const m=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=XC(t,s)}const c=xa(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),Pc(t,n,f)},logarithmic(t,e,s){if(t===0)return"0";const n=s[e].significand||t/Math.pow(10,Math.floor(xa(t)));return[1,2,3,5,10,15].includes(n)||e>.8*s.length?CS.numeric.call(this,t,e,s):""}};function XC(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var vh={formatters:CS};function KC(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yr=Object.create(null),cg=Object.create(null);function uc(t,e){if(!e)return t;const s=e.split(".");for(let n=0,a=s.length;n<a;++n){const o=s[n];t=t[o]||(t[o]=Object.create(null))}return t}function mp(t,e,s){return typeof e=="string"?vc(uc(t,e),s):vc(uc(t,""),e)}class ZC{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>fp(a.backgroundColor),this.hoverBorderColor=(n,a)=>fp(a.borderColor),this.hoverColor=(n,a)=>fp(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return mp(this,e,s)}get(e){return uc(this,e)}describe(e,s){return mp(cg,e,s)}override(e,s){return mp(yr,e,s)}route(e,s,n,a){const o=uc(this,e),c=uc(this,n),d="_"+s;Object.defineProperties(o,{[d]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const f=this[d],m=c[a];return We(f)?Object.assign({},m,f):Oe(f,m)},set(f){this[d]=f}}})}apply(e){e.forEach(s=>s(this))}}var kt=new ZC({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qC,GC,KC]);function QC(t){return!t||He(t.size)||He(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Xd(t,e,s,n,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,s.push(a)),o>n&&(n=o),n}function JC(t,e,s,n){n=n||{};let a=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},o=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let c=0;const d=s.length;let f,m,g,x,b;for(f=0;f<d;f++)if(x=s[f],x!=null&&!Nt(x))c=Xd(t,a,o,c,x);else if(Nt(x))for(m=0,g=x.length;m<g;m++)b=x[m],b!=null&&!Nt(b)&&(c=Xd(t,a,o,c,b));t.restore();const v=o.length/2;if(v>s.length){for(f=0;f<v;f++)delete a[o[f]];o.splice(0,v)}return c}function tr(t,e,s){const n=t.currentDevicePixelRatio,a=s!==0?Math.max(s/2,.5):0;return Math.round((e-a)*n)/n+a}function l_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ug(t,e,s,n){AS(t,e,s,n,null)}function AS(t,e,s,n,a){let o,c,d,f,m,g,x,b;const v=e.pointStyle,w=e.rotation,S=e.radius;let j=(w||0)*OC;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(j),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:a?t.ellipse(s,n,a/2,S,0,0,bt):t.arc(s,n,S,0,bt),t.closePath();break;case"triangle":g=a?a/2:S,t.moveTo(s+Math.sin(j)*g,n-Math.cos(j)*S),j+=e_,t.lineTo(s+Math.sin(j)*g,n-Math.cos(j)*S),j+=e_,t.lineTo(s+Math.sin(j)*g,n-Math.cos(j)*S),t.closePath();break;case"rectRounded":m=S*.516,f=S-m,c=Math.cos(j+er)*f,x=Math.cos(j+er)*(a?a/2-m:f),d=Math.sin(j+er)*f,b=Math.sin(j+er)*(a?a/2-m:f),t.arc(s-x,n-d,m,j-Je,j-Vt),t.arc(s+b,n-c,m,j-Vt,j),t.arc(s+x,n+d,m,j,j+Vt),t.arc(s-b,n+c,m,j+Vt,j+Je),t.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*S,g=a?a/2:f,t.rect(s-g,n-f,2*g,2*f);break}j+=er;case"rectRot":x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,d=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(s-x,n-d),t.lineTo(s+b,n-c),t.lineTo(s+x,n+d),t.lineTo(s-b,n+c),t.closePath();break;case"crossRot":j+=er;case"cross":x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,d=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(s-x,n-d),t.lineTo(s+x,n+d),t.moveTo(s+b,n-c),t.lineTo(s-b,n+c);break;case"star":x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,d=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(s-x,n-d),t.lineTo(s+x,n+d),t.moveTo(s+b,n-c),t.lineTo(s-b,n+c),j+=er,x=Math.cos(j)*(a?a/2:S),c=Math.cos(j)*S,d=Math.sin(j)*S,b=Math.sin(j)*(a?a/2:S),t.moveTo(s-x,n-d),t.lineTo(s+x,n+d),t.moveTo(s+b,n-c),t.lineTo(s-b,n+c);break;case"line":c=a?a/2:Math.cos(j)*S,d=Math.sin(j)*S,t.moveTo(s-c,n-d),t.lineTo(s+c,n+d);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(j)*(a?a/2:S),n+Math.sin(j)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Si(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function _h(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function wh(t){t.restore()}function eA(t,e,s,n,a){if(!e)return t.lineTo(s.x,s.y);if(a==="middle"){const o=(e.x+s.x)/2;t.lineTo(o,e.y),t.lineTo(o,s.y)}else a==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function tA(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function sA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),He(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function nA(t,e,s,n,a){if(a.strikethrough||a.underline){const o=t.measureText(n),c=e-o.actualBoundingBoxLeft,d=e+o.actualBoundingBoxRight,f=s-o.actualBoundingBoxAscent,m=s+o.actualBoundingBoxDescent,g=a.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(c,g),t.lineTo(d,g),t.stroke()}}function iA(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function br(t,e,s,n,a,o={}){const c=Nt(e)?e:[e],d=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=a.string,sA(t,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&iA(t,o.backdrop),d&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),He(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,s,n,o.maxWidth)),t.fillText(m,s,n,o.maxWidth),nA(t,s,n,m,o),n+=Number(a.lineHeight);t.restore()}function Sc(t,e){const{x:s,y:n,w:a,h:o,radius:c}=e;t.arc(s+c.topLeft,n+c.topLeft,c.topLeft,1.5*Je,Je,!0),t.lineTo(s,n+o-c.bottomLeft),t.arc(s+c.bottomLeft,n+o-c.bottomLeft,c.bottomLeft,Je,Vt,!0),t.lineTo(s+a-c.bottomRight,n+o),t.arc(s+a-c.bottomRight,n+o-c.bottomRight,c.bottomRight,Vt,0,!0),t.lineTo(s+a,n+c.topRight),t.arc(s+a-c.topRight,n+c.topRight,c.topRight,0,-Vt,!0),t.lineTo(s+c.topLeft,n)}const aA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function oA(t,e){const s=(""+t).match(aA);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const lA=t=>+t||0;function cx(t,e){const s={},n=We(e),a=n?Object.keys(e):e,o=We(t)?n?c=>Oe(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of a)s[c]=lA(o(c));return s}function ES(t){return cx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function mr(t){return cx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function bs(t){const e=ES(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qt(t,e){t=t||{},e=e||kt.font;let s=Oe(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Oe(t.style,e.style);n&&!(""+n).match(rA)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Oe(t.family,e.family),lineHeight:oA(Oe(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Oe(t.weight,e.weight),string:""};return a.string=QC(a),a}function Ql(t,e,s,n){let a,o,c;for(a=0,o=t.length;a<o;++a)if(c=t[a],c!==void 0&&c!==void 0)return c}function cA(t,e,s){const{min:n,max:a}=t,o=vS(e,(a-n)/2),c=(d,f)=>s&&d===0?0:d+f;return{min:c(n,-Math.abs(o)),max:c(a,o)}}function Aa(t,e){return Object.assign(Object.create(t),e)}function ux(t,e=[""],s,n,a=()=>t[0]){const o=s||t;typeof n>"u"&&(n=zS("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:n,_getTarget:a,override:d=>ux([d,...t],e,o,n)};return new Proxy(c,{deleteProperty(d,f){return delete d[f],delete d._keys,delete t[0][f],!0},get(d,f){return RS(d,f,()=>xA(f,e,t,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,f){return u_(d).includes(f)},ownKeys(d){return u_(d)},set(d,f,m){const g=d._storage||(d._storage=a());return d[f]=g[f]=m,delete d._keys,!0}})}function To(t,e,s,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:OS(t,n),setContext:o=>To(t,o,s,n),override:o=>To(t.override(o),e,s,n)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,d){return RS(o,c,()=>dA(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,d){return t[c]=d,delete o[c],!0}})}function OS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:s,indexable:n,isScriptable:Ma(s)?s:()=>s,isIndexable:Ma(n)?n:()=>n}}const uA=(t,e)=>t?t+ix(e):e,dx=(t,e)=>We(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function RS(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function dA(t,e,s){const{_proxy:n,_context:a,_subProxy:o,_descriptors:c}=t;let d=n[e];return Ma(d)&&c.isScriptable(e)&&(d=hA(e,d,t,s)),Nt(d)&&d.length&&(d=fA(e,d,t,c.isIndexable)),dx(e,d)&&(d=To(d,a,o&&o[e],c)),d}function hA(t,e,s,n){const{_proxy:a,_context:o,_subProxy:c,_stack:d}=s;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let f=e(o,c||n);return d.delete(t),dx(t,f)&&(f=hx(a._scopes,a,t,f)),f}function fA(t,e,s,n){const{_proxy:a,_context:o,_subProxy:c,_descriptors:d}=s;if(typeof o.index<"u"&&n(t))return e[o.index%e.length];if(We(e[0])){const f=e,m=a._scopes.filter(g=>g!==f);e=[];for(const g of f){const x=hx(m,a,t,g);e.push(To(x,o,c&&c[t],d))}}return e}function LS(t,e,s){return Ma(t)?t(e,s):t}const mA=(t,e)=>t===!0?e:typeof t=="string"?ka(e,t):void 0;function pA(t,e,s,n,a){for(const o of e){const c=mA(s,o);if(c){t.add(c);const d=LS(c._fallback,s,a);if(typeof d<"u"&&d!==s&&d!==n)return d}else if(c===!1&&typeof n<"u"&&s!==n)return null}return!1}function hx(t,e,s,n){const a=e._rootScopes,o=LS(e._fallback,s,n),c=[...t,...a],d=new Set;d.add(n);let f=c_(d,c,s,o||s,n);return f===null||typeof o<"u"&&o!==s&&(f=c_(d,c,o,f,n),f===null)?!1:ux(Array.from(d),[""],a,o,()=>gA(e,s,n))}function c_(t,e,s,n,a){for(;s;)s=pA(t,e,s,n,a);return s}function gA(t,e,s){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Nt(a)&&We(s)?s:a||{}}function xA(t,e,s,n){let a;for(const o of e)if(a=zS(uA(o,t),s),typeof a<"u")return dx(t,a)?hx(s,n,t,a):a}function zS(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function u_(t){let e=t._keys;return e||(e=t._keys=yA(t._scopes)),e}function yA(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function PS(t,e,s,n){const{iScale:a}=t,{key:o="r"}=this._parsing,c=new Array(n);let d,f,m,g;for(d=0,f=n;d<f;++d)m=d+s,g=e[m],c[d]={r:a.parse(ka(g,o),m)};return c}const bA=Number.EPSILON||1e-14,Do=(t,e)=>e<t.length&&!t[e].skip&&t[e],BS=t=>t==="x"?"y":"x";function vA(t,e,s,n){const a=t.skip?e:t,o=e,c=s.skip?e:s,d=lg(o,a),f=lg(c,o);let m=d/(d+f),g=f/(d+f);m=isNaN(m)?0:m,g=isNaN(g)?0:g;const x=n*m,b=n*g;return{previous:{x:o.x-x*(c.x-a.x),y:o.y-x*(c.y-a.y)},next:{x:o.x+b*(c.x-a.x),y:o.y+b*(c.y-a.y)}}}function _A(t,e,s){const n=t.length;let a,o,c,d,f,m=Do(t,0);for(let g=0;g<n-1;++g)if(f=m,m=Do(t,g+1),!(!f||!m)){if(lc(e[g],0,bA)){s[g]=s[g+1]=0;continue}a=s[g]/e[g],o=s[g+1]/e[g],d=Math.pow(a,2)+Math.pow(o,2),!(d<=9)&&(c=3/Math.sqrt(d),s[g]=a*c*e[g],s[g+1]=o*c*e[g])}}function wA(t,e,s="x"){const n=BS(s),a=t.length;let o,c,d,f=Do(t,0);for(let m=0;m<a;++m){if(c=d,d=f,f=Do(t,m+1),!d)continue;const g=d[s],x=d[n];c&&(o=(g-c[s])/3,d[`cp1${s}`]=g-o,d[`cp1${n}`]=x-o*e[m]),f&&(o=(f[s]-g)/3,d[`cp2${s}`]=g+o,d[`cp2${n}`]=x+o*e[m])}}function SA(t,e="x"){const s=BS(e),n=t.length,a=Array(n).fill(0),o=Array(n);let c,d,f,m=Do(t,0);for(c=0;c<n;++c)if(d=f,f=m,m=Do(t,c+1),!!f){if(m){const g=m[e]-f[e];a[c]=g!==0?(m[s]-f[s])/g:0}o[c]=d?m?Vn(a[c-1])!==Vn(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}_A(t,a,o),wA(t,o,e)}function ud(t,e,s){return Math.max(Math.min(t,s),e)}function jA(t,e){let s,n,a,o,c,d=Si(t[0],e);for(s=0,n=t.length;s<n;++s)c=o,o=d,d=s<n-1&&Si(t[s+1],e),o&&(a=t[s],c&&(a.cp1x=ud(a.cp1x,e.left,e.right),a.cp1y=ud(a.cp1y,e.top,e.bottom)),d&&(a.cp2x=ud(a.cp2x,e.left,e.right),a.cp2y=ud(a.cp2y,e.top,e.bottom)))}function NA(t,e,s,n,a){let o,c,d,f;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")SA(t,a);else{let m=n?t[t.length-1]:t[0];for(o=0,c=t.length;o<c;++o)d=t[o],f=vA(m,d,t[Math.min(o+1,c-(n?0:1))%c],e.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,m=d}e.capBezierPoints&&jA(t,s)}function fx(){return typeof window<"u"&&typeof document<"u"}function mx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Kd(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Sh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function kA(t,e){return Sh(t).getPropertyValue(e)}const MA=["top","right","bottom","left"];function pr(t,e,s){const n={};s=s?"-"+s:"";for(let a=0;a<4;a++){const o=MA[a];n[o]=parseFloat(t[e+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const TA=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function DA(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:a,offsetY:o}=n;let c=!1,d,f;if(TA(a,o,t.target))d=a,f=o;else{const m=e.getBoundingClientRect();d=n.clientX-m.left,f=n.clientY-m.top,c=!0}return{x:d,y:f,box:c}}function lr(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,a=Sh(s),o=a.boxSizing==="border-box",c=pr(a,"padding"),d=pr(a,"border","width"),{x:f,y:m,box:g}=DA(t,s),x=c.left+(g&&d.left),b=c.top+(g&&d.top);let{width:v,height:w}=e;return o&&(v-=c.width+d.width,w-=c.height+d.height),{x:Math.round((f-x)/v*s.width/n),y:Math.round((m-b)/w*s.height/n)}}function CA(t,e,s){let n,a;if(e===void 0||s===void 0){const o=t&&mx(t);if(!o)e=t.clientWidth,s=t.clientHeight;else{const c=o.getBoundingClientRect(),d=Sh(o),f=pr(d,"border","width"),m=pr(d,"padding");e=c.width-m.width-f.width,s=c.height-m.height-f.height,n=Kd(d.maxWidth,o,"clientWidth"),a=Kd(d.maxHeight,o,"clientHeight")}}return{width:e,height:s,maxWidth:n||$d,maxHeight:a||$d}}const ya=t=>Math.round(t*10)/10;function AA(t,e,s,n){const a=Sh(t),o=pr(a,"margin"),c=Kd(a.maxWidth,t,"clientWidth")||$d,d=Kd(a.maxHeight,t,"clientHeight")||$d,f=CA(t,e,s);let{width:m,height:g}=f;if(a.boxSizing==="content-box"){const b=pr(a,"border","width"),v=pr(a,"padding");m-=v.width+b.width,g-=v.height+b.height}return m=Math.max(0,m-o.width),g=Math.max(0,n?m/n:g-o.height),m=ya(Math.min(m,c,f.maxWidth)),g=ya(Math.min(g,d,f.maxHeight)),m&&!g&&(g=ya(m/2)),(e!==void 0||s!==void 0)&&n&&f.height&&g>f.height&&(g=f.height,m=ya(Math.floor(g*n))),{width:m,height:g}}function d_(t,e,s){const n=e||1,a=ya(t.height*n),o=ya(t.width*n);t.height=ya(t.height),t.width=ya(t.width);const c=t.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||c.height!==a||c.width!==o?(t.currentDevicePixelRatio=n,c.height=a,c.width=o,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const EA=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};fx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function h_(t,e){const s=kA(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function cr(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function OA(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function RA(t,e,s,n){const a={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},c=cr(t,a,s),d=cr(a,o,s),f=cr(o,e,s),m=cr(c,d,s),g=cr(d,f,s);return cr(m,g,s)}const LA=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},zA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function wo(t,e,s){return t?LA(e,s):zA()}function VS(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function FS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function HS(t){return t==="angle"?{between:wc,compare:PC,normalize:ps}:{between:_i,compare:(e,s)=>e-s,normalize:e=>e}}function f_({start:t,end:e,count:s,loop:n,style:a}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:a}}function PA(t,e,s){const{property:n,start:a,end:o}=s,{between:c,normalize:d}=HS(n),f=e.length;let{start:m,end:g,loop:x}=t,b,v;if(x){for(m+=f,g+=f,b=0,v=f;b<v&&c(d(e[m%f][n]),a,o);++b)m--,g--;m%=f,g%=f}return g<m&&(g+=f),{start:m,end:g,loop:x,style:t.style}}function US(t,e,s){if(!s)return[t];const{property:n,start:a,end:o}=s,c=e.length,{compare:d,between:f,normalize:m}=HS(n),{start:g,end:x,loop:b,style:v}=PA(t,e,s),w=[];let S=!1,j=null,M,T,E;const O=()=>f(a,E,M)&&d(a,E)!==0,L=()=>d(o,M)===0||f(o,E,M),C=()=>S||O(),A=()=>!S||L();for(let z=g,I=g;z<=x;++z)T=e[z%c],!T.skip&&(M=m(T[n]),M!==E&&(S=f(M,a,o),j===null&&C()&&(j=d(M,a)===0?z:I),j!==null&&A()&&(w.push(f_({start:j,end:z,loop:b,count:c,style:v})),j=null),I=z,E=M));return j!==null&&w.push(f_({start:j,end:x,loop:b,count:c,style:v})),w}function YS(t,e){const s=[],n=t.segments;for(let a=0;a<n.length;a++){const o=US(n[a],t.points,e);o.length&&s.push(...o)}return s}function BA(t,e,s,n){let a=0,o=e-1;if(s&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,s&&(o+=a);o>a&&t[o%e].skip;)o--;return o%=e,{start:a,end:o}}function VA(t,e,s,n){const a=t.length,o=[];let c=e,d=t[e],f;for(f=e+1;f<=s;++f){const m=t[f%a];m.skip||m.stop?d.skip||(n=!1,o.push({start:e%a,end:(f-1)%a,loop:n}),e=c=m.stop?f:null):(c=f,d.skip&&(e=f)),d=m}return c!==null&&o.push({start:e%a,end:c%a,loop:n}),o}function FA(t,e){const s=t.points,n=t.options.spanGaps,a=s.length;if(!a)return[];const o=!!t._loop,{start:c,end:d}=BA(s,a,o,n);if(n===!0)return m_(t,[{start:c,end:d,loop:o}],s,e);const f=d<c?d+a:d,m=!!t._fullLoop&&c===0&&d===a-1;return m_(t,VA(s,c,f,m),s,e)}function m_(t,e,s,n){return!n||!n.setContext||!s?e:HA(t,e,s,n)}function HA(t,e,s,n){const a=t._chart.getContext(),o=p_(t.options),{_datasetIndex:c,options:{spanGaps:d}}=t,f=s.length,m=[];let g=o,x=e[0].start,b=x;function v(w,S,j,M){const T=d?-1:1;if(w!==S){for(w+=f;s[w%f].skip;)w-=T;for(;s[S%f].skip;)S+=T;w%f!==S%f&&(m.push({start:w%f,end:S%f,loop:j,style:M}),g=M,x=S%f)}}for(const w of e){x=d?x:w.start;let S=s[x%f],j;for(b=x+1;b<=w.end;b++){const M=s[b%f];j=p_(n.setContext(Aa(a,{type:"segment",p0:S,p1:M,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),UA(j,g)&&v(x,b-1,w.loop,g),S=M,g=j}x<b-1&&v(x,b-1,w.loop,g)}return m}function p_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function UA(t,e){if(!e)return!1;const s=[],n=function(a,o){return lx(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function dd(t,e,s){return t.options.clip?t[s]:e[s]}function YA(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:dd(s,e,"left"),right:dd(s,e,"right"),top:dd(n,e,"top"),bottom:dd(n,e,"bottom")}:e}function WS(t,e){const s=e._clip;if(s.disabled)return!1;const n=YA(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}class WA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,a){const o=s.listeners[a],c=s.duration;o.forEach(d=>d({chart:e,initial:s.initial,numSteps:c,currentStep:Math.min(n-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=kS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const o=n.items;let c=o.length-1,d=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>n.duration&&(n.duration=f._total),f.tick(e),d=!0):(o[c]=o[o.length-1],o.pop());d&&(a.draw(),this._notify(a,n,e,"progress")),o.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),s+=o.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xi=new WA;const g_="transparent",IA={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=r_(t||g_),a=n.valid&&r_(e||g_);return a&&a.valid?a.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class qA{constructor(e,s,n,a){const o=s[n];a=Ql([e.to,a,o,e.from]);const c=Ql([e.from,o,a]);this._active=!0,this._fn=e.fn||IA[e.type||typeof c],this._easing=cc[e.easing]||cc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const a=this._target[this._prop],o=n-this._start,c=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ql([e.to,s,a,e.from]),this._from=Ql([e.from,a,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,a=this._prop,o=this._from,c=this._loop,d=this._to;let f;if(this._active=o!==d&&(c||s<n),!this._active){this._target[a]=d,this._notify(!0);return}if(s<0){this._target[a]=o;return}f=s/n%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,d,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][s]()}}class IS{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!We(e))return;const s=Object.keys(kt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!We(o))return;const c={};for(const d of s)c[d]=o[d];(Nt(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!n.has(d))&&n.set(d,c)})})}_animateOptions(e,s){const n=s.options,a=$A(e,n);if(!a)return[];const o=this._createAnimations(a,n);return n.$shared&&GA(e.options.$animations,n).then(()=>{e.options=n},()=>{}),o}_createAnimations(e,s){const n=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(s),d=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,s));continue}const g=s[m];let x=o[m];const b=n.get(m);if(x)if(b&&x.active()){x.update(b,g,d);continue}else x.cancel();if(!b||!b.duration){e[m]=g;continue}o[m]=x=new qA(b,e,m,g),a.push(x)}return a}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return xi.add(this._chart,n),!0}}function GA(t,e){const s=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const o=t[n[a]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function $A(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function x_(t,e){const s=t&&t.options||{},n=s.reverse,a=s.min===void 0?e:0,o=s.max===void 0?e:0;return{start:n?o:a,end:n?a:o}}function XA(t,e,s){if(s===!1)return!1;const n=x_(t,s),a=x_(e,s);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function KA(t){let e,s,n,a;return We(t)?(e=t.top,s=t.right,n=t.bottom,a=t.left):e=s=n=a=t,{top:e,right:s,bottom:n,left:a,disabled:t===!1}}function qS(t,e){const s=[],n=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=n.length;a<o;++a)s.push(n[a].index);return s}function y_(t,e,s,n={}){const a=t.keys,o=n.mode==="single";let c,d,f,m;if(e===null)return;let g=!1;for(c=0,d=a.length;c<d;++c){if(f=+a[c],f===s){if(g=!0,n.all)continue;break}m=t.values[f],At(m)&&(o||e===0||Vn(e)===Vn(m))&&(e+=m)}return!g&&!n.all?0:e}function ZA(t,e){const{iScale:s,vScale:n}=e,a=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",c=Object.keys(t),d=new Array(c.length);let f,m,g;for(f=0,m=c.length;f<m;++f)g=c[f],d[f]={[a]:g,[o]:t[g]};return d}function pp(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function QA(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function JA(t){const{min:e,max:s,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}function e3(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function b_(t,e,s,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const o=t[a.index];if(s&&o>0||!s&&o<0)return a.index}return null}function v_(t,e){const{chart:s,_cachedMeta:n}=t,a=s._stacks||(s._stacks={}),{iScale:o,vScale:c,index:d}=n,f=o.axis,m=c.axis,g=QA(o,c,n),x=e.length;let b;for(let v=0;v<x;++v){const w=e[v],{[f]:S,[m]:j}=w,M=w._stacks||(w._stacks={});b=M[m]=e3(a,g,S),b[d]=j,b._top=b_(b,c,!0,n.type),b._bottom=b_(b,c,!1,n.type);const T=b._visualValues||(b._visualValues={});T[d]=j}}function gp(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function t3(t,e){return Aa(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function s3(t,e,s){return Aa(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Bl(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const xp=t=>t==="reset"||t==="none",__=(t,e)=>e?t:Object.assign({},t),n3=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:qS(s,!0),values:null};class Ea{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),a=(x,b,v,w)=>x==="x"?b:x==="r"?w:v,o=s.xAxisID=Oe(n.xAxisID,gp(e,"x")),c=s.yAxisID=Oe(n.yAxisID,gp(e,"y")),d=s.rAxisID=Oe(n.rAxisID,gp(e,"r")),f=s.indexAxis,m=s.iAxisID=a(f,o,c,d),g=s.vAxisID=a(f,c,o,d);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(d),s.iScale=this.getScaleForId(m),s.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&n_(this._data,this),e._stacked&&Bl(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(We(s)){const a=this._cachedMeta;this._data=ZA(s,a)}else if(n!==s){if(n){n_(n,this);const a=this._cachedMeta;Bl(a),a._parsed=[]}s&&Object.isExtensible(s)&&HC(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const o=s._stacked;s._stacked=pp(s.vScale,s),s.stack!==n.stack&&(a=!0,Bl(s),s.stack=n.stack),this._resyncElements(e),(a||o!==s._stacked)&&(v_(this,s._parsed),s._stacked=pp(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:a}=this,{iScale:o,_stacked:c}=n,d=o.axis;let f=e===0&&s===a.length?!0:n._sorted,m=e>0&&n._parsed[e-1],g,x,b;if(this._parsing===!1)n._parsed=a,n._sorted=!0,b=a;else{Nt(a[e])?b=this.parseArrayData(n,a,e,s):We(a[e])?b=this.parseObjectData(n,a,e,s):b=this.parsePrimitiveData(n,a,e,s);const v=()=>x[d]===null||m&&x[d]<m[d];for(g=0;g<s;++g)n._parsed[g+e]=x=b[g],f&&(v()&&(f=!1),m=x);n._sorted=f}c&&v_(this,b)}parsePrimitiveData(e,s,n,a){const{iScale:o,vScale:c}=e,d=o.axis,f=c.axis,m=o.getLabels(),g=o===c,x=new Array(a);let b,v,w;for(b=0,v=a;b<v;++b)w=b+n,x[b]={[d]:g||o.parse(m[w],w),[f]:c.parse(s[w],w)};return x}parseArrayData(e,s,n,a){const{xScale:o,yScale:c}=e,d=new Array(a);let f,m,g,x;for(f=0,m=a;f<m;++f)g=f+n,x=s[g],d[f]={x:o.parse(x[0],g),y:c.parse(x[1],g)};return d}parseObjectData(e,s,n,a){const{xScale:o,yScale:c}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let g,x,b,v;for(g=0,x=a;g<x;++g)b=g+n,v=s[b],m[g]={x:o.parse(ka(v,d),b),y:c.parse(ka(v,f),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const a=this.chart,o=this._cachedMeta,c=s[e.axis],d={keys:qS(a,!0),values:s._stacks[e.axis]._visualValues};return y_(d,c,o.index,{mode:n})}updateRangeFromParsed(e,s,n,a){const o=n[s.axis];let c=o===null?NaN:o;const d=a&&n._stacks[s.axis];a&&d&&(a.values=d,c=y_(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,s){const n=this._cachedMeta,a=n._parsed,o=n._sorted&&e===n.iScale,c=a.length,d=this._getOtherScale(e),f=n3(s,n,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=JA(d);let b,v;function w(){v=a[b];const S=v[d.axis];return!At(v[e.axis])||g>S||x<S}for(b=0;b<c&&!(!w()&&(this.updateRangeFromParsed(m,e,v,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(m,e,v,f);break}}return m}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let a,o,c;for(a=0,o=s.length;a<o;++a)c=s[a][e.axis],At(c)&&n.push(c);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,a=s.vScale,o=this.getParsed(e);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=KA(Oe(this.options.clip,XA(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,a=n.data||[],o=s.chartArea,c=[],d=this._drawStart||0,f=this._drawCount||a.length-d,m=this.options.drawActiveElementsOnTop;let g;for(n.dataset&&n.dataset.draw(e,o,d,f),g=d;g<d+f;++g){const x=a[g];x.hidden||(x.active&&m?c.push(x):x.draw(e,o))}for(g=0;g<c.length;++g)c[g].draw(e,o)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=s3(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=t3(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const a=s==="active",o=this._cachedDataOpts,c=e+"-"+s,d=o[c],f=this.enableOptionSharing&&_c(n);if(d)return __(d,f);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),x=a?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),g),v=Object.keys(kt.elements[e]),w=()=>this.getContext(n,a,s),S=m.resolveNamedOptions(b,v,w,x);return S.$shared&&(S.$shared=f,o[c]=Object.freeze(__(S,f))),S}_resolveAnimations(e,s,n){const a=this.chart,o=this._cachedDataOpts,c=`animation-${s}`,d=o[c];if(d)return d;let f;if(a.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,s),b=g.getOptionScopes(this.getDataset(),x);f=g.createResolver(b,this.getContext(e,n,s))}const m=new IS(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||xp(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),a=this._sharedOptions,o=this.getSharedOptions(n),c=this.includeOptions(s,o)||o!==a;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:c}}updateElement(e,s,n,a){xp(a)?Object.assign(e,n):this._resolveAnimations(s,a).update(e,n)}updateSharedOptions(e,s,n){e&&!xp(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,a){e.active=a;const o=this.getStyle(s,a);this._resolveAnimations(s,n,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[d,f,m]of this._syncList)this[d](f,m);this._syncList=[];const a=n.length,o=s.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,s,n=!0){const a=this._cachedMeta,o=a.data,c=e+s;let d;const f=m=>{for(m.length+=s,d=m.length-1;d>=c;d--)m[d]=m[d-s]};for(f(o),d=e;d<c;++d)o[d]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,s),n&&this.updateElements(o,e,s,"reset")}updateElements(e,s,n,a){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,s);n._stacked&&Bl(n,a)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,a]=e;this[s](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function i3(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,o=s.length;a<o;a++)n=n.concat(s[a].controller.getAllParsedValues(t));t._cache.$bar=NS(n.sort((a,o)=>a-o))}return t._cache.$bar}function a3(t){const e=t.iScale,s=i3(e,t.type);let n=e._length,a,o,c,d;const f=()=>{c===32767||c===-32768||(_c(d)&&(n=Math.min(n,Math.abs(c-d)||n)),d=c)};for(a=0,o=s.length;a<o;++a)c=e.getPixelForValue(s[a]),f();for(d=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),f();return n}function r3(t,e,s,n){const a=s.barThickness;let o,c;return He(a)?(o=e.min*s.categoryPercentage,c=s.barPercentage):(o=a*n,c=1),{chunk:o/n,ratio:c,start:e.pixels[t]-o/2}}function o3(t,e,s,n){const a=e.pixels,o=a[t];let c=t>0?a[t-1]:null,d=t<a.length-1?a[t+1]:null;const f=s.categoryPercentage;c===null&&(c=o-(d===null?e.end-e.start:d-o)),d===null&&(d=o+o-c);const m=o-(o-Math.min(c,d))/2*f;return{chunk:Math.abs(d-c)/2*f/n,ratio:s.barPercentage,start:m}}function l3(t,e,s,n){const a=s.parse(t[0],n),o=s.parse(t[1],n),c=Math.min(a,o),d=Math.max(a,o);let f=c,m=d;Math.abs(c)>Math.abs(d)&&(f=d,m=c),e[s.axis]=m,e._custom={barStart:f,barEnd:m,start:a,end:o,min:c,max:d}}function GS(t,e,s,n){return Nt(t)?l3(t,e,s,n):e[s.axis]=s.parse(t,n),e}function w_(t,e,s,n){const a=t.iScale,o=t.vScale,c=a.getLabels(),d=a===o,f=[];let m,g,x,b;for(m=s,g=s+n;m<g;++m)b=e[m],x={},x[a.axis]=d||a.parse(c[m],m),f.push(GS(b,x,o,m));return f}function yp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function c3(t,e,s){return t!==0?Vn(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function u3(t){let e,s,n,a,o;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(a="end",o="start"):(a="start",o="end"),{start:s,end:n,reverse:e,top:a,bottom:o}}function d3(t,e,s,n){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:f,top:m,bottom:g}=u3(t);a==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?a=m:(s._bottom||0)===n?a=g:(o[S_(g,c,d,f)]=!0,a=m)),o[S_(a,c,d,f)]=!0,t.borderSkipped=o}function S_(t,e,s,n){return n?(t=h3(t,e,s),t=j_(t,s,e)):t=j_(t,e,s),t}function h3(t,e,s){return t===e?s:t===s?e:t}function j_(t,e,s){return t==="start"?e:t==="end"?s:t}function f3(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class $S extends Ea{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,n,a){return w_(e,s,n,a)}parseArrayData(e,s,n,a){return w_(e,s,n,a)}parseObjectData(e,s,n,a){const{iScale:o,vScale:c}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?d:f,g=c.axis==="x"?d:f,x=[];let b,v,w,S;for(b=n,v=n+a;b<v;++b)S=s[b],w={},w[o.axis]=o.parse(ka(S,m),b),x.push(GS(ka(S,g),w,c,b));return x}updateRangeFromParsed(e,s,n,a){super.updateRangeFromParsed(e,s,n,a);const o=n._custom;o&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:a}=s,o=this.getParsed(e),c=o._custom,d=yp(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),m=d.isHorizontal(),g=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(s,a);for(let v=s;v<s+n;v++){const w=this.getParsed(v),S=o||He(w[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(v),j=this._calculateBarIndexPixels(v,g),M=(w._stacks||{})[d.axis],T={horizontal:m,base:S.base,enableBorderRadius:!M||yp(w._custom)||c===M._top||c===M._bottom,x:m?S.head:j.center,y:m?j.center:S.head,height:m?j.size:Math.abs(S.size),width:m?Math.abs(S.size):j.size};b&&(T.options=x||this.resolveDataElementOptions(v,e[v].active?"active":a));const E=T.options||e[v].options;d3(T,E,M,c),f3(T,E,g.ratio),this.updateElement(e[v],v,T,a)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=n.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(s),f=d&&d[n.axis],m=g=>{const x=g._parsed.find(v=>v[n.axis]===f),b=x&&x[g.vScale.axis];if(He(b)||isNaN(b))return!0};for(const g of a)if(!(s!==void 0&&m(g))&&((o===!1||c.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Oe(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const a=this._getStacks(e,n),o=s!==void 0?a.indexOf(s):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,a=[];let o,c;for(o=0,c=s.data.length;o<c;++o)a.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const d=e.barThickness;return{min:d||a3(s),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:a},options:{base:o,minBarLength:c}}=this,d=o||0,f=this.getParsed(e),m=f._custom,g=yp(m);let x=f[s.axis],b=0,v=n?this.applyStack(s,f,n):x,w,S;v!==x&&(b=v-x,v=x),g&&(x=m.barStart,v=m.barEnd-m.barStart,x!==0&&Vn(x)!==Vn(m.barEnd)&&(b=0),b+=x);const j=!He(o)&&!g?o:b;let M=s.getPixelForValue(j);if(this.chart.getDataVisibility(e)?w=s.getPixelForValue(b+v):w=M,S=w-M,Math.abs(S)<c){S=c3(S,s,d)*c,x===d&&(M-=S/2);const T=s.getPixelForDecimal(0),E=s.getPixelForDecimal(1),O=Math.min(T,E),L=Math.max(T,E);M=Math.max(Math.min(M,L),O),w=M+S,n&&!g&&(f._stacks[s.axis]._visualValues[a]=s.getValueForPixel(w)-s.getValueForPixel(M))}if(M===s.getPixelForValue(d)){const T=Vn(S)*s.getLineWidthForValue(d)/2;M+=T,S-=T}return{size:S,base:M,head:w,center:w+S/2}}_calculateBarIndexPixels(e,s){const n=s.scale,a=this.options,o=a.skipNull,c=Oe(a.maxBarThickness,1/0);let d,f;const m=this._getAxisCount();if(s.grouped){const g=o?this._getStackCount(e):s.stackCount,x=a.barThickness==="flex"?o3(e,s,a,g*m):r3(e,s,a,g*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Oe(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;d=x.start+x.chunk*w+x.chunk/2,f=Math.min(c,x.chunk*x.ratio)}else d=n.getPixelForValue(this.getParsed(e)[n.axis],e),f=Math.min(c,s.min*s.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,a=n.length;let o=0;for(;o<a;++o)this.getParsed(o)[s.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}class m3 extends Ea{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,n,a){const o=super.parsePrimitiveData(e,s,n,a);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+n).radius;return o}parseArrayData(e,s,n,a){const o=super.parseArrayData(e,s,n,a);for(let c=0;c<o.length;c++){const d=s[n+c];o[c]._custom=Oe(d[2],this.resolveDataElementOptions(c+n).radius)}return o}parseObjectData(e,s,n,a){const o=super.parseObjectData(e,s,n,a);for(let c=0;c<o.length;c++){const d=s[n+c];o[c]._custom=Oe(d&&d.r&&+d.r,this.resolveDataElementOptions(c+n).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let n=e.length-1;n>=0;--n)s=Math.max(s,e[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:o}=s,c=this.getParsed(e),d=a.getLabelForValue(c.x),f=o.getLabelForValue(c.y),m=c._custom;return{label:n[e]||"",value:"("+d+", "+f+(m?", "+m:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,n,a){const o=a==="reset",{iScale:c,vScale:d}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(s,a),g=c.axis,x=d.axis;for(let b=s;b<s+n;b++){const v=e[b],w=!o&&this.getParsed(b),S={},j=S[g]=o?c.getPixelForDecimal(.5):c.getPixelForValue(w[g]),M=S[x]=o?d.getBasePixel():d.getPixelForValue(w[x]);S.skip=isNaN(j)||isNaN(M),m&&(S.options=f||this.resolveDataElementOptions(b,v.active?"active":a),o&&(S.options.radius=0)),this.updateElement(v,b,S,a)}}resolveDataElementOptions(e,s){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,s);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return s!=="active"&&(a.radius=0),a.radius+=Oe(n&&n._custom,o),a}}function p3(t,e,s){let n=1,a=1,o=0,c=0;if(e<bt){const d=t,f=d+e,m=Math.cos(d),g=Math.sin(d),x=Math.cos(f),b=Math.sin(f),v=(E,O,L)=>wc(E,d,f,!0)?1:Math.max(O,O*s,L,L*s),w=(E,O,L)=>wc(E,d,f,!0)?-1:Math.min(O,O*s,L,L*s),S=v(0,m,x),j=v(Vt,g,b),M=w(Je,m,x),T=w(Je+Vt,g,b);n=(S-M)/2,a=(j-T)/2,o=-(S+M)/2,c=-(j+T)/2}return{ratioX:n,ratioY:a,offsetX:o,offsetY:c}}class px extends Ea{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data,{labels:{pointStyle:n,textAlign:a,color:o,useBorderRadius:c,borderRadius:d}}=e.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((f,m)=>{const x=e.getDatasetMeta(0).controller.getStyle(m);return{text:f,fillStyle:x.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(m),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:a,pointStyle:n,borderRadius:c&&(d||x.borderRadius),index:m}}):[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}};constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let o=f=>+n[f];if(We(n[e])){const{key:f="value"}=this._parsing;o=m=>+ka(n[m],f)}let c,d;for(c=e,d=e+s;c<d;++c)a._parsed[c]=o(c)}}_getRotation(){return wn(this.options.rotation-90)}_getCircumference(){return wn(this.options.circumference)}_getRotationExtents(){let e=bt,s=-bt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),s=Math.max(s,o+c)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(n.width,n.height)-c)/2,0),f=Math.min(kC(this.options.cutout,d),1),m=this._getRingWeight(this.index),{circumference:g,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:w,offsetY:S}=p3(x,g,f),j=(n.width-c)/b,M=(n.height-c)/v,T=Math.max(Math.min(j,M)/2,0),E=vS(this.options.radius,T),O=Math.max(E*f,0),L=(E-O)/this._getVisibleDatasetWeightTotal();this.offsetX=w*E,this.offsetY=S*E,a.total=this.calculateTotal(),this.outerRadius=E-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,s){const n=this.options,a=this._cachedMeta,o=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/bt)}updateElements(e,s,n,a){const o=a==="reset",c=this.chart,d=c.chartArea,m=c.options.animation,g=(d.left+d.right)/2,x=(d.top+d.bottom)/2,b=o&&m.animateScale,v=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:S,includeOptions:j}=this._getSharedOptions(s,a);let M=this._getRotation(),T;for(T=0;T<s;++T)M+=this._circumference(T,o);for(T=s;T<s+n;++T){const E=this._circumference(T,o),O=e[T],L={x:g+this.offsetX,y:x+this.offsetY,startAngle:M,endAngle:M+E,circumference:E,outerRadius:w,innerRadius:v};j&&(L.options=S||this.resolveDataElementOptions(T,O.active?"active":a)),M+=E,this.updateElement(O,T,L,a)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,a;for(a=0;a<s.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?bt*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,a=n.data.labels||[],o=Pc(s._parsed[e],n.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let s=0;const n=this.chart;let a,o,c,d,f;if(!e){for(a=0,o=n.data.datasets.length;a<o;++a)if(n.isDatasetVisible(a)){c=n.getDatasetMeta(a),e=c.data,d=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)f=d.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(s=Math.max(s,f.borderWidth||0,f.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,a=e.length;n<a;++n){const o=this.resolveDataElementOptions(n);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class XS extends Ea{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:a=[],_dataset:o}=s,c=this.chart._animationsDisabled;let{start:d,count:f}=TS(s,a,c);this._drawStart=d,this._drawCount=f,DS(s)&&(d=0,f=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=a;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(n,void 0,{animated:!c,options:m},e),this.updateElements(a,d,f,e)}updateElements(e,s,n,a){const o=a==="reset",{iScale:c,vScale:d,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(s,a),b=c.axis,v=d.axis,{spanGaps:w,segment:S}=this.options,j=Mo(w)?w:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||o||a==="none",T=s+n,E=e.length;let O=s>0&&this.getParsed(s-1);for(let L=0;L<E;++L){const C=e[L],A=M?C:{};if(L<s||L>=T){A.skip=!0;continue}const z=this.getParsed(L),I=He(z[v]),K=A[b]=c.getPixelForValue(z[b],L),Z=A[v]=o||I?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,z,f):z[v],L);A.skip=isNaN(K)||isNaN(Z)||I,A.stop=L>0&&Math.abs(z[b]-O[b])>j,S&&(A.parsed=z,A.raw=m.data[L]),x&&(A.options=g||this.resolveDataElementOptions(L,C.active?"active":a)),M||this.updateElement(C,L,A,a),O=z}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class KS extends Ea{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return s.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,a=n.data.labels||[],o=Pc(s._parsed[e].r,n.options.locale);return{label:a[e]||"",value:o}}parseObjectData(e,s,n,a){return PS.bind(this)(e,s,n,a)}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}getMinMax(){const e=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){const e=this.chart,s=e.chartArea,n=e.options,a=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(a/2,0),c=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),d=(o-c)/e.getVisibleDatasetCount();this.outerRadius=o-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(e,s,n,a){const o=a==="reset",c=this.chart,f=c.options.animation,m=this._cachedMeta.rScale,g=m.xCenter,x=m.yCenter,b=m.getIndexAngle(0)-.5*Je;let v=b,w;const S=360/this.countVisibleElements();for(w=0;w<s;++w)v+=this._computeAngle(w,a,S);for(w=s;w<s+n;w++){const j=e[w];let M=v,T=v+this._computeAngle(w,a,S),E=c.getDataVisibility(w)?m.getDistanceFromCenterForValue(this.getParsed(w).r):0;v=T,o&&(f.animateScale&&(E=0),f.animateRotate&&(M=T=b));const O={x:g,y:x,innerRadius:0,outerRadius:E,startAngle:M,endAngle:T,options:this.resolveDataElementOptions(w,j.active?"active":a)};this.updateElement(j,w,O,a)}}countVisibleElements(){const e=this._cachedMeta;let s=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&s++}),s}_computeAngle(e,s,n){return this.chart.getDataVisibility(e)?wn(this.resolveDataElementOptions(e,s).angle||n):0}}class g3 extends px{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class ZS extends Ea{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const s=this._cachedMeta.vScale,n=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(e,s,n,a){return PS.bind(this)(e,s,n,a)}update(e){const s=this._cachedMeta,n=s.dataset,a=s.data||[],o=s.iScale.getLabels();if(n.points=a,e!=="resize"){const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0);const d={_loop:!0,_fullLoop:o.length===a.length,options:c};this.updateElement(n,void 0,d,e)}this.updateElements(a,0,a.length,e)}updateElements(e,s,n,a){const o=this._cachedMeta.rScale,c=a==="reset";for(let d=s;d<s+n;d++){const f=e[d],m=this.resolveDataElementOptions(d,f.active?"active":a),g=o.getPointPositionForValue(d,this.getParsed(d).r),x=c?o.xCenter:g.x,b=c?o.yCenter:g.y,v={x,y:b,angle:g.angle,skip:isNaN(x)||isNaN(b),options:m};this.updateElement(f,d,v,a)}}}class x3 extends Ea{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:o}=s,c=this.getParsed(e),d=a.getLabelForValue(c.x),f=o.getLabelForValue(c.y);return{label:n[e]||"",value:"("+d+", "+f+")"}}update(e){const s=this._cachedMeta,{data:n=[]}=s,a=this.chart._animationsDisabled;let{start:o,count:c}=TS(s,n,a);if(this._drawStart=o,this._drawCount=c,DS(s)&&(o=0,c=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:d,_dataset:f}=s;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!f._decimated,d.points=n;const m=this.resolveDatasetElementOptions(e);m.segment=this.options.segment,this.updateElement(d,void 0,{animated:!a,options:m},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,o,c,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,n,a){const o=a==="reset",{iScale:c,vScale:d,_stacked:f,_dataset:m}=this._cachedMeta,g=this.resolveDataElementOptions(s,a),x=this.getSharedOptions(g),b=this.includeOptions(a,x),v=c.axis,w=d.axis,{spanGaps:S,segment:j}=this.options,M=Mo(S)?S:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||a==="none";let E=s>0&&this.getParsed(s-1);for(let O=s;O<s+n;++O){const L=e[O],C=this.getParsed(O),A=T?L:{},z=He(C[w]),I=A[v]=c.getPixelForValue(C[v],O),K=A[w]=o||z?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,C,f):C[w],O);A.skip=isNaN(I)||isNaN(K)||z,A.stop=O>0&&Math.abs(C[v]-E[v])>M,j&&(A.parsed=C,A.raw=m.data[O]),b&&(A.options=x||this.resolveDataElementOptions(O,L.active?"active":a)),T||this.updateElement(L,O,A,a),E=C}this.updateSharedOptions(x,a,g)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let d=0;for(let f=s.length-1;f>=0;--f)d=Math.max(d,s[f].size(this.resolveDataElementOptions(f))/2);return d>0&&d}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!s.length)return a;const o=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(a,o,c)/2}}var y3=Object.freeze({__proto__:null,BarController:$S,BubbleController:m3,DoughnutController:px,LineController:XS,PieController:g3,PolarAreaController:KS,RadarController:ZS,ScatterController:x3});function sr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gx{static override(e){Object.assign(gx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return sr()}parse(){return sr()}format(){return sr()}add(){return sr()}diff(){return sr()}startOf(){return sr()}endOf(){return sr()}}var QS={_date:gx};function b3(t,e,s,n){const{controller:a,data:o,_sorted:c}=t,d=a._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&c&&o.length){const m=d._reversePixels?VC:wi;if(n){if(a._sharedOptions){const g=o[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const b=m(o,e,s-x),v=m(o,e,s+x);return{lo:b.lo,hi:v.hi}}}}else{const g=m(o,e,s);if(f){const{vScale:x}=a._cachedMeta,{_parsed:b}=t,v=b.slice(0,g.lo+1).reverse().findIndex(S=>!He(S[x.axis]));g.lo-=Math.max(0,v);const w=b.slice(g.hi).findIndex(S=>!He(S[x.axis]));g.hi+=Math.max(0,w)}return g}}return{lo:0,hi:o.length-1}}function jh(t,e,s,n,a){const o=t.getSortedVisibleDatasetMetas(),c=s[e];for(let d=0,f=o.length;d<f;++d){const{index:m,data:g}=o[d],{lo:x,hi:b}=b3(o[d],e,c,a);for(let v=x;v<=b;++v){const w=g[v];w.skip||n(w,m,v)}}}function v3(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,a){const o=e?Math.abs(n.x-a.x):0,c=s?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function bp(t,e,s,n,a){const o=[];return!a&&!t.isPointInArea(e)||jh(t,s,e,function(d,f,m){!a&&!Si(d,t.chartArea,0)||d.inRange(e.x,e.y,n)&&o.push({element:d,datasetIndex:f,index:m})},!0),o}function _3(t,e,s,n){let a=[];function o(c,d,f){const{startAngle:m,endAngle:g}=c.getProps(["startAngle","endAngle"],n),{angle:x}=SS(c,{x:e.x,y:e.y});wc(x,m,g)&&a.push({element:c,datasetIndex:d,index:f})}return jh(t,s,e,o),a}function w3(t,e,s,n,a,o){let c=[];const d=v3(s);let f=Number.POSITIVE_INFINITY;function m(g,x,b){const v=g.inRange(e.x,e.y,a);if(n&&!v)return;const w=g.getCenterPoint(a);if(!(!!o||t.isPointInArea(w))&&!v)return;const j=d(e,w);j<f?(c=[{element:g,datasetIndex:x,index:b}],f=j):j===f&&c.push({element:g,datasetIndex:x,index:b})}return jh(t,s,e,m),c}function vp(t,e,s,n,a,o){return!o&&!t.isPointInArea(e)?[]:s==="r"&&!n?_3(t,e,s,a):w3(t,e,s,n,a,o)}function N_(t,e,s,n,a){const o=[],c=s==="x"?"inXRange":"inYRange";let d=!1;return jh(t,s,e,(f,m,g)=>{f[c]&&f[c](e[s],a)&&(o.push({element:f,datasetIndex:m,index:g}),d=d||f.inRange(e.x,e.y,a))}),n&&!d?[]:o}var S3={modes:{index(t,e,s,n){const a=lr(e,t),o=s.axis||"x",c=s.includeInvisible||!1,d=s.intersect?bp(t,a,o,n,c):vp(t,a,o,!1,n,c),f=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=d[0].index,x=m.data[g];x&&!x.skip&&f.push({element:x,datasetIndex:m.index,index:g})}),f):[]},dataset(t,e,s,n){const a=lr(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;let d=s.intersect?bp(t,a,o,n,c):vp(t,a,o,!1,n,c);if(d.length>0){const f=d[0].datasetIndex,m=t.getDatasetMeta(f).data;d=[];for(let g=0;g<m.length;++g)d.push({element:m[g],datasetIndex:f,index:g})}return d},point(t,e,s,n){const a=lr(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;return bp(t,a,o,n,c)},nearest(t,e,s,n){const a=lr(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;return vp(t,a,o,s.intersect,n,c)},x(t,e,s,n){const a=lr(e,t);return N_(t,a,"x",s.intersect,n)},y(t,e,s,n){const a=lr(e,t);return N_(t,a,"y",s.intersect,n)}}};const JS=["left","top","right","bottom"];function Vl(t,e){return t.filter(s=>s.pos===e)}function k_(t,e){return t.filter(s=>JS.indexOf(s.pos)===-1&&s.box.axis===e)}function Fl(t,e){return t.sort((s,n)=>{const a=e?n:s,o=e?s:n;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function j3(t){const e=[];let s,n,a,o,c,d;for(s=0,n=(t||[]).length;s<n;++s)a=t[s],{position:o,options:{stack:c,stackWeight:d=1}}=a,e.push({index:s,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:d});return e}function N3(t){const e={};for(const s of t){const{stack:n,pos:a,stackWeight:o}=s;if(!n||!JS.includes(a))continue;const c=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function k3(t,e){const s=N3(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let o,c,d;for(o=0,c=t.length;o<c;++o){d=t[o];const{fullSize:f}=d.box,m=s[d.stack],g=m&&d.stackWeight/m.weight;d.horizontal?(d.width=g?g*n:f&&e.availableWidth,d.height=a):(d.width=n,d.height=g?g*a:f&&e.availableHeight)}return s}function M3(t){const e=j3(t),s=Fl(e.filter(m=>m.box.fullSize),!0),n=Fl(Vl(e,"left"),!0),a=Fl(Vl(e,"right")),o=Fl(Vl(e,"top"),!0),c=Fl(Vl(e,"bottom")),d=k_(e,"x"),f=k_(e,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:a.concat(f).concat(c).concat(d),chartArea:Vl(e,"chartArea"),vertical:n.concat(a).concat(f),horizontal:o.concat(c).concat(d)}}function M_(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function ej(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function T3(t,e,s,n){const{pos:a,box:o}=s,c=t.maxPadding;if(!We(a)){s.size&&(t[a]-=s.size);const x=n[s.stack]||{size:0,count:1};x.size=Math.max(x.size,s.horizontal?o.height:o.width),s.size=x.size/x.count,t[a]+=s.size}o.getPadding&&ej(c,o.getPadding());const d=Math.max(0,e.outerWidth-M_(c,t,"left","right")),f=Math.max(0,e.outerHeight-M_(c,t,"top","bottom")),m=d!==t.w,g=f!==t.h;return t.w=d,t.h=f,s.horizontal?{same:m,other:g}:{same:g,other:m}}function D3(t){const e=t.maxPadding;function s(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function C3(t,e){const s=e.maxPadding;function n(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],s[c])}),o}return n(t?["left","right"]:["top","bottom"])}function Jl(t,e,s,n){const a=[];let o,c,d,f,m,g;for(o=0,c=t.length,m=0;o<c;++o){d=t[o],f=d.box,f.update(d.width||e.w,d.height||e.h,C3(d.horizontal,e));const{same:x,other:b}=T3(e,s,d,n);m|=x&&a.length,g=g||b,f.fullSize||a.push(d)}return m&&Jl(a,e,s,n)||g}function hd(t,e,s,n,a){t.top=s,t.left=e,t.right=e+n,t.bottom=s+a,t.width=n,t.height=a}function T_(t,e,s,n){const a=s.padding;let{x:o,y:c}=e;for(const d of t){const f=d.box,m=n[d.stack]||{placed:0,weight:1},g=d.stackWeight/m.weight||1;if(d.horizontal){const x=e.w*g,b=m.size||f.height;_c(m.start)&&(c=m.start),f.fullSize?hd(f,a.left,c,s.outerWidth-a.right-a.left,b):hd(f,e.left+m.placed,c,x,b),m.start=c,m.placed+=x,c=f.bottom}else{const x=e.h*g,b=m.size||f.width;_c(m.start)&&(o=m.start),f.fullSize?hd(f,o,a.top,b,s.outerHeight-a.bottom-a.top):hd(f,o,e.top+m.placed,b,x),m.start=o,m.placed+=x,o=f.right}}e.x=o,e.y=c}var gs={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const a=bs(t.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(s-a.height,0),d=M3(t.boxes),f=d.vertical,m=d.horizontal;ot(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const g=f.reduce((S,j)=>j.box.options&&j.box.options.display===!1?S:S+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:s,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/g,hBoxMaxHeight:c/2}),b=Object.assign({},a);ej(b,bs(n));const v=Object.assign({maxPadding:b,w:o,h:c,x:a.left,y:a.top},a),w=k3(f.concat(m),x);Jl(d.fullSize,v,x,w),Jl(f,v,x,w),Jl(m,v,x,w)&&Jl(f,v,x,w),D3(v),T_(d.leftAndTop,v,x,w),v.x+=v.w,v.y+=v.h,T_(d.rightAndBottom,v,x,w),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},ot(d.chartArea,S=>{const j=S.box;Object.assign(j,t.chartArea),j.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class tj{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,a){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,a?Math.floor(s/a):n)}}isAttached(e){return!0}updateConfig(e){}}class A3 extends tj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Cd="$chartjs",E3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},D_=t=>t===null||t==="";function O3(t,e){const s=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Cd]={initial:{height:n,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",D_(a)){const o=h_(t,"width");o!==void 0&&(t.width=o)}if(D_(n))if(t.style.height==="")t.height=t.width/(e||2);else{const o=h_(t,"height");o!==void 0&&(t.height=o)}return t}const sj=EA?{passive:!0}:!1;function R3(t,e,s){t&&t.addEventListener(e,s,sj)}function L3(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,sj)}function z3(t,e){const s=E3[t.type]||t.type,{x:n,y:a}=lr(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Zd(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function P3(t,e,s){const n=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Zd(d.addedNodes,n),c=c&&!Zd(d.removedNodes,n);c&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function B3(t,e,s){const n=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Zd(d.removedNodes,n),c=c&&!Zd(d.addedNodes,n);c&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const jc=new Map;let C_=0;function nj(){const t=window.devicePixelRatio;t!==C_&&(C_=t,jc.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function V3(t,e){jc.size||window.addEventListener("resize",nj),jc.set(t,e)}function F3(t){jc.delete(t),jc.size||window.removeEventListener("resize",nj)}function H3(t,e,s){const n=t.canvas,a=n&&mx(n);if(!a)return;const o=MS((d,f)=>{const m=a.clientWidth;s(d,f),m<a.clientWidth&&s()},window),c=new ResizeObserver(d=>{const f=d[0],m=f.contentRect.width,g=f.contentRect.height;m===0&&g===0||o(m,g)});return c.observe(a),V3(t,o),c}function _p(t,e,s){s&&s.disconnect(),e==="resize"&&F3(t)}function U3(t,e,s){const n=t.canvas,a=MS(o=>{t.ctx!==null&&s(z3(o,t))},t);return R3(n,e,a),a}class Y3 extends tj{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(O3(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[Cd])return!1;const n=s[Cd].initial;["height","width"].forEach(o=>{const c=n[o];He(c)?s.removeAttribute(o):s.setAttribute(o,c)});const a=n.style||{};return Object.keys(a).forEach(o=>{s.style[o]=a[o]}),s.width=s.width,delete s[Cd],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const a=e.$proxies||(e.$proxies={}),c={attach:P3,detach:B3,resize:H3}[s]||U3;a[s]=c(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),a=n[s];if(!a)return;({attach:_p,detach:_p,resize:_p}[s]||L3)(e,s,a),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,a){return AA(e,s,n,a)}isAttached(e){const s=e&&mx(e);return!!(s&&s.isConnected)}}function W3(t){return!fx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?A3:Y3}let Ri=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return Mo(this.x)&&Mo(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const a={};return e.forEach(o=>{a[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),a}};function I3(t,e){const s=t.options.ticks,n=q3(t),a=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?$3(e):[],c=o.length,d=o[0],f=o[c-1],m=[];if(c>a)return X3(e,m,o,c/a),m;const g=G3(o,e,a);if(c>0){let x,b;const v=c>1?Math.round((f-d)/(c-1)):null;for(fd(e,m,g,He(v)?0:d-v,d),x=0,b=c-1;x<b;x++)fd(e,m,g,o[x],o[x+1]);return fd(e,m,g,f,He(v)?e.length:f+v),m}return fd(e,m,g),m}function q3(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),a=t._maxLength/s;return Math.floor(Math.min(n,a))}function G3(t,e,s){const n=K3(t),a=e.length/s;if(!n)return Math.max(a,1);const o=RC(n);for(let c=0,d=o.length-1;c<d;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function $3(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function X3(t,e,s,n){let a=0,o=s[0],c;for(n=Math.ceil(n),c=0;c<t.length;c++)c===o&&(e.push(t[c]),a++,o=s[a*n])}function fd(t,e,s,n,a){const o=Oe(n,0),c=Math.min(Oe(a,t.length),t.length);let d=0,f,m,g;for(s=Math.ceil(s),a&&(f=a-n,s=f/Math.floor(f/s)),g=o;g<0;)d++,g=Math.round(o+d*s);for(m=Math.max(o,0);m<c;m++)m===g&&(e.push(t[m]),d++,g=Math.round(o+d*s))}function K3(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const Z3=t=>t==="left"?"right":t==="right"?"left":t,A_=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,E_=(t,e)=>Math.min(e||t,t);function O_(t,e){const s=[],n=t.length/e,a=t.length;let o=0;for(;o<a;o+=n)s.push(t[Math.floor(o)]);return s}function Q3(t,e,s){const n=t.ticks.length,a=Math.min(e,n-1),o=t._startPixel,c=t._endPixel,d=1e-6;let f=t.getPixelForTick(a),m;if(!(s&&(n===1?m=Math.max(f-o,c-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(a-1))/2,f+=a<e?m:-m,f<o-d||f>c+d)))return f}function J3(t,e){ot(t,s=>{const n=s.gc,a=n.length/2;let o;if(a>e){for(o=0;o<a;++o)delete s.data[n[o]];n.splice(0,a)}})}function Hl(t){return t.drawTicks?t.tickLength:0}function R_(t,e){if(!t.display)return 0;const s=Qt(t.font,e),n=bs(t.padding);return(Nt(t.text)?t.text.length:1)*s.lineHeight+n.height}function eE(t,e){return Aa(t,{scale:e,type:"scale"})}function tE(t,e,s){return Aa(t,{tick:s,index:e,type:"tick"})}function sE(t,e,s){let n=ox(t);return(s&&e!=="right"||!s&&e==="right")&&(n=Z3(n)),n}function nE(t,e,s,n){const{top:a,left:o,bottom:c,right:d,chart:f}=t,{chartArea:m,scales:g}=f;let x=0,b,v,w;const S=c-a,j=d-o;if(t.isHorizontal()){if(v=fs(n,o,d),We(s)){const M=Object.keys(s)[0],T=s[M];w=g[M].getPixelForValue(T)+S-e}else s==="center"?w=(m.bottom+m.top)/2+S-e:w=A_(t,s,e);b=d-o}else{if(We(s)){const M=Object.keys(s)[0],T=s[M];v=g[M].getPixelForValue(T)-j+e}else s==="center"?v=(m.left+m.right)/2-j+e:v=A_(t,s,e);w=fs(n,c,a),x=s==="left"?-Vt:Vt}return{titleX:v,titleY:w,maxWidth:b,rotation:x}}class _r extends Ri{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:a}=this;return e=Ws(e,Number.POSITIVE_INFINITY),s=Ws(s,Number.NEGATIVE_INFINITY),n=Ws(n,Number.POSITIVE_INFINITY),a=Ws(a,Number.NEGATIVE_INFINITY),{min:Ws(e,n),max:Ws(s,a),minDefined:At(e),maxDefined:At(s)}}getMinMax(e){let{min:s,max:n,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:s,max:n};const d=this.getMatchingVisibleMetas();for(let f=0,m=d.length;f<m;++f)c=d[f].controller.getMinMax(this,e),a||(s=Math.min(s,c.min)),o||(n=Math.max(n,c.max));return s=o&&s>n?n:s,n=a&&s>n?s:n,{min:Ws(s,Ws(n,s)),max:Ws(n,Ws(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:a,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=cA(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?O_(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=I3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,a,o;for(n=0,a=e.length;n<a;n++)o=e[n],o.label=gt(s.callback,[o.value,n,e],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=E_(this.ticks.length,e.ticks.maxTicksLimit),a=s.minRotation||0,o=s.maxRotation;let c=a,d,f,m;if(!this._isVisible()||!s.display||a>=o||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),x=g.widest.width,b=g.highest.height,v=as(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/n:v/(n-1),x+6>d&&(d=v/(n-(e.offset?.5:1)),f=this.maxHeight-Hl(e.grid)-s.padding-R_(e.title,this.chart.options.font),m=Math.sqrt(x*x+b*b),c=ax(Math.min(Math.asin(as((g.highest.height+6)/d,-1,1)),Math.asin(as(f/m,-1,1))-Math.asin(as(b/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:a,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const f=R_(a,s.options.font);if(d?(e.width=this.maxWidth,e.height=Hl(o)+f):(e.height=this.maxHeight,e.width=Hl(o)+f),n.display&&this.ticks.length){const{first:m,last:g,widest:x,highest:b}=this._getLabelSizes(),v=n.padding*2,w=wn(this.labelRotation),S=Math.cos(w),j=Math.sin(w);if(d){const M=n.mirror?0:j*x.width+S*b.height;e.height=Math.min(this.maxHeight,e.height+M+v)}else{const M=n.mirror?0:S*x.width+j*b.height;e.width=Math.min(this.maxWidth,e.width+M+v)}this._calculatePadding(m,g,j,S)}}this._handleMargins(),d?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,a){const{ticks:{align:o,padding:c},position:d}=this.options,f=this.labelRotation!==0,m=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,v=0;f?m?(b=a*e.width,v=n*s.height):(b=n*e.height,v=a*s.width):o==="start"?v=s.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,v=s.width/2),this.paddingLeft=Math.max((b-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((v-x+c)*this.width/(this.width-x),0)}else{let g=s.height/2,x=e.height/2;o==="start"?(g=0,x=e.height):o==="end"&&(g=s.height,x=0),this.paddingTop=g+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)He(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=O_(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:a,_longestTextCache:o}=this,c=[],d=[],f=Math.floor(s/E_(s,n));let m=0,g=0,x,b,v,w,S,j,M,T,E,O,L;for(x=0;x<s;x+=f){if(w=e[x].label,S=this._resolveTickFontOptions(x),a.font=j=S.string,M=o[j]=o[j]||{data:{},gc:[]},T=S.lineHeight,E=O=0,!He(w)&&!Nt(w))E=Xd(a,M.data,M.gc,E,w),O=T;else if(Nt(w))for(b=0,v=w.length;b<v;++b)L=w[b],!He(L)&&!Nt(L)&&(E=Xd(a,M.data,M.gc,E,L),O+=T);c.push(E),d.push(O),m=Math.max(E,m),g=Math.max(O,g)}J3(o,s);const C=c.indexOf(m),A=d.indexOf(g),z=I=>({width:c[I]||0,height:d[I]||0});return{first:z(0),last:z(s-1),widest:z(C),highest:z(A),widths:c,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return BC(this._alignToPixels?tr(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=tE(this.getContext(),e,n))}return this.$context||(this.$context=eE(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=wn(this.labelRotation),n=Math.abs(Math.cos(s)),a=Math.abs(Math.sin(s)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,d=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*n>d*a?d/n:f/a:f*a<d*n?f/n:d/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,a=this.options,{grid:o,position:c,border:d}=a,f=o.offset,m=this.isHorizontal(),x=this.ticks.length+(f?1:0),b=Hl(o),v=[],w=d.setContext(this.getContext()),S=w.display?w.width:0,j=S/2,M=function(F){return tr(n,F,S)};let T,E,O,L,C,A,z,I,K,Z,oe,De;if(c==="top")T=M(this.bottom),A=this.bottom-b,I=T-j,Z=M(e.top)+j,De=e.bottom;else if(c==="bottom")T=M(this.top),Z=e.top,De=M(e.bottom)-j,A=T+j,I=this.top+b;else if(c==="left")T=M(this.right),C=this.right-b,z=T-j,K=M(e.left)+j,oe=e.right;else if(c==="right")T=M(this.left),K=e.left,oe=M(e.right)-j,C=T+j,z=this.left+b;else if(s==="x"){if(c==="center")T=M((e.top+e.bottom)/2+.5);else if(We(c)){const F=Object.keys(c)[0],G=c[F];T=M(this.chart.scales[F].getPixelForValue(G))}Z=e.top,De=e.bottom,A=T+j,I=A+b}else if(s==="y"){if(c==="center")T=M((e.left+e.right)/2);else if(We(c)){const F=Object.keys(c)[0],G=c[F];T=M(this.chart.scales[F].getPixelForValue(G))}C=T-j,z=C-b,K=e.left,oe=e.right}const xe=Oe(a.ticks.maxTicksLimit,x),_e=Math.max(1,Math.ceil(x/xe));for(E=0;E<x;E+=_e){const F=this.getContext(E),G=o.setContext(F),ae=d.setContext(F),ne=G.lineWidth,ce=G.color,R=ae.dash||[],H=ae.dashOffset,ee=G.tickWidth,D=G.tickColor,se=G.tickBorderDash||[],fe=G.tickBorderDashOffset;O=Q3(this,E,f),O!==void 0&&(L=tr(n,O,ne),m?C=z=K=oe=L:A=I=Z=De=L,v.push({tx1:C,ty1:A,tx2:z,ty2:I,x1:K,y1:Z,x2:oe,y2:De,width:ne,color:ce,borderDash:R,borderDashOffset:H,tickWidth:ee,tickColor:D,tickBorderDash:se,tickBorderDashOffset:fe}))}return this._ticksLength=x,this._borderValue=T,v}_computeLabelItems(e){const s=this.axis,n=this.options,{position:a,ticks:o}=n,c=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:m,padding:g,mirror:x}=o,b=Hl(n.grid),v=b+g,w=x?-g:v,S=-wn(this.labelRotation),j=[];let M,T,E,O,L,C,A,z,I,K,Z,oe,De="middle";if(a==="top")C=this.bottom-w,A=this._getXAxisLabelAlignment();else if(a==="bottom")C=this.top+w,A=this._getXAxisLabelAlignment();else if(a==="left"){const _e=this._getYAxisLabelAlignment(b);A=_e.textAlign,L=_e.x}else if(a==="right"){const _e=this._getYAxisLabelAlignment(b);A=_e.textAlign,L=_e.x}else if(s==="x"){if(a==="center")C=(e.top+e.bottom)/2+v;else if(We(a)){const _e=Object.keys(a)[0],F=a[_e];C=this.chart.scales[_e].getPixelForValue(F)+v}A=this._getXAxisLabelAlignment()}else if(s==="y"){if(a==="center")L=(e.left+e.right)/2-v;else if(We(a)){const _e=Object.keys(a)[0],F=a[_e];L=this.chart.scales[_e].getPixelForValue(F)}A=this._getYAxisLabelAlignment(b).textAlign}s==="y"&&(f==="start"?De="top":f==="end"&&(De="bottom"));const xe=this._getLabelSizes();for(M=0,T=d.length;M<T;++M){E=d[M],O=E.label;const _e=o.setContext(this.getContext(M));z=this.getPixelForTick(M)+o.labelOffset,I=this._resolveTickFontOptions(M),K=I.lineHeight,Z=Nt(O)?O.length:1;const F=Z/2,G=_e.color,ae=_e.textStrokeColor,ne=_e.textStrokeWidth;let ce=A;c?(L=z,A==="inner"&&(M===T-1?ce=this.options.reverse?"left":"right":M===0?ce=this.options.reverse?"right":"left":ce="center"),a==="top"?m==="near"||S!==0?oe=-Z*K+K/2:m==="center"?oe=-xe.highest.height/2-F*K+K:oe=-xe.highest.height+K/2:m==="near"||S!==0?oe=K/2:m==="center"?oe=xe.highest.height/2-F*K:oe=xe.highest.height-Z*K,x&&(oe*=-1),S!==0&&!_e.showLabelBackdrop&&(L+=K/2*Math.sin(S))):(C=z,oe=(1-Z)*K/2);let R;if(_e.showLabelBackdrop){const H=bs(_e.backdropPadding),ee=xe.heights[M],D=xe.widths[M];let se=oe-H.top,fe=0-H.left;switch(De){case"middle":se-=ee/2;break;case"bottom":se-=ee;break}switch(A){case"center":fe-=D/2;break;case"right":fe-=D;break;case"inner":M===T-1?fe-=D:M>0&&(fe-=D/2);break}R={left:fe,top:se,width:D+H.width,height:ee+H.height,color:_e.backdropColor}}j.push({label:O,font:I,textOffset:oe,options:{rotation:S,color:G,strokeColor:ae,strokeWidth:ne,textAlign:ce,textBaseline:De,translation:[L,C],backdrop:R}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-wn(this.labelRotation))return e==="top"?"left":"right";let a="center";return s.align==="start"?a="left":s.align==="end"?a="right":s.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),d=e+o,f=c.widest.width;let m,g;return s==="left"?a?(g=this.right+o,n==="near"?m="left":n==="center"?(m="center",g+=f/2):(m="right",g+=f)):(g=this.right-d,n==="near"?m="right":n==="center"?(m="center",g-=f/2):(m="left",g=this.left)):s==="right"?a?(g=this.left+o,n==="near"?m="right":n==="center"?(m="center",g-=f/2):(m="left",g-=f)):(g=this.left+d,n==="near"?m="left":n==="center"?(m="center",g+=f/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:a,width:o,height:c}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,a,o,c),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?s.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const d=(f,m,g)=>{!g.width||!g.color||(n.save(),n.lineWidth=g.width,n.strokeStyle=g.color,n.setLineDash(g.borderDash||[]),n.lineDashOffset=g.borderDashOffset,n.beginPath(),n.moveTo(f.x,f.y),n.lineTo(m.x,m.y),n.stroke(),n.restore())};if(s.display)for(o=0,c=a.length;o<c;++o){const f=a[o];s.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),s.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:a}}=this,o=n.setContext(this.getContext()),c=n.display?o.width:0;if(!c)return;const d=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,g,x,b;this.isHorizontal()?(m=tr(e,this.left,c)-c/2,g=tr(e,this.right,d)+d/2,x=b=f):(x=tr(e,this.top,c)-c/2,b=tr(e,this.bottom,d)+d/2,m=g=f),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(m,x),s.lineTo(g,b),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&_h(n,a);const o=this.getLabelItems(e);for(const c of o){const d=c.options,f=c.font,m=c.label,g=c.textOffset;br(n,m,0,g,f,d)}a&&wh(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:a}}=this;if(!n.display)return;const o=Qt(n.font),c=bs(n.padding),d=n.align;let f=o.lineHeight/2;s==="bottom"||s==="center"||We(s)?(f+=c.bottom,Nt(n.text)&&(f+=o.lineHeight*(n.text.length-1))):f+=c.top;const{titleX:m,titleY:g,maxWidth:x,rotation:b}=nE(this,f,s,d);br(e,n.text,0,0,o,{color:n.color,maxWidth:x,rotation:b,textAlign:sE(d,s,a),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Oe(e.grid&&e.grid.z,-1),a=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==_r.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let o,c;for(o=0,c=s.length;o<c;++o){const d=s[o];d[n]===this.id&&(!e||d.type===e)&&a.push(d)}return a}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Qt(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class md{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;rE(s)&&(n=this.register(s));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,iE(e,c,n),this.override&&kt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,a=this.scope;n in s&&delete s[n],a&&n in kt[a]&&(delete kt[a][n],this.override&&delete yr[n])}}function iE(t,e,s){const n=vc(Object.create(null),[s?kt.get(s):{},kt.get(e),t.defaults]);kt.set(e,n),t.defaultRoutes&&aE(e,t.defaultRoutes),t.descriptors&&kt.describe(e,t.descriptors)}function aE(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),a=n.pop(),o=[t].concat(n).join("."),c=e[s].split("."),d=c.pop(),f=c.join(".");kt.route(o,a,f,d)})}function rE(t){return"id"in t&&"defaults"in t}class oE{constructor(){this.controllers=new md(Ea,"datasets",!0),this.elements=new md(Ri,"elements"),this.plugins=new md(Object,"plugins"),this.scales=new md(_r,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(a=>{const o=n||this._getRegistryForType(a);n||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):ot(a,c=>{const d=n||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,s,n){const a=ix(e);gt(n["before"+a],[],n),s[e](n),gt(n["after"+a],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const a=s.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Pn=new oE;class lE{constructor(){this._init=void 0}notify(e,s,n,a){if(s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,s,n);return s==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,s,n,a){a=a||{};for(const o of e){const c=o.plugin,d=c[n],f=[s,a,o.options];if(gt(d,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){He(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,a=Oe(n.options&&n.options.plugins,{}),o=cE(n);return a===!1&&!s?[]:dE(e,o,a,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,a=(o,c)=>o.filter(d=>!c.some(f=>d.plugin.id===f.plugin.id));this._notify(a(s,n),e,"stop"),this._notify(a(n,s),e,"start")}}function cE(t){const e={},s=[],n=Object.keys(Pn.plugins.items);for(let o=0;o<n.length;o++)s.push(Pn.getPlugin(n[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];s.indexOf(c)===-1&&(s.push(c),e[c.id]=!0)}return{plugins:s,localIds:e}}function uE(t,e){return!e&&t===!1?null:t===!0?{}:t}function dE(t,{plugins:e,localIds:s},n,a){const o=[],c=t.getContext();for(const d of e){const f=d.id,m=uE(n[f],a);m!==null&&o.push({plugin:d,options:hE(t.config,{plugin:d,local:s[f]},m,c)})}return o}function hE(t,{plugin:e,local:s},n,a){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(n,o);return s&&e.defaults&&c.push(e.defaults),t.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dg(t,e){const s=kt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function fE(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function mE(t,e){return t===e?"_index_":"_value_"}function L_(t){if(t==="x"||t==="y"||t==="r")return t}function pE(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function hg(t,...e){if(L_(t))return t;for(const s of e){const n=s.axis||pE(s.position)||t.length>1&&L_(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function z_(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function gE(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return z_(t,"x",s[0])||z_(t,"y",s[0])}return{}}function xE(t,e){const s=yr[t.type]||{scales:{}},n=e.scales||{},a=dg(t.type,e),o=Object.create(null);return Object.keys(n).forEach(c=>{const d=n[c];if(!We(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=hg(c,d,gE(c,t),kt.scales[d.type]),m=mE(f,a),g=s.scales||{};o[c]=oc(Object.create(null),[{axis:f},d,g[f],g[m]])}),t.data.datasets.forEach(c=>{const d=c.type||t.type,f=c.indexAxis||dg(d,e),g=(yr[d]||{}).scales||{};Object.keys(g).forEach(x=>{const b=fE(x,f),v=c[b+"AxisID"]||b;o[v]=o[v]||Object.create(null),oc(o[v],[{axis:b},n[v],g[x]])})}),Object.keys(o).forEach(c=>{const d=o[c];oc(d,[kt.scales[d.type],kt.scale])}),o}function ij(t){const e=t.options||(t.options={});e.plugins=Oe(e.plugins,{}),e.scales=xE(t,e)}function aj(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function yE(t){return t=t||{},t.data=aj(t.data),ij(t),t}const P_=new Map,rj=new Set;function pd(t,e){let s=P_.get(t);return s||(s=e(),P_.set(t,s),rj.add(s)),s}const Ul=(t,e,s)=>{const n=ka(e,s);n!==void 0&&t.add(n)};class bE{constructor(e){this._config=yE(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=aj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ij(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return pd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return pd(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return pd(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return pd(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let a=n.get(e);return(!a||s)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,s,n){const{options:a,type:o}=this,c=this._cachedScopes(e,n),d=c.get(s);if(d)return d;const f=new Set;s.forEach(g=>{e&&(f.add(e),g.forEach(x=>Ul(f,e,x))),g.forEach(x=>Ul(f,a,x)),g.forEach(x=>Ul(f,yr[o]||{},x)),g.forEach(x=>Ul(f,kt,x)),g.forEach(x=>Ul(f,cg,x))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),rj.has(s)&&c.set(s,m),m}chartOptionScopes(){const{options:e,type:s}=this;return[e,yr[s]||{},kt.datasets[s]||{},{type:s},kt,cg]}resolveNamedOptions(e,s,n,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=B_(this._resolverCache,e,a);let f=c;if(_E(c,s)){o.$shared=!1,n=Ma(n)?n():n;const m=this.createResolver(e,n,d);f=To(c,n,m)}for(const m of s)o[m]=f[m];return o}createResolver(e,s,n=[""],a){const{resolver:o}=B_(this._resolverCache,e,n);return We(s)?To(o,s,void 0,a):o}}function B_(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=s.join();let o=n.get(a);return o||(o={resolver:ux(e,s),subPrefixes:s.filter(d=>!d.toLowerCase().includes("hover"))},n.set(a,o)),o}const vE=t=>We(t)&&Object.getOwnPropertyNames(t).some(e=>Ma(t[e]));function _E(t,e){const{isScriptable:s,isIndexable:n}=OS(t);for(const a of e){const o=s(a),c=n(a),d=(c||o)&&t[a];if(o&&(Ma(d)||vE(d))||c&&Nt(d))return!0}return!1}var wE="4.5.1";const SE=["top","bottom","left","right","chartArea"];function V_(t,e){return t==="top"||t==="bottom"||SE.indexOf(t)===-1&&e==="x"}function F_(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function H_(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),gt(s&&s.onComplete,[t],e)}function jE(t){const e=t.chart,s=e.options.animation;gt(s&&s.onProgress,[t],e)}function oj(t){return fx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ad={},U_=t=>{const e=oj(t);return Object.values(Ad).filter(s=>s.canvas===e).pop()};function NE(t,e,s){const n=Object.keys(t);for(const a of n){const o=+a;if(o>=e){const c=t[a];delete t[a],(s>0||o>e)&&(t[o+s]=c)}}}function kE(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}let kn=class{static defaults=kt;static instances=Ad;static overrides=yr;static registry=Pn;static version=wE;static getChart=U_;static register(...e){Pn.add(...e),Y_()}static unregister(...e){Pn.remove(...e),Y_()}constructor(e,s){const n=this.config=new bE(s),a=oj(e),o=U_(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||W3(a)),this.platform.updateConfig(n);const d=this.platform.acquireContext(a,c.aspectRatio),f=d&&d.canvas,m=f&&f.height,g=f&&f.width;if(this.id=NC(),this.ctx=d,this.canvas=f,this.width=g,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=UC(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],Ad[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}xi.listen(this,"complete",H_),xi.listen(this,"progress",jE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:a,_aspectRatio:o}=this;return He(e)?s&&o?o:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Pn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():d_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return l_(this.canvas,this.ctx),this}stop(){return xi.stop(this),this}resize(e,s){xi.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,a=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,s,o),d=n.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,d_(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),gt(n.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ot(s,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,a=Object.keys(n).reduce((c,d)=>(c[d]=!1,c),{});let o=[];s&&(o=o.concat(Object.keys(s).map(c=>{const d=s[c],f=hg(c,d),m=f==="r",g=f==="x";return{options:d,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),ot(o,c=>{const d=c.options,f=d.id,m=hg(f,d),g=Oe(d.type,c.dtype);(d.position===void 0||V_(d.position,m)!==V_(c.dposition))&&(d.position=c.dposition),a[f]=!0;let x=null;if(f in n&&n[f].type===g)x=n[f];else{const b=Pn.getScale(g);x=new b({id:f,type:g,ctx:this.ctx,chart:this}),n[x.id]=x}x.init(d,e)}),ot(a,(c,d)=>{c||delete n[d]}),ot(n,c=>{gs.configure(this,c,c.options),gs.addBox(this,c)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((a,o)=>a.index-o.index),n>s){for(let a=s;a<n;++a)this._destroyDatasetMeta(a);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(F_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,a)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=s.length;n<a;n++){const o=s[n];let c=this.getDatasetMeta(n);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(n),c=this.getDatasetMeta(n)),c.type=d,c.indexAxis=o.indexAxis||dg(d,this.options),c.order=o.order||0,c.index=n,c.label=""+o.label,c.visible=this.isDatasetVisible(n),c.controller)c.controller.updateIndex(n),c.controller.linkScales();else{const f=Pn.getController(d),{datasetElementType:m,dataElementType:g}=kt.datasets[d];Object.assign(f,{dataElementType:Pn.getElement(g),datasetElementType:m&&Pn.getElement(m)}),c.controller=new f(this,n),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){ot(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:x}=this.getDatasetMeta(m),b=!a&&o.indexOf(x)===-1;x.buildOrUpdateElements(b),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=n.layout.autoPadding?c:0,this._updateLayout(c),a||ot(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(F_("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){ot(this.scales,e=>{gs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!J1(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:o}of s){const c=n==="_removeElements"?-o:o;NE(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(e.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),a=n(0);for(let o=1;o<s;o++)if(!J1(a,n(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gs.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ot(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Ma(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xi.has(this)?this.attached&&!xi.running(this)&&xi.start(this):(this.draw(),H_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let a,o;for(a=0,o=s.length;a<o;++a){const c=s[a];(!e||c.visible)&&n.push(c)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=WS(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&_h(s,a),e.controller.draw(),a&&wh(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Si(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,a){const o=S3.modes[s];return typeof o=="function"?o(this,e,n,a):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let a=n.filter(o=>o&&o._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Aa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const a=n?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);_c(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),c.update(o,{visible:n}),this.update(d=>d.datasetIndex===e?a:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),xi.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),l_(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Ad[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(o,c)=>{s.addEventListener(this,o,c),e[o]=c},a=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};ot(this.options.events,o=>n(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(f,m)=>{s.addEventListener(this,f,m),e[f]=m},a=(f,m)=>{e[f]&&(s.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const d=()=>{a("attach",d),this.attached=!0,this.resize(),n("resize",o),n("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),n("attach",d)},s.isAttached(this.canvas)?d():c()}unbindEvents(){ot(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},ot(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const a=n?"set":"remove";let o,c,d,f;for(s==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),d=0,f=e.length;d<f;++d){c=e[d];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!qd(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const a=this.options.hover,o=(f,m)=>f.filter(g=>!m.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),c=o(s,e),d=n?e:o(e,s);c.length&&this.updateHoverStyle(c,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const o=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(o||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:a=[],options:o}=this,c=s,d=this._getActiveElements(e,a,n,c),f=AC(e),m=kE(e,this._lastEvent,n,f);n&&(this._lastEvent=null,gt(o.onHover,[e,d,this],this),f&&gt(o.onClick,[e,d,this],this));const g=!qd(d,a);return(g||s)&&(this._active=d,this._updateHoverStyles(d,a,s)),this._lastEvent=m,g}_getActiveElements(e,s,n,a){if(e.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function Y_(){return ot(kn.instances,t=>t._plugins.invalidate())}function ME(t,e,s){const{startAngle:n,x:a,y:o,outerRadius:c,innerRadius:d,options:f}=e,{borderWidth:m,borderJoinStyle:g}=f,x=Math.min(m/c,ps(n-s));if(t.beginPath(),t.arc(a,o,c-m/2,n+x/2,s-x/2),d>0){const b=Math.min(m/d,ps(n-s));t.arc(a,o,d+m/2,s-b/2,n+b/2,!0)}else{const b=Math.min(m/2,c*ps(n-s));if(g==="round")t.arc(a,o,b,s-Je/2,n+Je/2,!0);else if(g==="bevel"){const v=2*b*b,w=-v*Math.cos(s+Je/2)+a,S=-v*Math.sin(s+Je/2)+o,j=v*Math.cos(n+Je/2)+a,M=v*Math.sin(n+Je/2)+o;t.lineTo(w,S),t.lineTo(j,M)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function TE(t,e,s){const{startAngle:n,pixelMargin:a,x:o,y:c,outerRadius:d,innerRadius:f}=e;let m=a/d;t.beginPath(),t.arc(o,c,d,n-m,s+m),f>a?(m=a/f,t.arc(o,c,f,s+m,n-m,!0)):t.arc(o,c,a,s+Vt,n-Vt),t.closePath(),t.clip()}function DE(t){return cx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function CE(t,e,s,n){const a=DE(t.options.borderRadius),o=(s-e)/2,c=Math.min(o,n*e/2),d=f=>{const m=(s-Math.min(o,f))*n/2;return as(f,0,Math.min(o,m))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:as(a.innerStart,0,c),innerEnd:as(a.innerEnd,0,c)}}function co(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function Qd(t,e,s,n,a,o){const{x:c,y:d,startAngle:f,pixelMargin:m,innerRadius:g}=e,x=Math.max(e.outerRadius+n+s-m,0),b=g>0?g+n+s+m:0;let v=0;const w=a-f;if(n){const _e=g>0?g-n:0,F=x>0?x-n:0,G=(_e+F)/2,ae=G!==0?w*G/(G+n):w;v=(w-ae)/2}const S=Math.max(.001,w*x-s/Je)/x,j=(w-S)/2,M=f+j+v,T=a-j-v,{outerStart:E,outerEnd:O,innerStart:L,innerEnd:C}=CE(e,b,x,T-M),A=x-E,z=x-O,I=M+E/A,K=T-O/z,Z=b+L,oe=b+C,De=M+L/Z,xe=T-C/oe;if(t.beginPath(),o){const _e=(I+K)/2;if(t.arc(c,d,x,I,_e),t.arc(c,d,x,_e,K),O>0){const ne=co(z,K,c,d);t.arc(ne.x,ne.y,O,K,T+Vt)}const F=co(oe,T,c,d);if(t.lineTo(F.x,F.y),C>0){const ne=co(oe,xe,c,d);t.arc(ne.x,ne.y,C,T+Vt,xe+Math.PI)}const G=(T-C/b+(M+L/b))/2;if(t.arc(c,d,b,T-C/b,G,!0),t.arc(c,d,b,G,M+L/b,!0),L>0){const ne=co(Z,De,c,d);t.arc(ne.x,ne.y,L,De+Math.PI,M-Vt)}const ae=co(A,M,c,d);if(t.lineTo(ae.x,ae.y),E>0){const ne=co(A,I,c,d);t.arc(ne.x,ne.y,E,M-Vt,I)}}else{t.moveTo(c,d);const _e=Math.cos(I)*x+c,F=Math.sin(I)*x+d;t.lineTo(_e,F);const G=Math.cos(K)*x+c,ae=Math.sin(K)*x+d;t.lineTo(G,ae)}t.closePath()}function AE(t,e,s,n,a){const{fullCircles:o,startAngle:c,circumference:d}=e;let f=e.endAngle;if(o){Qd(t,e,s,n,f,a);for(let m=0;m<o;++m)t.fill();isNaN(d)||(f=c+(d%bt||bt))}return Qd(t,e,s,n,f,a),t.fill(),f}function EE(t,e,s,n,a){const{fullCircles:o,startAngle:c,circumference:d,options:f}=e,{borderWidth:m,borderJoinStyle:g,borderDash:x,borderDashOffset:b,borderRadius:v}=f,w=f.borderAlign==="inner";if(!m)return;t.setLineDash(x||[]),t.lineDashOffset=b,w?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let S=e.endAngle;if(o){Qd(t,e,s,n,S,a);for(let j=0;j<o;++j)t.stroke();isNaN(d)||(S=c+(d%bt||bt))}w&&TE(t,e,S),f.selfJoin&&S-c>=Je&&v===0&&g!=="miter"&&ME(t,e,S),o||(Qd(t,e,s,n,S,a),t.stroke())}class OE extends Ri{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,n){const a=this.getProps(["x","y"],n),{angle:o,distance:c}=SS(a,{x:e,y:s}),{startAngle:d,endAngle:f,innerRadius:m,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),b=(this.options.spacing+this.options.borderWidth)/2,v=Oe(x,f-d),w=wc(o,d,f)&&d!==f,S=v>=bt||w,j=_i(c,m+b,g+b);return S&&j}getCenterPoint(e){const{x:s,y:n,startAngle:a,endAngle:o,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:m}=this.options,g=(a+o)/2,x=(c+d+m+f)/2;return{x:s+Math.cos(g)*x,y:n+Math.sin(g)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:n}=this,a=(s.offset||0)/4,o=(s.spacing||0)/2,c=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=n>bt?Math.floor(n/bt):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*a,Math.sin(d)*a);const f=1-Math.sin(Math.min(Je,n||0)),m=a*f;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,AE(e,this,m,o,c),EE(e,this,m,o,c),e.restore()}}function lj(t,e,s=e){t.lineCap=Oe(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Oe(s.borderDash,e.borderDash)),t.lineDashOffset=Oe(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Oe(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Oe(s.borderWidth,e.borderWidth),t.strokeStyle=Oe(s.borderColor,e.borderColor)}function RE(t,e,s){t.lineTo(s.x,s.y)}function LE(t){return t.stepped?eA:t.tension||t.cubicInterpolationMode==="monotone"?tA:RE}function cj(t,e,s={}){const n=t.length,{start:a=0,end:o=n-1}=s,{start:c,end:d}=e,f=Math.max(a,c),m=Math.min(o,d),g=a<c&&o<c||a>d&&o>d;return{count:n,start:f,loop:e.loop,ilen:m<f&&!g?n+m-f:m-f}}function zE(t,e,s,n){const{points:a,options:o}=e,{count:c,start:d,loop:f,ilen:m}=cj(a,s,n),g=LE(o);let{move:x=!0,reverse:b}=n||{},v,w,S;for(v=0;v<=m;++v)w=a[(d+(b?m-v:v))%c],!w.skip&&(x?(t.moveTo(w.x,w.y),x=!1):g(t,S,w,b,o.stepped),S=w);return f&&(w=a[(d+(b?m:0))%c],g(t,S,w,b,o.stepped)),!!f}function PE(t,e,s,n){const a=e.points,{count:o,start:c,ilen:d}=cj(a,s,n),{move:f=!0,reverse:m}=n||{};let g=0,x=0,b,v,w,S,j,M;const T=O=>(c+(m?d-O:O))%o,E=()=>{S!==j&&(t.lineTo(g,j),t.lineTo(g,S),t.lineTo(g,M))};for(f&&(v=a[T(0)],t.moveTo(v.x,v.y)),b=0;b<=d;++b){if(v=a[T(b)],v.skip)continue;const O=v.x,L=v.y,C=O|0;C===w?(L<S?S=L:L>j&&(j=L),g=(x*g+O)/++x):(E(),t.lineTo(O,L),w=C,x=0,S=j=L),M=L}E()}function fg(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?PE:zE}function BE(t){return t.stepped?OA:t.tension||t.cubicInterpolationMode==="monotone"?RA:cr}function VE(t,e,s,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,s,n)&&a.closePath()),lj(t,e.options),t.stroke(a)}function FE(t,e,s,n){const{segments:a,options:o}=e,c=fg(e);for(const d of a)lj(t,o,d.style),t.beginPath(),c(t,e,d,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const HE=typeof Path2D=="function";function UE(t,e,s,n){HE&&!e.options.segment?VE(t,e,s,n):FE(t,e,s,n)}class Li extends Ri{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;NA(this._points,n,e,a,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=FA(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,a=e[s],o=this.points,c=YS(this,{property:s,start:a,end:a});if(!c.length)return;const d=[],f=BE(n);let m,g;for(m=0,g=c.length;m<g;++m){const{start:x,end:b}=c[m],v=o[x],w=o[b];if(v===w){d.push(v);continue}const S=Math.abs((a-v[s])/(w[s]-v[s])),j=f(v,w,S,n.stepped);j[s]=e[s],d.push(j)}return d.length===1?d[0]:d}pathSegment(e,s,n){return fg(this)(e,this,s,n)}path(e,s,n){const a=this.segments,o=fg(this);let c=this._loop;s=s||0,n=n||this.points.length-s;for(const d of a)c&=o(e,this,d,{start:s,end:s+n-1});return!!c}draw(e,s,n,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),UE(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function W_(t,e,s,n){const a=t.options,{[s]:o}=t.getProps([s],n);return Math.abs(e-o)<a.radius+a.hitRadius}class zo extends Ri{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,n){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],n);return Math.pow(e-o,2)+Math.pow(s-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,s){return W_(this,e,"x",s)}inYRange(e,s){return W_(this,e,"y",s)}getCenterPoint(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const n=s&&e.borderWidth||0;return(s+n)*2}draw(e,s){const n=this.options;this.skip||n.radius<.1||!Si(this,s,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,ug(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function uj(t,e){const{x:s,y:n,base:a,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let d,f,m,g,x;return t.horizontal?(x=c/2,d=Math.min(s,a),f=Math.max(s,a),m=n-x,g=n+x):(x=o/2,d=s-x,f=s+x,m=Math.min(n,a),g=Math.max(n,a)),{left:d,top:m,right:f,bottom:g}}function ba(t,e,s,n){return t?0:as(e,s,n)}function YE(t,e,s){const n=t.options.borderWidth,a=t.borderSkipped,o=ES(n);return{t:ba(a.top,o.top,0,s),r:ba(a.right,o.right,0,e),b:ba(a.bottom,o.bottom,0,s),l:ba(a.left,o.left,0,e)}}function WE(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=mr(a),c=Math.min(e,s),d=t.borderSkipped,f=n||We(a);return{topLeft:ba(!f||d.top||d.left,o.topLeft,0,c),topRight:ba(!f||d.top||d.right,o.topRight,0,c),bottomLeft:ba(!f||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:ba(!f||d.bottom||d.right,o.bottomRight,0,c)}}function IE(t){const e=uj(t),s=e.right-e.left,n=e.bottom-e.top,a=YE(t,s/2,n/2),o=WE(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:s-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function wp(t,e,s,n){const a=e===null,o=s===null,d=t&&!(a&&o)&&uj(t,n);return d&&(a||_i(e,d.left,d.right))&&(o||_i(s,d.top,d.bottom))}function qE(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function GE(t,e){t.rect(e.x,e.y,e.w,e.h)}function Sp(t,e,s={}){const n=t.x!==s.x?-e:0,a=t.y!==s.y?-e:0,o=(t.x+t.w!==s.x+s.w?e:0)-n,c=(t.y+t.h!==s.y+s.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+o,h:t.h+c,radius:t.radius}}class xx extends Ri{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:a}}=this,{inner:o,outer:c}=IE(this),d=qE(c.radius)?Sc:GE;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),d(e,Sp(c,s,o)),e.clip(),d(e,Sp(o,-s,c)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),d(e,Sp(o,s)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,s,n){return wp(this,e,s,n)}inXRange(e,s){return wp(this,e,null,s)}inYRange(e,s){return wp(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(s+a)/2:s,y:o?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var $E=Object.freeze({__proto__:null,ArcElement:OE,BarElement:xx,LineElement:Li,PointElement:zo});const mg=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],I_=mg.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function dj(t){return mg[t%mg.length]}function hj(t){return I_[t%I_.length]}function XE(t,e){return t.borderColor=dj(e),t.backgroundColor=hj(e),++e}function KE(t,e){return t.backgroundColor=t.data.map(()=>dj(e++)),e}function ZE(t,e){return t.backgroundColor=t.data.map(()=>hj(e++)),e}function QE(t){let e=0;return(s,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof px?e=KE(s,e):a instanceof KS?e=ZE(s,e):a&&(e=XE(s,e))}}function q_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function JE(t){return t&&(t.borderColor||t.backgroundColor)}function e4(){return kt.borderColor!=="rgba(0,0,0,0.1)"||kt.backgroundColor!=="rgba(0,0,0,0.1)"}var t4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,s){if(!s.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:o}=a,c=q_(n)||JE(a)||o&&q_(o)||e4();if(!s.forceOverride&&c)return;const d=QE(t);n.forEach(d)}};function s4(t,e,s,n,a){const o=a.samples||n;if(o>=s)return t.slice(e,e+s);const c=[],d=(s-2)/(o-2);let f=0;const m=e+s-1;let g=e,x,b,v,w,S;for(c[f++]=t[g],x=0;x<o-2;x++){let j=0,M=0,T;const E=Math.floor((x+1)*d)+1+e,O=Math.min(Math.floor((x+2)*d)+1,s)+e,L=O-E;for(T=E;T<O;T++)j+=t[T].x,M+=t[T].y;j/=L,M/=L;const C=Math.floor(x*d)+1+e,A=Math.min(Math.floor((x+1)*d)+1,s)+e,{x:z,y:I}=t[g];for(v=w=-1,T=C;T<A;T++)w=.5*Math.abs((z-j)*(t[T].y-I)-(z-t[T].x)*(M-I)),w>v&&(v=w,b=t[T],S=T);c[f++]=b,g=S}return c[f++]=t[m],c}function n4(t,e,s,n){let a=0,o=0,c,d,f,m,g,x,b,v,w,S;const j=[],M=e+s-1,T=t[e].x,O=t[M].x-T;for(c=e;c<e+s;++c){d=t[c],f=(d.x-T)/O*n,m=d.y;const L=f|0;if(L===g)m<w?(w=m,x=c):m>S&&(S=m,b=c),a=(o*a+d.x)/++o;else{const C=c-1;if(!He(x)&&!He(b)){const A=Math.min(x,b),z=Math.max(x,b);A!==v&&A!==C&&j.push({...t[A],x:a}),z!==v&&z!==C&&j.push({...t[z],x:a})}c>0&&C!==v&&j.push(t[C]),j.push(d),g=L,o=0,w=S=m,x=b=v=c}}return j}function fj(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function G_(t){t.data.datasets.forEach(e=>{fj(e)})}function i4(t,e){const s=e.length;let n=0,a;const{iScale:o}=t,{min:c,max:d,minDefined:f,maxDefined:m}=o.getUserBounds();return f&&(n=as(wi(e,o.axis,c).lo,0,s-1)),m?a=as(wi(e,o.axis,d).hi+1,n,s)-n:a=s-n,{start:n,count:a}}var a4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,s)=>{if(!s.enabled){G_(t);return}const n=t.width;t.data.datasets.forEach((a,o)=>{const{_data:c,indexAxis:d}=a,f=t.getDatasetMeta(o),m=c||a.data;if(Ql([d,t.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const g=t.scales[f.xAxisID];if(g.type!=="linear"&&g.type!=="time"||t.options.parsing)return;let{start:x,count:b}=i4(f,m);const v=s.threshold||4*n;if(b<=v){fj(a);return}He(c)&&(a._data=m,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(s.algorithm){case"lttb":w=s4(m,x,b,n,s);break;case"min-max":w=n4(m,x,b,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}a._decimated=w})},destroy(t){G_(t)}};function r4(t,e,s){const n=t.segments,a=t.points,o=e.points,c=[];for(const d of n){let{start:f,end:m}=d;m=Nh(f,m,a);const g=pg(s,a[f],a[m],d.loop);if(!e.segments){c.push({source:d,target:g,start:a[f],end:a[m]});continue}const x=YS(e,g);for(const b of x){const v=pg(s,o[b.start],o[b.end],b.loop),w=US(d,a,v);for(const S of w)c.push({source:S,target:b,start:{[s]:$_(g,v,"start",Math.max)},end:{[s]:$_(g,v,"end",Math.min)}})}}return c}function pg(t,e,s,n){if(n)return;let a=e[t],o=s[t];return t==="angle"&&(a=ps(a),o=ps(o)),{property:t,start:a,end:o}}function o4(t,e){const{x:s=null,y:n=null}=t||{},a=e.points,o=[];return e.segments.forEach(({start:c,end:d})=>{d=Nh(c,d,a);const f=a[c],m=a[d];n!==null?(o.push({x:f.x,y:n}),o.push({x:m.x,y:n})):s!==null&&(o.push({x:s,y:f.y}),o.push({x:s,y:m.y}))}),o}function Nh(t,e,s){for(;e>t;e--){const n=s[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function $_(t,e,s,n){return t&&e?n(t[s],e[s]):t?t[s]:e?e[s]:0}function mj(t,e){let s=[],n=!1;return Nt(t)?(n=!0,s=t):s=o4(t,e),s.length?new Li({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function X_(t){return t&&t.fill!==!1}function l4(t,e,s){let a=t[e].fill;const o=[e];let c;if(!s)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!At(a))return a;if(c=t[a],!c)return!1;if(c.visible)return a;o.push(a),a=c.fill}return!1}function c4(t,e,s){const n=f4(t);if(We(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return At(a)&&Math.floor(a)===a?u4(n[0],e,a,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function u4(t,e,s,n){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=n?!1:s}function d4(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:We(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function h4(t,e,s){let n;return t==="start"?n=s:t==="end"?n=e.options.reverse?e.min:e.max:We(t)?n=t.value:n=e.getBaseValue(),n}function f4(t){const e=t.options,s=e.fill;let n=Oe(s&&s.target,s);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function m4(t){const{scale:e,index:s,line:n}=t,a=[],o=n.segments,c=n.points,d=p4(e,s);d.push(mj({x:null,y:e.bottom},n));for(let f=0;f<o.length;f++){const m=o[f];for(let g=m.start;g<=m.end;g++)g4(a,c[g],d)}return new Li({points:a,options:{}})}function p4(t,e){const s=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const o=n[a];if(o.index===e)break;o.hidden||s.unshift(o.dataset)}return s}function g4(t,e,s){const n=[];for(let a=0;a<s.length;a++){const o=s[a],{first:c,last:d,point:f}=x4(o,e,"x");if(!(!f||c&&d)){if(c)n.unshift(f);else if(t.push(f),!d)break}}t.push(...n)}function x4(t,e,s){const n=t.interpolate(e,s);if(!n)return{};const a=n[s],o=t.segments,c=t.points;let d=!1,f=!1;for(let m=0;m<o.length;m++){const g=o[m],x=c[g.start][s],b=c[g.end][s];if(_i(a,x,b)){d=a===x,f=a===b;break}}return{first:d,last:f,point:n}}class pj{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,n){const{x:a,y:o,radius:c}=this;return s=s||{start:0,end:bt},e.arc(a,o,c,s.end,s.start,!0),!n.bounds}interpolate(e){const{x:s,y:n,radius:a}=this,o=e.angle;return{x:s+Math.cos(o)*a,y:n+Math.sin(o)*a,angle:o}}}function y4(t){const{chart:e,fill:s,line:n}=t;if(At(s))return b4(e,s);if(s==="stack")return m4(t);if(s==="shape")return!0;const a=v4(t);return a instanceof pj?a:mj(a,n)}function b4(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function v4(t){return(t.scale||{}).getPointPositionForValue?w4(t):_4(t)}function _4(t){const{scale:e={},fill:s}=t,n=d4(s,e);if(At(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function w4(t){const{scale:e,fill:s}=t,n=e.options,a=e.getLabels().length,o=n.reverse?e.max:e.min,c=h4(s,e,o),d=[];if(n.grid.circular){const f=e.getPointPositionForValue(0,o);return new pj({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(c)})}for(let f=0;f<a;++f)d.push(e.getPointPositionForValue(f,c));return d}function jp(t,e,s){const n=y4(e),{chart:a,index:o,line:c,scale:d,axis:f}=e,m=c.options,g=m.fill,x=m.backgroundColor,{above:b=x,below:v=x}=g||{},w=a.getDatasetMeta(o),S=WS(a,w);n&&c.points.length&&(_h(t,s),S4(t,{line:c,target:n,above:b,below:v,area:s,scale:d,axis:f,clip:S}),wh(t))}function S4(t,e){const{line:s,target:n,above:a,below:o,area:c,scale:d,clip:f}=e,m=s._loop?"angle":e.axis;t.save();let g=o;o!==a&&(m==="x"?(K_(t,n,c.top),Np(t,{line:s,target:n,color:a,scale:d,property:m,clip:f}),t.restore(),t.save(),K_(t,n,c.bottom)):m==="y"&&(Z_(t,n,c.left),Np(t,{line:s,target:n,color:o,scale:d,property:m,clip:f}),t.restore(),t.save(),Z_(t,n,c.right),g=a)),Np(t,{line:s,target:n,color:g,scale:d,property:m,clip:f}),t.restore()}function K_(t,e,s){const{segments:n,points:a}=e;let o=!0,c=!1;t.beginPath();for(const d of n){const{start:f,end:m}=d,g=a[f],x=a[Nh(f,m,a)];o?(t.moveTo(g.x,g.y),o=!1):(t.lineTo(g.x,s),t.lineTo(g.x,g.y)),c=!!e.pathSegment(t,d,{move:c}),c?t.closePath():t.lineTo(x.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function Z_(t,e,s){const{segments:n,points:a}=e;let o=!0,c=!1;t.beginPath();for(const d of n){const{start:f,end:m}=d,g=a[f],x=a[Nh(f,m,a)];o?(t.moveTo(g.x,g.y),o=!1):(t.lineTo(s,g.y),t.lineTo(g.x,g.y)),c=!!e.pathSegment(t,d,{move:c}),c?t.closePath():t.lineTo(s,x.y)}t.lineTo(s,e.first().y),t.closePath(),t.clip()}function Np(t,e){const{line:s,target:n,property:a,color:o,scale:c,clip:d}=e,f=r4(s,n,a);for(const{source:m,target:g,start:x,end:b}of f){const{style:{backgroundColor:v=o}={}}=m,w=n!==!0;t.save(),t.fillStyle=v,j4(t,c,d,w&&pg(a,x,b)),t.beginPath();const S=!!s.pathSegment(t,m);let j;if(w){S?t.closePath():Q_(t,n,b,a);const M=!!n.pathSegment(t,g,{move:S,reverse:!0});j=S&&M,j||Q_(t,n,x,a)}t.closePath(),t.fill(j?"evenodd":"nonzero"),t.restore()}}function j4(t,e,s,n){const a=e.chart.chartArea,{property:o,start:c,end:d}=n||{};if(o==="x"||o==="y"){let f,m,g,x;o==="x"?(f=c,m=a.top,g=d,x=a.bottom):(f=a.left,m=c,g=a.right,x=d),t.beginPath(),s&&(f=Math.max(f,s.left),g=Math.min(g,s.right),m=Math.max(m,s.top),x=Math.min(x,s.bottom)),t.rect(f,m,g-f,x-m),t.clip()}}function Q_(t,e,s,n){const a=e.interpolate(s,n);a&&t.lineTo(a.x,a.y)}var kh={id:"filler",afterDatasetsUpdate(t,e,s){const n=(t.data.datasets||[]).length,a=[];let o,c,d,f;for(c=0;c<n;++c)o=t.getDatasetMeta(c),d=o.dataset,f=null,d&&d.options&&d instanceof Li&&(f={visible:t.isDatasetVisible(c),index:c,fill:c4(d,c,n),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:d}),o.$filler=f,a.push(f);for(c=0;c<n;++c)f=a[c],!(!f||f.fill===!1)&&(f.fill=l4(a,c,s.propagate))},beforeDraw(t,e,s){const n=s.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let c=a.length-1;c>=0;--c){const d=a[c].$filler;d&&(d.line.updateControlPoints(o,d.axis),n&&d.fill&&jp(t.ctx,d,o))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const o=n[a].$filler;X_(o)&&jp(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,s){const n=e.meta.$filler;!X_(n)||s.drawTime!=="beforeDatasetDraw"||jp(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const J_=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},N4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class e2 extends Ri{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=gt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Qt(n.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=J_(n,o);let m,g;s.font=a.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(c,o,d,f)+10):(g=this.maxHeight,m=this._fitCols(c,a,d,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,a){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],g=a+d;let x=e;o.textAlign="left",o.textBaseline="middle";let b=-1,v=-g;return this.legendItems.forEach((w,S)=>{const j=n+s/2+o.measureText(w.text).width;(S===0||m[m.length-1]+j+2*d>c)&&(x+=g,m[m.length-(S>0?0:1)]=0,v+=g,b++),f[S]={left:0,top:v,row:b,width:j,height:a},m[m.length-1]+=j+d}),x}_fitCols(e,s,n,a){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],g=c-e;let x=d,b=0,v=0,w=0,S=0;return this.legendItems.forEach((j,M)=>{const{itemWidth:T,itemHeight:E}=k4(n,s,o,j,a);M>0&&v+E+2*d>g&&(x+=b+d,m.push({width:b,height:v}),w+=b+d,S++,b=v=0),f[M]={left:w,top:v,col:S,width:T,height:E},b=Math.max(b,T),v+=E+d}),x+=b,m.push({width:b,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:a},rtl:o}}=this,c=wo(o,this.left,this.width);if(this.isHorizontal()){let d=0,f=fs(n,this.left+a,this.right-this.lineWidths[d]);for(const m of s)d!==m.row&&(d=m.row,f=fs(n,this.left+a,this.right-this.lineWidths[d])),m.top+=this.top+e+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let d=0,f=fs(n,this.top+e+a,this.bottom-this.columnSizes[d].height);for(const m of s)m.col!==d&&(d=m.col,f=fs(n,this.top+e+a,this.bottom-this.columnSizes[d].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_h(e,this),this._draw(),wh(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:a}=this,{align:o,labels:c}=e,d=kt.color,f=wo(e.rtl,this.left,this.width),m=Qt(c.font),{padding:g}=c,x=m.size,b=x/2;let v;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:w,boxHeight:S,itemHeight:j}=J_(c,x),M=function(C,A,z){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;a.save();const I=Oe(z.lineWidth,1);if(a.fillStyle=Oe(z.fillStyle,d),a.lineCap=Oe(z.lineCap,"butt"),a.lineDashOffset=Oe(z.lineDashOffset,0),a.lineJoin=Oe(z.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=Oe(z.strokeStyle,d),a.setLineDash(Oe(z.lineDash,[])),c.usePointStyle){const K={radius:S*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:I},Z=f.xPlus(C,w/2),oe=A+b;AS(a,K,Z,oe,c.pointStyleWidth&&w)}else{const K=A+Math.max((x-S)/2,0),Z=f.leftForLtr(C,w),oe=mr(z.borderRadius);a.beginPath(),Object.values(oe).some(De=>De!==0)?Sc(a,{x:Z,y:K,w,h:S,radius:oe}):a.rect(Z,K,w,S),a.fill(),I!==0&&a.stroke()}a.restore()},T=function(C,A,z){br(a,z.text,C,A+j/2,m,{strikethrough:z.hidden,textAlign:f.textAlign(z.textAlign)})},E=this.isHorizontal(),O=this._computeTitleHeight();E?v={x:fs(o,this.left+g,this.right-n[0]),y:this.top+g+O,line:0}:v={x:this.left+g,y:fs(o,this.top+O+g,this.bottom-s[0].height),line:0},VS(this.ctx,e.textDirection);const L=j+g;this.legendItems.forEach((C,A)=>{a.strokeStyle=C.fontColor,a.fillStyle=C.fontColor;const z=a.measureText(C.text).width,I=f.textAlign(C.textAlign||(C.textAlign=c.textAlign)),K=w+b+z;let Z=v.x,oe=v.y;f.setWidth(this.width),E?A>0&&Z+K+g>this.right&&(oe=v.y+=L,v.line++,Z=v.x=fs(o,this.left+g,this.right-n[v.line])):A>0&&oe+L>this.bottom&&(Z=v.x=Z+s[v.line].width+g,v.line++,oe=v.y=fs(o,this.top+O+g,this.bottom-s[v.line].height));const De=f.x(Z);if(M(De,oe,C),Z=YC(I,Z+w+b,E?Z+K:this.right,e.rtl),T(f.x(Z),oe,C),E)v.x+=K+g;else if(typeof C.text!="string"){const xe=m.lineHeight;v.y+=gj(C,xe)+g}else v.y+=L}),FS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=Qt(s.font),a=bs(s.padding);if(!s.display)return;const o=wo(e.rtl,this.left,this.width),c=this.ctx,d=s.position,f=n.size/2,m=a.top+f;let g,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+m,x=fs(e.align,x,this.right-b);else{const w=this.columnSizes.reduce((S,j)=>Math.max(S,j.height),0);g=m+fs(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const v=fs(d,x,x+b);c.textAlign=o.textAlign(ox(d)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=n.string,br(c,s.text,v,g,n)}_computeTitleHeight(){const e=this.options.title,s=Qt(e.font),n=bs(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,a,o;if(_i(e,this.left,this.right)&&_i(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(a=o[n],_i(e,a.left,a.left+a.width)&&_i(s,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!D4(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=N4(a,n);a&&!o&&gt(s.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!o&&gt(s.onHover,[e,n,this],this)}else n&&gt(s.onClick,[e,n,this],this)}}function k4(t,e,s,n,a){const o=M4(n,t,e,s),c=T4(a,n,e.lineHeight);return{itemWidth:o,itemHeight:c}}function M4(t,e,s,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+s.size/2+n.measureText(a).width}function T4(t,e,s){let n=t;return typeof e.text!="string"&&(n=gj(e,s)),n}function gj(t,e){const s=t.text?t.text.length:0;return e*s}function D4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Po={id:"legend",_element:e2,start(t,e,s){const n=t.legend=new e2({ctx:t.ctx,options:s,chart:t});gs.configure(t,n,s),gs.addBox(t,n)},stop(t){gs.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;gs.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,a=s.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:a,color:o,useBorderRadius:c,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(s?0:void 0),g=bs(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:n||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(d||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class yx extends Ri{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const a=Nt(n.text)?n.text.length:1;this._padding=bs(n.padding);const o=a*Qt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:a,right:o,options:c}=this,d=c.align;let f=0,m,g,x;return this.isHorizontal()?(g=fs(d,n,o),x=s+e,m=o-n):(c.position==="left"?(g=n+e,x=fs(d,a,s),f=Je*-.5):(g=o-e,x=fs(d,s,a),f=Je*.5),m=a-s),{titleX:g,titleY:x,maxWidth:m,rotation:f}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=Qt(s.font),o=n.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:f,rotation:m}=this._drawArgs(o);br(e,s.text,0,0,n,{color:s.color,maxWidth:f,rotation:m,textAlign:ox(s.align),textBaseline:"middle",translation:[c,d]})}}function C4(t,e){const s=new yx({ctx:t.ctx,options:e,chart:t});gs.configure(t,s,e),gs.addBox(t,s),t.titleBlock=s}var Mh={id:"title",_element:yx,start(t,e,s){C4(t,s)},stop(t){const e=t.titleBlock;gs.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;gs.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gd=new WeakMap;var A4={id:"subtitle",start(t,e,s){const n=new yx({ctx:t.ctx,options:s,chart:t});gs.configure(t,n,s),gs.addBox(t,n),gd.set(t,n)},stop(t){gs.removeBox(t,gd.get(t)),gd.delete(t)},beforeUpdate(t,e,s){const n=gd.get(t);gs.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ec={average(t){if(!t.length)return!1;let e,s,n=new Set,a=0,o=0;for(e=0,s=t.length;e<s;++e){const d=t[e].element;if(d&&d.hasValue()){const f=d.tooltipPosition();n.add(f.x),a+=f.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((d,f)=>d+f)/n.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,a=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=t.length;o<c;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),g=lg(e,m);g<a&&(a=g,d=f)}}if(d){const f=d.tooltipPosition();s=f.x,n=f.y}return{x:s,y:n}}};function zn(t,e){return e&&(Nt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function yi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function E4(t,e){const{element:s,datasetIndex:n,index:a}=e,o=t.getDatasetMeta(n).controller,{label:c,value:d}=o.getLabelAndValue(a);return{chart:t,label:c,parsed:o.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:d,dataset:o.getDataset(),dataIndex:a,datasetIndex:n,element:s}}function t2(t,e){const s=t.chart.ctx,{body:n,footer:a,title:o}=t,{boxWidth:c,boxHeight:d}=e,f=Qt(e.bodyFont),m=Qt(e.titleFont),g=Qt(e.footerFont),x=o.length,b=a.length,v=n.length,w=bs(e.padding);let S=w.height,j=0,M=n.reduce((O,L)=>O+L.before.length+L.lines.length+L.after.length,0);if(M+=t.beforeBody.length+t.afterBody.length,x&&(S+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),M){const O=e.displayColors?Math.max(d,f.lineHeight):f.lineHeight;S+=v*O+(M-v)*f.lineHeight+(M-1)*e.bodySpacing}b&&(S+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let T=0;const E=function(O){j=Math.max(j,s.measureText(O).width+T)};return s.save(),s.font=m.string,ot(t.title,E),s.font=f.string,ot(t.beforeBody.concat(t.afterBody),E),T=e.displayColors?c+2+e.boxPadding:0,ot(n,O=>{ot(O.before,E),ot(O.lines,E),ot(O.after,E)}),T=0,s.font=g.string,ot(t.footer,E),s.restore(),j+=w.width,{width:j,height:S}}function O4(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function R4(t,e,s,n){const{x:a,width:o}=n,c=s.caretSize+s.caretPadding;if(t==="left"&&a+o+c>e.width||t==="right"&&a-o-c<0)return!0}function L4(t,e,s,n){const{x:a,width:o}=s,{width:c,chartArea:{left:d,right:f}}=t;let m="center";return n==="center"?m=a<=(d+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),R4(m,t,e,s)&&(m="center"),m}function s2(t,e,s){const n=s.yAlign||e.yAlign||O4(t,s);return{xAlign:s.xAlign||e.xAlign||L4(t,e,s,n),yAlign:n}}function z4(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function P4(t,e,s){let{y:n,height:a}=t;return e==="top"?n+=s:e==="bottom"?n-=a+s:n-=a/2,n}function n2(t,e,s,n){const{caretSize:a,caretPadding:o,cornerRadius:c}=t,{xAlign:d,yAlign:f}=s,m=a+o,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:v}=mr(c);let w=z4(e,d);const S=P4(e,f,m);return f==="center"?d==="left"?w+=m:d==="right"&&(w-=m):d==="left"?w-=Math.max(g,b)+a:d==="right"&&(w+=Math.max(x,v)+a),{x:as(w,0,n.width-e.width),y:as(S,0,n.height-e.height)}}function xd(t,e,s){const n=bs(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function i2(t){return zn([],yi(t))}function B4(t,e,s){return Aa(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function a2(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const xj={beforeTitle:pi,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:pi,beforeBody:pi,beforeLabel:pi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return He(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:pi,afterBody:pi,beforeFooter:pi,footer:pi,afterFooter:pi};function Os(t,e,s,n){const a=t[e].call(s,n);return typeof a>"u"?xj[e].call(s,n):a}let r2=class extends Ri{static positioners=ec;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&s.options.animation&&n.animations,o=new IS(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=B4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,a=Os(n,"beforeTitle",this,e),o=Os(n,"title",this,e),c=Os(n,"afterTitle",this,e);let d=[];return d=zn(d,yi(a)),d=zn(d,yi(o)),d=zn(d,yi(c)),d}getBeforeBody(e,s){return i2(Os(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,a=[];return ot(e,o=>{const c={before:[],lines:[],after:[]},d=a2(n,o);zn(c.before,yi(Os(d,"beforeLabel",this,o))),zn(c.lines,Os(d,"label",this,o)),zn(c.after,yi(Os(d,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,s){return i2(Os(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,a=Os(n,"beforeFooter",this,e),o=Os(n,"footer",this,e),c=Os(n,"afterFooter",this,e);let d=[];return d=zn(d,yi(a)),d=zn(d,yi(o)),d=zn(d,yi(c)),d}_createItems(e){const s=this._active,n=this.chart.data,a=[],o=[],c=[];let d=[],f,m;for(f=0,m=s.length;f<m;++f)d.push(E4(this.chart,s[f]));return e.filter&&(d=d.filter((g,x,b)=>e.filter(g,x,b,n))),e.itemSort&&(d=d.sort((g,x)=>e.itemSort(g,x,n))),ot(d,g=>{const x=a2(e.callbacks,g);a.push(Os(x,"labelColor",this,g)),o.push(Os(x,"labelPointStyle",this,g)),c.push(Os(x,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(e,s){const n=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const d=ec[n.position].call(this,a,this._eventPosition);c=this._createItems(n),this.title=this.getTitle(c,n),this.beforeBody=this.getBeforeBody(c,n),this.body=this.getBody(c,n),this.afterBody=this.getAfterBody(c,n),this.footer=this.getFooter(c,n);const f=this._size=t2(this,n),m=Object.assign({},d,f),g=s2(this.chart,n,m),x=n2(n,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:x.x,y:x.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,a){const o=this.getCaretPosition(e,n,a);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(e,s,n){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:d}=n,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:x}=mr(d),{x:b,y:v}=e,{width:w,height:S}=s;let j,M,T,E,O,L;return o==="center"?(O=v+S/2,a==="left"?(j=b,M=j-c,E=O+c,L=O-c):(j=b+w,M=j+c,E=O-c,L=O+c),T=j):(a==="left"?M=b+Math.max(f,g)+c:a==="right"?M=b+w-Math.max(m,x)-c:M=this.caretX,o==="top"?(E=v,O=E-c,j=M-c,T=M+c):(E=v+S,O=E+c,j=M+c,T=M-c),L=E),{x1:j,x2:M,x3:T,y1:E,y2:O,y3:L}}drawTitle(e,s,n){const a=this.title,o=a.length;let c,d,f;if(o){const m=wo(n.rtl,this.x,this.width);for(e.x=xd(this,n.titleAlign,n),s.textAlign=m.textAlign(n.titleAlign),s.textBaseline="middle",c=Qt(n.titleFont),d=n.titleSpacing,s.fillStyle=n.titleColor,s.font=c.string,f=0;f<o;++f)s.fillText(a[f],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+d,f+1===o&&(e.y+=n.titleMarginBottom-d)}}_drawColorBox(e,s,n,a,o){const c=this.labelColors[n],d=this.labelPointStyles[n],{boxHeight:f,boxWidth:m}=o,g=Qt(o.bodyFont),x=xd(this,"left",o),b=a.x(x),v=f<g.lineHeight?(g.lineHeight-f)/2:0,w=s.y+v;if(o.usePointStyle){const S={radius:Math.min(m,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},j=a.leftForLtr(b,m)+m/2,M=w+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,ug(e,S,j,M),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,ug(e,S,j,M)}else{e.lineWidth=We(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const S=a.leftForLtr(b,m),j=a.leftForLtr(a.xPlus(b,1),m-2),M=mr(c.borderRadius);Object.values(M).some(T=>T!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Sc(e,{x:S,y:w,w:m,h:f,radius:M}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Sc(e,{x:j,y:w+1,w:m-2,h:f-2,radius:M}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,w,m,f),e.strokeRect(S,w,m,f),e.fillStyle=c.backgroundColor,e.fillRect(j,w+1,m-2,f-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:f,boxWidth:m,boxPadding:g}=n,x=Qt(n.bodyFont);let b=x.lineHeight,v=0;const w=wo(n.rtl,this.x,this.width),S=function(z){s.fillText(z,w.x(e.x+v),e.y+b/2),e.y+=b+o},j=w.textAlign(c);let M,T,E,O,L,C,A;for(s.textAlign=c,s.textBaseline="middle",s.font=x.string,e.x=xd(this,j,n),s.fillStyle=n.bodyColor,ot(this.beforeBody,S),v=d&&j!=="right"?c==="center"?m/2+g:m+2+g:0,O=0,C=a.length;O<C;++O){for(M=a[O],T=this.labelTextColors[O],s.fillStyle=T,ot(M.before,S),E=M.lines,d&&E.length&&(this._drawColorBox(s,e,O,w,n),b=Math.max(x.lineHeight,f)),L=0,A=E.length;L<A;++L)S(E[L]),b=x.lineHeight;ot(M.after,S)}v=0,b=x.lineHeight,ot(this.afterBody,S),e.y-=o}drawFooter(e,s,n){const a=this.footer,o=a.length;let c,d;if(o){const f=wo(n.rtl,this.x,this.width);for(e.x=xd(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=f.textAlign(n.footerAlign),s.textBaseline="middle",c=Qt(n.footerFont),s.fillStyle=n.footerColor,s.font=c.string,d=0;d<o;++d)s.fillText(a[d],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+n.footerSpacing}}drawBackground(e,s,n,a){const{xAlign:o,yAlign:c}=this,{x:d,y:f}=e,{width:m,height:g}=n,{topLeft:x,topRight:b,bottomLeft:v,bottomRight:w}=mr(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(d+x,f),c==="top"&&this.drawCaret(e,s,n,a),s.lineTo(d+m-b,f),s.quadraticCurveTo(d+m,f,d+m,f+b),c==="center"&&o==="right"&&this.drawCaret(e,s,n,a),s.lineTo(d+m,f+g-w),s.quadraticCurveTo(d+m,f+g,d+m-w,f+g),c==="bottom"&&this.drawCaret(e,s,n,a),s.lineTo(d+v,f+g),s.quadraticCurveTo(d,f+g,d,f+g-v),c==="center"&&o==="left"&&this.drawCaret(e,s,n,a),s.lineTo(d,f+x),s.quadraticCurveTo(d,f,d+x,f),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,a=n&&n.x,o=n&&n.y;if(a||o){const c=ec[e.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=t2(this,e),f=Object.assign({},c,this._size),m=s2(s,e,f),g=n2(e,f,m,s);(a._to!==g.x||o._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const c=bs(s.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&d&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,a,s),VS(e,s.textDirection),o.y+=c.top,this.drawTitle(o,e,s),this.drawBody(o,e,s),this.drawFooter(o,e,s),FS(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,a=e.map(({datasetIndex:d,index:f})=>{const m=this.chart.getDatasetMeta(d);if(!m)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:m.data[f],index:f}}),o=!qd(n,a),c=this._positionChanged(a,s);(o||c)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,s,n),d=this._positionChanged(c,e),f=s||!qd(c,o)||d;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),f}_getActiveElements(e,s,n,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return s.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,n);return o.reverse&&c.reverse(),c}_positionChanged(e,s){const{caretX:n,caretY:a,options:o}=this,c=ec[o.position].call(this,e,s);return c!==!1&&(n!==c.x||a!==c.y)}};var Bo={id:"tooltip",_element:r2,positioners:ec,afterInit(t,e,s){s&&(t.tooltip=new r2({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},V4=Object.freeze({__proto__:null,Colors:t4,Decimation:a4,Filler:kh,Legend:Po,SubTitle:A4,Title:Mh,Tooltip:Bo});const F4=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function H4(t,e,s,n){const a=t.indexOf(e);if(a===-1)return F4(t,e,s,n);const o=t.lastIndexOf(e);return a!==o?s:a}const U4=(t,e)=>t===null?null:as(Math.round(t),0,e);function o2(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Bc extends _r{static id="category";static defaults={ticks:{callback:o2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:a,label:o}of s)n[a]===o&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(He(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:H4(n,e,Oe(s,e),this._addedLabels),U4(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,a=[];let o=this.getLabels();o=e===0&&s===o.length-1?o:o.slice(e,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let c=e;c<=s;c++)a.push({value:c});return a}getLabelForValue(e){return o2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Y4(t,e){const s=[],{bounds:a,step:o,min:c,max:d,precision:f,count:m,maxTicks:g,maxDigits:x,includeBounds:b}=t,v=o||1,w=g-1,{min:S,max:j}=e,M=!He(c),T=!He(d),E=!He(m),O=(j-S)/(x+1);let L=t_((j-S)/w/v)*v,C,A,z,I;if(L<1e-14&&!M&&!T)return[{value:S},{value:j}];I=Math.ceil(j/L)-Math.floor(S/L),I>w&&(L=t_(I*L/w/v)*v),He(f)||(C=Math.pow(10,f),L=Math.ceil(L*C)/C),a==="ticks"?(A=Math.floor(S/L)*L,z=Math.ceil(j/L)*L):(A=S,z=j),M&&T&&o&&zC((d-c)/o,L/1e3)?(I=Math.round(Math.min((d-c)/L,g)),L=(d-c)/I,A=c,z=d):E?(A=M?c:A,z=T?d:z,I=m-1,L=(z-A)/I):(I=(z-A)/L,lc(I,Math.round(I),L/1e3)?I=Math.round(I):I=Math.ceil(I));const K=Math.max(s_(L),s_(A));C=Math.pow(10,He(f)?K:f),A=Math.round(A*C)/C,z=Math.round(z*C)/C;let Z=0;for(M&&(b&&A!==c?(s.push({value:c}),A<c&&Z++,lc(Math.round((A+Z*L)*C)/C,c,l2(c,O,t))&&Z++):A<c&&Z++);Z<I;++Z){const oe=Math.round((A+Z*L)*C)/C;if(T&&oe>d)break;s.push({value:oe})}return T&&b&&z!==d?s.length&&lc(s[s.length-1].value,d,l2(d,O,t))?s[s.length-1].value=d:s.push({value:d}):(!T||z===d)&&s.push({value:z}),s}function l2(t,e,{horizontal:s,minRotation:n}){const a=wn(n),o=(s?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class Jd extends _r{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return He(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=s?a:f,d=f=>o=n?o:f;if(e){const f=Vn(a),m=Vn(o);f<0&&m<0?d(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);d(o+f),e||c(a-f)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),s=s||11),s&&(a=Math.min(s,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,c=Y4(a,o);return e.bounds==="ticks"&&wS(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-s)/Math.max(e.length-1,1)/2;s-=a,n+=a}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return Pc(e,this.chart.options.locale,this.options.ticks.format)}}class Vc extends Jd{static id="linear";static defaults={ticks:{callback:vh.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=At(e)?e:0,this.max=At(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=wn(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Nc=t=>Math.floor(xa(t)),nr=(t,e)=>Math.pow(10,Nc(t)+e);function c2(t){return t/Math.pow(10,Nc(t))===1}function u2(t,e,s){const n=Math.pow(10,s),a=Math.floor(t/n);return Math.ceil(e/n)-a}function W4(t,e){const s=e-t;let n=Nc(s);for(;u2(t,e,n)>10;)n++;for(;u2(t,e,n)<10;)n--;return Math.min(n,Nc(t))}function I4(t,{min:e,max:s}){e=Ws(t.min,e);const n=[],a=Nc(e);let o=W4(e,s),c=o<0?Math.pow(10,Math.abs(o)):1;const d=Math.pow(10,o),f=a>o?Math.pow(10,a):0,m=Math.round((e-f)*c)/c,g=Math.floor((e-f)/d/10)*d*10;let x=Math.floor((m-g)/Math.pow(10,o)),b=Ws(t.min,Math.round((f+g+x*Math.pow(10,o))*c)/c);for(;b<s;)n.push({value:b,major:c2(b),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(o++,x=2,c=o>=0?1:c),b=Math.round((f+g+x*Math.pow(10,o))*c)/c;const v=Ws(t.max,b);return n.push({value:v,major:c2(v),significand:x}),n}class q4 extends _r{static id="logarithmic";static defaults={ticks:{callback:vh.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const n=Jd.prototype.parse.apply(this,[e,s]);if(n===0){this._zero=!0;return}return At(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=At(e)?Math.max(0,e):null,this.max=At(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!At(this._userMin)&&(this.min=e===nr(this.min,0)?nr(this.min,-1):nr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let n=this.min,a=this.max;const o=d=>n=e?n:d,c=d=>a=s?a:d;n===a&&(n<=0?(o(1),c(10)):(o(nr(n,-1)),c(nr(a,1)))),n<=0&&o(nr(a,-1)),a<=0&&c(nr(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},n=I4(s,this);return e.bounds==="ticks"&&wS(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Pc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=xa(e),this._valueRange=xa(this.max)-xa(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(xa(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}function gg(t){const e=t.ticks;if(e.display&&t.display){const s=bs(e.backdropPadding);return Oe(e.font&&e.font.size,kt.font.size)+s.height}return 0}function G4(t,e,s){return s=Nt(s)?s:[s],{w:JC(t,e.string,s),h:s.length*e.lineHeight}}function d2(t,e,s,n,a){return t===n||t===a?{start:e-s/2,end:e+s/2}:t<n||t>a?{start:e-s,end:e}:{start:e,end:e+s}}function $4(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),n=[],a=[],o=t._pointLabels.length,c=t.options.pointLabels,d=c.centerPointLabels?Je/o:0;for(let f=0;f<o;f++){const m=c.setContext(t.getPointLabelContext(f));a[f]=m.padding;const g=t.getPointPosition(f,t.drawingArea+a[f],d),x=Qt(m.font),b=G4(t.ctx,x,t._pointLabels[f]);n[f]=b;const v=ps(t.getIndexAngle(f)+d),w=Math.round(ax(v)),S=d2(w,g.x,b.w,0,180),j=d2(w,g.y,b.h,90,270);X4(s,e,v,S,j)}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=Q4(t,n,a)}function X4(t,e,s,n,a){const o=Math.abs(Math.sin(s)),c=Math.abs(Math.cos(s));let d=0,f=0;n.start<e.l?(d=(e.l-n.start)/o,t.l=Math.min(t.l,e.l-d)):n.end>e.r&&(d=(n.end-e.r)/o,t.r=Math.max(t.r,e.r+d)),a.start<e.t?(f=(e.t-a.start)/c,t.t=Math.min(t.t,e.t-f)):a.end>e.b&&(f=(a.end-e.b)/c,t.b=Math.max(t.b,e.b+f))}function K4(t,e,s){const n=t.drawingArea,{extra:a,additionalAngle:o,padding:c,size:d}=s,f=t.getPointPosition(e,n+a+c,o),m=Math.round(ax(ps(f.angle+Vt))),g=tO(f.y,d.h,m),x=J4(m),b=eO(f.x,d.w,x);return{visible:!0,x:f.x,y:g,textAlign:x,left:b,top:g,right:b+d.w,bottom:g+d.h}}function Z4(t,e){if(!e)return!0;const{left:s,top:n,right:a,bottom:o}=t;return!(Si({x:s,y:n},e)||Si({x:s,y:o},e)||Si({x:a,y:n},e)||Si({x:a,y:o},e))}function Q4(t,e,s){const n=[],a=t._pointLabels.length,o=t.options,{centerPointLabels:c,display:d}=o.pointLabels,f={extra:gg(o)/2,additionalAngle:c?Je/a:0};let m;for(let g=0;g<a;g++){f.padding=s[g],f.size=e[g];const x=K4(t,g,f);n.push(x),d==="auto"&&(x.visible=Z4(x,m),x.visible&&(m=x))}return n}function J4(t){return t===0||t===180?"center":t<180?"left":"right"}function eO(t,e,s){return s==="right"?t-=e:s==="center"&&(t-=e/2),t}function tO(t,e,s){return s===90||s===270?t-=e/2:(s>270||s<90)&&(t-=e),t}function sO(t,e,s){const{left:n,top:a,right:o,bottom:c}=s,{backdropColor:d}=e;if(!He(d)){const f=mr(e.borderRadius),m=bs(e.backdropPadding);t.fillStyle=d;const g=n-m.left,x=a-m.top,b=o-n+m.width,v=c-a+m.height;Object.values(f).some(w=>w!==0)?(t.beginPath(),Sc(t,{x:g,y:x,w:b,h:v,radius:f}),t.fill()):t.fillRect(g,x,b,v)}}function nO(t,e){const{ctx:s,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const o=t._pointLabelItems[a];if(!o.visible)continue;const c=n.setContext(t.getPointLabelContext(a));sO(s,c,o);const d=Qt(c.font),{x:f,y:m,textAlign:g}=o;br(s,t._pointLabels[a],f,m+d.lineHeight/2,d,{color:c.color,textAlign:g,textBaseline:"middle"})}}function yj(t,e,s,n){const{ctx:a}=t;if(s)a.arc(t.xCenter,t.yCenter,e,0,bt);else{let o=t.getPointPosition(0,e);a.moveTo(o.x,o.y);for(let c=1;c<n;c++)o=t.getPointPosition(c,e),a.lineTo(o.x,o.y)}}function iO(t,e,s,n,a){const o=t.ctx,c=e.circular,{color:d,lineWidth:f}=e;!c&&!n||!d||!f||s<0||(o.save(),o.strokeStyle=d,o.lineWidth=f,o.setLineDash(a.dash||[]),o.lineDashOffset=a.dashOffset,o.beginPath(),yj(t,s,c,n),o.closePath(),o.stroke(),o.restore())}function aO(t,e,s){return Aa(t,{label:s,index:e,type:"pointLabel"})}class bj extends Jd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:vh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=bs(gg(this.options)/2),s=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=At(e)&&!isNaN(e)?e:0,this.max=At(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gg(this.options))}generateTickLabels(e){Jd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,n)=>{const a=gt(this.options.pointLabels.callback,[s,n],this);return a||a===0?a:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?$4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,n,a){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,n,a))}getIndexAngle(e){const s=bt/(this._pointLabels.length||1),n=this.options.startAngle||0;return ps(e*s+wn(n))}getDistanceFromCenterForValue(e){if(He(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(He(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const n=s[e];return aO(this.getContext(),e,n)}}getPointPosition(e,s,n=0){const a=this.getIndexAngle(e)-Vt+n;return{x:Math.cos(a)*s+this.xCenter,y:Math.sin(a)*s+this.yCenter,angle:a}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:n,right:a,bottom:o}=this._pointLabelItems[e];return{left:s,top:n,right:a,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),yj(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:n,grid:a,border:o}=s,c=this._pointLabels.length;let d,f,m;if(s.pointLabels.display&&nO(this,c),a.display&&this.ticks.forEach((g,x)=>{if(x!==0||x===0&&this.min<0){f=this.getDistanceFromCenterForValue(g.value);const b=this.getContext(x),v=a.setContext(b),w=o.setContext(b);iO(this,v,f,c,w)}}),n.display){for(e.save(),d=c-1;d>=0;d--){const g=n.setContext(this.getPointLabelContext(d)),{color:x,lineWidth:b}=g;!b||!x||(e.lineWidth=b,e.strokeStyle=x,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,f=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),m=this.getPointPosition(d,f),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(m.x,m.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let o,c;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((d,f)=>{if(f===0&&this.min>=0&&!s.reverse)return;const m=n.setContext(this.getContext(f)),g=Qt(m.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),m.showLabelBackdrop){e.font=g.string,c=e.measureText(d.label).width,e.fillStyle=m.backdropColor;const x=bs(m.backdropPadding);e.fillRect(-c/2-x.left,-o-g.size/2-x.top,c+x.width,g.size+x.height)}br(e,d.label,0,-o,g,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),e.restore()}drawTitle(){}}const Th={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ls=Object.keys(Th);function h2(t,e){return t-e}function f2(t,e){if(He(e))return null;const s=t._adapter,{parser:n,round:a,isoWeekday:o}=t._parseOpts;let c=e;return typeof n=="function"&&(c=n(c)),At(c)||(c=typeof n=="string"?s.parse(c,n):s.parse(c)),c===null?null:(a&&(c=a==="week"&&(Mo(o)||o===!0)?s.startOf(c,"isoWeek",o):s.startOf(c,a)),+c)}function m2(t,e,s,n){const a=Ls.length;for(let o=Ls.indexOf(t);o<a-1;++o){const c=Th[Ls[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-e)/(d*c.size))<=n)return Ls[o]}return Ls[a-1]}function rO(t,e,s,n,a){for(let o=Ls.length-1;o>=Ls.indexOf(s);o--){const c=Ls[o];if(Th[c].common&&t._adapter.diff(a,n,c)>=e-1)return c}return Ls[s?Ls.indexOf(s):0]}function oO(t){for(let e=Ls.indexOf(t)+1,s=Ls.length;e<s;++e)if(Th[Ls[e]].common)return Ls[e]}function p2(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:a}=rx(s,e),o=s[n]>=e?s[n]:s[a];t[o]=!0}}function lO(t,e,s,n){const a=t._adapter,o=+a.startOf(e[0].value,n),c=e[e.length-1].value;let d,f;for(d=o;d<=c;d=+a.add(d,1,n))f=s[d],f>=0&&(e[f].major=!0);return e}function g2(t,e,s){const n=[],a={},o=e.length;let c,d;for(c=0;c<o;++c)d=e[c],a[d]=c,n.push({value:d,major:!1});return o===0||!s?n:lO(t,n,a,s)}class eh extends _r{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),a=this._adapter=new QS._date(e.adapters.date);a.init(s),oc(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:f2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!d&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!d)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=At(a)&&!isNaN(a)?a:+s.startOf(Date.now(),n),o=At(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,d=FC(a,o,c);return this._unit=s.unit||(n.autoSkip?m2(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):rO(this,d.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:oO(this._unit),this.initOffsets(a),e.reverse&&d.reverse(),g2(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?s=1-a:s=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?n=o:n=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;s=as(s,0,c),n=as(n,0,c),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,a=this.options,o=a.time,c=o.unit||m2(o.minUnit,s,n,this._getLabelCapacity(s)),d=Oe(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Mo(f)||f===!0,g={};let x=s,b,v;if(m&&(x=+e.startOf(x,"isoWeek",f)),x=+e.startOf(x,m?"day":c),e.diff(n,s,c)>1e5*d)throw new Error(s+" and "+n+" are too far apart with stepSize of "+d+" "+c);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(b=x,v=0;b<n;b=+e.add(b,d,c),v++)p2(g,b,w);return(b===n||a.bounds==="ticks"||v===1)&&p2(g,b,w),Object.keys(g).sort(h2).map(S=>+S)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const a=this.options.time.displayFormats,o=this._unit,c=s||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,s,n,a){const o=this.options,c=o.ticks.callback;if(c)return gt(c,[e,s,n],this);const d=o.time.displayFormats,f=this._unit,m=this._majorUnit,g=f&&d[f],x=m&&d[m],b=n[s],v=m&&x&&b&&b.major;return this._adapter.format(e,a||(v?x:g))}generateTickLabels(e){let s,n,a;for(s=0,n=e.length;s<n;++s)a=e[s],a.label=this._tickFormatFunction(a.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,a=wn(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(a),c=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:n*o+d*c,h:n*c+d*o}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,a=n[s.unit]||n.millisecond,o=this._tickFormatFunction(e,0,g2(this,[e],this._majorUnit),a),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,n=a.length;s<n;++s)e=e.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const a=this.getLabels();for(s=0,n=a.length;s<n;++s)e.push(f2(this,a[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return NS(e.sort(h2))}}function yd(t,e,s){let n=0,a=t.length-1,o,c,d,f;s?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=wi(t,"pos",e)),{pos:o,time:d}=t[n],{pos:c,time:f}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=wi(t,"time",e)),{time:o,pos:d}=t[n],{time:c,pos:f}=t[a]);const m=c-o;return m?d+(f-d)*(e-o)/m:d}class cO extends eh{static id="timeseries";static defaults=eh.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=yd(s,this.min),this._tableRange=yd(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,a=[],o=[];let c,d,f,m,g;for(c=0,d=e.length;c<d;++c)m=e[c],m>=s&&m<=n&&a.push(m);if(a.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(c=0,d=a.length;c<d;++c)g=a[c+1],f=a[c-1],m=a[c],Math.round((g+f)/2)!==m&&o.push({time:m,pos:c/(d-1)});return o}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(yd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return yd(this._table,n*this._tableRange+this._minPos,!0)}}var uO=Object.freeze({__proto__:null,CategoryScale:Bc,LinearScale:Vc,LogarithmicScale:q4,RadialLinearScale:bj,TimeScale:eh,TimeSeriesScale:cO});const dO=[y3,$E,V4,uO];kn.register(...dO);const bd={labels:Array.from({length:24},(t,e)=>`${String(e).padStart(2,"0")}:00`),load:Array.from({length:24},()=>+(Math.random()*2.2+.6).toFixed(2)),pv:Array.from({length:24},(t,e)=>+(Math.max(0,Math.sin((e-6)/4))*2.4).toFixed(2)),price:Array.from({length:24},()=>+(Math.random()*3.2+.8).toFixed(2))},vj="Europe/Stockholm";function bx(t){return new Date(t)}function th(t,e=vj){return new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:e}).format(t)}function vx(t,e=new Date){return th(bx(t))===th(e)}function sh(t,e=new Date){const s=new Date(e);return s.setDate(s.getDate()+1),th(bx(t))===th(s)}function kp(t){const e=bx(t);return new Intl.DateTimeFormat("sv-SE",{hour:"2-digit",minute:"2-digit",timeZone:vj}).format(e)}function hO(t,e,s=new Date){return t.filter(a=>e==="today"?vx(a.start_time,s):sh(a.start_time,s))}const fO={maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!1,labels:{color:"#e6e9ef",boxWidth:10,font:{size:12},filter:()=>!1}},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(30, 30, 46, 0.95)",titleColor:"#e6e9ef",bodyColor:"#a6b0bf",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:12,displayColors:!0,caretPadding:8,yAlign:"bottom",callbacks:{title:function(t){return t[0].label},label:function(t){const e=t.dataset.label||"",s=t.parsed.y;if(s==null)return"";let n=s.toFixed(2),a="";return e.includes("SEK/kWh")?(n=s.toFixed(2),a=" SEK/kWh"):e.includes("kW")?(n=s.toFixed(1),a=" kW"):e.includes("kWh")?(n=s.toFixed(2),a=" kWh"):e.includes("%")&&(n=s.toFixed(1),a="%"),`${e}: ${n}${a}`}}}},scales:{x:{grid:{color:"rgba(255,255,255,0.06)"},ticks:{color:"#a6b0bf",maxRotation:0,autoSkip:!1,callback:function(t,e,s){const n=this.getLabelForValue(t);if(typeof n!="string")return"";const a=n.split(":");if(a.length<2)return"";const[o,c]=a;return c==="00"?o:""}}},y:{position:"right",min:0,max:8,title:{display:!1,text:"SEK/kWh",color:"#a6b0bf"},grid:{color:"rgba(255,255,255,0.06)"},ticks:{color:"#a6b0bf",display:!1}},y1:{position:"left",min:0,max:9,title:{display:!1,text:"kW",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1}},y2:{position:"left",min:0,max:9,title:{display:!1,text:"kWh",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1},display:!1},y3:{position:"right",min:0,max:100,title:{display:!0,text:"%",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf"},display:!1},y4:{position:"left",min:0,max:1.5,title:{display:!1,text:"kW (PV)",color:"#a6b0bf"},grid:{display:!1},ticks:{color:"#a6b0bf",display:!1}}}},fo=(t,e={})=>{const s=(a,o)=>{const c=`palette = ${a}`;return e[c]||o},n={labels:t.labels,datasets:[{type:"line",label:"Import Price (SEK/kWh)",data:t.price,borderColor:s(4,"#2196F3"),backgroundColor:e["palette = 4"]?`${s(4,"#2196F3")}20`:"rgba(33,150,243,0.1)",yAxisID:"y",tension:0,stepped:"after",pointRadius:0},{type:"line",label:"PV Forecast (kW)",data:t.pv,borderColor:s(2,"#4CAF50"),backgroundColor:e["palette = 2"]?`${s(2,"#4CAF50")}30`:"rgba(76,175,80,0.15)",fill:!0,yAxisID:"y4",tension:.35,pointRadius:0},{type:"bar",label:"Load (kW)",data:t.load,backgroundColor:`${s(3,"#FF9800")}80`,borderRadius:0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Charge (kW)",data:t.charge??t.labels.map(()=>null),backgroundColor:`${s(4,"#2196F3")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Discharge (kW)",data:t.discharge??t.labels.map(()=>null),backgroundColor:`${s(1,"#F44336")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Export (kWh)",data:t.export??t.labels.map(()=>null),backgroundColor:`${s(2,"#4CAF50")}80`,hidden:!0,yAxisID:"y2",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"bar",label:"Water Heating (kW)",data:t.water??t.labels.map(()=>null),backgroundColor:`${s(5,"#FF5722")}80`,hidden:!0,yAxisID:"y1",barPercentage:1,categoryPercentage:1,grouped:!1},{type:"line",label:"SoC Target (%)",data:t.socTarget??t.labels.map(()=>null),borderColor:s(13,"#9C27B0"),yAxisID:"y3",pointRadius:0,tension:0,stepped:"after",hidden:!0},{type:"line",label:"SoC Projected (%)",data:t.socProjected??t.labels.map(()=>null),borderColor:s(14,"#FFEB3B"),yAxisID:"y3",pointRadius:0,hidden:!0},{type:"line",label:"SoC Actual (%)",data:t.socActual??t.labels.map(()=>null),borderColor:s(15,"#80CBC4"),yAxisID:"y3",pointRadius:0,hidden:!0}]};return t.hasNoData&&(n.plugins={tooltip:{enabled:!0,external:!0,callbacks:{title:()=>t.day==="tomorrow"?"No Price Data":"No Data",label:()=>t.day==="tomorrow"?"Schedule data not available yet. Check back later for prices.":"No schedule data available."}}}),{...n,nowIndex:t.nowIndex??null,hasNoData:!!t.hasNoData}};function _j({day:t="today",range:e="48h",refreshToken:s=0,slotsOverride:n,useHistoryForToday:a=!1,showDayToggle:o=!1}){const[c,d]=N.useState(!1),f=t||"today",[m,g]=N.useState(e),x=N.useRef(null),b=N.useRef(null),[v,w]=N.useState({}),[S,j]=N.useState({price:!0,pv:!0,load:!0,charge:!1,discharge:!1,export:!1,water:!1,socTarget:!1,socProjected:!1,socActual:!0}),[M,T]=N.useState(!1);N.useEffect(()=>{he.config().then(C=>{const A=C?.dashboard?.overlay_defaults;if(A&&typeof A=="string"){const z=A.split(",").map(Z=>Z.trim().toLowerCase()),I=z.includes("socactual")||z.includes("soc_actual"),K={price:!z.includes("price_off"),pv:!z.includes("pv_off"),load:!z.includes("load_off"),charge:z.includes("charge"),discharge:z.includes("discharge"),export:z.includes("export"),water:z.includes("water"),socTarget:z.includes("soctarget")||z.includes("soc_target"),socProjected:z.includes("socprojected")||z.includes("soc_projected"),socActual:I?!0:S.socActual};j(K)}}).catch(C=>console.error("Failed to load overlay defaults:",C))},[S.socActual]);const[E,O]=N.useState(null);N.useEffect(()=>{he.theme().then(C=>{const A=C.themes.find(z=>z.name===C.current);if(A){const z={};A.palette.forEach((I,K)=>{z[`palette = ${K}`]=I}),z.background=A.background,z.foreground=A.foreground,w(z)}}).catch(C=>console.error("Failed to load theme colors:",C))},[]),N.useEffect(()=>{if(!x.current||Object.keys(v).length===0)return;const C={type:"bar",data:fo({labels:bd.labels,price:bd.price,pv:bd.pv,load:bd.load},v),options:fO};return b.current=new kn(x.current,C),()=>{b.current&&(b.current.destroy(),b.current=null)}},[v]);const L=C=>{if(!C)return!1;const A=C;return!(A._destroyed||A._plugins===void 0&&A.$plugins===void 0)};return N.useEffect(()=>{g(e)},[e]),N.useEffect(()=>{const C=b.current;if(!L(C)||Object.keys(v).length===0)return;const A=I=>{if(!L(b.current))return;const K=mO(I,f,m,v);if(!K)return;d(!!K.hasNoData);const Z=K.datasets;if(Z[0]&&(Z[0].hidden=!S.price),Z[1]&&(Z[1].hidden=!S.pv),Z[2]&&(Z[2].hidden=!S.load),Z[3]&&(Z[3].hidden=!S.charge),Z[4]&&(Z[4].hidden=!S.discharge),Z[5]&&(Z[5].hidden=!S.export),Z[6]&&(Z[6].hidden=!S.water),Z[7]&&(Z[7].hidden=!S.socTarget),Z[8]&&(Z[8].hidden=!S.socProjected),Z[9]&&(Z[9].hidden=!S.socActual),f==="today"&&typeof K.nowIndex=="number"&&K.nowIndex>=0&&K.labels&&K.labels.length>1){const oe=K.labels.length-1;O(K.nowIndex/oe)}else O(null);try{if(!L(b.current))return;b.current&&(b.current.data=K,b.current.update())}catch(oe){console.error("Chart update error:",oe)}};if(n&&n.length){A(n);return}(a&&m==="day"&&f==="today"?he.scheduleTodayWithHistory().then(I=>({schedule:I.slots})):he.schedule()).then(I=>{A(I.schedule??[])}).catch(I=>{console.error("Failed to load schedule:",I),d(!0),O(null)})},[f,S,v,m,s,n,a]),u.jsxs(Ee,{className:"p-4 md:p-6 h-[380px]",children:[u.jsxs("div",{className:"flex items-baseline justify-between pb-2",children:[u.jsx("div",{className:"text-sm text-muted",children:"Schedule Overview"}),o&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${m==="day"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>g("day"),children:"24h"}),u.jsx("button",{className:`rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide transition ${m==="48h"?"bg-accent text-canvas":"bg-surface border border-line/60 text-muted"}`,onClick:()=>g("48h"),children:"48h"})]}),u.jsx("button",{className:"rounded-pill px-3 py-1 text-[11px] font-semibold uppercase tracking-wide border border-line/60 text-muted hover:border-accent hover:text-accent transition",onClick:()=>T(C=>!C),children:"Overlays"})]})]}),M&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-[11px]",children:[["Price","price"],["PV","pv"],["Load","load"],["Charge","charge"],["Discharge","discharge"],["Export","export"],["Water","water"],["SoC Target","socTarget"],["SoC Projected","socProjected"],["SoC Actual","socActual"]].map(([C,A])=>u.jsx("button",{onClick:z=>{z.preventDefault(),j(I=>({...I,[A]:!I[A]}))},className:`rounded-pill px-3 py-1 border ${S[A]?"bg-accent text-canvas border-accent":"border-line/60 text-muted hover:border-accent"}`,children:C},A))}),u.jsxs("div",{className:"h-[310px] relative mt-1",children:[c&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-surface/90 rounded-lg",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg font-semibold text-accent mb-2",children:"No Price Data"}),u.jsx("div",{className:"text-sm text-muted",children:"Schedule data not available yet. Check back later for prices."})]})}),!c&&f==="today"&&E!==null&&u.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:u.jsx("div",{className:"absolute top-2 bottom-6 border-l-2 border-accent/80",style:{left:`${E*100}%`}})}),u.jsx("canvas",{ref:x,style:{display:c?"none":"block"}})]})]})}function mO(t,e,s,n={}){const a=s==="day"?hO(t,e):t.filter(T=>vx(T.start_time)||sh(T.start_time));if(s==="day"){if(!a.length){const R=Array.from({length:24},(ee,D)=>`${String(D).padStart(2,"0")}:00`),H=Array(24).fill(null);return fo({labels:R,price:H.slice(),pv:H.slice(),load:H.slice(),charge:H.slice(),discharge:H.slice(),export:H.slice(),water:H.slice(),socTarget:H.slice(),socProjected:H.slice(),socActual:H.slice(),hasNoData:!0,day:e},n)}const T=[...a].sort((R,H)=>{const ee=new Date(R.start_time).getTime(),D=new Date(H.start_time).getTime();return ee-D});let E=15;if(T.length>=2){const R=new Date(T[0].start_time).getTime(),H=new Date(T[1].start_time).getTime(),ee=Math.max(1,Math.round((H-R)/6e4));(ee===15||ee===30||ee===60)&&(E=ee)}const O=new Date;e==="today"||O.setDate(O.getDate()+1),O.setHours(0,0,0,0);const L=E*60*1e3,C=Math.round(1440/E),A=new Map;for(const R of T){const H=new Date(R.start_time).getTime();A.set(H,R)}const z=[],I=[],K=[],Z=[],oe=[],De=[],xe=[],_e=[],F=[],G=[],ae=[];let ne=null;const ce=new Date;for(let R=0;R<C;R++){const H=new Date(O.getTime()+R*L),ee=new Date(H.getTime()+L),D=A.get(H.getTime());if(z.push(kp(H.toISOString())),D){const se=D.is_executed===!0;I.push(D.import_price_sek_kwh??null),K.push(se&&D.actual_pv_kwh!=null?D.actual_pv_kwh:D.pv_forecast_kwh??null),Z.push(se&&D.actual_load_kwh!=null?D.actual_load_kwh:D.load_forecast_kwh??null),oe.push(se&&D.actual_charge_kw!=null?D.actual_charge_kw:D.battery_charge_kw??D.charge_kw??null),De.push(D.battery_discharge_kw??D.discharge_kw??null),xe.push(se&&D.actual_export_kw!=null?D.actual_export_kw:D.export_kwh??null),_e.push(D.water_heating_kw??null),F.push(D.soc_target_percent??null),G.push(D.projected_soc_percent??null),ae.push(D.soc_actual_percent!=null?D.soc_actual_percent:null)}else I.push(null),K.push(null),Z.push(null),oe.push(null),De.push(null),xe.push(null),_e.push(null),F.push(null),G.push(null),ae.push(null);e==="today"&&ce>=H&&ce<ee&&(ne=R)}return fo({labels:z,price:I,pv:K,load:Z,charge:oe,discharge:De,export:xe,water:_e,socTarget:F,socProjected:G,socActual:ae,nowIndex:ne},n)}if(s==="48h"){if(!a.length){console.log("[buildLiveData] No slots found for 48h range, creating fallback");const R=Array.from({length:48},(H,ee)=>{const D=ee%24;return`${String(D).padStart(2,"0")}:00`});return fo({labels:R,price:Array(R.length).fill(null),pv:Array(R.length).fill(null),load:Array(R.length).fill(null),charge:Array(R.length).fill(null),discharge:Array(R.length).fill(null),export:Array(R.length).fill(null),water:Array(R.length).fill(null),socTarget:Array(R.length).fill(null),socProjected:Array(R.length).fill(null),hasNoData:!0,day:e},n)}const T=[...a].sort((R,H)=>{const ee=new Date(R.start_time).getTime(),D=new Date(H.start_time).getTime();return ee-D});let E=15;if(T.length>=2){const R=new Date(T[0].start_time).getTime(),H=new Date(T[1].start_time).getTime(),ee=Math.max(1,Math.round((H-R)/6e4));(ee===15||ee===30||ee===60)&&(E=ee)}const O=new Date;O.setHours(0,0,0,0);const L=E*60*1e3,C=Math.round(2880/E),A=new Map;for(const R of T){const H=new Date(R.start_time).getTime();A.set(H,R)}const z=[],I=[],K=[],Z=[],oe=[],De=[],xe=[],_e=[],F=[],G=[],ae=[];let ne=null;const ce=new Date;for(let R=0;R<C;R++){const H=new Date(O.getTime()+R*L),ee=new Date(H.getTime()+L),D=A.get(H.getTime());if(z.push(kp(H.toISOString())),D){const se=D.is_executed===!0;I.push(D.import_price_sek_kwh??null),K.push(se&&D.actual_pv_kwh!=null?D.actual_pv_kwh:D.pv_forecast_kwh??null),Z.push(se&&D.actual_load_kwh!=null?D.actual_load_kwh:D.load_forecast_kwh??null),oe.push(se&&D.actual_charge_kw!=null?D.actual_charge_kw:D.battery_charge_kw??D.charge_kw??null),De.push(D.battery_discharge_kw??D.discharge_kw??null),xe.push(se&&D.actual_export_kw!=null?D.actual_export_kw:D.export_kwh??null),_e.push(D.water_heating_kw??null),F.push(D.soc_target_percent??null),G.push(D.projected_soc_percent??null),ae.push(D.soc_actual_percent!=null?D.soc_actual_percent:null)}else I.push(null),K.push(null),Z.push(null),oe.push(null),De.push(null),xe.push(null),_e.push(null),F.push(null),G.push(null),ae.push(null);ce>=H&&ce<ee&&(ne=R)}return fo({labels:z,price:I,pv:K,load:Z,charge:oe,discharge:De,export:xe,water:_e,socTarget:F,socProjected:G,socActual:ae,nowIndex:ne},n)}const o=[...a].sort((T,E)=>{const O=new Date(T.start_time).getTime(),L=new Date(E.start_time).getTime();return O-L}),c=o.map(T=>T.import_price_sek_kwh??null),d=o.map(T=>T.pv_forecast_kwh??null),f=o.map(T=>T.load_forecast_kwh??null),m=o.map(T=>T.battery_charge_kw??T.charge_kw??null),g=o.map(T=>T.battery_discharge_kw??T.discharge_kw??null),x=o.map(T=>T.export_kwh??null),b=o.map(T=>T.water_heating_kw??null),v=o.map(T=>T.soc_target_percent??null),w=o.map(T=>T.projected_soc_percent??null),S=o.map(T=>T.soc_actual_percent??null),j=o.map(T=>kp(T.start_time));let M=null;if(e==="today"){const T=new Date;for(let E=0;E<o.length;E++){const O=new Date(o[E].start_time||""),L=new Date(O.getTime()+1800*1e3);if(T>=O&&T<L){M=E;break}}}return fo({labels:j,price:c,pv:d,load:f,charge:m,discharge:g,export:x,water:b,socTarget:v,socProjected:w,socActual:S,nowIndex:M},n)}const vd=[3,7,14,21,28],Yl=[30,60,120];function pO({onDataRefresh:t,onPlanSourceChange:e,onVacationModeChange:s}){const[n,a]=N.useState("idle"),[o,c]=N.useState(!1),[d,f]=N.useState(null),[m,g]=N.useState(1),[x,b]=N.useState(!1),[v,w]=N.useState(null),[S,j]=N.useState(1),[M,T]=N.useState(!1),[E,O]=N.useState(null),[L,C]=N.useState(0),[A,z]=N.useState(null),[I,K]=N.useState(null),Z=N.useRef(null),oe=N.useCallback(async()=>{try{const[ne,ce,R]=await Promise.all([he.executor.status(),he.waterBoost.status(),he.config()]);if(ne.paused?(c(!0),f(ne.paused.paused_minutes||null)):(c(!1),f(null)),ce.water_boost){const ee=new Date(ce.water_boost.expires_at);T(!0),O(ee);const D=new Date,se=Math.max(0,Math.floor((ee.getTime()-D.getTime())/1e3));C(se)}else T(!1),O(null),C(0);const H=R.water_heating?.vacation_mode;H?.enabled?(b(!0),w(H.end_date||null)):(b(!1),w(null))}catch(ne){console.error("Failed to fetch quick action status:",ne)}},[]);N.useEffect(()=>{oe();const ne=setInterval(oe,6e4);return()=>clearInterval(ne)},[oe]),N.useEffect(()=>{if(Z.current&&(clearInterval(Z.current),Z.current=null),!(!M||!E))return Z.current=setInterval(()=>{const ne=new Date,ce=Math.floor((E.getTime()-ne.getTime())/1e3);ce<=0?(T(!1),O(null),C(0),Z.current&&(clearInterval(Z.current),Z.current=null)):C(ce)},1e3),()=>{Z.current&&(clearInterval(Z.current),Z.current=null)}},[M,E]);const De=async()=>{a("planning"),z(null);try{await he.runPlanner(),a("executing"),await he.executor.run(),a("done"),e&&e("local"),t&&setTimeout(t,500),setTimeout(()=>a("idle"),2e3)}catch(ne){z({type:"error",message:ne instanceof Error?ne.message:"Failed"}),a("idle")}},xe=async()=>{z(null),K("pause");try{o?(await he.executor.resume(),c(!1),f(null),z({type:"success",message:"Executor resumed"})):(await he.executor.pause(),c(!0),z({type:"success",message:"Executor paused - idle mode"})),setTimeout(()=>z(null),3e3)}catch(ne){z({type:"error",message:ne instanceof Error?ne.message:"Failed"})}finally{K(null)}},_e=async()=>{z(null),K("vacation");try{if(x)await he.configSave({water_heating:{vacation_mode:{enabled:!1,end_date:null}}}),b(!1),w(null),z({type:"success",message:"Vacation mode disabled"});else{const ne=vd[m],ce=new Date;ce.setDate(ce.getDate()+ne);const R=ce.toISOString().split("T")[0];await he.configSave({water_heating:{vacation_mode:{enabled:!0,end_date:R}}}),b(!0),w(R),z({type:"success",message:`Vacation mode active until ${R}`})}window.dispatchEvent(new Event("config-updated")),s?.(!x),setTimeout(()=>z(null),3e3)}catch(ne){z({type:"error",message:ne instanceof Error?ne.message:"Failed"})}finally{K(null)}},F=async()=>{z(null),K("boost");try{if(M)(await he.waterBoost.cancel()).success&&(T(!1),O(null),C(0),z({type:"success",message:"Water boost cancelled"}));else{const ne=Yl[S],ce=await he.waterBoost.start(ne);if(ce.success&&ce.expires_at){const R=new Date(ce.expires_at);T(!0),O(R),C(ne*60),z({type:"success",message:`Water boost started (${ne}min)`})}}setTimeout(()=>z(null),3e3)}catch(ne){z({type:"error",message:ne instanceof Error?ne.message:"Failed"})}finally{K(null)}},G=()=>{switch(n){case"planning":return"Planning...";case"executing":return"Executing...";case"done":return"Done ";default:return"Run Planner"}},ae=ne=>{const ce=Math.floor(ne/60),R=ne%60;return`${ce}:${R.toString().padStart(2,"0")}`};return u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{className:`flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary
                        ${n!=="idle"?"bg-accent text-[#100f0e] cursor-wait":"bg-accent hover:bg-accent2 text-[#100f0e]"}`,onClick:De,disabled:n!=="idle",title:"Run planner and execute",children:[u.jsx(ZD,{className:`h-4 w-4 ${n!=="idle"?"animate-pulse":""}`}),u.jsx("span",{children:G()})]}),u.jsx("button",{className:`flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition
                        ${o?"bg-bad/80 text-white ring-2 ring-bad shadow-[0_0_20px_rgba(241,81,50,0.5)] animate-pulse":"bg-good hover:bg-good/80 text-white btn-glow-green"} ${I==="pause"?"opacity-60 cursor-wait":""}`,onClick:xe,disabled:I==="pause",title:o?"Resume executor":"Pause executor (idle mode)",children:o?u.jsxs(u.Fragment,{children:[u.jsx(hS,{className:"h-4 w-4"}),u.jsx("span",{children:"RESUME"}),d!==null&&u.jsxs("span",{className:"text-[9px] opacity-80",children:["(",Math.round(d),"m)"]})]}):u.jsxs(u.Fragment,{children:[u.jsx($D,{className:"h-4 w-4"}),u.jsx("span",{children:"Pause"})]})}),u.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${x?"bg-amber-500/30 border border-amber-500/50 ring-2 ring-amber-400/50 shadow-[0_0_15px_rgba(245,158,11,0.4)]":"bg-surface2 border border-line/50"} ${I==="vacation"?"opacity-60":""}`,children:[!x&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>g(ne=>Math.max(0,ne-1)),className:"px-0.5 hover:text-accent",disabled:m===0||I==="vacation",children:u.jsx(H1,{className:"h-3 w-3"})}),u.jsxs("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:[vd[m],"d"]}),u.jsx("button",{onClick:()=>g(ne=>Math.min(vd.length-1,ne+1)),className:"px-0.5 hover:text-accent",disabled:m===vd.length-1||I==="vacation",children:u.jsx(U1,{className:"h-3 w-3"})})]}),u.jsxs("button",{onClick:_e,disabled:I==="vacation",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${x?"bg-amber-500/50 text-amber-100":"bg-amber-500/20 hover:bg-amber-500/30 text-amber-300/80 hover:text-amber-300"}`,children:[u.jsx(JD,{className:"h-3.5 w-3.5"}),x?u.jsx("span",{className:"truncate",children:v?` ${v.slice(5)}`:"ON"}):u.jsx("span",{children:"Vacation"})]})]}),u.jsxs("div",{className:`flex items-center rounded-xl px-2 py-1.5 text-[11px] font-semibold transition
                    ${M?"bg-red-500/30 border border-red-500/50 ring-2 ring-red-400/50 shadow-[0_0_15px_rgba(239,68,68,0.4)]":"bg-surface2 border border-line/50"} ${I==="boost"?"opacity-60":""}`,children:[!M&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>j(ne=>Math.max(0,ne-1)),className:"px-0.5 hover:text-accent",disabled:S===0||I==="boost",children:u.jsx(H1,{className:"h-3 w-3"})}),u.jsx("span",{className:"mx-0.5 min-w-[24px] text-center text-muted",children:Yl[S]===120?"2h":Yl[S]===60?"1h":"30m"}),u.jsx("button",{onClick:()=>j(ne=>Math.min(Yl.length-1,ne+1)),className:"px-0.5 hover:text-accent",disabled:S===Yl.length-1||I==="boost",children:u.jsx(U1,{className:"h-3 w-3"})})]}),u.jsxs("button",{onClick:F,disabled:I==="boost",className:`flex-1 flex items-center justify-center gap-1 py-1 px-2 rounded-lg transition
                            ${M?"bg-red-500/50 text-red-100":"bg-red-500/20 hover:bg-red-500/30 text-red-300/80 hover:text-red-300"}`,children:[u.jsx(Qg,{className:`h-3.5 w-3.5 ${M?"animate-pulse":""}`}),M?u.jsx("span",{className:"font-mono",children:ae(L)}):u.jsx("span",{children:"Boost"})]})]})]}),A&&u.jsx("div",{className:`absolute -bottom-8 left-0 right-0 text-center text-[10px] py-1 px-2 rounded-md transition-opacity animate-in fade-in slide-in-from-bottom-1 duration-300 ${A.type==="success"?"text-green-400":"text-red-400"}`,children:A.message})]})}const wj=N.createContext({});function gO(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const _x=N.createContext(null),Sj=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xO(t=!0){const e=N.useContext(_x);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:a}=e,o=N.useId();N.useEffect(()=>{t&&a(o)},[t]);const c=N.useCallback(()=>t&&n&&n(o),[o,n,t]);return!s&&n?[!1,c]:[!0]}const wx=typeof window<"u",yO=wx?N.useLayoutEffect:N.useEffect,Is=t=>t;let jj=Is;function Sx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Co=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n},Mi=t=>t*1e3,Ti=t=>t/1e3,bO={useManualTiming:!1};function vO(t){let e=new Set,s=new Set,n=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,g=!1,x=!1)=>{const v=x&&n?e:s;return g&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{s.delete(m),o.delete(m)},process:m=>{if(c=m,n){a=!0;return}n=!0,[e,s]=[s,e],e.forEach(d),e.clear(),n=!1,a&&(a=!1,f.process(m))}};return f}const _d=["read","resolveKeyframes","update","preRender","render","postRender"],_O=40;function Nj(t,e){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,c=_d.reduce((M,T)=>(M[T]=vO(o),M),{}),{read:d,resolveKeyframes:f,update:m,preRender:g,render:x,postRender:b}=c,v=()=>{const M=performance.now();s=!1,a.delta=n?1e3/60:Math.max(Math.min(M-a.timestamp,_O),1),a.timestamp=M,a.isProcessing=!0,d.process(a),f.process(a),m.process(a),g.process(a),x.process(a),b.process(a),a.isProcessing=!1,s&&e&&(n=!1,t(v))},w=()=>{s=!0,n=!0,a.isProcessing||t(v)};return{schedule:_d.reduce((M,T)=>{const E=c[T];return M[T]=(O,L=!1,C=!1)=>(s||w(),E.schedule(O,L,C)),M},{}),cancel:M=>{for(let T=0;T<_d.length;T++)c[_d[T]].cancel(M)},state:a,steps:c}}const{schedule:vt,cancel:Ta,state:ds,steps:Mp}=Nj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Is,!0),kj=N.createContext({strict:!1}),x2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ao={};for(const t in x2)Ao[t]={isEnabled:e=>x2[t].some(s=>!!e[s])};function wO(t){for(const e in t)Ao[e]={...Ao[e],...t[e]}}const SO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||SO.has(t)}let Mj=t=>!nh(t);function jO(t){t&&(Mj=e=>e.startsWith("on")?!nh(e):t(e))}try{jO(require("@emotion/is-prop-valid").default)}catch{}function NO(t,e,s){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(Mj(a)||s===!0&&nh(a)||!e&&!nh(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function kO(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...n)=>t(...n);return new Proxy(s,{get:(n,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Dh=N.createContext({});function kc(t){return typeof t=="string"||Array.isArray(t)}function Ch(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const jx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nx=["initial",...jx];function Ah(t){return Ch(t.animate)||Nx.some(e=>kc(t[e]))}function Tj(t){return!!(Ah(t)||t.variants)}function MO(t,e){if(Ah(t)){const{initial:s,animate:n}=t;return{initial:s===!1||kc(s)?s:void 0,animate:kc(n)?n:void 0}}return t.inherit!==!1?e:{}}function TO(t){const{initial:e,animate:s}=MO(t,N.useContext(Dh));return N.useMemo(()=>({initial:e,animate:s}),[y2(e),y2(s)])}function y2(t){return Array.isArray(t)?t.join(" "):t}const DO=Symbol.for("motionComponentSymbol");function po(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CO(t,e,s){return N.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):po(s)&&(s.current=n))},[e])}const kx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AO="framerAppearId",Dj="data-"+kx(AO),{schedule:Mx}=Nj(queueMicrotask,!1),Cj=N.createContext({});function EO(t,e,s,n,a){var o,c;const{visualElement:d}=N.useContext(Dh),f=N.useContext(kj),m=N.useContext(_x),g=N.useContext(Sj).reducedMotion,x=N.useRef(null);n=n||f.renderer,!x.current&&n&&(x.current=n(t,{visualState:e,parent:d,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const b=x.current,v=N.useContext(Cj);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&OO(x.current,s,a,v);const w=N.useRef(!1);N.useInsertionEffect(()=>{b&&w.current&&b.update(s,m)});const S=s[Dj],j=N.useRef(!!S&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,S))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,S)));return yO(()=>{b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),Mx.render(b.render),j.current&&b.animationState&&b.animationState.animateChanges())}),N.useEffect(()=>{b&&(!j.current&&b.animationState&&b.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)===null||M===void 0||M.call(window,S)}),j.current=!1))}),b}function OO(t,e,s,n){const{layoutId:a,layout:o,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Aj(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||d&&po(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,layoutScroll:f,layoutRoot:m})}function Aj(t){if(t)return t.options.allowProjection!==!1?t.projection:Aj(t.parent)}function RO({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:n,Component:a}){var o,c;t&&wO(t);function d(m,g){let x;const b={...N.useContext(Sj),...m,layoutId:LO(m)},{isStatic:v}=b,w=TO(m),S=n(m,v);if(!v&&wx){zO();const j=PO(b);x=j.MeasureLayout,w.visualElement=EO(a,S,b,e,j.ProjectionNode)}return u.jsxs(Dh.Provider,{value:w,children:[x&&w.visualElement?u.jsx(x,{visualElement:w.visualElement,...b}):null,s(a,m,CO(S,w.visualElement,g),S,v,w.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(c=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&c!==void 0?c:""})`}`;const f=N.forwardRef(d);return f[DO]=a,f}function LO({layoutId:t}){const e=N.useContext(wj).id;return e&&t!==void 0?e+"-"+t:t}function zO(t,e){N.useContext(kj).strict}function PO(t){const{drag:e,layout:s}=Ao;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e?.isEnabled(t)||s?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const BO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tx(t){return typeof t!="string"||t.includes("-")?!1:!!(BO.indexOf(t)>-1||/[A-Z]/u.test(t))}function b2(t){const e=[{},{}];return t?.values.forEach((s,n)=>{e[0][n]=s.get(),e[1][n]=s.getVelocity()}),e}function Dx(t,e,s,n){if(typeof e=="function"){const[a,o]=b2(n);e=e(s!==void 0?s:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=b2(n);e=e(s!==void 0?s:t.custom,a,o)}return e}const xg=t=>Array.isArray(t),VO=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),FO=t=>xg(t)?t[t.length-1]||0:t,xs=t=>!!(t&&t.getVelocity);function Ed(t){const e=xs(t)?t.get():t;return VO(e)?e.toValue():e}function HO({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},n,a,o){const c={latestValues:UO(n,a,o,t),renderState:e()};return s&&(c.onMount=d=>s({props:n,current:d,...c}),c.onUpdate=d=>s(d)),c}const Ej=t=>(e,s)=>{const n=N.useContext(Dh),a=N.useContext(_x),o=()=>HO(t,e,n,a);return s?o():gO(o)};function UO(t,e,s,n){const a={},o=n(t,{});for(const b in o)a[b]=Ed(o[b]);let{initial:c,animate:d}=t;const f=Ah(t),m=Tj(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=s?s.initial===!1:!1;g=g||c===!1;const x=g?d:c;if(x&&typeof x!="boolean"&&!Ch(x)){const b=Array.isArray(x)?x:[x];for(let v=0;v<b.length;v++){const w=Dx(t,b[v]);if(w){const{transitionEnd:S,transition:j,...M}=w;for(const T in M){let E=M[T];if(Array.isArray(E)){const O=g?E.length-1:0;E=E[O]}E!==null&&(a[T]=E)}for(const T in S)a[T]=S[T]}}}return a}const Vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wr=new Set(Vo),Oj=t=>e=>typeof e=="string"&&e.startsWith(t),Rj=Oj("--"),YO=Oj("var(--"),Cx=t=>YO(t)?WO.test(t.split("/*")[0].trim()):!1,WO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ai=(t,e,s)=>s>e?e:s<t?t:s,Fo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mc={...Fo,transform:t=>Ai(0,1,t)},wd={...Fo,default:1},Fc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ma=Fc("deg"),Fn=Fc("%"),Me=Fc("px"),IO=Fc("vh"),qO=Fc("vw"),v2={...Fn,parse:t=>Fn.parse(t)/100,transform:t=>Fn.transform(t*100)},GO={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me},$O={rotate:ma,rotateX:ma,rotateY:ma,rotateZ:ma,scale:wd,scaleX:wd,scaleY:wd,scaleZ:wd,skew:ma,skewX:ma,skewY:ma,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Mc,originX:v2,originY:v2,originZ:Me},_2={...Fo,transform:Math.round},Ax={...GO,...$O,zIndex:_2,size:Me,fillOpacity:Mc,strokeOpacity:Mc,numOctaves:_2},XO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KO=Vo.length;function ZO(t,e,s){let n="",a=!0;for(let o=0;o<KO;o++){const c=Vo[o],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||s){const m=Lj(d,Ax[c]);if(!f){a=!1;const g=XO[c]||c;n+=`${g}(${m}) `}s&&(e[c]=m)}}return n=n.trim(),s?n=s(e,a?"":n):a&&(n="none"),n}function Ex(t,e,s){const{style:n,vars:a,transformOrigin:o}=t;let c=!1,d=!1;for(const f in e){const m=e[f];if(wr.has(f)){c=!0;continue}else if(Rj(f)){a[f]=m;continue}else{const g=Lj(m,Ax[f]);f.startsWith("origin")?(d=!0,o[f]=g):n[f]=g}}if(e.transform||(c||s?n.transform=ZO(e,t.transform,s):n.transform&&(n.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:g=0}=o;n.transformOrigin=`${f} ${m} ${g}`}}const QO={offset:"stroke-dashoffset",array:"stroke-dasharray"},JO={offset:"strokeDashoffset",array:"strokeDasharray"};function eR(t,e,s=1,n=0,a=!0){t.pathLength=1;const o=a?QO:JO;t[o.offset]=Me.transform(-n);const c=Me.transform(e),d=Me.transform(s);t[o.array]=`${c} ${d}`}function w2(t,e,s){return typeof t=="string"?t:Me.transform(e+s*t)}function tR(t,e,s){const n=w2(e,t.x,t.width),a=w2(s,t.y,t.height);return`${n} ${a}`}function Ox(t,{attrX:e,attrY:s,attrScale:n,originX:a,originY:o,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...m},g,x){if(Ex(t,m,x),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:v,dimensions:w}=t;b.transform&&(w&&(v.transform=b.transform),delete b.transform),w&&(a!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=tR(w,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(b.x=e),s!==void 0&&(b.y=s),n!==void 0&&(b.scale=n),c!==void 0&&eR(b,c,d,f,!1)}const Rx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zj=()=>({...Rx(),attrs:{}}),Lx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Pj(t,{style:e,vars:s},n,a){Object.assign(t.style,e,a&&a.getProjectionStyles(n));for(const o in s)t.style.setProperty(o,s[o])}const Bj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vj(t,e,s,n){Pj(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(Bj.has(a)?a:kx(a),e.attrs[a])}const ih={};function sR(t){Object.assign(ih,t)}function Fj(t,{layout:e,layoutId:s}){return wr.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!ih[t]||t==="opacity")}function zx(t,e,s){var n;const{style:a}=t,o={};for(const c in a)(xs(a[c])||e.style&&xs(e.style[c])||Fj(c,t)||((n=s?.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(o[c]=a[c]);return o}function Hj(t,e,s){const n=zx(t,e,s);for(const a in t)if(xs(t[a])||xs(e[a])){const o=Vo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[o]=t[a]}return n}function nR(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const S2=["x","y","width","height","cx","cy","r"],iR={useVisualState:Ej({scrapeMotionValuesFromProps:Hj,createRenderState:zj,onUpdate:({props:t,prevProps:e,current:s,renderState:n,latestValues:a})=>{if(!s)return;let o=!!t.drag;if(!o){for(const d in a)if(wr.has(d)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let d=0;d<S2.length;d++){const f=S2[d];t[f]!==e[f]&&(c=!0)}c&&vt.read(()=>{nR(s,n),vt.render(()=>{Ox(n,a,Lx(s.tagName),t.transformTemplate),Vj(s,n)})})}})},aR={useVisualState:Ej({scrapeMotionValuesFromProps:zx,createRenderState:Rx})};function Uj(t,e,s){for(const n in e)!xs(e[n])&&!Fj(n,s)&&(t[n]=e[n])}function rR({transformTemplate:t},e){return N.useMemo(()=>{const s=Rx();return Ex(s,e,t),Object.assign({},s.vars,s.style)},[e])}function oR(t,e){const s=t.style||{},n={};return Uj(n,s,t),Object.assign(n,rR(t,e)),n}function lR(t,e){const s={},n=oR(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}function cR(t,e,s,n){const a=N.useMemo(()=>{const o=zj();return Ox(o,e,Lx(n),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Uj(o,t.style,t),a.style={...o,...a.style}}return a}function uR(t=!1){return(s,n,a,{latestValues:o},c)=>{const f=(Tx(s)?cR:lR)(n,o,c,s),m=NO(n,typeof s=="string",t),g=s!==N.Fragment?{...m,...f,ref:a}:{},{children:x}=n,b=N.useMemo(()=>xs(x)?x.get():x,[x]);return N.createElement(s,{...g,children:b})}}function dR(t,e){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Tx(n)?iR:aR,preloadedFeatures:t,useRender:uR(a),createVisualElement:e,Component:n};return RO(c)}}function Yj(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}function Eh(t,e,s){const n=t.getProps();return Dx(n,e,s!==void 0?s:n.custom,t)}const hR=Sx(()=>window.ScrollTimeline!==void 0);class fR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=s}attachTimeline(e,s){const n=this.animations.map(a=>{if(hR()&&a.attachTimeline)return a.attachTimeline(e);if(typeof s=="function")return s(a)});return()=>{n.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mR extends fR{then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function Px(t,e){return t?t[e]||t.default||t:void 0}const yg=2e4;function Wj(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<yg;)e+=s,n=t.next(e);return e>=yg?1/0:e}function Bx(t){return typeof t=="function"}function j2(t,e){t.timeline=e,t.onfinish=null}const Vx=t=>Array.isArray(t)&&typeof t[0]=="number",pR={linearEasing:void 0};function gR(t,e){const s=Sx(t);return()=>{var n;return(n=pR[e])!==null&&n!==void 0?n:s()}}const ah=gR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ij=(t,e,s=10)=>{let n="";const a=Math.max(Math.round(e/s),2);for(let o=0;o<a;o++)n+=t(Co(0,a-1,o))+", ";return`linear(${n.substring(0,n.length-2)})`};function qj(t){return!!(typeof t=="function"&&ah()||!t||typeof t=="string"&&(t in bg||ah())||Vx(t)||Array.isArray(t)&&t.every(qj))}const tc=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,bg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tc([0,.65,.55,1]),circOut:tc([.55,0,1,.45]),backIn:tc([.31,.01,.66,-.59]),backOut:tc([.33,1.53,.69,.99])};function Gj(t,e){if(t)return typeof t=="function"&&ah()?Ij(t,e):Vx(t)?tc(t):Array.isArray(t)?t.map(s=>Gj(s,e)||bg.easeOut):bg[t]}const vn={x:!1,y:!1};function $j(){return vn.x||vn.y}function xR(t,e,s){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const o=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Xj(t,e){const s=xR(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[s,a,()=>n.abort()]}function N2(t){return e=>{e.pointerType==="touch"||$j()||t(e)}}function yR(t,e,s={}){const[n,a,o]=Xj(t,s),c=N2(d=>{const{target:f}=d,m=e(d);if(typeof m!="function"||!f)return;const g=N2(x=>{m(x),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,a)});return n.forEach(d=>{d.addEventListener("pointerenter",c,a)}),o}const Kj=(t,e)=>e?t===e?!0:Kj(t,e.parentElement):!1,Fx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,bR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vR(t){return bR.has(t.tagName)||t.tabIndex!==-1}const sc=new WeakSet;function k2(t){return e=>{e.key==="Enter"&&t(e)}}function Tp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _R=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=k2(()=>{if(sc.has(s))return;Tp(s,"down");const a=k2(()=>{Tp(s,"up")}),o=()=>Tp(s,"cancel");s.addEventListener("keyup",a,e),s.addEventListener("blur",o,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function M2(t){return Fx(t)&&!$j()}function wR(t,e,s={}){const[n,a,o]=Xj(t,s),c=d=>{const f=d.currentTarget;if(!M2(d)||sc.has(f))return;sc.add(f);const m=e(d),g=(v,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!M2(v)||!sc.has(f))&&(sc.delete(f),typeof m=="function"&&m(v,{success:w}))},x=v=>{g(v,s.useGlobalTarget||Kj(f,v.target))},b=v=>{g(v,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",b,a)};return n.forEach(d=>{!vR(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(s.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d.addEventListener("focus",m=>_R(m,a),a)}),o}function SR(t){return t==="x"||t==="y"?vn[t]?null:(vn[t]=!0,()=>{vn[t]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}const Zj=new Set(["width","height","top","left","right","bottom",...Vo]);let Od;function jR(){Od=void 0}const Hn={now:()=>(Od===void 0&&Hn.set(ds.isProcessing||bO.useManualTiming?ds.timestamp:performance.now()),Od),set:t=>{Od=t,queueMicrotask(jR)}};function Hx(t,e){t.indexOf(e)===-1&&t.push(e)}function Ux(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class Yx{constructor(){this.subscriptions=[]}add(e){return Hx(this.subscriptions,e),()=>Ux(this.subscriptions,e)}notify(e,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,n);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Qj(t,e){return e?t*(1e3/e):0}const T2=30,NR=t=>!isNaN(parseFloat(t));class kR{constructor(e,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const o=Hn.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Yx);const n=this.events[e].add(s);return e==="change"?()=>{n(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>T2)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,T2);return Qj(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tc(t,e){return new kR(t,e)}function MR(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Tc(s))}function TR(t,e){const s=Eh(t,e);let{transitionEnd:n={},transition:a={},...o}=s||{};o={...o,...n};for(const c in o){const d=FO(o[c]);MR(t,c,d)}}function DR(t){return!!(xs(t)&&t.add)}function vg(t,e){const s=t.getValue("willChange");if(DR(s))return s.add(e)}function Jj(t){return t.props[Dj]}const eN=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,CR=1e-7,AR=12;function ER(t,e,s,n,a){let o,c,d=0;do c=e+(s-e)/2,o=eN(c,n,a)-t,o>0?s=c:e=c;while(Math.abs(o)>CR&&++d<AR);return c}function Hc(t,e,s,n){if(t===e&&s===n)return Is;const a=o=>ER(o,0,1,t,s);return o=>o===0||o===1?o:eN(a(o),e,n)}const tN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sN=t=>e=>1-t(1-e),nN=Hc(.33,1.53,.69,.99),Wx=sN(nN),iN=tN(Wx),aN=t=>(t*=2)<1?.5*Wx(t):.5*(2-Math.pow(2,-10*(t-1))),Ix=t=>1-Math.sin(Math.acos(t)),rN=sN(Ix),oN=tN(Ix),lN=t=>/^0[^.\s]+$/u.test(t);function OR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lN(t):!0}const dc=t=>Math.round(t*1e5)/1e5,qx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RR(t){return t==null}const LR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gx=(t,e)=>s=>!!(typeof s=="string"&&LR.test(s)&&s.startsWith(t)||e&&!RR(s)&&Object.prototype.hasOwnProperty.call(s,e)),cN=(t,e,s)=>n=>{if(typeof n!="string")return n;const[a,o,c,d]=n.match(qx);return{[t]:parseFloat(a),[e]:parseFloat(o),[s]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},zR=t=>Ai(0,255,t),Dp={...Fo,transform:t=>Math.round(zR(t))},hr={test:Gx("rgb","red"),parse:cN("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+Dp.transform(t)+", "+Dp.transform(e)+", "+Dp.transform(s)+", "+dc(Mc.transform(n))+")"};function PR(t){let e="",s="",n="",a="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,s+=s,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const _g={test:Gx("#"),parse:PR,transform:hr.transform},go={test:Gx("hsl","hue"),parse:cN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+Fn.transform(dc(e))+", "+Fn.transform(dc(s))+", "+dc(Mc.transform(n))+")"},ms={test:t=>hr.test(t)||_g.test(t)||go.test(t),parse:t=>hr.test(t)?hr.parse(t):go.test(t)?go.parse(t):_g.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hr.transform(t):go.transform(t)},BR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VR(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qx))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(BR))===null||s===void 0?void 0:s.length)||0)>0}const uN="number",dN="color",FR="var",HR="var(",D2="${}",UR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dc(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},a=[];let o=0;const d=e.replace(UR,f=>(ms.test(f)?(n.color.push(o),a.push(dN),s.push(ms.parse(f))):f.startsWith(HR)?(n.var.push(o),a.push(FR),s.push(f)):(n.number.push(o),a.push(uN),s.push(parseFloat(f))),++o,D2)).split(D2);return{values:s,split:d,indexes:n,types:a}}function hN(t){return Dc(t).values}function fN(t){const{split:e,types:s}=Dc(t),n=e.length;return a=>{let o="";for(let c=0;c<n;c++)if(o+=e[c],a[c]!==void 0){const d=s[c];d===uN?o+=dc(a[c]):d===dN?o+=ms.transform(a[c]):o+=a[c]}return o}}const YR=t=>typeof t=="number"?0:t;function WR(t){const e=hN(t);return fN(t)(e.map(YR))}const Da={test:VR,parse:hN,createTransformer:fN,getAnimatableNone:WR},IR=new Set(["brightness","contrast","saturate","opacity"]);function qR(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(qx)||[];if(!n)return t;const a=s.replace(n,"");let o=IR.has(e)?1:0;return n!==s&&(o*=100),e+"("+o+a+")"}const GR=/\b([a-z-]*)\(.*?\)/gu,wg={...Da,getAnimatableNone:t=>{const e=t.match(GR);return e?e.map(qR).join(" "):t}},$R={...Ax,color:ms,backgroundColor:ms,outlineColor:ms,fill:ms,stroke:ms,borderColor:ms,borderTopColor:ms,borderRightColor:ms,borderBottomColor:ms,borderLeftColor:ms,filter:wg,WebkitFilter:wg},$x=t=>$R[t];function mN(t,e){let s=$x(t);return s!==wg&&(s=Da),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const XR=new Set(["auto","none","0"]);function KR(t,e,s){let n=0,a;for(;n<t.length&&!a;){const o=t[n];typeof o=="string"&&!XR.has(o)&&Dc(o).values.length&&(a=t[n]),n++}if(a&&s)for(const o of e)t[o]=mN(s,a)}const C2=t=>t===Fo||t===Me,A2=(t,e)=>parseFloat(t.split(", ")[e]),E2=(t,e)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return A2(a[1],e);{const o=n.match(/^matrix\((.+)\)$/u);return o?A2(o[1],t):0}},ZR=new Set(["x","y","z"]),QR=Vo.filter(t=>!ZR.has(t));function JR(t){const e=[];return QR.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const Eo={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:E2(4,13),y:E2(5,14)};Eo.translateX=Eo.x;Eo.translateY=Eo.y;const gr=new Set;let Sg=!1,jg=!1;function pN(){if(jg){const t=Array.from(gr).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const a=JR(n);a.length&&(s.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=s.get(n);a&&a.forEach(([o,c])=>{var d;(d=n.getValue(o))===null||d===void 0||d.set(c)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}jg=!1,Sg=!1,gr.forEach(t=>t.complete()),gr.clear()}function gN(){gr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jg=!0)})}function e6(){gN(),pN()}class Xx{constructor(e,s,n,a,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gr.add(this),Sg||(Sg=!0,vt.read(gN),vt.resolveKeyframes(pN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=a?.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(n&&s){const f=n.readValue(s,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),a&&c===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),t6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s6(t){const e=t6.exec(t);if(!e)return[,];const[,s,n,a]=e;return[`--${s??n}`,a]}function yN(t,e,s=1){const[n,a]=s6(t);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const c=o.trim();return xN(c)?parseFloat(c):c}return Cx(a)?yN(a,e,s+1):a}const bN=t=>e=>e.test(t),n6={test:t=>t==="auto",parse:t=>t},vN=[Fo,Me,Fn,ma,qO,IO,n6],O2=t=>vN.find(bN(t));class _N extends Xx{constructor(e,s,n,a,o){super(e,s,n,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Cx(m))){const g=yN(m,s.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Zj.has(n)||e.length!==2)return;const[a,o]=e,c=O2(a),d=O2(o);if(c!==d)if(C2(c)&&C2(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let a=0;a<e.length;a++)OR(e[a])&&n.push(a);n.length&&KR(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Eo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var e;const{element:s,name:n,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const o=s.getValue(n);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,d=a[c];a[c]=Eo[n](s.measureViewportBox(),window.getComputedStyle(s.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{s.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const R2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Da.test(t)||t==="0")&&!t.startsWith("url("));function i6(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function a6(t,e,s,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=R2(a,e),d=R2(o,e);return!c||!d?!1:i6(t)||(s==="spring"||Bx(s))&&n}const r6=t=>t!==null;function Oh(t,{repeat:e,repeatType:s="loop"},n){const a=t.filter(r6),o=e&&s!=="loop"&&e%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}const o6=40;class wN{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Hn.now(),this.options={autoplay:e,delay:s,type:n,repeat:a,repeatDelay:o,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>o6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&e6(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=Hn.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:o,delay:c,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!a6(e,n,a,o))if(c)this.options.duration=0;else{f&&f(Oh(e,this.options,s)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,s);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...g},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Mt=(t,e,s)=>t+(e-t)*s;function Cp(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function l6({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let a=0,o=0,c=0;if(!e)a=o=c=s;else{const d=s<.5?s*(1+e):s+e-s*e,f=2*s-d;a=Cp(f,d,t+1/3),o=Cp(f,d,t),c=Cp(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:n}}function rh(t,e){return s=>s>0?e:t}const Ap=(t,e,s)=>{const n=t*t,a=s*(e*e-n)+n;return a<0?0:Math.sqrt(a)},c6=[_g,hr,go],u6=t=>c6.find(e=>e.test(t));function L2(t){const e=u6(t);if(!e)return!1;let s=e.parse(t);return e===go&&(s=l6(s)),s}const z2=(t,e)=>{const s=L2(t),n=L2(e);if(!s||!n)return rh(t,e);const a={...s};return o=>(a.red=Ap(s.red,n.red,o),a.green=Ap(s.green,n.green,o),a.blue=Ap(s.blue,n.blue,o),a.alpha=Mt(s.alpha,n.alpha,o),hr.transform(a))},d6=(t,e)=>s=>e(t(s)),Uc=(...t)=>t.reduce(d6),Ng=new Set(["none","hidden"]);function h6(t,e){return Ng.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function f6(t,e){return s=>Mt(t,e,s)}function Kx(t){return typeof t=="number"?f6:typeof t=="string"?Cx(t)?rh:ms.test(t)?z2:g6:Array.isArray(t)?SN:typeof t=="object"?ms.test(t)?z2:m6:rh}function SN(t,e){const s=[...t],n=s.length,a=t.map((o,c)=>Kx(o)(o,e[c]));return o=>{for(let c=0;c<n;c++)s[c]=a[c](o);return s}}function m6(t,e){const s={...t,...e},n={};for(const a in s)t[a]!==void 0&&e[a]!==void 0&&(n[a]=Kx(t[a])(t[a],e[a]));return a=>{for(const o in n)s[o]=n[o](a);return s}}function p6(t,e){var s;const n=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],d=t.indexes[c][a[c]],f=(s=t.values[d])!==null&&s!==void 0?s:0;n[o]=f,a[c]++}return n}const g6=(t,e)=>{const s=Da.createTransformer(e),n=Dc(t),a=Dc(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Ng.has(t)&&!a.values.length||Ng.has(e)&&!n.values.length?h6(t,e):Uc(SN(p6(n,a),a.values),s):rh(t,e)};function jN(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Mt(t,e,s):Kx(t)(t,e)}const x6=5;function NN(t,e,s){const n=Math.max(e-x6,0);return Qj(s-t(n),e-n)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ep=.001;function y6({duration:t=Ct.duration,bounce:e=Ct.bounce,velocity:s=Ct.velocity,mass:n=Ct.mass}){let a,o,c=1-e;c=Ai(Ct.minDamping,Ct.maxDamping,c),t=Ai(Ct.minDuration,Ct.maxDuration,Ti(t)),c<1?(a=m=>{const g=m*c,x=g*t,b=g-s,v=kg(m,c),w=Math.exp(-x);return Ep-b/v*w},o=m=>{const x=m*c*t,b=x*s+s,v=Math.pow(c,2)*Math.pow(m,2)*t,w=Math.exp(-x),S=kg(Math.pow(m,2),c);return(-a(m)+Ep>0?-1:1)*((b-v)*w)/S}):(a=m=>{const g=Math.exp(-m*t),x=(m-s)*t+1;return-Ep+g*x},o=m=>{const g=Math.exp(-m*t),x=(s-m)*(t*t);return g*x});const d=5/t,f=v6(a,o,d);if(t=Mi(t),isNaN(f))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:t};{const m=Math.pow(f,2)*n;return{stiffness:m,damping:c*2*Math.sqrt(n*m),duration:t}}}const b6=12;function v6(t,e,s){let n=s;for(let a=1;a<b6;a++)n=n-t(n)/e(n);return n}function kg(t,e){return t*Math.sqrt(1-e*e)}const _6=["duration","bounce"],w6=["stiffness","damping","mass"];function P2(t,e){return e.some(s=>t[s]!==void 0)}function S6(t){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...t};if(!P2(t,w6)&&P2(t,_6))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),a=n*n,o=2*Ai(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ct.mass,stiffness:a,damping:o}}else{const s=y6(t);e={...e,...s,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function kN(t=Ct.visualDuration,e=Ct.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=s;const o=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],d={done:!1,value:o},{stiffness:f,damping:m,mass:g,duration:x,velocity:b,isResolvedFromDuration:v}=S6({...s,velocity:-Ti(s.velocity||0)}),w=b||0,S=m/(2*Math.sqrt(f*g)),j=c-o,M=Ti(Math.sqrt(f/g)),T=Math.abs(j)<5;n||(n=T?Ct.restSpeed.granular:Ct.restSpeed.default),a||(a=T?Ct.restDelta.granular:Ct.restDelta.default);let E;if(S<1){const L=kg(M,S);E=C=>{const A=Math.exp(-S*M*C);return c-A*((w+S*M*j)/L*Math.sin(L*C)+j*Math.cos(L*C))}}else if(S===1)E=L=>c-Math.exp(-M*L)*(j+(w+M*j)*L);else{const L=M*Math.sqrt(S*S-1);E=C=>{const A=Math.exp(-S*M*C),z=Math.min(L*C,300);return c-A*((w+S*M*j)*Math.sinh(z)+L*j*Math.cosh(z))/L}}const O={calculatedDuration:v&&x||null,next:L=>{const C=E(L);if(v)d.done=L>=x;else{let A=0;S<1&&(A=L===0?Mi(w):NN(E,L,C));const z=Math.abs(A)<=n,I=Math.abs(c-C)<=a;d.done=z&&I}return d.value=d.done?c:C,d},toString:()=>{const L=Math.min(Wj(O),yg),C=Ij(A=>O.next(L*A).value,L,30);return L+"ms "+C}};return O}function B2({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:g}){const x=t[0],b={done:!1,value:x},v=z=>d!==void 0&&z<d||f!==void 0&&z>f,w=z=>d===void 0?f:f===void 0||Math.abs(d-z)<Math.abs(f-z)?d:f;let S=s*e;const j=x+S,M=c===void 0?j:c(j);M!==j&&(S=M-x);const T=z=>-S*Math.exp(-z/n),E=z=>M+T(z),O=z=>{const I=T(z),K=E(z);b.done=Math.abs(I)<=m,b.value=b.done?M:K};let L,C;const A=z=>{v(b.value)&&(L=z,C=kN({keyframes:[b.value,w(b.value)],velocity:NN(E,z,b.value),damping:a,stiffness:o,restDelta:m,restSpeed:g}))};return A(0),{calculatedDuration:null,next:z=>{let I=!1;return!C&&L===void 0&&(I=!0,O(z),A(z)),L!==void 0&&z>=L?C.next(z-L):(!I&&O(z),b)}}}const j6=Hc(.42,0,1,1),N6=Hc(0,0,.58,1),MN=Hc(.42,0,.58,1),k6=t=>Array.isArray(t)&&typeof t[0]!="number",M6={linear:Is,easeIn:j6,easeInOut:MN,easeOut:N6,circIn:Ix,circInOut:oN,circOut:rN,backIn:Wx,backInOut:iN,backOut:nN,anticipate:aN},V2=t=>{if(Vx(t)){jj(t.length===4);const[e,s,n,a]=t;return Hc(e,s,n,a)}else if(typeof t=="string")return M6[t];return t};function T6(t,e,s){const n=[],a=s||jN,o=t.length-1;for(let c=0;c<o;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Is:e;d=Uc(f,d)}n.push(d)}return n}function D6(t,e,{clamp:s=!0,ease:n,mixer:a}={}){const o=t.length;if(jj(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=T6(e,n,a),f=d.length,m=g=>{if(c&&g<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const b=Co(t[x],t[x+1],g);return d[x](b)};return s?g=>m(Ai(t[0],t[o-1],g)):m}function C6(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const a=Co(0,e,n);t.push(Mt(s,1,a))}}function A6(t){const e=[0];return C6(e,t.length-1),e}function E6(t,e){return t.map(s=>s*e)}function O6(t,e){return t.map(()=>e||MN).splice(0,t.length-1)}function oh({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const a=k6(n)?n.map(V2):V2(n),o={done:!1,value:e[0]},c=E6(s&&s.length===e.length?s:A6(e),t),d=D6(c,e,{ease:Array.isArray(a)?a:O6(e,a)});return{calculatedDuration:t,next:f=>(o.value=d(f),o.done=f>=t,o)}}const R6=t=>{const e=({timestamp:s})=>t(s);return{start:()=>vt.update(e,!0),stop:()=>Ta(e),now:()=>ds.isProcessing?ds.timestamp:Hn.now()}},L6={decay:B2,inertia:B2,tween:oh,keyframes:oh,spring:kN},z6=t=>t/100;class Zx extends wN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:s,motionValue:n,element:a,keyframes:o}=this.options,c=a?.KeyframeResolver||Xx,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new c(o,d,s,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=this.options,d=Bx(s)?s:L6[s]||oh;let f,m;d!==oh&&typeof e[0]!="number"&&(f=Uc(z6,jN(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});o==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Wj(g));const{calculatedDuration:x}=g,b=x+a,v=b*(n+1)-a;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:x,resolvedDuration:b,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:n}=this;if(!n){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:g,resolvedDuration:x}=n;if(this.startTime===null)return o.next(0);const{delay:b,repeat:v,repeatType:w,repeatDelay:S,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const M=this.currentTime-b*(this.speed>=0?1:-1),T=this.speed>=0?M<0:M>g;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let E=this.currentTime,O=o;if(v){const z=Math.min(this.currentTime,g)/x;let I=Math.floor(z),K=z%1;!K&&z>=1&&(K=1),K===1&&I--,I=Math.min(I,v+1),I%2&&(w==="reverse"?(K=1-K,S&&(K-=S/x)):w==="mirror"&&(O=c)),E=Ai(0,1,K)*x}const L=T?{done:!1,value:f[0]}:O.next(E);d&&(L.value=d(L.value));let{done:C}=L;!T&&m!==null&&(C=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return A&&a!==void 0&&(L.value=Oh(f,this.options,a)),j&&j(L.value),A&&this.finish(),L}get duration(){const{resolved:e}=this;return e?Ti(e.calculatedDuration):0}get time(){return Ti(this.currentTime)}set time(e){e=Mi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ti(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=R6,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),s&&s();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const P6=new Set(["opacity","clipPath","filter","transform"]);function B6(t,e,s,{delay:n=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:d="easeInOut",times:f}={}){const m={[e]:s};f&&(m.offset=f);const g=Gj(d,a);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:n,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const V6=Sx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lh=10,F6=2e4;function H6(t){return Bx(t.type)||t.type==="spring"||!qj(t.ease)}function U6(t,e){const s=new Zx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const a=[];let o=0;for(;!n.done&&o<F6;)n=s.sample(o),a.push(n.value),o+=lh;return{times:void 0,keyframes:a,duration:o-lh,ease:"linear"}}const TN={anticipate:aN,backInOut:iN,circInOut:oN};function Y6(t){return t in TN}class F2 extends wN{constructor(e){super(e);const{name:s,motionValue:n,element:a,keyframes:o}=this.options;this.resolver=new _N(o,(c,d)=>this.onKeyframesResolved(c,d),s,n,a),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:n=300,times:a,ease:o,type:c,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof o=="string"&&ah()&&Y6(o)&&(o=TN[o]),H6(this.options)){const{onComplete:x,onUpdate:b,motionValue:v,element:w,...S}=this.options,j=U6(e,S);e=j.keyframes,e.length===1&&(e[1]=e[0]),n=j.duration,a=j.times,o=j.ease,c="keyframes"}const g=B6(d.owner.current,f,e,{...this.options,duration:n,times:a,ease:o});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(j2(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:x}=this.options;d.set(Oh(e,this.options,s)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:n,times:a,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return Ti(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return Ti(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=Mi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return Is;const{animation:n}=s;j2(n,e)}return Is}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:n,duration:a,type:o,ease:c,times:d}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:x,element:b,...v}=this.options,w=new Zx({...v,keyframes:n,duration:a,type:o,ease:c,times:d,isGenerator:!0}),S=Mi(this.time);m.setWithVelocity(w.sample(S-lh).value,w.sample(S).value,lh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:n,repeatDelay:a,repeatType:o,damping:c,type:d}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=s.owner.getProps();return V6()&&n&&P6.has(n)&&!f&&!m&&!a&&o!=="mirror"&&c!==0&&d!=="inertia"}}const W6={type:"spring",stiffness:500,damping:25,restSpeed:10},I6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),q6={type:"keyframes",duration:.8},G6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$6=(t,{keyframes:e})=>e.length>2?q6:wr.has(t)?t.startsWith("scale")?I6(e[1]):W6:G6;function X6({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:d,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const Qx=(t,e,s,n={},a,o)=>c=>{const d=Px(n,t)||{},f=d.delay||n.delay||0;let{elapsed:m=0}=n;m=m-Mi(f);let g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:a};X6(d)||(g={...g,...$6(t,g)}),g.duration&&(g.duration=Mi(g.duration)),g.repeatDelay&&(g.repeatDelay=Mi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const b=Oh(g.keyframes,d);if(b!==void 0)return vt.update(()=>{g.onUpdate(b),g.onComplete()}),new mR([])}return!o&&F2.supports(g)?new F2(g):new Zx(g)};function K6({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function DN(t,e,{delay:s=0,transitionOverride:n,type:a}={}){var o;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...f}=e;n&&(c=n);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const x in f){const b=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),v=f[x];if(v===void 0||g&&K6(g,x))continue;const w={delay:s,...Px(c||{},x)};let S=!1;if(window.MotionHandoffAnimation){const M=Jj(t);if(M){const T=window.MotionHandoffAnimation(M,x,vt);T!==null&&(w.startTime=T,S=!0)}}vg(t,x),b.start(Qx(x,b,v,t.shouldReduceMotion&&Zj.has(x)?{type:!1}:w,t,S));const j=b.animation;j&&m.push(j)}return d&&Promise.all(m).then(()=>{vt.update(()=>{d&&TR(t,d)})}),m}function Mg(t,e,s={}){var n;const a=Eh(t,e,s.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(o=s.transitionOverride);const c=a?()=>Promise.all(DN(t,a,s)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:b}=o;return Z6(t,e,g+m,x,b,s)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,g]=f==="beforeChildren"?[c,d]:[d,c];return m().then(()=>g())}else return Promise.all([c(),d(s.delay)])}function Z6(t,e,s=0,n=0,a=1,o){const c=[],d=(t.variantChildren.size-1)*n,f=a===1?(m=0)=>m*n:(m=0)=>d-m*n;return Array.from(t.variantChildren).sort(Q6).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(Mg(m,e,{...o,delay:s+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function Q6(t,e){return t.sortNodePosition(e)}function J6(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(o=>Mg(t,o,s));n=Promise.all(a)}else if(typeof e=="string")n=Mg(t,e,s);else{const a=typeof e=="function"?Eh(t,e,s.custom):e;n=Promise.all(DN(t,a,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}const eL=Nx.length;function CN(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?CN(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<eL;s++){const n=Nx[s],a=t.props[n];(kc(a)||a===!1)&&(e[n]=a)}return e}const tL=[...jx].reverse(),sL=jx.length;function nL(t){return e=>Promise.all(e.map(({animation:s,options:n})=>J6(t,s,n)))}function iL(t){let e=nL(t),s=H2(),n=!0;const a=f=>(m,g)=>{var x;const b=Eh(t,g,f==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(b){const{transition:v,transitionEnd:w,...S}=b;m={...m,...S,...w}}return m};function o(f){e=f(t)}function c(f){const{props:m}=t,g=CN(t.parent)||{},x=[],b=new Set;let v={},w=1/0;for(let j=0;j<sL;j++){const M=tL[j],T=s[M],E=m[M]!==void 0?m[M]:g[M],O=kc(E),L=M===f?T.isActive:null;L===!1&&(w=j);let C=E===g[M]&&E!==m[M]&&O;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),T.protectedKeys={...v},!T.isActive&&L===null||!E&&!T.prevProp||Ch(E)||typeof E=="boolean")continue;const A=aL(T.prevProp,E);let z=A||M===f&&T.isActive&&!C&&O||j>w&&O,I=!1;const K=Array.isArray(E)?E:[E];let Z=K.reduce(a(M),{});L===!1&&(Z={});const{prevResolvedValues:oe={}}=T,De={...oe,...Z},xe=G=>{z=!0,b.has(G)&&(I=!0,b.delete(G)),T.needsAnimating[G]=!0;const ae=t.getValue(G);ae&&(ae.liveStyle=!1)};for(const G in De){const ae=Z[G],ne=oe[G];if(v.hasOwnProperty(G))continue;let ce=!1;xg(ae)&&xg(ne)?ce=!Yj(ae,ne):ce=ae!==ne,ce?ae!=null?xe(G):b.add(G):ae!==void 0&&b.has(G)?xe(G):T.protectedKeys[G]=!0}T.prevProp=E,T.prevResolvedValues=Z,T.isActive&&(v={...v,...Z}),n&&t.blockInitialAnimation&&(z=!1),z&&(!(C&&A)||I)&&x.push(...K.map(G=>({animation:G,options:{type:M}})))}if(b.size){const j={};b.forEach(M=>{const T=t.getBaseTarget(M),E=t.getValue(M);E&&(E.liveStyle=!0),j[M]=T??null}),x.push({animation:j})}let S=!!x.length;return n&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(x):Promise.resolve()}function d(f,m){var g;if(s[f].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(b=>{var v;return(v=b.animationState)===null||v===void 0?void 0:v.setActive(f,m)}),s[f].isActive=m;const x=c(f);for(const b in s)s[b].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>s,reset:()=>{s=H2(),n=!0}}}function aL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yj(e,t):!1}function ir(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H2(){return{animate:ir(!0),whileInView:ir(),whileHover:ir(),whileTap:ir(),whileDrag:ir(),whileFocus:ir(),exit:ir()}}class Oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rL extends Oa{constructor(e){super(e),e.animationState||(e.animationState=iL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ch(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let oL=0;class lL extends Oa{constructor(){super(...arguments),this.id=oL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cL={animation:{Feature:rL},exit:{Feature:lL}};function Cc(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function Yc(t){return{point:{x:t.pageX,y:t.pageY}}}const uL=t=>e=>Fx(e)&&t(e,Yc(e));function hc(t,e,s,n){return Cc(t,e,uL(s),n)}const U2=(t,e)=>Math.abs(t-e);function dL(t,e){const s=U2(t.x,e.x),n=U2(t.y,e.y);return Math.sqrt(s**2+n**2)}class AN{constructor(e,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Rp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=dL(x.offset,{x:0,y:0})>=3;if(!b&&!v)return;const{point:w}=x,{timestamp:S}=ds;this.history.push({...w,timestamp:S});const{onStart:j,onMove:M}=this.handlers;b||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Op(b,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Rp(x.type==="pointercancel"?this.lastMoveEventInfo:Op(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,j),w&&w(x,j)},!Fx(e))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const c=Yc(e),d=Op(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=ds;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=s;g&&g(e,Rp(d,this.history)),this.removeListeners=Uc(hc(this.contextWindow,"pointermove",this.handlePointerMove),hc(this.contextWindow,"pointerup",this.handlePointerUp),hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ta(this.updatePoint)}}function Op(t,e){return e?{point:e(t.point)}:t}function Y2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rp({point:t},e){return{point:t,delta:Y2(t,EN(e)),offset:Y2(t,hL(e)),velocity:fL(e,.1)}}function hL(t){return t[0]}function EN(t){return t[t.length-1]}function fL(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const a=EN(t);for(;s>=0&&(n=t[s],!(a.timestamp-n.timestamp>Mi(e)));)s--;if(!n)return{x:0,y:0};const o=Ti(a.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-n.x)/o,y:(a.y-n.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const ON=1e-4,mL=1-ON,pL=1+ON,RN=.01,gL=0-RN,xL=0+RN;function qs(t){return t.max-t.min}function yL(t,e,s){return Math.abs(t-e)<=s}function W2(t,e,s,n=.5){t.origin=n,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=qs(s)/qs(e),t.translate=Mt(s.min,s.max,t.origin)-t.originPoint,(t.scale>=mL&&t.scale<=pL||isNaN(t.scale))&&(t.scale=1),(t.translate>=gL&&t.translate<=xL||isNaN(t.translate))&&(t.translate=0)}function fc(t,e,s,n){W2(t.x,e.x,s.x,n?n.originX:void 0),W2(t.y,e.y,s.y,n?n.originY:void 0)}function I2(t,e,s){t.min=s.min+e.min,t.max=t.min+qs(e)}function bL(t,e,s){I2(t.x,e.x,s.x),I2(t.y,e.y,s.y)}function q2(t,e,s){t.min=e.min-s.min,t.max=t.min+qs(e)}function mc(t,e,s){q2(t.x,e.x,s.x),q2(t.y,e.y,s.y)}function vL(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?Mt(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?Mt(s,t,n.max):Math.min(t,s)),t}function G2(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function _L(t,{top:e,left:s,bottom:n,right:a}){return{x:G2(t.x,s,a),y:G2(t.y,e,n)}}function $2(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function wL(t,e){return{x:$2(t.x,e.x),y:$2(t.y,e.y)}}function SL(t,e){let s=.5;const n=qs(t),a=qs(e);return a>n?s=Co(e.min,e.max-n,t.min):n>a&&(s=Co(t.min,t.max-a,e.min)),Ai(0,1,s)}function jL(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Tg=.35;function NL(t=Tg){return t===!1?t=0:t===!0&&(t=Tg),{x:X2(t,"left","right"),y:X2(t,"top","bottom")}}function X2(t,e,s){return{min:K2(t,e),max:K2(t,s)}}function K2(t,e){return typeof t=="number"?t:t[e]||0}const Z2=()=>({translate:0,scale:1,origin:0,originPoint:0}),xo=()=>({x:Z2(),y:Z2()}),Q2=()=>({min:0,max:0}),Pt=()=>({x:Q2(),y:Q2()});function dn(t){return[t("x"),t("y")]}function LN({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function kL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ML(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Lp(t){return t===void 0||t===1}function Dg({scale:t,scaleX:e,scaleY:s}){return!Lp(t)||!Lp(e)||!Lp(s)}function ur(t){return Dg(t)||zN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zN(t){return J2(t.x)||J2(t.y)}function J2(t){return t&&t!=="0%"}function ch(t,e,s){const n=t-s,a=e*n;return s+a}function ew(t,e,s,n,a){return a!==void 0&&(t=ch(t,a,n)),ch(t,s,n)+e}function Cg(t,e=0,s=1,n,a){t.min=ew(t.min,e,s,n,a),t.max=ew(t.max,e,s,n,a)}function PN(t,{x:e,y:s}){Cg(t.x,e.translate,e.scale,e.originPoint),Cg(t.y,s.translate,s.scale,s.originPoint)}const tw=.999999999999,sw=1.0000000000001;function TL(t,e,s,n=!1){const a=s.length;if(!a)return;e.x=e.y=1;let o,c;for(let d=0;d<a;d++){o=s[d],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&bo(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,PN(t,c)),n&&ur(o.latestValues)&&bo(t,o.latestValues))}e.x<sw&&e.x>tw&&(e.x=1),e.y<sw&&e.y>tw&&(e.y=1)}function yo(t,e){t.min=t.min+e,t.max=t.max+e}function nw(t,e,s,n,a=.5){const o=Mt(t.min,t.max,a);Cg(t,e,s,o,n)}function bo(t,e){nw(t.x,e.x,e.scaleX,e.scale,e.originX),nw(t.y,e.y,e.scaleY,e.scale,e.originY)}function BN(t,e){return LN(ML(t.getBoundingClientRect(),e))}function DL(t,e,s){const n=BN(t,s),{scroll:a}=e;return a&&(yo(n.x,a.offset.x),yo(n.y,a.offset.y)),n}const VN=({current:t})=>t?t.ownerDocument.defaultView:null,CL=new WeakMap;class AL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Yc(g).point)},o=(g,x)=>{const{drag:b,dragPropagation:v,onDragStart:w}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SR(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(j=>{let M=this.getAxisMotionValue(j).get()||0;if(Fn.test(M)){const{projection:T}=this.visualElement;if(T&&T.layout){const E=T.layout.layoutBox[j];E&&(M=qs(E)*(parseFloat(M)/100))}}this.originPoint[j]=M}),w&&vt.postRender(()=>w(g,x)),vg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,x)=>{const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=x;if(v&&this.currentDirection===null){this.currentDirection=EL(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),S&&S(g,x)},d=(g,x)=>this.stop(g,x),f=()=>dn(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new AN(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:VN(this.visualElement)})}stop(e,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&vt.postRender(()=>o(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:a}=this.getProps();if(!n||!Sd(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=vL(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;s&&po(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=_L(a.layoutBox,s):this.constraints=!1,this.elastic=NL(n),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&dn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=jL(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!po(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=DL(n,a.root,this.visualElement.getTransformPagePoint());let c=wL(a.layout.layoutBox,o);if(s){const d=s(kL(c));this.hasMutatedConstraints=!!d,d&&(c=LN(d))}return c}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=dn(g=>{if(!Sd(g,s,this.currentDirection))return;let x=f&&f[g]||{};c&&(x={min:0,max:0});const b=a?200:1e6,v=a?40:1e7,w={type:"inertia",velocity:n?e[g]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(g,w)});return Promise.all(m).then(d)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return vg(this.visualElement,e),n.start(Qx(e,n,0,s,this.visualElement,!1))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){dn(s=>{const{drag:n}=this.getProps();if(!Sd(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[s];o.set(e[s]-Mt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!po(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};dn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=SL({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),dn(c=>{if(!Sd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Mt(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;CL.set(this.visualElement,this);const e=this.visualElement.current,s=hc(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();po(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),vt.read(n);const c=Cc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(dn(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=f[g].translate,x.set(x.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),s(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=Tg,dragMomentum:d=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function Sd(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function EL(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class OL extends Oa{constructor(e){super(e),this.removeGroupControls=Is,this.removeListeners=Is,this.controls=new AL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Is}unmount(){this.removeGroupControls(),this.removeListeners()}}const iw=t=>(e,s)=>{t&&vt.postRender(()=>t(e,s))};class RL extends Oa{constructor(){super(...arguments),this.removePointerDownListener=Is}onPointerDown(e){this.session=new AN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:iw(e),onStart:iw(s),onMove:n,onEnd:(o,c)=>{delete this.session,a&&vt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const s=aw(t,e.target.x),n=aw(t,e.target.y);return`${s}% ${n}%`}},LL={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,a=Da.parse(t);if(a.length>5)return n;const o=Da.createTransformer(t),c=typeof a[0]!="number"?1:0,d=s.x.scale*e.x,f=s.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const m=Mt(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),o(a)}};class zL extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:o}=e;sR(PL),o&&(s.group&&s.group.add(o),n&&n.register&&a&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:a,isPresent:o}=this.props,c=n.projection;return c&&(c.isPresent=o,a||e.layoutDependency!==s||s===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||vt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FN(t){const[e,s]=xO(),n=N.useContext(wj);return u.jsx(zL,{...t,layoutGroup:n,switchLayoutGroup:N.useContext(Cj),isPresent:e,safeToRemove:s})}const PL={borderRadius:{...Wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wl,borderTopRightRadius:Wl,borderBottomLeftRadius:Wl,borderBottomRightRadius:Wl,boxShadow:LL};function BL(t,e,s){const n=xs(t)?t:Tc(t);return n.start(Qx("",n,e,s)),n.animation}function VL(t){return t instanceof SVGElement&&t.tagName!=="svg"}const FL=(t,e)=>t.depth-e.depth;class HL{constructor(){this.children=[],this.isDirty=!1}add(e){Hx(this.children,e),this.isDirty=!0}remove(e){Ux(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FL),this.isDirty=!1,this.children.forEach(e)}}function UL(t,e){const s=Hn.now(),n=({timestamp:a})=>{const o=a-s;o>=e&&(Ta(n),t(o-e))};return vt.read(n,!0),()=>Ta(n)}const HN=["TopLeft","TopRight","BottomLeft","BottomRight"],YL=HN.length,rw=t=>typeof t=="string"?parseFloat(t):t,ow=t=>typeof t=="number"||Me.test(t);function WL(t,e,s,n,a,o){a?(t.opacity=Mt(0,s.opacity!==void 0?s.opacity:1,IL(n)),t.opacityExit=Mt(e.opacity!==void 0?e.opacity:1,0,qL(n))):o&&(t.opacity=Mt(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let c=0;c<YL;c++){const d=`border${HN[c]}Radius`;let f=lw(e,d),m=lw(s,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||ow(f)===ow(m)?(t[d]=Math.max(Mt(rw(f),rw(m),n),0),(Fn.test(m)||Fn.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||s.rotate)&&(t.rotate=Mt(e.rotate||0,s.rotate||0,n))}function lw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const IL=UN(0,.5,rN),qL=UN(.5,.95,Is);function UN(t,e,s){return n=>n<t?0:n>e?1:s(Co(t,e,n))}function cw(t,e){t.min=e.min,t.max=e.max}function cn(t,e){cw(t.x,e.x),cw(t.y,e.y)}function uw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function dw(t,e,s,n,a){return t-=e,t=ch(t,1/s,n),a!==void 0&&(t=ch(t,1/a,n)),t}function GL(t,e=0,s=1,n=.5,a,o=t,c=t){if(Fn.test(e)&&(e=parseFloat(e),e=Mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Mt(o.min,o.max,n);t===o&&(d-=e),t.min=dw(t.min,e,s,d,a),t.max=dw(t.max,e,s,d,a)}function hw(t,e,[s,n,a],o,c){GL(t,e[s],e[n],e[a],e.scale,o,c)}const $L=["x","scaleX","originX"],XL=["y","scaleY","originY"];function fw(t,e,s,n){hw(t.x,e,$L,s?s.x:void 0,n?n.x:void 0),hw(t.y,e,XL,s?s.y:void 0,n?n.y:void 0)}function mw(t){return t.translate===0&&t.scale===1}function YN(t){return mw(t.x)&&mw(t.y)}function pw(t,e){return t.min===e.min&&t.max===e.max}function KL(t,e){return pw(t.x,e.x)&&pw(t.y,e.y)}function gw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WN(t,e){return gw(t.x,e.x)&&gw(t.y,e.y)}function xw(t){return qs(t.x)/qs(t.y)}function yw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZL{constructor(){this.members=[]}add(e){Hx(this.members,e),e.scheduleRender()}remove(e){if(Ux(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QL(t,e,s){let n="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=s?.z||0;if((a||o||c)&&(n=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:m,rotate:g,rotateX:x,rotateY:b,skewX:v,skewY:w}=s;m&&(n=`perspective(${m}px) ${n}`),g&&(n+=`rotate(${g}deg) `),x&&(n+=`rotateX(${x}deg) `),b&&(n+=`rotateY(${b}deg) `),v&&(n+=`skewX(${v}deg) `),w&&(n+=`skewY(${w}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(n+=`scale(${d}, ${f})`),n||"none"}const dr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},nc=typeof window<"u"&&window.MotionDebug!==void 0,zp=["","X","Y","Z"],JL={visibility:"hidden"},bw=1e3;let e8=0;function Pp(t,e,s,n){const{latestValues:a}=e;a[t]&&(s[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function IN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Jj(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",vt,!(a||o))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&IN(n)}function qN({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=e8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nc&&(dr.totalNodes=dr.resolvedTargetDeltas=dr.recalculatedProjection=0),this.nodes.forEach(n8),this.nodes.forEach(l8),this.nodes.forEach(c8),this.nodes.forEach(i8),nc&&window.MotionDebug.record(dr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new HL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Yx),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VL(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=UL(b,250),Rd.hasAnimatedSinceResize&&(Rd.hasAnimatedSinceResize=!1,this.nodes.forEach(_w))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||m8,{onLayoutAnimationStart:j,onLayoutAnimationComplete:M}=g.getProps(),T=!this.targetLayout||!WN(this.targetLayout,w)||v,E=!b&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||b&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,E);const O={...Px(S,"layout"),onPlay:j,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else b||_w(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u8),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vw);return}this.isUpdating||this.nodes.forEach(r8),this.isUpdating=!1,this.nodes.forEach(o8),this.nodes.forEach(t8),this.nodes.forEach(s8),this.clearAllSnapshots();const d=Hn.now();ds.delta=Ai(0,1e3/60,d-ds.timestamp),ds.timestamp=d,ds.isProcessing=!0,Mp.update.process(ds),Mp.preRender.process(ds),Mp.render.process(ds),ds.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a8),this.sharedNodes.forEach(d8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const f=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!YN(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(d||ur(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),p8(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return Pt();const f=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(g8))){const{scroll:g}=this.root;g&&(yo(f.x,g.offset.x),yo(f.y,g.offset.y))}return f}removeElementScroll(c){var d;const f=Pt();if(cn(f,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:x,options:b}=g;g!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&cn(f,c),yo(f.x,x.offset.x),yo(f.y,x.offset.y))}return f}applyTransform(c,d=!1){const f=Pt();cn(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&bo(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ur(g.latestValues)&&bo(f,g.latestValues)}return ur(this.latestValues)&&bo(f,this.latestValues),f}removeTransform(c){const d=Pt();cn(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!ur(m.latestValues))continue;Dg(m.latestValues)&&m.updateSnapshot();const g=Pt(),x=m.measurePageBox();cn(g,x),fw(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return ur(this.latestValues)&&fw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ds.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=ds.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),mc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),PN(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),mc(this.relativeTargetOrigin,this.target,v.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nc&&dr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Dg(this.parent.latestValues)||zN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===ds.timestamp&&(m=!1),m)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;cn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;TL(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Pt());const{target:w}=d;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uw(this.prevProjectionDelta.x,this.projectionDelta.x),uw(this.prevProjectionDelta.y,this.projectionDelta.y)),fc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!yw(this.projectionDelta.x,this.prevProjectionDelta.x)||!yw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),nc&&dr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xo(),this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},x=xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Pt(),v=f?f.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,j=this.getStack(),M=!j||j.members.length<=1,T=!!(S&&!M&&this.options.crossfade===!0&&!this.path.some(f8));this.animationProgress=0;let E;this.mixTargetDelta=O=>{const L=O/1e3;ww(x.x,c.x,L),ww(x.y,c.y,L),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h8(this.relativeTarget,this.relativeTargetOrigin,b,L),E&&KL(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Pt()),cn(E,this.relativeTarget)),S&&(this.animationValues=g,WL(g,m,this.latestValues,L,T,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{Rd.hasAnimatedSinceResize=!0,this.currentAnimation=BL(0,bw,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:g}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&GN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Pt();const x=qs(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const b=qs(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}cn(d,f),bo(d,g),fc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new ZL),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Pp("z",c,m,this.animationValues);for(let g=0;g<zp.length;g++)Pp(`rotate${zp[g]}`,c,m,this.animationValues),Pp(`skew${zp[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return JL;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Ed(c?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Ed(c?.pointerEvents)||""),this.hasProjected&&!ur(this.latestValues)&&(S.transform=g?g({},""):"none",this.hasProjected=!1),S}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=QL(this.projectionDeltaWithTransform,this.treeScale,b),g&&(m.transform=g(b,m.transform));const{x:v,y:w}=this.projectionDelta;m.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,x.animationValues?m.opacity=x===this?(f=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const S in ih){if(b[S]===void 0)continue;const{correct:j,applyTo:M}=ih[S],T=m.transform==="none"?b[S]:j(b[S],x);if(M){const E=M.length;for(let O=0;O<E;O++)m[M[O]]=T}else m[S]=T}return this.options.layoutId&&(m.pointerEvents=x===this?Ed(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(vw),this.root.sharedNodes.clear()}}}function t8(t){t.updateLayout()}function s8(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:o}=t.options,c=s.source!==t.layout.source;o==="size"?dn(x=>{const b=c?s.measuredBox[x]:s.layoutBox[x],v=qs(b);b.min=n[x].min,b.max=b.min+v}):GN(o,s.layoutBox,n)&&dn(x=>{const b=c?s.measuredBox[x]:s.layoutBox[x],v=qs(n[x]);b.max=b.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+v)});const d=xo();fc(d,n,s.layoutBox);const f=xo();c?fc(f,t.applyTransform(a,!0),s.measuredBox):fc(f,n,s.layoutBox);const m=!YN(d);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:v}=x;if(b&&v){const w=Pt();mc(w,s.layoutBox,b.layoutBox);const S=Pt();mc(S,n,v.layoutBox),WN(w,S)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function n8(t){nc&&dr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function i8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function a8(t){t.clearSnapshot()}function vw(t){t.clearMeasurements()}function r8(t){t.isLayoutDirty=!1}function o8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _w(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function l8(t){t.resolveTargetDelta()}function c8(t){t.calcProjection()}function u8(t){t.resetSkewAndRotation()}function d8(t){t.removeLeadSnapshot()}function ww(t,e,s){t.translate=Mt(e.translate,0,s),t.scale=Mt(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Sw(t,e,s,n){t.min=Mt(e.min,s.min,n),t.max=Mt(e.max,s.max,n)}function h8(t,e,s,n){Sw(t.x,e.x,s.x,n),Sw(t.y,e.y,s.y,n)}function f8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const m8={duration:.45,ease:[.4,0,.1,1]},jw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Nw=jw("applewebkit/")&&!jw("chrome/")?Math.round:Is;function kw(t){t.min=Nw(t.min),t.max=Nw(t.max)}function p8(t){kw(t.x),kw(t.y)}function GN(t,e,s){return t==="position"||t==="preserve-aspect"&&!yL(xw(e),xw(s),.2)}function g8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const x8=qN({attachResizeListener:(t,e)=>Cc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bp={current:void 0},$N=qN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bp.current){const t=new x8({});t.mount(window),t.setOptions({layoutScroll:!0}),Bp.current=t}return Bp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),y8={pan:{Feature:RL},drag:{Feature:OL,ProjectionNode:$N,MeasureLayout:FN}};function Mw(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,o=n[a];o&&vt.postRender(()=>o(e,Yc(e)))}class b8 extends Oa{mount(){const{current:e}=this.node;e&&(this.unmount=yR(e,s=>(Mw(this.node,s,"Start"),n=>Mw(this.node,n,"End"))))}unmount(){}}class v8 extends Oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uc(Cc(this.node.current,"focus",()=>this.onFocus()),Cc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tw(t,e,s){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),o=n[a];o&&vt.postRender(()=>o(e,Yc(e)))}class _8 extends Oa{mount(){const{current:e}=this.node;e&&(this.unmount=wR(e,s=>(Tw(this.node,s,"Start"),(n,{success:a})=>Tw(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ag=new WeakMap,Vp=new WeakMap,w8=t=>{const e=Ag.get(t.target);e&&e(t)},S8=t=>{t.forEach(w8)};function j8({root:t,...e}){const s=t||document;Vp.has(s)||Vp.set(s,{});const n=Vp.get(s),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(S8,{root:t,...e})),n[a]}function N8(t,e,s){const n=j8(e);return Ag.set(t,s),n.observe(t),()=>{Ag.delete(t),n.unobserve(t)}}const k8={some:0,all:1};class M8 extends Oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:o}=e,c={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:k8[a]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),b=m?g:x;b&&b(f)};return N8(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(T8(e,s))&&this.startObserver()}unmount(){}}function T8({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const D8={inView:{Feature:M8},tap:{Feature:_8},focus:{Feature:v8},hover:{Feature:b8}},C8={layout:{ProjectionNode:$N,MeasureLayout:FN}},Eg={current:null},XN={current:!1};function A8(){if(XN.current=!0,!!wx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Eg.current=t.matches;t.addListener(e),e()}else Eg.current=!1}const E8=[...vN,ms,Da],O8=t=>E8.find(bN(t)),Dw=new WeakMap;function R8(t,e,s){for(const n in e){const a=e[n],o=s[n];if(xs(a))t.addValue(n,a);else if(xs(o))t.addValue(n,Tc(a,{owner:t}));else if(o!==a)if(t.hasValue(n)){const c=t.getValue(n);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(n);t.addValue(n,Tc(c!==void 0?c:a,{owner:t}))}}for(const n in s)e[n]===void 0&&t.removeValue(n);return e}const Cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class L8{scrapeMotionValuesFromProps(e,s,n){return{}}constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Hn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,vt.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=s.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Ah(s),this.isVariantNode=Tj(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in b){const w=b[v];f[v]!==void 0&&xs(w)&&w.set(f[v],!1)}}mount(e){this.current=e,Dw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),XN.current||A8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Eg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Dw.delete(this.current),this.projection&&this.projection.unmount(),Ta(this.notifyUpdate),Ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=wr.has(e),a=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&vt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ao){const s=Ao[e];if(!s)continue;const{isEnabled:n,Feature:a}=s;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Cw.length;n++){const a=Cw[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=R8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const n=this.values.get(e);s!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=Tc(s===null?void 0:s,{owner:this}),this.addValue(e,n)),n}readValue(e,s){var n;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(xN(a)||lN(a))?a=parseFloat(a):!O8(a)&&Da.test(s)&&(a=mN(e,s)),this.setBaseTarget(e,xs(a)?a.get():a)),xs(a)?a.get():a}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=Dx(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);c&&(a=c[e])}if(n&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!xs(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Yx),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class KN extends L8{constructor(){super(...arguments),this.KeyframeResolver=_N}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xs(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function z8(t){return window.getComputedStyle(t)}class P8 extends KN{constructor(){super(...arguments),this.type="html",this.renderInstance=Pj}readValueFromInstance(e,s){if(wr.has(s)){const n=$x(s);return n&&n.default||0}else{const n=z8(e),a=(Rj(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return BN(e,s)}build(e,s,n){Ex(e,s,n.transformTemplate)}scrapeMotionValuesFromProps(e,s,n){return zx(e,s,n)}}class B8 extends KN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(wr.has(s)){const n=$x(s);return n&&n.default||0}return s=Bj.has(s)?s:kx(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,n){return Hj(e,s,n)}build(e,s,n){Ox(e,s,this.isSVGTag,n.transformTemplate)}renderInstance(e,s,n,a){Vj(e,s,n,a)}mount(e){this.isSVGTag=Lx(e.tagName),super.mount(e)}}const V8=(t,e)=>Tx(t)?new B8(e):new P8(e,{allowProjection:t!==N.Fragment}),F8=dR({...cL,...D8,...y8,...C8},V8),da=kO(F8);function H8(){const[t,e]=N.useState(null),[s,n]=N.useState(!1),[a,o]=N.useState(!1),[c,d]=N.useState(null),[f,m]=N.useState(!0),[g,x]=N.useState(null),b=N.useCallback(async()=>{if(c){n(!0),o(!1);try{const j=await he.getAdvice();j&&typeof j=="object"&&"status"in j&&j.status==="disabled"?(d(!1),e(null)):e(j.advice??null)}catch(j){console.error(j),o(!0)}finally{n(!1)}}},[c]),v=N.useCallback(async()=>{n(!0),o(!1);try{const j=await he.analystRun();x(j)}catch(j){console.error("Failed to fetch analyst summary:",j),o(!0)}finally{n(!1)}},[]);N.useEffect(()=>{he.config().then(j=>{const M=j.advisor||{},T=M.enable_llm!==!1,E=M.auto_fetch!==!1;d(T),m(E),T&&E&&b(),T||v()}).catch(j=>{console.error("Failed to load advisor config:",j),d(!1)})},[b,v]);const w=!!c&&!s,S=async()=>{const j=!f;m(j);try{await he.configSave({advisor:{auto_fetch:j}}),j&&c&&!t&&b()}catch(M){console.error("Failed to update advisor auto_fetch setting:",M)}};return u.jsxs(Ee,{className:"h-full p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[u.jsx(mS,{className:"h-4 w-4 text-accent"}),u.jsx("span",{children:"Aurora Advisor"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[c&&u.jsx("button",{onClick:S,className:`rounded-pill px-2 py-1 text-[10px] font-medium transition ${f?"bg-accent text-canvas border border-accent":"bg-surface border border-line/60 text-muted hover:border-accent hover:text-accent"}`,title:f?"Disable auto-fetch (advisor runs only on manual request)":"Enable auto-fetch when the plan changes",children:""}),c!==null&&u.jsx("button",{onClick:b,disabled:!w,className:"text-[10px] text-muted hover:text-text transition-colors p-1 disabled:opacity-40",title:c?"Fetch latest advice":"Enable LLM advice in Settings",children:u.jsx(fS,{className:`h-4 w-4 ${s?"animate-spin":""}`})})]})]}),u.jsxs("div",{className:"text-[11px] text-text leading-relaxed",children:[c===!1&&u.jsxs(u.Fragment,{children:[s&&u.jsx("span",{className:"animate-pulse",children:"Analyzing schedule (offline)"}),!s&&a&&u.jsx("span",{className:"text-red-400",children:"Unable to analyze schedule. Check backend logs for details."}),!s&&!a&&g&&g.recommendations&&u.jsx("div",{className:"space-y-2",children:Object.entries(g.recommendations).slice(0,3).map(([j,M])=>{const T=M??{},E=T.label||j,O=T.best_grid_window||{},L=T.best_solar_window||{},C=I=>I&&I.length>=16?I.slice(11,16):"",A=O.start&&O.end?`${C(O.start)}${C(O.end)} (${O.avg_price?.toFixed?.(2)??""} SEK/kWh)`:null,z=L.start&&L.end?`${C(L.start)}${C(L.end)} (${L.avg_pv_surplus?.toFixed?.(2)??""} kW surplus)`:null;return u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("div",{className:"font-medium",children:E}),u.jsxs("div",{className:"flex flex-wrap gap-3 text-[10px] text-muted",children:[A&&u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(ki,{className:"h-3 w-3 text-accent"}),u.jsxs("span",{children:["Grid: ",A]})]}),z&&u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(pS,{className:"h-3 w-3 text-accent"}),u.jsxs("span",{children:["Solar: ",z]})]})]})]},j)})}),!s&&!a&&(!g||!g.recommendations)&&u.jsx("span",{className:"text-muted",children:"No appliance recommendations available. Configure appliances in Settings to see suggested run windows."})]}),c===!0&&u.jsxs(u.Fragment,{children:[s&&u.jsx("span",{className:"animate-pulse",children:"Analyzing schedule..."}),!s&&a&&u.jsx("span",{className:"text-red-400",children:"Unable to fetch advice. Check AI settings or try again."}),!s&&!a&&!t&&!f&&u.jsx("span",{className:"text-muted",children:"Click the refresh icon to analyze your current schedule."}),!s&&!a&&t&&u.jsx("span",{children:t})]}),c===null&&!s&&!a&&u.jsx("span",{className:"text-muted",children:"Loading advisor settings"})]})]})}const Aw=({value:t,total:e,colorClass:s})=>{const n=e>0?Math.min(100,t/e*100):0;return u.jsx("div",{className:"h-1.5 w-full bg-surface2 rounded-full overflow-hidden flex",children:u.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${s}`,style:{width:`${n}%`}})})};function U8({netCost:t,importKwh:e,exportKwh:s,exportGuard:n}){const a=(t??0)<=0;return u.jsxs(Ee,{className:"p-4 flex flex-col justify-between h-full relative overflow-hidden group",children:[u.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${a?"bg-emerald-500":"bg-red-500"}`}),u.jsxs("div",{className:"flex items-center gap-2 mb-3 relative z-10",children:[u.jsx("div",{className:`p-1.5 rounded-lg ${a?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:u.jsx(uS,{className:"h-4 w-4"})}),u.jsx("span",{className:"text-sm font-medium text-text",children:"Grid & Financial"}),n&&u.jsx("span",{className:"ml-auto text-[9px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded border border-emerald-500/20 animate-pulse",children:"Guard"})]}),u.jsxs("div",{className:"mb-4 relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-0.5",children:"Net Daily Cost"}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:`text-2xl font-bold ${a?"text-emerald-400":"text-red-400"}`,children:t!=null?Math.abs(t).toFixed(2):""}),u.jsx("span",{className:"text-xs text-muted",children:"kr"}),t!==null&&u.jsx("span",{className:`text-[10px] ml-2 px-1.5 py-0.5 rounded ${a?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:t>0?"COST":"EARNING"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto relative z-10",children:[u.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-red-300 mb-1",children:[u.jsx(Kg,{className:"h-3 w-3"}),u.jsx("span",{className:"text-[10px]",children:"Import"})]}),u.jsxs("div",{className:"text-lg font-semibold text-text",children:[e?.toFixed(1)??""," ",u.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]}),u.jsxs("div",{className:"p-2 rounded-lg bg-surface2/40 border border-line/30",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-300 mb-1",children:[u.jsx(Zg,{className:"h-3 w-3"}),u.jsx("span",{className:"text-[10px]",children:"Export"})]}),u.jsxs("div",{className:"text-lg font-semibold text-text",children:[s?.toFixed(1)??""," ",u.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function Y8({pvActual:t,pvForecast:e,loadActual:s,loadAvg:n,waterKwh:a,batteryCapacity:o}){return u.jsxs(Ee,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.01]"}),u.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[u.jsx("div",{className:"p-1.5 rounded-lg bg-amber-500/10 text-amber-400",children:u.jsx(ki,{className:"h-4 w-4"})}),u.jsx("span",{className:"text-sm font-medium text-text",children:"Energy Resources"}),o!=null&&o>0&&u.jsxs("span",{className:"ml-auto text-[9px] text-muted opacity-60",children:[o," kWh Cap"]})]}),u.jsxs("div",{className:"space-y-4 relative z-10",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-amber-300",children:[u.jsx(ex,{className:"h-3 w-3"}),u.jsx("span",{children:"Solar Production"})]}),u.jsxs("div",{className:"text-[10px] text-muted",children:[u.jsx("span",{className:"text-text font-medium",children:t?.toFixed(1)??""}),u.jsx("span",{className:"mx-1",children:"/"}),e?.toFixed(1)??""," kWh"]})]}),u.jsx(Aw,{value:t??0,total:e??1,colorClass:"bg-amber-400"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-purple-300",children:[u.jsx(yc,{className:"h-3 w-3"}),u.jsx("span",{children:"House Load"})]}),u.jsxs("div",{className:"text-[10px] text-muted",children:[u.jsx("span",{className:"text-text font-medium",children:s?.toFixed(1)??""}),u.jsx("span",{className:"mx-1",children:"/"}),n?.toFixed(1)??""," kWh"]})]}),u.jsx(Aw,{value:s??0,total:n??1,colorClass:"bg-purple-400"})]}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-line/30",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-sky-300",children:[u.jsx(dS,{className:"h-3 w-3"}),u.jsx("span",{children:"Water Heating"})]}),u.jsxs("div",{className:"text-sm font-medium text-text",children:[a?.toFixed(1)??""," ",u.jsx("span",{className:"text-[10px] text-muted font-normal",children:"kWh"})]})]})]})]})}function W8({soc:t,socTarget:e,sIndex:s,cycles:n,riskLabel:a}){return u.jsxs(Ee,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-blue-500/[0.01]"}),u.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[u.jsx("div",{className:"p-1.5 rounded-lg bg-blue-500/10 text-blue-400",children:u.jsx(Id,{className:"h-4 w-4"})}),u.jsx("span",{className:"text-sm font-medium text-text",children:"Battery & Strategy"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:[u.jsxs("div",{className:"col-span-2 flex items-center gap-3 p-3 rounded-xl bg-surface2/30 border border-line/30",children:[u.jsx(oS,{className:`h-8 w-8 ${(t??0)>50?"text-emerald-400":(t??0)>20?"text-amber-400":"text-red-400"}`}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-2xl font-bold text-text",children:[t?.toFixed(0)??"","%"]}),u.jsx("div",{className:"text-[10px] text-muted",children:e!=null?`Targeting ${e.toFixed(0)}%`:"Current SoC"})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"S-Index"}),u.jsx("div",{className:"text-lg font-semibold text-text",children:s?`x${s.toFixed(2)}`:""}),u.jsx("div",{className:"text-[10px] text-blue-300/80",children:"Strategy Factor"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider mb-1",children:"Cycles"}),u.jsx("div",{className:"text-lg font-semibold text-text",children:n?.toFixed(1)??""}),u.jsx("div",{className:"text-[10px] text-muted",children:a||"Daily usage"})]})]})]})}function I8({comfortLevel:t,setComfortLevel:e,riskAppetite:s,setRiskAppetite:n,vacationMode:a,onWaterBoost:o,onBatteryTopUp:c}){return u.jsxs(Ee,{className:"p-4 flex flex-col h-full relative overflow-hidden",children:[u.jsx("div",{className:"absolute left-[19px] top-6 bottom-6 w-[1px] bg-line/30 z-0"}),u.jsxs("div",{className:"space-y-3 relative z-10",children:[u.jsxs("div",{className:"bg-surface2/30 rounded-xl p-3 border border-line/50 relative overflow-hidden group",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-blue-500/50 to-purple-500/50"}),u.jsxs("div",{className:"flex justify-between items-baseline mb-2 pl-3",children:[u.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[u.jsx("span",{children:"Market Strategy"}),u.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-colors ${s>3?"bg-purple-400 shadow-[0_0_5px_rgba(192,132,252,0.8)]":s<2?"bg-emerald-400":"bg-blue-400"}`})]}),u.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[s]||"Unknown"})]}),u.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(d=>{const f={1:"bg-emerald-500/20 text-emerald-300 border-emerald-500/40 shadow-[0_0_10px_rgba(16,185,129,0.2)]",2:"bg-teal-500/20 text-teal-300 border-teal-500/40 shadow-[0_0_10px_rgba(20,184,166,0.2)]",3:"bg-blue-500/20 text-blue-300 border-blue-500/40 shadow-[0_0_10px_rgba(59,130,246,0.2)]",4:"bg-amber-500/20 text-amber-300 border-amber-500/40 shadow-[0_0_10px_rgba(245,158,11,0.2)]",5:"bg-purple-500/20 text-purple-300 border-purple-500/40 shadow-[0_0_10px_rgba(168,85,247,0.2)]"},m=s===d;return u.jsx("button",{onClick:()=>n(d),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${f[d]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:d},d)})})]}),u.jsxs("div",{className:"bg-surface2/30 rounded-xl p-3 border border-line/50 relative overflow-hidden",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500/50 to-red-500/50"}),u.jsxs("div",{className:"flex justify-between items-center mb-2 pl-3",children:[u.jsxs("div",{className:"text-[10px] text-muted uppercase tracking-wider flex items-center gap-2",children:[u.jsx("span",{children:"Water Comfort"}),a&&u.jsx("span",{className:"text-[9px] text-amber-300 bg-amber-500/20 px-1.5 rounded animate-pulse",children:"Vacation"})]}),u.jsx("div",{className:"text-xs font-medium text-text",children:{1:"Economy",2:"Balanced",3:"Neutral",4:"Priority",5:"Maximum"}[t]||"Unknown"})]}),u.jsx("div",{className:"flex gap-1 h-8 pl-3",children:[1,2,3,4,5].map(d=>{const f={1:"bg-emerald-500/20 text-emerald-300 border-emerald-500/40 shadow-[0_0_10px_rgba(16,185,129,0.2)]",2:"bg-teal-500/20 text-teal-300 border-teal-500/40 shadow-[0_0_10px_rgba(20,184,166,0.2)]",3:"bg-blue-500/20 text-blue-300 border-blue-500/40 shadow-[0_0_10px_rgba(59,130,246,0.2)]",4:"bg-amber-500/20 text-amber-300 border-amber-500/40 shadow-[0_0_10px_rgba(245,158,11,0.2)]",5:"bg-red-500/20 text-red-300 border-red-500/40 shadow-[0_0_10px_rgba(239,68,68,0.2)]"},m=t===d;return u.jsx("button",{onClick:()=>e(d),className:`flex-1 rounded transition-all duration-300 border text-xs font-medium ${m?`${f[d]} ring-1 ring-inset ring-white/5`:"bg-surface2/50 text-muted hover:bg-surface2 hover:text-text border-transparent hover:border-line/50"}`,children:d},d)})})]}),u.jsxs("div",{className:"bg-surface2/30 rounded-xl p-2 border border-line/50 flex gap-2 relative",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-line/50"}),u.jsxs("button",{onClick:o,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group ml-3",children:[u.jsx("div",{className:"p-1 rounded-full bg-orange-500/10 text-orange-400 group-hover:bg-orange-500/20 transition-colors",children:u.jsx(Qg,{className:"h-3.5 w-3.5"})}),u.jsx("span",{className:"text-[10px] font-medium text-text",children:"Boost Water (1h)"})]}),u.jsxs("button",{onClick:c,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-surface hover:bg-surface2 border border-line/30 transition-all group",children:[u.jsx("div",{className:"p-1 rounded-full bg-emerald-500/10 text-emerald-400 group-hover:bg-emerald-500/20 transition-colors",children:u.jsx(eg,{className:"h-3.5 w-3.5"})}),u.jsx("span",{className:"text-[10px] font-medium text-text",children:"Top Up 50%"})]})]})]})]})}const Yn=Object.create(null);Yn.open="0";Yn.close="1";Yn.ping="2";Yn.pong="3";Yn.message="4";Yn.upgrade="5";Yn.noop="6";const Ld=Object.create(null);Object.keys(Yn).forEach(t=>{Ld[Yn[t]]=t});const Og={type:"error",data:"parser error"},ZN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",QN=typeof ArrayBuffer=="function",JN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Jx=({type:t,data:e},s,n)=>ZN&&e instanceof Blob?s?n(e):Ew(e,n):QN&&(e instanceof ArrayBuffer||JN(e))?s?n(e):Ew(new Blob([e]),n):n(Yn[t]+(e||"")),Ew=(t,e)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];e("b"+(n||""))},s.readAsDataURL(t)};function Ow(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Fp;function q8(t,e){if(ZN&&t.data instanceof Blob)return t.data.arrayBuffer().then(Ow).then(e);if(QN&&(t.data instanceof ArrayBuffer||JN(t.data)))return e(Ow(t.data));Jx(t,!1,s=>{Fp||(Fp=new TextEncoder),e(Fp.encode(s))})}const Rw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ic=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Rw.length;t++)ic[Rw.charCodeAt(t)]=t;const G8=t=>{let e=t.length*.75,s=t.length,n,a=0,o,c,d,f;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const m=new ArrayBuffer(e),g=new Uint8Array(m);for(n=0;n<s;n+=4)o=ic[t.charCodeAt(n)],c=ic[t.charCodeAt(n+1)],d=ic[t.charCodeAt(n+2)],f=ic[t.charCodeAt(n+3)],g[a++]=o<<2|c>>4,g[a++]=(c&15)<<4|d>>2,g[a++]=(d&3)<<6|f&63;return m},$8=typeof ArrayBuffer=="function",e0=(t,e)=>{if(typeof t!="string")return{type:"message",data:ek(t,e)};const s=t.charAt(0);return s==="b"?{type:"message",data:X8(t.substring(1),e)}:Ld[s]?t.length>1?{type:Ld[s],data:t.substring(1)}:{type:Ld[s]}:Og},X8=(t,e)=>{if($8){const s=G8(t);return ek(s,e)}else return{base64:!0,data:t}},ek=(t,e)=>e==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,tk="",K8=(t,e)=>{const s=t.length,n=new Array(s);let a=0;t.forEach((o,c)=>{Jx(o,!1,d=>{n[c]=d,++a===s&&e(n.join(tk))})})},Z8=(t,e)=>{const s=t.split(tk),n=[];for(let a=0;a<s.length;a++){const o=e0(s[a],e);if(n.push(o),o.type==="error")break}return n};function Q8(){return new TransformStream({transform(t,e){q8(t,s=>{const n=s.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(s)})}})}let Hp;function jd(t){return t.reduce((e,s)=>e+s.length,0)}function Nd(t,e){if(t[0].length===e)return t.shift();const s=new Uint8Array(e);let n=0;for(let a=0;a<e;a++)s[a]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),s}function J8(t,e){Hp||(Hp=new TextDecoder);const s=[];let n=0,a=-1,o=!1;return new TransformStream({transform(c,d){for(s.push(c);;){if(n===0){if(jd(s)<1)break;const f=Nd(s,1);o=(f[0]&128)===128,a=f[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(jd(s)<2)break;const f=Nd(s,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),n=3}else if(n===2){if(jd(s)<8)break;const f=Nd(s,8),m=new DataView(f.buffer,f.byteOffset,f.length),g=m.getUint32(0);if(g>Math.pow(2,21)-1){d.enqueue(Og);break}a=g*Math.pow(2,32)+m.getUint32(4),n=3}else{if(jd(s)<a)break;const f=Nd(s,a);d.enqueue(e0(o?f:Hp.decode(f),e)),n=0}if(a===0||a>t){d.enqueue(Og);break}}}})}const sk=4;function Gt(t){if(t)return ez(t)}function ez(t){for(var e in Gt.prototype)t[e]=Gt.prototype[e];return t}Gt.prototype.on=Gt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Gt.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this};Gt.prototype.off=Gt.prototype.removeListener=Gt.prototype.removeAllListeners=Gt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<s.length;a++)if(n=s[a],n===e||n.fn===e){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+t],this};Gt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,a=s.length;n<a;++n)s[n].apply(this,e)}return this};Gt.prototype.emitReserved=Gt.prototype.emit;Gt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Gt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Rh=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,s)=>s(e,0),hn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),tz="arraybuffer";function nk(t,...e){return e.reduce((s,n)=>(t.hasOwnProperty(n)&&(s[n]=t[n]),s),{})}const sz=hn.setTimeout,nz=hn.clearTimeout;function Lh(t,e){e.useNativeTimers?(t.setTimeoutFn=sz.bind(hn),t.clearTimeoutFn=nz.bind(hn)):(t.setTimeoutFn=hn.setTimeout.bind(hn),t.clearTimeoutFn=hn.clearTimeout.bind(hn))}const iz=1.33;function az(t){return typeof t=="string"?rz(t):Math.ceil((t.byteLength||t.size)*iz)}function rz(t){let e=0,s=0;for(let n=0,a=t.length;n<a;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}function ik(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oz(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}function lz(t){let e={},s=t.split("&");for(let n=0,a=s.length;n<a;n++){let o=s[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class cz extends Error{constructor(e,s,n){super(e),this.description=s,this.context=n,this.type="TransportError"}}class t0 extends Gt{constructor(e){super(),this.writable=!1,Lh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,s,n){return super.emitReserved("error",new cz(e,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const s=e0(e,this.socket.binaryType);this.onPacket(s)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,s={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const s=oz(e);return s.length?"?"+s:""}}class uz extends t0{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const s=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Z8(e,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,K8(e,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=ik()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(e,s)}}let ak=!1;try{ak=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const dz=ak;function hz(){}class fz extends uz{constructor(e){if(super(e),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,s){const n=this.request({method:"POST",data:e});n.on("success",s),n.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=e}}class Un extends Gt{constructor(e,s,n){super(),this.createRequest=e,Lh(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const s=nk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Un.requestsCount++,Un.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=hz,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Un.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Un.requestsCount=0;Un.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Lw);else if(typeof addEventListener=="function"){const t="onpagehide"in hn?"pagehide":"unload";addEventListener(t,Lw,!1)}}function Lw(){for(let t in Un.requests)Un.requests.hasOwnProperty(t)&&Un.requests[t].abort()}const mz=(function(){const t=rk({xdomain:!1});return t&&t.responseType!==null})();class pz extends fz{constructor(e){super(e);const s=e&&e.forceBase64;this.supportsBinary=mz&&!s}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Un(rk,this.uri(),e)}}function rk(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||dz))return new XMLHttpRequest}catch{}if(!e)try{return new hn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ok=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class gz extends t0{get name(){return"websocket"}doOpen(){const e=this.uri(),s=this.opts.protocols,n=ok?{}:nk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,s,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],a=s===e.length-1;Jx(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}a&&Rh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=ik()),this.supportsBinary||(s.b64=1),this.createUri(e,s)}}const Up=hn.WebSocket||hn.MozWebSocket;class xz extends gz{createSocket(e,s,n){return ok?new Up(e,s,n):s?new Up(e,s):new Up(e)}doWrite(e,s){this.ws.send(s)}}class yz extends t0{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const s=J8(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(s).getReader(),a=Q8();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const o=()=>{n.read().then(({done:d,value:f})=>{d||(this.onPacket(f),o())}).catch(d=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],a=s===e.length-1;this._writer.write(n).then(()=>{a&&Rh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const bz={websocket:xz,webtransport:yz,polling:pz},vz=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_z=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Rg(t){if(t.length>8e3)throw"URI too long";const e=t,s=t.indexOf("["),n=t.indexOf("]");s!=-1&&n!=-1&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let a=vz.exec(t||""),o={},c=14;for(;c--;)o[_z[c]]=a[c]||"";return s!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=wz(o,o.path),o.queryKey=Sz(o,o.query),o}function wz(t,e){const s=/\/{2,9}/g,n=e.replace(s,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Sz(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,o){a&&(s[a]=o)}),s}const Lg=typeof addEventListener=="function"&&typeof removeEventListener=="function",zd=[];Lg&&addEventListener("offline",()=>{zd.forEach(t=>t())},!1);class ja extends Gt{constructor(e,s){if(super(),this.binaryType=tz,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(s=e,e=null),e){const n=Rg(e);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=Rg(s.host).host);Lh(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=lz(this.opts.query)),Lg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},zd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const s=Object.assign({},this.opts.query);s.EIO=sk,s.transport=e,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ja.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(e);s.open(),this.setTransport(s)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",ja.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=e.data,this._onError(s);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(s+=az(a)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Rh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,s,n){return this._sendPacket("message",e,s,n),this}send(e,s,n){return this._sendPacket("message",e,s,n),this}_sendPacket(e,s,n,a){if(typeof s=="function"&&(a=s,s=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:s,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),e()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ja.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Lg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=zd.indexOf(this._offlineEventListener);n!==-1&&zd.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,s),this.writeBuffer=[],this._prevBufferLen=0}}}ja.protocol=sk;class jz extends ja{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let s=this.createTransport(e),n=!1;ja.priorWebsocketSuccess=!1;const a=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",x=>{if(!n)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;ja.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(g(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=s.name,this.emitReserved("upgradeError",b)}}))};function o(){n||(n=!0,g(),s.close(),s=null)}const c=x=>{const b=new Error("probe error: "+x);b.transport=s.name,o(),this.emitReserved("upgradeError",b)};function d(){c("transport closed")}function f(){c("socket closed")}function m(x){s&&x.name!==s.name&&o()}const g=()=>{s.removeListener("open",a),s.removeListener("error",c),s.removeListener("close",d),this.off("close",f),this.off("upgrading",m)};s.once("open",a),s.once("error",c),s.once("close",d),this.once("close",f),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const s=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&s.push(e[n]);return s}}let Nz=class extends jz{constructor(e,s={}){const n=typeof e=="object"?e:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>bz[a]).filter(a=>!!a)),super(e,n)}};function kz(t,e="",s){let n=t;s=s||typeof location<"u"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s<"u"?t=s.protocol+"//"+t:t="https://"+t),n=Rg(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(s&&s.port===n.port?"":":"+n.port),n}const Mz=typeof ArrayBuffer=="function",Tz=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,lk=Object.prototype.toString,Dz=typeof Blob=="function"||typeof Blob<"u"&&lk.call(Blob)==="[object BlobConstructor]",Cz=typeof File=="function"||typeof File<"u"&&lk.call(File)==="[object FileConstructor]";function s0(t){return Mz&&(t instanceof ArrayBuffer||Tz(t))||Dz&&t instanceof Blob||Cz&&t instanceof File}function Pd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,n=t.length;s<n;s++)if(Pd(t[s]))return!0;return!1}if(s0(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Pd(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&Pd(t[s]))return!0;return!1}function Az(t){const e=[],s=t.data,n=t;return n.data=zg(s,e),n.attachments=e.length,{packet:n,buffers:e}}function zg(t,e){if(!t)return t;if(s0(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=zg(t[n],e);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=zg(t[n],e));return s}return t}function Ez(t,e){return t.data=Pg(t.data,e),delete t.attachments,t}function Pg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=Pg(t[s],e);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=Pg(t[s],e));return t}const ck=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Oz=5;var Pe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Pe||(Pe={}));class Rz{constructor(e){this.replacer=e}encode(e){return(e.type===Pe.EVENT||e.type===Pe.ACK)&&Pd(e)?this.encodeAsBinary({type:e.type===Pe.EVENT?Pe.BINARY_EVENT:Pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let s=""+e.type;return(e.type===Pe.BINARY_EVENT||e.type===Pe.BINARY_ACK)&&(s+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(s+=e.nsp+","),e.id!=null&&(s+=e.id),e.data!=null&&(s+=JSON.stringify(e.data,this.replacer)),s}encodeAsBinary(e){const s=Az(e),n=this.encodeAsString(s.packet),a=s.buffers;return a.unshift(n),a}}class n0 extends Gt{constructor(e){super(),this.reviver=e}add(e){let s;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(e);const n=s.type===Pe.BINARY_EVENT;n||s.type===Pe.BINARY_ACK?(s.type=n?Pe.EVENT:Pe.ACK,this.reconstructor=new Lz(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(s0(e)||e.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(e),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let s=0;const n={type:Number(e.charAt(0))};if(Pe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Pe.BINARY_EVENT||n.type===Pe.BINARY_ACK){const o=s+1;for(;e.charAt(++s)!=="-"&&s!=e.length;);const c=e.substring(o,s);if(c!=Number(c)||e.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(e.charAt(s+1)==="/"){const o=s+1;for(;++s&&!(e.charAt(s)===","||s===e.length););n.nsp=e.substring(o,s)}else n.nsp="/";const a=e.charAt(s+1);if(a!==""&&Number(a)==a){const o=s+1;for(;++s;){const c=e.charAt(s);if(c==null||Number(c)!=c){--s;break}if(s===e.length)break}n.id=Number(e.substring(o,s+1))}if(e.charAt(++s)){const o=this.tryParse(e.substr(s));if(n0.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,s){switch(e){case Pe.CONNECT:return uh(s);case Pe.DISCONNECT:return s===void 0;case Pe.CONNECT_ERROR:return typeof s=="string"||uh(s);case Pe.EVENT:case Pe.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&ck.indexOf(s[0])===-1);case Pe.ACK:case Pe.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Lz{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const s=Ez(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function zz(t){return typeof t=="string"}const Pz=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function Bz(t){return t===void 0||Pz(t)}function uh(t){return Object.prototype.toString.call(t)==="[object Object]"}function Vz(t,e){switch(t){case Pe.CONNECT:return e===void 0||uh(e);case Pe.DISCONNECT:return e===void 0;case Pe.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&ck.indexOf(e[0])===-1);case Pe.ACK:return Array.isArray(e);case Pe.CONNECT_ERROR:return typeof e=="string"||uh(e);default:return!1}}function Fz(t){return zz(t.nsp)&&Bz(t.id)&&Vz(t.type,t.data)}const Hz=Object.freeze(Object.defineProperty({__proto__:null,Decoder:n0,Encoder:Rz,get PacketType(){return Pe},isPacketValid:Fz,protocol:Oz},Symbol.toStringTag,{value:"Module"}));function _n(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const Uz=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class uk extends Gt{constructor(e,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[_n(e,"open",this.onopen.bind(this)),_n(e,"packet",this.onpacket.bind(this)),_n(e,"error",this.onerror.bind(this)),_n(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...s){var n,a,o;if(Uz.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const c={type:Pe.EVENT,data:s};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const g=this.ids++,x=s.pop();this._registerAckCallback(g,x),c.id=g}const d=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,f=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!d||(f?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(e,s){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[e]=s;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===e&&this.sendBuffer.splice(d,1);s.call(this,new Error("operation has timed out"))},a),c=(...d)=>{this.io.clearTimeoutFn(o),s.apply(this,d)};c.withError=!0,this.acks[e]=c}emitWithAck(e,...s){return new Promise((n,a)=>{const o=(c,d)=>c?a(c):n(d);o.withError=!0,s.push(o),this.emit(e,...s)})}_addToQueue(e){let s;typeof e[e.length-1]=="function"&&(s=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...o)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(a)):(this._queue.shift(),s&&s(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!e||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pe.EVENT:case Pe.BINARY_EVENT:this.onevent(e);break;case Pe.ACK:case Pe.BINARY_ACK:this.onack(e);break;case Pe.DISCONNECT:this.ondisconnect();break;case Pe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const s=e.data||[];e.id!=null&&s.push(this.ack(e.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const s=this;let n=!1;return function(...a){n||(n=!0,s.packet({type:Pe.ACK,id:e,data:a}))}}onack(e){const s=this.acks[e.id];typeof s=="function"&&(delete this.acks[e.id],s.withError&&e.data.unshift(null),s.apply(this,e.data))}onconnect(e,s){this.id=e,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,e.data)}}}function Ho(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ho.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-s:t+s}return Math.min(t,this.max)|0};Ho.prototype.reset=function(){this.attempts=0};Ho.prototype.setMin=function(t){this.ms=t};Ho.prototype.setMax=function(t){this.max=t};Ho.prototype.setJitter=function(t){this.jitter=t};class Bg extends Gt{constructor(e,s){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(s=e,e=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Lh(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ho({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=e;const a=s.parser||Hz;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var s;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(s=this.backoff)===null||s===void 0||s.setMin(e),this)}randomizationFactor(e){var s;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(s=this.backoff)===null||s===void 0||s.setJitter(e),this)}reconnectionDelayMax(e){var s;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(s=this.backoff)===null||s===void 0||s.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Nz(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=_n(s,"open",function(){n.onopen(),e&&e()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),e?e(d):this.maybeReconnectOnOpen()},c=_n(s,"error",o);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),s.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(_n(e,"ping",this.onping.bind(this)),_n(e,"data",this.ondata.bind(this)),_n(e,"error",this.onerror.bind(this)),_n(e,"close",this.onclose.bind(this)),_n(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(s){this.onclose("parse error",s)}}ondecoded(e){Rh(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,s){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new uk(this,e,s),this.nsps[e]=n),n}_destroy(e){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(e){const s=this.encoder.encode(e);for(let n=0;n<s.length;n++)this.engine.write(s[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Il={};function Bd(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const s=kz(t,e.path||"/socket.io"),n=s.source,a=s.id,o=s.path,c=Il[a]&&o in Il[a].nsps,d=e.forceNew||e["force new connection"]||e.multiplex===!1||c;let f;return d?f=new Bg(n,e):(Il[a]||(Il[a]=new Bg(n,e)),f=Il[a]),s.query&&!e.query&&(e.query=s.queryKey),f.socket(s.path,e)}Object.assign(Bd,{Manager:Bg,Socket:uk,io:Bd,connect:Bd});let uo=null;const Yz=()=>(uo||(uo=Bd({path:"/socket.io",autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),uo.on("connect",()=>{console.log(" Connected to Darkstar WebSocket")}),uo.on("disconnect",t=>{console.warn(" Disconnected from Darkstar WebSocket:",t)}),uo.on("connect_error",t=>{console.error(" WebSocket connection error:",t)})),uo),vo=(t,e)=>{N.useEffect(()=>{const s=Yz();return s.on(t,e),()=>{s.off(t,e)}},[t,e])};function zw(t){if(!t)return"";const e=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${e}-${s}-${n} ${a}:${o}`}function Wz(){const[t,e]=N.useState(null),[s,n]=N.useState(!1),[a,o]=N.useState(null),[c,d]=N.useState(0),[f,m]=N.useState(null),[g,x]=N.useState(null),[b,v]=N.useState(!1),[w,S]=N.useState(null),[j,M]=N.useState(null),[T,E]=N.useState(null),[O,L]=N.useState(null),[C,A]=N.useState(null),[z,I]=N.useState(null),[K,Z]=N.useState(null),[oe,De]=N.useState(null),[xe,_e]=N.useState(null),[F,G]=N.useState("local"),[ae,ne]=N.useState(0),[ce,R]=N.useState(null),[H,ee]=N.useState(0),[D,se]=N.useState(null),[fe,Ce]=N.useState(0),[ft,Xe]=N.useState(!1),[es,rs]=N.useState(!1),[me,st]=N.useState(""),[mt,$s]=N.useState(1),[gn,qe]=N.useState(!1),[$t,Tn]=N.useState([]);vo("live_metrics",pe=>{pe.soc!==void 0&&e(pe.soc)}),vo("plan_updated",()=>{console.log(" Plan updated! Refreshing data..."),vs()}),vo("executor_status",pe=>{A({shadow_mode:pe.shadow_mode??!1,paused:pe.paused??null})}),vo("ha_entity_change",pe=>{if(pe.entity_id===me){const Be=pe.state==="on";rs(Be)}}),N.useEffect(()=>{const pe=async()=>{try{const Be=await he.config();if(Be){const pt=Be.water_heating?.vacation_mode;Xe(pt?.enabled||!1)}}catch(Be){console.log("Failed to reload vacation mode:",Be)}};return window.addEventListener("config-updated",pe),()=>window.removeEventListener("config-updated",pe)},[]);const Gn=N.useCallback(pe=>{G(pe)},[]),Bi=N.useCallback(pe=>{if(!pe||pe.length===0){Tn([]);return}he.scheduleTodayWithHistory().then(Be=>{const pt=Be.slots??[],Rt=new Map;pt.forEach(ts=>{ts.start_time&&Rt.set(String(ts.start_time),ts)});const _s=pe.map(ts=>{const Ns=ts.start_time,ws=Ns?Rt.get(String(Ns)):void 0;if(!ws)return ts;const Ks={...ts};return ws.soc_actual_percent!=null&&(Ks.soc_actual_percent=ws.soc_actual_percent),ws.is_executed===!0&&(Ks.is_executed=!0),Ks});Tn(_s)}).catch(Be=>{console.error("Failed to merge history into server schedule:",Be),Tn(pe??[])}).finally(()=>{})},[]),vs=N.useCallback(async()=>{n(!0);let pe=!1;try{const[Be,pt,Rt,_s,ts,Ns,ws,Ks,Kn]=await Promise.allSettled([he.status(),he.config(),he.haAverage(),he.schedule(),he.haWaterToday(),he.schedulerStatus(),he.scheduleTodayWithHistory(),he.executor.status(),he.energyToday()]);if(Be.status==="fulfilled"){const je=Be.value;je.current_soc?.value!==void 0&&e(je.current_soc.value),je.local&&Z(je.local),je.db&&!("error"in je.db)&&De(je.db)}if(pt.status==="fulfilled"){const je=pt.value,ks=je.arbitrage||{};if(qe(ks.export_guard_enabled||!1),typeof ks.risk_appetite=="number"&&$s(ks.risk_appetite),je.system?.battery?.capacity_kwh!=null&&ne(je.system.battery.capacity_kwh),je.automation){const ss=je.automation;x({enable_scheduler:ss.enable_scheduler,write_to_mariadb:ss.write_to_mariadb,external_executor_mode:ss.external_executor_mode,every_minutes:ss.schedule?.every_minutes??null})}else x(null);je.water_heating&&(typeof je.water_heating.comfort_level=="number"&&Ce(je.water_heating.comfort_level),typeof je.water_heating.vacation_mode?.enabled=="boolean"&&Xe(je.water_heating.vacation_mode.enabled)),je.input_sensors?.vacation_mode&&(st(je.input_sensors.vacation_mode),he.haEntityState(je.input_sensors.vacation_mode).then(ss=>{const An=ss.state==="on";rs(An)}).catch(()=>{rs(!1)}))}else pe=!0,console.error("Failed to load config for Dashboard:",pt.reason);if(Rt.status==="fulfilled"){const je=Rt.value;R({kw:je.average_load_kw??0,dailyKwh:je.daily_kwh??0})}else pe=!0,console.error("Failed to load HA average for Dashboard:",Rt.reason);if(_s.status==="fulfilled"){const je=_s.value,ks=je.schedule??[];M(ks),je.meta?.last_error?L({message:je.meta.last_error,at:je.meta.last_error_at||""}):L(null);const ss=new Date,An=ks.find($=>{const J=new Date($.start_time||""),ue=new Date(J.getTime()+1800*1e3);return ss>=J&&ss<ue});An?.soc_target_percent!==void 0&&ee(An.soc_target_percent)}else pe=!0,console.error("Failed to load schedule for Dashboard:",_s.reason);if(ts.status==="fulfilled"){const je=ts.value;se({kwh:je.water_kwh_today??0,source:je.source??"unknown"})}else pe=!0,console.error("Failed to load water data for Dashboard:",ts.reason);if(Ns.status==="fulfilled"){const je=Ns.value;S({last_run_at:je.last_run_at??null,last_run_status:je.last_run_status??null,next_run_at:je.next_run_at??null})}else console.error("Failed to load scheduler status for Dashboard:",Ns.reason);if(ws.status==="fulfilled"){const ks=ws.value.slots??[];E(ks)}else console.error("Failed to load schedule history for Dashboard:",ws.reason);let Cn=0;if(ws.status==="fulfilled"&&ws.value.slots){const je=new Date;je.setHours(0,0,0,0),ws.value.slots.filter(ss=>new Date(ss.start_time)>=je).forEach(ss=>{Cn+=ss.pv_forecast_kwh??0})}if(Ks.status==="fulfilled"){const je=Ks.value;A({shadow_mode:je.shadow_mode??!1,paused:je.paused??null})}else console.error("Failed to load executor status for Dashboard:",Ks.reason);if(Kn.status==="fulfilled"){const je=Kn.value;I({gridImport:je.grid_import_kwh,gridExport:je.grid_export_kwh,batteryCycles:je.battery_cycles,pvProduction:je.pv_production_kwh,pvForecast:Math.round(Cn*10)/10,loadConsumption:je.load_consumption_kwh,netCost:je.net_cost_kr})}else console.error("Failed to load energy today for Dashboard:",Kn.reason);o(new Date)}catch(Be){console.error("Error fetching dashboard data:",Be),pe=!0}finally{n(!1),m(pe?"Some dashboard data failed to load.":null),d(Be=>Be+1)}},[]);N.useEffect(()=>{let pe=null;F==="server"?pe=oe:pe=K,_e(pe)},[F,K,oe]),N.useEffect(()=>{vs()},[vs]);const Ra=async()=>{if(b)return;const Be=!(g?.enable_scheduler??!1);v(!0);try{await he.configSave({automation:{enable_scheduler:Be}}),x(pt=>({enable_scheduler:Be,write_to_mariadb:pt?.write_to_mariadb,external_executor_mode:pt?.external_executor_mode,every_minutes:pt?.every_minutes??null}))}catch(pt){console.error("Failed to toggle planner automation:",pt)}finally{v(!1)}},[Ft,Vi]=N.useState(!1),[La,zs]=N.useState(null),$n=async()=>{Vi(!0),zs(null);try{const pe=await he.loadServerPlan();Bi(pe.schedule??[]),Gn("server"),zs({type:"success",message:"Plan loaded from DB"})}catch(pe){zs({type:"error",message:pe instanceof Error?pe.message:"Load failed"})}finally{Vi(!1),setTimeout(()=>zs(null),3e3)}},Xn=async()=>{Vi(!0),zs(null);try{await he.pushToDb(),zs({type:"success",message:"Plan pushed to DB"}),vs()}catch(pe){zs({type:"error",message:pe instanceof Error?pe.message:"Push failed"})}finally{Vi(!1),setTimeout(()=>zs(null),3e3)}};let js;if(F==="server"&&$t&&$t.length>0)js=$t;else if(F==="local"&&j&&j.length>0){const pe=j.filter(Be=>vx(Be.start_time)||sh(Be.start_time));if(T&&T.length>0){const Be=pe.filter(pt=>sh(pt.start_time));js=[...T,...Be]}else js=pe}const Fi=new Date;let jr=F==="server"?"Server Plan":"Local Plan";xe?.planned_at&&(jr=`Generated ${new Date(xe.planned_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`);let Xs="";if(js){const pe=js.find(Be=>{const pt=new Date(Be.start_time),Rt=new Date(pt.getTime()+1800*1e3);return Fi>=pt&&Fi<Rt});if(pe){const Be=new Date(new Date(pe.start_time).getTime()+18e5),pt=Math.max(0,Math.floor((Be.getTime()-Fi.getTime())/6e4));let Rt="Idle";(pe.charge_kw||0)>.1?Rt=`Charge ${pe.charge_kw?.toFixed(1)}kW`:(pe.discharge_kw||0)>.1?Rt=`Discharge ${pe.discharge_kw?.toFixed(1)}kW`:(pe.export_kwh||0)>.1?Rt=`Export ${pe.export_kwh?.toFixed(1)}kWh`:(pe.water_heating_kw||0)>.1&&(Rt="Heat Water"),Xs=`  Next: ${Rt} (${pt}m)`}}const Xt=`${jr}${Xs}`,Ht=w?.last_run_at||K?.planned_at||oe?.planned_at,Ot=Ht?new Date(Ht):null,Dn=g?.every_minutes&&g.every_minutes>0?g.every_minutes:null;let za=null;return w?.next_run_at?za=new Date(w.next_run_at):g?.enable_scheduler&&Ot&&Dn&&(za=new Date(Ot.getTime()+Dn*60*1e3)),u.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-6 sm:px-6 lg:pt-10 space-y-6",children:[O&&u.jsx(da.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-error p-4",children:u.jsxs("div",{className:"flex items-start justify-between gap-4 w-full",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 font-semibold text-sm mb-1",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Planner Error"})]}),u.jsx("div",{className:"opacity-80 text-xs",children:O.message}),O.at&&u.jsx("div",{className:"opacity-60 text-[10px] mt-1",children:new Date(O.at).toLocaleString()})]}),u.jsx("button",{onClick:()=>L(null),className:"opacity-60 hover:opacity-100 text-xs px-2 py-1",title:"Dismiss",children:""})]})}),C?.shadow_mode&&u.jsxs(da.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-purple px-4 py-3",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-medium",children:"Shadow Mode Active"}),u.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Actions logged but not executed on Home Assistant"})]}),C?.paused&&u.jsxs(da.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-medium",children:"Executor Paused (Idle Mode)"}),C.paused.paused_minutes!==void 0&&u.jsxs("span",{className:"opacity-70 text-xs ml-2",children:[" Paused for ",C.paused.paused_minutes," minutes"]})]}),(ft||es)&&u.jsxs(da.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"banner banner-warning px-4 py-3",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-medium",children:"Vacation Mode Active"}),u.jsx("span",{className:"opacity-70 text-xs ml-2",children:" Water heating is disabled"})]}),u.jsx(da.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:u.jsx(_j,{useHistoryForToday:F==="local",refreshToken:c,slotsOverride:js,range:"48h",showDayToggle:!0})}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-stretch",children:[u.jsxs(da.div,{className:"h-full flex flex-col gap-4",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:[u.jsxs(Ee,{className:"p-3 flex items-center justify-between shrink-0",children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:Xt}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"text-[10px] text-muted",children:a&&`Synced ${a.toLocaleTimeString()}`}),f&&u.jsx("div",{className:"text-[10px] text-amber-400",children:f}),u.jsx("button",{onClick:()=>vs(),disabled:s,className:`rounded-pill px-2 py-1 text-[10px] font-medium transition ${s?"bg-surface border border-line/60 text-muted cursor-not-allowed":"bg-surface border border-line/60 text-muted hover:border-accent hover:text-accent"}`,title:"Manual sync",children:u.jsx("span",{className:s?"inline-block animate-spin":"",children:s?"":""})})]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:u.jsx(H8,{})})]}),u.jsx(da.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:u.jsx(I8,{comfortLevel:fe,setComfortLevel:async pe=>{Ce(pe),await he.configSave({water_heating:{comfort_level:pe}})},riskAppetite:mt,setRiskAppetite:async pe=>{$s(pe),await he.configSave({s_index:{risk_appetite:pe}})},vacationMode:ft,onWaterBoost:async()=>{try{await he.waterBoost.start(60),vs()}catch(pe){console.error("Boost failed",pe)}},onBatteryTopUp:async()=>{try{await he.executor.quickAction.set("force_charge",60),vs()}catch(pe){console.error("Top Up failed",pe)}}})}),u.jsx(da.div,{className:"h-full",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:u.jsxs("div",{className:"flex h-full flex-col gap-6",children:[u.jsx(Ee,{className:"flex-1 p-4 md:p-5",children:u.jsx(pO,{onDataRefresh:vs,onPlanSourceChange:Gn,onServerScheduleLoaded:Bi,onVacationModeChange:pe=>Xe(pe)})}),u.jsxs(Ee,{className:"flex-1 p-4 md:p-5",children:[u.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[u.jsx("div",{className:"text-sm text-muted",children:"Planner Automation"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted",children:[u.jsx("span",{className:`inline-flex h-2.5 w-2.5 rounded-full ${g?.enable_scheduler?"bg-emerald-400 shadow-[0_0_0_2px_rgba(16,185,129,0.4)]":"bg-line"}`}),u.jsx("span",{children:g?.enable_scheduler?"Active":"Disabled"})]}),u.jsx("button",{type:"button",onClick:Ra,disabled:b,className:"rounded-pill px-3 py-1 text-[10px] font-semibold border border-line/60 text-muted hover:border-accent hover:text-accent disabled:opacity-50 transition",children:g?.enable_scheduler?"Disable":"Enable"})]})]}),u.jsx("div",{className:"text-[11px] text-muted",children:g?.enable_scheduler?"Planner will auto-run on the configured schedule.":"Auto-planner is off. Use Quick Actions to run manually."}),u.jsxs("div",{className:"mt-2 space-y-1 text-[10px] text-muted",children:[u.jsxs("div",{children:["Last plan run: ",zw(Ot)]}),u.jsxs("div",{children:["Next expected run:"," ",g?.enable_scheduler?zw(za):""]}),u.jsxs("div",{children:["DB sync: ",g?.write_to_mariadb?"enabled":"disabled"]})]})]}),g?.external_executor_mode&&u.jsxs(Ee,{className:"flex-1 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[u.jsx("div",{className:"text-sm text-muted",children:"DB Sync"}),u.jsx("div",{className:`text-[10px] ${La?.type==="success"?"text-green-400":"text-red-400"}`,children:La?.message})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[u.jsxs("button",{type:"button",onClick:$n,disabled:Ft,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Pull plan from MariaDB current_schedule table",children:[u.jsx(Kg,{className:"h-4 w-4"}),u.jsx("span",{children:"Load from DB"})]}),u.jsxs("button",{type:"button",onClick:Xn,disabled:Ft,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[11px] font-semibold bg-surface2 border border-line/60 text-muted hover:border-accent hover:text-accent transition disabled:opacity-50",title:"Push local schedule.json to MariaDB",children:[u.jsx(Zg,{className:"h-4 w-4"}),u.jsx("span",{children:"Push to DB"})]})]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[u.jsx(U8,{netCost:z?.netCost??null,importKwh:z?.gridImport??null,exportKwh:z?.gridExport??null,exportGuard:gn}),u.jsx(Y8,{pvActual:z?.pvProduction??null,pvForecast:z?.pvForecast??null,loadActual:z?.loadConsumption??null,loadAvg:ce?.dailyKwh??null,waterKwh:D?.kwh??null,batteryCapacity:ae}),u.jsx(W8,{soc:t,socTarget:H,sIndex:xe?.s_index?.effective_load_margin??null,cycles:z?.batteryCycles??null,riskLabel:{1:"Safety",2:"Conservative",3:"Neutral",4:"Aggressive",5:"Gambler"}[mt]||"Neutral"})]})]})}function Iz(){const[t,e]=N.useState([]),[s,n]=N.useState(!1),[a,o]=N.useState(null),[c,d]=N.useState("all"),[f,m]=N.useState("all"),[g,x]=N.useState(null),[b,v]=N.useState(null),[w,S]=N.useState("today"),j=N.useRef(null),M=N.useRef(null);N.useEffect(()=>{n(!0),o(null),he.debugLogs().then(L=>e(L.logs??[])).catch(L=>{console.error("Failed to fetch debug logs:",L),o("Failed to load logs")}).finally(()=>n(!1))},[]),N.useEffect(()=>{(()=>{v(null);let L="today";if(w==="yesterday"){const C=new Date;C.setDate(C.getDate()-1),L=C.toISOString().slice(0,10)}he.historySoc(L).then(C=>x(C)).catch(C=>{console.error("Failed to fetch historic SoC:",C),v("Failed to load SoC history")})})()},[w]);const T=t.filter(O=>{if(c==="all")return!0;const L=(O.level||"").toUpperCase();return c==="error"?L==="ERROR"||L==="CRITICAL":L==="WARN"||L==="WARNING"||L==="ERROR"||L==="CRITICAL"}).filter(O=>{if(f==="all")return!0;const L=new Date(O.timestamp).getTime();if(Number.isNaN(L))return!0;const A=Date.now()-L,z=3600*1e3;return f==="1h"?A<=z:f==="6h"?A<=6*z:f==="24h"?A<=24*z:!0}),E=t.filter(O=>{const L=(O.level||"").toUpperCase();return L==="ERROR"||L==="CRITICAL"});return N.useEffect(()=>{if(!j.current)return;const O=g?.slots??[];if(!O.length){M.current&&(M.current.destroy(),M.current=null);return}const L=O.map(I=>{const K=new Date(I.timestamp);return Number.isNaN(K.getTime())?"":K.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}),C=O.map(I=>I.soc_percent??0),A={labels:L,datasets:[{type:"line",label:"SoC (%)",data:C,borderColor:"rgba(129, 200, 253, 0.9)",backgroundColor:"rgba(129, 200, 253, 0.15)",pointRadius:0,tension:.25}]},z={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:I=>`SoC: ${I.parsed.y?.toFixed(1)??"--"}%`}}},scales:{x:{ticks:{color:"#a6b0bf",maxRotation:0},grid:{display:!1}},y:{ticks:{color:"#a6b0bf",stepSize:10},grid:{color:"rgba(255,255,255,0.06)"},beginAtZero:!0,suggestedMax:100}}};if(M.current){M.current.data=A,M.current.options=z,M.current.update();return}return M.current=new kn(j.current,{type:"line",data:A,options:z}),()=>{M.current&&(M.current.destroy(),M.current=null)}},[g]),u.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-8 sm:px-6 lg:pt-12",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"text-sm text-muted",children:"Debug & Diagnostics"}),u.jsx("div",{className:"text-[13px] text-muted/80",children:"Logs and SoC history to understand what the planner has been doing recently."})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[u.jsxs(Ee,{className:"p-5 lg:col-span-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-sm text-muted",children:"Logs"}),u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[u.jsx("button",{className:"rounded-pill border border-line/60 px-3 py-1 hover:border-accent disabled:opacity-40",onClick:()=>{n(!0),o(null),he.debugLogs().then(O=>e(O.logs??[])).catch(O=>{console.error("Failed to refresh debug logs:",O),o("Failed to refresh logs")}).finally(()=>n(!1))},disabled:s,children:s?"Refreshing":"Refresh"}),u.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:f,onChange:O=>m(O.target.value),children:[u.jsx("option",{value:"all",children:"All time"}),u.jsx("option",{value:"1h",children:"Last 1 hour"}),u.jsx("option",{value:"6h",children:"Last 6 hours"}),u.jsx("option",{value:"24h",children:"Last 24 hours"})]}),u.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:c,onChange:O=>d(O.target.value),children:[u.jsx("option",{value:"all",children:"All levels"}),u.jsx("option",{value:"warn_error",children:"Warn + Error"}),u.jsx("option",{value:"error",children:"Errors only"})]})]})]}),a&&u.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:a}),u.jsxs("div",{className:"h-64 overflow-auto rounded-xl2 border border-line/60 bg-surface2/40 text-[11px] font-mono text-muted/90",children:[T.length===0&&!s&&!a&&u.jsx("div",{className:"px-3 py-2 text-muted/70",children:"No logs captured yet."}),T.map((O,L)=>u.jsxs("div",{className:"px-3 py-1.5 border-b border-line/20 last:border-b-0",children:[u.jsx("span",{className:"text-muted/60 mr-2",children:new Date(O.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),u.jsx("span",{className:"mr-2 rounded-full px-1.5 py-0.5 text-[10px] uppercase tracking-wide border border-line/50",children:O.level}),u.jsx("span",{className:"text-muted/70 mr-2",children:O.logger}),u.jsx("span",{children:O.message})]},`${O.timestamp}-${L}`))]})]}),u.jsxs(Ee,{className:"p-5 lg:col-span-1",children:[u.jsx("div",{className:"text-sm text-muted mb-3",children:"Recent events"}),u.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"Quick view of recent errors and warnings from the log stream."}),u.jsxs("div",{className:"space-y-2 text-[12px] text-muted/90",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:"Total log entries"}),u.jsx("span",{className:"tabular-nums",children:t.length})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:"Error/critical entries"}),u.jsx("span",{className:"tabular-nums",children:E.length})]}),u.jsx("div",{className:"mt-3 text-[11px] text-muted/70 uppercase tracking-wide",children:"Last errors"}),u.jsxs("div",{className:"space-y-1.5 max-h-40 overflow-auto",children:[E.slice(-5).map((O,L)=>u.jsxs("div",{className:"rounded-md bg-rose-500/5 border border-rose-500/40 px-2 py-1.5",children:[u.jsxs("div",{className:"text-[10px] text-rose-200/80 mb-0.5",children:[new Date(O.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})," "," ",O.logger]}),u.jsx("div",{className:"text-[11px] text-rose-50/90 line-clamp-2",children:O.message})]},`${O.timestamp}-err-${L}`)),E.length===0&&u.jsx("div",{className:"text-[11px] text-muted/70",children:"No error-level entries yet."})]})]})]})]}),u.jsx("div",{className:"grid gap-6 mt-6 lg:grid-cols-3",children:u.jsxs(Ee,{className:"p-5 lg:col-span-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-sm text-muted",children:"Historical SoC"}),u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-muted",children:[u.jsx("span",{className:"text-muted/70",children:"Range"}),u.jsxs("select",{className:"rounded-md bg-surface2 border border-line/60 px-2 py-1 text-[11px]",value:w,onChange:O=>S(O.target.value),children:[u.jsx("option",{value:"today",children:"Today"}),u.jsx("option",{value:"yesterday",children:"Yesterday"})]})]})]}),u.jsx("div",{className:"text-[13px] text-muted/80 mb-2",children:"SoC (%) over the selected day from the learning database. Use this to correlate planner behaviour with actual SoC movement."}),b&&u.jsx("div",{className:"text-[11px] text-amber-400 mb-2",children:b}),u.jsx("div",{className:"h-48",children:u.jsx("canvas",{ref:j,className:"w-full h-full"})})]})})]})}function qz({value:t,onChange:e}){const s=N.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t%360;return x<0&&(x+=360),x},[t]),[n,a]=N.useState(!1),o=x=>{const b=Math.round(x),v=[0,45,90,135,180,225,270,315];let w=b,S=1/0;for(const j of v){const M=Math.abs(b-j);M<S&&M<=7&&(S=M,w=j)}return w},c=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let T=Math.atan2(S,-j)*180/Math.PI;T<0&&(T+=360);const E=o(T);e(E)},d=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}c(x)},f=x=>{n&&c(x)},m=x=>{if(n){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},g=`rotate(${s} 24 24)`;return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:d,onPointerMove:f,onPointerUp:m,"aria-label":"Solar azimuth dial",role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":Math.round(s),children:u.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[u.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/60",strokeWidth:"2"}),u.jsx("g",{children:Array.from({length:12}).map((x,b)=>{const v=b*30,w=v%90===0,S=!w&&v%45===0,j=21,M=w?16:S?18:19,T=(v-90)*Math.PI/180,E=24+j*Math.cos(T),O=24+j*Math.sin(T),L=24+M*Math.cos(T),C=24+M*Math.sin(T),A=w||S?"stroke-line/80":"stroke-line/40",z=w?1.6:1;return u.jsx("line",{x1:E,y1:O,x2:L,y2:C,className:A,strokeWidth:z},v)})}),u.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"N"}),u.jsx("text",{x:"24",y:"45",textAnchor:"middle",className:"fill-muted text-[8px]",children:"S"}),u.jsx("text",{x:"43",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"E"}),u.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"W"}),u.jsxs("g",{transform:g,children:[u.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),u.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[u.jsxs("div",{className:"font-medium text-text",children:[Math.round(s),""]}),u.jsx("div",{children:"0 = North  90 = East  180 = South  270 = West"})]})]})}function Gz({value:t,onChange:e}){const s=N.useMemo(()=>{if(typeof t!="number"||Number.isNaN(t))return 0;let x=t;return x<0&&(x=0),x>90&&(x=90),x},[t]),[n,a]=N.useState(!1),o=x=>{const b=x.currentTarget.getBoundingClientRect(),v=b.left+b.width/2,w=b.top+b.height/2,S=x.clientX-v,j=x.clientY-w;let T=Math.atan2(S,-j)*180/Math.PI;T<0&&(T+=360),(T<270||T>360)&&(T>=0&&T<=135?T=360:T=270);let E=360-T;E<0&&(E=0),E>90&&(E=90);const O=Math.round(E/5)*5;e(O)},c=x=>{a(!0);try{x.currentTarget.setPointerCapture(x.pointerId)}catch{}o(x)},d=x=>{n&&o(x)},f=x=>{if(n){a(!1);try{x.currentTarget.releasePointerCapture(x.pointerId)}catch{}}},g=`rotate(${N.useMemo(()=>360-s,[s])} 24 24)`;return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"relative h-16 w-16 cursor-pointer",onPointerDown:c,onPointerMove:d,onPointerUp:f,"aria-label":"Solar tilt dial",role:"slider","aria-valuemin":0,"aria-valuemax":90,"aria-valuenow":Math.round(s),children:u.jsxs("svg",{viewBox:"0 0 48 48",className:"h-full w-full",children:[u.jsx("circle",{cx:"24",cy:"24",r:"21",className:"fill-surface2 stroke-line/40",strokeWidth:"2"}),u.jsx("path",{d:"M3 24 A21 21 0 0 1 24 3",className:"fill-none stroke-accent/70",strokeWidth:"2.2"}),u.jsx("g",{children:Array.from({length:7}).map((x,b)=>{const v=b*15,w=360-v,S=21,j=v%30===0?18:19,M=(w-90)*Math.PI/180,T=24+S*Math.cos(M),E=24+S*Math.sin(M),O=24+j*Math.cos(M),L=24+j*Math.sin(M),C=v===0||v===90?"stroke-line/80":"stroke-line/60",A=v===0||v===90?1.6:1.2;return u.jsx("line",{x1:T,y1:E,x2:O,y2:L,className:C,strokeWidth:A},v)})}),u.jsx("text",{x:"24",y:"9",textAnchor:"middle",className:"fill-muted text-[8px]",children:"0"}),u.jsx("text",{x:"5",y:"25",textAnchor:"middle",className:"fill-muted text-[8px]",children:"90"}),u.jsxs("g",{transform:g,children:[u.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"6",className:"stroke-accent",strokeWidth:"2.2",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"24",r:"2.5",className:"fill-accent"})]})]})}),u.jsxs("div",{className:"text-[11px] text-muted leading-tight",children:[u.jsxs("div",{className:"font-medium text-text",children:[Math.round(s),""]}),u.jsx("div",{children:"Drag along the arc: 0 = flat  90 = vertical panel"})]})]})}function $z({entities:t,value:e,onChange:s,placeholder:n="Select entity...",disabled:a=!1,loading:o=!1}){const[c,d]=N.useState(!1),[f,m]=N.useState(""),[g,x]=N.useState(0),b=N.useRef(null),v=N.useRef(null),w=N.useRef(null),S=t.find(C=>C.entity_id===e),j=N.useMemo(()=>{if(!f.trim())return t;const C=f.toLowerCase();return t.filter(A=>A.entity_id.toLowerCase().includes(C)||A.friendly_name.toLowerCase().includes(C))},[t,f]),M=N.useMemo(()=>{const C={};return j.forEach(A=>{const z=A.domain||A.entity_id.split(".")[0];C[z]||(C[z]=[]),C[z].push(A)}),C},[j]),T=N.useMemo(()=>{const C=[];return Object.values(M).forEach(A=>C.push(...A)),C},[M]);N.useEffect(()=>{x(0)},[j.length]),N.useEffect(()=>{const C=A=>{b.current&&!b.current.contains(A.target)&&(d(!1),m(""))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),N.useEffect(()=>{if(c&&w.current){const C=w.current.querySelector('[data-highlighted="true"]');C&&C.scrollIntoView({block:"nearest"})}},[g,c]);const E=C=>{s(C.entity_id),d(!1),m("")},O=C=>{if(!c){(C.key==="Enter"||C.key===" "||C.key==="ArrowDown")&&(C.preventDefault(),d(!0));return}switch(C.key){case"ArrowDown":C.preventDefault(),x(A=>Math.min(A+1,T.length-1));break;case"ArrowUp":C.preventDefault(),x(A=>Math.max(A-1,0));break;case"Enter":C.preventDefault(),T[g]&&E(T[g]);break;case"Escape":C.preventDefault(),d(!1),m("");break}},L=C=>{C.stopPropagation(),s(""),d(!1),m("")};return u.jsxs("div",{ref:b,className:"relative",children:[u.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(d(!c),c||setTimeout(()=>v.current?.focus(),0))},onKeyDown:O,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[u.jsx("span",{className:S?"text-text":"text-muted",children:o?"Loading...":S?.friendly_name||S?.entity_id||n}),u.jsxs("div",{className:"flex items-center gap-1",children:[e&&!a&&u.jsx("button",{type:"button",onClick:L,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:u.jsx(Lo,{className:"h-3.5 w-3.5"})}),u.jsx(bh,{className:`h-4 w-4 text-muted transition-transform ${c?"rotate-180":""}`})]})]}),c&&u.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[u.jsx("div",{className:"p-2 border-b border-line",children:u.jsxs("div",{className:"relative",children:[u.jsx(Jg,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),u.jsx("input",{ref:v,type:"text",value:f,onChange:C=>m(C.target.value),onKeyDown:O,placeholder:"Search entities...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),u.jsx("div",{ref:w,className:"max-h-[240px] overflow-y-auto p-1",children:j.length===0?u.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No entities found"}):Object.entries(M).map(([C,A])=>u.jsxs("div",{className:"mb-1",children:[u.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:C}),A.map(z=>{const K=T.findIndex(oe=>oe.entity_id===z.entity_id)===g,Z=z.entity_id===e;return u.jsxs("button",{type:"button","data-highlighted":K,onClick:()=>E(z),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${K?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${Z?"font-medium":""}
                                                `,children:[u.jsx("div",{className:"truncate",children:z.friendly_name||z.entity_id}),u.jsx("div",{className:"text-[10px] text-muted truncate",children:z.entity_id})]},z.entity_id)})]},C))})]})]})}function Xz({value:t,onChange:e,placeholder:s="Select service (e.g. notify.mobile_app)...",disabled:n=!1}){const[a,o]=N.useState(!1),[c,d]=N.useState(""),[f,m]=N.useState([]),[g,x]=N.useState(!1),[b,v]=N.useState(0),w=N.useRef(null),S=N.useRef(null),j=N.useRef(null);N.useEffect(()=>{a&&f.length===0&&!g&&(x(!0),he.haServices().then(A=>{m(A.services||[])}).catch(A=>{console.error("Failed to fetch HA services:",A)}).finally(()=>{x(!1)}))},[a,f.length,g]);const M=N.useMemo(()=>{if(!c.trim())return f;const A=c.toLowerCase();return f.filter(z=>z.toLowerCase().includes(A))},[f,c]),T=N.useMemo(()=>{const A={};return M.forEach(z=>{const I=z.split(".")[0]||"other";A[I]||(A[I]=[]),A[I].push(z)}),A},[M]),E=N.useMemo(()=>{const A=[];return Object.values(T).forEach(z=>A.push(...z)),A},[T]);N.useEffect(()=>{v(0)},[M.length]),N.useEffect(()=>{const A=z=>{w.current&&!w.current.contains(z.target)&&(o(!1),d(""))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),N.useEffect(()=>{if(a&&j.current){const A=j.current.querySelector('[data-highlighted="true"]');A&&A.scrollIntoView({block:"nearest"})}},[b,a]);const O=A=>{e(A),o(!1),d("")},L=A=>{if(!a){(A.key==="Enter"||A.key===" "||A.key==="ArrowDown")&&(A.preventDefault(),o(!0));return}switch(A.key){case"ArrowDown":A.preventDefault(),v(z=>Math.min(z+1,E.length-1));break;case"ArrowUp":A.preventDefault(),v(z=>Math.max(z-1,0));break;case"Enter":A.preventDefault(),E[b]&&O(E[b]);break;case"Escape":A.preventDefault(),o(!1),d("");break}},C=A=>{A.stopPropagation(),e(""),o(!1),d("")};return u.jsxs("div",{ref:w,className:"relative",children:[u.jsxs("button",{type:"button",disabled:n,onClick:()=>{n||(o(!a),a||setTimeout(()=>S.current?.focus(),0))},onKeyDown:L,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[u.jsx("span",{className:t?"text-text":"text-muted",children:g&&f.length===0?"Loading services...":t||s}),u.jsxs("div",{className:"flex items-center gap-1",children:[t&&!n&&u.jsx("button",{type:"button",onClick:C,className:"p-0.5 rounded hover:bg-line/60 text-muted hover:text-text",tabIndex:-1,children:u.jsx(Lo,{className:"h-3.5 w-3.5"})}),u.jsx(bh,{className:`h-4 w-4 text-muted transition-transform ${a?"rotate-180":""}`})]})]}),a&&u.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[280px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float",children:[u.jsx("div",{className:"p-2 border-b border-line",children:u.jsxs("div",{className:"relative",children:[u.jsx(Jg,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),u.jsx("input",{ref:S,type:"text",value:c,onChange:A=>d(A.target.value),onKeyDown:L,placeholder:"Search services...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40"})]})}),u.jsx("div",{ref:j,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:g&&f.length===0?u.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted animate-pulse",children:"Loading from Home Assistant..."}):M.length===0?u.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No services found"}):Object.entries(T).map(([A,z])=>u.jsxs("div",{className:"mb-1",children:[u.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:A}),z.map(I=>{const Z=E.indexOf(I)===b,oe=I===t;return u.jsx("button",{type:"button","data-highlighted":Z,onClick:()=>O(I),className:`
                                                    w-full text-left px-2 py-1.5 rounded-md text-sm
                                                    transition-colors
                                                    ${Z?"bg-accent/20 text-text":"text-text hover:bg-surface2"}
                                                    ${oe?"font-medium":""}
                                                `,children:u.jsx("div",{className:"truncate",children:I})},I)})]},A))})]})]})}function ha({text:t,className:e=""}){const[s,n]=N.useState(!1);return t?u.jsxs("div",{className:`relative inline-block ${e}`,children:[u.jsx("button",{type:"button",className:"ml-1.5 text-muted/60 hover:text-accent transition-colors",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onFocus:()=>n(!0),onBlur:()=>n(!1),children:u.jsx(UD,{className:"w-3.5 h-3.5"})}),s&&u.jsxs("div",{className:"absolute z-50 w-64 p-2.5 text-xs bg-surface2 border border-line rounded-lg shadow-lg left-0 bottom-full mb-1.5",children:[u.jsx("div",{className:"text-muted leading-relaxed",children:t}),u.jsx("div",{className:"absolute w-2 h-2 bg-surface2 border-r border-b border-line transform rotate-45 left-3 -bottom-1"})]})]}):null}const Kz="IANA timezone for all schedule calculations",fa={timezone:Kz,"advisor.enable_llm":"Enable LLM-powered advice on Dashboard","advisor.model":"OpenRouter model identifier (requires API key in secrets.yaml)","advisor.personality":"Advice style: concise | friendly | technical","advisor.auto_fetch":"Automatically fetch advice when Dashboard loads","system.has_solar":"Enable PV forecasting & solar-related features","system.has_battery":"Enable battery control & grid arbitrage","system.has_water_heater":"Enable water heating optimization","system.grid.max_power_kw":"HARD limit: max grid import (cannot be exceeded)","system.inverter.max_power_kw":"Maximum inverter AC power output","system.location.latitude":"Decimal degrees, positive north (for PV forecasting)","system.location.longitude":"Decimal degrees, positive east (for PV forecasting)","system.solar_array.azimuth":"Panel direction: 0=North, 90=East, 180=South, 270=West","system.solar_array.kwp":"Total DC peak power of PV array in kilowatts","system.solar_array.tilt":"Panel angle from horizontal: 0=flat, 90=vertical","battery.max_soc_percent":"Planner target ceiling (BMS still enforces absolute limit)","battery_economics.battery_cycle_cost_kwh":"Degradation cost applied per kWh cycled through the battery","charging_strategy.charge_threshold_percentile":"Bottom X% of daily prices are considered 'cheap'","charging_strategy.cheap_price_tolerance_sek":"Extends 'cheap' window to prices within this tolerance","charging_strategy.price_smoothing_sek_kwh":"Groups slots slightly above cheapest into charge window","charging_strategy.block_consolidation_tolerance_sek":"Price tolerance for merging adjacent charge blocks","charging_strategy.consolidation_max_gap_slots":"Max gap (in 15-min slots) to bridge when consolidating","strategic_charging.price_threshold_sek":"[NOT IMPLEMENTED] Floor price for opportunistic charging","strategic_charging.target_soc_percent":"SoC target for cheap window expansion (used in windows.py)","water_heating.power_kw":"Power consumption of the water heater","water_heating.min_hours_per_day":"Minimum run-time per day","water_heating.min_kwh_per_day":"Optional; defaults to power * hours when unset","water_heating.max_blocks_per_day":"Prefer single block, up to two if needed","water_heating.defer_up_to_hours":"Allow deferring into early tomorrow up to N hours if cheaper","water_heating.plan_days_ahead":"Plan at most today + 1 day (tomorrow) within 48h horizon","water_heating.max_hours_between_heating":"Max gap between heating sessions (0 = no constraint)","water_heating.comfort_level":"1-5 (EconomyMaximum) - controls gap penalty","water_heating.min_spacing_hours":"Min gap between starts to avoid efficiency loss","water_heating.spacing_penalty_sek":"Soft penalty for frequent starts","water_heating.vacation_mode.enabled":"Master switch (HA entity can override when ON)","water_heating.vacation_mode.anti_legionella_temp_c":"Target temperature for safety cycle","water_heating.vacation_mode.anti_legionella_interval_days":"Run cycle every N days","water_heating.vacation_mode.anti_legionella_duration_hours":"Duration at power_kw (e.g., 3h * 3kW = 9kWh)","s_index.mode":"Options: probabilistic | dynamic","s_index.static_factor":"Used when mode=static","s_index.base_factor":"Starting point for dynamic calculationsWfz","s_index.max_factor":"Upper bound clamp for dynamic mode","s_index.pv_deficit_weight":"Weight for PV/load deficit contribution","s_index.temp_weight":"Weight for temperature adjustment","s_index.temp_baseline_c":"Baseline temperature (no adjustment)","s_index.temp_cold_c":"Temperature where adjustment reaches 100%","s_index.s_index_horizon_days":"Number of days ahead to evaluate (integer)","s_index.risk_appetite":"1-5 scale (1=safe, 3=neutral, 5=gambler)","export.enable_export":"[NOT IMPLEMENTED] Master switch for grid export","manual_planning.charge_target_percent":"Cap for manual charge slots","manual_planning.export_target_percent":"Floor target when manually scheduling export","debug.enable_planner_debug":"Enable verbose planner logging","debug.sample_size":"Sample size for debug output charts","automation.enable_scheduler":"Enable automatic schedule regeneration","automation.write_to_mariadb":"Write telemetry to MariaDB (requires secrets.yaml)","automation.external_executor_mode":"Use external executor instead of built-in","automation.schedule.every_minutes":"How often to regenerate schedule","automation.schedule.jitter_minutes":"Random delay to avoid thundering herd","automation.ml_training.enabled":"Enable automatic ML model retraining","automation.ml_training.run_days":"Days of week to train (0=Mon, 6=Sun)","automation.ml_training.run_time":"Time of day to run training (HH:MM)","learning.default_battery_cost_sek_per_kwh":"Conservative default until dynamic cost is recorded","nordpool.price_area":"Nordpool bidding zone (SE1-SE4, NO1-NO5, DK1-DK2, FI, etc.)","nordpool.currency":"Price currency","nordpool.resolution_minutes":"Slot resolution (15, 30, or 60)","pricing.vat_percent":"VAT percentage on electricity","pricing.grid_transfer_fee_sek":"Grid operator transfer fee per kWh","pricing.energy_tax_sek":"Energy tax per kWh","pricing.subscription_fee_sek_per_month":"[FUTURE] Fixed monthly grid subscription (for cost analysis)","forecasting.active_forecast_version":"Forecast engine: aurora (ML) | legacy","forecasting.pv_confidence_percent":"PV forecast scaling (100 = trust forecast fully)","forecasting.load_safety_margin_percent":"Load forecast scaling (>100 = expect more load)","grid.import_limit_kw":"Soft limit for effekttariff (breached with high penalty)","kepler.ramping_cost_sek_per_kw":"Penalty for power changes between slots (reduces sawtooth)","input_sensors.alarm_state":"Alarm panel for occupancy detection (ML feature)","input_sensors.vacation_mode":"Vacation mode toggle (reduces load forecasts)","input_sensors.battery_soc":"Current battery state of charge (%)","input_sensors.pv_power":"Current PV production (W or kW)","input_sensors.load_power":"Current load consumption (W or kW)","input_sensors.total_battery_charge":"Cumulative battery charge (kWh)","input_sensors.total_battery_discharge":"Cumulative battery discharge (kWh)","input_sensors.total_grid_export":"Cumulative grid export (kWh)","input_sensors.total_grid_import":"Cumulative grid import (kWh)","input_sensors.total_load_consumption":"Cumulative load (kWh)","input_sensors.total_pv_production":"Cumulative PV production (kWh)","input_sensors.water_heater_consumption":"Water heater daily energy (kWh)","input_sensors.today_grid_import":"Today's grid import (kWh)","input_sensors.today_grid_export":"Today's grid export (kWh)","input_sensors.today_battery_charge":"Today's battery charge (kWh)","input_sensors.today_pv_production":"Today's PV production (kWh)","input_sensors.today_load_consumption":"Today's load consumption (kWh)","input_sensors.today_net_cost":"Today's net electricity cost","executor.enabled":"Enable executor control loop","executor.shadow_mode":"Log actions but don't execute (for testing)","executor.interval_seconds":"How often to run (default: 5 minutes)","executor.pause_reminder_minutes":"Notify if paused longer than this","executor.history_retention_days":"Keep execution history for N days","executor.automation_toggle_entity":"Master enable/disable switch","executor.manual_override_entity":"Manual override active flag","executor.soc_target_entity":"SoC target input_number","executor.inverter.work_mode_entity":"Inverter mode selector","executor.inverter.work_mode_export":"Value for export mode","executor.inverter.work_mode_zero_export":"Value for zero-export mode","executor.inverter.grid_charging_entity":"Enable/disable grid charging","executor.inverter.max_charging_current_entity":"Max charge current (A)","executor.inverter.max_discharging_current_entity":"Max discharge current (A)","executor.controller.battery_capacity_kwh":"Battery capacity in kWh (for current calculations)","executor.controller.system_voltage_v":"Nominal battery voltage","executor.controller.worst_case_voltage_v":"Minimum voltage for conservative calculations","executor.controller.inverter_ac_limit_kw":"Max AC power output of inverter","executor.controller.charge_efficiency":"Charging efficiency (0-1)","executor.controller.max_charge_a":"Maximum charging current (A)","executor.controller.min_charge_a":"Minimum meaningful charge current (A)","executor.controller.round_step_a":"Round current commands to nearest X amps","executor.controller.write_threshold_a":"Only write if change exceeds X amps","executor.water_heater.target_entity":"HA entity to control","executor.water_heater.temp_off":"Idle mode (legionella-safe minimum)","executor.water_heater.temp_normal":"Scheduled heating target (used by planner)","executor.water_heater.temp_boost":"Manual boost button (Dashboard/Executor)","executor.water_heater.temp_max":"PV dump target + safety limit (never exceeded)","executor.notifications.service":"HA notify service to use","executor.notifications.on_charge_start":"Notify when grid charging starts","executor.notifications.on_charge_stop":"Notify when grid charging stops","executor.notifications.on_export_start":"Notify when export/discharge starts","executor.notifications.on_export_stop":"Notify when export/discharge stops","executor.notifications.on_water_heat_start":"Notify when water heating starts","executor.notifications.on_water_heat_stop":"Notify when water heating stops","executor.notifications.on_soc_target_change":"Notify when SoC target changes","executor.notifications.on_override_activated":"Notify when manual override triggers","executor.notifications.on_error":"Notify on executor errors","dashboard.auto_refresh_enabled":"Auto-refresh dashboard schedule display","dashboard.overlay_defaults":"Default chart overlays","ui.theme":"Color theme name","ui.theme_accent_index":"Accent color index (0-based)","appliances.dishwasher.label":"Display name in UI","appliances.dishwasher.duration_hours":"Typical run duration"};function Vg({value:t,onChange:e,options:s,placeholder:n="Select...",disabled:a=!1,className:o="",searchable:c=!1}){const[d,f]=N.useState(!1),[m,g]=N.useState(""),[x,b]=N.useState(0),v=N.useRef(null),w=N.useRef(null),S=N.useRef(null),j=s.find(C=>C.value===t),M=N.useMemo(()=>{if(!m.trim())return s;const C=m.toLowerCase();return s.filter(A=>A.label.toLowerCase().includes(C)||A.value.toLowerCase().includes(C)||A.group?.toLowerCase().includes(C))},[s,m]),T=N.useMemo(()=>{const C={},A=[];return M.forEach(z=>{z.group?(C[z.group]||(C[z.group]=[]),C[z.group].push(z)):A.push(z)}),{groups:C,noGroup:A}},[M]),E=N.useMemo(()=>[...T.noGroup,...Object.values(T.groups).flat()],[T]);N.useEffect(()=>{b(0)},[M.length,d]),N.useEffect(()=>{const C=A=>{v.current&&!v.current.contains(A.target)&&(f(!1),g(""))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),N.useEffect(()=>{if(d&&S.current){const C=S.current.querySelector(`[data-index="${x}"]`);C&&C.scrollIntoView({block:"nearest"})}},[x,d]);const O=C=>{e(C),f(!1),g("")},L=C=>{if(!a){if(!d){(C.key==="Enter"||C.key===" "||C.key==="ArrowDown")&&(C.preventDefault(),f(!0));return}switch(C.key){case"ArrowDown":C.preventDefault(),b(A=>Math.min(A+1,E.length-1));break;case"ArrowUp":C.preventDefault(),b(A=>Math.max(A-1,0));break;case"Enter":C.preventDefault(),E[x]&&O(E[x].value);break;case"Escape":C.preventDefault(),f(!1),g("");break;case"Tab":f(!1);break}}};return u.jsxs("div",{ref:v,className:`relative ${o}`,children:[u.jsxs("button",{type:"button",disabled:a,onClick:()=>{a||(f(!d),!d&&c&&setTimeout(()=>w.current?.focus(),0))},onKeyDown:L,className:`
                    w-full flex items-center justify-between gap-2 px-3 py-2
                    rounded-lg border border-line bg-surface2 text-left text-sm
                    hover:border-accent/60 focus:outline-none focus:ring-2 focus:ring-accent/40
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                `,children:[u.jsx("span",{className:j?"text-text":"text-muted",children:j?.label||n}),u.jsx(bh,{className:`h-4 w-4 text-muted transition-transform ${d?"rotate-180":""}`})]}),d&&u.jsxs("div",{className:"absolute z-50 mt-1 w-full min-w-[180px] max-h-[300px] overflow-hidden rounded-lg border border-line bg-surface shadow-float animate-in fade-in zoom-in-95 duration-100",children:[c&&u.jsx("div",{className:"p-2 border-b border-line",children:u.jsxs("div",{className:"relative",children:[u.jsx(Jg,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),u.jsx("input",{ref:w,type:"text",value:m,onChange:C=>g(C.target.value),placeholder:"Search...",className:"w-full pl-8 pr-3 py-1.5 rounded-md bg-surface2 border border-line text-sm text-text placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-accent/40",onKeyDown:L})]})}),u.jsx("div",{ref:S,className:"max-h-[240px] overflow-y-auto p-1 scrollbar-thin",children:E.length===0?u.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted",children:"No options found"}):u.jsxs(u.Fragment,{children:[T.noGroup.map((C,A)=>{const z=j?.value===C.value,I=E[x]?.value===C.value;return u.jsxs("div",{"data-index":x,className:`
                                                flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                ${I?"bg-accent/20 text-text":"text-text"}
                                                ${z?"font-medium":""}
                                            `,onClick:()=>O(C.value),onMouseEnter:()=>b(E.findIndex(K=>K.value===C.value)),children:[u.jsx("span",{children:C.label}),z&&u.jsx(F1,{className:"h-3.5 w-3.5 text-accent"})]},C.value)}),Object.entries(T.groups).map(([C,A])=>u.jsxs("div",{className:"mt-1 first:mt-0",children:[u.jsx("div",{className:"px-2 py-1 text-[10px] uppercase tracking-wider text-muted/70 font-medium",children:C}),A.map(z=>{const I=j?.value===z.value,K=E.findIndex(oe=>oe.value===z.value),Z=K===x;return u.jsxs("div",{"data-index":K,className:`
                                                        flex items-center justify-between px-2 py-1.5 rounded-md text-sm cursor-pointer
                                                        ${Z?"bg-accent/20 text-text":"text-text"}
                                                        ${I?"font-medium":""}
                                                    `,onClick:()=>O(z.value),onMouseEnter:()=>b(K),children:[u.jsx("span",{children:z.label}),I&&u.jsx(F1,{className:"h-3.5 w-3.5 text-accent"})]},z.value)})]},C))]})})]})]})}function dk({open:t,onOpenChange:e,title:s,children:n,footer:a,size:o="md",className:c=""}){const d=N.useRef(null);if(N.useEffect(()=>{const g=x=>{t&&x.key==="Escape"&&e(!1)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[t,e]),N.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),!t)return null;const f={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl"},m=u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[u.jsx("div",{ref:d,className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:g=>{g.target===d.current&&e(!1)}}),u.jsxs("div",{className:`
                    relative w-full ${f[o]} 
                    bg-surface rounded-ds-lg border border-line shadow-2xl 
                    animate-in zoom-in-95 fade-in duration-200
                    flex flex-col max-h-[90vh]
                    ${c}
                `,role:"dialog","aria-modal":"true",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-line shrink-0",children:[u.jsx("div",{className:"text-lg font-semibold text-text",children:s}),u.jsx("button",{onClick:()=>e(!1),className:"p-1 rounded-md text-muted hover:text-text hover:bg-surface2 transition-colors",children:u.jsx(Lo,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"px-6 py-4 overflow-y-auto scrollbar-thin",children:n}),a&&u.jsx("div",{className:"px-6 py-4 border-t border-line bg-surface2/30 flex justify-end gap-3 shrink-0 rounded-b-ds-lg",children:a})]})]});return Gw.createPortal(m,document.body)}function ac({checked:t,onCheckedChange:e,disabled:s=!1,className:n=""}){return u.jsx("div",{className:`toggle ${t?"active":""} ${n} ${s?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!s&&e(!t),children:u.jsx("div",{className:"toggle-knob"})})}const hk=N.createContext(void 0);function fk(){const t=N.useContext(hk);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t}const Zz=[{id:"system",label:"System"},{id:"parameters",label:"Parameters"},{id:"ui",label:"UI"},{id:"advanced",label:"Advanced"}],Fg=[{title:"System Profile",description:"Core hardware toggles and high-level system preferences.",fields:[{key:"system.has_solar",label:"Solar panels installed",helper:"Enable PV forecasting and solar optimization",path:["system","has_solar"],type:"boolean"},{key:"system.has_battery",label:"Home battery installed",helper:"Enable battery control and grid arbitrage",path:["system","has_battery"],type:"boolean"},{key:"system.has_water_heater",label:"Smart water heater",helper:"Enable water heating optimization",path:["system","has_water_heater"],type:"boolean"},{key:"export.enable_export",label:"Enable grid export",helper:"[EXPERIMENTAL] Master switch for grid export",path:["export","enable_export"],type:"boolean"}]},{title:"Location & Solar Array",description:"Geolocation and PV array parameters used by the forecasting engine.",fields:[{key:"system.location.latitude",label:"Latitude",helper:"Decimal degrees, positive north. Example: 55.4932",path:["system","location","latitude"],type:"number"},{key:"system.location.longitude",label:"Longitude",helper:"Decimal degrees, positive east. Example: 13.1112",path:["system","location","longitude"],type:"number"},{key:"system.solar_array.azimuth",label:"Solar azimuth ()",helper:"Panel direction: 0 = North, 90 = East, 180 = South, 270 = West.",path:["system","solar_array","azimuth"],type:"number"},{key:"system.solar_array.tilt",label:"Solar tilt ()",helper:"Angle from horizontal. 0 = flat, 90 = vertical.",path:["system","solar_array","tilt"],type:"number"},{key:"system.solar_array.kwp",label:"Solar capacity (kWp)",helper:"Total DC peak power of the PV array.",path:["system","solar_array","kwp"],type:"number"}]},{title:"Battery Specifications",description:"Capacity, max power, and SoC limits define safe operating bands.",fields:[{key:"battery.capacity_kwh",label:"Battery capacity (kWh)",path:["battery","capacity_kwh"],type:"number"},{key:"battery.max_charge_power_kw",label:"Max charge power (kW)",path:["battery","max_charge_power_kw"],type:"number"},{key:"battery.max_discharge_power_kw",label:"Max discharge power (kW)",path:["battery","max_discharge_power_kw"],type:"number"},{key:"battery.min_soc_percent",label:"Min SoC (%)",path:["battery","min_soc_percent"],type:"number"},{key:"battery.max_soc_percent",label:"Max SoC (%)",path:["battery","max_soc_percent"],type:"number"},{key:"system.grid.max_power_kw",label:"HARD Grid max power (kW)",helper:"Absolute limit from your grid fuse/connection.",path:["system","grid","max_power_kw"],type:"number"},{key:"grid.import_limit_kw",label:"Soft import limit (kW)",helper:"Threshold for peak power penalties (effekttariff).",path:["grid","import_limit_kw"],type:"number"}]},{title:"Pricing & Timezone",description:"Nordpool zone and local timezone for planner calculations.",fields:[{key:"nordpool.price_area",label:"Nordpool Price Area",helper:"e.g. SE4, NO1, DK2",path:["nordpool","price_area"],type:"text"},{key:"pricing.vat_percent",label:"VAT (%)",path:["pricing","vat_percent"],type:"number"},{key:"pricing.grid_transfer_fee_sek",label:"Grid transfer fee (SEK/kWh)",path:["pricing","grid_transfer_fee_sek"],type:"number"},{key:"pricing.energy_tax_sek",label:"Energy tax (SEK/kWh)",path:["pricing","energy_tax_sek"],type:"number"},{key:"timezone",label:"Timezone",helper:"e.g. Europe/Stockholm",path:["timezone"],type:"text"}]},{title:"Notifications",description:"Configure automated notifications via Home Assistant.",fields:[{key:"executor.notifications.service",label:"HA Notify Service",helper:"e.g. notify.mobile_app_iphone",path:["executor","notifications","service"],type:"service"},{key:"executor.notifications.on_charge_start",label:"On charge start",path:["executor","notifications","on_charge_start"],type:"boolean"},{key:"executor.notifications.on_charge_stop",label:"On charge stop",path:["executor","notifications","on_charge_stop"],type:"boolean"},{key:"executor.notifications.on_discharge_start",label:"On discharge start",path:["executor","notifications","on_discharge_start"],type:"boolean"},{key:"executor.notifications.on_discharge_stop",label:"On discharge stop",path:["executor","notifications","on_discharge_stop"],type:"boolean"},{key:"executor.notifications.on_water_heating_start",label:"On water heating start",path:["executor","notifications","on_water_heat_start"],type:"boolean"},{key:"executor.notifications.on_water_heating_stop",label:"On water heating stop",path:["executor","notifications","on_water_heat_stop"],type:"boolean"},{key:"executor.notifications.on_soc_target_change",label:"On SoC target change",path:["executor","notifications","on_soc_target_change"],type:"boolean"},{key:"executor.notifications.on_override_activated",label:"On override activated",path:["executor","notifications","on_override_activated"],type:"boolean"},{key:"executor.notifications.on_error",label:"On error",path:["executor","notifications","on_error"],type:"boolean"}]},{title:" Home Assistant Connection ",isHA:!0,description:"Connection parameters for your Home Assistant instance.",fields:[{key:"home_assistant.url",label:"HA URL",helper:"e.g. http://homeassistant.local:8123",path:["home_assistant","url"],type:"text"},{key:"home_assistant.token",label:"Long-Lived Access Token",path:["home_assistant","token"],type:"text"}]},{title:"Required HA Entities",isHA:!0,description:"Core sensors and switches required for battery control.",fields:[{key:"input_sensors.battery_soc",label:"Battery SoC (%)",path:["input_sensors","battery_soc"],type:"entity"},{key:"input_sensors.pv_power",label:"PV Power (W/kW)",path:["input_sensors","pv_power"],type:"entity"},{key:"input_sensors.load_power",label:"Load Power (W/kW)",path:["input_sensors","load_power"],type:"entity"},{key:"executor.inverter.work_mode_entity",label:"Work Mode Selector",path:["executor","inverter","work_mode_entity"],type:"entity"},{key:"executor.inverter.grid_charging_entity",label:"Grid Charging Switch",path:["executor","inverter","grid_charging_entity"],type:"entity"},{key:"executor.inverter.max_charging_current_entity",label:"Max Charge Current",path:["executor","inverter","max_charging_current_entity"],type:"entity"},{key:"executor.inverter.max_discharging_current_entity",label:"Max Discharge Current",path:["executor","inverter","max_discharging_current_entity"],type:"entity"}]},{title:"Optional HA Entities",isHA:!0,description:"Optional sensors for better forecasting and dashboard metrics.",fields:[{key:"executor.automation_toggle_entity",label:"Automation Toggle",path:["executor","automation_toggle_entity"],type:"entity"},{key:"executor.manual_override_entity",label:"Manual Override Toggle",path:["executor","manual_override_entity"],type:"entity"},{key:"executor.soc_target_entity",label:"Target SoC Feedback",path:["executor","soc_target_entity"],type:"entity"},{key:"executor.water_heater.target_entity",label:"Water Heater Setpoint",path:["executor","water_heater","target_entity"],type:"entity"},{key:"input_sensors.vacation_mode",label:"Vacation Mode Toggle",path:["input_sensors","vacation_mode"],type:"entity"},{key:"input_sensors.alarm_state",label:"Alarm Control Panel",path:["input_sensors","alarm_state"],type:"entity"},{key:"input_sensors.water_heater_consumption",label:"Water Heater Daily Energy",path:["input_sensors","water_heater_consumption"],type:"entity"},{key:"input_sensors.today_net_cost",label:"Today's Net Cost",path:["input_sensors","today_net_cost"],type:"entity"},{key:"input_sensors.total_battery_charge",label:"Total Battery Charge (kWh)",path:["input_sensors","total_battery_charge"],type:"entity"},{key:"input_sensors.total_battery_discharge",label:"Total Battery Discharge (kWh)",path:["input_sensors","total_battery_discharge"],type:"entity"},{key:"input_sensors.total_grid_export",label:"Total Grid Export (kWh)",path:["input_sensors.total_grid_export"],type:"entity"},{key:"input_sensors.total_grid_import",label:"Total Grid Import (kWh)",path:["input_sensors.total_grid_import"],type:"entity"},{key:"input_sensors.total_load_consumption",label:"Total Load Consumption (kWh)",path:["input_sensors.total_load_consumption"],type:"entity"},{key:"input_sensors.total_pv_production",label:"Total PV Production (kWh)",path:["input_sensors.total_pv_production"],type:"entity"}]}],mk=[{title:"Charging Strategy",description:"Price smoothing, consolidation tolerances, and gap settings that govern charge windows.",fields:[{key:"charging_strategy.price_smoothing_sek_kwh",label:"Price smoothing (SEK/kWh)",path:["charging_strategy","price_smoothing_sek_kwh"],type:"number"},{key:"charging_strategy.block_consolidation_tolerance_sek",label:"Consolidation tolerance (SEK)",path:["charging_strategy","block_consolidation_tolerance_sek"],type:"number"},{key:"charging_strategy.consolidation_max_gap_slots",label:"Max gap slots",path:["charging_strategy","consolidation_max_gap_slots"],type:"number"},{key:"charging_strategy.charge_threshold_percentile",label:"Charge threshold (percentile)",path:["charging_strategy","charge_threshold_percentile"],type:"number"},{key:"charging_strategy.cheap_price_tolerance_sek",label:"Cheap price tolerance (SEK)",path:["charging_strategy","cheap_price_tolerance_sek"],type:"number"}]},{title:"Arbitrage & Export",description:"Export thresholds, peak-only export, and future guard buffers.",fields:[{key:"arbitrage.export_percentile_threshold",label:"Export percentile threshold",path:["arbitrage","export_percentile_threshold"],type:"number"},{key:"arbitrage.enable_peak_only_export",label:"Enable peak-only export",path:["arbitrage","enable_peak_only_export"],type:"boolean",helper:"Override to only export when we hit the percentile threshold."},{key:"arbitrage.export_future_price_guard",label:"Future price guard",path:["arbitrage","export_future_price_guard"],type:"boolean"},{key:"arbitrage.future_price_guard_buffer_sek",label:"Future guard buffer (SEK)",path:["arbitrage","future_price_guard_buffer_sek"],type:"number"},{key:"arbitrage.export_profit_margin_sek",label:"Export profit margin (SEK)",path:["arbitrage","export_profit_margin_sek"],type:"number"}]},{title:"Water Heating",description:"Quota, deferral, and sizing controls for the water heater scheduler.",fields:[{key:"water_heating.power_kw",label:"Water heater power (kW)",path:["water_heating","power_kw"],type:"number"},{key:"water_heating.defer_up_to_hours",label:"Max defer hours",path:["water_heating","defer_up_to_hours"],type:"number"},{key:"water_heating.max_blocks_per_day",label:"Max blocks per day",path:["water_heating","max_blocks_per_day"],type:"number"},{key:"water_heating.min_kwh_per_day",label:"Min kWh/day",path:["water_heating","min_kwh_per_day"],type:"number"},{key:"water_heating.min_spacing_hours",label:"Min spacing (hours)",path:["water_heating","min_spacing_hours"],type:"number",helper:"Minimum gap between heating sessions to avoid efficiency loss."},{key:"water_heating.spacing_penalty_sek",label:"Spacing penalty (SEK)",path:["water_heating","spacing_penalty_sek"],type:"number",helper:"Penalty applied when heating sessions are too close."},{key:"water_heating.schedule_future_only",label:"Schedule future only",path:["water_heating","schedule_future_only"],type:"boolean"}]},{title:"Learning Parameter Limits",description:"Limits that keep learning adjustments conservative.",fields:[{key:"learning.min_sample_threshold",label:"Min sample threshold",path:["learning","min_sample_threshold"],type:"number"},{key:"learning.min_improvement_threshold",label:"Min improvement (%)",path:["learning","min_improvement_threshold"],type:"number"},{key:"learning.max_daily_param_change.battery_use_margin_sek",label:"Battery margin change (SEK)",path:["learning","max_daily_param_change","battery_use_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.export_profit_margin_sek",label:"Export margin change (SEK)",path:["learning","max_daily_param_change","export_profit_margin_sek"],type:"number"},{key:"learning.max_daily_param_change.future_price_guard_buffer_sek",label:"Future guard buffer change (SEK)",path:["learning","max_daily_param_change","future_price_guard_buffer_sek"],type:"number"},{key:"learning.max_daily_param_change.load_safety_margin_percent",label:"Load safety change (%)",path:["learning","max_daily_param_change","load_safety_margin_percent"],type:"number"},{key:"learning.max_daily_param_change.pv_confidence_percent",label:"PV confidence change (%)",path:["learning","max_daily_param_change","pv_confidence_percent"],type:"number"},{key:"learning.max_daily_param_change.s_index_base_factor",label:"S-index base change",path:["learning","max_daily_param_change","s_index_base_factor"],type:"number"},{key:"learning.max_daily_param_change.s_index_pv_deficit_weight",label:"S-index PV weight change",path:["learning","max_daily_param_change","s_index_pv_deficit_weight"],type:"number"},{key:"learning.max_daily_param_change.s_index_temp_weight",label:"S-index temp weight change",path:["learning","max_daily_param_change","s_index_temp_weight"],type:"number"}]},{title:"S-Index Safety",description:"Seasonal index parameters for reserve calculations.",fields:[{key:"s_index.temp_cold_c",label:"Cold temp (C)",path:["s_index","temp_cold_c"],type:"number"},{key:"s_index.s_index_horizon_days",label:"S-Index Horizon (days)",path:["s_index","s_index_horizon_days"],type:"select",options:[{label:"1 Day",value:"1"},{label:"2 Days",value:"2"},{label:"3 Days",value:"3"},{label:"4 Days",value:"4"},{label:"5 Days",value:"5"},{label:"6 Days",value:"6"},{label:"7 Days",value:"7"}]}]}],i0=Fg.flatMap(t=>t.fields),Qz=i0.reduce((t,e)=>(t[e.key]=e,t),{}),a0=mk.flatMap(t=>t.fields),Jz=a0.reduce((t,e)=>(t[e.key]=e,t),{}),pk=[{title:"Dashboard Defaults",description:"Overlay defaults and refresh cadence for the planner dashboard.",fields:[{key:"dashboard.auto_refresh_enabled",label:"Auto refresh",helper:"Enable automatic refresh of the dashboard schedule.",path:["dashboard","auto_refresh_enabled"],type:"boolean"}]},{title:"AI Advisor",description:"Control the Smart Advisor LLM settings.",fields:[{key:"advisor.enable_llm",label:"Enable LLM advice",path:["advisor","enable_llm"],type:"boolean"},{key:"advisor.auto_fetch",label:"Auto-fetch advice on dashboard load",path:["advisor","auto_fetch"],type:"boolean"},{key:"advisor.personality",label:"Advisor personality",path:["advisor","personality"],type:"select",options:[{label:"Concise (Money focus)",value:"concise"},{label:"Friendly (Emoji style)",value:"friendly"},{label:"Technical (Data heavy)",value:"technical"}]}]}],gk=[{title:"Experimental Features",description:"Toggle advanced and experimental modes.",fields:[{key:"automation.external_executor_mode",label:"External Executor Mode",helper:"When enabled, Darkstar expects an external system to execute the plan.",path:["automation","external_executor_mode"],type:"boolean"},{key:"automation.write_to_mariadb",label:"Log to MariaDB",helper:"Requires MariaDB credentials in secrets.yaml",path:["automation","write_to_mariadb"],type:"boolean"}]},{title:"Danger Zone",description:"Sensitive actions. Proceed with caution.",fields:[]}],r0=pk.flatMap(t=>t.fields),eP=r0.reduce((t,e)=>(t[e.key]=e,t),{}),o0=gk.flatMap(t=>t.fields),tP=o0.reduce((t,e)=>(t[e.key]=e,t),{});function Ei(t,e){return e.reduce((s,n)=>s&&typeof s=="object"?s[n]:void 0,t)}function zh(t,e,s){let n=t;e.forEach((a,o)=>{if(o===e.length-1){n[a]=s;return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]})}function kd(t){const e={};return i0.forEach(s=>{const n=t?Ei(t,s.path):void 0;s.type==="boolean"?e[s.key]=n===!0?"true":"false":e[s.key]=n!=null?String(n):""}),e}function Md(t){const e={};return a0.forEach(s=>{const n=t?Ei(t,s.path):void 0;s.type==="boolean"?e[s.key]=n===!0?"true":"false":s.type==="array"&&Array.isArray(n)?e[s.key]=n.join(", "):e[s.key]=n!=null?String(n):""}),e}function sP(t,e){const s=e.trim();if(t.type==="number"){if(s==="")return null;const n=Number(s);return Number.isNaN(n)?void 0:n}return t.type==="boolean"?s==="true":s}function nP(t,e){const s=e.trim();if(t.type==="number"){if(s==="")return null;const n=Number(s);return Number.isNaN(n)?void 0:n}return t.type==="boolean"?s==="true":t.type==="array"?s?s.split(",").map(o=>o.trim()).filter(Boolean).map(o=>Number(o)).filter(o=>!Number.isNaN(o)):[]:s}function iP(t,e){const s={};return i0.forEach(n=>{const a=e[n.key]??"",o=sP(n,a);if(o===void 0||n.type==="number"&&o===null)return;const c=Ei(t,n.path);o!==c&&zh(s,n.path,o)}),s}function aP(t,e){const s={};return a0.forEach(n=>{const a=e[n.key]??"",o=nP(n,a);if(o===void 0)return;const c=Ei(t,n.path);(()=>{if(n.type==="array"){if(!Array.isArray(o)||!Array.isArray(c)||o.length!==c.length)return!1;for(let f=0;f<o.length;f+=1)if(o[f]!==c[f])return!1;return!0}return o===c})()||zh(s,n.path,o)}),s}function Yp(t){const e={};return r0.forEach(s=>{const n=t?Ei(t,s.path):void 0;s.type==="boolean"?e[s.key]=n===!0?"true":"false":e[s.key]=n!=null?String(n):""}),t?.dashboard?.overlay_defaults!==void 0&&(e["dashboard.overlay_defaults"]=String(t.dashboard.overlay_defaults)),e}function Wp(t){const e={};return o0.forEach(s=>{const n=t?Ei(t,s.path):void 0;e[s.key]=n===!0?"true":"false"}),e}function rP(t,e){const s=e.trim();return t.type==="boolean"?s===""?null:s==="true"?!0:s==="false"?!1:void 0:s}function oP(t,e){const s=e.trim();return t.type==="boolean"?s===""?null:s==="true"?!0:s==="false"?!1:void 0:s}function lP(t,e){const s={};r0.forEach(a=>{const o=e[a.key]??"",c=rP(a,o);if(c===void 0||a.type==="boolean"&&c===null)return;const d=Ei(t,a.path);c!==d&&zh(s,a.path,c)});const n=e["dashboard.overlay_defaults"];if(n!==void 0){const a=Ei(t,["dashboard","overlay_defaults"]);n!==a&&(s.dashboard||(s.dashboard={}),s.dashboard.overlay_defaults=n)}return s}function cP(t,e){const s={};return o0.forEach(n=>{const a=e[n.key]??"",o=oP(n,a);if(o===void 0||n.type==="boolean"&&o===null)return;const c=Ei(t,n.path);o!==c&&zh(s,n.path,o)}),s}function uP(){const{toast:t}=fk(),[e,s]=N.useState("system"),[n,a]=N.useState(null),[o,c]=N.useState(()=>kd(null)),[d,f]=N.useState(()=>Md(null)),[m,g]=N.useState(()=>Yp(null)),[x,b]=N.useState(()=>Wp(null)),[v,w]=N.useState({}),[S,j]=N.useState({}),[M,T]=N.useState({}),[E,O]=N.useState({}),[L,C]=N.useState(!0),[A,z]=N.useState(null),[I,K]=N.useState(!1),[Z,oe]=N.useState(!1),[De,xe]=N.useState(!1),[_e,F]=N.useState(!1),[G,ae]=N.useState(null),[ne,ce]=N.useState(null),[R,H]=N.useState(null),[ee,D]=N.useState(null),[se,fe]=N.useState([]),[Ce,ft]=N.useState(null),[Xe,es]=N.useState(null),[rs,me]=N.useState(!0),[st,mt]=N.useState(null),[$s,gn]=N.useState(!1),[qe,$t]=N.useState(null),[Tn,Gn]=N.useState(!1),[Bi,vs]=N.useState(!1),[Ra,Ft]=N.useState(null),[Vi,La]=N.useState([]),[zs,$n]=N.useState(!1),[Xn,js]=N.useState(null),Fi=async()=>{$n(!0);try{const $=await he.haEntities();La($.entities||[])}catch($){console.error("Failed to load HA entities",$)}finally{$n(!1)}},jr=async()=>{js("Testing...");try{const $=o["home_assistant.url"],J=o["home_assistant.token"],ue=await he.haTest({url:$,token:J});ue.success?(js("Success: Connected!"),Fi()):js(`Error: ${ue.message}`)}catch($){js(`Error: ${$.message}`)}},Xs=async()=>{C(!0),z(null);try{const $=await he.config();a($),c(kd($)),f(Md($)),g(Yp($)),b(Wp($));const J=$?.ui?.theme_accent_index;es(typeof J=="number"?J:null)}catch($){z($?.message||"Failed to load configuration")}finally{C(!1)}},Xt=async()=>{me(!0),mt(null);try{const $=await he.theme();fe($.themes),ft($.current??null),es($.accent_index??null)}catch($){mt($?.message||"Failed to load themes")}finally{me(!1)}};N.useEffect(()=>{Xs(),Xt(),Fi()},[]);const Ht=($,J)=>{const ue=Qz[$];if(ue&&(c(be=>({...be,[$]:J})),ae(null),ue.type==="number")){const be=J.trim();w(ie=>{const de={...ie};be===""?de[$]="Required":Number.isNaN(Number(be))?de[$]="Must be a number":$.includes("percent")&&(Number(be)<0||Number(be)>100)?de[$]="Must be between 0 and 100":$.includes("power_kw")&&Number(be)<0?de[$]="Must be positive":$.includes("capacity_kwh")&&Number(be)<=0?de[$]="Must be greater than 0":$==="nordpool.resolution_minutes"&&![15,30,60].includes(Number(be))?de[$]="Must be 15, 30, or 60":delete de[$];const it="battery.min_soc_percent",Ge="battery.max_soc_percent",Ut=$===it?be:(o[it]??"").trim(),Kt=$===Ge?be:(o[Ge]??"").trim(),Hi=Number(Ut),Io=Number(Kt);return!Number.isNaN(Hi)&&!Number.isNaN(Io)&&(Hi>=Io?(de[it]="Min SoC must be less than max SoC",de[Ge]="Max SoC must be greater than min SoC"):(de[it]&&de[it].startsWith("Min SoC")&&delete de[it],de[Ge]&&de[Ge].startsWith("Max SoC")&&delete de[Ge])),de})}},Ot=($,J)=>{const ue=Jz[$];if(ue&&(f(be=>({...be,[$]:J})),ce(null),ue.type==="number")){const be=J.trim();j(ie=>{const de={...ie};return be===""?de[$]="Required":Number.isNaN(Number(be))?de[$]="Must be a number":$.includes("percent")&&(Number(be)<0||Number(be)>100)?de[$]="Must be between 0 and 100":$.includes("sek")&&Number(be)<0||$.includes("power_kw")&&Number(be)<0?de[$]="Must be positive":$.includes("kwh")&&Number(be)<=0?de[$]="Must be greater than 0":delete de[$],de})}},Dn=($,J)=>{const ue=eP[$];if(!(!ue&&$!=="dashboard.overlay_defaults")&&(g(be=>({...be,[$]:J})),H(null),$!=="dashboard.overlay_defaults"&&ue.type==="boolean")){const be=J.trim();T(ie=>{const de={...ie};return be===""?de[$]="Required":be!=="true"&&be!=="false"?de[$]="Invalid value":delete de[$],de})}},za=($,J)=>{const ue=tP[$];if(ue&&(b(be=>({...be,[$]:J})),D(null),ue.type==="boolean")){const be=J.trim();O(ie=>{const de={...ie};return be===""?de[$]="Required":be!=="true"&&be!=="false"?de[$]="Invalid value":delete de[$],de})}},Be=Object.values(v).filter(Boolean).length>0,Rt=Object.values(S).filter(Boolean).length>0,_s=async()=>{if(!n)return;if(Be){ae("Fix validation errors before saving.");return}const $=iP(n,o);if(!Object.keys($).length){ae("No changes detected.");return}K(!0),ae(null);try{const J=await he.configSave($);if(J.status!=="success"){const be={};J.errors?.forEach(ie=>{ie.field&&(be[ie.field]=ie.message||"Invalid value")}),Object.keys(be).length?(w(ie=>({...ie,...be})),ae("Fix highlighted fields before saving.")):ae(J.errors&&J.errors[0]?.message?J.errors[0].message:"Save failed.");return}const ue=await he.config();a(ue),c(kd(ue)),f(Md(ue)),w({}),w({}),ae("System settings saved."),t({message:"System settings saved",variant:"success"})}catch(J){const ue=J instanceof Error?J.message:"Unknown error";ae(`Save failed: ${ue}`),t({message:`Save failed: ${ue}`,variant:"error"})}finally{K(!1)}},ts=async()=>{if(!n)return;if(Rt){ce("Fix validation errors before saving.");return}const $=aP(n,d);if(!Object.keys($).length){ce("No changes detected.");return}oe(!0),ce(null);try{const J=await he.configSave($);if(J.status!=="success"){const be={};J.errors?.forEach(ie=>{ie.field&&(be[ie.field]=ie.message||"Invalid value")}),Object.keys(be).length?(j(ie=>({...ie,...be})),ce("Fix highlighted fields before saving.")):ce(J.errors&&J.errors[0]?.message?J.errors[0].message:"Save failed.");return}const ue=await he.config();a(ue),c(kd(ue)),f(Md(ue)),j({}),j({}),ce("Parameters saved."),t({message:"Parameters saved",variant:"success"})}catch(J){const ue=J instanceof Error?J.message:"Unknown error";ce(`Save failed: ${ue}`),t({message:`Save failed: ${ue}`,variant:"error"})}finally{oe(!1)}},Ns=async()=>{if(!n)return;if(Object.values(M).filter(Boolean).length>0){H("Fix validation errors before saving.");return}const J=lP(n,m);if(!Object.keys(J).length){H("No changes detected.");return}xe(!0),H(null);try{const ue=await he.configSave(J);if(ue.status!=="success"){const ie={};ue.errors?.forEach(de=>{de.field&&(ie[de.field]=de.message||"Invalid value")}),Object.keys(ie).length?(T(de=>({...de,...ie})),H("Fix highlighted fields before saving.")):H(ue.errors&&ue.errors[0]?.message?ue.errors[0].message:"Save failed.");return}const be=await he.config();a(be),g(Yp(be)),T({}),T({}),H("UI preferences saved."),t({message:"UI preferences saved",variant:"success"})}catch(ue){const be=ue instanceof Error?ue.message:"Unknown error";H(`Save failed: ${be}`),t({message:`Save failed: ${be}`,variant:"error"})}finally{xe(!1)}},ws=async()=>{if(!n)return;if(Object.values(E).filter(Boolean).length>0){D("Fix validation errors before saving.");return}const J=cP(n,x);if(!Object.keys(J).length){D("No changes detected.");return}F(!0),D(null);try{const ue=await he.configSave(J);if(ue.status!=="success"){const ie={};ue.errors?.forEach(de=>{de.field&&(ie[de.field]=de.message||"Invalid value")}),Object.keys(ie).length?(O(de=>({...de,...ie})),D("Fix highlighted fields before saving.")):D(ue.errors&&ue.errors[0]?.message?ue.errors[0].message:"Save failed.");return}const be=await he.config();a(be),b(Wp(be)),O({}),O({}),D("Advanced settings saved."),t({message:"Advanced settings saved",variant:"success"})}catch(ue){const be=ue instanceof Error?ue.message:"Unknown error";D(`Save failed: ${be}`),t({message:`Save failed: ${be}`,variant:"error"})}finally{F(!1)}},Ks=async()=>{if(!Ce){$t("Select a theme before applying.");return}gn(!0),$t(null);try{await he.setTheme({theme:Ce,accent_index:Xe??void 0}),await Xt(),await Xs(),$t("Theme applied successfully."),t({message:"Theme applied successfully",variant:"success"})}catch($){$t($?.message||"Failed to apply theme"),t({message:"Failed to apply theme",variant:"error"})}finally{gn(!1)}},Kn=$=>{const J=$.trim();if(J===""){es(null);return}const ue=Number(J);Number.isNaN(ue)||es(Math.max(0,Math.min(15,ue)))},Cn=async()=>{Gn(!0),Ft(null);try{await he.configReset(),w({}),j({}),T({}),O({}),await Xs(),await Xt(),Ft("All settings have been reset to default values."),Ft("All settings have been reset to default values."),vs(!1),t({message:"Settings reset complete",variant:"success"})}catch($){const J=$ instanceof Error?$.message:"Unknown error";t({message:`Reset failed: ${J}`,variant:"error"})}finally{Gn(!1)}},je=()=>L?u.jsx(Ee,{className:"p-6 text-sm text-muted",children:"Loading system configuration"}):A?u.jsx(Ee,{className:"p-6 text-sm text-red-400",children:A}):u.jsxs("div",{className:"space-y-4",children:[Fg.map(($,J)=>{const ue=J>0?Fg[J-1]:null,be=$.isHA&&ue&&!ue.isHA;return u.jsxs("div",{children:[be&&u.jsxs("div",{className:"py-8 flex items-center gap-4",children:[u.jsx("div",{className:"h-px flex-1 bg-line/30"}),u.jsx("span",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-muted whitespace-nowrap",children:"Home Assistant Integration"}),u.jsx("div",{className:"h-px flex-1 bg-line/30"})]}),u.jsxs(Ee,{className:"p-6",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:$.title}),u.jsx("p",{className:"text-xs text-muted mt-1",children:$.description})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"System"})]}),u.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:$.fields.map(ie=>{const de=ie.key==="system.solar_array.azimuth",it=ie.key==="system.solar_array.tilt";if(de){const Ge=o[ie.key],Ut=Ge&&Ge.trim()!==""?Number(Ge):null;return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ie.label,u.jsx(ha,{text:fa[ie.key]||ie.helper})]}),u.jsx(qz,{value:typeof Ut=="number"&&!Number.isNaN(Ut)?Ut:null,onChange:Kt=>Ht(ie.key,String(Math.round(Kt)))}),u.jsx("input",{type:"number",inputMode:"decimal",value:o[ie.key]??"",onChange:Kt=>Ht(ie.key,Kt.target.value),className:"mt-2 w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"}),ie.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ie.helper}),v[ie.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:v[ie.key]})]},ie.key)}if(it){const Ge=o[ie.key],Ut=Ge&&Ge.trim()!==""?Number(Ge):null;return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ie.label,u.jsx(ha,{text:fa[ie.key]||ie.helper})]}),u.jsx(Gz,{value:typeof Ut=="number"&&!Number.isNaN(Ut)?Ut:null,onChange:Kt=>Ht(ie.key,String(Math.round(Kt)))}),u.jsx("input",{type:"number",inputMode:"decimal",value:o[ie.key]??"",onChange:Kt=>Ht(ie.key,Kt.target.value),className:"mt-2 w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"}),ie.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ie.helper}),v[ie.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:v[ie.key]})]},ie.key)}return ie.type==="entity"?u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ie.label,u.jsx(ha,{text:fa[ie.key]||ie.helper})]}),u.jsx($z,{entities:Vi,value:o[ie.key]??"",onChange:Ge=>Ht(ie.key,Ge),loading:zs,placeholder:"Select entity..."}),ie.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ie.helper})]},ie.key):ie.type==="service"?u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ie.label,u.jsx(ha,{text:fa[ie.key]||ie.helper})]}),u.jsx(Xz,{value:o[ie.key]??"",onChange:Ge=>Ht(ie.key,Ge),placeholder:"Select notification service..."}),ie.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ie.helper})]},ie.key):ie.type==="boolean"?u.jsxs("div",{className:"flex flex-col justify-center",children:[u.jsxs("div",{className:"flex items-center gap-3 h-full",children:[u.jsx(ac,{checked:o[ie.key]==="true",onCheckedChange:Ge=>Ht(ie.key,Ge?"true":"false")}),u.jsx("span",{className:"font-semibold text-sm",children:ie.label})]}),ie.helper&&u.jsx("p",{className:"text-[11px] text-muted ml-6 mt-1",children:ie.helper})]},ie.key):u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[ie.label,u.jsx(ha,{text:fa[ie.key]||ie.helper})]}),u.jsx("input",{type:ie.type==="number"?"number":"text",inputMode:ie.type==="number"?"decimal":void 0,value:o[ie.key]??"",onChange:Ge=>Ht(ie.key,Ge.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"}),ie.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:ie.helper}),v[ie.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:v[ie.key]})]},ie.key)})}),$.title==="Home Assistant Connection"&&u.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:jr,className:"rounded-xl px-4 py-2 text-[11px] font-semibold bg-neutral hover:bg-neutral/80 text-white transition",children:Xn&&Xn.startsWith("Testing")?"Testing...":"Test Connection"}),Xn&&u.jsx("span",{className:`text-xs ${Xn.startsWith("Success")?"text-green-400":"text-red-400"}`,children:Xn})]})]})]},$.title)}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{disabled:I||L,onClick:_s,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:I?"Saving":"Save System Settings"}),G&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${G.startsWith("Failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:G})]})]}),ks=()=>L?u.jsx(Ee,{className:"p-6 text-sm text-muted",children:"Loading parameter configuration"}):A?u.jsx(Ee,{className:"p-6 text-sm text-red-400",children:A}):u.jsxs("div",{className:"space-y-4",children:[mk.map($=>u.jsxs(Ee,{className:"p-6",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:$.title}),u.jsx("p",{className:"text-xs text-muted mt-1",children:$.description})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Parameters"})]}),u.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:$.fields.map(J=>u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"block text-sm font-medium mb-1.5",children:[J.label,u.jsx(ha,{text:fa[J.key]||J.helper})]}),J.type==="select"?u.jsx(Vg,{value:d[J.key]??"",onChange:ue=>Ot(J.key,ue),options:J.options||[],placeholder:"Select..."}):J.type==="boolean"?u.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[u.jsx(ac,{checked:d[J.key]==="true",onCheckedChange:ue=>Ot(J.key,ue?"true":"false")}),u.jsx("span",{className:"text-sm font-semibold",children:"Enabled"})]}):u.jsx("input",{type:J.type==="number"?"number":"text",inputMode:J.type==="number"?"decimal":void 0,value:d[J.key]??"",onChange:ue=>Ot(J.key,ue.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"}),J.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:J.helper}),S[J.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:S[J.key]})]},J.key))})]},$.title)),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{disabled:Z||L,onClick:ts,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:Z?"Saving & Re-planning":"Save & Re-plan"}),ne&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${ne.startsWith("Failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:ne})]})]}),ss=()=>L?u.jsx(Ee,{className:"p-6 text-sm text-muted",children:"Loading UI configuration"}):A?u.jsx(Ee,{className:"p-6 text-sm text-red-400",children:A}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs(Ee,{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:"Theme & Appearance"}),u.jsx("p",{className:"text-xs text-muted mt-1",children:"Select a theme for the app and adjust the accent color."})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"UI"})]}),rs?u.jsx("p",{className:"text-sm text-muted",children:"Loading themes"}):st?u.jsx("p",{className:"text-sm text-red-400",children:st}):u.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:se.map($=>{const J=Ce===$.name;return u.jsxs("button",{type:"button",onClick:()=>ft($.name),className:`group flex flex-col gap-2 rounded-xl border p-3 text-left transition ${J?"border-accent shadow-sm":"border-line/50 hover:border-white/40"}`,children:[u.jsx("div",{className:"text-sm font-semibold",children:$.name}),u.jsx("div",{className:"flex h-6 overflow-hidden rounded-sm border border-line/40",children:$.palette.slice(0,4).map(ue=>u.jsx("span",{className:"flex-1",style:{backgroundColor:ue}},`${$.name}-${ue}`))}),u.jsx("div",{className:"text-[10px] uppercase text-muted tracking-wide",children:J?"Selected":"Select"})]},$.name)})}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:"Accent index"}),u.jsx("input",{type:"number",min:0,max:15,value:Xe??"",onChange:$=>Kn($.target.value),className:"h-10 w-20 rounded-lg border border-line/50 bg-surface2 px-3 text-sm focus:border-accent focus:outline-none"}),u.jsx("button",{disabled:$s||rs,onClick:Ks,className:"rounded-pill bg-accent px-4 py-2 text-sm font-semibold text-[#100f0e] shadow-sm transition hover:bg-accent2 disabled:opacity-50",children:$s?"Applying":"Apply theme"}),qe&&u.jsx("p",{className:`text-sm ${qe.startsWith("Failed")?"text-red-400":"text-muted"}`,children:qe})]})]}),pk.map($=>u.jsxs(Ee,{className:"p-6",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:$.title}),u.jsx("p",{className:"text-xs text-muted mt-1",children:$.description})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"UI"})]}),u.jsxs("div",{className:"space-y-4",children:[$.title==="Dashboard Defaults"&&u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:"Overlay defaults"}),u.jsx("p",{className:"text-[11px] text-muted mb-3",children:"Select which overlays are enabled by default on the dashboard."}),u.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3",children:(()=>{const J=m["dashboard.overlay_defaults"]||"",ue=[...new Set(J.split(",").map(de=>de.trim().toLowerCase()))],be=!ue.includes("load_off"),ie=(de,it)=>{const Ge=[...new Set(J.split(",").map(Kt=>Kt.trim().toLowerCase()))];let Ut;it?Ut=Ge.filter(Kt=>Kt!==de.toLowerCase()):Ut=[...Ge,de.toLowerCase()],Dn("dashboard.overlay_defaults",Ut.join(", "))};return u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>ie("load_off",!be),className:`rounded-pill px-3 py-1 border text-[11px] transition ${be?"bg-accent text-[#100f0e] border-accent":"border-line/60 text-muted hover:border-accent"}`,children:"Load"}),[["Charge","charge"],["Discharge","discharge"],["Export","export"],["Water","water"],["SoC Target","socTarget"],["SoC Projected","socProjected"]].map(([de,it])=>{const Ge=ue.includes(it.toLowerCase());return u.jsx("button",{type:"button",onClick:()=>{const Ut=[...new Set(J.split(",").map(Hi=>Hi.trim().toLowerCase()))];let Kt;Ge?Kt=Ut.filter(Hi=>Hi!==it.toLowerCase()):Kt=[...Ut,it.toLowerCase()],Dn("dashboard.overlay_defaults",Kt.join(", "))},className:`rounded-pill px-3 py-1 border text-[11px] transition ${Ge?"bg-accent text-[#100f0e] border-accent":"border-line/60 text-muted hover:border-accent"}`,children:de},it)})]})})()})]})}),u.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:$.fields.map(J=>u.jsxs("div",{className:"space-y-1",children:[J.type==="boolean"?u.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[u.jsx(ac,{checked:m[J.key]==="true",onCheckedChange:ue=>Dn(J.key,ue?"true":"false")}),u.jsx("span",{className:"text-sm font-semibold",children:J.label})]}):J.type==="select"?u.jsxs(u.Fragment,{children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[J.label,u.jsx(ha,{text:fa[J.key]||J.helper})]}),u.jsx(Vg,{value:m[J.key]??"",onChange:ue=>Dn(J.key,ue),options:J.options||[],placeholder:"Select..."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-wide text-muted",children:[J.label,u.jsx(ha,{text:fa[J.key]||J.helper})]}),u.jsx("input",{type:"text",value:m[J.key]??"",onChange:ue=>Dn(J.key,ue.target.value),className:"w-full rounded-lg border border-line/50 bg-surface2 px-3 py-2 text-sm text-white focus:border-accent focus:outline-none"})]}),J.helper&&u.jsx("p",{className:"text-[11px] text-muted",children:J.helper}),M[J.key]&&u.jsx("p",{className:"text-[11px] text-red-400",children:M[J.key]})]},J.key))})]})]},$.title)),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{disabled:De||L,onClick:Ns,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:De?"Saving":"Save UI Preferences"}),R&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${R.startsWith("Failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:R})]})]}),An=()=>L?u.jsx(Ee,{className:"p-6 text-sm text-muted",children:"Loading advanced configuration"}):A?u.jsx(Ee,{className:"p-6 text-sm text-red-400",children:A}):u.jsxs("div",{className:"space-y-4",children:[gk.filter($=>$.title!=="Danger Zone").map($=>u.jsxs(Ee,{className:"p-6",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:$.title}),u.jsx("p",{className:"text-xs text-muted mt-1",children:$.description})]}),u.jsx("span",{className:"text-[10px] uppercase text-muted tracking-wide",children:"Advanced"})]}),u.jsx("div",{className:"mt-5 grid gap-4 sm:grid-cols-2",children:$.fields.map(J=>u.jsxs("div",{className:"space-y-1",children:[J.type==="boolean"&&u.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[u.jsx(ac,{checked:x[J.key]==="true",onCheckedChange:ue=>za(J.key,ue?"true":"false")}),u.jsx("span",{className:"text-sm font-semibold",children:J.label})]}),J.helper&&u.jsx("p",{className:"text-[11px] text-muted ml-6",children:J.helper}),E[J.key]&&u.jsx("p",{className:"text-[11px] text-red-400 ml-6",children:E[J.key]})]},J.key))})]},$.title)),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{disabled:_e||L,onClick:ws,className:"flex items-center justify-center gap-2 rounded-xl px-3 py-2.5 text-[11px] font-semibold transition btn-glow-primary bg-accent hover:bg-accent2 text-[#100f0e] disabled:opacity-50",children:_e?"Saving":"Save Advanced Settings"}),ee&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${ee.startsWith("Failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:ee})]}),u.jsx("div",{className:"py-8",children:u.jsx("div",{className:"h-px bg-line/20"})}),u.jsxs(Ee,{className:"border-red-500/30 bg-red-500/5 p-6",children:[u.jsx("div",{className:"flex items-center justify-between gap-4",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-bold text-red-400",children:"Danger Zone"}),u.jsx("p",{className:"text-xs text-red-400/70 mt-1",children:"Irreversible actions that affect your entire system configuration."})]})}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{type:"button",onClick:()=>vs(!0),className:"rounded-lg bg-[#EE3B47] px-4 py-2 text-xs font-bold uppercase tracking-wider text-white transition hover:bg-[#D6323D]",children:"Reset all settings to defaults"})})]})]});return u.jsxs(u.Fragment,{children:[u.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-8 sm:px-6 lg:pt-12 space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-semibold",children:"Settings"}),u.jsx("p",{className:"text-sm text-muted",children:"System, parameters, and UI preferences collected into one modern surface."})]})}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Zz.map($=>{const J=e===$.id;return u.jsx("button",{onClick:()=>s($.id),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${J?"bg-accent text-[#0F1216] shadow-sm":"bg-surface border border-line/50 text-muted"}`,children:$.label},$.id)})}),Ra&&u.jsx("div",{className:`rounded-lg p-3 text-sm ${Ra.startsWith("Reset failed")?"bg-red-500/10 border border-red-500/30 text-red-400":"bg-green-500/10 border border-green-500/30 text-green-400"}`,children:Ra}),e==="system"?je():e==="parameters"?ks():e==="ui"?ss():An()]}),u.jsx(dk,{open:Bi,onOpenChange:vs,title:u.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[u.jsx(rc,{className:"h-5 w-5"}),u.jsx("span",{children:"Danger Connection Reset"})]}),children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"rounded-md bg-red-500/10 p-4 border border-red-500/20",children:u.jsx("p",{className:"text-sm font-medium text-red-300",children:"Are you absolute sure? This action cannot be undone."})}),u.jsx("p",{className:"text-sm text-muted",children:"This will reset all system configuration, parameters, and UI preferences to their default values. The application will reload after resetting."}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>vs(!1),className:"rounded-lg bg-surface px-4 py-2 text-sm font-semibold text-muted hover:text-text transition",children:"Cancel"}),u.jsx("button",{type:"button",onClick:Cn,disabled:Tn,className:"rounded-lg bg-red-500 px-4 py-2 text-sm font-bold text-white shadow-lg transition hover:bg-red-600 disabled:opacity-50",children:Tn?"Resetting...":"Yes, reset everything"})]})]})})]})}const xk="label";function Pw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function dP(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function yk(t,e){t.labels=e}function bk(t,e,s=xk){const n=[];t.datasets=e.map(a=>{const o=t.datasets.find(c=>c[s]===a[s]);return!o||!a.data||n.includes(o)?{...a}:(n.push(o),Object.assign(o,a),o)})}function hP(t,e=xk){const s={labels:[],datasets:[]};return yk(s,t.labels),bk(s,t.datasets,e),s}function fP(t,e){const{height:s=150,width:n=300,redraw:a=!1,datasetIdKey:o,type:c,data:d,options:f,plugins:m=[],fallbackContent:g,updateMode:x,...b}=t,v=N.useRef(null),w=N.useRef(null),S=()=>{v.current&&(w.current=new kn(v.current,{type:c,data:hP(d,o),options:f&&{...f},plugins:m}),Pw(e,w.current))},j=()=>{Pw(e,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!a&&w.current&&f&&dP(w.current,f)},[a,f]),N.useEffect(()=>{!a&&w.current&&yk(w.current.config.data,d.labels)},[a,d.labels]),N.useEffect(()=>{!a&&w.current&&d.datasets&&bk(w.current.config.data,d.datasets,o)},[a,d.datasets]),N.useEffect(()=>{w.current&&(a?(j(),setTimeout(S)):w.current.update(x))},[a,f,d.labels,d.datasets,x]),N.useEffect(()=>{w.current&&(j(),setTimeout(S))},[c]),N.useEffect(()=>(S(),()=>j()),[]),u.jsx("canvas",{ref:v,role:"img",height:s,width:n,...b,children:g})}const mP=N.forwardRef(fP);function l0(t,e){return kn.register(e),N.forwardRef((s,n)=>u.jsx(mP,{...s,ref:n,type:t}))}const c0=l0("line",XS),pP=l0("bar",$S),gP=l0("radar",ZS);kn.register(Bc,Vc,zo,Li,xx,Bo,Po);function xP({slots:t,mode:e}){if(!t||t.length===0)return u.jsx("div",{className:"text-[11px] text-muted px-4 py-6",children:"No forecast data available for the next 48 hours."});const n={labels:t.map(o=>new Date(o.slot_start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),datasets:[{type:"line",label:e==="pv"?"Final PV":"Final Load",data:t.map(o=>e==="pv"?o.final.pv_kwh:o.final.load_kwh),borderColor:e==="pv"?"#22c55e":"#f97316",backgroundColor:o=>{const d=o.chart.ctx.createLinearGradient(0,0,0,200);return d.addColorStop(0,"rgba(15, 23, 42, 0.0)"),d.addColorStop(1,e==="pv"?"rgba(34, 197, 94, 0.1)":"rgba(249, 115, 22, 0.1)"),d},borderWidth:2,tension:.4,pointRadius:0,fill:!0},{type:"bar",label:"Base",data:t.map(o=>e==="pv"?o.base.pv_kwh:o.base.load_kwh),backgroundColor:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,borderRadius:2,yAxisID:"y"},{type:"bar",label:"Correction",data:t.map(o=>e==="pv"?o.correction.pv_kwh:o.correction.load_kwh),backgroundColor:e==="pv"?"rgba(34, 197, 94, 0.2)":"rgba(249, 115, 22, 0.2)",borderRadius:2,yAxisID:"y"}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.95)",titleColor:"rgba(255, 255, 255, 0.9)",bodyColor:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:10,callbacks:{label:o=>{let c=o.dataset.label||"";return c&&(c+=": "),o.parsed.y!==null&&(c+=o.parsed.y.toFixed(3)+" kWh"),c}}}},scales:{x:{grid:{display:!1},ticks:{color:"#64748b",font:{size:10},maxTicksLimit:8}},y:{grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"#64748b",font:{size:10}}}},interaction:{intersect:!1,mode:"index"}};return u.jsx("div",{className:"w-full h-full min-h-[240px]",children:u.jsx(c0,{data:n,options:a},e)})}kn.register(bj,zo,Li,kh,Bo,Po);function yP({weatherVolatility:t,riskFactor:e,forecastAccuracy:s,priceSpread:n,forecastBias:a}){const o=Math.min(100,t.cloud*100),c=Math.min(100,t.temp*100),d=Math.max(0,Math.min(100,(e-1)*25)),f=s,m=n!=null?Math.max(0,Math.min(100,n/2.5*100)):50,g=a!=null?Math.max(0,Math.min(100,(a+2)/4*100)):50,x=["Cloud Vol.","Temp Vol.","Aggression","Accuracy","Spread","Bias"],b=["#38bdf8","#f472b6","#fbbf24","#34d399","#a78bfa","#fb923c"],v={labels:x,datasets:[{label:"Current Context",data:[o,c,d,f,m,g],backgroundColor:"rgba(56, 189, 248, 0.15)",borderColor:"rgba(56, 189, 248, 0.5)",borderWidth:2,pointBackgroundColor:b,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:b,pointRadius:4}]},w={scales:{r:{angleLines:{color:"rgba(255, 255, 255, 0.1)"},grid:{color:"rgba(255, 255, 255, 0.1)"},pointLabels:{display:!1},ticks:{display:!1,backdropColor:"transparent"},suggestedMin:0,suggestedMax:100}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e293b",titleColor:"#f8fafc",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},maintainAspectRatio:!1},S=x.slice(0,3),j=x.slice(3);return u.jsxs("div",{className:"relative w-full h-full min-h-[200px]",children:[u.jsx("div",{className:"absolute inset-0 overflow-hidden",children:u.jsx(gP,{data:v,options:w})}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between px-3 pb-2 z-10",children:[u.jsx("div",{className:"flex flex-col gap-1",children:S.map((M,T)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[T]}}),u.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:M})]},M))}),u.jsx("div",{className:"flex flex-col gap-1",children:j.map((M,T)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm ring-1 ring-white/10",style:{backgroundColor:b[T+3]}}),u.jsx("span",{className:"text-[9px] text-muted font-medium leading-tight",children:M})]},M))})]})]})}function bP({events:t}){const e=N.useMemo(()=>[...t].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),[t]),s=a=>{const o=(a.type+" "+a.message).toLowerCase();if(o.includes("charge")||o.includes("charging"))return u.jsx(ki,{className:"h-4 w-4 text-amber-400"});if(o.includes("export")||o.includes("discharging"))return u.jsx(rg,{className:"h-4 w-4 text-emerald-400"});if(o.includes("defensive")||o.includes("safety")||o.includes("hold"))return u.jsx(QD,{className:"h-4 w-4 text-blue-400"});if(o.includes("idle")||o.includes("wait"))return u.jsx(YD,{className:"h-4 w-4 text-slate-400"});if(o.includes("weather"))return u.jsx(W1,{className:"h-4 w-4 text-sky-400"});if(o.includes("learning")||o.includes("tune"))return u.jsx(I1,{className:"h-4 w-4 text-purple-400"});if(o.includes("price")||o.includes("cost"))return u.jsx(ag,{className:"h-4 w-4 text-emerald-400"});switch(a.type){case"STRATEGY_CHANGE":return u.jsx(lS,{className:"h-4 w-4 text-purple-400"});case"WEATHER_ADJUSTMENT":return u.jsx(W1,{className:"h-4 w-4 text-blue-400"});case"PRICE_VOLATILITY":return u.jsx(ki,{className:"h-4 w-4 text-amber-400"});case"LEARNING_EVENT":return u.jsx(I1,{className:"h-4 w-4 text-emerald-400"});default:return u.jsx(ng,{className:"h-4 w-4 text-slate-400"})}},n=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return t.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-muted text-xs",children:[u.jsx(ng,{className:"h-6 w-6 mb-2 opacity-50"}),"No activity recorded yet."]}):u.jsxs("div",{className:"relative space-y-4 pl-2",children:[u.jsx("div",{className:"absolute left-[19px] top-2 bottom-2 w-[1px] bg-line/50"}),e.map((a,o)=>u.jsxs("div",{className:"relative flex gap-3 items-start group",children:[u.jsx("div",{className:"relative z-10 flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-surface border border-line/60 group-hover:border-accent/50 transition-colors",children:s(a)}),u.jsxs("div",{className:"flex-1 pt-1.5 min-w-0",children:[u.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[u.jsx("p",{className:"text-xs font-medium text-text truncate",children:a.type.replace("_"," ")}),u.jsx("span",{className:"text-[10px] text-muted shrink-0 font-mono",children:n(a.timestamp)})]}),u.jsx("p",{className:"text-[11px] text-muted mt-0.5 leading-relaxed break-words",children:a.message}),a.details&&Object.keys(a.details).length>0&&u.jsx("div",{className:"mt-1.5",children:u.jsxs("details",{className:"group/details",children:[u.jsxs("summary",{className:"cursor-pointer text-[10px] text-accent/80 hover:text-accent select-none list-none flex items-center gap-1",children:[u.jsx("span",{children:"Details"}),u.jsx("span",{className:"opacity-50 group-open/details:rotate-180 transition-transform",children:""})]}),u.jsx("pre",{className:"mt-1 p-2 rounded bg-surface2/50 text-[10px] text-muted overflow-x-auto font-mono",children:JSON.stringify(a.details,null,2)})]})})]})]},o))]})}function vP({metrics:t,perfData:e}){let s=0,n=0;e?.cost_series&&e.cost_series.forEach(b=>{s+=b.planned,n+=b.realized});const a=n-s,o=a<=0?`Saved ${Math.abs(a).toFixed(1)} SEK`:`Overspent ${a.toFixed(1)} SEK`,c=a<=0,d=t?.mae_pv_aurora?.toFixed(2)??"N/A",f=t?.mae_load_aurora?.toFixed(2)??"N/A",m=t?.max_price_spread,g=m!=null?`${m.toFixed(2)} SEK`:"N/A",x=m!=null&&m>0;return u.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:[u.jsxs(Ee,{className:"p-4 flex items-center justify-between relative overflow-hidden group",children:[u.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${c?"bg-emerald-500":"bg-rose-500"}`}),u.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u.jsx("div",{className:`p-2 rounded-full ${c?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:u.jsx(uS,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"7-Day Cost Drift"}),u.jsx("div",{className:`text-lg font-semibold ${c?"text-emerald-400":"text-rose-400"}`,children:o})]})]}),u.jsxs("div",{className:"text-right relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted",children:"vs Plan"}),c?u.jsx(G1,{className:"h-4 w-4 text-emerald-500 ml-auto"}):u.jsx(ag,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),u.jsxs(Ee,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[u.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${x?"bg-emerald-500":"bg-rose-500"}`}),u.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u.jsx("div",{className:`p-2 rounded-full ${x?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:u.jsx(yc,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Max Price Spread"}),u.jsx("div",{className:`text-lg font-semibold ${x?"text-emerald-400":"text-rose-400"}`,children:g})]})]}),u.jsxs("div",{className:"text-right relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted",children:"Arbitrage"}),x?u.jsx(ag,{className:"h-4 w-4 text-emerald-500 ml-auto"}):u.jsx(G1,{className:"h-4 w-4 text-rose-500 ml-auto"})]})]}),u.jsxs(Ee,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-amber-500/[0.02]"}),u.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u.jsx("div",{className:"p-2 rounded-full bg-amber-500/10 text-amber-400",children:u.jsx(ki,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"PV Forecast Error"}),u.jsxs("div",{className:"text-lg font-semibold text-text",children:[d," ",u.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),u.jsxs("div",{className:"text-right relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),u.jsx(q1,{className:"h-4 w-4 text-amber-500/50 ml-auto"})]})]}),u.jsxs(Ee,{className:"p-4 flex items-center justify-between relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-blue-500/[0.02]"}),u.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-400",children:u.jsx(yc,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-medium",children:"Load Forecast Error"}),u.jsxs("div",{className:"text-lg font-semibold text-text",children:[f," ",u.jsx("span",{className:"text-xs font-normal text-muted",children:"kWh"})]})]})]}),u.jsxs("div",{className:"text-right relative z-10",children:[u.jsx("div",{className:"text-[10px] text-muted",children:"MAE (7d)"}),u.jsx(q1,{className:"h-4 w-4 text-blue-500/50 ml-auto"})]})]})]})}kn.register(Bc,Vc,zo,Li,Mh,Bo,Po,kh);function _P({title:t,slots:e,color:s}){const a={labels:e.map(c=>new Date(c.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),datasets:[{label:"Actual",data:e.map(c=>c.actual??null),borderColor:"#94a3b8",backgroundColor:"#94a3b8",borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p90",data:e.map(c=>c.p90),borderColor:`${s}40`,borderWidth:1,backgroundColor:`${s}33`,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:"+1"},{label:"p10 (Risk)",data:e.map(c=>c.p10),borderColor:`${s}80`,borderWidth:1.5,borderDash:[4,4],backgroundColor:"transparent",pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1},{label:"p50 (Forecast)",data:e.map(c=>c.p50),borderColor:s,backgroundColor:s,borderWidth:2,pointRadius:0,pointHitRadius:10,tension:.4,spanGaps:!0,fill:!1}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{color:"#cbd5e1",font:{size:11},boxWidth:8,usePointStyle:!0}},title:{display:!!t,text:t,color:"#e2e8f0",font:{size:13,weight:"normal"},align:"start",padding:{bottom:10}},tooltip:{mode:"index",intersect:!1,backgroundColor:"#1e293b",titleColor:"#e2e8f0",bodyColor:"#cbd5e1",borderColor:"#334155",borderWidth:1}},scales:{x:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8",maxRotation:0,autoSkip:!0,maxTicksLimit:8}},y:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94a3b8"},min:0}},interaction:{mode:"nearest",axis:"x",intersect:!1},layout:{padding:{bottom:0,left:10,right:10}}};return u.jsx("div",{className:"w-full h-[250px]",children:u.jsx(c0,{data:a,options:o})})}var vk;function le(){return vk.apply(null,arguments)}function wP(t){vk=t}function jn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function xr(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function et(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(et(t,e))return!1;return!0}function Rs(t){return t===void 0}function Oi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Wc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function _k(t,e){var s=[],n,a=t.length;for(n=0;n<a;++n)s.push(e(t[n],n));return s}function va(t,e){for(var s in e)et(e,s)&&(t[s]=e[s]);return et(e,"toString")&&(t.toString=e.toString),et(e,"valueOf")&&(t.valueOf=e.valueOf),t}function In(t,e,s,n){return Wk(t,e,s,n,!0).utc()}function SP(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ze(t){return t._pf==null&&(t._pf=SP()),t._pf}var Hg;Array.prototype.some?Hg=Array.prototype.some:Hg=function(t){var e=Object(this),s=e.length>>>0,n;for(n=0;n<s;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function d0(t){var e=null,s=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=ze(t),s=Hg.call(e.parsedDateParts,function(a){return a!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&s),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function Ph(t){var e=In(NaN);return t!=null?va(ze(e),t):ze(e).userInvalidated=!0,e}var Bw=le.momentProperties=[],Ip=!1;function h0(t,e){var s,n,a,o=Bw.length;if(Rs(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Rs(e._i)||(t._i=e._i),Rs(e._f)||(t._f=e._f),Rs(e._l)||(t._l=e._l),Rs(e._strict)||(t._strict=e._strict),Rs(e._tzm)||(t._tzm=e._tzm),Rs(e._isUTC)||(t._isUTC=e._isUTC),Rs(e._offset)||(t._offset=e._offset),Rs(e._pf)||(t._pf=ze(e)),Rs(e._locale)||(t._locale=e._locale),o>0)for(s=0;s<o;s++)n=Bw[s],a=e[n],Rs(a)||(t[n]=a);return t}function Ic(t){h0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ip===!1&&(Ip=!0,le.updateOffset(this),Ip=!1)}function Nn(t){return t instanceof Ic||t!=null&&t._isAMomentObject!=null}function wk(t){le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function mn(t,e){var s=!0;return va(function(){if(le.deprecationHandler!=null&&le.deprecationHandler(null,t),s){var n=[],a,o,c,d=arguments.length;for(o=0;o<d;o++){if(a="",typeof arguments[o]=="object"){a+=`
[`+o+"] ";for(c in arguments[0])et(arguments[0],c)&&(a+=c+": "+arguments[0][c]+", ");a=a.slice(0,-2)}else a=arguments[o];n.push(a)}wk(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),s=!1}return e.apply(this,arguments)},e)}var Vw={};function Sk(t,e){le.deprecationHandler!=null&&le.deprecationHandler(t,e),Vw[t]||(wk(e),Vw[t]=!0)}le.suppressDeprecationWarnings=!1;le.deprecationHandler=null;function qn(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function jP(t){var e,s;for(s in t)et(t,s)&&(e=t[s],qn(e)?this[s]=e:this["_"+s]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ug(t,e){var s=va({},t),n;for(n in e)et(e,n)&&(xr(t[n])&&xr(e[n])?(s[n]={},va(s[n],t[n]),va(s[n],e[n])):e[n]!=null?s[n]=e[n]:delete s[n]);for(n in t)et(t,n)&&!et(e,n)&&xr(t[n])&&(s[n]=va({},s[n]));return s}function f0(t){t!=null&&this.set(t)}var Yg;Object.keys?Yg=Object.keys:Yg=function(t){var e,s=[];for(e in t)et(t,e)&&s.push(e);return s};var NP={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kP(t,e,s){var n=this._calendar[t]||this._calendar.sameElse;return qn(n)?n.call(e,s):n}function Wn(t,e,s){var n=""+Math.abs(t),a=e-n.length,o=t>=0;return(o?s?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var m0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Td=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qp={},So={};function Se(t,e,s,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),t&&(So[t]=a),e&&(So[e[0]]=function(){return Wn(a.apply(this,arguments),e[1],e[2])}),s&&(So[s]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function MP(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function TP(t){var e=t.match(m0),s,n;for(s=0,n=e.length;s<n;s++)So[e[s]]?e[s]=So[e[s]]:e[s]=MP(e[s]);return function(a){var o="",c;for(c=0;c<n;c++)o+=qn(e[c])?e[c].call(a,t):e[c];return o}}function Vd(t,e){return t.isValid()?(e=jk(e,t.localeData()),qp[e]=qp[e]||TP(e),qp[e](t)):t.localeData().invalidDate()}function jk(t,e){var s=5;function n(a){return e.longDateFormat(a)||a}for(Td.lastIndex=0;s>=0&&Td.test(t);)t=t.replace(Td,n),Td.lastIndex=0,s-=1;return t}var DP={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function CP(t){var e=this._longDateFormat[t],s=this._longDateFormat[t.toUpperCase()];return e||!s?e:(this._longDateFormat[t]=s.match(m0).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var AP="Invalid date";function EP(){return this._invalidDate}var OP="%d",RP=/\d{1,2}/;function LP(t){return this._ordinal.replace("%d",t)}var zP={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function PP(t,e,s,n){var a=this._relativeTime[s];return qn(a)?a(t,e,s,n):a.replace(/%d/i,t)}function BP(t,e){var s=this._relativeTime[t>0?"future":"past"];return qn(s)?s(e):s.replace(/%s/i,e)}var Fw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function pn(t){return typeof t=="string"?Fw[t]||Fw[t.toLowerCase()]:void 0}function p0(t){var e={},s,n;for(n in t)et(t,n)&&(s=pn(n),s&&(e[s]=t[n]));return e}var VP={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function FP(t){var e=[],s;for(s in t)et(t,s)&&e.push({unit:s,priority:VP[s]});return e.sort(function(n,a){return n.priority-a.priority}),e}var Nk=/\d/,Gs=/\d\d/,kk=/\d{3}/,g0=/\d{4}/,Bh=/[+-]?\d{6}/,wt=/\d\d?/,Mk=/\d\d\d\d?/,Tk=/\d\d\d\d\d\d?/,Vh=/\d{1,3}/,x0=/\d{1,4}/,Fh=/[+-]?\d{1,6}/,Uo=/\d+/,Hh=/[+-]?\d+/,HP=/Z|[+-]\d\d:?\d\d/gi,Uh=/Z|[+-]\d\d(?::?\d\d)?/gi,UP=/[+-]?\d+(\.\d{1,3})?/,qc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Yo=/^[1-9]\d?/,y0=/^([1-9]\d|\d)/,dh;dh={};function ge(t,e,s){dh[t]=qn(e)?e:function(n,a){return n&&s?s:e}}function YP(t,e){return et(dh,t)?dh[t](e._strict,e._locale):new RegExp(WP(t))}function WP(t){return Di(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,s,n,a,o){return s||n||a||o}))}function Di(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function fn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ie(t){var e=+t,s=0;return e!==0&&isFinite(e)&&(s=fn(e)),s}var Wg={};function dt(t,e){var s,n=e,a;for(typeof t=="string"&&(t=[t]),Oi(e)&&(n=function(o,c){c[e]=Ie(o)}),a=t.length,s=0;s<a;s++)Wg[t[s]]=n}function Gc(t,e){dt(t,function(s,n,a,o){a._w=a._w||{},e(s,a._w,a,o)})}function IP(t,e,s){e!=null&&et(Wg,t)&&Wg[t](e,s._a,s,t)}function Yh(t){return t%4===0&&t%100!==0||t%400===0}var ys=0,ji=1,Bn=2,Jt=3,Sn=4,Ni=5,fr=6,qP=7,GP=8;Se("Y",0,0,function(){var t=this.year();return t<=9999?Wn(t,4):"+"+t});Se(0,["YY",2],0,function(){return this.year()%100});Se(0,["YYYY",4],0,"year");Se(0,["YYYYY",5],0,"year");Se(0,["YYYYYY",6,!0],0,"year");ge("Y",Hh);ge("YY",wt,Gs);ge("YYYY",x0,g0);ge("YYYYY",Fh,Bh);ge("YYYYYY",Fh,Bh);dt(["YYYYY","YYYYYY"],ys);dt("YYYY",function(t,e){e[ys]=t.length===2?le.parseTwoDigitYear(t):Ie(t)});dt("YY",function(t,e){e[ys]=le.parseTwoDigitYear(t)});dt("Y",function(t,e){e[ys]=parseInt(t,10)});function pc(t){return Yh(t)?366:365}le.parseTwoDigitYear=function(t){return Ie(t)+(Ie(t)>68?1900:2e3)};var Dk=Wo("FullYear",!0);function $P(){return Yh(this.year())}function Wo(t,e){return function(s){return s!=null?(Ck(this,t,s),le.updateOffset(this,e),this):Ac(this,t)}}function Ac(t,e){if(!t.isValid())return NaN;var s=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?s.getUTCMilliseconds():s.getMilliseconds();case"Seconds":return n?s.getUTCSeconds():s.getSeconds();case"Minutes":return n?s.getUTCMinutes():s.getMinutes();case"Hours":return n?s.getUTCHours():s.getHours();case"Date":return n?s.getUTCDate():s.getDate();case"Day":return n?s.getUTCDay():s.getDay();case"Month":return n?s.getUTCMonth():s.getMonth();case"FullYear":return n?s.getUTCFullYear():s.getFullYear();default:return NaN}}function Ck(t,e,s){var n,a,o,c,d;if(!(!t.isValid()||isNaN(s))){switch(n=t._d,a=t._isUTC,e){case"Milliseconds":return void(a?n.setUTCMilliseconds(s):n.setMilliseconds(s));case"Seconds":return void(a?n.setUTCSeconds(s):n.setSeconds(s));case"Minutes":return void(a?n.setUTCMinutes(s):n.setMinutes(s));case"Hours":return void(a?n.setUTCHours(s):n.setHours(s));case"Date":return void(a?n.setUTCDate(s):n.setDate(s));case"FullYear":break;default:return}o=s,c=t.month(),d=t.date(),d=d===29&&c===1&&!Yh(o)?28:d,a?n.setUTCFullYear(o,c,d):n.setFullYear(o,c,d)}}function XP(t){return t=pn(t),qn(this[t])?this[t]():this}function KP(t,e){if(typeof t=="object"){t=p0(t);var s=FP(t),n,a=s.length;for(n=0;n<a;n++)this[s[n].unit](t[s[n].unit])}else if(t=pn(t),qn(this[t]))return this[t](e);return this}function ZP(t,e){return(t%e+e)%e}var Bt;Array.prototype.indexOf?Bt=Array.prototype.indexOf:Bt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function b0(t,e){if(isNaN(t)||isNaN(e))return NaN;var s=ZP(e,12);return t+=(e-s)/12,s===1?Yh(t)?29:28:31-s%7%2}Se("M",["MM",2],"Mo",function(){return this.month()+1});Se("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Se("MMMM",0,0,function(t){return this.localeData().months(this,t)});ge("M",wt,Yo);ge("MM",wt,Gs);ge("MMM",function(t,e){return e.monthsShortRegex(t)});ge("MMMM",function(t,e){return e.monthsRegex(t)});dt(["M","MM"],function(t,e){e[ji]=Ie(t)-1});dt(["MMM","MMMM"],function(t,e,s,n){var a=s._locale.monthsParse(t,n,s._strict);a!=null?e[ji]=a:ze(s).invalidMonth=t});var QP="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ak="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ek=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,JP=qc,eB=qc;function tB(t,e){return t?jn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ek).test(e)?"format":"standalone"][t.month()]:jn(this._months)?this._months:this._months.standalone}function sB(t,e){return t?jn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ek.test(e)?"format":"standalone"][t.month()]:jn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function nB(t,e,s){var n,a,o,c=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=In([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return s?e==="MMM"?(a=Bt.call(this._shortMonthsParse,c),a!==-1?a:null):(a=Bt.call(this._longMonthsParse,c),a!==-1?a:null):e==="MMM"?(a=Bt.call(this._shortMonthsParse,c),a!==-1?a:(a=Bt.call(this._longMonthsParse,c),a!==-1?a:null)):(a=Bt.call(this._longMonthsParse,c),a!==-1?a:(a=Bt.call(this._shortMonthsParse,c),a!==-1?a:null))}function iB(t,e,s){var n,a,o;if(this._monthsParseExact)return nB.call(this,t,e,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=In([2e3,n]),s&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!s&&!this._monthsParse[n]&&(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),s&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(s&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!s&&this._monthsParse[n].test(t))return n}}function Ok(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ie(e);else if(e=t.localeData().monthsParse(e),!Oi(e))return t}var s=e,n=t.date();return n=n<29?n:Math.min(n,b0(t.year(),s)),t._isUTC?t._d.setUTCMonth(s,n):t._d.setMonth(s,n),t}function Rk(t){return t!=null?(Ok(this,t),le.updateOffset(this,!0),this):Ac(this,"Month")}function aB(){return b0(this.year(),this.month())}function rB(t){return this._monthsParseExact?(et(this,"_monthsRegex")||Lk.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(et(this,"_monthsShortRegex")||(this._monthsShortRegex=JP),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function oB(t){return this._monthsParseExact?(et(this,"_monthsRegex")||Lk.call(this),t?this._monthsStrictRegex:this._monthsRegex):(et(this,"_monthsRegex")||(this._monthsRegex=eB),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Lk(){function t(f,m){return m.length-f.length}var e=[],s=[],n=[],a,o,c,d;for(a=0;a<12;a++)o=In([2e3,a]),c=Di(this.monthsShort(o,"")),d=Di(this.months(o,"")),e.push(c),s.push(d),n.push(d),n.push(c);e.sort(t),s.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function lB(t,e,s,n,a,o,c){var d;return t<100&&t>=0?(d=new Date(t+400,e,s,n,a,o,c),isFinite(d.getFullYear())&&d.setFullYear(t)):d=new Date(t,e,s,n,a,o,c),d}function Ec(t){var e,s;return t<100&&t>=0?(s=Array.prototype.slice.call(arguments),s[0]=t+400,e=new Date(Date.UTC.apply(null,s)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function hh(t,e,s){var n=7+e-s,a=(7+Ec(t,0,n).getUTCDay()-e)%7;return-a+n-1}function zk(t,e,s,n,a){var o=(7+s-n)%7,c=hh(t,n,a),d=1+7*(e-1)+o+c,f,m;return d<=0?(f=t-1,m=pc(f)+d):d>pc(t)?(f=t+1,m=d-pc(t)):(f=t,m=d),{year:f,dayOfYear:m}}function Oc(t,e,s){var n=hh(t.year(),e,s),a=Math.floor((t.dayOfYear()-n-1)/7)+1,o,c;return a<1?(c=t.year()-1,o=a+Ci(c,e,s)):a>Ci(t.year(),e,s)?(o=a-Ci(t.year(),e,s),c=t.year()+1):(c=t.year(),o=a),{week:o,year:c}}function Ci(t,e,s){var n=hh(t,e,s),a=hh(t+1,e,s);return(pc(t)-n+a)/7}Se("w",["ww",2],"wo","week");Se("W",["WW",2],"Wo","isoWeek");ge("w",wt,Yo);ge("ww",wt,Gs);ge("W",wt,Yo);ge("WW",wt,Gs);Gc(["w","ww","W","WW"],function(t,e,s,n){e[n.substr(0,1)]=Ie(t)});function cB(t){return Oc(t,this._week.dow,this._week.doy).week}var uB={dow:0,doy:6};function dB(){return this._week.dow}function hB(){return this._week.doy}function fB(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function mB(t){var e=Oc(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Se("d",0,"do","day");Se("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Se("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Se("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Se("e",0,0,"weekday");Se("E",0,0,"isoWeekday");ge("d",wt);ge("e",wt);ge("E",wt);ge("dd",function(t,e){return e.weekdaysMinRegex(t)});ge("ddd",function(t,e){return e.weekdaysShortRegex(t)});ge("dddd",function(t,e){return e.weekdaysRegex(t)});Gc(["dd","ddd","dddd"],function(t,e,s,n){var a=s._locale.weekdaysParse(t,n,s._strict);a!=null?e.d=a:ze(s).invalidWeekday=t});Gc(["d","e","E"],function(t,e,s,n){e[n]=Ie(t)});function pB(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function gB(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function v0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var xB="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pk="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yB="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),bB=qc,vB=qc,_B=qc;function wB(t,e){var s=jn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?v0(s,this._week.dow):t?s[t.day()]:s}function SB(t){return t===!0?v0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function jB(t){return t===!0?v0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function NB(t,e,s){var n,a,o,c=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=In([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return s?e==="dddd"?(a=Bt.call(this._weekdaysParse,c),a!==-1?a:null):e==="ddd"?(a=Bt.call(this._shortWeekdaysParse,c),a!==-1?a:null):(a=Bt.call(this._minWeekdaysParse,c),a!==-1?a:null):e==="dddd"?(a=Bt.call(this._weekdaysParse,c),a!==-1||(a=Bt.call(this._shortWeekdaysParse,c),a!==-1)?a:(a=Bt.call(this._minWeekdaysParse,c),a!==-1?a:null)):e==="ddd"?(a=Bt.call(this._shortWeekdaysParse,c),a!==-1||(a=Bt.call(this._weekdaysParse,c),a!==-1)?a:(a=Bt.call(this._minWeekdaysParse,c),a!==-1?a:null)):(a=Bt.call(this._minWeekdaysParse,c),a!==-1||(a=Bt.call(this._weekdaysParse,c),a!==-1)?a:(a=Bt.call(this._shortWeekdaysParse,c),a!==-1?a:null))}function kB(t,e,s){var n,a,o;if(this._weekdaysParseExact)return NB.call(this,t,e,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=In([2e3,1]).day(n),s&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),s&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(s&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(s&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!s&&this._weekdaysParse[n].test(t))return n}}function MB(t){if(!this.isValid())return t!=null?this:NaN;var e=Ac(this,"Day");return t!=null?(t=pB(t,this.localeData()),this.add(t-e,"d")):e}function TB(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function DB(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=gB(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function CB(t){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||_0.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(et(this,"_weekdaysRegex")||(this._weekdaysRegex=bB),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function AB(t){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||_0.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(et(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vB),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function EB(t){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||_0.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(et(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_B),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function _0(){function t(g,x){return x.length-g.length}var e=[],s=[],n=[],a=[],o,c,d,f,m;for(o=0;o<7;o++)c=In([2e3,1]).day(o),d=Di(this.weekdaysMin(c,"")),f=Di(this.weekdaysShort(c,"")),m=Di(this.weekdays(c,"")),e.push(d),s.push(f),n.push(m),a.push(d),a.push(f),a.push(m);e.sort(t),s.sort(t),n.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function w0(){return this.hours()%12||12}function OB(){return this.hours()||24}Se("H",["HH",2],0,"hour");Se("h",["hh",2],0,w0);Se("k",["kk",2],0,OB);Se("hmm",0,0,function(){return""+w0.apply(this)+Wn(this.minutes(),2)});Se("hmmss",0,0,function(){return""+w0.apply(this)+Wn(this.minutes(),2)+Wn(this.seconds(),2)});Se("Hmm",0,0,function(){return""+this.hours()+Wn(this.minutes(),2)});Se("Hmmss",0,0,function(){return""+this.hours()+Wn(this.minutes(),2)+Wn(this.seconds(),2)});function Bk(t,e){Se(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Bk("a",!0);Bk("A",!1);function Vk(t,e){return e._meridiemParse}ge("a",Vk);ge("A",Vk);ge("H",wt,y0);ge("h",wt,Yo);ge("k",wt,Yo);ge("HH",wt,Gs);ge("hh",wt,Gs);ge("kk",wt,Gs);ge("hmm",Mk);ge("hmmss",Tk);ge("Hmm",Mk);ge("Hmmss",Tk);dt(["H","HH"],Jt);dt(["k","kk"],function(t,e,s){var n=Ie(t);e[Jt]=n===24?0:n});dt(["a","A"],function(t,e,s){s._isPm=s._locale.isPM(t),s._meridiem=t});dt(["h","hh"],function(t,e,s){e[Jt]=Ie(t),ze(s).bigHour=!0});dt("hmm",function(t,e,s){var n=t.length-2;e[Jt]=Ie(t.substr(0,n)),e[Sn]=Ie(t.substr(n)),ze(s).bigHour=!0});dt("hmmss",function(t,e,s){var n=t.length-4,a=t.length-2;e[Jt]=Ie(t.substr(0,n)),e[Sn]=Ie(t.substr(n,2)),e[Ni]=Ie(t.substr(a)),ze(s).bigHour=!0});dt("Hmm",function(t,e,s){var n=t.length-2;e[Jt]=Ie(t.substr(0,n)),e[Sn]=Ie(t.substr(n))});dt("Hmmss",function(t,e,s){var n=t.length-4,a=t.length-2;e[Jt]=Ie(t.substr(0,n)),e[Sn]=Ie(t.substr(n,2)),e[Ni]=Ie(t.substr(a))});function RB(t){return(t+"").toLowerCase().charAt(0)==="p"}var LB=/[ap]\.?m?\.?/i,zB=Wo("Hours",!0);function PB(t,e,s){return t>11?s?"pm":"PM":s?"am":"AM"}var Fk={calendar:NP,longDateFormat:DP,invalidDate:AP,ordinal:OP,dayOfMonthOrdinalParse:RP,relativeTime:zP,months:QP,monthsShort:Ak,week:uB,weekdays:xB,weekdaysMin:yB,weekdaysShort:Pk,meridiemParse:LB},jt={},ql={},Rc;function BB(t,e){var s,n=Math.min(t.length,e.length);for(s=0;s<n;s+=1)if(t[s]!==e[s])return s;return n}function Hw(t){return t&&t.toLowerCase().replace("_","-")}function VB(t){for(var e=0,s,n,a,o;e<t.length;){for(o=Hw(t[e]).split("-"),s=o.length,n=Hw(t[e+1]),n=n?n.split("-"):null;s>0;){if(a=Wh(o.slice(0,s).join("-")),a)return a;if(n&&n.length>=s&&BB(o,n)>=s-1)break;s--}e++}return Rc}function FB(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Wh(t){var e=null,s;if(jt[t]===void 0&&typeof Ud<"u"&&Ud&&Ud.exports&&FB(t))try{e=Rc._abbr,s=require,s("./locale/"+t),Na(e)}catch{jt[t]=null}return jt[t]}function Na(t,e){var s;return t&&(Rs(e)?s=zi(t):s=S0(t,e),s?Rc=s:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Rc._abbr}function S0(t,e){if(e!==null){var s,n=Fk;if(e.abbr=t,jt[t]!=null)Sk("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=jt[t]._config;else if(e.parentLocale!=null)if(jt[e.parentLocale]!=null)n=jt[e.parentLocale]._config;else if(s=Wh(e.parentLocale),s!=null)n=s._config;else return ql[e.parentLocale]||(ql[e.parentLocale]=[]),ql[e.parentLocale].push({name:t,config:e}),null;return jt[t]=new f0(Ug(n,e)),ql[t]&&ql[t].forEach(function(a){S0(a.name,a.config)}),Na(t),jt[t]}else return delete jt[t],null}function HB(t,e){if(e!=null){var s,n,a=Fk;jt[t]!=null&&jt[t].parentLocale!=null?jt[t].set(Ug(jt[t]._config,e)):(n=Wh(t),n!=null&&(a=n._config),e=Ug(a,e),n==null&&(e.abbr=t),s=new f0(e),s.parentLocale=jt[t],jt[t]=s),Na(t)}else jt[t]!=null&&(jt[t].parentLocale!=null?(jt[t]=jt[t].parentLocale,t===Na()&&Na(t)):jt[t]!=null&&delete jt[t]);return jt[t]}function zi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Rc;if(!jn(t)){if(e=Wh(t),e)return e;t=[t]}return VB(t)}function UB(){return Yg(jt)}function j0(t){var e,s=t._a;return s&&ze(t).overflow===-2&&(e=s[ji]<0||s[ji]>11?ji:s[Bn]<1||s[Bn]>b0(s[ys],s[ji])?Bn:s[Jt]<0||s[Jt]>24||s[Jt]===24&&(s[Sn]!==0||s[Ni]!==0||s[fr]!==0)?Jt:s[Sn]<0||s[Sn]>59?Sn:s[Ni]<0||s[Ni]>59?Ni:s[fr]<0||s[fr]>999?fr:-1,ze(t)._overflowDayOfYear&&(e<ys||e>Bn)&&(e=Bn),ze(t)._overflowWeeks&&e===-1&&(e=qP),ze(t)._overflowWeekday&&e===-1&&(e=GP),ze(t).overflow=e),t}var YB=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,WB=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IB=/Z|[+-]\d\d(?::?\d\d)?/,Dd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Gp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qB=/^\/?Date\((-?\d+)/i,GB=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,$B={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Hk(t){var e,s,n=t._i,a=YB.exec(n)||WB.exec(n),o,c,d,f,m=Dd.length,g=Gp.length;if(a){for(ze(t).iso=!0,e=0,s=m;e<s;e++)if(Dd[e][1].exec(a[1])){c=Dd[e][0],o=Dd[e][2]!==!1;break}if(c==null){t._isValid=!1;return}if(a[3]){for(e=0,s=g;e<s;e++)if(Gp[e][1].exec(a[3])){d=(a[2]||" ")+Gp[e][0];break}if(d==null){t._isValid=!1;return}}if(!o&&d!=null){t._isValid=!1;return}if(a[4])if(IB.exec(a[4]))f="Z";else{t._isValid=!1;return}t._f=c+(d||"")+(f||""),k0(t)}else t._isValid=!1}function XB(t,e,s,n,a,o){var c=[KB(t),Ak.indexOf(e),parseInt(s,10),parseInt(n,10),parseInt(a,10)];return o&&c.push(parseInt(o,10)),c}function KB(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ZB(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function QB(t,e,s){if(t){var n=Pk.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(n!==a)return ze(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function JB(t,e,s){if(t)return $B[t];if(e)return 0;var n=parseInt(s,10),a=n%100,o=(n-a)/100;return o*60+a}function Uk(t){var e=GB.exec(ZB(t._i)),s;if(e){if(s=XB(e[4],e[3],e[2],e[5],e[6],e[7]),!QB(e[1],s,t))return;t._a=s,t._tzm=JB(e[8],e[9],e[10]),t._d=Ec.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ze(t).rfc2822=!0}else t._isValid=!1}function e9(t){var e=qB.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Hk(t),t._isValid===!1)delete t._isValid;else return;if(Uk(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:le.createFromInputFallback(t)}le.createFromInputFallback=mn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function mo(t,e,s){return t??e??s}function t9(t){var e=new Date(le.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function N0(t){var e,s,n=[],a,o,c;if(!t._d){for(a=t9(t),t._w&&t._a[Bn]==null&&t._a[ji]==null&&s9(t),t._dayOfYear!=null&&(c=mo(t._a[ys],a[ys]),(t._dayOfYear>pc(c)||t._dayOfYear===0)&&(ze(t)._overflowDayOfYear=!0),s=Ec(c,0,t._dayOfYear),t._a[ji]=s.getUTCMonth(),t._a[Bn]=s.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=a[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Jt]===24&&t._a[Sn]===0&&t._a[Ni]===0&&t._a[fr]===0&&(t._nextDay=!0,t._a[Jt]=0),t._d=(t._useUTC?Ec:lB).apply(null,n),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Jt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(ze(t).weekdayMismatch=!0)}}function s9(t){var e,s,n,a,o,c,d,f,m;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,c=4,s=mo(e.GG,t._a[ys],Oc(_t(),1,4).year),n=mo(e.W,1),a=mo(e.E,1),(a<1||a>7)&&(f=!0)):(o=t._locale._week.dow,c=t._locale._week.doy,m=Oc(_t(),o,c),s=mo(e.gg,t._a[ys],m.year),n=mo(e.w,m.week),e.d!=null?(a=e.d,(a<0||a>6)&&(f=!0)):e.e!=null?(a=e.e+o,(e.e<0||e.e>6)&&(f=!0)):a=o),n<1||n>Ci(s,o,c)?ze(t)._overflowWeeks=!0:f!=null?ze(t)._overflowWeekday=!0:(d=zk(s,n,a,o,c),t._a[ys]=d.year,t._dayOfYear=d.dayOfYear)}le.ISO_8601=function(){};le.RFC_2822=function(){};function k0(t){if(t._f===le.ISO_8601){Hk(t);return}if(t._f===le.RFC_2822){Uk(t);return}t._a=[],ze(t).empty=!0;var e=""+t._i,s,n,a,o,c,d=e.length,f=0,m,g;for(a=jk(t._f,t._locale).match(m0)||[],g=a.length,s=0;s<g;s++)o=a[s],n=(e.match(YP(o,t))||[])[0],n&&(c=e.substr(0,e.indexOf(n)),c.length>0&&ze(t).unusedInput.push(c),e=e.slice(e.indexOf(n)+n.length),f+=n.length),So[o]?(n?ze(t).empty=!1:ze(t).unusedTokens.push(o),IP(o,n,t)):t._strict&&!n&&ze(t).unusedTokens.push(o);ze(t).charsLeftOver=d-f,e.length>0&&ze(t).unusedInput.push(e),t._a[Jt]<=12&&ze(t).bigHour===!0&&t._a[Jt]>0&&(ze(t).bigHour=void 0),ze(t).parsedDateParts=t._a.slice(0),ze(t).meridiem=t._meridiem,t._a[Jt]=n9(t._locale,t._a[Jt],t._meridiem),m=ze(t).era,m!==null&&(t._a[ys]=t._locale.erasConvertYear(m,t._a[ys])),N0(t),j0(t)}function n9(t,e,s){var n;return s==null?e:t.meridiemHour!=null?t.meridiemHour(e,s):(t.isPM!=null&&(n=t.isPM(s),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function i9(t){var e,s,n,a,o,c,d=!1,f=t._f.length;if(f===0){ze(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<f;a++)o=0,c=!1,e=h0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[a],k0(e),d0(e)&&(c=!0),o+=ze(e).charsLeftOver,o+=ze(e).unusedTokens.length*10,ze(e).score=o,d?o<n&&(n=o,s=e):(n==null||o<n||c)&&(n=o,s=e,c&&(d=!0));va(t,s||e)}function a9(t){if(!t._d){var e=p0(t._i),s=e.day===void 0?e.date:e.day;t._a=_k([e.year,e.month,s,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),N0(t)}}function r9(t){var e=new Ic(j0(Yk(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Yk(t){var e=t._i,s=t._f;return t._locale=t._locale||zi(t._l),e===null||s===void 0&&e===""?Ph({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Nn(e)?new Ic(j0(e)):(Wc(e)?t._d=e:jn(s)?i9(t):s?k0(t):o9(t),d0(t)||(t._d=null),t))}function o9(t){var e=t._i;Rs(e)?t._d=new Date(le.now()):Wc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?e9(t):jn(e)?(t._a=_k(e.slice(0),function(s){return parseInt(s,10)}),N0(t)):xr(e)?a9(t):Oi(e)?t._d=new Date(e):le.createFromInputFallback(t)}function Wk(t,e,s,n,a){var o={};return(e===!0||e===!1)&&(n=e,e=void 0),(s===!0||s===!1)&&(n=s,s=void 0),(xr(t)&&u0(t)||jn(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=s,o._i=t,o._f=e,o._strict=n,r9(o)}function _t(t,e,s,n){return Wk(t,e,s,n,!1)}var l9=mn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_t.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Ph()}),c9=mn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_t.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Ph()});function Ik(t,e){var s,n;if(e.length===1&&jn(e[0])&&(e=e[0]),!e.length)return _t();for(s=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](s))&&(s=e[n]);return s}function u9(){var t=[].slice.call(arguments,0);return Ik("isBefore",t)}function d9(){var t=[].slice.call(arguments,0);return Ik("isAfter",t)}var h9=function(){return Date.now?Date.now():+new Date},Gl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function f9(t){var e,s=!1,n,a=Gl.length;for(e in t)if(et(t,e)&&!(Bt.call(Gl,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<a;++n)if(t[Gl[n]]){if(s)return!1;parseFloat(t[Gl[n]])!==Ie(t[Gl[n]])&&(s=!0)}return!0}function m9(){return this._isValid}function p9(){return Mn(NaN)}function Ih(t){var e=p0(t),s=e.year||0,n=e.quarter||0,a=e.month||0,o=e.week||e.isoWeek||0,c=e.day||0,d=e.hour||0,f=e.minute||0,m=e.second||0,g=e.millisecond||0;this._isValid=f9(e),this._milliseconds=+g+m*1e3+f*6e4+d*1e3*60*60,this._days=+c+o*7,this._months=+a+n*3+s*12,this._data={},this._locale=zi(),this._bubble()}function Fd(t){return t instanceof Ih}function Ig(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function g9(t,e,s){var n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0,c;for(c=0;c<n;c++)Ie(t[c])!==Ie(e[c])&&o++;return o+a}function qk(t,e){Se(t,0,0,function(){var s=this.utcOffset(),n="+";return s<0&&(s=-s,n="-"),n+Wn(~~(s/60),2)+e+Wn(~~s%60,2)})}qk("Z",":");qk("ZZ","");ge("Z",Uh);ge("ZZ",Uh);dt(["Z","ZZ"],function(t,e,s){s._useUTC=!0,s._tzm=M0(Uh,t)});var x9=/([\+\-]|\d\d)/gi;function M0(t,e){var s=(e||"").match(t),n,a,o;return s===null?null:(n=s[s.length-1]||[],a=(n+"").match(x9)||["-",0,0],o=+(a[1]*60)+Ie(a[2]),o===0?0:a[0]==="+"?o:-o)}function T0(t,e){var s,n;return e._isUTC?(s=e.clone(),n=(Nn(t)||Wc(t)?t.valueOf():_t(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+n),le.updateOffset(s,!1),s):_t(t).local()}function qg(t){return-Math.round(t._d.getTimezoneOffset())}le.updateOffset=function(){};function y9(t,e,s){var n=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=M0(Uh,t),t===null)return this}else Math.abs(t)<16&&!s&&(t=t*60);return!this._isUTC&&e&&(a=qg(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==t&&(!e||this._changeInProgress?Xk(this,Mn(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:qg(this)}function b9(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function v9(t){return this.utcOffset(0,t)}function _9(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(qg(this),"m")),this}function w9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=M0(HP,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function S9(t){return this.isValid()?(t=t?_t(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function j9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function N9(){if(!Rs(this._isDSTShifted))return this._isDSTShifted;var t={},e;return h0(t,this),t=Yk(t),t._a?(e=t._isUTC?In(t._a):_t(t._a),this._isDSTShifted=this.isValid()&&g9(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function k9(){return this.isValid()?!this._isUTC:!1}function M9(){return this.isValid()?this._isUTC:!1}function Gk(){return this.isValid()?this._isUTC&&this._offset===0:!1}var T9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,D9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mn(t,e){var s=t,n=null,a,o,c;return Fd(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:Oi(t)||!isNaN(+t)?(s={},e?s[e]=+t:s.milliseconds=+t):(n=T9.exec(t))?(a=n[1]==="-"?-1:1,s={y:0,d:Ie(n[Bn])*a,h:Ie(n[Jt])*a,m:Ie(n[Sn])*a,s:Ie(n[Ni])*a,ms:Ie(Ig(n[fr]*1e3))*a}):(n=D9.exec(t))?(a=n[1]==="-"?-1:1,s={y:ar(n[2],a),M:ar(n[3],a),w:ar(n[4],a),d:ar(n[5],a),h:ar(n[6],a),m:ar(n[7],a),s:ar(n[8],a)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(c=C9(_t(s.from),_t(s.to)),s={},s.ms=c.milliseconds,s.M=c.months),o=new Ih(s),Fd(t)&&et(t,"_locale")&&(o._locale=t._locale),Fd(t)&&et(t,"_isValid")&&(o._isValid=t._isValid),o}Mn.fn=Ih.prototype;Mn.invalid=p9;function ar(t,e){var s=t&&parseFloat(t.replace(",","."));return(isNaN(s)?0:s)*e}function Uw(t,e){var s={};return s.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(s.months,"M").isAfter(e)&&--s.months,s.milliseconds=+e-+t.clone().add(s.months,"M"),s}function C9(t,e){var s;return t.isValid()&&e.isValid()?(e=T0(e,t),t.isBefore(e)?s=Uw(t,e):(s=Uw(e,t),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function $k(t,e){return function(s,n){var a,o;return n!==null&&!isNaN(+n)&&(Sk(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=s,s=n,n=o),a=Mn(s,n),Xk(this,a,t),this}}function Xk(t,e,s,n){var a=e._milliseconds,o=Ig(e._days),c=Ig(e._months);t.isValid()&&(n=n??!0,c&&Ok(t,Ac(t,"Month")+c*s),o&&Ck(t,"Date",Ac(t,"Date")+o*s),a&&t._d.setTime(t._d.valueOf()+a*s),n&&le.updateOffset(t,o||c))}var A9=$k(1,"add"),E9=$k(-1,"subtract");function Kk(t){return typeof t=="string"||t instanceof String}function O9(t){return Nn(t)||Wc(t)||Kk(t)||Oi(t)||L9(t)||R9(t)||t===null||t===void 0}function R9(t){var e=xr(t)&&!u0(t),s=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,o,c=n.length;for(a=0;a<c;a+=1)o=n[a],s=s||et(t,o);return e&&s}function L9(t){var e=jn(t),s=!1;return e&&(s=t.filter(function(n){return!Oi(n)&&Kk(t)}).length===0),e&&s}function z9(t){var e=xr(t)&&!u0(t),s=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,o;for(a=0;a<n.length;a+=1)o=n[a],s=s||et(t,o);return e&&s}function P9(t,e){var s=t.diff(e,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function B9(t,e){arguments.length===1&&(arguments[0]?O9(arguments[0])?(t=arguments[0],e=void 0):z9(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var s=t||_t(),n=T0(s,this).startOf("day"),a=le.calendarFormat(this,n)||"sameElse",o=e&&(qn(e[a])?e[a].call(this,s):e[a]);return this.format(o||this.localeData().calendar(a,this,_t(s)))}function V9(){return new Ic(this)}function F9(t,e){var s=Nn(t)?t:_t(t);return this.isValid()&&s.isValid()?(e=pn(e)||"millisecond",e==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(e).valueOf()):!1}function H9(t,e){var s=Nn(t)?t:_t(t);return this.isValid()&&s.isValid()?(e=pn(e)||"millisecond",e==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(e).valueOf()<s.valueOf()):!1}function U9(t,e,s,n){var a=Nn(t)?t:_t(t),o=Nn(e)?e:_t(e);return this.isValid()&&a.isValid()&&o.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,s):!this.isBefore(a,s))&&(n[1]===")"?this.isBefore(o,s):!this.isAfter(o,s))):!1}function Y9(t,e){var s=Nn(t)?t:_t(t),n;return this.isValid()&&s.isValid()?(e=pn(e)||"millisecond",e==="millisecond"?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function W9(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function I9(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function q9(t,e,s){var n,a,o;if(!this.isValid())return NaN;if(n=T0(t,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,e=pn(e),e){case"year":o=Hd(this,n)/12;break;case"month":o=Hd(this,n);break;case"quarter":o=Hd(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-a)/864e5;break;case"week":o=(this-n-a)/6048e5;break;default:o=this-n}return s?o:fn(o)}function Hd(t,e){if(t.date()<e.date())return-Hd(e,t);var s=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(s,"months"),a,o;return e-n<0?(a=t.clone().add(s-1,"months"),o=(e-n)/(n-a)):(a=t.clone().add(s+1,"months"),o=(e-n)/(a-n)),-(s+o)||0}le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function G9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $9(t){if(!this.isValid())return null;var e=t!==!0,s=e?this.clone().utc():this;return s.year()<0||s.year()>9999?Vd(s,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):qn(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Vd(s,"Z")):Vd(s,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function X9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",s,n,a,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),s="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(s+n+a+o)}function K9(t){t||(t=this.isUtc()?le.defaultFormatUtc:le.defaultFormat);var e=Vd(this,t);return this.localeData().postformat(e)}function Z9(t,e){return this.isValid()&&(Nn(t)&&t.isValid()||_t(t).isValid())?Mn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Q9(t){return this.from(_t(),t)}function J9(t,e){return this.isValid()&&(Nn(t)&&t.isValid()||_t(t).isValid())?Mn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function eV(t){return this.to(_t(),t)}function Zk(t){var e;return t===void 0?this._locale._abbr:(e=zi(t),e!=null&&(this._locale=e),this)}var Qk=mn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Jk(){return this._locale}var fh=1e3,jo=60*fh,mh=60*jo,eM=(365*400+97)*24*mh;function No(t,e){return(t%e+e)%e}function tM(t,e,s){return t<100&&t>=0?new Date(t+400,e,s)-eM:new Date(t,e,s).valueOf()}function sM(t,e,s){return t<100&&t>=0?Date.UTC(t+400,e,s)-eM:Date.UTC(t,e,s)}function tV(t){var e,s;if(t=pn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?sM:tM,t){case"year":e=s(this.year(),0,1);break;case"quarter":e=s(this.year(),this.month()-this.month()%3,1);break;case"month":e=s(this.year(),this.month(),1);break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=s(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=No(e+(this._isUTC?0:this.utcOffset()*jo),mh);break;case"minute":e=this._d.valueOf(),e-=No(e,jo);break;case"second":e=this._d.valueOf(),e-=No(e,fh);break}return this._d.setTime(e),le.updateOffset(this,!0),this}function sV(t){var e,s;if(t=pn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?sM:tM,t){case"year":e=s(this.year()+1,0,1)-1;break;case"quarter":e=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=s(this.year(),this.month()+1,1)-1;break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=mh-No(e+(this._isUTC?0:this.utcOffset()*jo),mh)-1;break;case"minute":e=this._d.valueOf(),e+=jo-No(e,jo)-1;break;case"second":e=this._d.valueOf(),e+=fh-No(e,fh)-1;break}return this._d.setTime(e),le.updateOffset(this,!0),this}function nV(){return this._d.valueOf()-(this._offset||0)*6e4}function iV(){return Math.floor(this.valueOf()/1e3)}function aV(){return new Date(this.valueOf())}function rV(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function oV(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function lV(){return this.isValid()?this.toISOString():null}function cV(){return d0(this)}function uV(){return va({},ze(this))}function dV(){return ze(this).overflow}function hV(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Se("N",0,0,"eraAbbr");Se("NN",0,0,"eraAbbr");Se("NNN",0,0,"eraAbbr");Se("NNNN",0,0,"eraName");Se("NNNNN",0,0,"eraNarrow");Se("y",["y",1],"yo","eraYear");Se("y",["yy",2],0,"eraYear");Se("y",["yyy",3],0,"eraYear");Se("y",["yyyy",4],0,"eraYear");ge("N",D0);ge("NN",D0);ge("NNN",D0);ge("NNNN",SV);ge("NNNNN",jV);dt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,s,n){var a=s._locale.erasParse(t,n,s._strict);a?ze(s).era=a:ze(s).invalidEra=t});ge("y",Uo);ge("yy",Uo);ge("yyy",Uo);ge("yyyy",Uo);ge("yo",NV);dt(["y","yy","yyy","yyyy"],ys);dt(["yo"],function(t,e,s,n){var a;s._locale._eraYearOrdinalRegex&&(a=t.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?e[ys]=s._locale.eraYearOrdinalParse(t,a):e[ys]=parseInt(t,10)});function fV(t,e){var s,n,a,o=this._eras||zi("en")._eras;for(s=0,n=o.length;s<n;++s)switch(typeof o[s].since==="string"&&(a=le(o[s].since).startOf("day"),o[s].since=a.valueOf()),typeof o[s].until){case"undefined":o[s].until=1/0;break;case"string":a=le(o[s].until).startOf("day").valueOf(),o[s].until=a.valueOf();break}return o}function mV(t,e,s){var n,a,o=this.eras(),c,d,f;for(t=t.toUpperCase(),n=0,a=o.length;n<a;++n)if(c=o[n].name.toUpperCase(),d=o[n].abbr.toUpperCase(),f=o[n].narrow.toUpperCase(),s)switch(e){case"N":case"NN":case"NNN":if(d===t)return o[n];break;case"NNNN":if(c===t)return o[n];break;case"NNNNN":if(f===t)return o[n];break}else if([c,d,f].indexOf(t)>=0)return o[n]}function pV(t,e){var s=t.since<=t.until?1:-1;return e===void 0?le(t.since).year():le(t.since).year()+(e-t.offset)*s}function gV(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].name;return""}function xV(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].narrow;return""}function yV(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].abbr;return""}function bV(){var t,e,s,n,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(s=a[t].since<=a[t].until?1:-1,n=this.clone().startOf("day").valueOf(),a[t].since<=n&&n<=a[t].until||a[t].until<=n&&n<=a[t].since)return(this.year()-le(a[t].since).year())*s+a[t].offset;return this.year()}function vV(t){return et(this,"_erasNameRegex")||C0.call(this),t?this._erasNameRegex:this._erasRegex}function _V(t){return et(this,"_erasAbbrRegex")||C0.call(this),t?this._erasAbbrRegex:this._erasRegex}function wV(t){return et(this,"_erasNarrowRegex")||C0.call(this),t?this._erasNarrowRegex:this._erasRegex}function D0(t,e){return e.erasAbbrRegex(t)}function SV(t,e){return e.erasNameRegex(t)}function jV(t,e){return e.erasNarrowRegex(t)}function NV(t,e){return e._eraYearOrdinalRegex||Uo}function C0(){var t=[],e=[],s=[],n=[],a,o,c,d,f,m=this.eras();for(a=0,o=m.length;a<o;++a)c=Di(m[a].name),d=Di(m[a].abbr),f=Di(m[a].narrow),e.push(c),t.push(d),s.push(f),n.push(c),n.push(d),n.push(f);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}Se(0,["gg",2],0,function(){return this.weekYear()%100});Se(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qh(t,e){Se(0,[t,t.length],0,e)}qh("gggg","weekYear");qh("ggggg","weekYear");qh("GGGG","isoWeekYear");qh("GGGGG","isoWeekYear");ge("G",Hh);ge("g",Hh);ge("GG",wt,Gs);ge("gg",wt,Gs);ge("GGGG",x0,g0);ge("gggg",x0,g0);ge("GGGGG",Fh,Bh);ge("ggggg",Fh,Bh);Gc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,s,n){e[n.substr(0,2)]=Ie(t)});Gc(["gg","GG"],function(t,e,s,n){e[n]=le.parseTwoDigitYear(t)});function kV(t){return nM.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function MV(t){return nM.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function TV(){return Ci(this.year(),1,4)}function DV(){return Ci(this.isoWeekYear(),1,4)}function CV(){var t=this.localeData()._week;return Ci(this.year(),t.dow,t.doy)}function AV(){var t=this.localeData()._week;return Ci(this.weekYear(),t.dow,t.doy)}function nM(t,e,s,n,a){var o;return t==null?Oc(this,n,a).year:(o=Ci(t,n,a),e>o&&(e=o),EV.call(this,t,e,s,n,a))}function EV(t,e,s,n,a){var o=zk(t,e,s,n,a),c=Ec(o.year,0,o.dayOfYear);return this.year(c.getUTCFullYear()),this.month(c.getUTCMonth()),this.date(c.getUTCDate()),this}Se("Q",0,"Qo","quarter");ge("Q",Nk);dt("Q",function(t,e){e[ji]=(Ie(t)-1)*3});function OV(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Se("D",["DD",2],"Do","date");ge("D",wt,Yo);ge("DD",wt,Gs);ge("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});dt(["D","DD"],Bn);dt("Do",function(t,e){e[Bn]=Ie(t.match(wt)[0])});var iM=Wo("Date",!0);Se("DDD",["DDDD",3],"DDDo","dayOfYear");ge("DDD",Vh);ge("DDDD",kk);dt(["DDD","DDDD"],function(t,e,s){s._dayOfYear=Ie(t)});function RV(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Se("m",["mm",2],0,"minute");ge("m",wt,y0);ge("mm",wt,Gs);dt(["m","mm"],Sn);var LV=Wo("Minutes",!1);Se("s",["ss",2],0,"second");ge("s",wt,y0);ge("ss",wt,Gs);dt(["s","ss"],Ni);var zV=Wo("Seconds",!1);Se("S",0,0,function(){return~~(this.millisecond()/100)});Se(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Se(0,["SSS",3],0,"millisecond");Se(0,["SSSS",4],0,function(){return this.millisecond()*10});Se(0,["SSSSS",5],0,function(){return this.millisecond()*100});Se(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Se(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Se(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Se(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ge("S",Vh,Nk);ge("SS",Vh,Gs);ge("SSS",Vh,kk);var _a,aM;for(_a="SSSS";_a.length<=9;_a+="S")ge(_a,Uo);function PV(t,e){e[fr]=Ie(("0."+t)*1e3)}for(_a="S";_a.length<=9;_a+="S")dt(_a,PV);aM=Wo("Milliseconds",!1);Se("z",0,0,"zoneAbbr");Se("zz",0,0,"zoneName");function BV(){return this._isUTC?"UTC":""}function VV(){return this._isUTC?"Coordinated Universal Time":""}var re=Ic.prototype;re.add=A9;re.calendar=B9;re.clone=V9;re.diff=q9;re.endOf=sV;re.format=K9;re.from=Z9;re.fromNow=Q9;re.to=J9;re.toNow=eV;re.get=XP;re.invalidAt=dV;re.isAfter=F9;re.isBefore=H9;re.isBetween=U9;re.isSame=Y9;re.isSameOrAfter=W9;re.isSameOrBefore=I9;re.isValid=cV;re.lang=Qk;re.locale=Zk;re.localeData=Jk;re.max=c9;re.min=l9;re.parsingFlags=uV;re.set=KP;re.startOf=tV;re.subtract=E9;re.toArray=rV;re.toObject=oV;re.toDate=aV;re.toISOString=$9;re.inspect=X9;typeof Symbol<"u"&&Symbol.for!=null&&(re[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});re.toJSON=lV;re.toString=G9;re.unix=iV;re.valueOf=nV;re.creationData=hV;re.eraName=gV;re.eraNarrow=xV;re.eraAbbr=yV;re.eraYear=bV;re.year=Dk;re.isLeapYear=$P;re.weekYear=kV;re.isoWeekYear=MV;re.quarter=re.quarters=OV;re.month=Rk;re.daysInMonth=aB;re.week=re.weeks=fB;re.isoWeek=re.isoWeeks=mB;re.weeksInYear=CV;re.weeksInWeekYear=AV;re.isoWeeksInYear=TV;re.isoWeeksInISOWeekYear=DV;re.date=iM;re.day=re.days=MB;re.weekday=TB;re.isoWeekday=DB;re.dayOfYear=RV;re.hour=re.hours=zB;re.minute=re.minutes=LV;re.second=re.seconds=zV;re.millisecond=re.milliseconds=aM;re.utcOffset=y9;re.utc=v9;re.local=_9;re.parseZone=w9;re.hasAlignedHourOffset=S9;re.isDST=j9;re.isLocal=k9;re.isUtcOffset=M9;re.isUtc=Gk;re.isUTC=Gk;re.zoneAbbr=BV;re.zoneName=VV;re.dates=mn("dates accessor is deprecated. Use date instead.",iM);re.months=mn("months accessor is deprecated. Use month instead",Rk);re.years=mn("years accessor is deprecated. Use year instead",Dk);re.zone=mn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",b9);re.isDSTShifted=mn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",N9);function FV(t){return _t(t*1e3)}function HV(){return _t.apply(null,arguments).parseZone()}function rM(t){return t}var tt=f0.prototype;tt.calendar=kP;tt.longDateFormat=CP;tt.invalidDate=EP;tt.ordinal=LP;tt.preparse=rM;tt.postformat=rM;tt.relativeTime=PP;tt.pastFuture=BP;tt.set=jP;tt.eras=fV;tt.erasParse=mV;tt.erasConvertYear=pV;tt.erasAbbrRegex=_V;tt.erasNameRegex=vV;tt.erasNarrowRegex=wV;tt.months=tB;tt.monthsShort=sB;tt.monthsParse=iB;tt.monthsRegex=oB;tt.monthsShortRegex=rB;tt.week=cB;tt.firstDayOfYear=hB;tt.firstDayOfWeek=dB;tt.weekdays=wB;tt.weekdaysMin=jB;tt.weekdaysShort=SB;tt.weekdaysParse=kB;tt.weekdaysRegex=CB;tt.weekdaysShortRegex=AB;tt.weekdaysMinRegex=EB;tt.isPM=RB;tt.meridiem=PB;function ph(t,e,s,n){var a=zi(),o=In().set(n,e);return a[s](o,t)}function oM(t,e,s){if(Oi(t)&&(e=t,t=void 0),t=t||"",e!=null)return ph(t,e,s,"month");var n,a=[];for(n=0;n<12;n++)a[n]=ph(t,n,s,"month");return a}function A0(t,e,s,n){typeof t=="boolean"?(Oi(e)&&(s=e,e=void 0),e=e||""):(e=t,s=e,t=!1,Oi(e)&&(s=e,e=void 0),e=e||"");var a=zi(),o=t?a._week.dow:0,c,d=[];if(s!=null)return ph(e,(s+o)%7,n,"day");for(c=0;c<7;c++)d[c]=ph(e,(c+o)%7,n,"day");return d}function UV(t,e){return oM(t,e,"months")}function YV(t,e){return oM(t,e,"monthsShort")}function WV(t,e,s){return A0(t,e,s,"weekdays")}function IV(t,e,s){return A0(t,e,s,"weekdaysShort")}function qV(t,e,s){return A0(t,e,s,"weekdaysMin")}Na("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,s=Ie(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+s}});le.lang=mn("moment.lang is deprecated. Use moment.locale instead.",Na);le.langData=mn("moment.langData is deprecated. Use moment.localeData instead.",zi);var gi=Math.abs;function GV(){var t=this._data;return this._milliseconds=gi(this._milliseconds),this._days=gi(this._days),this._months=gi(this._months),t.milliseconds=gi(t.milliseconds),t.seconds=gi(t.seconds),t.minutes=gi(t.minutes),t.hours=gi(t.hours),t.months=gi(t.months),t.years=gi(t.years),this}function lM(t,e,s,n){var a=Mn(e,s);return t._milliseconds+=n*a._milliseconds,t._days+=n*a._days,t._months+=n*a._months,t._bubble()}function $V(t,e){return lM(this,t,e,1)}function XV(t,e){return lM(this,t,e,-1)}function Yw(t){return t<0?Math.floor(t):Math.ceil(t)}function KV(){var t=this._milliseconds,e=this._days,s=this._months,n=this._data,a,o,c,d,f;return t>=0&&e>=0&&s>=0||t<=0&&e<=0&&s<=0||(t+=Yw(Gg(s)+e)*864e5,e=0,s=0),n.milliseconds=t%1e3,a=fn(t/1e3),n.seconds=a%60,o=fn(a/60),n.minutes=o%60,c=fn(o/60),n.hours=c%24,e+=fn(c/24),f=fn(cM(e)),s+=f,e-=Yw(Gg(f)),d=fn(s/12),s%=12,n.days=e,n.months=s,n.years=d,this}function cM(t){return t*4800/146097}function Gg(t){return t*146097/4800}function ZV(t){if(!this.isValid())return NaN;var e,s,n=this._milliseconds;if(t=pn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,s=this._months+cM(e),t){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(e=this._days+Math.round(Gg(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function Pi(t){return function(){return this.as(t)}}var uM=Pi("ms"),QV=Pi("s"),JV=Pi("m"),e7=Pi("h"),t7=Pi("d"),s7=Pi("w"),n7=Pi("M"),i7=Pi("Q"),a7=Pi("y"),r7=uM;function o7(){return Mn(this)}function l7(t){return t=pn(t),this.isValid()?this[t+"s"]():NaN}function Sr(t){return function(){return this.isValid()?this._data[t]:NaN}}var c7=Sr("milliseconds"),u7=Sr("seconds"),d7=Sr("minutes"),h7=Sr("hours"),f7=Sr("days"),m7=Sr("months"),p7=Sr("years");function g7(){return fn(this.days()/7)}var bi=Math.round,_o={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function x7(t,e,s,n,a){return a.relativeTime(e||1,!!s,t,n)}function y7(t,e,s,n){var a=Mn(t).abs(),o=bi(a.as("s")),c=bi(a.as("m")),d=bi(a.as("h")),f=bi(a.as("d")),m=bi(a.as("M")),g=bi(a.as("w")),x=bi(a.as("y")),b=o<=s.ss&&["s",o]||o<s.s&&["ss",o]||c<=1&&["m"]||c<s.m&&["mm",c]||d<=1&&["h"]||d<s.h&&["hh",d]||f<=1&&["d"]||f<s.d&&["dd",f];return s.w!=null&&(b=b||g<=1&&["w"]||g<s.w&&["ww",g]),b=b||m<=1&&["M"]||m<s.M&&["MM",m]||x<=1&&["y"]||["yy",x],b[2]=e,b[3]=+t>0,b[4]=n,x7.apply(null,b)}function b7(t){return t===void 0?bi:typeof t=="function"?(bi=t,!0):!1}function v7(t,e){return _o[t]===void 0?!1:e===void 0?_o[t]:(_o[t]=e,t==="s"&&(_o.ss=e-1),!0)}function _7(t,e){if(!this.isValid())return this.localeData().invalidDate();var s=!1,n=_o,a,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(s=t),typeof e=="object"&&(n=Object.assign({},_o,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),a=this.localeData(),o=y7(this,!s,n,a),s&&(o=a.pastFuture(+this,o)),a.postformat(o)}var $p=Math.abs;function ho(t){return(t>0)-(t<0)||+t}function Gh(){if(!this.isValid())return this.localeData().invalidDate();var t=$p(this._milliseconds)/1e3,e=$p(this._days),s=$p(this._months),n,a,o,c,d=this.asSeconds(),f,m,g,x;return d?(n=fn(t/60),a=fn(n/60),t%=60,n%=60,o=fn(s/12),s%=12,c=t?t.toFixed(3).replace(/\.?0+$/,""):"",f=d<0?"-":"",m=ho(this._months)!==ho(d)?"-":"",g=ho(this._days)!==ho(d)?"-":"",x=ho(this._milliseconds)!==ho(d)?"-":"",f+"P"+(o?m+o+"Y":"")+(s?m+s+"M":"")+(e?g+e+"D":"")+(a||n||t?"T":"")+(a?x+a+"H":"")+(n?x+n+"M":"")+(t?x+c+"S":"")):"P0D"}var Ke=Ih.prototype;Ke.isValid=m9;Ke.abs=GV;Ke.add=$V;Ke.subtract=XV;Ke.as=ZV;Ke.asMilliseconds=uM;Ke.asSeconds=QV;Ke.asMinutes=JV;Ke.asHours=e7;Ke.asDays=t7;Ke.asWeeks=s7;Ke.asMonths=n7;Ke.asQuarters=i7;Ke.asYears=a7;Ke.valueOf=r7;Ke._bubble=KV;Ke.clone=o7;Ke.get=l7;Ke.milliseconds=c7;Ke.seconds=u7;Ke.minutes=d7;Ke.hours=h7;Ke.days=f7;Ke.weeks=g7;Ke.months=m7;Ke.years=p7;Ke.humanize=_7;Ke.toISOString=Gh;Ke.toString=Gh;Ke.toJSON=Gh;Ke.locale=Zk;Ke.localeData=Jk;Ke.toIsoString=mn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gh);Ke.lang=Qk;Se("X",0,0,"unix");Se("x",0,0,"valueOf");ge("x",Hh);ge("X",UP);dt("X",function(t,e,s){s._d=new Date(parseFloat(t)*1e3)});dt("x",function(t,e,s){s._d=new Date(Ie(t))});le.version="2.30.1";wP(_t);le.fn=re;le.min=u9;le.max=d9;le.now=h9;le.utc=In;le.unix=FV;le.months=UV;le.isDate=Wc;le.locale=Na;le.invalid=Ph;le.duration=Mn;le.isMoment=Nn;le.weekdays=WV;le.parseZone=HV;le.localeData=zi;le.isDuration=Fd;le.monthsShort=YV;le.weekdaysMin=qV;le.defineLocale=S0;le.updateLocale=HB;le.locales=UB;le.weekdaysShort=IV;le.normalizeUnits=pn;le.relativeTimeRounding=b7;le.relativeTimeThreshold=v7;le.calendarFormat=P9;le.prototype=re;le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const w7={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};QS._date.override(typeof le=="function"?{_id:"moment",formats:function(){return w7},parse:function(t,e){return typeof t=="string"&&typeof e=="string"?t=le(t,e):t instanceof le||(t=le(t)),t.isValid()?t.valueOf():null},format:function(t,e){return le(t).format(e)},add:function(t,e,s){return le(t).add(e,s).valueOf()},diff:function(t,e,s){return le(t).diff(le(e),s)},startOf:function(t,e,s){return t=le(t),e==="isoWeek"?(s=Math.trunc(Math.min(Math.max(0,s),6)),t.isoWeekday(s).startOf("day").valueOf()):t.startOf(e).valueOf()},endOf:function(t,e){return le(t).endOf(e).valueOf()}}:{});kn.register(Bc,Vc,zo,Li,xx,Mh,Bo,Po,eh);function S7(){const[t,e]=N.useState(null),[s,n]=N.useState(null),[a,o]=N.useState(""),[c,d]=N.useState(!1),[f,m]=N.useState(!1),[g,x]=N.useState(3),[b,v]=N.useState(!1),[w,S]=N.useState("load"),[j,M]=N.useState("forecast"),[T,E]=N.useState(!1),[O,L]=N.useState(!1),[C,A]=N.useState(!1),[z,I]=N.useState(!1),[K,Z]=N.useState(!1),[oe,De]=N.useState(!1),[xe,_e]=N.useState(null),F=async()=>{d(!0);try{const me=await he.aurora.dashboard();e(me);const st=me.state?.risk_profile?.risk_appetite;typeof st=="number"&&x(st),E(!!me.state?.auto_tune_enabled),A(!!me.state?.reflex_enabled),Z(me.state?.risk_profile?.mode==="probabilistic")}catch(me){console.error("Failed to load Aurora dashboard:",me)}finally{d(!1)}};N.useEffect(()=>{F(),(async()=>{try{const st=await he.schedulerStatus();n(st)}catch(st){console.error("Failed to load scheduler status:",st)}})()},[]),N.useEffect(()=>{(async()=>{try{const st=await he.performanceData(7);_e(st)}catch(st){console.error("Failed to load performance data:",st)}})()},[]);const G=async()=>{if(t){m(!0);try{const me=await he.aurora.briefing(t);o(me.briefing)}catch(me){console.error("Failed to fetch Aurora briefing:",me),o("Failed to fetch Aurora briefing.")}finally{m(!1)}}},ae=async me=>{x(me);try{await he.configSave({s_index:{risk_appetite:me}})}catch(st){console.error("Failed to save risk level (risk_appetite):",st)}},ne=async()=>{const me=!T;E(me),L(!0);try{await he.configSave({learning:{auto_tune_enabled:me}})}catch(st){console.error("Failed to toggle auto-tune:",st),E(!me)}finally{L(!1)}},ce=async()=>{const me=!C;A(me),I(!0);try{await he.aurora.toggleReflex(me)}catch(st){console.error("Failed to toggle reflex:",st),A(!me)}finally{I(!1)}},R=async()=>{const me=!K;Z(me),De(!0);try{await he.configSave({s_index:{mode:me?"probabilistic":"dynamic"}})}catch(st){console.error("Failed to toggle probabilistic mode:",st),Z(!me)}finally{De(!1)}},H=t?.identity?.graduation?.label??"infant",ee=t?.state?.weather_volatility,D=ee?.overall??0,se=D<.3?"bg-emerald-400/90":D<.7?"bg-sky-400/90":"bg-amber-400/90",fe=D<.3?"from-emerald-900/60 via-surface to-surface":D<.7?"from-sky-900/60 via-surface to-surface":"from-amber-900/60 via-surface to-surface",Ce=t?.horizon?.slots??[],ft=t?.horizon?.end??new Date().toISOString(),Xe=t?.history?.strategy_events??[],es=N.useMemo(()=>xe?{datasets:[{label:"Planned",data:xe.soc_series.map(me=>({x:me.time,y:me.planned})),borderColor:"#94a3b8",borderDash:[5,5],borderWidth:1.5,pointRadius:0,tension:.4},{label:"Actual",data:xe.soc_series.map(me=>({x:me.time,y:me.actual})),borderColor:"#60a5fa",backgroundColor:"rgba(96, 165, 250, 0.1)",borderWidth:1.5,pointRadius:0,fill:!0,tension:.4}]}:null,[xe]),rs=N.useMemo(()=>xe?{labels:xe.cost_series.map(me=>me.date.slice(5)),datasets:[{label:"Plan",data:xe.cost_series.map(me=>me.planned),backgroundColor:"#94a3b8",borderRadius:2},{label:"Real",data:xe.cost_series.map(me=>me.realized),backgroundColor:xe.cost_series.map(me=>me.realized<=me.planned?"#34d399":"#f87171"),borderRadius:2}]}:null,[xe]);return u.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[u.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Aurora Command Center",u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-surface2 border border-line/50 text-[10px] text-muted uppercase tracking-wider",children:H})]}),u.jsx("p",{className:"text-[11px] text-muted",children:"The Mastermind. Observing context, managing risk, and learning from reality."})]})}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[u.jsx(Ee,{className:`lg:col-span-6 p-4 md:p-5 bg-gradient-to-br ${fe} relative overflow-hidden`,children:u.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative flex items-center justify-center",children:[u.jsx("div",{className:`absolute h-16 w-16 rounded-full ${se} opacity-30 animate-pulse`}),u.jsx("div",{className:"relative flex items-center justify-center w-14 h-14 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:u.jsx(tg,{className:"h-8 w-8 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),u.jsx("div",{className:"text-lg font-medium text-text",children:D>.6?"Defensive Mode":D>.3?"Cautious Mode":"Optimal Mode"}),u.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2",children:[u.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${D>.6?"bg-amber-400":"bg-emerald-400"}`}),D>.6?"High Volatility Detected":"Conditions Stable"]})]})]}),u.jsxs("div",{className:"flex-1 bg-surface/40 rounded-xl p-3 border border-white/5 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-text font-medium",children:[u.jsx(mS,{className:"h-3 w-3 text-accent"}),"Daily Briefing"]}),u.jsx("button",{onClick:G,disabled:!t||f,className:"text-[10px] text-muted hover:text-accent disabled:opacity-50 transition-colors",children:f?"Thinking...":"Refresh"})]}),u.jsx("div",{className:"text-[11px] leading-relaxed text-muted/90 font-mono",children:a||"Aurora is analyzing current market and weather conditions..."})]})]})}),u.jsxs(Ee,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col justify-center",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-muted tracking-wider",children:"Risk Appetite"}),u.jsxs("div",{className:"flex items-center gap-2",children:[t?.state?.risk_profile?.raw_factor!=null&&(t.state.risk_profile.raw_factor??0)>0&&u.jsxs("span",{className:"text-[9px] text-muted/60",title:"Calculated based on risk",children:["Calc: ",(t.state.risk_profile.raw_factor??0).toFixed(2)]}),u.jsxs("span",{className:"text-[9px] text-muted",title:"Proected factor for next run",children:["Applied: ",(t?.state?.risk_profile?.current_factor??1).toFixed(2)]})]})]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx("div",{className:"grid grid-cols-5 gap-1 p-1 bg-surface2/50 rounded-lg border border-line/30",children:[1,2,3,4,5].map(me=>{const st=g===me;let mt="bg-surface border-line text-text shadow-sm";return st&&(me===1?mt="bg-emerald-500/20 border-emerald-500/50 text-emerald-100 shadow-[0_0_10px_rgba(16,185,129,0.2)]":me===2?mt="bg-teal-500/20 border-teal-500/50 text-teal-100":me===3?mt="bg-blue-500/20 border-blue-500/50 text-blue-100":me===4?mt="bg-amber-500/20 border-amber-500/50 text-amber-100":me===5&&(mt="bg-red-500/20 border-red-500/50 text-red-100 shadow-[0_0_10px_rgba(239,68,68,0.2)]")),u.jsx("button",{onClick:()=>ae(me),className:`
                       relative flex items-center justify-center h-9 rounded-md text-[10px] font-medium transition-all duration-200
                       border border-transparent
                       ${st?mt:"text-muted hover:bg-surface/50 hover:text-text"}
                     `,children:me},me)})}),u.jsxs("div",{className:"text-center h-8 flex flex-col justify-center",children:[u.jsx("span",{className:`text-[11px] font-medium transition-colors duration-300 ${g===1?"text-emerald-400":g===2?"text-teal-400":g===3?"text-blue-400":g===4?"text-amber-400":"text-red-400"}`,children:{1:"Safety First",2:"Conservative",3:"Neutral (Balanced)",4:"Aggressive",5:"Gambler"}[g]}),u.jsx("span",{className:"text-[9px] text-muted/70",children:{1:"Covers Worst Case (p90)",2:"Covers High Load (p75)",3:"Trusts the Mean (p50)",4:"Expects Lower Load",5:"Bets on Sun/Empty"}[g]})]})]}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30 flex flex-col items-center gap-2",children:[u.jsx("button",{onClick:async()=>{v(!0);try{await ae(g),await he.runPlanner(),await F()}finally{v(!1)}},disabled:b,className:`flex items-center gap-2 px-3 py-1.5 rounded-full bg-surface hover:bg-surface2 border border-line/50 text-[10px] transition-colors ${b?"opacity-70 cursor-not-allowed text-muted":"text-muted hover:text-text"}`,title:"Run Strategy Engine to update forecast based on new risk",children:b?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),u.jsx("span",{children:"Re-planning..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(ki,{className:"h-3 w-3 text-accent"}),u.jsx("span",{children:"Apply & Re-Plan"})]})}),b&&u.jsx("span",{className:"text-[9px] text-muted/70 animate-pulse",children:"Regenerating schedule with new risk level..."})]})]}),u.jsxs(Ee,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ki,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Auto-Tuner"}),u.jsx("span",{className:"text-[9px] text-muted",children:"Allow Aurora to act"})]}),u.jsx("button",{onClick:ne,disabled:O,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${T?"bg-accent":"bg-surface2"}`,children:u.jsx("span",{className:`${T?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Aurora Reflex"}),u.jsx("span",{className:"text-[9px] text-muted",children:"Long-term auto-tuning"})]}),u.jsx("button",{onClick:ce,disabled:z,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${C?"bg-accent":"bg-surface2"}`,children:u.jsx("span",{className:`${C?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Probabilistic"}),u.jsx("span",{className:"text-[9px] text-muted",children:"Use p10/p90 confidence bands"})]}),u.jsx("button",{onClick:R,disabled:oe,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${K?"bg-accent":"bg-surface2"}`,children:u.jsx("span",{className:`${K?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]}),u.jsx("div",{className:"mt-auto pt-2 text-center text-[10px] text-muted",children:"More controls coming soon."})]})]}),u.jsx(vP,{metrics:t?.metrics,perfData:xe}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-12 lg:h-[450px]",children:[u.jsxs(Ee,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[u.jsx("div",{className:"mb-4 flex items-center justify-between shrink-0",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(yc,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Context Radar"})]})}),u.jsx("div",{className:"flex-1 min-h-0 relative",children:u.jsx(yP,{weatherVolatility:{cloud:ee?.cloud_volatility??0,temp:ee?.temp_volatility??0,overall:D},riskFactor:g??3,forecastAccuracy:t?.metrics?.mae_pv_aurora!=null?Math.max(0,100-t.metrics.mae_pv_aurora*20):85,priceSpread:t?.metrics?.max_price_spread,forecastBias:t?.metrics?.forecast_bias})})]}),u.jsxs(Ee,{className:"lg:col-span-4 p-4 flex flex-col h-full min-h-0 overflow-hidden",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lS,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Activity Log"})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("span",{className:"text-[10px] text-muted",children:[Xe.length," events"]}),s?.ml_training_last_run_at&&u.jsxs("span",{className:"text-[9px] text-muted/70",title:"Last ML Training Run",children:["ML Train:"," ",new Date(s.ml_training_last_run_at).toLocaleString("sv-SE",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]})]}),u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto pr-2 custom-scrollbar",children:u.jsx(bP,{events:Xe})})]}),u.jsxs(Ee,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col h-full min-h-0 overflow-hidden",children:[u.jsxs("div",{className:"mb-4 shrink-0",children:[u.jsx("div",{className:"text-xs font-medium text-text",children:"Cost Reality"}),u.jsx("div",{className:"text-[11px] text-muted",children:"Daily financial outcome"})]}),u.jsx("div",{className:"flex-1 min-h-0",children:rs&&u.jsx(pP,{data:rs,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:10}}},y:{grid:{color:"#334155"},ticks:{color:"#94a3b8"}}},plugins:{legend:{labels:{color:"#e2e8f0",font:{size:10}}}}}})})]})]}),u.jsx("div",{className:"grid gap-4 lg:grid-cols-12",children:u.jsxs(Ee,{className:"lg:col-span-12 p-4 flex flex-col h-[350px] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-text",children:j==="forecast"?"Forecast Horizon (48h)":"SoC Tunnel"}),u.jsxs("div",{className:"text-[11px] text-muted",children:[j==="forecast"?K?`Probabilistic View (${w.toUpperCase()})`:`Decomposition View (${w.toUpperCase()})`:"Plan vs Reality",j==="forecast"&&u.jsxs(u.Fragment,{children:["  ",new Date().toISOString().slice(0,10)," -"," ",new Date(ft).toISOString().slice(0,10)]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px] mr-2",children:[u.jsx("button",{className:`px-3 py-0.5 rounded-full ${j==="forecast"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>M("forecast"),children:"Forecast"}),u.jsx("button",{className:`px-3 py-0.5 rounded-full ${j==="soc"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>M("soc"),children:"SoC"})]}),j==="forecast"&&u.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-line/70 bg-surface2 px-1 py-0.5 text-[11px]",children:[u.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${w==="load"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>S("load"),children:u.jsx(ki,{className:"h-3 w-3"})}),u.jsx("button",{type:"button",className:`px-2 py-0.5 rounded-full ${w==="pv"?"bg-accent text-[#0F1216]":"text-muted"}`,onClick:()=>S("pv"),children:u.jsx(pS,{className:"h-3 w-3"})})]})]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:c?u.jsx("div",{className:"text-[11px] text-muted",children:"Loading..."}):j==="soc"?u.jsx("div",{className:"h-full w-full",children:es&&u.jsx(c0,{data:es,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",time:{unit:"hour",displayFormats:{hour:"HH:mm"}},grid:{color:"#334155",display:!1},ticks:{color:"#94a3b8",maxTicksLimit:6}},y:{min:0,max:100,grid:{color:"#334155"},ticks:{color:"#94a3b8",display:!1}}},plugins:{legend:{display:!1}}}})}):K?u.jsx("div",{className:"h-full w-full",children:u.jsx(_P,{title:"",color:w==="load"?"#f97316":"#22c55e",slots:(()=>{const me=t?.horizon?.history_series?.[w==="load"?"load":"pv"]||[],st=Ce.map(qe=>w==="load"?{time:qe.slot_start,p10:qe.probabilistic?.load_p10??null,p50:qe.final.load_kwh,p90:qe.probabilistic?.load_p90??null,actual:null}:{time:qe.slot_start,p10:qe.probabilistic?.pv_p10??null,p50:qe.final.pv_kwh,p90:qe.probabilistic?.pv_p90??null,actual:null}),mt=new Map;me.forEach(qe=>{mt.set(qe.slot_start,{time:qe.slot_start,p10:qe.p10??null,p50:qe.forecast??null,p90:qe.p90??null,actual:qe.actual})}),st.forEach(qe=>{const $t=mt.get(qe.time);$t?mt.set(qe.time,{...$t,p10:qe.p10,p50:qe.p50,p90:qe.p90}):mt.set(qe.time,qe)});const $s=new Date().getTime(),gn=1440*60*1e3;return Array.from(mt.values()).sort((qe,$t)=>new Date(qe.time).getTime()-new Date($t.time).getTime()).filter(qe=>{const $t=new Date(qe.time).getTime();return $t>=$s-gn&&$t<=$s+gn})})()})}):u.jsx(xP,{slots:Ce,mode:w})})]})})]})}function $l({data:t,colorClass:e="bg-accent",height:s=32,bars:n=12}){const a=N.useMemo(()=>{if(!t||t.length===0)return Array(n).fill(.2);const o=t.slice(-n),c=Math.max(...o,1),d=Math.min(...o,0),f=c-d||1;return o.map(m=>.1+.9*((m-d)/f))},[t,n]);return u.jsx("div",{className:"mini-bars",style:{height:s},children:a.map((o,c)=>u.jsx("div",{className:`mini-bar ${e}`,style:{height:`${Math.round(o*100)}%`}},c))})}const un={status:async()=>{const t=await fetch("api/executor/status");if(!t.ok)throw new Error(`Status failed: ${t.status}`);return t.json()},toggle:async t=>{const e=await fetch("api/executor/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Toggle failed: ${e.status}`);return e.json()},run:async()=>{const t=await fetch("api/executor/run",{method:"POST"});if(!t.ok)throw new Error(`Run failed: ${t.status}`);return t.json()},history:async(t=20)=>{const e=await fetch(`api/executor/history?limit=${t}`);if(!e.ok)throw new Error(`History failed: ${e.status}`);return e.json()},stats:async(t=7)=>{const e=await fetch(`api/executor/stats?days=${t}`);if(!e.ok)throw new Error(`Stats failed: ${e.status}`);return e.json()},live:async()=>{const t=await fetch("api/executor/live");if(!t.ok)throw new Error(`Live failed: ${t.status}`);return t.json()},notifications:{get:async()=>{const t=await fetch("api/executor/notifications");if(!t.ok)throw new Error(`Notifications failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Notifications update failed: ${e.status}`);return e.json()},test:async()=>{const t=await fetch("api/executor/notifications/test",{method:"POST"}),e=await t.json();if(!t.ok)throw new Error(e.error||`Test failed: ${t.status}`);return e}},config:{get:async()=>{const t=await fetch("api/executor/config");if(!t.ok)throw new Error(`Config get failed: ${t.status}`);return t.json()},update:async t=>{const e=await fetch("api/executor/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Config update failed: ${e.status}`);return e.json()}},quickAction:{get:async()=>{const t=await fetch("api/executor/quick-action");if(!t.ok)throw new Error(`Quick action get failed: ${t.status}`);return t.json()},set:async(t,e)=>{const s=await fetch("api/executor/quick-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,duration_minutes:e})});if(!s.ok)throw new Error(`Quick action set failed: ${s.status}`);return s.json()},clear:async()=>{const t=await fetch("api/executor/quick-action",{method:"DELETE"});if(!t.ok)throw new Error(`Quick action clear failed: ${t.status}`);return t.json()}}};function Xp({enabled:t,onChange:e,disabled:s=!1,size:n="md"}){const a=n==="sm"?"h-5 w-9":"h-6 w-11",o=n==="sm"?"h-3 w-3":"h-4 w-4",c=n==="sm"?t?"translate-x-5":"translate-x-1":t?"translate-x-6":"translate-x-1";return u.jsx("button",{type:"button",role:"switch","aria-checked":t,disabled:s,onClick:()=>e(!t),className:`relative inline-flex items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-surface ${a} ${t?"bg-accent":"bg-surface2"} ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:u.jsx("span",{className:`inline-block transform rounded-full bg-white transition-transform ${o} ${c}`})})}kn.register(Bc,Vc,zo,Li,Mh,Bo,Po,kh);function j7(){const[t,e]=N.useState(null),[s,n]=N.useState(null),[a,o]=N.useState([]),[c,d]=N.useState(null),[f,m]=N.useState({soc:[],pv:[],load:[],import:[],export:[],labels:[]}),[g,x]=N.useState(!0),[b,v]=N.useState(!1),[w,S]=N.useState(!1),[j,M]=N.useState(null),[T,E]=N.useState(!1),[O,L]=N.useState(null),[C,A]=N.useState(!1),[z,I]=N.useState(!1),[K,Z]=N.useState(null),[oe,De]=N.useState(null),xe=N.useCallback(async()=>{try{const[D,se,fe]=await Promise.all([un.status(),un.stats(7),un.history(20)]);e(D),n(se),o(fe.records),M(null)}catch(D){M(D.message||"Failed to load executor data")}finally{x(!1)}},[]);vo("live_metrics",D=>{d(se=>{const fe={...se||{}};return D.soc!==void 0&&(fe.soc={value:`${D.soc.toFixed(0)}%`,numeric:D.soc,unit:"%"}),D.pv_kw!==void 0&&(fe.pv_power={value:`${D.pv_kw.toFixed(1)} kW`,numeric:D.pv_kw*1e3,unit:"W"}),D.load_kw!==void 0&&(fe.load_power={value:`${D.load_kw.toFixed(1)} kW`,numeric:D.load_kw*1e3,unit:"W"}),D.grid_import_kw!==void 0&&(fe.grid_import={value:`${D.grid_import_kw.toFixed(2)} kW`,numeric:D.grid_import_kw*1e3,unit:"W"}),D.grid_export_kw!==void 0&&(fe.grid_export={value:`${D.grid_export_kw.toFixed(2)} kW`,numeric:D.grid_export_kw*1e3,unit:"W"}),D.work_mode&&(fe.work_mode={value:D.work_mode}),fe}),m(se=>{const Ce=[...se.labels,""],ft=[...se.soc,D.soc??se.soc[se.soc.length-1]??0],Xe=[...se.pv,D.pv_kw??se.pv[se.pv.length-1]??0],es=[...se.load,D.load_kw??se.load[se.load.length-1]??0],rs=[...se.import,D.grid_import_kw??se.import[se.import.length-1]??0],me=[...se.export,D.grid_export_kw??se.export[se.export.length-1]??0];return Ce.length>20&&(Ce.shift(),ft.shift(),Xe.shift(),es.shift(),rs.shift(),me.shift()),{labels:Ce,soc:ft,pv:Xe,load:es,import:rs,export:me}})}),vo("executor_status",D=>{e(D)}),N.useEffect(()=>{x(!0),xe();const D=setInterval(xe,3e4);return()=>clearInterval(D)},[xe]),N.useEffect(()=>{(async()=>{try{const se=await un.live();d(se)}catch{}})()},[]),N.useEffect(()=>{(async()=>{try{const se=await un.notifications.get();L(se)}catch{}})()},[]);const _e=async(D,se)=>{if(O){A(!0);try{await un.notifications.update({[D]:se}),L(fe=>fe?{...fe,[D]:se}:null)}catch(fe){M(fe.message)}finally{A(!1)}}},F=async D=>{v(!0);try{await un.toggle({enabled:D}),await xe()}catch(se){M(se.message)}finally{v(!1)}},G=async()=>{I(!0),Z(null);try{const D=await un.notifications.test();Z({success:!0,message:D.message||"Test sent!"})}catch(D){Z({success:!1,message:D.message})}finally{I(!1)}},ae=async D=>{v(!0);try{await un.toggle({shadow_mode:D}),await xe()}catch(se){M(se.message)}finally{v(!1)}},ne=async()=>{S(!0);try{await un.run(),await xe()}catch(D){M(D.message)}finally{S(!1)}},ce=D=>{if(!D)return"";try{return new Date(D).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"})}catch{return D}},R=D=>{if(!D)return"";try{return new Date(D).toLocaleString("sv-SE",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return D}},H=t?.enabled?t?.shadow_mode?"from-amber-900/60 via-surface to-surface":"from-emerald-900/60 via-surface to-surface":"from-slate-800/60 via-surface to-surface",ee=t?.enabled?t?.shadow_mode?"bg-amber-400/90":"bg-emerald-400/90":"bg-slate-500/90";return g?u.jsx("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:u.jsxs("div",{className:"animate-pulse space-y-4",children:[u.jsx("div",{className:"h-10 bg-surface2 rounded w-48"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsx("div",{className:"h-64 bg-surface2 rounded"}),u.jsx("div",{className:"h-64 bg-surface2 rounded lg:col-span-2"})]})]})}):u.jsxs("div",{className:"px-4 pt-16 pb-10 lg:px-8 lg:pt-10 space-y-6",children:[u.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-lg font-medium text-text flex items-center gap-2",children:["Executor Control Center",u.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[10px] uppercase tracking-wider ${t?.enabled?t?.shadow_mode?"bg-amber-500/20 border-amber-500/50 text-amber-300":"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":"bg-slate-500/20 border-slate-500/50 text-slate-400"}`,children:t?.enabled?t?.shadow_mode?"Shadow":"Active":"Disabled"})]}),u.jsx("p",{className:"text-[11px] text-muted",children:"Native execution engine  controls inverter and water heater based on the schedule."})]})}),j&&u.jsxs("div",{className:"rounded-xl p-3 bg-red-500/10 border border-red-500/30 flex items-center gap-3",children:[u.jsx(rc,{className:"h-4 w-4 text-red-400"}),u.jsx("span",{className:"text-red-300 text-[11px] flex-1",children:j}),u.jsx("button",{onClick:()=>M(null),className:"text-red-400 hover:text-red-300 text-lg",children:""})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-12",children:[u.jsxs(Ee,{className:`lg:col-span-5 p-4 md:p-5 bg-gradient-to-br ${H} relative overflow-hidden`,children:[u.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[u.jsxs("div",{className:"relative flex items-center justify-center shrink-0",children:[u.jsx("div",{className:`absolute h-14 w-14 rounded-full ${ee} opacity-30 animate-pulse`}),u.jsx("div",{className:"relative flex items-center justify-center w-12 h-12 rounded-full bg-surface/90 border border-line/80 shadow-float ring-2 ring-accent/20",children:u.jsx(sg,{className:"h-6 w-6 text-accent drop-shadow-[0_0_12px_rgba(56,189,248,0.75)]"})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-xs font-semibold text-text uppercase tracking-wide",children:"Status"}),u.jsx("div",{className:"text-lg font-medium text-text",children:t?.enabled?t?.shadow_mode?"Shadow Mode":"Executing":"Standby"}),u.jsxs("div",{className:"text-[11px] text-muted flex items-center gap-2 mt-1",children:[u.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${t?.last_run_status==="success"?"bg-emerald-400":t?.last_run_status==="error"?"bg-red-400":"bg-slate-400"}`}),t?.last_run_status==="success"?"Last run successful":t?.last_run_status==="error"?"Last run failed":"No runs yet"]})]})]}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10 grid grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Last Run"}),u.jsx("div",{className:"text-sm font-mono text-text",children:ce(t?.last_run_at)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Next Run"}),u.jsx("div",{className:"text-sm font-mono text-text",children:ce(t?.next_run_at)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-muted/70 uppercase",children:"Version"}),u.jsx("div",{className:"text-sm font-mono text-text",children:t?.version||""})]})]}),t?.override_active&&u.jsx("div",{className:"mt-3 p-2 rounded-lg bg-amber-500/20 border border-amber-500/30",children:u.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-amber-300",children:[u.jsx(rc,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"font-medium",children:"Override Active:"}),u.jsx("span",{children:t.override_type})]})})]}),u.jsxs(Ee,{className:"lg:col-span-4 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ig,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Controls"})]}),u.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Executor Enabled"}),u.jsx("span",{className:"text-[9px] text-muted",children:"Execute actions on Home Assistant"})]}),u.jsx(Xp,{enabled:t?.enabled??!1,onChange:F,disabled:b,size:"sm"})]}),u.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"text-[11px] font-medium text-text flex items-center gap-1.5",children:["Shadow Mode",u.jsx(WD,{className:"h-3 w-3 text-muted"})]}),u.jsx("span",{className:"text-[9px] text-muted",children:"Log only, don't execute actions"})]}),u.jsx(Xp,{enabled:t?.shadow_mode??!1,onChange:ae,disabled:b,size:"sm"})]}),u.jsxs("button",{onClick:()=>E(!0),className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50 mt-2 hover:bg-surface2 transition-colors w-full",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(up,{className:"h-4 w-4 text-muted"}),u.jsx("span",{className:"text-[11px] font-medium text-text",children:"Notifications"})]}),O&&Object.entries(O).some(([D,se])=>D.startsWith("on_")&&se===!0)&&u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute inset-0 rounded-full bg-accent/50 blur-sm animate-pulse"}),u.jsx("span",{className:"relative h-2.5 w-2.5 rounded-full bg-accent block ring-2 ring-accent/30"})]})]}),u.jsx("div",{className:"mt-auto pt-4",children:u.jsx("button",{onClick:ne,disabled:w,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-surface hover:bg-surface2 border border-line/50 text-[11px] font-medium transition-all ${w?"opacity-70 cursor-not-allowed text-muted":"text-text hover:border-accent/50"}`,children:w?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-3.5 w-3.5 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),u.jsx("span",{children:"Running..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(hS,{className:"h-3.5 w-3.5 text-accent"}),u.jsx("span",{children:"Run Now"})]})})})]}),u.jsxs(Ee,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Id,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"7-Day Stats"})]}),s&&u.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[u.jsxs("div",{className:"p-3 rounded-lg bg-surface2/30 border border-line/30",children:[u.jsx("div",{className:"text-xl font-bold text-text",children:s.total_executions}),u.jsx("div",{className:"text-[10px] text-muted",children:"Total Runs"})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[u.jsxs("div",{className:"text-xl font-bold text-emerald-400",children:[s.success_rate,"%"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Success Rate"})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[u.jsx("div",{className:"text-xl font-bold text-amber-400",children:s.override_count}),u.jsx("div",{className:"text-[10px] text-muted",children:"Overrides"})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[u.jsx("div",{className:"text-xl font-bold text-red-400",children:s.failed}),u.jsx("div",{className:"text-[10px] text-muted",children:"Failed"})]})]})]}),u.jsxs(Ee,{className:"lg:col-span-3 p-4 md:p-5 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ki,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Quick Actions"})]}),t?.quick_action&&u.jsx("div",{className:"mb-3 p-3 rounded-lg bg-accent/10 border border-accent/30",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-[11px] font-medium text-accent capitalize",children:[t.quick_action.type.replace("_"," ")," Active"]}),u.jsxs("div",{className:"text-[10px] text-muted",children:[t.quick_action.remaining_minutes.toFixed(0)," min remaining"]})]}),u.jsx("button",{onClick:async()=>{try{await un.quickAction.clear(),xe()}catch(D){console.error(D)}},className:"text-[10px] px-2 py-1 rounded bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",children:"Cancel"})]})}),u.jsx("div",{className:"space-y-2 flex-1",children:[{type:"force_charge",label:"Force Charge",icon:eg,labelClass:"text-emerald-400",btnClass:"bg-emerald-500/10 border-emerald-500/20 text-emerald-400 hover:bg-emerald-500/20"},{type:"force_export",label:"Force Export",icon:rg,labelClass:"text-amber-400",btnClass:"bg-amber-500/10 border-amber-500/20 text-amber-400 hover:bg-amber-500/20"},{type:"force_heat",label:"Force Heat",icon:Qg,labelClass:"text-orange-400",btnClass:"bg-orange-500/10 border-orange-500/20 text-orange-400 hover:bg-orange-500/20"},{type:"force_stop",label:"Stop All",icon:KD,labelClass:"text-red-400",btnClass:"bg-red-500/10 border-red-500/20 text-red-400 hover:bg-red-500/20"}].map(D=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:`text-[11px] ${D.labelClass} w-20 font-medium flex items-center gap-1`,children:[u.jsx(D.icon,{className:"h-3 w-3"}),D.label]}),u.jsx("div",{className:"flex gap-1 flex-1",children:[15,30,60].map(se=>u.jsxs("button",{onClick:async()=>{try{await un.quickAction.set(D.type,se),xe()}catch(fe){alert("Failed: "+fe.message)}},disabled:t?.quick_action?.type===D.type,className:`flex-1 px-2 py-1.5 text-[10px] rounded-lg border transition-all ${t?.quick_action?.type===D.type?"bg-accent/20 border-accent/40 text-accent":D.btnClass}`,children:[se,"m"]},se))})]},D.type))}),u.jsx("div",{className:"mt-3 text-[9px] text-muted/60 text-center",children:"Overrides schedule for selected duration"})]})]}),u.jsxs(Ee,{className:"p-4 md:p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(yc,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Live System"}),u.jsx("span",{className:"text-[9px] text-muted/70",children:"(every 10s)"})]}),c?.work_mode&&u.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${c.work_mode.value.includes("Export")?"bg-emerald-500/20 border-emerald-500/30 text-emerald-300":"bg-blue-500/20 border-blue-500/30 text-blue-300"}`,children:c.work_mode.value})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[u.jsxs("div",{className:"metric-card-border metric-card-border-battery p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx($l,{data:f.soc,colorClass:"bg-good"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(oS,{className:`h-6 w-6 ${(c?.soc?.numeric??0)>50?"text-good":(c?.soc?.numeric??0)>20?"text-warn":"text-bad"}`}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-good",children:[c?.soc?.numeric?.toFixed(0)??"","%"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Battery SoC"})]})]})]}),u.jsxs("div",{className:"metric-card-border metric-card-border-solar p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx($l,{data:f.pv,colorClass:"bg-accent"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(ex,{className:`h-6 w-6 ${(c?.pv_power?.numeric??0)>500?"text-accent":"text-accent/40"}`}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-accent",children:[c?.pv_power?.numeric?(c.pv_power.numeric/1e3).toFixed(1):""," kW"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"PV Power"})]})]})]}),u.jsxs("div",{className:"metric-card-border metric-card-border-house p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx($l,{data:f.load,colorClass:"bg-house"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(XD,{className:"h-6 w-6 text-house"}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-house",children:[c?.load_power?.numeric?(c.load_power.numeric/1e3).toFixed(1):""," kW"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Load"})]})]})]}),u.jsxs("div",{className:"metric-card-border metric-card-border-grid p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx($l,{data:f.import,colorClass:(c?.grid_import?.numeric??0)>100?"bg-bad":"bg-grid"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(Kg,{className:`h-6 w-6 ${(c?.grid_import?.numeric??0)>100?"text-bad":"text-grid"}`}),u.jsxs("div",{children:[u.jsxs("div",{className:`text-lg font-bold ${(c?.grid_import?.numeric??0)>100?"text-bad":"text-text"}`,children:[c?.grid_import?.numeric?(c.grid_import.numeric/1e3).toFixed(2):""," kW"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Grid Import"})]})]})]}),u.jsxs("div",{className:"metric-card-border metric-card-border-bad p-3 bg-surface2/30 relative overflow-hidden group",children:[u.jsx("div",{className:"mini-bars-container absolute right-2 bottom-2 transition-opacity pointer-events-none",children:u.jsx($l,{data:f.export,colorClass:"bg-bad"})}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx(Zg,{className:"h-6 w-6 text-bad"}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-bold text-bad",children:[c?.grid_export?.numeric?(c.grid_export.numeric/1e3).toFixed(2):""," kW"]}),u.jsx("div",{className:"text-[10px] text-muted",children:"Grid Export"})]})]})]})]})]}),u.jsxs(Ee,{className:"p-4 md:p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ID,{className:"h-4 w-4 text-accent"}),u.jsx("span",{className:"text-xs font-medium text-text",children:"Execution History"}),u.jsxs("span",{className:"text-[10px] text-muted",children:["(",a.length," records)"]})]}),u.jsxs("button",{onClick:xe,className:"flex items-center gap-1.5 text-[10px] text-muted hover:text-accent transition px-2 py-1 rounded-lg hover:bg-surface2",children:[u.jsx(fS,{className:"h-3 w-3"}),"Refresh"]})]}),a.length===0?u.jsxs("div",{className:"text-center py-12 text-muted",children:[u.jsx(Y1,{className:"h-10 w-10 mx-auto opacity-20 mb-3"}),u.jsx("p",{className:"text-[11px]",children:"No execution history yet."}),u.jsx("p",{className:"text-[10px] mt-1 text-muted/70",children:"Run the executor to see results here."})]}):u.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[t?.next_run_at&&u.jsxs("div",{className:"p-3 rounded-xl border-2 border-dashed border-line/30 bg-surface2/10 opacity-70",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Y1,{className:"h-4 w-4 text-muted animate-pulse"}),u.jsxs("span",{className:"text-[11px] text-muted font-mono",children:["Next: ",ce(t.next_run_at)]})]}),u.jsx("span",{className:"text-[9px] text-muted/70 bg-surface2/50 px-2 py-0.5 rounded-full",children:"Scheduled"})]}),t.current_slot_plan&&u.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 text-[10px]",children:[t.current_slot_plan.charge_kw>0&&u.jsxs("div",{className:"flex items-center gap-1 text-emerald-400",children:[u.jsx(eg,{className:"h-3 w-3"}),u.jsxs("span",{children:[t.current_slot_plan.charge_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.export_kw>0&&u.jsxs("div",{className:"flex items-center gap-1 text-amber-400",children:[u.jsx(rg,{className:"h-3 w-3"}),u.jsxs("span",{children:[t.current_slot_plan.export_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.water_kw>0&&u.jsxs("div",{className:"flex items-center gap-1 text-sky-400",children:[u.jsx(dS,{className:"h-3 w-3"}),u.jsxs("span",{children:[t.current_slot_plan.water_kw.toFixed(1),"kW"]})]}),t.current_slot_plan.soc_target>0&&u.jsx("div",{className:"flex items-center gap-1 text-muted",children:u.jsxs("span",{children:["SoC",t.current_slot_plan.soc_target,"%"]})}),!t.current_slot_plan.charge_kw&&!t.current_slot_plan.export_kw&&!t.current_slot_plan.water_kw&&u.jsx("div",{className:"text-muted/60 col-span-4",children:"Idle / Self-consumption"})]})]}),a.map(D=>{const se=oe===D.id;return u.jsxs("div",{className:`rounded-xl border transition-all ${D.success?"bg-surface2/30 border-line/40 hover:border-line/60":"bg-red-500/10 border-red-500/30 hover:border-red-500/50"}`,children:[u.jsxs("div",{className:"p-3 cursor-pointer flex items-center justify-between",onClick:()=>De(se?null:D.id),children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bh,{className:`h-3 w-3 text-muted transition-transform ${se?"rotate-180":""}`}),D.success?u.jsx(cS,{className:"h-4 w-4 text-emerald-400"}):u.jsx(rc,{className:"h-4 w-4 text-red-400"}),u.jsx("span",{className:"text-[11px] text-text font-mono",children:R(D.executed_at)}),D.commanded_charge_current_a&&D.commanded_charge_current_a>0&&u.jsx("span",{className:"text-[9px] text-emerald-400 bg-emerald-500/20 px-1.5 py-0.5 rounded",children:" Charge"}),D.commanded_work_mode==="Export First"&&u.jsx("span",{className:"text-[9px] text-amber-400 bg-amber-500/20 px-1.5 py-0.5 rounded",children:" Export"}),D.commanded_water_temp&&D.commanded_water_temp>50&&u.jsx("span",{className:"text-[9px] text-orange-400 bg-orange-500/20 px-1.5 py-0.5 rounded",children:" Heat"}),(!D.commanded_charge_current_a||D.commanded_charge_current_a===0)&&D.commanded_work_mode!=="Export First"&&(!D.commanded_water_temp||D.commanded_water_temp<=50)&&u.jsx("span",{className:"text-[9px] text-muted/60 bg-surface2/50 px-1.5 py-0.5 rounded",children:" Idle"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[D.override_active?u.jsx("span",{className:"text-[9px] text-amber-400 bg-amber-500/20 px-2 py-0.5 rounded-full border border-amber-500/30",children:D.override_type}):null,D.duration_ms&&u.jsxs("span",{className:"text-[9px] text-muted font-mono",children:[D.duration_ms,"ms"]})]})]}),se&&u.jsxs("div",{className:"px-3 pb-3 border-t border-line/20",children:[u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Planned (from Schedule)"}),u.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Charge"}),u.jsxs("span",{className:D.planned_charge_kw?"text-emerald-400":"text-muted/40",children:[D.planned_charge_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Export"}),u.jsxs("span",{className:D.planned_export_kw?"text-amber-400":"text-muted/40",children:[D.planned_export_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Water"}),u.jsxs("span",{className:D.planned_water_kw?"text-orange-400":"text-muted/40",children:[D.planned_water_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"SoC Target"}),u.jsxs("span",{className:"text-text",children:[D.planned_soc_target??"","%"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"SoC Projected"}),u.jsxs("span",{className:"text-text",children:[D.planned_soc_projected??"","%"]})]})]})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"Commanded (What We Set)"}),u.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 text-[10px]",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Work Mode"}),u.jsx("span",{className:"text-text font-medium",children:D.commanded_work_mode??""})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Grid Charging"}),u.jsx("span",{className:D.commanded_grid_charging?"text-emerald-400":"text-muted/40",children:D.commanded_grid_charging?"ON":"OFF"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Charge I"}),u.jsxs("span",{className:D.commanded_charge_current_a?"text-emerald-400":"text-muted/40",children:[D.commanded_charge_current_a??""," A"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Discharge I"}),u.jsxs("span",{className:D.commanded_discharge_current_a?"text-amber-400":"text-muted/40",children:[D.commanded_discharge_current_a??""," A"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"SoC Target"}),u.jsxs("span",{className:"text-text",children:[D.commanded_soc_target??"","%"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Water Temp"}),u.jsxs("span",{className:D.commanded_water_temp&&D.commanded_water_temp>50?"text-orange-400":"text-muted/40",children:[D.commanded_water_temp??"","C"]})]})]})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-[9px] text-muted uppercase tracking-wide mb-1.5",children:"State Before Execution"}),u.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2 text-[10px]",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"SoC"}),u.jsxs("span",{className:"text-text",children:[D.before_soc_percent?.toFixed(0)??"","%"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Work Mode"}),u.jsx("span",{className:"text-text",children:D.before_work_mode??""})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"PV Power"}),u.jsxs("span",{className:"text-yellow-400",children:[D.before_pv_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Load"}),u.jsxs("span",{className:"text-sky-400",children:[D.before_load_kw?.toFixed(1)??""," kW"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-muted/60",children:"Water Temp"}),u.jsxs("span",{className:"text-text",children:[D.before_water_temp??"","C"]})]})]})]}),D.error_message&&u.jsx("div",{className:"mt-2 text-[10px] text-red-400 bg-red-500/10 rounded-lg p-2",children:D.error_message}),D.override_reason&&u.jsxs("div",{className:"mt-2 text-[10px] text-amber-300/80 bg-amber-500/10 rounded-lg p-2",children:["Override: ",D.override_reason]})]})]},D.id)})]})]}),T&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>E(!1),children:u.jsxs("div",{className:"bg-surface border border-line rounded-2xl p-5 w-full max-w-md shadow-2xl",onClick:D=>D.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(up,{className:"h-5 w-5 text-accent"}),u.jsx("span",{className:"text-sm font-medium text-text",children:"Notification Settings"})]}),u.jsx("button",{onClick:()=>E(!1),className:"text-muted hover:text-text transition p-1",children:u.jsx(Lo,{className:"h-5 w-5"})})]}),O&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"p-2 rounded-lg bg-surface2/30 border border-line/30 mb-3",children:[u.jsx("div",{className:"text-[10px] text-muted mb-1",children:"HA Notify Service"}),u.jsx("div",{className:"text-[11px] text-text font-mono",children:O.service||"Not configured"})]}),[{key:"on_charge_start",label:"Charge Started",desc:"When grid charging begins"},{key:"on_charge_stop",label:"Charge Stopped",desc:"When grid charging ends"},{key:"on_export_start",label:"Export Started",desc:"When battery export begins"},{key:"on_export_stop",label:"Export Stopped",desc:"When battery export ends"},{key:"on_water_heat_start",label:"Water Heating Started",desc:"When water heater activates"},{key:"on_water_heat_stop",label:"Water Heating Stopped",desc:"When water heater deactivates"},{key:"on_soc_target_change",label:"SoC Target Changed",desc:"When battery target changes"},{key:"on_override_activated",label:"Override Activated",desc:"When emergency override triggers"},{key:"on_error",label:"Errors",desc:"When execution fails"}].map(D=>u.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface2/50 border border-line/50",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[11px] font-medium text-text",children:D.label}),u.jsx("span",{className:"text-[9px] text-muted",children:D.desc})]}),u.jsx(Xp,{enabled:O[D.key],onChange:se=>_e(D.key,se),disabled:C,size:"sm"})]},D.key))]}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-line/30",children:[u.jsx("button",{onClick:G,disabled:z,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border text-[11px] font-medium transition-all ${z?"bg-surface2/50 border-line/30 text-muted cursor-not-allowed":"bg-accent/10 border-accent/30 text-accent hover:bg-accent/20"}`,children:z?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-3 w-3 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),"Sending..."]}):u.jsxs(u.Fragment,{children:[u.jsx(up,{className:"h-3.5 w-3.5"}),"Send Test Notification"]})}),K&&u.jsx("div",{className:`mt-2 text-center text-[10px] ${K.success?"text-emerald-400":"text-red-400"}`,children:K.message}),u.jsx("div",{className:"mt-2 text-center text-[9px] text-muted/70",children:"Changes are saved automatically"})]})]})})]})}function Xl({variant:t="info",children:e,className:s=""}){return u.jsx("div",{className:`banner banner-${t} ${s}`,children:e})}function Kl({variant:t="muted",children:e,className:s=""}){return u.jsx("span",{className:`badge badge-${t} ${s}`,children:e})}function N7(){const{toast:t}=fk(),[e,s]=N.useState(!1),[n,a]=N.useState(65),[o,c]=N.useState(!1),[d,f]=N.useState(!1),[m,g]=N.useState("");return u.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-10 space-y-12",children:[u.jsxs("header",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold text-text",children:"Darkstar Design System"}),u.jsx("p",{className:"text-muted text-lg mt-2",children:"Visual reference & component showcase"})]}),u.jsx(gS,{})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Color Palette"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{name:"Accent",var:"--color-accent",hex:"#FFCE59"},{name:"Good",var:"--color-good",hex:"#1FB256"},{name:"Warn",var:"--color-warn",hex:"#F59E0B"},{name:"Bad",var:"--color-bad",hex:"#F15132"},{name:"Water",var:"--color-water",hex:"#4EA8DE"},{name:"House",var:"--color-house",hex:"#A855F7"},{name:"Peak",var:"--color-peak",hex:"#EC4899"},{name:"Night",var:"--color-night",hex:"#06B6D4"},{name:"Grid",var:"--color-grid",hex:"#64748B"},{name:"Neutral",var:"--color-neutral",hex:"#989FA5"},{name:"AI",var:"--color-ai",hex:"#8B5CF6"}].map(x=>u.jsxs("div",{className:"rounded-ds-md overflow-hidden shadow-float bg-surface",children:[u.jsx("div",{className:"h-16",style:{backgroundColor:`rgb(var(${x.var}))`}}),u.jsxs("div",{className:"p-2",children:[u.jsx("div",{className:"text-sm font-medium text-text",children:x.name}),u.jsx("div",{className:"text-xs text-muted font-mono",children:x.hex})]})]},x.name))}),u.jsx("h3",{className:"text-lg font-medium text-text mt-6 mb-3",children:"Surface Colors"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{name:"Canvas",var:"--color-canvas"},{name:"Surface",var:"--color-surface"},{name:"Surface2",var:"--color-surface2"},{name:"Line",var:"--color-line"}].map(x=>u.jsx("div",{className:"h-20 rounded-ds-md border border-line flex items-center justify-center",style:{backgroundColor:`rgb(var(${x.var}))`},children:u.jsx("span",{className:"text-sm font-medium text-text",children:x.name})},x.name))})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Typography"}),u.jsxs("div",{className:"space-y-3 bg-surface p-6 rounded-ds-lg",children:[u.jsx("div",{className:"text-4xl",children:"text-4xl (28px)  Page Titles"}),u.jsx("div",{className:"text-3xl",children:"text-3xl (24px)  Section Headers"}),u.jsx("div",{className:"text-2xl",children:"text-2xl (18px)  Subsections"}),u.jsx("div",{className:"text-xl",children:"text-xl (16px)  Large Body"}),u.jsx("div",{className:"text-lg",children:"text-lg (14px)  Body Text"}),u.jsx("div",{className:"text-md",children:"text-md (13px)  Secondary"}),u.jsx("div",{className:"text-base",children:"text-base (12px)  Small Body"}),u.jsx("div",{className:"text-sm",children:"text-sm (11px)  Labels"}),u.jsx("div",{className:"text-xs",children:"text-xs (10px)  Micro"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Buttons"}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[u.jsx("button",{className:"btn btn-primary",children:"Primary"}),u.jsx("button",{className:"btn btn-secondary",children:"Secondary"}),u.jsx("button",{className:"btn btn-danger",children:"Danger"}),u.jsx("button",{className:"btn btn-ghost",children:"Ghost"}),u.jsx("button",{className:"btn btn-primary btn-pill",children:"Pill Primary"}),u.jsx("button",{className:"btn btn-ghost btn-pill",children:"Pill Ghost"})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center mt-4",children:[u.jsx("button",{className:"btn btn-primary",disabled:!0,children:"Disabled Primary"}),u.jsx("button",{className:"btn btn-secondary",disabled:!0,children:"Disabled Secondary"}),u.jsx("button",{className:"btn btn-ghost",disabled:!0,children:"Disabled Ghost"})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("p",{className:"text-sm text-muted mb-2",children:"Dynamic color (using CSS custom property):"}),u.jsx("button",{className:"btn btn-pill btn-dynamic",style:{"--btn-bg":"rgb(var(--color-water))","--btn-text":"#fff"},children:"Custom Water Color"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Banners / Alerts"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Xl,{variant:"info",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Info Banner  Neutral information message"})]}),u.jsxs(Xl,{variant:"success",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Success Banner  Action completed successfully"})]}),u.jsxs(Xl,{variant:"warning",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Warning Banner  Requires attention"})]}),u.jsxs(Xl,{variant:"error",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Error Banner  Critical issue detected"})]}),u.jsxs(Xl,{variant:"purple",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Purple Banner  Special mode (shadow mode)"})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Badges"}),u.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[u.jsx(Kl,{variant:"accent",children:"Accent"}),u.jsx(Kl,{variant:"good",children:"Good"}),u.jsx(Kl,{variant:"warn",children:"Warning"}),u.jsx(Kl,{variant:"bad",children:"Error"}),u.jsx(Kl,{variant:"muted",children:"Muted"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Form Elements"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-muted mb-2",children:"Text Input"}),u.jsx("input",{type:"text",className:"input",placeholder:"Enter value..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-muted mb-2",children:"Number Input"}),u.jsx("input",{type:"number",className:"input",placeholder:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-muted mb-2",children:"Toggle Switch"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ac,{checked:e,onCheckedChange:s}),u.jsx("span",{className:"text-sm text-text",children:e?"On":"Off"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Loading States"}),u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-muted mb-2",children:"Spinner"}),u.jsx("div",{className:"spinner"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm text-muted mb-2",children:"Skeleton"}),u.jsx("div",{className:"skeleton h-8 w-full"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-sm text-muted mb-2",children:["Progress Bar (",n,"%)"]}),u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-bar-fill",style:{width:`${n}%`}})}),u.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:x=>a(Number(x.target.value)),className:"slider mt-2"})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Data Visualization"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[u.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Solar)"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"mini-bars",children:[40,55,75,90,100,85,70,45].map((x,b)=>u.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-accent))"}},b))}),u.jsx("span",{className:"font-mono font-bold text-accent",children:"4.2kW"})]})]}),u.jsxs("div",{className:"bg-surface p-4 rounded-ds-lg",children:[u.jsx("div",{className:"text-sm text-muted mb-3",children:"Mini-Bar Chart (Battery)"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"mini-bars",children:[60,65,70,75,80,82,85,85].map((x,b)=>u.jsx("div",{className:"mini-bar",style:{height:`${x}%`,background:"rgb(var(--color-good))"}},b))}),u.jsx("span",{className:"font-mono font-bold text-good",children:"85%"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Chart.js  Live Example"}),u.jsx("p",{className:"text-muted text-sm mb-4",children:"This is the actual ChartCard component used throughout Darkstar."}),u.jsx("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:u.jsx(_j,{day:"today",showDayToggle:!1})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Power Flow Visualization"}),u.jsx("p",{className:"text-muted text-sm mb-4",children:"Animated energy flow between sources and loads (inspired by power-flow-card-plus)."}),u.jsx("div",{className:"bg-surface rounded-ds-lg p-8 shadow-float",children:u.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full max-w-lg mx-auto",children:[u.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-accent))",strokeWidth:3,fill:"none"},children:u.jsx("path",{d:"M100,50 L200,150"})}),u.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-good))",strokeWidth:3,fill:"none",animationDelay:"0.25s"},children:u.jsx("path",{d:"M200,150 L200,250"})}),u.jsx("g",{className:"power-flow-line",style:{stroke:"rgb(var(--color-house))",strokeWidth:3,fill:"none",animationDelay:"0.5s"},children:u.jsx("path",{d:"M200,150 L300,150"})}),u.jsx("g",{style:{stroke:"rgb(var(--color-grid))",strokeWidth:3,fill:"none",strokeDasharray:"5 5"},children:u.jsx("path",{d:"M100,250 L200,150"})}),u.jsxs("g",{transform:"translate(100, 50)",children:[u.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-accent))",strokeWidth:"3",className:"animate-glow"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-accent))",fontSize:"24",children:""}),u.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"4.2 kW"}),u.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Solar"})]}),u.jsxs("g",{transform:"translate(200, 150)",children:[u.jsx("circle",{r:"40",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-house))",strokeWidth:"3"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-house))",fontSize:"24",children:""}),u.jsx("text",{y:"-50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"3.1 kW"})]}),u.jsxs("g",{transform:"translate(200, 250)",children:[u.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-good))",strokeWidth:"3"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-good))",fontSize:"24",children:""}),u.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"85%"}),u.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"+0.6 kW"})]}),u.jsxs("g",{transform:"translate(100, 250)",children:[u.jsx("circle",{r:"35",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-grid))",strokeWidth:"3"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-grid))",fontSize:"24",children:""}),u.jsx("text",{y:"55",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0 W"}),u.jsx("text",{y:"70",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Grid"})]}),u.jsxs("g",{transform:"translate(300, 150)",children:[u.jsx("circle",{r:"30",fill:"rgb(var(--color-surface))",stroke:"rgb(var(--color-water))",strokeWidth:"3"}),u.jsx("text",{y:"5",textAnchor:"middle",fill:"rgb(var(--color-water))",fontSize:"20",children:""}),u.jsx("text",{y:"50",textAnchor:"middle",fill:"rgb(var(--color-text))",fontSize:"11",fontWeight:"600",children:"0.5 kW"}),u.jsx("text",{y:"65",textAnchor:"middle",fill:"rgb(var(--color-muted))",fontSize:"9",children:"Water"})]})]})})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Animation Examples"}),u.jsx("p",{className:"text-muted text-sm mb-4",children:"CSS animations available in the design system."}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-pulse"}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Pulse"}),u.jsx("code",{className:"text-xs text-muted",children:".animate-pulse"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-good animate-bounce"}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Bounce"}),u.jsx("code",{className:"text-xs text-muted",children:".animate-bounce"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-accent animate-glow"}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Glow"}),u.jsx("code",{className:"text-xs text-muted",children:".animate-glow"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("div",{className:"spinner mx-auto mb-3",style:{width:"3rem",height:"3rem",borderWidth:"4px"}}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Spinner"}),u.jsx("code",{className:"text-xs text-muted",children:".spinner"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Skeleton Loading"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"skeleton h-4 w-3/4"}),u.jsx("div",{className:"skeleton h-4 w-1/2"}),u.jsx("div",{className:"skeleton h-4 w-full"})]}),u.jsx("code",{className:"text-xs text-muted mt-2 block",children:".skeleton"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Mini Bar Animation"}),u.jsx("div",{className:"mini-bars",children:[40,60,80,100,80,60,40,20].map((x,b)=>u.jsx("div",{className:"mini-bar animate-pulse",style:{height:`${x}%`,background:"rgb(var(--color-accent))",animationDelay:`${b*.1}s`}},b))}),u.jsx("code",{className:"text-xs text-muted mt-2 block",children:".mini-bars"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float text-center",children:[u.jsx("button",{className:"btn btn-primary animate-glow mb-2",children:"Glowing Button"}),u.jsx("div",{className:"text-sm font-medium text-text",children:"Button Glow"}),u.jsx("code",{className:"text-xs text-muted",children:".btn + .animate-glow"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("div",{className:"text-sm font-medium text-text mb-2",children:"Animated Progress"}),u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-bar-fill",style:{width:"75%",animation:"skeleton-shimmer 1.5s infinite",background:"linear-gradient(90deg, rgb(var(--color-accent)), rgb(var(--color-accent2)), rgb(var(--color-accent)))",backgroundSize:"200% 100%"}})}),u.jsx("code",{className:"text-xs text-muted mt-2 block",children:".progress-bar"})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Metric Cards"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{border:"solar",label:"Solar",value:"4.2 kW",sub:"+12% today"},{border:"battery",label:"Battery",value:"78%",sub:"Target: 85%"},{border:"house",label:"House Load",value:"1.8 kW",sub:"Avg: 2.1 kW"},{border:"water",label:"Water",value:"2.4 kWh",sub:"Today"},{border:"grid",label:"Grid",value:"-0.5 kW",sub:"Exporting"},{border:"bad",label:"Error",value:"3",sub:"Issues detected"}].map(x=>u.jsxs("div",{className:`metric-card-border metric-card-border-${x.border} bg-surface p-4`,children:[u.jsx("div",{className:"text-xs text-muted uppercase tracking-wider",children:x.label}),u.jsx("div",{className:"text-2xl font-bold text-text mt-1",children:x.value}),u.jsx("div",{className:"text-xs text-muted mt-1",children:x.sub})]},x.border))})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Border Radius"}),u.jsx("div",{className:"flex gap-4 items-end",children:[{name:"sm",size:"8px"},{name:"md",size:"12px"},{name:"lg",size:"16px"},{name:"xl",size:"20px"},{name:"pill",size:"9999px"}].map(x=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`w-16 h-16 bg-accent rounded-ds-${x.name}`}),u.jsx("div",{className:"text-xs text-muted mt-2",children:x.name}),u.jsx("div",{className:"text-xs text-muted",children:x.size})]},x.name))})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Spacing Scale (4px grid)"}),u.jsx("div",{className:"flex gap-4 items-end flex-wrap",children:[1,2,3,4,5,6,8,10,12].map(x=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-accent",style:{width:`var(--space-${x})`,height:`var(--space-${x})`,minWidth:"4px",minHeight:"4px"}}),u.jsxs("div",{className:"text-xs text-muted mt-2",children:["ds-",x]})]},x))})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:"Dark / Light Mode Comparison"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#0f1216"},children:[u.jsx("div",{className:"px-4 py-3",style:{background:"#14191f"},children:u.jsx("span",{className:"text-sm font-semibold",style:{color:"#e6e9ef"},children:" Dark Mode  Glow Buttons"})}),u.jsxs("div",{className:"p-4 space-y-2",style:{background:"#14191f"},children:[u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[u.jsx("span",{style:{color:"#FFCE59"},children:" Solar"}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#FFCE59"},children:"4.2kW"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[u.jsx("span",{style:{color:"#1FB256"},children:" Battery"}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#1FB256"},children:"85%"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[u.jsx("span",{style:{color:"#A855F7"},children:" House"}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"1.8kW"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#181e25"},children:[u.jsx("span",{style:{color:"#4EA8DE"},children:" Water"}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#e6e9ef"},children:"58C"})]}),u.jsxs("div",{className:"flex gap-2 pt-3",children:[u.jsx("button",{style:{background:"#FFCE59",color:"#1a1d23",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 16px rgba(255, 206, 89, 0.4), 0 0 32px rgba(255, 206, 89, 0.2)"},children:" Boost"}),u.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",boxShadow:"0 0 12px rgba(152, 159, 165, 0.3)"},children:" Vacation"})]})]})]}),u.jsxs("div",{className:"rounded-ds-lg overflow-hidden",style:{background:"#DFDFDF"},children:[u.jsx("div",{className:"px-4 py-3",style:{background:"#EFEFEF"},children:u.jsx("span",{className:"text-sm font-semibold",style:{color:"#2D2D2D"},children:" Light Mode  Flat Buttons (TE Style)"})}),u.jsxs("div",{className:"p-4 space-y-2",style:{background:"#EFEFEF"},children:[u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[u.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",u.jsx("b",{style:{color:"#b38b00"},children:"Solar"})]}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"4.2kW"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[u.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",u.jsx("b",{style:{color:"#1FB256"},children:"Battery"})]}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"85%"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[u.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",u.jsx("b",{style:{color:"#A855F7"},children:"House"})]}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"1.8kW"})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{background:"#D0D0D0"},children:[u.jsxs("span",{style:{color:"#2D2D2D"},children:[" ",u.jsx("b",{style:{color:"#4EA8DE"},children:"Water"})]}),u.jsx("span",{className:"font-mono font-bold",style:{color:"#2D2D2D"},children:"58C"})]}),u.jsxs("div",{className:"flex gap-2 pt-3",children:[u.jsx("button",{style:{background:"#FFCE59",color:"#2D2D2D",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Boost"}),u.jsx("button",{style:{background:"#989FA5",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontWeight:600,fontSize:"11px",border:"none"},children:" Vacation"})]})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" Future Components (Inspiration)"}),u.jsx("p",{className:"text-muted text-sm mb-6",children:"These components are not yet implemented but can be added as needed."}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Card"}),u.jsx("p",{className:"text-xs text-muted",children:"Container with shadow, padding, and rounded corners for grouping content."}),u.jsx("div",{className:"mt-3 p-3 bg-surface2 rounded-ds-md",children:u.jsx("div",{className:"text-xs text-text",children:"Card content goes here..."})})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Select (Dropdown)"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Custom searchable dropdown."}),u.jsx(Vg,{options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Delete",value:"3",group:"Danger"}],value:"1",onChange:()=>{}})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tabs"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation between views."}),u.jsxs("div",{className:"flex gap-1 bg-surface2 p-1 rounded-ds-md",children:[u.jsx("div",{className:"px-3 py-1.5 text-xs font-medium bg-accent text-black rounded",children:"Active"}),u.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 2"}),u.jsx("div",{className:"px-3 py-1.5 text-xs text-muted rounded",children:"Tab 3"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Avatars"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"User profile images or initials."}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-xs font-bold text-black",children:"JD"}),u.jsx("div",{className:"w-8 h-8 rounded-full bg-water flex items-center justify-center text-xs font-bold text-white",children:"AB"}),u.jsx("div",{className:"w-8 h-8 rounded-full bg-house flex items-center justify-center text-xs font-bold text-white",children:"?"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Tooltip"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Hover for more info."}),u.jsx("span",{className:"tooltip px-3 py-1.5 bg-surface2 rounded text-xs text-text cursor-help","data-tooltip":"This is a tooltip!",children:"Hover me"})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Data Table"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Tabular data display."}),u.jsxs("div",{className:"text-xs",children:[u.jsxs("div",{className:"flex gap-2 py-1 border-b border-line text-muted font-medium",children:[u.jsx("span",{className:"flex-1",children:"Name"}),u.jsx("span",{className:"w-16 text-right",children:"Value"})]}),u.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[u.jsx("span",{className:"flex-1",children:"Solar"}),u.jsx("span",{className:"w-16 text-right text-accent",children:"4.2kW"})]}),u.jsxs("div",{className:"flex gap-2 py-1 text-text",children:[u.jsx("span",{className:"flex-1",children:"Battery"}),u.jsx("span",{className:"w-16 text-right text-good",children:"85%"})]})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Gauge / Dial"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Circular progress indicator."}),u.jsxs("div",{className:"w-16 h-16 rounded-full border-4 border-surface2 relative",children:[u.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-accent border-r-accent",style:{transform:"rotate(45deg)"}}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-text",children:"75%"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Notification Badge"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Alert indicator on icons."}),u.jsxs("div",{className:"relative inline-block",children:[u.jsx("div",{className:"w-10 h-10 bg-surface2 rounded-lg flex items-center justify-center text-lg",children:""}),u.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-bad rounded-full flex items-center justify-center text-[10px] font-bold text-white",children:"3"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Stepper"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Multi-step progress."}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"1"}),u.jsx("div",{className:"flex-1 h-0.5 bg-accent"}),u.jsx("div",{className:"w-6 h-6 rounded-full bg-accent flex items-center justify-center text-[10px] font-bold text-black",children:"2"}),u.jsx("div",{className:"flex-1 h-0.5 bg-surface2"}),u.jsx("div",{className:"w-6 h-6 rounded-full bg-surface2 flex items-center justify-center text-[10px] font-bold text-muted",children:"3"})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text mb-4",children:" More Future Components"}),u.jsx("p",{className:"text-muted text-sm mb-6",children:"Additional component patterns for future implementation."}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Modal / Dialog"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Overlay for confirmations & forms."}),u.jsx("button",{className:"btn btn-primary text-xs",onClick:()=>f(!0),children:"Open Modal"}),u.jsx(dk,{open:d,onOpenChange:f,title:"Example Modal",footer:u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn btn-ghost",onClick:()=>f(!1),children:"Cancel"}),u.jsx("button",{className:"btn btn-primary",onClick:()=>f(!1),children:"Confirm"})]}),children:u.jsx("p",{className:"text-text",children:"This is a reusable modal component using React Portal."})})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Accordion"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Expandable content sections."}),u.jsxs("div",{className:"bg-surface2 rounded-ds-md overflow-hidden",children:[u.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-text flex justify-between items-center cursor-pointer",onClick:()=>c(!o),children:[u.jsx("span",{children:"Click to expand"}),u.jsx("span",{children:o?"":"+"})]}),o&&u.jsx("div",{className:"px-3 py-2 text-xs text-muted border-t border-line",children:"Hidden content revealed!"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Search Input"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"With autocomplete dropdown."}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",className:"input pr-8",placeholder:"Search entities...",value:m,onChange:x=>g(x.target.value)}),u.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted",children:""})]}),m&&u.jsxs("div",{className:"mt-1 bg-surface2 rounded-ds-md p-1 shadow-lg",children:[u.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.solar_power"}),u.jsx("div",{className:"px-3 py-2 text-xs text-text hover:bg-accent/10 rounded cursor-pointer",children:"sensor.battery_soc"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Date Picker"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Calendar date selection."}),u.jsxs("div",{className:"bg-surface2 rounded-ds-md p-2 w-48",children:[u.jsx("div",{className:"text-xs font-medium text-text text-center mb-2",children:"December 2024"}),u.jsxs("div",{className:"grid grid-cols-7 gap-1 text-[10px] text-center",children:[["M","T","W","T","F","S","S"].map((x,b)=>u.jsx("div",{className:"text-muted",children:x},b)),[...Array(31)].map((x,b)=>u.jsx("div",{className:`py-1 rounded cursor-pointer ${b===30?"bg-accent text-black font-bold":"text-text hover:bg-accent/20"}`,children:b+1},b))]})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Toast Notification"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Temporary status messages."}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{className:"btn btn-secondary w-full text-xs",onClick:()=>t({variant:"success",message:"Success!",description:"Action completed successfully."}),children:"Trigger Success Toast"}),u.jsx("button",{className:"btn btn-ghost w-full text-xs border border-bad/50 text-bad hover:bg-bad/10",onClick:()=>t({variant:"error",message:"Error!",description:"Something went wrong."}),children:"Trigger Error Toast"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Breadcrumbs"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Navigation path trail."}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Home"}),u.jsx("span",{className:"text-muted",children:"/"}),u.jsx("span",{className:"text-accent hover:underline cursor-pointer",children:"Settings"}),u.jsx("span",{className:"text-muted",children:"/"}),u.jsx("span",{className:"text-text font-medium",children:"Entities"})]})]}),u.jsxs("div",{className:"bg-surface rounded-ds-lg p-4 shadow-float col-span-full lg:col-span-2",children:[u.jsx("h4",{className:"text-sm font-semibold text-text mb-2",children:" Timeline / Activity Log"}),u.jsx("p",{className:"text-xs text-muted mb-3",children:"Chronological event display."}),u.jsx("div",{className:"space-y-3",children:[{time:"14:32",event:"Battery charging started",color:"good"},{time:"14:15",event:"Solar production peaked at 4.2kW",color:"accent"},{time:"13:45",event:"Grid export enabled",color:"water"}].map((x,b)=>u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 bg-${x.color}`}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-mono text-muted",children:x.time}),u.jsx("div",{className:"text-xs text-text",children:x.event})]})]},b))})]})]})]}),d&&u.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:u.jsxs("div",{className:"modal",onClick:x=>x.stopPropagation(),children:[u.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Modal Title"}),u.jsx("p",{className:"text-sm text-muted mb-4",children:"This is a sample modal dialog. It uses the design system's modal classes."}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{className:"btn btn-ghost",onClick:()=>f(!1),children:"Cancel"}),u.jsx("button",{className:"btn btn-primary",onClick:()=>f(!1),children:"Confirm"})]})]})}),u.jsxs("footer",{className:"text-center text-muted text-sm pt-8 border-t border-line",children:[u.jsxs("p",{children:["SSOT: ",u.jsx("code",{className:"bg-surface2 px-2 py-1 rounded text-xs",children:"frontend/src/index.css"})]}),u.jsx("p",{className:"mt-2",children:"Toggle dark/light mode using the switch in the header."})]})]})}function k7({health:t,onDismiss:e}){if(!t||t.healthy)return null;const s=t.issues.filter(a=>a.severity==="critical"),n=t.issues.filter(a=>a.severity==="warning");return u.jsxs("div",{className:"system-alert-container",children:[s.length>0&&u.jsxs("div",{className:"system-alert system-alert--critical",children:[u.jsx("div",{className:"system-alert__icon",children:""}),u.jsxs("div",{className:"system-alert__content",children:[u.jsxs("div",{className:"system-alert__title",children:["System Error",s.length>1?"s":""," Detected"]}),u.jsx("ul",{className:"system-alert__list",children:s.map((a,o)=>u.jsxs("li",{className:"system-alert__item",children:[u.jsx("strong",{children:a.message}),a.entity_id&&u.jsx("code",{className:"system-alert__entity",children:a.entity_id}),u.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]}),e&&u.jsx("button",{className:"system-alert__dismiss",onClick:e,title:"Dismiss (will reappear on next check)",children:""})]}),n.length>0&&u.jsxs("div",{className:"system-alert system-alert--warning",children:[u.jsx("div",{className:"system-alert__icon",children:""}),u.jsxs("div",{className:"system-alert__content",children:[u.jsxs("div",{className:"system-alert__title",children:["Warning",n.length>1?"s":""]}),u.jsx("ul",{className:"system-alert__list",children:n.map((a,o)=>u.jsxs("li",{className:"system-alert__item",children:[u.jsx("strong",{children:a.message}),u.jsx("div",{className:"system-alert__guidance",children:a.guidance})]},o))})]})]})]})}function M7({children:t}){const[e,s]=N.useState([]),n=N.useCallback(o=>{s(c=>c.filter(d=>d.id!==o))},[]),a=N.useCallback(({message:o,description:c,variant:d})=>{const f=Math.random().toString(36).substring(2,9);s(m=>[...m,{id:f,message:o,description:c,variant:d}]),setTimeout(()=>{n(f)},5e3)},[n]);return u.jsxs(hk.Provider,{value:{toast:a,dismiss:n},children:[t,Gw.createPortal(u.jsx("div",{className:"fixed bottom-0 right-0 z-[100] p-6 space-y-4 max-w-sm w-full pointer-events-none",children:e.map(o=>u.jsxs("div",{className:`
                                pointer-events-auto
                                flex gap-3 p-4 rounded-ds-lg shadow-2xl border
                                animate-in slide-in-from-right-full duration-300
                                ${T7(o.variant)}
                            `,children:[u.jsx("div",{className:"shrink-0 mt-0.5",children:D7(o.variant)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-semibold text-sm",children:o.message}),o.description&&u.jsx("div",{className:"text-xs opacity-90 mt-1",children:o.description})]}),u.jsx("button",{onClick:()=>n(o.id),className:"shrink-0 -mt-1 -mr-1 p-1 rounded hover:bg-black/10 transition-colors",children:u.jsx(Lo,{className:"h-4 w-4"})})]},o.id))}),document.body)]})}function T7(t){switch(t){case"success":return"bg-surface2 border-good text-text";case"error":return"bg-bad text-white border-bad";case"warning":return"bg-warn text-black border-warn";case"info":return"bg-surface2 border-line text-text";default:return""}}function D7(t){switch(t){case"success":return u.jsx(cS,{className:"h-5 w-5 text-good"});case"error":return u.jsx(HD,{className:"h-5 w-5 text-white"});case"warning":return u.jsx(rc,{className:"h-5 w-5 text-black"});case"info":return u.jsx(ng,{className:"h-5 w-5 text-accent"});default:return null}}function C7(){const[t,e]=N.useState(!1),[s,n]=N.useState(null);return N.useEffect(()=>{let a=!1,o=0;const c=async()=>{try{const[,f]=await Promise.all([he.status(),he.health()]);if(a)return;o=0,e(!1),n(f)}catch{if(a)return;o+=1,o>=3&&(e(!0),n(null))}};c();const d=window.setInterval(c,6e4);return()=>{a=!0,window.clearInterval(d)}},[]),u.jsx(tC,{children:u.jsx(M7,{children:u.jsxs(AD,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[u.jsx(eC,{}),u.jsxs("div",{className:"lg:pl-[96px]",children:[s&&!s.healthy&&u.jsx(k7,{health:s}),t&&!s&&u.jsx("div",{className:"bg-amber-900/80 border-b border-amber-500/60 text-amber-100 text-[11px] px-4 py-2 flex items-center justify-between",children:u.jsx("span",{children:"Backend appears offline or degraded. Some data may be stale or unavailable."})}),u.jsxs(SD,{children:[u.jsx(rr,{path:"/",element:u.jsx(Wz,{})}),u.jsx(rr,{path:"/executor",element:u.jsx(j7,{})}),u.jsx(rr,{path:"/aurora",element:u.jsx(S7,{})}),u.jsx(rr,{path:"/debug",element:u.jsx(Iz,{})}),u.jsx(rr,{path:"/settings",element:u.jsx(uP,{})}),u.jsx(rr,{path:"/design-system",element:u.jsx(N7,{})})]})]})]})})})}E5.createRoot(document.getElementById("root")).render(u.jsx(Iw.StrictMode,{children:u.jsx(C7,{})}))});export default A7();
